!function(t){"use strict";var e=t.Ractive,n=function(){var t={el:void 0,append:!1,template:{v:1,t:[]},"yield":null,preserveWhitespace:!1,sanitize:!1,stripComments:!0,data:{},computed:{},magic:!1,modifyArrays:!0,adapt:[],isolated:!1,twoway:!0,lazy:!1,noIntro:!1,transitionsEnabled:!0,complete:void 0,noCssTransform:!1,debug:!1};return t}(),r={linear:function(t){return t},easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return Math.pow(t-1,3)+1},easeInOut:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)}},i=[],o=Object.prototype.hasOwnProperty,a=function(){var t=Object.prototype.toString;return function(e){return"[object Array]"===t.call(e)}}(),s=function(){var t=Object.prototype.toString;return function(e){return e&&"[object Object]"===t.call(e)}}(),u=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},c=function(t,e,n,r,i){var o,a,s;return t.push(function(){a=t.interpolate}),s=/^([+-]?[0-9]+\.?(?:[0-9]+)?)(px|em|ex|%|in|cm|mm|pt|pc)$/,o={number:function(t,e){var n;return i(t)&&i(e)?(t=+t,e=+e,n=e-t,n?function(e){return t+e*n}:function(){return t}):null},array:function(t,e){var r,i,o,s;if(!n(t)||!n(e))return null;for(r=[],i=[],s=o=Math.min(t.length,e.length);s--;)i[s]=a(t[s],e[s]);for(s=o;s<t.length;s+=1)r[s]=t[s];for(s=o;s<e.length;s+=1)r[s]=e[s];return function(t){for(var e=o;e--;)r[e]=i[e](t);return r}},object:function(t,n){var i,o,s,u,c;if(!r(t)||!r(n))return null;i=[],u={},s={};for(c in t)e.call(t,c)&&(e.call(n,c)?(i.push(c),s[c]=a(t[c],n[c])):u[c]=t[c]);for(c in n)e.call(n,c)&&!e.call(t,c)&&(u[c]=n[c]);return o=i.length,function(t){for(var e,n=o;n--;)e=i[n],u[e]=s[e](t);return u}}}}(i,o,a,s,u),h=function(){var t;return t="undefined"==typeof document?!1:document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}(),l=function(){function t(t){var e,r,i,o,a,s="";if(!n[t]){for(i=[];s.length<t;)s+=1;for(e=parseInt(s,2),o=function(t){return"1"===t},a=0;e>=a;a+=1){for(r=a.toString(2);r.length<t;)r="0"+r;i[a]=Array.prototype.map.call(r,o)}n[t]=i}return n[t]}var e,n={};return e=function(e){var r,i,o,a,s,u;for(r=e.split("."),(i=n[r.length])||(i=t(r.length)),s=[],o=function(t,e){return t?"*":r[e]},a=i.length;a--;)u=i[a].map(o).join("."),s[u]||(s.push(u),s[u]=!0);return s}}(),f=function(t){function e(r,i,o,a){var s=arguments[4];void 0===s&&(s=!1);var u,c,h=!0;for(c=i.length;c>=0;c--)u=r._subs[i[c]],u&&(h=n(r,u,o,a)&&h);if(r._parent&&h){if(s&&r.component){var l=r.component.name+"."+i[i.length-1];i=t(l),o&&(o.component=r)}e(r._parent,i,o,a)}}function n(t,e,n,r){var i=null,o=!1;n&&(r=[n].concat(r));for(var a=0,s=e.length;s>a;a+=1)e[a].apply(t,r)===!1&&(o=!0);return n&&o&&(i=n.original)&&(i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation()),!o}var r;return r=function(n,r){var i=arguments[2];if(void 0===i&&(i={}),r){var o=t(r);e(n,o,i.event,i.args,!0)}}}(l),d=function(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)},p=function(){function t(t){setTimeout(t,0)}function e(t,e){return function(){for(var n;n=t.shift();)n(e)}}function n(t,e,r,o){var a;if(e===t)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(e instanceof i)e.then(r,o);else if(!e||"object"!=typeof e&&"function"!=typeof e)r(e);else{try{a=e.then}catch(s){return void o(s)}if("function"==typeof a){var u,c,h;c=function(e){u||(u=!0,n(t,e,r,o))},h=function(t){u||(u=!0,o(t))};try{a.call(e,c,h)}catch(s){if(!u)return o(s),void(u=!0)}}else r(e)}}var r,i,o={},a={},s={};return"function"==typeof p?i=p:(i=function(r){var u,c,h,l,f,d,p=[],v=[],m=o;h=function(n){return function(r){m===o&&(u=r,m=n,c=e(m===a?p:v,u),t(c))}},l=h(a),f=h(s);try{r(l,f)}catch(g){f(g)}return d={then:function(e,r){var a=new i(function(i,s){var u=function(t,e,r){e.push("function"==typeof t?function(e){var r;try{r=t(e),n(a,r,i,s)}catch(o){s(o)}}:r)};u(e,p,i),u(r,v,s),m!==o&&t(c)});return a}},d["catch"]=function(t){return this.then(null,t)},d},i.all=function(t){return new i(function(e,n){var r,i,o,a=[];if(!t.length)return void e(a);for(o=function(i){t[i].then(function(t){a[i]=t,--r||e(a)},n)},r=i=t.length;i--;)o(i)})},i.resolve=function(t){return new i(function(e){e(t)})},i.reject=function(t){return new i(function(e,n){n(t)})}),r=i}(),v=function(){var t=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g;return function(e){return(e||"").replace(t,".$1")}}(),m=function(t){do if(void 0!==t.context)return t.context;while(t=t.parent);return""},g=function(t,e){return null===t&&null===e?!0:"object"==typeof t||"object"==typeof e?!1:t===e},y=function(t,e,n){var r;t.push(function(){return r=t.runloop});var i=function(t,e,n,r,i){this.root=t,this.keypath=e,this.priority=i,this.otherInstance=n,this.otherKeypath=r,this.bind(),this.value=this.root.viewmodel.get(this.keypath)};return i.prototype={setValue:function(t){var i=this;return this.updating||this.counterpart&&this.counterpart.updating?void(this.value=t):void(e(t)&&t._ractive&&t._ractive.setting||n(t,this.value)||(this.updating=!0,r.addViewmodel(this.otherInstance.viewmodel),this.otherInstance.viewmodel.set(this.otherKeypath,t),this.value=t,r.scheduleTask(function(){return i.updating=!1})))},bind:function(){this.root.viewmodel.register(this.keypath,this)},rebind:function(t){this.unbind(),this.keypath=t,this.counterpart.otherKeypath=t,this.bind()},unbind:function(){this.root.viewmodel.unregister(this.keypath,this)}},function(t,e,n,r){var o,a,s,u,c,h;o=n+"="+r,s=t.bindings,s[o]||(a=t.instance,u=t.parentFragment.priority,c=new i(e,n,a,r,u),s.push(c),a.twoway&&(h=new i(a,r,e,n,1),s.push(h),c.counterpart=h,h.counterpart=c),s[o]=c)}}(i,a,g),b=function(t,e,n){function r(t,e){var n;if("."===e)return t;if(n=t?t.split("."):[],"../"===e.substr(0,3)){for(;"../"===e.substr(0,3);){if(!n.length)throw new Error(o);n.pop(),e=e.substring(3)}return n.push(e),n.join(".")}return t?t+e.replace(/^\.\//,"."):e.replace(/^\.\/?/,"")}var i,o,a;return o='Could not resolve reference - too many "../" prefixes',a={evaluateWrapped:!0},i=function s(i,o,u){var c,h,l,f,d,p,v,m,g,y;if(o=t(o),"~/"===o.substr(0,2))return o.substring(2);if("."===o.charAt(0))return r(e(u),o);h=o.split(".")[0];do if(c=u.context,c&&(p=!0,d=i.viewmodel.get(c,a),d&&("object"==typeof d||"function"==typeof d)&&h in d))return c+"."+o;while(u=u.parent);if(h in i.data||h in i.viewmodel.computations)return o;if(i._parent&&!i.isolated){if(u=i.component.parentFragment,u.indexRefs&&void 0!==(l=u.indexRefs[o]))return i.component.indexRefBindings[o]=o,void i.viewmodel.set(o,l,!0);if(f=s(i._parent,o,u)){for(v=f.split("."),m=o.split(".");v.length>1&&m.length>1&&v[v.length-1]===m[m.length-1];)v.pop(),m.pop();return g=v.join("."),y=m.join("."),i.viewmodel.set(y,i._parent.viewmodel.get(g),!0),n(i.component,i._parent,g,y),o}}return p?void 0!==i.viewmodel.get(o)?o:void 0:o}}(v,m,y),w=function(t){function e(t){t.detach()}function n(t){t.detachNodes()}function r(t){!t.ready||t.outros.length||t.outroChildren||(t.outrosComplete||(t.parent?t.parent.decrementOutros(t):t.detachNodes(),t.outrosComplete=!0),t.intros.length||t.totalChildren||("function"==typeof t.callback&&t.callback(),t.parent&&t.parent.decrementTotal()))}var i=function(t,e){this.callback=t,this.parent=e,this.intros=[],this.outros=[],this.children=[],this.totalChildren=this.outroChildren=0,this.detachQueue=[],this.outrosComplete=!1,e&&e.addChild(this)};return i.prototype={addChild:function(t){this.children.push(t),this.totalChildren+=1,this.outroChildren+=1},decrementOutros:function(){this.outroChildren-=1,r(this)},decrementTotal:function(){this.totalChildren-=1,r(this)},add:function(t){var e=t.isIntro?this.intros:this.outros;e.push(t)},remove:function(e){var n=e.isIntro?this.intros:this.outros;t(n,e),r(this)},init:function(){this.ready=!0,r(this)},detachNodes:function(){this.detachQueue.forEach(e),this.children.forEach(n)}},i}(d),E=function(t,e,n,r,i,o){function a(){var t,n,r;for(t=0;t<h.viewmodels.length;t+=1)n=h.viewmodels[t],r=n.applyChanges(),r&&e(n.ractive,"change",{args:[r]});for(h.viewmodels.length=0,s(),t=0;t<h.views.length;t+=1)h.views[t].update();for(h.views.length=0,t=0;t<h.tasks.length;t+=1)h.tasks[t]();return h.tasks.length=0,h.viewmodels.length?a():void 0}function s(){var t,e,n,r;for(t=f.length;t--;)e=f[t],e.keypath&&f.splice(t,1),(n=i(e.root,e.ref,e.parentFragment))&&((r||(r=[])).push({item:e,keypath:n}),f.splice(t,1));r&&r.forEach(u)}function u(t){t.item.resolve(t.keypath)}var c,h,l,f=[];return l={start:function(t,e){var n,i;return e&&(n=new r(function(t){return i=t})),h={previousBatch:h,transitionManager:new o(i,h&&h.transitionManager),views:[],tasks:[],viewmodels:[]},t&&h.viewmodels.push(t.viewmodel),n},end:function(){a(),h.transitionManager.init(),h=h.previousBatch},addViewmodel:function(t){h?-1===h.viewmodels.indexOf(t)&&h.viewmodels.push(t):t.applyChanges()},registerTransition:function(t){t._manager=h.transitionManager,h.transitionManager.add(t)},addView:function(t){h.views.push(t)},addUnresolved:function(t){f.push(t)},removeUnresolved:function(t){n(f,t)},detachWhenReady:function(t){h.transitionManager.detachQueue.push(t)},scheduleTask:function(t){h?h.tasks.push(t):t()}},t.runloop=l,c=l}(i,f,d,p,b,w),x=function(){var t=/^\s*[0-9]+\s*$/;return function(e){return t.test(e)?[]:{}}}(),_=function(t,e,n){function r(e,n,r){function i(e){var r,i;e.value=n,e.updating||(i=e.ractive,r=e.keypath,e.updating=!0,t.start(i),i.viewmodel.mark(r),t.end(),e.updating=!1)}var o,a,s,u,c,h;if(o=e.obj,a=e.prop,r&&!r.configurable){if("length"===a)return;throw new Error('Cannot use magic mode with property "'+a+'" - object is not configurable')}r&&(s=r.get,u=r.set),c=s||function(){return n},h=function(t){u&&u(t),n=s?s():t,h._ractiveWrappers.forEach(i)},h._ractiveWrappers=[e],Object.defineProperty(o,a,{get:c,set:h,enumerable:!0,configurable:!0})}var i,o,a;try{Object.defineProperty({},"test",{value:0}),o={filter:function(t,e,r){var i,o,a,s,u;return e?(i=e.split("."),o=i.pop(),a=i.join("."),(s=r.viewmodel.wrapped[a])&&!s.magic?!1:(u=r.get(a),n(u)&&/^[0-9]+$/.test(o)?!1:u&&("object"==typeof u||"function"==typeof u))):!1},wrap:function(t,e,n){return new a(t,e,n)}},a=function(t,e,n){var i,o,a,s;return this.magic=!0,this.ractive=t,this.keypath=n,this.value=e,i=n.split("."),this.prop=i.pop(),o=i.join("."),this.obj=o?t.get(o):t.data,a=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),a&&a.set&&(s=a.set._ractiveWrappers)?void(-1===s.indexOf(this)&&s.push(this)):void r(this,e,a)},a.prototype={get:function(){return this.value},reset:function(e){this.updating||(this.updating=!0,this.obj[this.prop]=e,t.addViewmodel(this.ractive.viewmodel),this.ractive.viewmodel.mark(this.keypath),this.updating=!1)},set:function(t,n){this.updating||(this.obj[this.prop]||(this.updating=!0,this.obj[this.prop]=e(t),this.updating=!1),this.obj[this.prop][t]=n)},teardown:function(){var t,e,n,r,i;return this.updating?!1:(t=Object.getOwnPropertyDescriptor(this.obj,this.prop),e=t&&t.set,void(e&&(r=e._ractiveWrappers,i=r.indexOf(this),-1!==i&&r.splice(i,1),r.length||(n=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configurable:!0}),this.obj[this.prop]=n))))}}}catch(s){o=!1}return i=o}(E,x,a),k=function(t){return!!t}(_),A={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},T=function(t,e){var n;return n=t?function(t,n){return n&&n!==e.html?document.createElementNS(n,t):document.createElement(t)}:function(t,n){if(n&&n!==e.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return document.createElement(t)}}(h,A),O=function(){var t="object"==typeof document;return t}(),C=function(t){var e;try{Object.defineProperty({},"test",{value:0}),t&&Object.defineProperty(document.createElement("div"),"test",{value:0}),e=Object.defineProperty}catch(n){e=function(t,e,n){t[e]=n.value}}return e}(O),N=function(t,e,n){var r;try{try{Object.defineProperties({},{test:{value:0}})}catch(i){throw i}n&&Object.defineProperties(t("div"),{test:{value:0}}),r=Object.defineProperties}catch(i){r=function(t,n){var r;for(r in n)n.hasOwnProperty(r)&&e(t,r,n[r])}}return r}(T,C,O),R=function(t){return function(e,n,r){var i;if("string"!=typeof n||!t(r))throw new Error("Bad arguments");if(i=+e.get(n)||0,!t(i))throw new Error("Cannot add to a non-numeric value");return e.set(n,i+r)}}(u),S=function(t){return function(e,n){return t(this,e,void 0===n?1:+n)}}(R),I=function(t){var e=/^\.+/;return function(n){return t(n).replace(e,"")}}(v),L=["o","ms","moz","webkit"],P=function(t){var e;return"undefined"==typeof window?e=null:(!function(t,e,n){var r,i;if(!n.requestAnimationFrame){for(r=0;r<t.length&&!n.requestAnimationFrame;++r)n.requestAnimationFrame=n[t[r]+"RequestAnimationFrame"];n.requestAnimationFrame||(i=n.setTimeout,n.requestAnimationFrame=function(t){var n,r,o;return n=Date.now(),r=Math.max(0,16-(n-e)),o=i(function(){t(n+r)},r),e=n+r,o})}}(t,0,window),e=window.requestAnimationFrame),e}(L),F=function(){var t;return t="undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?function(){return window.performance.now()}:function(){return Date.now()}}(),M=function(t,e,n){var r=[],i={tick:function(){var o,a,s;for(s=e(),n.start(),o=0;o<r.length;o+=1)a=r[o],a.tick(s)||r.splice(o--,1);n.end(),r.length?t(i.tick):i.running=!1},add:function(e){r.push(e),i.running||(i.running=!0,t(i.tick))},abort:function(t,e){for(var n,i=r.length;i--;)n=r[i],n.root===e&&n.keypath===t&&n.stop()}};return i}(P,F,E),j=function(){var t,e={};return t="undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply?function(t,n){if(!n){if(e[t])return;e[t]=!0}console.warn(t)}:function(){}}(),V=function(){function t(t){return t.trim?t.trim():t.replace(/^\s+/,"").replace(/\s+$/,"")}function e(t){return t.str}var n,r=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,i=/\/\*.*?\*\//g,o=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~]+)?\s*[\s\+\>\~]?)\s*/g,a=/^@media/,s=/\[data-rvcguid="[a-z0-9-]+"]/g;return n=function(n,u){var c,h;return h=function(t){var n,r,i,a,s,c,h,l,f=[];for(n=[];r=o.exec(t);)n.push({str:r[0],base:r[1],modifiers:r[2]});for(a='[data-rvcguid="'+u+'"]',s=n.map(e),l=n.length;l--;)h=s.slice(),i=n[l],h[l]=i.base+a+i.modifiers||"",c=s.slice(),c[l]=a+" "+c[l],f.push(h.join(" "),c.join(" "));return f.join(", ")},c=s.test(n)?n.replace(s,'[data-rvcguid="'+u+'"]'):n.replace(i,"").replace(r,function(e,n){var r,i;return a.test(n)?e:(r=n.split(",").map(t),i=r.map(h).join(", ")+" ",e.replace(n,i))})}}(),D=function(t){function e(t,e,r){var i,o=e.constructor._guid;(i=n(r.css,r,o)||n(t.css,t,o))&&(e.constructor.css=i)}function n(e,n,r){return e?n.noCssTransform?e:t(e,r):void 0}var r={name:"css",extend:e,init:function(){}};return r}(V),U=function(){function t(t,e){return"function"==typeof e&&/_super/.test(t)}var e;return e=function(e,n,r){return r||t(e,n)?function(){var t,r="_super"in this,i=this._super;return this._super=n,t=e.apply(this,arguments),r&&(this._super=i),t}:e}}(),W=function(t){function e(t,e,n){var r=n.data||{},i=o(t.prototype.data);return a(i,r)}function n(t,n,r){n.data=e(t,n,r)}function r(t,n,r){var i=r.data,o=e(t,n,r);return"function"==typeof o&&(o=o.call(n,i)||i),n.data=o||{}}function i(t){var e=this.init(t.constructor,t,t);return e?(t.data=e,!0):void 0}function o(t){if("function"!=typeof t||!Object.keys(t).length)return t;var e={};return s(t,e),a(t,e)}function a(t,e){return"function"==typeof e?h(e,t):"function"==typeof t?c(e,t):u(e,t)}function s(t,e,n){for(var r in t)n&&r in e||(e[r]=t[r])}function u(t,e){return t=t||{},e?(s(e,t,!0),t):t}function c(t,e){return function(n){var r;if(t){r=[];for(var i in t)n&&i in n||r.push(i)}return n=e.call(this,n)||n,r&&r.length&&(n=n||{},r.forEach(function(e){n[e]=t[e]})),n}}function h(e,n){var r;return r="function"!=typeof n?function(t){u(t,n)}:function(e){return n=t(n,function(){},!0),n.call(this,e)||e},t(e,r)}var l,f={name:"data",extend:n,init:r,reset:i};return l=f}(U),B={missingParser:"Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser",mergeComparisonFail:"Merge operation: comparison failed. Falling back to identity checking",noComponentEventArguments:"Components currently only support simple events - you cannot include arguments. Sorry!",noTemplateForPartial:'Could not find template for partial "{name}"',noNestedPartials:"Partials ({{>{name}}}) cannot contain nested inline partials",evaluationError:'Error evaluating "{uniqueString}": {err}',badArguments:"Bad arguments \"{arguments}\". I'm not allowed to argue unless you've paid.",failedComputation:'Failed to compute "{key}": {err}',missingPlugin:'Missing "{name}" {plugin} plugin. You may need to download a {plugin} via http://docs.ractivejs.org/latest/plugins#{plugin}s',badRadioInputBinding:"A radio input can have two-way binding on its name attribute, or its checked attribute - not both",noRegistryFunctionReturn:'A function was specified for "{name}" {registry}, but no {registry} was returned',defaultElSpecified:"The <{name}/> component has a default `el` property; it has been disregarded",noElementProxyEventWildcards:'Only component proxy-events may contain "*" wildcards, <{element} on-{event}/> is not valid.'},$={TEXT:1,INTERPOLATOR:2,TRIPLE:3,SECTION:4,INVERTED:5,CLOSING:6,ELEMENT:7,PARTIAL:8,COMMENT:9,DELIMCHANGE:10,MUSTACHE:11,TAG:12,ATTRIBUTE:13,CLOSING_TAG:14,COMPONENT:15,NUMBER_LITERAL:20,STRING_LITERAL:21,ARRAY_LITERAL:22,OBJECT_LITERAL:23,BOOLEAN_LITERAL:24,GLOBAL:26,KEY_VALUE_PAIR:27,REFERENCE:30,REFINEMENT:31,MEMBER:32,PREFIX_OPERATOR:33,BRACKETED:34,CONDITIONAL:35,INFIX_OPERATOR:36,INVOCATION:40,SECTION_IF:50,SECTION_UNLESS:51,SECTION_EACH:52,SECTION_WITH:53},z=function(){var t;try{Object.create(null),t=Object.create}catch(e){t=function(){var t=function(){};return function(e,n){var r;return null===e?{}:(t.prototype=e,r=new t,n&&Object.defineProperties(r,n),r)}}()}return t}(),q={expectedExpression:"Expected a JavaScript expression",expectedParen:"Expected closing paren"},H=function(t){var e=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/;return function(n){var r;return(r=n.matchPattern(e))?{t:t.NUMBER_LITERAL,v:r}:null}}($),G=function(t){return function(e){var n=e.remaining();return"true"===n.substr(0,4)?(e.pos+=4,{t:t.BOOLEAN_LITERAL,v:"true"}):"false"===n.substr(0,5)?(e.pos+=5,{t:t.BOOLEAN_LITERAL,v:"false"}):null}}($),Z=function(){var t,e,n;return t=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/,e=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/,n=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/,function(r){return function(i){var o,a,s,u;for(o=i.pos,a='"',s=!1;!s;)u=i.matchPattern(t)||i.matchPattern(e)||i.matchString(r),u?a+='"'===u?'\\"':"\\'"===u?"'":u:(u=i.matchPattern(n),u?a+="\\u"+("000"+u.charCodeAt(1).toString(16)).slice(-4):s=!0);return a+='"',JSON.parse(a)}}}(),K=function(t){return t('"')}(Z),Q=function(t){return t("'")}(Z),Y=function(t,e,n){return function(r){var i,o;return i=r.pos,r.matchString('"')?(o=n(r),r.matchString('"')?{t:t.STRING_LITERAL,v:o}:(r.pos=i,null)):r.matchString("'")?(o=e(r),r.matchString("'")?{t:t.STRING_LITERAL,v:o}:(r.pos=i,null)):null}}($,K,Q),J={name:/^[a-zA-Z_$][a-zA-Z_$0-9]*/},X=function(t,e,n){var r=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;return function(i){var o;return(o=t(i))?r.test(o.v)?o.v:'"'+o.v.replace(/"/g,'\\"')+'"':(o=e(i))?o.v:(o=i.matchPattern(n.name))?o:void 0}}(Y,H,J),te=function(t,e){return function(n){var r,i,o;return r=n.pos,n.allowWhitespace(),i=e(n),null===i?(n.pos=r,null):(n.allowWhitespace(),n.matchString(":")?(n.allowWhitespace(),o=n.readExpression(),null===o?(n.pos=r,null):{t:t.KEY_VALUE_PAIR,k:i,v:o}):(n.pos=r,null))}}($,X),ee=function(t){return function e(n){var r,i,o,a;return r=n.pos,o=t(n),null===o?null:(i=[o],n.matchString(",")?(a=e(n),a?i.concat(a):(n.pos=r,null)):i)}}(te),ne=function(t,e){return function(n){var r,i;return r=n.pos,n.allowWhitespace(),n.matchString("{")?(i=e(n),n.allowWhitespace(),n.matchString("}")?{t:t.OBJECT_LITERAL,m:i}:(n.pos=r,null)):(n.pos=r,null)}}($,ee),re=function(t){return function e(n){function r(t){o.push(t)}var i,o,a,s;return i=n.pos,n.allowWhitespace(),a=n.readExpression(),null===a?null:(o=[a],n.allowWhitespace(),n.matchString(",")&&(s=e(n),null===s&&n.error(t.expectedExpression),s.forEach(r)),o)}}(q),ie=function(t,e){return function(n){var r,i;return r=n.pos,n.allowWhitespace(),n.matchString("[")?(i=e(n),n.matchString("]")?{t:t.ARRAY_LITERAL,m:i}:(n.pos=r,null)):(n.pos=r,null)}}($,re),oe=function(t,e,n,r,i){return function(o){var a=t(o)||e(o)||n(o)||r(o)||i(o);return a}}(H,G,Y,ne,ie),ae=function(t,e){var n,r,i,o,a;return n=/^\.[a-zA-Z_$0-9]+/,i=function(t){var e=t.matchPattern(r);return e?"."+e:null},r=/^\[(0|[1-9][0-9]*)\]/,o=/^(?:Array|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)$/,a=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/,function(r){var s,u,c,h,l,f,d;if(s=r.pos,r.matchString("~/"))u="~/";else for(u="";r.matchString("../");)u+="../";if(u||(h=r.matchString(".")||""),c=r.matchPattern(/^@(?:index|key)/)||r.matchPattern(e.name)||"",a.test(c))return r.pos=s,null;if(!u&&!h&&o.test(c))return{t:t.GLOBAL,v:c};if(l=(u||h)+c,!l)return null;for(;f=r.matchPattern(n)||i(r);)l+=f;return r.matchString("(")&&(d=l.lastIndexOf("."),-1!==d?(l=l.substr(0,d),r.pos=s+l.length):r.pos-=1),{t:t.REFERENCE,n:l.replace(/^this\./,"./").replace(/^this$/,".")}}}($,J),se=function(t,e){return function(n){var r,i;return r=n.pos,n.matchString("(")?(n.allowWhitespace(),i=n.readExpression(),i||n.error(e.expectedExpression),n.allowWhitespace(),n.matchString(")")||n.error(e.expectedParen),{t:t.BRACKETED,x:i}):null}}($,q),ue=function(t,e,n){return function(r){return t(r)||e(r)||n(r)}}(oe,ae,se),ce=function(t,e,n){return function(r){var i,o,a;if(i=r.pos,r.allowWhitespace(),r.matchString(".")){if(r.allowWhitespace(),o=r.matchPattern(n.name))return{t:t.REFINEMENT,n:o};r.error("Expected a property name")}return r.matchString("[")?(r.allowWhitespace(),a=r.readExpression(),a||r.error(e.expectedExpression),r.allowWhitespace(),r.matchString("]")||r.error("Expected ']'"),{t:t.REFINEMENT,x:a}):null}}($,q,J),he=function(t,e,n,r,i){return function(o){var a,s,u,c;if(s=e(o),!s)return null;for(;s;)if(a=o.pos,u=r(o))s={t:t.MEMBER,x:s,r:u};else{if(!o.matchString("("))break;o.allowWhitespace(),c=n(o),o.allowWhitespace(),o.matchString(")")||o.error(i.expectedParen),s={t:t.INVOCATION,x:s},c&&(s.o=c)}return s}}($,ue,re,ce,q),le=function(t,e,n){var r,i;return i=function(n,r){return function(i){var o;return(o=r(i))?o:i.matchString(n)?(i.allowWhitespace(),o=i.readExpression(),o||i.error(e.expectedExpression),{s:n,o:o,t:t.PREFIX_OPERATOR}):null}},function(){var t,e,o,a,s;for(a="! ~ + - typeof".split(" "),s=n,t=0,e=a.length;e>t;t+=1)o=i(a[t],s),s=o;r=s}(),r}($,q,he),fe=function(t,e){var n,r;return r=function(e,n){return function(r){var i,o,a;if(o=n(r),!o)return null;for(;;){if(i=r.pos,r.allowWhitespace(),!r.matchString(e))return r.pos=i,o;if("in"===e&&/[a-zA-Z_$0-9]/.test(r.remaining().charAt(0)))return r.pos=i,o;if(r.allowWhitespace(),a=n(r),!a)return r.pos=i,o;o={t:t.INFIX_OPERATOR,s:e,o:[o,a]}}}},function(){var t,i,o,a,s;for(a="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),s=e,t=0,i=a.length;i>t;t+=1)o=r(a[t],s),s=o;n=s}(),n}($,le),de=function(t,e,n){return function(r){var i,o,a,s;return(o=e(r))?(i=r.pos,r.allowWhitespace(),r.matchString("?")?(r.allowWhitespace(),a=r.readExpression(),a||r.error(n.expectedExpression),r.allowWhitespace(),r.matchString(":")||r.error('Expected ":"'),r.allowWhitespace(),s=r.readExpression(),s||r.error(n.expectedExpression),{t:t.CONDITIONAL,o:[o,a,s]}):(r.pos=i,o)):null}}($,fe,q),pe=function(t,e){function n(t){return JSON.stringify(String(t))}function r(n,i){var o,a;if(n.t===t.REFERENCE&&-1===i.indexOf(n.n)&&i.unshift(n.n),a=n.o||n.m)if(e(a))r(a,i);else for(o=a.length;o--;)r(a[o],i);n.x&&r(n.x,i),n.r&&r(n.r,i),n.v&&r(n.v,i)}function i(e,r,o){var a=function(t){return i(e,t,o)};switch(r.t){case t.BOOLEAN_LITERAL:case t.GLOBAL:case t.NUMBER_LITERAL:return r.v;case t.STRING_LITERAL:return n(r.v);case t.ARRAY_LITERAL:return"["+(r.m?r.m.map(a).join(","):"")+"]";case t.OBJECT_LITERAL:return"{"+(r.m?r.m.map(a).join(","):"")+"}";case t.KEY_VALUE_PAIR:return r.k+":"+i(e,r.v,o);case t.PREFIX_OPERATOR:return("typeof"===r.s?"typeof ":r.s)+i(e,r.o,o);case t.INFIX_OPERATOR:return i(e,r.o[0],o)+("in"===r.s.substr(0,2)?" "+r.s+" ":r.s)+i(e,r.o[1],o);case t.INVOCATION:return i(e,r.x,o)+"("+(r.o?r.o.map(a).join(","):"")+")";case t.BRACKETED:return"("+i(e,r.x,o)+")";case t.MEMBER:return i(e,r.x,o)+i(e,r.r,o);case t.REFINEMENT:return r.n?"."+r.n:"["+i(e,r.x,o)+"]";case t.CONDITIONAL:return i(e,r.o[0],o)+"?"+i(e,r.o[1],o)+":"+i(e,r.o[2],o);case t.REFERENCE:return"_"+o.indexOf(r.n);default:e.error("Expected legal JavaScript")}}var o;return o=function(t){var e,n=[];return r(t,n),e={r:n,s:i(this,t,n)}}}($,s),ve=function(t,e,n,r,i){var o,a,s=/^\s+/;return a=function(t){this.name="ParseError",this.message=t;try{throw new Error(t)}catch(e){this.stack=e.stack}},a.prototype=Error.prototype,o=function(t,e){var n,r;for(this.str=t,this.options=e||{},this.pos=0,this.init&&this.init(t,e),n=[];this.pos<this.str.length&&(r=this.read());)n.push(r);this.leftover=this.remaining(),this.result=this.postProcess?this.postProcess(n,e):n},o.prototype={read:function(t){var e,n,r,i;for(t||(t=this.converters),e=this.pos,r=t.length,n=0;r>n;n+=1)if(this.pos=e,i=t[n](this))return i;return null},readExpression:function(){return r(this)},flattenExpression:i,getLinePos:function(){var t,e,n,r,i,o,a;t=this.str.split("\n"),i=0,r=0;do n=r,i++,e=t[i-1],r+=e.length+1;while(r<=this.pos);return o=this.pos-n+1,a=e+"\n"+new Array(o).join(" ")+"^----",{line:i,ch:o,text:e,annotation:a,toJSON:function(){return[i,o]},toString:function(){return"line "+i+(" character "+o)}}},error:function(t){var e,n;throw e=this.getLinePos(),n=new a(t+" at "+e+":\n"+e.annotation),n.line=e.line,n.character=e.ch,n.shortMessage=t,n},matchString:function(t){return this.str.substr(this.pos,t.length)===t?(this.pos+=t.length,t):void 0},matchPattern:function(t){var e;return(e=t.exec(this.remaining()))?(this.pos+=e[0].length,e[1]||e[0]):void 0},allowWhitespace:function(){this.matchPattern(s)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}},o.extend=function(t){var r,i,a=this;r=function(t,e){o.call(this,t,e)},r.prototype=e(a.prototype);for(i in t)n.call(t,i)&&(r.prototype[i]=t[i]);return r.extend=o.extend,r},t.Parser=o,o}(i,z,o,de,pe),me=function(){var t=/^[^\s=]+/,e=/^\s+/;return function(n){var r,i,o;return n.matchString("=")?(r=n.pos,n.allowWhitespace(),(i=n.matchPattern(t))?n.matchPattern(e)?(o=n.matchPattern(t))?(n.allowWhitespace(),n.matchString("=")?[i,o]:(n.pos=r,null)):(n.pos=r,null):null:(n.pos=r,null)):null}}(),ge=[{delimiters:"delimiters",isTriple:!1,isStatic:!1},{delimiters:"tripleDelimiters",isTriple:!0,isStatic:!1},{delimiters:"staticDelimiters",isTriple:!1,isStatic:!0},{delimiters:"staticTripleDelimiters",isTriple:!0,isStatic:!0}],ye=function(t){var e={"#":t.SECTION,"^":t.INVERTED,"/":t.CLOSING,">":t.PARTIAL,"!":t.COMMENT,"&":t.TRIPLE};return function(t){var n=e[t.str.charAt(t.pos)];return n?(t.pos+=1,n):null}}($),be=function(t){return{"if":t.SECTION_IF,unless:t.SECTION_UNLESS,"with":t.SECTION_WITH,each:t.SECTION_EACH}}($),we=null,Ee=function(t,e,n){function r(e,n){for(var r,i=[];n.t===t.MEMBER&&n.r.t===t.REFINEMENT;)r=n.r,i.unshift(r.x?r.x.t===t.REFERENCE?r.x:e.flattenExpression(r.x):r.n),n=n.x;return n.t!==t.REFERENCE?null:{r:n.n,m:i}}var i,o,a=/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,s=/^[0-9][1-9]*$/,u=new RegExp("^("+Object.keys(n).join("|")+")\\b");return o=/^[a-zA-Z$_0-9]+(?:(\.[a-zA-Z$_0-9]+)|(\[[a-zA-Z$_0-9]+\]))*$/,i=function(n,i){var c,h,l,f,d,p,v,m,g,y,b;if(c=n.pos,l={},y=n[i.delimiters],i.isStatic&&(l.s=!0),i.isTriple)l.t=t.TRIPLE;else{if("!"===n.remaining()[0]){try{p=n.readExpression(),n.allowWhitespace(),n.remaining().indexOf(y[1])?p=null:l.t=t.INTERPOLATOR}catch(w){}if(!p)return g=n.remaining().indexOf(y[1]),~g?n.pos+=g:n.error("Expected closing delimiter ('"+y[1]+"')"),{t:t.COMMENT}}if(!p)if(f=e(n),l.t=f||t.INTERPOLATOR,f===t.SECTION)(d=n.matchPattern(u))&&(l.n=d),n.allowWhitespace();else if((f===t.COMMENT||f===t.CLOSING)&&(m=n.remaining(),g=m.indexOf(y[1]),-1!==g))return l.r=m.substr(0,g).split(" ")[0],n.pos+=g,l}if(!p){n.allowWhitespace(),p=n.readExpression();var E;if(l.t===t.PARTIAL&&p.t===t.REFERENCE&&(E=n.readExpression())&&(l={contextPartialId:p.n},p=E),m=n.remaining(),m.substr(0,y[1].length)!==y[1]&&":"!==m.charAt(0)){if(h=n.pos,n.pos=c,m=n.remaining(),g=m.indexOf(y[1]),-1!==g)return l.r=m.substr(0,g).trim(),o.test(l.r)||n.error("Expected a legal Mustache reference"),n.pos+=g,l;n.pos=h}}if(p){for(;p.t===t.BRACKETED&&p.x;)p=p.x;p.t===t.REFERENCE?l.r=p.n:p.t===t.NUMBER_LITERAL&&s.test(p.v)?l.r=p.v:(b=r(n,p))?l.rx=b:l.x=n.flattenExpression(p)}return(v=n.matchPattern(a))&&(l.i=v),l}}($,ye,be,we),xe=function(t,e,n,r,i){function o(t){var e;return t.interpolate[t.inside]===!1?null:(e=n.slice().sort(function(e,n){return t[n.delimiters][0].length-t[e.delimiters][0].length}),function r(n){return n?a(t,n)||r(e.shift()):null}(e.shift()))}function a(n,o){var a,u,c,l,d,p,v,m,g,y;if(a=n.pos,u=n.getLinePos(),l=n[o.delimiters],!n.matchString(l[0]))return null;if(c=e(n))return n.matchString(l[1])?(n[o.delimiters]=c,f):null;if(n.allowWhitespace(),c=r(n,o),null===c)return n.pos=a,null;if(n.allowWhitespace(),n.matchString(l[1])||n.error("Expected closing delimiter '"+l[1]+"' after reference"),c.t===t.COMMENT&&(c.exclude=!0),c.t===t.CLOSING&&(n.sectionDepth-=1,n.sectionDepth<0&&(n.pos=a,n.error("Attempted to close a section that wasn't open"))),c.contextPartialId)c.f=[{t:t.PARTIAL,r:c.contextPartialId}],c.t=t.SECTION,c.n="with",delete c.contextPartialId;else if(h(c)){for(n.sectionDepth+=1,d=[],m=d,p=c.n;g=n.read();){if(g.t===t.CLOSING){p&&g.r!==p&&n.error("Expected {{/"+p+"}}");break}if(g.t===t.INTERPOLATOR&&"else"===g.r)switch(c.n){case"unless":n.error("{{else}} not allowed in {{#unless}}");break;case"with":n.error("{{else}} not allowed in {{#with}}");break;default:m=v=[];continue}m.push(g)}d.length&&(c.f=d,!c.i&&"each"===c.n&&(y=s(c.f))&&(c.i=y)),v&&v.length&&(c.l=v)}return n.includeLinePositions&&(c.p=u.toJSON()),c.n?c.n=i[c.n]:c.t===t.INVERTED&&(c.t=t.SECTION,c.n=t.SECTION_UNLESS),c}function s(e){var n,r,i,o;if(e)for(n=e.length;n--;){if(r=e[n],r.t===t.ELEMENT){if(i=s(r.o&&r.o.d)||s(r.t0&&r.t0.d)||s(r.t1&&r.t1.d)||s(r.t2&&r.t2.d)||s(r.f))return i;for(o in r.v)if(r.v.hasOwnProperty(o)&&r.v[o].d&&(i=s(r.v[o].d)))return i;for(o in r.a)if(r.a.hasOwnProperty(o)&&(i=s(r.a[o])))return i}if(r.t===t.INTERPOLATOR||r.t===t.TRIPLE||r.t===t.SECTION){if(r.r&&d.test(r.r))return r.r;if(r.x&&(i=u(r.x)))return i;if(r.rx&&(i=c(r.rx)))return i}}}function u(t){var e;for(e=t.r.length;e--;)if(d.test(t.r[e]))return t.r[e]}function c(e){var n,r,i;for(n=e.m.length;n--;){if(i=e.m[n],i.r&&(r=u(i)))return r;if(i.t===t.REFERENCE&&d.test(i.n))return i.n}}function h(e){return e.t===t.SECTION||e.t===t.INVERTED}var l,f={t:t.DELIMCHANGE,exclude:!0},d=/^@(?:index|key)$/;return l=o}($,me,ge,Ee,be),_e=function(t){var e="<!--",n="-->";return function(r){var i,o,a,s,u;return i=r.getLinePos(),r.matchString(e)?(a=r.remaining(),s=a.indexOf(n),-1===s&&r.error("Illegal HTML - expected closing comment sequence ('-->')"),o=a.substr(0,s),r.pos+=s+3,u={t:t.COMMENT,c:o},r.includeLinePositions&&(u.p=i.toJSON()),u):null
}}($),ke=function(){var t=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i;return t}(),Ae=function(t,e){var n,r,i;for(n=e.length;n--;){if(r=t.indexOf(e[n]),!r)return 0;-1!==r&&(!i||i>r)&&(i=r)}return i||-1},Te=function(){function t(t){return t?10===t?32:128>t?t:159>=t?r[t-128]:55296>t?t:57343>=t?65533:65535>=t?t:65533:65533}var e,n,r,i,o,a;return n={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},r=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],i=new RegExp("&("+Object.keys(n).join("|")+");?","g"),o=/&#x([0-9]+);?/g,a=/&#([0-9]+);?/g,e=function(e){var r;return r=e.replace(i,function(t,e){return n[e]?String.fromCharCode(n[e]):t}),r=r.replace(o,function(e,n){return String.fromCharCode(t(parseInt(n,16)))}),r=r.replace(a,function(e,n){return String.fromCharCode(t(n))})}}(we),Oe=function(t,e){return function(n){var r,i,o,a;return i=n.remaining(),a=n.inside?"</"+n.inside:"<",n.inside&&!n.interpolate[n.inside]?r=i.indexOf(a):(o=[a,n.delimiters[0],n.tripleDelimiters[0],n.staticDelimiters[0],n.staticTripleDelimiters[0]],n.inAttribute===!0?o.push('"',"'","=",">","`"):n.inAttribute&&o.push(n.inAttribute),r=t(i,o)),r?(-1===r&&(r=i.length),n.pos+=r,n.inside?i.substr(0,r):e(i.substr(0,r))):null}}(Ae,Te),Ce=function(t){var e=/^([a-zA-Z]{1,}:?[a-zA-Z0-9\-]*)\s*\>/;return function(n){var r;return n.matchString("</")?(r=n.matchPattern(e))?{t:t.CLOSING_TAG,e:r}:(n.pos-=2,void n.error("Illegal closing tag")):null}}($),Ne=function(t,e){function n(t){var e,n,i;return t.allowWhitespace(),(n=t.matchPattern(c))?(e={name:n},i=r(t),i&&(e.value=i),e):null}function r(t){var e,n,r,i;return e=t.pos,t.allowWhitespace(),t.matchString("=")?(t.allowWhitespace(),n=t.pos,r=t.sectionDepth,i=a(t,"'")||a(t,'"')||o(t),t.sectionDepth!==r&&(t.pos=n,t.error("An attribute value must contain as many opening section tags as closing section tags")),null===i?(t.pos=e,null):i.length?1===i.length&&"string"==typeof i[0]?i[0]:i:null):(t.pos=e,null)}function i(e){var n,r,i,o,a;return n=e.pos,(r=e.matchPattern(h))?(i=r,o=[e.delimiters[0],e.tripleDelimiters[0],e.staticDelimiters[0],e.staticTripleDelimiters[0]],-1!==(a=t(i,o))&&(r=r.substr(0,a),e.pos=n+r.length),r):null}function o(t){var n,r;for(t.inAttribute=!0,n=[],r=e(t)||i(t);null!==r;)n.push(r),r=e(t)||i(t);return n.length?(t.inAttribute=!1,n):null}function a(t,n){var r,i,o;if(r=t.pos,!t.matchString(n))return null;for(t.inAttribute=n,i=[],o=e(t)||s(t,n);null!==o;)i.push(o),o=e(t)||s(t,n);return t.matchString(n)?(t.inAttribute=!1,i):(t.pos=r,null)}function s(e,n){var r,i,o,a;return r=e.pos,o=e.remaining(),a=[n,e.delimiters[0],e.tripleDelimiters[0],e.staticDelimiters[0],e.staticTripleDelimiters[0]],i=t(o,a),-1===i&&e.error("Quoted attribute value must have a closing quote"),i?(e.pos+=i,o.substr(0,i)):null}var u,c=/^[^\s"'>\/=]+/,h=/^[^\s"'=<>`]+/;return u=n}(Ae,xe),Re=function(t,e,n){function r(t){var e,r,i;return t.allowWhitespace(),(e=n(t))?(i={key:e},t.allowWhitespace(),t.matchString(":")?(t.allowWhitespace(),(r=t.read())?(i.value=r.v,i):null):null):null}var i,o,a,s,u,c,h;return o={"true":!0,"false":!1,undefined:void 0,"null":null},a=new RegExp("^(?:"+Object.keys(o).join("|")+")"),s=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,u=/\$\{([^\}]+)\}/g,c=/^\$\{([^\}]+)\}/,h=/^\s*$/,i=t.extend({init:function(t,e){this.values=e.values,this.allowWhitespace()},postProcess:function(t){return 1===t.length&&h.test(this.leftover)?{value:t[0].v}:null},converters:[function(t){var e;return t.values?(e=t.matchPattern(c),e&&t.values.hasOwnProperty(e)?{v:t.values[e]}:void 0):null},function(t){var e;return(e=t.matchPattern(a))?{v:o[e]}:void 0},function(t){var e;return(e=t.matchPattern(s))?{v:+e}:void 0},function(t){var n,r=e(t);return r&&(n=t.values)?{v:r.v.replace(u,function(t,e){return e in n?n[e]:e})}:r},function(t){var e,n;if(!t.matchString("{"))return null;if(e={},t.allowWhitespace(),t.matchString("}"))return{v:e};for(;n=r(t);){if(e[n.key]=n.value,t.allowWhitespace(),t.matchString("}"))return{v:e};if(!t.matchString(","))return null}return null},function(t){var e,n;if(!t.matchString("["))return null;if(e=[],t.allowWhitespace(),t.matchString("]"))return{v:e};for(;n=t.read();){if(e.push(n.v),t.allowWhitespace(),t.matchString("]"))return{v:e};if(!t.matchString(","))return null;t.allowWhitespace()}return null}]}),function(t,e){var n=new i(t,{values:e});return n.result}}(ve,Y,X),Se=function(t,e,n,r){var i,o=/^([a-zA-Z_$][a-zA-Z_$0-9]*)\(/;return i=t.extend({converters:[e]}),function(t){var e,a,s,u,c,h,l,f,d;if("string"==typeof t){if(a=o.exec(t))return e={m:a[1]},u="["+t.slice(e.m.length+1,-1)+"]",s=new i(u),e.a=n(s.result[0]),e;if(-1===t.indexOf(":"))return t.trim();t=[t]}for(e={},l=[],f=[];t.length;)if(c=t.shift(),"string"==typeof c){if(h=c.indexOf(":"),-1!==h){h&&l.push(c.substr(0,h)),c.length>h+1&&(f[0]=c.substring(h+1));break}l.push(c)}else l.push(c);return f=f.concat(t),f.length||"string"!=typeof l?(e={n:1===l.length&&"string"==typeof l[0]?l[0]:l},1===f.length&&"string"==typeof f[0]?(d=r("["+f[0]+"]"),e.a=d?d.value:f[0].trim()):e.d=f):e=l,e}}(ve,de,pe,Re),Ie=function(t,e,n,r,i,o,a,s){function u(n){var r,i,o,u,h,f,w,E,x,_,k,A;if(r=n.pos,i=n.getLinePos(),n.inside)return null;if(!n.matchString("<"))return null;if("/"===n.nextChar())return null;if(o={t:t.ELEMENT},n.includeLinePositions&&(o.p=i.toJSON()),n.matchString("!")&&(o.y=1),o.e=n.matchPattern(d),!o.e)return null;for(p.test(n.nextChar())||n.error("Illegal tag name"),w=function(t,e){var r=e.n||e;g.test(r)&&(n.pos-=r.length,n.error("Cannot use reserved event names (change, reset, teardown, update)")),o.v[t]=e};E=a(n);)(h=y[E.name])?o[h]=s(E.value):(f=m.exec(E.name))?(o.v||(o.v={}),x=s(E.value),w(f[1],x)):n.sanitizeEventAttributes&&v.test(E.name)||(o.a||(o.a={}),o.a[E.name]=E.value||0);if(n.allowWhitespace(),n.matchString("/")&&(_=!0),!n.matchString(">"))return null;if(u=o.e.toLowerCase(),!_&&!e.test(o.e)){for(("script"===u||"style"===u)&&(n.inside=u),k=[];c(u,n.remaining())&&(A=n.read(l))&&A.t!==t.CLOSING&&A.t!==t.CLOSING_TAG;)k.push(A);k.length&&(o.f=k)}return n.inside=null,n.sanitizeElements&&-1!==n.sanitizeElements.indexOf(u)?b:o}function c(t,e){var n,r;return n=/^<([a-zA-Z][a-zA-Z0-9]*)/.exec(e),r=f[t],n&&r?!~r.indexOf(n[1].toLowerCase()):!0}var h,l,f,d=/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/,p=/^[\s\n\/>]/,v=/^on/,m=/^on-([a-zA-Z\\*\\.$_][a-zA-Z\\*\\.$_0-9\-]+)$/,g=/^(?:change|reset|teardown|update)$/,y={"intro-outro":"t0",intro:"t1",outro:"t2",decorator:"o"},b={exclude:!0};return l=[n,r,u,i,o],f={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr main menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rt","rp"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tfoot:["tbody"],tr:["tr","tbody"],td:["td","th","tr"],th:["td","th","tr"]},h=u}($,ke,xe,_e,Oe,Ce,Ne,Se),Le=function(){var t=/^[ \t\f\r\n]+/,e=/[ \t\f\r\n]+$/;return function(n,r,i){var o;r&&(o=n[0],"string"==typeof o&&(o=o.replace(t,""),o?n[0]=o:n.shift())),i&&(o=n[n.length-1],"string"==typeof o&&(o=o.replace(e,""),o?n[n.length-1]=o:n.pop()))}}(),Pe=function(t){function e(t){return"string"==typeof t}function n(e){return e.t===t.COMMENT||e.t===t.DELIMCHANGE}function r(e){return(e.t===t.SECTION||e.t===t.INVERTED)&&e.f}var i,o=/^\s*\r?\n/,a=/\r?\n\s*$/;return i=function(t){var i,s,u,c,h;for(i=1;i<t.length;i+=1)s=t[i],u=t[i-1],c=t[i-2],e(s)&&n(u)&&e(c)&&a.test(c)&&o.test(s)&&(t[i-2]=c.replace(a,"\n"),t[i]=s.replace(o,"")),r(s)&&e(u)&&a.test(u)&&e(s.f[0])&&o.test(s.f[0])&&(t[i-1]=u.replace(a,"\n"),s.f[0]=s.f[0].replace(o,"")),e(s)&&r(u)&&(h=u.f[u.f.length-1],e(h)&&a.test(h)&&o.test(s)&&(u.f[u.f.length-1]=h.replace(a,"\n"),t[i]=s.replace(o,"")));return t}}($),Fe=function(){var t=/[-/\\^$*+?.()|[\]{}]/g;return function(e){return e.replace(t,"\\$&")}}(),Me=function(t,e,n,r,i,o,a,s,u){function c(e,n,r,i,o,u){var h,l,f,d,y,b,w,E,x;for(s(e),h=e.length;h--;)l=e[h],l.exclude?e.splice(h,1):n&&l.t===t.COMMENT&&e.splice(h,1);for(a(e,i,o),h=e.length;h--;)if(l=e[h],l.f&&(y=r||l.t===t.ELEMENT&&v.test(l.e),y||(f=e[h-1],d=e[h+1],(!f||"string"==typeof f&&g.test(f))&&(b=!0),(!d||"string"==typeof d&&m.test(d))&&(w=!0)),c(l.f,n,y,b,w,u)),l.l&&(c(l.l,n,r,b,w,u),u&&(E={t:4,n:t.SECTION_UNLESS,f:l.l},l.r&&(E.r=l.r),l.x&&(E.x=l.x),l.rx&&(E.rx=l.rx),e.splice(h+1,0,E),delete l.l)),l.a)for(x in l.a)l.a.hasOwnProperty(x)&&"string"!=typeof l.a[x]&&c(l.a[x],n,r,b,w,u);for(h=e.length;h--;)"string"==typeof e[h]&&("string"==typeof e[h+1]&&(e[h]=e[h]+e[h+1],e.splice(h+1,1)),r||(e[h]=e[h].replace(p," ")),""===e[h]&&e.splice(h,1))}function h(t){var e=arguments[1];void 0===e&&(e=t),e.delimiters=t.delimiters||["{{","}}"],e.tripleDelimiters=t.tripleDelimiters||["{{{","}}}"],e.staticDelimiters=t.staticDelimiters||["[[","]]"],e.staticTripleDelimiters=t.staticTripleDelimiters||["[[[","]]]"]}var l,f,d,p=/[ \t\f\r\n]+/g,v=/^(?:pre|script|style|textarea)$/i,m=/^\s+/,g=/\s+$/;return f=e.extend({init:function(t,e){h(e,this),this.sectionDepth=0,this.interpolate={script:!e.interpolate||e.interpolate.script!==!1,style:!e.interpolate||e.interpolate.style!==!1},e.sanitize===!0&&(e.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),this.sanitizeElements=e.sanitize&&e.sanitize.elements,this.sanitizeEventAttributes=e.sanitize&&e.sanitize.eventAttributes,this.includeLinePositions=e.includeLinePositions},postProcess:function(t,e){return this.sectionDepth>0&&this.error("A section was left open"),c(t,e.stripComments!==!1,e.preserveWhitespace,!e.preserveWhitespace,!e.preserveWhitespace,e.rewriteElse!==!1),t},converters:[n,r,i,o]}),d=function(t){var e=arguments[1];void 0===e&&(e={});var n,r,i,o,a,s,c,l;if(h(e),c=new RegExp("<!--\\s*"+u(e.delimiters[0])+"\\s*>\\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\\s*"+u(e.delimiters[1])+"\\s*-->"),l=new RegExp("<!--\\s*"+u(e.delimiters[0])+"\\s*\\/\\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\\s*"+u(e.delimiters[1])+"\\s*-->"),n={v:1},c.test(t)){for(r=t,t="";a=c.exec(r);){if(o=a[1],t+=r.substr(0,a.index),r=r.substring(a.index+a[0].length),s=l.exec(r),!s||s[1]!==o)throw new Error('Inline partials must have a closing delimiter, and cannot be nested. Expected closing for "'+o+'", but '+(s?'instead found "'+s[1]+'"':" no closing found"));(i||(i={}))[o]=new f(r.substr(0,s.index),e).result,r=r.substring(s.index+s[0].length)}t+=r,n.p=i}return n.t=new f(t,e).result,n},l=d}($,ve,xe,_e,Ie,Oe,Le,Pe,Fe),je=function(){return function(t,e){var n=t.map(e);return t.forEach(function(t,e){n[t]=n[e]}),n}}(we),Ve=function(t){var e,n;return e=["preserveWhitespace","sanitize","stripComments","delimiters","tripleDelimiters","interpolate"],n=t(e,function(t){return t})}(je),De=function(t,e,n,r,i){function o(t){var e=r(l);return e.parse=function(e,n){return a(e,n||t)},e}function a(e,r){if(!n)throw new Error(t.missingParser);return n(e,r||this.options)}function s(t,n){var r;if(!e){if(n&&n.noThrow)return;throw new Error("Cannot retrieve template #"+t+" as Ractive is not running in a browser.")}if(u(t)&&(t=t.substring(1)),!(r=document.getElementById(t))){if(n&&n.noThrow)return;throw new Error("Could not find template element with id #"+t)}if("SCRIPT"!==r.tagName.toUpperCase()){if(n&&n.noThrow)return;throw new Error("Template element with id #"+t+", must be a <script> element")}return r.innerHTML}function u(t){return"#"===t.charAt(0)}function c(t){return!("string"==typeof t)}function h(t){return t.defaults&&(t=t.defaults),i.reduce(function(e,n){return e[n]=t[n],e},{})}var l={parse:a,fromId:s,isHashedId:u,isParsed:c,getParseOptions:h,createHelper:o};return l}(B,O,Me,z,Ve),Ue=function(t,e){function n(t){var e,n=t._config.template;if(n&&n.fn)return e=r(t,n.fn),e!==n.result?(n.result=e,e=i(e,t)):void 0}function r(e,n){var r=t.createHelper(t.getParseOptions(e));return n.call(e,e.data,r)}function i(n,r){if("string"==typeof n)"#"===n[0]&&(n=t.fromId(n)),n=e(n,t.getParseOptions(r));else if(1!==n.v)throw new Error("Mismatched template version! Please ensure you are using the latest version of Ractive.js in your build process as well as in your app");return n}function o(t,e,n){if(e)for(var r in e)(n||!t.hasOwnProperty(r))&&(t[r]=e[r])}var a={name:"template",extend:function(t,e,n){var r;"template"in n&&(r=n.template,e.template="function"==typeof r?r:i(r,e))},init:function(t,e,n){var a,s;a="template"in n?n.template:t.prototype.template,"function"==typeof a&&(s=a,a=r(e,s),e._config.template={fn:s,result:a}),a=i(a,e),e.template=a.t,a.p&&o(e.partials,a.p)},reset:function(t){var e,r=n(t);return r?(e=i(r,t),t.template=e.t,o(t.partials,e.p,!0),!0):void 0}};return a}(De,Me),We=function(t){function e(t,e){this.name=t,this.useDefaults=e}function n(t,e){var r,i;return(r=e(t))?r:!t.isolated&&(i=t._parent)?n(i,e):void 0}return e.prototype={constructor:e,extend:function(t,e,n){this.configure(this.useDefaults?t.defaults:t,this.useDefaults?e:e.constructor,n)},init:function(t,e,n){this.configure(this.useDefaults?t.defaults:t,e,n)},configure:function(e,n,r){var i,o=this.name,a=r[o];i=t(e[o]);for(var s in a)i[s]=a[s];n[o]=i},reset:function(t){var e=t[this.name],n=!1;return Object.keys(e).forEach(function(t){var r=e[t];r._fn&&(r._fn.isOwner?e[t]=r._fn:delete e[t],n=!0)}),n},findOwner:function(t,e){return t[this.name].hasOwnProperty(e)?t:this.findConstructor(t.constructor,e)},findConstructor:function(t,e){return t?t[this.name].hasOwnProperty(e)?t:this.findConstructor(t._parent,e):void 0},find:function(t,e){var r=this;return n(t,function(t){return t[r.name][e]})},findInstance:function(t,e){var r=this;return n(t,function(t){return t[r.name][e]?t:void 0})}},e}(z,we),Be=function(t,e){var n=["adaptors","components","computed","decorators","easing","events","interpolators","partials","transitions"],r=t(n,function(t){return new e(t,"computed"===t)});return r}(je,We),$e=function(){},ze=function(t){function e(e,n){var r;if(n in e){var i=e[n];r="function"==typeof i?i:function(){return i}}else r=t;return r}var n;return n=function(t,n,r){if(!/_super/.test(r))return r;var i=function(){var t,o=e(i._parent,n),a="_super"in this,s=this._super;return this._super=o,t=r.apply(this,arguments),a?this._super=s:delete this._super,t};return i._parent=t,i._method=r,i}}($e),qe=function(t,e){function n(e,n,i){if(n in e){if(i in e)throw new Error(r(n,i,!0));t(r(n,i)),e[i]=e[n]}}function r(t,e,n){return"options."+t+" has been deprecated in favour of options."+e+"."+(n?" You cannot specify both options, please use options."+e+".":"")}function i(t){n(t,"eventDefinitions","events")}function o(t){e(t.adaptors)&&n(t,"adaptors","adapt")}return function(t){i(t),o(t)}}(j,a),He=function(t,e,n,r,i,o,a,s){function u(t,e,n,r,i){h[e][t](n,r,i)}function c(t,e,r,i){s(i),u(t,"data",e,r,i),f.parseOptions.forEach(function(t){t in i&&(r[t]=i[t])});for(var o in i)if(o in n&&!(o in f.parseOptions)&&!(o in h)){var c=i[o];r[o]="function"==typeof c?a(e.prototype,o,c):c}f.registries.forEach(function(n){n[t](e,r,i)}),u(t,"template",e,r,i),u(t,"css",e,r,i)}var h,l,f;h={data:e,template:r,css:t},l=Object.keys(n).filter(function(t){return!o[t]&&!h[t]&&!i[t]}),f=[].concat(h.data,i,l,o,h.template,h.css);for(var d in h)f[d]=h[d];return f.keys=Object.keys(n).concat(o.map(function(t){return t.name})).concat(["css"]),f.parseOptions=i,f.registries=o,f.extend=function(t,e,n){c("extend",t,e,n)},f.init=function(t,e,n){c("init",t,e,n),e._config&&(e._config.options=n)},f.reset=function(t){return f.filter(function(e){return e.reset&&e.reset(t)}).map(function(t){return t.name})},f}(D,W,n,Ue,Ve,Be,ze,qe),Ge=function(t,e,n,r){function i(t){return function(){return t}}var o,a=function(t,o,a,s){if(t===o)return i(o);if(s){var u=r.registries.interpolators.find(a,s);if(u)return u(t,o)||i(o);e('Missing "'+s+'" interpolator. You may need to download a plugin from [TODO]')}return n.number(t,o)||n.array(t,o)||n.object(t,o)||i(o)};return t.interpolate=a,o=a}(i,j,c,He),Ze=function(t,e,n){var r=function(t){var e;this.startTime=Date.now();for(e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);this.interpolator=n(this.from,this.to,this.root,this.interpolator),this.running=!0,this.tick()};return r.prototype={tick:function(){var n,r,i,o,a,s;return s=this.keypath,this.running?(o=Date.now(),n=o-this.startTime,n>=this.duration?(null!==s&&(e.start(this.root),this.root.viewmodel.set(s,this.to),e.end()),this.step&&this.step(1,this.to),this.complete(this.to),a=this.root._animations.indexOf(this),-1===a&&t("Animation was not found"),this.root._animations.splice(a,1),this.running=!1,!1):(r=this.easing?this.easing(n/this.duration):n/this.duration,null!==s&&(i=this.interpolator(r),e.start(this.root),this.root.viewmodel.set(s,i),e.end()),this.step&&this.step(r,i),!0)):!1},stop:function(){var e;this.running=!1,e=this.root._animations.indexOf(this),-1===e&&t("Animation was not found"),this.root._animations.splice(e,1)}},r}(j,E,Ge),Ke=function(t,e,n,r,i){function o(e,o,a,s){var c,h,l,f;return o&&(o=n(o)),null!==o&&(f=e.viewmodel.get(o)),r.abort(o,e),t(f,a)?(s.complete&&s.complete(s.to),u):(s.easing&&(c="function"==typeof s.easing?s.easing:e.easing[s.easing],"function"!=typeof c&&(c=null)),h=void 0===s.duration?400:s.duration,l=new i({keypath:o,from:f,to:a,root:e,duration:h,easing:c,interpolator:s.interpolator,step:s.step,complete:s.complete}),r.add(l),e._animations.push(l),l)}var a,s=function(){},u={stop:s};return a=function(t,n,r){var i,a,u,c,h,l,f,d,p,v,m,g,y,b;if(i=new e(function(t){a=t}),"object"==typeof t){r=n||{},l=r.easing,f=r.duration,h=[],d=r.step,p=r.complete,(d||p)&&(m={},r.step=null,r.complete=null,v=function(t){return function(e,n){m[t]=n}});for(u in t)t.hasOwnProperty(u)&&((d||p)&&(g=v(u),r={easing:l,duration:f},d&&(r.step=g)),r.complete=p?g:s,h.push(o(this,u,t[u],r)));return b={easing:l,duration:f},d&&(b.step=function(t){d(t,m)}),p&&i.then(function(t){p(t,m)}),b.complete=a,y=o(this,null,null,b),h.push(y),i.stop=function(){for(var t;t=h.pop();)t.stop();y&&y.stop()},i}return r=r||{},r.complete&&i.then(r.complete),r.complete=a,c=o(this,t,n,r),i.stop=function(){c.stop()},i}}(g,p,I,M,Ze),Qe=function(t){return function(){return this.detached?this.detached:(this.el&&t(this.el.__ractive_instances__,this),this.detached=this.fragment.detach(),this.detached)}}(d),Ye=function(t){return this.el?this.fragment.find(t):null},Je=function(t,e,n){var r,i,o,a,s,u,c,h;if(t){for(i=n("div"),o=["matches","matchesSelector"],h=function(t){return function(e,n){return e[t](n)}},u=o.length;u--&&!r;)if(a=o[u],i[a])r=h(a);else for(c=e.length;c--;)if(s=e[u]+a.substr(0,1).toUpperCase()+a.substring(1),i[s]){r=h(s);break}r||(r=function(t,e){var n,r,o;for(r=t.parentNode,r||(i.innerHTML="",r=i,t=t.cloneNode(),i.appendChild(t)),n=r.querySelectorAll(e),o=n.length;o--;)if(n[o]===t)return!0;return!1})}else r=null;return r}(O,L,T),Xe=function(t){return function(e,n){var r=this._isComponentQuery?!this.selector||e.name===this.selector:t(e.node,this.selector);return r?(this.push(e.node||e.instance),n||this._makeDirty(),!0):void 0}}(Je),tn=function(){var t,e,n;t=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],e=this.selector,n=t.indexOf(e),-1!==n&&(t.splice(n,1),t[e]=null)},en=function(){function t(t){var e;return(e=t.parentFragment)?e.owner:t.component&&(e=t.component.parentFragment)?e.owner:void 0}function e(e){var n,r;for(n=[e],r=t(e);r;)n.push(r),r=t(r);return n}var n;return n=function(t,n){var r,i,o,a,s,u,c,h,l,f;for(r=e(t.component||t._ractive.proxy),i=e(n.component||n._ractive.proxy),o=r[r.length-1],a=i[i.length-1];o&&o===a;)r.pop(),i.pop(),s=o,o=r[r.length-1],a=i[i.length-1];if(o=o.component||o,a=a.component||a,l=o.parentFragment,f=a.parentFragment,l===f)return u=l.items.indexOf(o),c=f.items.indexOf(a),u-c||r.length-i.length;if(h=s.fragments)return u=h.indexOf(l),c=h.indexOf(f),u-c||r.length-i.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")}}(),nn=function(t){return function(e,n){var r;return e.compareDocumentPosition?(r=e.compareDocumentPosition(n),2&r?1:-1):t(e,n)}}(en),rn=function(t,e){return function(){this.sort(this._isComponentQuery?e:t),this._dirty=!1}}(nn,en),on=function(t){return function(){var e=this;this._dirty||(this._dirty=!0,t.scheduleTask(function(){e._sort()}))}}(E),an=function(t){var e=this.indexOf(this._isComponentQuery?t.instance:t);-1!==e&&this.splice(e,1)},sn=function(t,e,n,r,i,o){return function(a,s,u,c){var h=[];return t(h,{selector:{value:s},live:{value:u},_isComponentQuery:{value:c},_test:{value:e}}),u?(t(h,{cancel:{value:n},_root:{value:a},_sort:{value:r},_makeDirty:{value:i},_remove:{value:o},_dirty:{value:!1,writable:!0}}),h):h}}(N,Xe,tn,rn,on,an),un=function(t){return function(e,n){var r,i;return this.el?(n=n||{},r=this._liveQueries,(i=r[e])?n&&n.live?i:i.slice():(i=t(this,e,!!n.live,!1),i.live&&(r.push(e),r["_"+e]=i),this.fragment.findAll(e,i),i)):[]}}(sn),cn=function(t){return function(e,n){var r,i;return n=n||{},r=this._liveComponentQueries,(i=r[e])?n&&n.live?i:i.slice():(i=t(this,e,!!n.live,!0),i.live&&(r.push(e),r["_"+e]=i),this.fragment.findAllComponents(e,i),i)}}(sn),hn=function(t){return this.fragment.findComponent(t)},ln=function(t){return function(e){var n={args:Array.prototype.slice.call(arguments,1)};t(this,e,n)}}(f),fn=function(t){var e={capture:!0};return function(n){return n=t(n),this.viewmodel.get(n,e)}}(I),dn=function(t){var e;if(t&&"boolean"!=typeof t)return"undefined"!=typeof window&&document&&t?t.nodeType?t:"string"==typeof t&&(e=document.getElementById(t),!e&&document.querySelector&&(e=document.querySelector(t)),e&&e.nodeType)?e:t[0]&&t[0].nodeType?t[0]:null:null},pn=function(t){return function(e,n){if(!this.rendered)throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");if(e=t(e),n=t(n)||null,!e)throw new Error("You must specify a valid target to insert into");e.insertBefore(this.detach(),n),this.el=e,(e.__ractive_instances__||(e.__ractive_instances__=[])).push(this),this.detached=null}}(dn),vn=function(t,e,n){return function(r,i,o){var a,s;return r=n(r),a=this.viewmodel.get(r),e(a)&&e(i)?(s=t.start(this,!0),this.viewmodel.merge(r,a,i,o),t.end(),o&&o.complete&&s.then(o.complete),s):this.set(r,i,o&&o.complete)}}(E,a,I),mn=function(t,e){var n=function(t,e,n,r){this.root=t,this.keypath=e,this.callback=n,this.defer=r.defer,this.priority=0,this.context=r&&r.context?r.context:t};return n.prototype={init:function(t){this.value=this.root.viewmodel.get(this.keypath),t!==!1?this.update():this.oldValue=this.value},setValue:function(n){var r=this;e(n,this.value)||(this.value=n,this.defer&&this.ready?t.scheduleTask(function(){return r.update()}):this.update())},update:function(){this.updating||(this.updating=!0,this.callback.call(this.context,this.value,this.oldValue,this.keypath),this.oldValue=this.value,this.updating=!1)}},n}(E,g),gn=function(t){return function(e,n){function r(n,r){var i,o,a;i=e.viewmodel.wrapped[r]?e.viewmodel.wrapped[r].get():e.get(r);for(o in i)!i.hasOwnProperty(o)||"_ractive"===o&&t(i)||(a=r?r+"."+o:o,n.push(a));return n}function i(t){return function(e){return e?e+"."+t:t}}var o,a,s;for(o=n.split("."),s=[""];a=o.shift();)"*"===a?s=s.reduce(r,[]):""===s[0]?s[0]=a:s=s.map(i(a));return s}}(a),yn=function(t){return function(e,n){var r,i;return r=t(e,n),i={},r.forEach(function(t){i[t]=e.get(t)}),i}}(gn),bn=function(t,e,n){var r,i=/\*/,o=Array.prototype.slice;return r=function(t,e,n,r){this.root=t,this.callback=n,this.defer=r.defer,this.keypath=e,this.regex=new RegExp("^"+e.replace(/\./g,"\\.").replace(/\*/g,"([^\\.]+)")+"$"),this.values={},this.defer&&(this.proxies=[]),this.priority="pattern",this.context=r&&r.context?r.context:t},r.prototype={init:function(t){var e,r;if(e=n(this.root,this.keypath),t!==!1)for(r in e)e.hasOwnProperty(r)&&this.update(r);else this.values=e},update:function(e){var r,o=this;if(i.test(e)){r=n(this.root,e);for(e in r)r.hasOwnProperty(e)&&this.update(e)}else if(!this.root.viewmodel.implicitChanges[e])return this.defer&&this.ready?void t.scheduleTask(function(){return o.getProxy(e).update()}):void this.reallyUpdate(e)},reallyUpdate:function(t){var n,r,i;return n=this.root.viewmodel.get(t),this.updating?void(this.values[t]=n):(this.updating=!0,e(n,this.values[t])&&this.ready||(r=o.call(this.regex.exec(t),1),i=[n,this.values[t],t].concat(r),this.callback.apply(this.context,i),this.values[t]=n),void(this.updating=!1))},getProxy:function(t){var e=this;return this.proxies[t]||(this.proxies[t]={update:function(){e.reallyUpdate(t)}}),this.proxies[t]}},r}(E,g,yn),wn=function(t,e,n){var r=/\*/,i={};return function(o,a,s,u){var c,h,l;return a=t(a),u=u||i,r.test(a)?(c=new n(o,a,s,u),o.viewmodel.patternObservers.push(c),h=!0):c=new e(o,a,s,u),o.viewmodel.register(a,c,h?"patternObservers":"observers"),c.init(u.init),c.ready=!0,{cancel:function(){var t;l||(h?(t=o.viewmodel.patternObservers.indexOf(c),o.viewmodel.patternObservers.splice(t,1),o.viewmodel.unregister(a,c,"patternObservers")):o.viewmodel.unregister(a,c,"observers"),l=!0)}}}}(I,mn,bn),En=function(t,e){return function(n,r,i){var o,a,s,u;if(t(n)){i=r,a=n,o=[];for(n in a)a.hasOwnProperty(n)&&(r=a[n],o.push(this.observe(n,r,i)));return{cancel:function(){for(;o.length;)o.pop().cancel()}}}if("function"==typeof n)return i=r,r=n,n="",e(this,n,r,i);if(s=n.split(" "),1===s.length)return e(this,n,r,i);for(o=[],u=s.length;u--;)n=s[u],n&&o.push(e(this,n,r,i));return{cancel:function(){for(;o.length;)o.pop().cancel()}}}}(s,wn),xn=function(t){return t.trim()},_n=function(t){return""!==t},kn=function(t,e){return function(n,r){var i,o=this;if(n)i=n.split(" ").map(t).filter(e),i.forEach(function(t){var e,n;(e=o._subs[t])&&(r?(n=e.indexOf(r),-1!==n&&e.splice(n,1)):o._subs[t]=[])});else for(n in this._subs)delete this._subs[n];return this}}(xn,_n),An=function(t,e){return function(n,r){var i,o,a,s=this,u=this;if("object"==typeof n){i=[];for(o in n)n.hasOwnProperty(o)&&i.push(this.on(o,n[o]));return{cancel:function(){for(var t;t=i.pop();)t.cancel()}}}return a=n.split(" ").map(t).filter(e),a.forEach(function(t){(s._subs[t]||(s._subs[t]=[])).push(r)}),{cancel:function(){u.off(n,r)}}}}(xn,_n),Tn=function(t,e,n){switch(e){case"splice":return n;case"sort":case"reverse":return null;case"pop":return t.length?[-1]:null;case"push":return[t.length,0].concat(n);case"shift":return[0,1];case"unshift":return[0,0].concat(n)}},On=function(t,e){var n,r,i,o,a,s;return e?(n=+(e[0]<0?t.length+e[0]:e[0]),0>n?n=0:n>t.length&&(n=t.length),o=Math.max(0,e.length-2),a=void 0!==e[1]?e[1]:t.length-n,a=Math.min(a,t.length-n),s=o-a,i=t.length+s,r=s?Math.max(t.length,i):n+o,{rangeStart:n,rangeEnd:r,balance:s,added:o,removed:a}):null},Cn=function(t,e,n,r){var i=Array.prototype;return function(o){return function(a){var s,u,c,h,l,f=Array.prototype.slice,d=f.call(arguments,1);if(s=this.get(a),!t(s))throw new Error("Called ractive."+o+"('"+a+"'), but '"+a+"' does not refer to an array");return u=n(s,o,d),c=r(s,u),l=c?i.splice.apply(s,u):i[o].apply(s,d),h=e.start(this,!0),c?this.viewmodel.splice(a,c):this.viewmodel.mark(a),e.end(),("splice"===o||"pop"===o||"shift"===o)&&(h=h.then(function(){return l})),h}}}(a,E,Tn,On),Nn=function(t){return t("pop")}(Cn),Rn=function(t){return t("push")}(Cn),Sn=function(t,e,n){var r,i,o,a,s,u,c,h="/* Ractive.js component styles */\n",l={},f=[];return e?(t.push(function(){o=t.runloop}),a=document.createElement("style"),a.type="text/css",s=document.getElementsByTagName("head")[0],c=!1,u=a.styleSheet,i=function(){var t;f.length?(t=h+f.join(" "),u?u.cssText=t:a.innerHTML=t,c||(s.appendChild(a),c=!0)):c&&(s.removeChild(a),c=!1)},r={add:function(t){t.css&&(l[t._guid]||(l[t._guid]=0,f.push(t.css),o.scheduleTask(i)),l[t._guid]+=1)},remove:function(t){t.css&&(l[t._guid]-=1,l[t._guid]||(n(f,t.css),o.scheduleTask(i)))}}):r=null,r}(i,O,d),In=function(t,e,n){function r(t){var e=i(t);for(t.init&&t.init(t._config.options);e.length;)r(e.shift());a[t._guid]=null}function i(t){return a[t._guid]||(a[t._guid]=[])}var o,a={},s={};return o=function(o,a){var u,c,h,l=this;if(s[this._guid]=!0,h=this.transitionsEnabled,this.noIntro&&(this.transitionsEnabled=!1),u=t.start(this,!0),this.rendered)throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");return o=n(o)||this.el,a=n(a)||this.anchor,this.el=o,this.anchor=a,this.constructor.css&&e.add(this.constructor),o&&((c=o.__ractive_instances__)?c.push(this):o.__ractive_instances__=[this],a?o.insertBefore(this.fragment.render(),a):o.appendChild(this.fragment.render())),this._hasInited||(this._hasInited=!0,this._parent&&s[this._parent._guid]?i(this._parent).push(this):r(this)),s[this._guid]=!1,t.end(),this.rendered=!0,this.transitionsEnabled=h,this.complete&&u.then(function(){return l.complete()}),u}}(E,Sn,dn),Ln=function(){this.dirtyValue=this.dirtyArgs=!0,this.inited&&"function"==typeof this.owner.bubble&&this.owner.bubble()},Pn=function(){var t;return 1===this.items.length?this.items[0].detach():(t=document.createDocumentFragment(),this.items.forEach(function(e){t.appendChild(e.detach())}),t)},Fn=function(t){var e,n,r,i;if(this.items){for(n=this.items.length,e=0;n>e;e+=1)if(r=this.items[e],r.find&&(i=r.find(t)))return i;
return null}},Mn=function(t,e){var n,r,i;if(this.items)for(r=this.items.length,n=0;r>n;n+=1)i=this.items[n],i.findAll&&i.findAll(t,e);return e},jn=function(t,e){var n,r,i;if(this.items)for(r=this.items.length,n=0;r>n;n+=1)i=this.items[n],i.findAllComponents&&i.findAllComponents(t,e);return e},Vn=function(t){var e,n,r,i;if(this.items){for(e=this.items.length,n=0;e>n;n+=1)if(r=this.items[n],r.findComponent&&(i=r.findComponent(t)))return i;return null}},Dn=function(t){var e,n=t.index;return e=this.items[n+1]?this.items[n+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)},Un=function(){return this.items&&this.items[0]?this.items[0].firstNode():null},Wn=function(){var t=this;do if(t.pElement)return t.pElement.node;while(t=t.parent);return this.root.detached||this.root.el},Bn=function(t){function e(t,n,r,i){return i=i||0,t.map(function(t){var o,a,s;return t.text?t.text:t.fragments?t.fragments.map(function(t){return e(t.items,n,r,i)}).join(""):(o=r+"-"+i++,s=(a=t.root.viewmodel.wrapped[t.keypath])?a.value:t.getValue(),n[o]=s,"${"+o+"}")}).join("")}var n,r={};return n=function(){var n=arguments[0];void 0===n&&(n=r);var i,o,a,s,u,c,h;return i=n.args,u=i?"argsList":"value",c=i?"dirtyArgs":"dirtyValue",this[c]&&(a=e(this.items,o={},this.root._guid),s=t(i?"["+a+"]":a,o),h=s?s.value:i?[this.toString()]:this.toString(),this[u]=h,this[c]=!1),this[u]}}(Re),$n=function(){var t=/</g,e=/>/g;return function(n){return n.replace(t,"&lt;").replace(e,"&gt;")}}(),zn=function(t){return t&&t.parentNode&&t.parentNode.removeChild(t),t},qn=function(t){return function(){return t(this.node)}}(zn),Hn=function(t,e,n){var r=function(e){this.type=t.TEXT,this.text=e.template};return r.prototype={detach:n,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createTextNode(this.text)),this.node},toString:function(t){return t?e(this.text):this.text},unrender:function(t){return t?this.detach():void 0}},r}($,$n,qn),Gn=function(t){return function(){this.keypath?this.root.viewmodel.unregister(this.keypath,this):t.removeUnresolved(this),this.resolver&&this.resolver.unbind()}}(E),Zn=function(){return this.value},Kn=function(t){var e=function(e,n,r,i){this.root=e,this.ref=n,this.parentFragment=r,this.resolve=i,t.addUnresolved(this)};return e.prototype={unbind:function(){t.removeUnresolved(this)}},e}(E),Qn=function(t,e){return t&&e&&t.substr(0,e.length+1)===e+"."},Yn=function(t){return function(e,n,r){return e===n?void 0!==r?r:null:t(e,n)?null===r?r:e.replace(n+".",r+"."):void 0}}(Qn),Jn=function(t,e){function n(t){var n=e[t.message]||t.message||"";return r(n,t.args)}function r(t,e){return t.replace(/{([^{}]*)}/g,function(t,n){return e[n]})}var i={warn:function(t,e){(t.debug||e)&&this.logger(n(t),t.allowDuplicates)},error:function(t){this.errorOnly(t),t.debug||this.warn(t,!0)},errorOnly:function(t){t.debug&&this.critical(t)},critical:function(t){var e=t.err||new Error(n(t));this.thrower(e)},logger:t,thrower:function(t){throw t}};return i}(j,B),Xn=function(){var t={};return function(e,n){var r,i;if(t[e])return t[e];for(i=[];n--;)i[n]="_"+n;return r=new Function(i.join(","),"return("+e+")"),t[e]=r,r}}(),tr=function(t,e,n){var r,i;for(r=e.length;r--;)i=e[r],-1===n.indexOf(i)&&t.viewmodel.unregister(i,t,"computed");for(r=n.length;r--;)i=n[r],-1===e.indexOf(i)&&t.viewmodel.register(i,t,"computed");t.dependencies=n.slice()},er=function(t,e,n,r,i){function o(t,e){var r,i,o;if(t._noWrap)return t;if(i="__ractive_"+e._guid,r=t[i])return r;if(/this/.test(t.toString())){n(t,i,{value:c.call(t,e)});for(o in t)t.hasOwnProperty(o)&&(t[i][o]=t[o]);return t[i]}return n(t,"__ractive_nowrap",{value:t}),t.__ractive_nowrap}function a(t){return"function"==typeof t?t():t}var s,u,c=Function.prototype.bind;return u=function(t,e,n,i,a,s){var u=this,c=t.viewmodel;u.root=t,u.viewmodel=c,u.uniqueString=n,u.keypath=e,u.priority=s,u.fn=r(i,a.length),u.explicitDependencies=[],u.dependencies=[],u.argumentGetters=a.map(function(e){var n,r;return e?e.indexRef?r=e.value:(n=e.keypath,u.explicitDependencies.push(n),c.register(n,u,"computed"),function(){var e=c.get(n);return"function"==typeof e?o(e,t):e}):void 0})},u.prototype={wake:function(){this.awake=!0},sleep:function(){this.awake=!1},getValue:function(){var e,n,r;if(e=this.argumentGetters.map(a),!this.updating){this.updating=!0,this.viewmodel.capture();try{n=this.fn.apply(null,e)}catch(o){this.root.debug&&t.warn({debug:this.root.debug,message:"evaluationError",args:{uniqueString:this.uniqueString,err:o.message||o}}),n=void 0}return r=this.viewmodel.release(),i(this,this.dependencies,r),this.updating=!1,n}},update:function(){var t=this.getValue();return e(t,this.value)||(this.value=t,this.root.viewmodel.mark(this.keypath)),this},teardown:function(){var t=this;this.explicitDependencies.concat(this.dependencies).forEach(function(e){return t.viewmodel.unregister(e,t,"computed")}),this.root.viewmodel.evaluators[this.keypath]=null}},s=u}(Jn,g,C,Xn,tr,we),nr=function(t,e,n,r,i){function o(t,e){return t.replace(/_([0-9]+)/g,function(t,n){var r=e[n];return r?r.indexRef?r.value:r.keypath:"undefined"})}function a(t){return"${"+t.replace(/[\.\[\]]/g,"-")+"}"}var s,u=function(r,i,o,a){var s,u,c,h=this;return s=r.root,this.root=s,this.callback=a,this.owner=r,this.str=o.s,this.args=c=[],this.unresolved=[],this.pending=0,u=i.indexRefs,o.r&&o.r.length?(o.r.forEach(function(r,o){var a,l,f;return u&&void 0!==(a=u[r])?void(c[o]={indexRef:r,value:a}):(l=e(s,r,i))?void(c[o]={keypath:l}):(c[o]=null,h.pending+=1,f=new n(s,r,i,function(e){h.resolve(o,e),t(h.unresolved,f)}),void h.unresolved.push(f))}),this.ready=!0,void this.bubble()):(this.resolved=this.ready=!0,void this.bubble())};return u.prototype={bubble:function(){this.ready&&(this.uniqueString=o(this.str,this.args),this.keypath=a(this.uniqueString),this.createEvaluator(),this.callback(this.keypath))},unbind:function(){for(var t;t=this.unresolved.pop();)t.unbind()},resolve:function(t,e){this.args[t]={keypath:e},this.bubble(),this.resolved=!--this.pending},createEvaluator:function(){var t=this.root.viewmodel.evaluators[this.keypath];t||(t=new r(this.root,this.keypath,this.uniqueString,this.str,this.args,this.owner.priority),this.root.viewmodel.evaluators[this.keypath]=t),t.update()},rebind:function(t,e,n,r){var o;this.args.forEach(function(a){var s;a&&(a.keypath&&(s=i(a.keypath,n,r))?(a.keypath=s,o=!0):a.indexRef&&a.indexRef===t&&(a.value=e,o=!0))}),o&&this.bubble()}},s=u}(d,b,Kn,er,Yn),rr=function(t,e,n,r,i){var o=function(r,o,a){var s,u,c,h,l,f=this;f.resolver=o,f.root=o.root,f.viewmodel=o.root.viewmodel,"string"==typeof r?f.value=r:r.t===t.REFERENCE?(s=f.ref=r.n,(u=a.indexRefs)&&void 0!==(c=u[s])?(f.indexRef=s,f.value=c):(h=o.root,(l=e(h,s,a))?f.resolve(l):f.unresolved=new n(h,s,a,function(t){f.unresolved=null,f.resolve(t)}))):new i(o,a,r,function(t){f.resolve(t)})};return o.prototype={resolve:function(t){this.keypath=t,this.value=this.viewmodel.get(t),this.bind(),this.resolver.bubble()},bind:function(){this.viewmodel.register(this.keypath,this)},rebind:function(t,e,n,i){var o;if(t&&this.indexRef===t){if(e!==this.value)return this.value=e,!0}else if(this.keypath&&(o=r(this.keypath,n,i)))return this.unbind(),this.keypath=o,this.value=this.root.viewmodel.get(o),this.bind(),!0},setValue:function(t){this.value=t,this.resolver.bubble()},unbind:function(){this.keypath&&this.root.viewmodel.unregister(this.keypath,this),this.unresolved&&this.unresolved.unbind()},forceResolution:function(){this.unresolved&&(this.unresolved.unbind(),this.unresolved=null,this.keypath=this.ref,this.value=this.viewmodel.get(this.ref),this.bind())}},o}($,b,Kn,Yn,nr),ir=function(t,e,n){function r(t){return t.value}function i(t){return void 0!=t}function o(t){t.unbind()}var a=function(r,i,o){var a,s,u,c,h=this,l=this;c=r.parentFragment,l.root=a=r.root,l.mustache=r,l.priority=r.priority,l.ref=s=i.r,l.callback=o,l.unresolved=[],(u=t(a,s,c))?l.base=u:l.baseResolver=new e(a,s,c,function(t){l.base=t,l.baseResolver=null,l.bubble()}),l.members=i.m.map(function(t){return new n(t,h,c)}),l.ready=!0,l.bubble()};return a.prototype={getKeypath:function(){var t=this.members.map(r);return!t.every(i)||this.baseResolver?null:this.base+"."+t.join(".")},bubble:function(){this.ready&&!this.baseResolver&&this.callback(this.getKeypath())},unbind:function(){this.members.forEach(o)},rebind:function(t,e,n,r){var i;this.members.forEach(function(o){o.rebind(t,e,n,r)&&(i=!0)}),i&&this.bubble()},forceResolution:function(){this.baseResolver&&(this.base=this.ref,this.baseResolver.unbind(),this.baseResolver=null),this.members.forEach(function(t){return t.forceResolution()}),this.bubble()}},a}(b,Kn,rr),or=function(t,e,n,r,i){return function(o,a){function s(t){var e=o.keypath;t!==e&&(o.resolve(t),void 0!==e&&o.fragments&&o.fragments.forEach(function(n){n.rebind(null,null,e,t)}))}var u,c,h,l,f,d;if(f=a.parentFragment,d=a.template,o.root=f.root,o.parentFragment=f,o.pElement=f.pElement,o.template=a.template,o.index=a.index||0,o.priority=f.priority,o.isStatic=a.template.s,o.type=a.template.t,u=d.r){if(h=f.indexRefs,h&&void 0!==(l=h[u]))return o.indexRef=u,void o.setValue(l);c=n(o.root,u,o.parentFragment),void 0!==c?o.resolve(c):(o.ref=u,e.addUnresolved(o))}a.template.x&&(o.resolver=new i(o,f,a.template.x,s)),a.template.rx&&(o.resolver=new r(o,a.template.rx,s)),o.template.n!==t.SECTION_UNLESS||o.hasOwnProperty("value")||o.setValue(void 0)}}($,E,b,ir,nr),ar=function(t){var e,n,r;void 0!=this.keypath&&(this.root.viewmodel.unregister(this.keypath,this),e=!0),this.keypath=t,void 0!=t&&(n=this.root.viewmodel.get(t),this.root.viewmodel.register(t,this)),this.setValue(n),e&&(r=this.twowayBinding)&&r.rebound()},sr=function(t){return function(e,n,r,i){var o;this.fragments&&this.fragments.forEach(function(t){return t.rebind(e,n,r,i)}),this.resolver&&this.resolver.rebind(e,n,r,i),void 0!==this.keypath?(o=t(this.keypath,r,i),void 0!==o&&this.resolve(o)):void 0!==e&&this.indexRef===e&&this.setValue(n)}}(Yn),ur=function(t,e,n,r){return{getValue:t,init:e,resolve:n,rebind:r}}(Zn,or,ar,sr),cr=function(t,e,n,r,i,o,a,s){var u=function(e){this.type=t.INTERPOLATOR,a.init(this,e)};return u.prototype={update:function(){this.node.data=void 0==this.value?"":this.value},resolve:a.resolve,rebind:a.rebind,detach:s,unbind:o,render:function(){return this.node||(this.node=document.createTextNode(void 0!=this.value?this.value:"")),this.node},unrender:function(t){t&&r(this.node)},getValue:a.getValue,setValue:function(t){var n;(n=this.root.viewmodel.wrapped[this.keypath])&&(t=n.get()),i(t,this.value)||(this.value=t,this.parentFragment.bubble(),this.node&&e.addView(this))},firstNode:function(){return this.node},toString:function(t){var e=void 0!=this.value?""+this.value:"";return t?n(e):e}},u}($,E,$n,zn,g,Gn,ur,qn),hr=function(){this.parentFragment.bubble()},lr=function(){var t;return 1===this.fragments.length?this.fragments[0].detach():(t=document.createDocumentFragment(),this.fragments.forEach(function(e){t.appendChild(e.detach())}),t)},fr=function(t){var e,n,r;for(n=this.fragments.length,e=0;n>e;e+=1)if(r=this.fragments[e].find(t))return r;return null},dr=function(t,e){var n,r;for(r=this.fragments.length,n=0;r>n;n+=1)this.fragments[n].findAll(t,e)},pr=function(t,e){var n,r;for(r=this.fragments.length,n=0;r>n;n+=1)this.fragments[n].findAllComponents(t,e)},vr=function(t){var e,n,r;for(n=this.fragments.length,e=0;n>e;e+=1)if(r=this.fragments[e].findComponent(t))return r;return null},mr=function(t){return this.fragments[t.index+1]?this.fragments[t.index+1].firstNode():this.parentFragment.findNextNode(this)},gr=function(){var t,e,n;if(t=this.fragments.length)for(e=0;t>e;e+=1)if(n=this.fragments[e].firstNode())return n;return this.parentFragment.findNextNode(this)},yr=function(t,e){var n;return e.push(function(){n=e.Fragment}),function(e){var n,r,i,o,a,s,u,c,h=this;if(!this.unbound){if(n=this.parentFragment,a=[],e.forEach(function(t,e){var n,i,o,s;return t===e?void(a[t]=h.fragments[e]):(n=h.fragments[e],void 0===r&&(r=e),-1===t?(h.fragmentsToUnrender.push(n),void n.unbind()):(i=t-e,o=h.keypath+"."+e,s=h.keypath+"."+t,n.rebind(h.template.i,t,o,s),void(a[t]=n)))}),o=this.root.get(this.keypath).length,void 0===r){if(this.length===o)return;r=this.length}for(this.length=this.fragments.length=o,t.addView(this),s={template:this.template.f,root:this.root,owner:this},this.template.i&&(s.indexRef=this.template.i),i=r;o>i;i+=1)(u=a[i])?this.docFrag.appendChild(u.detach(!1)):this.fragmentsToCreate.push(i),this.fragments[i]=u;c=n.findNextNode(this),this.parentFragment.getNode().insertBefore(this.docFrag,c)}}}(E,i),br=function(){var t;return t=this.docFrag=document.createDocumentFragment(),this.update(),this.rendered=!0,t},wr=function(t,e,n,r,i){function o(r,i){var o={template:r.template.f,root:r.root,pElement:r.parentFragment.pElement,owner:r};if(r.subtype)switch(r.subtype){case t.SECTION_IF:return c(r,i,!1,o);case t.SECTION_UNLESS:return c(r,i,!0,o);case t.SECTION_WITH:return u(r,o);case t.SECTION_EACH:if(n(i))return s(r,i,o)}return r.ordered=!!e(i),r.ordered?a(r,i,o):n(i)||"function"==typeof i?r.template.i?s(r,i,o):u(r,o):c(r,i,!1,o)}function a(t,e,n){var r,i,o;if(i=e.length,i===t.length)return!1;if(i<t.length)t.fragmentsToUnrender=t.fragments.splice(i,t.length-i),t.fragmentsToUnrender.forEach(h);else if(i>t.length)for(r=t.length;i>r;r+=1)n.context=t.keypath+"."+r,n.index=r,t.template.i&&(n.indexRef=t.template.i),o=new d(n),t.fragmentsToRender.push(t.fragments[r]=o);return t.length=i,!0}function s(t,e,n){var r,i,o,a,s;for(o=t.hasKey||(t.hasKey={}),i=t.fragments.length;i--;)a=t.fragments[i],a.index in e||(s=!0,a.unbind(),t.fragmentsToUnrender.push(a),t.fragments.splice(i,1),o[a.index]=!1);for(r in e)o[r]||(s=!0,n.context=t.keypath+"."+r,n.index=r,t.template.i&&(n.indexRef=t.template.i),a=new d(n),t.fragmentsToRender.push(a),t.fragments.push(a),o[r]=!0);return t.length=t.fragments.length,s}function u(t,e){var n;return t.length?void 0:(e.context=t.keypath,e.index=0,n=new d(e),t.fragmentsToRender.push(t.fragments[0]=n),t.length=1,!0)}function c(t,n,r,i){var o,a,s;if(a=e(n)&&0===n.length,o=r?a||!n:n&&!a){if(!t.length)return i.index=0,s=new d(i),t.fragmentsToRender.push(t.fragments[0]=s),t.length=1,!0;if(t.length>1)return t.fragmentsToUnrender=t.fragments.splice(1),t.fragmentsToUnrender.forEach(h),!0}else if(t.length)return t.fragmentsToUnrender=t.fragments.splice(0,t.fragments.length).filter(l),t.fragmentsToUnrender.forEach(h),t.length=t.fragmentsToRender.length=0,!0}function h(t){t.unbind()}function l(t){return t.rendered}var f,d;return i.push(function(){d=i.Fragment}),f=function(t){var e,n,i=this;this.updating||(this.updating=!0,(e=this.root.viewmodel.wrapped[this.keypath])&&(t=e.get()),this.fragmentsToCreate.length?(n={template:this.template.f,root:this.root,pElement:this.pElement,owner:this,indexRef:this.template.i},this.fragmentsToCreate.forEach(function(t){var e;n.context=i.keypath+"."+t,n.index=t,e=new d(n),i.fragmentsToRender.push(i.fragments[t]=e)}),this.fragmentsToCreate.length=0):o(this,t)&&(this.bubble(),this.rendered&&r.addView(this)),this.value=t,this.updating=!1)}}($,a,s,E,i),Er=function(t,e){function n(t){t.unbind()}function r(t,e){var n,r=[];for(n=t;e>n;n+=1)r.push(n);return r}function i(t,e,n,r){var i,o,a,s,u;for(a=t.template.i,i=e;n>i;i+=1)o=t.fragments[i],s=t.keypath+"."+(i-r),u=t.keypath+"."+i,o.index=i,o.rebind(a,i,s,u)}var o,a;return e.push(function(){a=e.Fragment}),o=function(e){var o,a,s,u,c,h=this;if(!this.unbound&&(o=e.balance)){if(t.addView(h),a=e.rangeStart,h.length+=o,0>o)return h.fragmentsToUnrender=h.fragments.splice(a,-o),h.fragmentsToUnrender.forEach(n),void i(h,a,h.length,o);s=a+e.removed,u=a+e.added,c=[s,0],c.length+=o,h.fragments.splice.apply(h.fragments,c),i(h,u,h.length,o),h.fragmentsToCreate=r(s,u)}}}(E,i),xr=function(t){var e,n,r;for(e="",n=0,r=this.length,n=0;r>n;n+=1)e+=this.fragments[n].toString(t);return e},_r=function(t){function e(t){t.unbind()}var n;return n=function(){this.fragments.forEach(e),t.call(this),this.length=0,this.unbound=!0}}(Gn),kr=function(){function t(t){t.unrender(!0)}function e(t){t.unrender(!1)}var n;return n=function(n){this.fragments.forEach(n?t:e)}}(),Ar=function(){for(var t,e,n,r,i;t=this.fragmentsToUnrender.pop();)t.unrender(!0);if(this.fragmentsToRender.length){for(this.rendered&&(i=this.parentFragment.getNode());t=this.fragmentsToRender.shift();)e=t.render(),this.docFrag.appendChild(e),this.rendered&&this.ordered&&(n=this.fragments[t.index+1],n&&n.rendered&&i.insertBefore(this.docFrag,n.firstNode()||null));this.rendered&&this.docFrag.childNodes.length&&(r=this.parentFragment.findNextNode(this),i.insertBefore(this.docFrag,r))}},Tr=function(t,e,n,r,i,o,a,s,u,c,h,l,f,d,p,v,m,g){var y=function(n){this.type=t.SECTION,this.subtype=n.template.n,this.inverted=this.subtype===t.SECTION_UNLESS,this.pElement=n.pElement,this.fragments=[],this.fragmentsToCreate=[],this.fragmentsToRender=[],this.fragmentsToUnrender=[],this.length=0,e.init(this,n)};return y.prototype={bubble:n,detach:r,find:i,findAll:o,findAllComponents:a,findComponent:s,findNextNode:u,firstNode:c,getValue:e.getValue,merge:h,rebind:e.rebind,render:l,resolve:e.resolve,setValue:f,splice:d,toString:p,unbind:v,unrender:m,update:g},y}($,ur,hr,lr,fr,dr,pr,vr,mr,gr,yr,br,wr,Er,xr,_r,kr,Ar),Or=function(){var t,e;if(this.docFrag){for(t=this.nodes.length,e=0;t>e;e+=1)this.docFrag.appendChild(this.nodes[e]);return this.docFrag}},Cr=function(t){return function(e){var n,r,i,o;for(r=this.nodes.length,n=0;r>n;n+=1)if(i=this.nodes[n],1===i.nodeType){if(t(i,e))return i;if(o=i.querySelector(e))return o}return null}}(Je),Nr=function(t){return function(e,n){var r,i,o,a,s,u;for(i=this.nodes.length,r=0;i>r;r+=1)if(o=this.nodes[r],1===o.nodeType&&(t(o,e)&&n.push(o),a=o.querySelectorAll(e)))for(s=a.length,u=0;s>u;u+=1)n.push(a[u])}}(Je),Rr=function(){return this.rendered&&this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)},Sr=function(t,e){function n(t){return a[t]||(a[t]=e(t))}var r,i,o,a={};try{e("table").innerHTML="foo"}catch(s){i=!0,o={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}return r=function(e,r,a){var s,u,c,h,l,f=[];if(e){for(i&&(u=o[r.tagName])?(s=n("DIV"),s.innerHTML=u[0]+e+u[1],s=s.querySelector(".x"),"SELECT"===s.tagName&&(c=s.options[s.selectedIndex])):r.namespaceURI===t.svg?(s=n("DIV"),s.innerHTML='<svg class="x">'+e+"</svg>",s=s.querySelector(".x")):(s=n(r.tagName),s.innerHTML=e);h=s.firstChild;)f.push(h),a.appendChild(h);if(i&&"SELECT"===r.tagName)for(l=f.length;l--;)f[l]!==c&&(f[l].selected=!1)}return f}}(A,T),Ir=function(t){for(var e=[],n=t.length;n--;)e[n]=t[n];return e},Lr=function(t){function e(t){return t.selected}var n;return n=function(n){var r,i,o;n&&"select"===n.name&&n.binding&&(r=t(n.node.options).filter(e),n.getAttribute("multiple")?o=r.map(function(t){return t.value}):(i=r[0])&&(o=i.value),void 0!==o&&n.binding.setValue(o),n.bubble())}}(Ir),Pr=function(t,e){return function(){if(this.rendered)throw new Error("Attempted to render an item that was already rendered");return this.docFrag=document.createDocumentFragment(),this.nodes=t(this.value,this.parentFragment.getNode(),this.docFrag),e(this.pElement),this.rendered=!0,this.docFrag}}(Sr,Lr),Fr=function(t){return function(e){var n;(n=this.root.viewmodel.wrapped[this.keypath])&&(e=n.get()),e!==this.value&&(this.value=e,this.parentFragment.bubble(),this.rendered&&t.addView(this))}}(E),Mr=function(){return void 0!=this.value?this.value:""},jr=function(t){return function(e){this.rendered&&e&&(this.nodes.forEach(t),this.rendered=!1)}}(zn),Vr=function(t,e){return function(){var n,r;if(this.rendered){for(;this.nodes&&this.nodes.length;)n=this.nodes.pop(),n.parentNode.removeChild(n);r=this.parentFragment.getNode(),this.nodes=t(this.value,r,this.docFrag),r.insertBefore(this.docFrag,this.parentFragment.findNextNode(this)),e(this.pElement)}}}(Sr,Lr),Dr=function(t,e,n,r,i,o,a,s,u,c,h,l){var f=function(n){this.type=t.TRIPLE,e.init(this,n)};return f.prototype={detach:n,find:r,findAll:i,firstNode:o,getValue:e.getValue,rebind:e.rebind,render:a,resolve:e.resolve,setValue:s,toString:u,unbind:l,unrender:c,update:h},f}($,ur,Or,Cr,Nr,Rr,Pr,Fr,Mr,jr,Vr,Gn),Ur=function(){this.parentFragment.bubble()},Wr=function(){var t,e=this.node;return e?((t=e.parentNode)&&t.removeChild(e),e):void 0},Br=function(t){return function(e){return t(this.node,e)?this.node:this.fragment&&this.fragment.find?this.fragment.find(e):void 0}}(Je),$r=function(t,e){e._test(this,!0)&&e.live&&(this.liveQueries||(this.liveQueries=[])).push(e),this.fragment&&this.fragment.findAll(t,e)},zr=function(t,e){this.fragment&&this.fragment.findAllComponents(t,e)},qr=function(t){return this.fragment?this.fragment.findComponent(t):void 0},Hr=function(){return null},Gr=function(){return this.node},Zr=function(t){return this.attributes&&this.attributes[t]?this.attributes[t].value:void 0},Kr=function(){var t,e,n,r;return t="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),e="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),n=function(t){for(var e={},n=t.length;n--;)e[t[n].toLowerCase()]=t[n];return e},r=n(t.concat(e)),function(t){var e=t.toLowerCase();return r[e]||e}}(),Qr=function(t){return function(){var e=this.fragment.getValue();e!==this.value&&("id"===this.name&&this.value&&delete this.root.nodes[this.value],this.value=e,"value"===this.name&&this.node&&(this.node._ractive.value=e),this.rendered&&t.addView(this))}}(E),Yr=function(){var t=/allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|draggable|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|spellcheck|translate|trueSpeed|typeMustMatch|visible/i;return t}(),Jr=function(t,e){return function(n,r){var i,o;if(i=r.indexOf(":"),-1===i||(o=r.substr(0,i),"xmlns"===o))n.name=n.element.namespace!==t.html?e(r):r;else if(r=r.substring(i+1),n.name=e(r),n.namespace=t[o.toLowerCase()],!n.namespace)throw'Unknown namespace ("'+o+'")'}}(A,Kr),Xr=function(t){return function(e){var n=e.fragment.items;if(1===n.length)return n[0].type===t.INTERPOLATOR?n[0]:void 0}}($),ti=function(t){var e={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"};return function(n,r){var i;!n.pNode||n.namespace||r.pNode.namespaceURI&&r.pNode.namespaceURI!==t.html||(i=e[n.name]||n.name,void 0!==r.pNode[i]&&(n.propertyName=i),("boolean"==typeof r.pNode[i]||"value"===i)&&(n.useProperty=!0))}}(A),ei=function(t,e,n,r,i,o){var a;return o.push(function(){a=o.Fragment}),function(o){return this.type=t.ATTRIBUTE,this.element=o.element,this.root=o.root,n(this,o.name),o.value&&"string"!=typeof o.value?(this.parentFragment=this.element.parentFragment,this.fragment=new a({template:o.value,root:this.root,owner:this}),this.value=this.fragment.getValue(),this.interpolator=r(this),this.isBindable=!!this.interpolator&&!this.interpolator.isStatic,i(this,o),void(this.ready=!0)):void(this.value=e.test(this.name)?!0:o.value||"")}}($,Yr,Jr,Xr,ti,i),ni=function(t,e,n,r){this.fragment&&this.fragment.rebind(t,e,n,r)},ri=function(t){var e={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"};return function(n){var r;this.node=n,n.namespaceURI&&n.namespaceURI!==t.html||(r=e[this.name]||this.name,void 0!==n[r]&&(this.propertyName=r),("boolean"==typeof n[r]||"value"===r)&&(this.useProperty=!0),"value"===r&&(this.useProperty=!0,n._ractive.value=this.value)),this.rendered=!0,this.update()}}(A),ii=function(t){function e(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}var n;return n=function(){var n=(o=this).name,r=o.value,i=o.interpolator,o=o.fragment;if(("value"!==n||"select"!==this.element.name&&"textarea"!==this.element.name)&&("value"!==n||void 0===this.element.getAttribute("contenteditable")))return"name"===n&&"input"===this.element.name&&i?"name={{"+(i.keypath||i.ref)+"}}":t.test(n)?r?n:"":(o&&(r=o.toString()),r?n+'="'+e(r)+'"':n)}}(Yr),oi=function(){this.fragment&&this.fragment.unbind()},ai=function(){var t,e,n,r,i=this.value;if(!this.locked)for(this.node._ractive.value=i,t=this.node.options,r=t.length;r--;)if(e=t[r],n=e._ractive?e._ractive.value:e.value,n==i){e.selected=!0;break}},si=function(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]==e)return!0;return!1},ui=function(t,e){return function(){var n,r,i,o,a=this.value;for(e(a)||(a=[a]),n=this.node.options,r=n.length;r--;)i=n[r],o=i._ractive?i._ractive.value:i.value,i.selected=t(a,o)}}(si,a),ci=function(){var t=(e=this).node,e=e.value;t.checked=e==t._ractive.value},hi=function(t){return function(){var e,n,r,i,o=this.node;if(e=o.checked,o.value=this.element.getAttribute("value"),o.checked=this.element.getAttribute("value")===this.element.getAttribute("name"),e&&!o.checked&&this.element.binding&&(r=this.element.binding.siblings,i=r.length)){for(;i--;){if(n=r[i],!n.element.node)return;if(n.element.node.checked)return t.addViewmodel(n.root.viewmodel),n.handleChange()}t.addViewmodel(n.root.viewmodel),this.root.viewmodel.set(n.keypath,void 0)}}}(E),li=function(t){return function(){var e,n;e=this.node,n=this.value,e.checked=t(n)?-1!==n.indexOf(e._ractive.value):n==e._ractive.value}}(a),fi=function(){var t,e;t=this.node,e=this.value,void 0===e&&(e=""),t.className=e},di=function(){var t,e;t=this.node,e=this.value,void 0!==e&&(this.root.nodes[e]=void 0),this.root.nodes[e]=t,t.id=e},pi=function(){var t,e;t=this.node,e=this.value,void 0===e&&(e=""),t.style.setAttribute("cssText",e)},vi=function(){var t=this.value;void 0===t&&(t=""),this.locked||(this.node.innerHTML=t)},mi=function(){var t=(e=this).node,e=e.value;t._ractive.value=e,this.locked||(t.value=void 0==e?"":e)},gi=function(){this.locked||(this.node[this.propertyName]=this.value)},yi=function(t){return function(){var e=(o=this).node,n=o.namespace,r=o.name,i=o.value,o=o.fragment;n?e.setAttributeNS(n,r,(o||i).toString()):t.test(r)?i?e.setAttribute(r,""):e.removeAttribute(r):e.setAttribute(r,(o||i).toString())}}(Yr),bi=function(t,e,n,r,i,o,a,s,u,c,h,l,f,d){return function(){var p,v,m,g,y;p=this.name,v=this.element,m=this.node,"id"===p?y=u:"value"===p?"select"===v.name&&"value"===p?y=v.getAttribute("multiple")?r:n:"textarea"===v.name?y=l:null!=v.getAttribute("contenteditable")?y=h:"input"===v.name&&(g=v.getAttribute("type"),y="file"===g?e:"radio"===g&&v.binding&&"name"===v.binding.name?o:l):this.twoway&&"name"===p?"radio"===m.type?y=i:"checkbox"===m.type&&(y=a):"style"===p&&m.style.setAttribute?y=c:"class"!==p||m.namespaceURI&&m.namespaceURI!==t.html?this.useProperty&&(y=f):y=s,y||(y=d),this.update=y,this.update()}}(A,$e,ai,ui,ci,hi,li,fi,di,pi,vi,mi,gi,yi),wi=function(t,e,n,r,i,o,a){var s=function(t){this.init(t)};return s.prototype={bubble:t,init:e,rebind:n,render:r,toString:i,unbind:o,update:a},s}(Qr,ei,ni,ri,ii,oi,bi),Ei=function(t){return function(e,n){var r,i,o=[];for(r in n)n.hasOwnProperty(r)&&(i=new t({element:e,name:r,value:n[r],root:e.root}),o.push(o[r]=i));return o}}(wi),xi=function(t){for(var e,n,r=Array.prototype.slice,i=r.call(arguments,1);n=i.shift();)for(e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t},_i=function(t,e,n,r,i){var o=function(t){var n,r,i;return this.element=t,this.root=t.root,this.attribute=t.attributes[this.name||"value"],n=this.attribute.interpolator,n.twowayBinding=this,n.keypath&&"${"===n.keypath.substr?(e("Two-way binding does not work with expressions: "+n.keypath),!1):(n.keypath||(n.ref&&n.resolve(n.ref),n.resolver&&n.resolver.forceResolution()),this.keypath=r=n.keypath,void(void 0===this.root.viewmodel.get(r)&&this.getInitialValue&&(i=this.getInitialValue(),void 0!==i&&this.root.viewmodel.set(r,i))))};return o.prototype={handleChange:function(){var e=this;t.start(this.root),this.attribute.locked=!0,this.root.viewmodel.set(this.keypath,this.getValue()),t.scheduleTask(function(){return e.attribute.locked=!1}),t.end()},rebound:function(){var t,e,n;e=this.keypath,n=this.attribute.interpolator.keypath,e!==n&&(i(this.root._twowayBindings[e],this),this.keypath=n,t=this.root._twowayBindings[n]||(this.root._twowayBindings[n]=[]),t.push(this))},unbind:function(){}},o.extend=function(t){var e,i=this;return e=function(t){o.call(this,t),this.init&&this.init()},e.prototype=n(i.prototype),r(e.prototype,t),e.extend=o.extend,e},o}(E,j,z,xi,d),ki=function(){this._ractive.binding.handleChange()},Ai=function(t,e){var n=t.extend({getInitialValue:function(){return this.element.fragment?this.element.fragment.toString():""},render:function(){var t=this.element.node;t.addEventListener("change",e,!1),this.root.lazy||(t.addEventListener("input",e,!1),t.attachEvent&&t.addEventListener("keyup",e,!1))},unrender:function(){var t=this.element.node;t.removeEventListener("change",e,!1),t.removeEventListener("input",e,!1),t.removeEventListener("keyup",e,!1)},getValue:function(){return this.element.node.innerHTML}});return n}(_i,ki),Ti=function(){var t={};return function(e,n,r){var i=e+n+r;return t[i]||(t[i]=[])}}(),Oi=function(t,e,n,r,i){var o=n.extend({name:"checked",init:function(){this.siblings=r(this.root._guid,"radio",this.element.getAttribute("name")),this.siblings.push(this)},render:function(){var t=this.element.node;t.addEventListener("change",i,!1),t.attachEvent&&t.addEventListener("click",i,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",i,!1),t.removeEventListener("click",i,!1)},handleChange:function(){t.start(this.root),this.siblings.forEach(function(t){t.root.viewmodel.set(t.keypath,t.getValue())}),t.end()},getValue:function(){return this.element.node.checked},unbind:function(){e(this.siblings,this)}});return o}(E,d,_i,Ti,ki),Ci=function(t,e,n,r){var i=e.extend({name:"name",init:function(){this.siblings=r(this.root._guid,"radioname",this.keypath),this.siblings.push(this),this.radioName=!0,this.attribute.twoway=!0},getInitialValue:function(){return this.element.getAttribute("checked")?this.element.getAttribute("value"):void 0
},render:function(){var t=this.element.node;t.name="{{"+this.keypath+"}}",t.checked=this.root.viewmodel.get(this.keypath)==this.element.getAttribute("value"),t.addEventListener("change",n,!1),t.attachEvent&&t.addEventListener("click",n,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",n,!1),t.removeEventListener("click",n,!1)},getValue:function(){var t=this.element.node;return t._ractive?t._ractive.value:t.value},handleChange:function(){this.element.node.checked&&e.prototype.handleChange.call(this)},rebound:function(t,n,r,i){var o;e.prototype.rebound.call(this,t,n,r,i),(o=this.element.node)&&(o.name="{{"+this.keypath+"}}")},unbind:function(){t(this.siblings,this)}});return i}(d,_i,ki,Ti),Ni=function(t,e,n,r,i){function o(t){return t.isChecked}function a(t){return t.element.getAttribute("value")}var s=n.extend({name:"name",getInitialValue:function(){return this.noInitialValue=!0,[]},init:function(){var e,n,i;this.checkboxName=!0,this.siblings=r(this.root._guid,"checkboxes",this.keypath),this.siblings.push(this),this.noInitialValue&&(this.siblings.noInitialValue=!0),i=this.siblings.noInitialValue,e=this.root.viewmodel.get(this.keypath),n=this.element.getAttribute("value"),i?(this.isChecked=this.element.getAttribute("checked"),this.isChecked&&e.push(n)):this.isChecked=t(e)?-1!==e.indexOf(n):e===n},unbind:function(){e(this.siblings,this)},render:function(){var t=this.element.node;t.name="{{"+this.keypath+"}}",t.checked=this.isChecked,t.addEventListener("change",i,!1),t.attachEvent&&t.addEventListener("click",i,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",i,!1),t.removeEventListener("click",i,!1)},changed:function(){var t=!!this.isChecked;return this.isChecked=this.element.node.checked,this.isChecked===t},handleChange:function(){this.isChecked=this.element.node.checked,n.prototype.handleChange.call(this)},getValue:function(){return this.siblings.filter(o).map(a)}});return s}(a,d,_i,Ti,ki),Ri=function(t,e){var n=t.extend({name:"checked",render:function(){var t=this.element.node;t.addEventListener("change",e,!1),t.attachEvent&&t.addEventListener("click",e,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",e,!1),t.removeEventListener("click",e,!1)},getValue:function(){return this.element.node.checked}});return n}(_i,ki),Si=function(t,e,n){var r=e.extend({getInitialValue:function(){var t,e,n,r,i=this.element.options;if(void 0===this.element.getAttribute("value")&&(e=t=i.length,t)){for(;e--;)if(i[e].getAttribute("selected")){n=i[e].getAttribute("value"),r=!0;break}if(!r)for(;++e<t;)if(!i[e].getAttribute("disabled")){n=i[e].getAttribute("value");break}return void 0!==n&&(this.element.attributes.value.value=n),n}},render:function(){this.element.node.addEventListener("change",n,!1)},unrender:function(){this.element.node.removeEventListener("change",n,!1)},setValue:function(e){t.addViewmodel(this.root.viewmodel),this.root.viewmodel.set(this.keypath,e)},getValue:function(){var t,e,n,r,i;for(t=this.element.node.options,n=t.length,e=0;n>e;e+=1)if(r=t[e],t[e].selected)return i=r._ractive?r._ractive.value:r.value},forceUpdate:function(){var e=this,n=this.getValue();void 0!==n&&(this.attribute.locked=!0,t.addViewmodel(this.root.viewmodel),t.scheduleTask(function(){return e.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,n))}});return r}(E,_i,ki),Ii=function(t){return function(e,n){var r;if(!t(e)||!t(n))return!1;if(e.length!==n.length)return!1;for(r=e.length;r--;)if(e[r]!==n[r])return!1;return!0}}(a),Li=function(t,e,n,r){var i=n.extend({getInitialValue:function(){return this.element.options.filter(function(t){return t.getAttribute("selected")}).map(function(t){return t.getAttribute("value")})},render:function(){var t;this.element.node.addEventListener("change",r,!1),t=this.root.viewmodel.get(this.keypath),void 0===t&&this.handleChange()},unrender:function(){this.element.node.removeEventListener("change",r,!1)},setValue:function(){throw new Error("TODO not implemented yet")},getValue:function(){var t,e,n,r,i,o;for(t=[],e=this.element.node.options,r=e.length,n=0;r>n;n+=1)i=e[n],i.selected&&(o=i._ractive?i._ractive.value:i.value,t.push(o));return t},handleChange:function(){var t,r,i;return t=this.attribute,r=t.value,i=this.getValue(),void 0!==r&&e(i,r)||n.prototype.handleChange.call(this),this},forceUpdate:function(){var e=this,n=this.getValue();void 0!==n&&(this.attribute.locked=!0,t.addViewmodel(this.root.viewmodel),t.scheduleTask(function(){return e.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,n))},updateModel:function(){void 0!==this.attribute.value&&this.attribute.value.length||this.root.viewmodel.set(this.keypath,this.initialValue)}});return i}(E,Ii,Si,ki),Pi=function(t,e){var n=t.extend({render:function(){this.element.node.addEventListener("change",e,!1)},unrender:function(){this.element.node.removeEventListener("change",e,!1)},getValue:function(){return this.element.node.files}});return n}(_i,ki),Fi=function(t,e){function n(){var t;e.call(this),t=this._ractive.root.viewmodel.get(this._ractive.binding.keypath,o),this.value=void 0==t?"":t}var r,i,o;return o={evaluateWrapped:!0},i=t.extend({getInitialValue:function(){return""},getValue:function(){return this.element.node.value},render:function(){var t=this.element.node;t.addEventListener("change",e,!1),this.root.lazy||(t.addEventListener("input",e,!1),t.attachEvent&&t.addEventListener("keyup",e,!1)),t.addEventListener("blur",n,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",e,!1),t.removeEventListener("input",e,!1),t.removeEventListener("keyup",e,!1),t.removeEventListener("blur",n,!1)}}),r=i}(_i,ki),Mi=function(t){return t.extend({getInitialValue:function(){return void 0},getValue:function(){var t=parseFloat(this.element.node.value);return isNaN(t)?void 0:t}})}(Fi),ji=function(t,e,n,r,i,o,a,s,u,c,h){function l(t){return t&&t.isBindable}var f;return f=function(f){var d,p,v,m,g=f.attributes;return f.binding&&(f.binding.teardown(),f.binding=null),f.getAttribute("contenteditable")&&l(g.value)?p=e:"input"===f.name?(d=f.getAttribute("type"),"radio"===d||"checkbox"===d?(v=l(g.name),m=l(g.checked),v&&m&&t.error({message:"badRadioInputBinding"}),v?p="radio"===d?r:i:m&&(p="radio"===d?n:o)):"file"===d&&l(g.value)?p=u:l(g.value)&&(p="number"===d||"range"===d?c:h)):"select"===f.name&&l(g.value)?p=f.getAttribute("multiple")?s:a:"textarea"===f.name&&l(g.value)&&(p=h),p?new p(f):void 0}}(Jn,Ai,Oi,Ci,Ni,Ri,Si,Li,Pi,Mi,Fi),Vi=function(){var t=this.getAction();t&&!this.hasListener?this.listen():!t&&this.hasListener&&this.unrender()},Di=function(t){return function(e){t(this.root,this.getAction(),{event:e})}}(f),Ui=function(){return this.action.toString().trim()},Wi=function(t,e,n,r,i,o,a){function s(t){var e,n,r;if(e=this.root,"function"!=typeof e[this.method])throw new Error('Attempted to call a non-existent method ("'+this.method+'")');n=this.args.map(function(n){var r,i,o;if(!n)return void 0;if(n.indexRef)return n.value;if(n.eventObject){if(r=t,i=n.refinements.length)for(o=0;i>o;o+=1)r=r[n.refinements[o]]}else r=e.get(n.keypath);return r}),r=this.fn.apply(null,n),e[this.method].apply(e,r)}function u(t){o(this.root,this.getAction(),{event:t,args:this.params})}function c(t){var e=this.dynamicParams.getValue(f);"string"==typeof e&&(e=e.substr(1,e.length-2)),o(this.root,this.getAction(),{event:t,args:e})}var h,l,f={args:!0},d=/^event(?:\.(.+))?/;return i.push(function(){l=i.Fragment}),h=function(i,o,h){var f,p,v,m,g,y=this;y.element=i,y.root=i.root,y.name=o,-1!==o.indexOf("*")&&(a.error({debug:this.root.debug,message:"noElementProxyEventWildcards",args:{element:i.tagName,event:o}}),this.invalid=!0),h.m?(y.method=h.m,y.args=p=[],y.unresolved=[],y.refs=h.a.r,y.fn=e(h.a.s,y.refs.length),g=i.parentFragment,v=g.indexRefs,m=y.root,h.a.r.forEach(function(e,i){var o,a,s,u;return v&&void 0!==(o=v[e])?void(p[i]={indexRef:e,value:o}):(s=d.exec(e))?void(p[i]={eventObject:!0,refinements:s[1]?s[1].split("."):[]}):(a=n(m,e,g))?void(p[i]={keypath:a}):(p[i]=null,u=new r(m,e,g,function(e){y.resolve(i,e),t(y.unresolved,u)}),void y.unresolved.push(u))}),this.fire=s):(f=h.n||h,"string"!=typeof f&&(f=new l({template:f,root:this.root,owner:this})),this.action=f,h.d?(this.dynamicParams=new l({template:h.d,root:this.root,owner:this.element}),this.fire=c):h.a&&(this.params=h.a,this.fire=u))}}(d,Xn,b,Kn,i,f,Jn),Bi=function(t){var e,n;e=this._ractive,n=e.events[t.type],n.fire({node:this,original:t,index:e.index,keypath:e.keypath,context:e.root.get(e.keypath)})},$i=function(t,e,n){function r(t){return o[t]||(o[t]=function(e){var n=e.node._ractive;e.index=n.index,e.keypath=n.keypath,e.context=n.root.get(n.keypath),n.events[t].fire(e)}),o[t]}var i,o={};return i=function(){var i,o=this.name;this.invalid||((i=t.registries.events.find(this.root,o))?this.custom=i(this.node,r(o)):("on"+o in this.node||window&&"on"+o in window||n.error({debug:this.root.debug,message:"missingPlugin",args:{plugin:"event",name:o}}),this.node.addEventListener(o,e,!1)),this.hasListener=!0)}}(He,Bi,Jn),zi=function(t){return function(e,n,r,i){return this.method?void this.args.forEach(function(o){o.indexRef&&o.indexRef===e&&(o.value=n),o.keypath&&(i=t(o.keypath,r,i))&&(o.keypath=i)}):("string"!=typeof this.action&&this.action.rebind(e,n,r,i),void(this.dynamicParams&&this.dynamicParams.rebind(e,n,r,i)))}}(Yn),qi=function(){this.node=this.element.node,this.node._ractive.events[this.name]=this,(this.method||this.getAction())&&this.listen()},Hi=function(t,e){this.args[t]={keypath:e}},Gi=function(){function t(t){t.teardown()}var e;return e=function(){return this.method?void this.unresolved.forEach(t):("string"!=typeof this.action&&this.action.unbind(),void(this.dynamicParams&&this.dynamicParams.unbind()))}}(),Zi=function(t){return function(){this.custom?this.custom.teardown():this.node.removeEventListener(this.name,t,!1),this.hasListener=!1}}(Bi),Ki=function(t,e,n,r,i,o,a,s,u,c){var h=function(t,e,n){this.init(t,e,n)};return h.prototype={bubble:t,fire:e,getAction:n,init:r,listen:i,rebind:o,render:a,resolve:s,unbind:u,unrender:c},h}(Vi,Di,Ui,Wi,$i,zi,qi,Hi,Gi,Zi),Qi=function(t){return function(e,n){var r,i,o,a,s=[];for(i in n)if(n.hasOwnProperty(i))for(o=i.split("-"),r=o.length;r--;)a=new t(e,o[r],n[i]),s.push(a);return s}}(Ki),Yi=function(t,e,n){var r,i,o;return e.push(function(){r=e.Fragment}),i={args:!0},o=function(e,o){var a,s,u,c=this;c.element=e,c.root=a=e.root,s=o.n||o,"string"!=typeof s&&(u=new r({template:s,root:a,owner:e}),s=u.toString(),u.unbind()),o.a?c.params=o.a:o.d&&(c.fragment=new r({template:o.d,root:a,owner:e}),c.params=c.fragment.getValue(i),c.fragment.bubble=function(){this.dirtyArgs=this.dirtyValue=!0,c.params=this.getValue(i),c.ready&&c.update()}),c.fn=n.registries.decorators.find(a,s),c.fn||t.error({debug:a.debug,message:"missingPlugin",args:{plugin:"decorator",name:s}})},o.prototype={init:function(){var t,e,n,r=this;if(t=r.element.node,r.params?(n=[t].concat(r.params),e=r.fn.apply(r.root,n)):e=r.fn.call(r.root,t),!e||!e.teardown)throw new Error("Decorator definition must return an object with a teardown method");r.actual=e,r.ready=!0},update:function(){this.actual.update?this.actual.update.apply(this.root,this.params):(this.actual.teardown(!0),this.init())},rebind:function(t,e,n,r){this.fragment&&this.fragment.rebind(t,e,n,r)},teardown:function(t){this.actual.teardown(),!t&&this.fragment&&this.fragment.unbind()}},o}(Jn,i,He),Ji=function(t){function e(t,e){for(var n=t.length;n--;)if(t[n]==e)return!0}var n;return n=function(n){var r,i,o,a,s;r=n.node,r&&(a=t(r.options),i=n.getAttribute("value"),o=n.getAttribute("multiple"),void 0!==i?(a.forEach(function(t){var n,r;n=t._ractive?t._ractive.value:t.value,r=o?e(i,n):i==n,r&&(s=!0),t.selected=r}),s||(a[0]&&(a[0].selected=!0),n.binding&&n.binding.forceUpdate())):n.binding&&n.binding.forceUpdate())}}(Ir),Xi=function(t,e){return function(){var n=this;this.dirty||(this.dirty=!0,t.scheduleTask(function(){e(n),n.dirty=!1})),this.parentFragment.bubble()}}(E,Ji),to=function(t){do if("select"===t.name)return t;while(t=t.parent)},eo=function(t){return function(e,n){e.select=t(e.parent),e.select&&(e.select.options.push(e),n.a||(n.a={}),n.a.value||n.a.hasOwnProperty("disabled")||(n.a.value=n.f),"selected"in n.a&&void 0!==e.select.getAttribute("value")&&delete n.a.selected)}}(to),no=function(t,e,n,r,i,o,a,s,u){var c;return u.push(function(){c=u.Fragment}),function(u){var h,l,f,d,p;this.type=t.ELEMENT,h=this.parentFragment=u.parentFragment,l=this.template=u.template,this.parent=u.pElement||h.pElement,this.root=f=h.root,this.index=u.index,this.name=e(l.e),"option"===this.name&&s(this,l),"select"===this.name&&(this.options=[],this.bubble=a),this.attributes=n(this,l.a),l.f&&(this.fragment=new c({template:l.f,root:f,owner:this,pElement:this})),f.twoway&&(d=r(this,l.a))&&(this.binding=d,p=this.root._twowayBindings[d.keypath]||(this.root._twowayBindings[d.keypath]=[]),p.push(d)),l.v&&(this.eventHandlers=i(this,l.v)),l.o&&(this.decorator=new o(this,l.o)),this.intro=l.t0||l.t1,this.outro=l.t0||l.t2}}($,Kr,Ei,ji,Qi,Yi,Xi,eo,i),ro=function(t){return function(e,n){return e===n||t(e,n)}}(Qn),io=function(t,e){return function(n,r,i,o){var a=n[r];a&&!t(a,o)&&t(a,i)&&(n[r]=e(a,i,o))}}(ro,Yn),oo=function(t){return function(e,n,r,i){function o(t){t.rebind(e,n,r,i)}var a,s,u,c;if(this.attributes&&this.attributes.forEach(o),this.eventHandlers&&this.eventHandlers.forEach(o),this.decorator&&o(this.decorator),this.fragment&&o(this.fragment),u=this.liveQueries)for(c=this.root,a=u.length;a--;)u[a]._makeDirty();this.node&&(s=this.node._ractive)&&(t(s,"keypath",r,i),void 0!=e&&(s.index[e]=n))}}(io),ao=function(t){var e;(t.attributes.width||t.attributes.height)&&t.node.addEventListener("load",e=function(){var n=t.getAttribute("width"),r=t.getAttribute("height");void 0!==n&&t.node.setAttribute("width",n),void 0!==r&&t.node.setAttribute("height",r),t.node.removeEventListener("load",e,!1)},!1)},so=function(t,e,n){var r,i={};return n.push(function(){r=n.Fragment}),function(n,o,a){var s,u,c,h=this;return h.element=n,h.root=s=n.root,h.isIntro=a,u=o.n||o,"string"!=typeof u&&(c=new r({template:u,root:s,owner:n}),u=c.toString(),c.unbind()),h.name=u,o.a?h.params=o.a:o.d&&(c=new r({template:o.d,root:s,owner:n}),h.params=c.getValue(i),c.unbind()),h._fn=e.registries.transitions.find(s,u),h._fn?void 0:void t.error({debug:s.debug,message:"missingPlugin",args:{plugin:"transition",name:u}})}}(Jn,He,i),uo=function(t){return t.replace(/-([a-zA-Z])/g,function(t,e){return e.toUpperCase()})},co=function(t,e,n,r){var i,o,a;return t?(o={},a=n("div").style,i=function(t){var n,i,s;if(t=r(t),!o[t])if(void 0!==a[t])o[t]=t;else for(s=t.charAt(0).toUpperCase()+t.substring(1),n=e.length;n--;)if(i=e[n],void 0!==a[i+s]){o[t]=i+s;break}return o[t]}):i=null,i}(O,L,T,uo),ho=function(t,e,n,r){var i,o;return e?(o=window.getComputedStyle||t.getComputedStyle,i=function(t){var e,i,a,s,u;if(e=o(this.node),"string"==typeof t)return u=e[r(t)],"0px"===u&&(u=0),u;if(!n(t))throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties");for(i={},a=t.length;a--;)s=t[a],u=e[r(s)],"0px"===u&&(u=0),i[s]=u;return i}):i=null,i}(we,O,a,co),lo=function(t){return function(e,n){var r;if("string"==typeof e)this.node.style[t(e)]=n;else for(r in e)e.hasOwnProperty(r)&&(this.node.style[t(r)]=e[r]);return this}}(co),fo=function(t,e,n){function r(t){return t}var i,o=function(i){var o;this.duration=i.duration,this.step=i.step,this.complete=i.complete,"string"==typeof i.easing?(o=i.root.easing[i.easing],o||(t('Missing easing function ("'+i.easing+'"). You may need to download a plugin from [TODO]'),o=r)):o="function"==typeof i.easing?i.easing:r,this.easing=o,this.start=e(),this.end=this.start+this.duration,this.running=!0,n.add(this)};return o.prototype={tick:function(t){var e,n;return this.running?t>this.end?(this.step&&this.step(1),this.complete&&this.complete(1),!1):(e=t-this.start,n=this.easing(e/this.duration),this.step&&this.step(n),!0):!1},stop:function(){this.abort&&this.abort(),this.running=!1}},i=o}(j,F,M),po=function(t){var e=new RegExp("^-(?:"+t.join("|")+")-");return function(t){return t.replace(e,"")}}(L),vo=function(t){var e=new RegExp("^(?:"+t.join("|")+")([A-Z])");return function(t){var n;return t?(e.test(t)&&(t="-"+t),n=t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})):""}}(L),mo=function(t,e,n,r,i,o,a,s,u){var c,h,l,f,d,p,v,m,g={},y={};return t?(h=n("div").style,function(){void 0!==h.transition?(l="transition",f="transitionend",d=!0):void 0!==h.webkitTransition?(l="webkitTransition",f="webkitTransitionEnd",d=!0):d=!1}(),l&&(p=l+"Duration",v=l+"Property",m=l+"TimingFunction"),c=function(t,n,c,h,l){setTimeout(function(){var b,w,E,x,_;x=function(){w&&E&&(t.root.fire(t.name+":end",t.node,t.isIntro),l())},b=(t.node.namespaceURI||"")+t.node.tagName,t.node.style[v]=h.map(a).map(u).join(","),t.node.style[m]=u(c.easing||"linear"),t.node.style[p]=c.duration/1e3+"s",_=function(e){var n;n=h.indexOf(r(s(e.propertyName))),-1!==n&&h.splice(n,1),h.length||(t.node.removeEventListener(f,_,!1),E=!0,x())},t.node.addEventListener(f,_,!1),setTimeout(function(){for(var s,u,l,p,v,m=h.length,k=[];m--;)p=h[m],s=b+p,d&&!y[s]&&(t.node.style[a(p)]=n[p],g[s]||(u=t.getStyle(p),g[s]=t.getStyle(p)!=n[p],y[s]=!g[s],y[s]&&(t.node.style[a(p)]=u))),(!d||y[s])&&(void 0===u&&(u=t.getStyle(p)),l=h.indexOf(p),-1===l?e("Something very strange happened with transitions. If you see this message, please let @RactiveJS know. Thanks!"):h.splice(l,1),v=/[^\d]*$/.exec(n[p])[0],k.push({name:a(p),interpolator:i(parseFloat(u),parseFloat(n[p])),suffix:v}));k.length?new o({root:t.root,duration:c.duration,easing:r(c.easing||""),step:function(e){var n,r;for(r=k.length;r--;)n=k[r],t.node.style[n.name]=n.interpolator(e)+n.suffix},complete:function(){w=!0,x()}}):w=!0,h.length||(t.node.removeEventListener(f,_,!1),E=!0,x())},0)},c.delay||0)}):c=null,c}(O,j,T,uo,Ge,fo,co,po,vo),go=function(t){function e(){u.hidden=document[i]}function n(){u.hidden=!0}function r(){u.hidden=!1}var i,o,a,s,u;if("undefined"!=typeof document){if(i="hidden",u={},i in document)a="";else for(s=t.length;s--;)o=t[s],i=o+"Hidden",i in document&&(a=o);void 0!==a?(document.addEventListener(a+"visibilitychange",e),e()):("onfocusout"in document?(document.addEventListener("focusout",n),document.addEventListener("focusin",r)):(window.addEventListener("pagehide",n),window.addEventListener("blur",n),window.addEventListener("pageshow",r),window.addEventListener("focus",r)),u.hidden=!1)}return u}(L),yo=function(t,e,n,r,i,o,a){var s,u,c;return e?(u=window.getComputedStyle||t.getComputedStyle,s=function(t,e,s,h){var l,f=this;if(a.hidden)return this.setStyle(t,e),c||(c=r.resolve());"string"==typeof t?(l={},l[t]=e):(l=t,h=s,s=e),s||(n('The "'+f.name+'" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340'),s=f,h=f.complete);var d=new r(function(t){var e,n,r,a,c,h,d;if(!s.duration)return f.setStyle(l),void t();for(e=Object.keys(l),n=[],r=u(f.node),c={},h=e.length;h--;)d=e[h],a=r[i(d)],"0px"===a&&(a=0),a!=l[d]&&(n.push(d),f.node.style[i(d)]=a);return n.length?void o(f,l,s,n,t):void t()});return h&&(n("t.animateStyle returns a Promise as of 0.4.0. Transition authors should do t.animateStyle(...).then(callback)"),d.then(h)),d}):s=null,s}(we,O,j,p,co,mo,go),bo=function(t,e){var n;for(n in e)!e.hasOwnProperty(n)||n in t||(t[n]=e[n]);return t},wo=function(t){return function(e,n){return"number"==typeof e?e={duration:e}:"string"==typeof e?e="slow"===e?{duration:600}:"fast"===e?{duration:200}:{duration:400}:e||(e={}),t(e,n)}}(bo),Eo=function(){function t(t,e){e?t.setAttribute("style",e):(t.getAttribute("style"),t.removeAttribute("style"))}var e;return e=function(){var e,n,r=this;return e=r.node=r.element.node,n=e.getAttribute("style"),r.complete=function(i){!i&&r.isIntro&&t(e,n),e._ractive.transition=null,r._manager.remove(r)},r._fn?void r._fn.apply(r.root,[r].concat(r.params)):void r.complete()}}(),xo=function(t,e,n,r,i,o,a){var s,u;return a.push(function(){s=a.Fragment}),u=function(t,e,n){this.init(t,e,n)},u.prototype={init:t,start:o,getStyle:e,setStyle:n,animateStyle:r,processParams:i},u}(so,ho,lo,yo,wo,Eo,i),_o=function(t,e,n,r,i,o,a,s,u,c,h){function l(e){var n,r,i;return n=(r=e.getAttribute("xmlns"))?r:"svg"===e.name?t.svg:(i=e.parent)?"foreignObject"===i.name?t.html:i.node.namespaceURI:e.root.el.namespaceURI}function f(t){var n,r,i;if(t.select&&(r=t.select.getAttribute("value"),void 0!==r))if(n=t.getAttribute("value"),t.select.node.multiple&&e(r)){for(i=r.length;i--;)if(n==r[i]){t.node.selected=!0;break}}else t.node.selected=n==r}function d(t){var e,n,r,i,o;e=t.root;do for(n=e._liveQueries,r=n.length;r--;)i=n[r],o=n["_"+i],o._test(t)&&(t.liveQueries||(t.liveQueries=[])).push(o);while(e=e._parent)}var p,v,m;return v=function(){var t=this.node,e=this.fragment.toString(!1);if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}},m=function(){this.node.type&&"text/javascript"!==this.node.type||n("Script tag was updated. This does not cause the code to be re-evaluated!"),this.node.text=this.fragment.toString(!1)},p=function(){var t,e,n=this,p=this.root;if(t=l(this),e=this.node=i(this.name,t),p.constructor.css&&this.parentFragment.getNode()===p.el&&this.node.setAttribute("data-rvcguid",p.constructor._guid),o(this.node,"_ractive",{value:{proxy:this,keypath:u(this.parentFragment),index:this.parentFragment.indexRefs,events:r(null),root:p}}),this.attributes.forEach(function(t){return t.render(e)}),this.fragment&&("script"===this.name?(this.bubble=m,this.node.text=this.fragment.toString(!1),this.fragment.unrender=a):"style"===this.name?(this.bubble=v,this.bubble(),this.fragment.unrender=a):this.binding&&this.getAttribute("contenteditable")?this.fragment.unrender=a:this.node.appendChild(this.fragment.render())),this.eventHandlers&&this.eventHandlers.forEach(function(t){return t.render()}),this.binding&&(this.binding.render(),this.node._ractive.binding=this.binding),"img"===this.name&&c(this),this.decorator&&this.decorator.fn&&s.scheduleTask(function(){n.decorator.init()}),p.transitionsEnabled&&this.intro){var g=new h(this,this.intro,!0);s.registerTransition(g),s.scheduleTask(function(){return g.start()})}return"option"===this.name&&f(this),this.node.autofocus&&s.scheduleTask(function(){return n.node.focus()}),d(this),this.node}}(A,a,j,z,T,C,$e,E,m,ao,xo),ko=function(t,e,n){function r(t){var n,r,i;if(n=t.getAttribute("value"),void 0===n||!t.select)return!1;if(r=t.select.getAttribute("value"),r==n)return!0;if(t.select.getAttribute("multiple")&&e(r))for(i=r.length;i--;)if(r[i]==n)return!0}function i(t){var e,n,r,i;return e=t.attributes,n=e.type,r=e.value,i=e.name,n&&"radio"===n.value&&r&&i.interpolator&&r.value===i.interpolator.value?!0:void 0}function o(t){var e=t.toString();return e?" "+e:""}var a;return a=function(){var e,a;return e="<"+(this.template.y?"!DOCTYPE":this.template.e),e+=this.attributes.map(o).join(""),"option"===this.name&&r(this)&&(e+=" selected"),"input"===this.name&&i(this)&&(e+=" checked"),e+=">","textarea"===this.name&&void 0!==this.getAttribute("value")?e+=n(this.getAttribute("value")):void 0!==this.getAttribute("contenteditable")&&(e+=this.getAttribute("value")),this.fragment&&(a="script"!==this.name&&"style"!==this.name,e+=this.fragment.toString(a)),t.test(this.template.e)||(e+="</"+this.template.e+">"),e}}(ke,a,$n),Ao=function(t){return function(e){e.select&&t(e.select.options,e)}}(d),To=function(t){function e(t){t.unbind()}var n;return n=function(){this.fragment&&this.fragment.unbind(),this.binding&&this.binding.unbind(),this.eventHandlers&&this.eventHandlers.forEach(e),"option"===this.name&&t(this),this.attributes.forEach(e)}}(Ao),Oo=function(t,e){function n(t){var e,n,r;for(r=t.liveQueries.length;r--;)e=t.liveQueries[r],n=e.selector,e._remove(t.node)}var r;return r=function(r){var i,o;if("option"===this.name?this.detach():r&&t.detachWhenReady(this),this.fragment&&this.fragment.unrender(!1),(i=this.binding)&&(this.binding.unrender(),this.node._ractive.binding=null,o=this.root._twowayBindings[i.keypath],o.splice(o.indexOf(i),1)),this.eventHandlers&&this.eventHandlers.forEach(function(t){return t.unrender()}),this.decorator&&this.decorator.teardown(),this.root.transitionsEnabled&&this.outro){var a=new e(this,this.outro,!1);t.registerTransition(a),t.scheduleTask(function(){return a.start()})}this.liveQueries&&n(this),this.node.id&&delete this.root.nodes[this.node.id]}}(E,xo),Co=function(t,e,n,r,i,o,a,s,u,c,h,l,f,d,p){var v=function(t){this.init(t)};return v.prototype={bubble:t,detach:e,find:n,findAll:r,findAllComponents:i,findComponent:o,findNextNode:a,firstNode:s,getAttribute:u,init:c,rebind:h,render:l,toString:f,unbind:d,unrender:p},v}(Ur,Wr,Br,$r,zr,qr,Hr,Gr,Zr,no,oo,_o,ko,To,Oo),No=function(){function t(t,e){var n=r.exec(e)[0];return null===t||n.length<t.length?n:t}var e,n=/^\s*$/,r=/^\s*/;return e=function(e){var r,i,o,a;return r=e.split("\n"),i=r[0],void 0!==i&&n.test(i)&&r.shift(),o=r[r.length-1],void 0!==o&&n.test(o)&&r.pop(),a=r.reduce(t,null),a&&(e=r.map(function(t){return t.replace(a,"")}).join("\n")),e}}(),Ro=function(t,e,n,r){function i(r,i){var o=e.registries.partials,a=o.findInstance(r,i);if(a){var s,u=a.partials[i];if("function"==typeof u&&(s=u.bind(a),s.isOwner=a.partials.hasOwnProperty(i),u=s(a.data,n)),!u)return void t.warn({debug:r.debug,message:"noRegistryFunctionReturn",args:{registry:"partial",name:i}});if(!n.isParsed(u)){var c=n.parse(u,n.getParseOptions(a));c.p&&t.warn({debug:r.debug,message:"noNestedPartials",args:{rname:i}});var h=s?a:o.findOwner(a,i);h.partials[i]=u=c.t}return s&&(u._fn=s),u.v?u.t:u}}var o;return o=function(e,o){var a;if(a=i(e,o))return a;if(a=n.fromId(o,{noThrow:!0})){a=r(a);var s=n.parse(a,n.getParseOptions(e));return e.partials[o]=s.t}return t.error({debug:e.debug,message:"noTemplateForPartial",args:{name:o}}),[]}}(Jn,He,De,No),So=function(t,e){var n;return e?n=t.split("\n").map(function(t,n){return n?e+t:t}).join("\n"):t},Io=function(t,e,n,r){var i,o;return r.push(function(){o=r.Fragment}),i=function(n){var r,i=this.parentFragment=n.parentFragment;if(this.type=t.PARTIAL,this.name=n.template.r,this.index=n.index,this.root=i.root,!n.template.r)throw new Error("Partials must have a static reference (no expressions). This may change in a future version of Ractive.");r=e(i.root,n.template.r),this.fragment=new o({template:r,root:i.root,owner:this,pElement:i.pElement})},i.prototype={bubble:function(){this.parentFragment.bubble()},firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},detach:function(){return this.fragment.detach()},render:function(){return this.fragment.render()},unrender:function(t){this.fragment.unrender(t)},rebind:function(t,e,n,r){return this.fragment.rebind(t,e,n,r)},unbind:function(){this.fragment.unbind()},toString:function(e){var r,i,o,a;return r=this.fragment.toString(e),i=this.parentFragment.items[this.index-1],i&&i.type===t.TEXT?(o=i.text.split("\n").pop(),(a=/^\s+$/.exec(o))?n(r,a[0]):r):r},find:function(t){return this.fragment.find(t)},findAll:function(t,e){return this.fragment.findAll(t,e)},findComponent:function(t){return this.fragment.findComponent(t)},findAllComponents:function(t,e){return this.fragment.findAllComponents(t,e)},getValue:function(){return this.fragment.getValue()}},i}($,Ro,So,i),Lo=function(t,e,n){var r;return n.push(function(){r=n.Ractive}),function i(n,r){var o,a=t.registries.components.findInstance(n,r);if(a&&(o=a.components[r],!o._parent)){var s=o.bind(a);if(s.isOwner=a.components.hasOwnProperty(r),o=s(a.data),!o)return void e.warn({debug:n.debug,message:"noRegistryFunctionReturn",args:{registry:"component",name:r}});"string"==typeof o&&(o=i(n,o)),o._fn=s,a.components[r]=o}return o}}(He,Jn,i),Po=function(){return this.instance.fragment.detach()},Fo=function(t){return this.instance.fragment.find(t)},Mo=function(t,e){return this.instance.fragment.findAll(t,e)},jo=function(t,e){e._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(t,e)},Vo=function(t){return t&&t!==this.name?this.instance.fragment?this.instance.fragment.findComponent(t):null:this.instance},Do=function(){return this.parentFragment.findNextNode(this)},Uo=function(){return this.rendered?this.instance.fragment.firstNode():null},Wo=function(t,e){var n,r;return e.push(function(){n=e.Fragment}),r=function(t,e,r){this.parentFragment=t.parentFragment,this.component=t,this.key=e,this.fragment=new n({template:r,root:t.root,owner:this}),this.value=this.fragment.getValue()},r.prototype={bubble:function(){this.dirty||(this.dirty=!0,t.addView(this))},update:function(){var e=this.fragment.getValue();this.component.instance.viewmodel.set(this.key,e),t.addViewmodel(this.component.instance.viewmodel),this.value=e,this.dirty=!1},rebind:function(t,e,n,r){this.fragment.rebind(t,e,n,r)},unbind:function(){this.fragment.unbind()}},r}(E,i),Bo=function(t,e){var n=function(n,r,i,o){var a=this;this.root=n.root,this.parentFragment=n.parentFragment,this.ready=!1,this.hash=null,this.resolver=new t(this,i,function(t){a.binding||(a.binding=n.bindings[a.hash])?(n.bindings[a.hash]=null,a.binding.rebind(t),a.hash=t+"="+r,n.bindings[a.hash]):a.ready?e(n,n.root,t,r):o.push({childKeypath:r,parentKeypath:t}),a.value=n.root.viewmodel.get(t)})};return n.prototype={rebind:function(t,e,n,r){this.resolver.rebind(t,e,n,r)},unbind:function(){this.resolver.unbind()}},n}(ir,y),$o=function(t,e,n,r,i){function o(o,a,s,u){var c,h,l,f,d,p;if(l=o.root,f=o.parentFragment,"string"==typeof s)return h=e(s),h?h.value:s;if(null===s)return!0;if(1===s.length&&s[0].t===t.INTERPOLATOR){if(s[0].r)return f.indexRefs&&void 0!==f.indexRefs[p=s[0].r]?(o.indexRefBindings[p]=a,f.indexRefs[p]):(d=n(l,s[0].r,f)||s[0].r,u.push({childKeypath:a,parentKeypath:d}),l.viewmodel.get(d));if(s[0].rx)return c=new i(o,a,s[0].rx,u),o.complexParameters.push(c),c.ready=!0,c.value}return c=new r(o,a,s),o.complexParameters.push(c),c.value}var a;return a=function(t,e,n,r){var i,a,s={};t.complexParameters=[];for(i in n)n.hasOwnProperty(i)&&(a=o(t,i,n[i],r),(void 0!==a||void 0===e[i])&&(s[i]=a));return s}}($,Re,b,Wo,Bo),zo=function(t){return function(e,n,r,i){var o,a,s,u;return a=e.parentFragment,u=e.root,s={content:i||[]},n.defaults.el&&t.warn({debug:u.debug,message:"defaultElSpecified",args:{name:e.name}}),o=new n({el:null,append:!0,data:r,partials:s,magic:u.magic||n.defaults.magic,modifyArrays:u.modifyArrays,_parent:u,_component:e,adapt:u.adapt,"yield":{template:i,instance:u}})}}(Jn),qo=function(t){return function(e,n){n.forEach(function(n){var r,i;t(e,e.root,n.parentKeypath,n.childKeypath),r=e.instance.viewmodel.get(n.childKeypath),i=e.root.viewmodel.get(n.parentKeypath),void 0!==r&&void 0===i&&e.root.viewmodel.set(n.parentKeypath,r)})}}(y),Ho=function(t,e,n){function r(t,r,i,o){"string"!=typeof o&&n.error({debug:r.debug,message:"noComponentEventArguments"}),t.on(i,function(){var t;return t=arguments[0].node?{event:Array.prototype.shift.call(arguments),args:arguments}:{args:Array.prototype.slice.call(arguments)},e(r,o,t),!1})}var i,o;return t.push(function(){o=t.Fragment}),i=function(t,e){var n;for(n in e)e.hasOwnProperty(n)&&r(t.instance,t.root,n,e[n])}}(i,f,Jn),Go=function(t){var e,n;for(e=t.root;e;)(n=e._liveComponentQueries["_"+t.name])&&n.push(t.instance),e=e._parent},Zo=function(t,e,n,r,i,o,a){return function(s,u){var c,h,l,f;if(c=this.parentFragment=s.parentFragment,h=c.root,this.root=h,this.type=t.COMPONENT,this.name=s.template.e,this.index=s.index,this.indexRefBindings={},this.bindings=[],this.yielder=null,!u)throw new Error('Component "'+this.name+'" not found');f=[],l=n(this,u.defaults.data||{},s.template.a,f),r(this,u,l,s.template.f),i(this,f),o(this,s.template.v),(s.template.t1||s.template.t2||s.template.o)&&e('The "intro", "outro" and "decorator" directives have no effect on components'),a(this)
}}($,j,$o,zo,qo,Ho,Go),Ko=function(t,e){return function(n,r,i,o){function a(t){t.rebind(n,r,i,o)}var s,u,c=this.instance,h=c._parent;this.bindings.forEach(function(t){var n;t.root===h&&(n=e(t.keypath,i,o))&&t.rebind(n)}),this.complexParameters.forEach(a),this.yielder&&a(this.yielder),(s=this.indexRefBindings[n])&&(t.addViewmodel(c.viewmodel),c.viewmodel.set(s,r)),(u=this.root._liveComponentQueries["_"+this.name])&&u._makeDirty()}}(E,Yn),Qo=function(){var t=this.instance;return t.render(this.parentFragment.getNode()),this.rendered=!0,t.fragment.detach()},Yo=function(){return this.instance.fragment.toString()},Jo=function(){function t(t){t.unbind()}function e(t){var e,n;e=t.root;do(n=e._liveComponentQueries["_"+t.name])&&n._remove(t);while(e=e._parent)}var n;return n=function(){this.complexParameters.forEach(t),this.bindings.forEach(t),e(this),this.instance.fragment.unbind()}}(),Xo=function(t){return function(e){t(this.instance,"teardown",{reserved:!0}),this.shouldDestroy=e,this.instance.unrender()}}(f),ta=function(t,e,n,r,i,o,a,s,u,c,h,l,f){var d=function(t,e){this.init(t,e)};return d.prototype={detach:t,find:e,findAll:n,findAllComponents:r,findComponent:i,findNextNode:o,firstNode:a,init:s,rebind:u,render:c,toString:h,unbind:l,unrender:f},d}(Po,Fo,Mo,jo,Vo,Do,Uo,Zo,Ko,Qo,Yo,Jo,Xo),ea=function(t,e){var n=function(e){this.type=t.COMMENT,this.value=e.template.c};return n.prototype={detach:e,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createComment(this.value)),this.node},toString:function(){return"<!--"+this.value+"-->"},unrender:function(t){t&&this.node.parentNode.removeChild(this.node)}},n}($,qn),na=function(t){var e;t.push(function(){e=t.Fragment});var n=function(t){var n,r;if(n=t.parentFragment.root,r=n.component,this.surrogateParent=t.parentFragment,this.parentFragment=r.parentFragment,r.yielder)throw new Error("A component template can only have one {{yield}} declaration");this.fragment=new e({owner:this,root:n.yield.instance,template:n.yield.template}),r.yielder=this};return n.prototype={detach:function(){return this.fragment.detach()},find:function(t){return this.fragment.find(t)},findAll:function(t,e){return this.fragment.findAll(t,e)},findComponent:function(t){return this.fragment.findComponent(t)},findAllComponents:function(t,e){return this.fragment.findAllComponents(t,e)},findNextNode:function(){return this.surrogateParent.findNextNode(this)},firstNode:function(){return this.fragment.firstNode()},getValue:function(t){return this.fragment.getValue(t)},render:function(){return this.fragment.render()},unbind:function(){this.fragment.unbind()},unrender:function(){this.fragment.unrender()},rebind:function(t,e,n,r){this.fragment.rebind(t,e,n,r)},toString:function(){return this.fragment.toString()}},n}(i),ra=function(t,e,n,r,i,o,a,s,u,c,h){return function(l){if("string"==typeof l.template)return new e(l);switch(l.template.t){case t.INTERPOLATOR:return"yield"===l.template.r?new h(l):new n(l);case t.SECTION:return new r(l);case t.TRIPLE:return new i(l);case t.ELEMENT:var f;return(f=s(l.parentFragment.root,l.template.e))?new u(l,f):new o(l);case t.PARTIAL:return new a(l);case t.COMMENT:return new c(l);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!")}}}($,Hn,cr,Tr,Dr,Co,Io,Lo,ta,ea,na),ia=function(t,e,n){return function(r){var i,o,a,s=this;if(this.owner=r.owner,i=this.parent=this.owner.parentFragment,this.root=r.root,this.pElement=r.pElement,this.context=r.context,this.owner.type===t.SECTION&&(this.index=r.index),i&&(o=i.indexRefs)){this.indexRefs=e(null);for(a in o)this.indexRefs[a]=o[a]}this.priority=i?i.priority+1:1,r.indexRef&&(this.indexRefs||(this.indexRefs={}),this.indexRefs[r.indexRef]=r.index),"string"==typeof r.template?r.template=[r.template]:r.template||(r.template=[]),this.items=r.template.map(function(t,e){return n({parentFragment:s,pElement:r.pElement,template:t,index:e})}),this.value=this.argsList=null,this.dirtyArgs=this.dirtyValue=!0,this.inited=!0}}($,z,ra),oa=function(t){return function(e,n,r,i){t(this,"context",r,i),this.indexRefs&&void 0!==this.indexRefs[e]&&(this.indexRefs[e]=n),this.items.forEach(function(t){t.rebind&&t.rebind(e,n,r,i)})}}(io),aa=function(){var t;return 1===this.items.length?t=this.items[0].render():(t=document.createDocumentFragment(),this.items.forEach(function(e){t.appendChild(e.render())})),this.rendered=!0,t},sa=function(t){return this.items?this.items.map(function(e){return e.toString(t)}).join(""):""},ua=function(){function t(t){t.unbind&&t.unbind()}var e;return e=function(){this.items.forEach(t)}}(),ca=function(t){if(!this.rendered)throw new Error("Attempted to unrender a fragment that was not rendered");this.items.forEach(function(e){return e.unrender(t)})},ha=function(t,e,n,r,i,o,a,s,u,c,h,l,f,d,p,v,m){var g=function(t){this.init(t)};return g.prototype={bubble:t,detach:e,find:n,findAll:r,findAllComponents:i,findComponent:o,findNextNode:a,firstNode:s,getNode:u,getValue:c,init:h,rebind:l,render:f,toString:d,unbind:p,unrender:v},m.Fragment=g,g}(Ln,Pn,Fn,Mn,jn,Vn,Dn,Un,Wn,Bn,ia,oa,aa,sa,ua,ca,i),la=function(t,e,n,r){var i=["template","partials","components","decorators","events"];return function(o,a){var s,u,c,h,l;if("function"!=typeof o||a?o=o||{}:(a=o,o={}),"object"!=typeof o)throw new Error("The reset method takes either no arguments, or an object containing new data");for((u=this.viewmodel.wrapped[""])&&u.reset?u.reset(o)===!1&&(this.data=o):this.data=o,c=r.reset(this),h=c.length;h--;)if(i.indexOf(c[h])>-1){l=!0;break}if(l){var f;this.viewmodel.mark(""),(f=this.component)&&(f.shouldDestroy=!0),this.unrender(),f&&(f.shouldDestroy=!1),this.fragment.template!==this.template&&(this.fragment.unbind(),this.fragment=new n({template:this.template,root:this,owner:this})),s=this.render(this.el,this.anchor)}else s=e.start(this,!0),this.viewmodel.mark(""),e.end();return t(this,"reset",{args:[o]}),a&&s.then(a),s}}(f,E,ha,He),fa=function(t,e){return function(n){var r,i;t.template.init(null,this,{template:n}),r=this.transitionsEnabled,this.transitionsEnabled=!1,(i=this.component)&&(i.shouldDestroy=!0),this.unrender(),i&&(i.shouldDestroy=!1),this.fragment.unbind(),this.fragment=new e({template:this.template,root:this,owner:this}),this.render(this.el,this.anchor),this.transitionsEnabled=r}}(He,ha),da=function(t){return t("reverse")}(Cn),pa=function(t,e,n,r){var i=/\*/;return function(o,a,s){var u,c,h=this;if(c=t.start(this,!0),e(o)){u=o,s=a;for(o in u)u.hasOwnProperty(o)&&(a=u[o],o=n(o),this.viewmodel.set(o,a))}else o=n(o),i.test(o)?r(this,o).forEach(function(t){h.viewmodel.set(t,a)}):this.viewmodel.set(o,a);return t.end(),s&&c.then(s.bind(this)),c}}(E,s,I,gn),va=function(t){return t("shift")}(Cn),ma=function(t){return t("sort")}(Cn),ga=function(t){return t("splice")}(Cn),ya=function(t){return function(e,n){return t(this,e,void 0===n?-1:-n)}}(R),ba=function(t,e,n){return function(r){var i;return t(this,"teardown"),this.fragment.unbind(),this.viewmodel.teardown(),this.rendered&&this.el.__ractive_instances__&&e(this.el.__ractive_instances__,this),i=this.rendered?this.unrender():n.resolve(),r&&i.then(r.bind(this)),i}}(f,d,p),wa=function(t){return function(e,n){var r;return"string"!=typeof e&&t.errorOnly({debug:this.debug,messsage:"badArguments",arg:{arguments:e}}),r=this.get(e),this.set(e,!r,n)}}(Jn),Ea=function(){return this.fragment.toString(!0)},xa=function(t,e,n){return function(){var r,i,o=this;if(!this.rendered)throw new Error("ractive.unrender() was called on a Ractive instance that was not rendered");for(r=e.start(this,!0),i=!this.component||this.component.shouldDestroy,i=i||this.shouldDestroy,this.constructor.css&&r.then(function(){n.remove(o.constructor)});this._animations[0];)this._animations[0].stop();return this.fragment.unrender(i),this.rendered=!1,t(this.el.__ractive_instances__,this),e.end(),r}}(d,E,Sn),_a=function(t){return t("unshift")}(Cn),ka=function(t,e){return function(n,r){var i;return"function"==typeof n?(r=n,n=""):n=n||"",i=e.start(this,!0),this.viewmodel.mark(n),e.end(),t(this,"update",{args:[n]}),r&&i.then(r.bind(this)),i}}(f,E),Aa=function(t,e){function n(r,i,o,a){var s,u,c,h,l,f,d=[];if(s=r._twowayBindings[i],s&&(c=s.length))for(;c--;)h=s[c],(!h.radioName||h.element.node.checked)&&(h.checkboxName?d[h.keypath]||h.changed()||(d.push(h.keypath),d[h.keypath]=h):(l=h.attribute.value,f=h.getValue(),t(l,f)||e(l,f)||(o[i]=f)));if(d.length&&d.forEach(function(e){var n,r,i;n=d[e],r=n.attribute.value,i=n.getValue(),t(r,i)||(o[e]=i)}),a&&(u=r.viewmodel.depsMap["default"][i]))for(c=u.length;c--;)n(r,u[c],o,a)}var r;return r=function(t,e){var r;return"string"!=typeof t&&(t="",e=!0),n(this,t,r={},e),this.set(r)}}(Ii,g),Ta=function(t,e,n,r,i,o,a,s,u,c,h,l,f,d,p,v,m,g,y,b,w,E,x,_,k,A,T,O,C,N,R,S){return{add:t,animate:e,detach:n,find:r,findAll:i,findAllComponents:o,findComponent:a,fire:s,get:u,insert:c,merge:h,observe:l,off:f,on:d,pop:p,push:v,render:m,reset:g,resetTemplate:y,reverse:b,set:w,shift:E,sort:x,splice:_,subtract:k,teardown:A,toggle:T,toHTML:O,unrender:C,unshift:N,update:R,updateModel:S}}(S,Ke,Qe,Ye,un,cn,hn,ln,fn,pn,vn,En,kn,An,Nn,Rn,In,la,fa,da,pa,va,ma,ga,ya,ba,wa,Ea,xa,_a,ka,Aa),Oa=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e,n;return e=16*Math.random()|0,n="x"==t?e:3&e|8,n.toString(16)})},Ca=function(){var t=0;return function(){return"r-"+t++}}(),Na=function(t,e,n,r){var i=t.root,o=t.keypath;return"sort"===n||"reverse"===n?void i.viewmodel.set(o,e):void(r&&i.viewmodel.splice(o,r))},Ra=function(t,e,n,r,i){var o,a,s,u=[],c=["pop","push","reverse","shift","sort","splice","unshift"];return c.forEach(function(o){var a=function(){var e,a,s,u,c;for(e=n(this,o,Array.prototype.slice.call(arguments)),a=r(this,e),s=Array.prototype[o].apply(this,arguments),this._ractive.setting=!0,c=this._ractive.wrappers.length;c--;)u=this._ractive.wrappers[c],t.start(u.root),i(u,this,o,a),t.end();return this._ractive.setting=!1,s};e(u,o,{value:a})}),o={},o.__proto__?(a=function(t){t.__proto__=u},s=function(t){t.__proto__=Array.prototype}):(a=function(t){var n,r;for(n=c.length;n--;)r=c[n],e(t,r,{value:u[r],configurable:!0})},s=function(t){var e;for(e=c.length;e--;)delete t[c[e]]}),a.unpatch=s,a}(E,C,Tn,On,Na),Sa=function(t,e,n){var r,i,o;return r={filter:function(t){return e(t)&&(!t._ractive||!t._ractive.setting)},wrap:function(t,e,n){return new i(t,e,n)}},i=function(e,r,i){this.root=e,this.value=r,this.keypath=i,r._ractive||(t(r,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),n(r)),r._ractive.instances[e._guid]||(r._ractive.instances[e._guid]=0,r._ractive.instances.push(e)),r._ractive.instances[e._guid]+=1,r._ractive.wrappers.push(this)},i.prototype={get:function(){return this.value},teardown:function(){var t,e,r,i,a;if(t=this.value,e=t._ractive,r=e.wrappers,i=e.instances,e.setting)return!1;if(a=r.indexOf(this),-1===a)throw new Error(o);if(r.splice(a,1),r.length){if(i[this.root._guid]-=1,!i[this.root._guid]){if(a=i.indexOf(this.root),-1===a)throw new Error(o);i.splice(a,1)}}else delete t._ractive,n.unpatch(this.value)}},o="Something went wrong in a rather interesting way",r}(C,a,Ra),Ia=function(t,e){var n,r;return t&&(n={filter:function(n,r,i){return t.filter(n,r,i)&&e.filter(n)},wrap:function(t,e,n){return new r(t,e,n)}},r=function(n,r,i){this.value=r,this.magic=!0,this.magicWrapper=t.wrap(n,r,i),this.arrayWrapper=e.wrap(n,r,i)},r.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},reset:function(t){return this.magicWrapper.reset(t)}}),n}(_,Sa),La=function(t,e,n,r){function i(t,e){var n,r={};if(!e)return t;e+=".";for(n in t)t.hasOwnProperty(n)&&(r[e+n]=t[n]);return r}function o(t){var e;return s[t]||(e=t?t+".":"",s[t]=function(n,r){var o;return"string"==typeof n?(o={},o[e+n]=r,o):"object"==typeof n?e?i(n,t):n:void 0}),s[t]}var a,s={};return a=function(i,a){var s,u,c,h,l=this.ractive;for(s=l.adapt.length,u=0;s>u;u+=1){if(c=l.adapt[u],"string"==typeof c){var f=t.registries.adaptors.find(l,c);if(!f)throw new Error('Missing adaptor "'+c+'"');c=l.adapt[u]=f}if(c.filter(a,i,l))return h=this.wrapped[i]=c.wrap(l,a,i,o(i)),h.value=a,a}return l.magic?r.filter(a,i,l)?this.wrapped[i]=r.wrap(l,a,i):n.filter(a,i,l)&&(this.wrapped[i]=n.wrap(l,a,i)):l.modifyArrays&&e.filter(a,i,l)&&(this.wrapped[i]=e.wrap(l,a,i)),a}}(He,Sa,_,Ia),Pa=function(t){var e,n,r,i,o=[""];for(e=t.length;e--;)for(n=t[e],r=n.split(".");r.length>1;)r.pop(),i=r.join("."),-1===o.indexOf(i)&&o.push(i);return o},Fa=function(){function t(t){var e,r,i,o,a,s="";if(!n[t]){for(i=[];s.length<t;)s+=1;for(e=parseInt(s,2),o=function(t){return"1"===t},a=0;e>=a;a+=1){for(r=a.toString(2);r.length<t;)r="0"+r;i[a]=Array.prototype.map.call(r,o)}n[t]=i}return n[t]}var e,n={};return e=function(e){var n,r,i,o;return n=e.split("."),r=t(n.length),i=function(t,e){return t?"*":n[e]},o=r.map(function(t){return t.map(i).join(".")})}}(),Ma=function(t){function e(e,i,o){var a;r(e,i),o||(a=t(i),a.forEach(function(t){n(e,t,i)}))}function n(t,e,i){var a,s,u;a=t.depsMap.patternObservers,s=a[e],s&&s.forEach(function(e){var a=o.exec(e)[0];u=i?i+"."+a:a,r(t,u),n(t,e,u)})}function r(t,e){t.patternObservers.forEach(function(t){t.regex.test(e)&&t.update(e)})}var i,o=/[^\.]+$/;return i=e}(Fa),ja=function(t,e){function n(t){t.update()}function r(t,e,n){var r,i;(r=o(t,e,n))&&(i=t.get(e),r.forEach(function(t){return t.setValue(i)}))}function i(t,e,n){function r(t){t.forEach(i),t.forEach(a)}function i(e){var r=o(t,e,n);r&&u.push({keypath:e,deps:r})}function a(e){var i;(i=t.depsMap[n][e])&&r(i)}function s(e){var n=t.get(e.keypath);e.deps.forEach(function(t){return t.setValue(n)})}var u=[];r(e),u.forEach(s)}function o(t,e,n){var r=t.deps[n];return r?r[e]:null}function a(t,e){e.forEach(function(e){-1===t.indexOf(e)&&t.push(e)})}var s,u=["observers","default"];return s=function(){var o,s,c,h,l,f=this,d=this,p=[],v={};if(this.changes.length){h=function(t){var e;(e=d.deps.computed[t])&&a(c,e)},l=function(t){var e;h(t),(e=d.depsMap.computed[t])&&e.forEach(l)};do o=this.changes,a(p,o),this.changes=[],c=[],s=t(o),s.forEach(h),o.forEach(l),c.forEach(n);while(this.changes.length);return s=t(p),this.patternObservers.length&&(s.forEach(function(t){return e(f,t,!0)}),p.forEach(function(t){return e(f,t)})),u.forEach(function(t){f.deps[t]&&(s.forEach(function(e){return r(f,e,t)}),i(f,p,t))}),p.forEach(function(t){v[t]=f.get(t)}),this.implicitChanges={},v}}}(Pa,Ma),Va=function(){this.capturing=!0,this.captured=[]},Da=function(t,e){var n,r,i;if(e||(r=this.wrapped[t])&&r.teardown()!==!1&&(this.wrapped[t]=null),(i=this.computations[t])&&i.compute(),this.cache[t]=void 0,n=this.cacheMap[t])for(;n.length;)this.clearCache(n.pop())},Ua={FAILED_LOOKUP:!0},Wa=function(t,e){var n={},r=function(t,r){this.viewmodel=t,this.root=t.ractive,this.ref=r,this.parentFragment=n,t.unresolvedImplicitDependencies[r]=!0,t.unresolvedImplicitDependencies.push(this),e.addUnresolved(this)};return r.prototype={resolve:function(){this.viewmodel.mark(this.ref),this.viewmodel.unresolvedImplicitDependencies[this.ref]=!1,t(this.viewmodel.unresolvedImplicitDependencies,this)},teardown:function(){e.removeUnresolved(this)}},r}(d,E),Ba=function(t,e){function n(e,n){var r,i,o,a,s,u,c;return r=n.split("."),i=r.pop(),o=r.join("."),a=e.get(o),(c=e.wrapped[o])&&(a=c.get()),null!==a&&void 0!==a?((s=e.cacheMap[o])?-1===s.indexOf(n)&&s.push(n):e.cacheMap[o]=[n],"object"!=typeof a||i in a?(u=a[i],e.adapt(n,u,!1),e.cache[n]=u,u):e.cache[n]=t):void 0}var r,i={};return r=function(r){var o=arguments[1];void 0===o&&(o=i);var a,s,u,c,h=this.ractive,l=this.cache;return void 0===l[r]?((s=this.computations[r])?a=s.value:(u=this.wrapped[r])?a=u.value:r?a=(c=this.evaluators[r])?c.value:n(this,r):(this.adapt("",h.data),a=h.data),l[r]=a):a=l[r],o.evaluateWrapped&&(u=this.wrapped[r])&&(a=u.get()),o.capture&&this.capturing&&-1===this.captured.indexOf(r)&&(this.captured.push(r),a===t&&this.unresolvedImplicitDependencies[r]!==!0&&new e(this,r)),a===t?void 0:a}}(Ua,Wa),$a=function(t,e){e&&(this.implicitChanges[t]=!0),-1===this.changes.indexOf(t)&&(this.changes.push(t),this.clearCache(t))},za=function(t,e){var n,r,i,o;return n={},r=0,i=t.map(function(t,i){var a,s,u;s=r,u=e.length;do{if(a=e.indexOf(t,s),-1===a)return o=!0,-1;s=a+1}while(n[a]&&u>s);return a===r&&(r+=1),a!==i&&(o=!0),n[a]=!0,a}),i.unchanged=!o,i},qa=function(t,e,n){function r(e){return"function"==typeof e.merge&&(!e.subtype||e.subtype===t.SECTION_EACH)}function i(t){return JSON.stringify(t)}function o(t){if(t===!0)return i;if("string"==typeof t)return s[t]||(s[t]=function(e){return e[t]}),s[t];if("function"==typeof t)return t;throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}var a,s={};return a=function(t,i,a,s){var u,c,h,l,f,d=this;if(this.mark(t),s&&s.compare){h=o(s.compare);try{u=i.map(h),c=a.map(h)}catch(p){if(this.debug)throw p;e("Merge operation: comparison failed. Falling back to identity checking"),u=i,c=a}}else u=i,c=a;l=n(u,c),l.forEach(function(e,n){-1===e&&d.mark(t+"."+n)}),this.set(t,a,!0),(f=this.deps["default"][t])&&f.filter(r).forEach(function(t){return t.merge(l)}),i.length!==a.length&&this.mark(t+".length",!0)}}($,j,za),Ha=function(){function t(t,e,n){var r,i,o,a;for(r=e.split(".");r.length;)r.pop(),i=r.join("."),o=t.depsMap[n]||(t.depsMap[n]={}),a=o[i]||(o[i]=[]),void 0===a[e]&&(a[e]=0,a.push(e)),a[e]+=1,e=i}var e;return e=function(e,n){var r=arguments[2];void 0===r&&(r="default");var i,o,a;n.isStatic||(i=this.deps[r]||(this.deps[r]={}),o=i[e]||(i[e]=[]),o.push(n),e&&((a=this.evaluators[e])&&(a.dependants||a.wake(),a.dependants+=1),t(this,e,r)))}}(),Ga=function(){return this.capturing=!1,this.captured},Za=function(t,e){return function(n,r,i){var o,a,s,u,c,h,l,f;c=this.computations[n],c&&!c.setting&&(c.set(r),r=c.get()),t(this.cache[n],r)||(h=this.wrapped[n],l=this.evaluators[n],h&&h.reset&&(f=h.reset(r)!==!1,f&&(r=h.get())),l&&(l.value=r),c||l||f||(o=n.split("."),a=o.pop(),s=o.join("."),h=this.wrapped[s],h&&h.set?h.set(a,r):(u=h?h.get():this.get(s),u||(u=e(a),this.set(s,u,!0)),u[a]=r)),i?this.clearCache(n):this.mark(n))}}(g,x),Ka=function(t){function e(e){return e.type===t.SECTION&&(!e.subtype||e.subtype===t.SECTION_EACH)&&e.rendered}var n;return n=function(t,n){var r,i,o=this;for(r=n.rangeStart;r<n.rangeEnd;r+=1)o.mark(t+"."+r);n.balance&&o.mark(t+".length",!0),(i=o.deps["default"][t])&&i.filter(e).forEach(function(t){return t.splice(n)})}}($),Qa=function(){var t,e=this;for(Object.keys(this.cache).forEach(function(t){return e.clearCache(t)});t=this.unresolvedImplicitDependencies.pop();)t.teardown()},Ya=function(){function t(t,e,n){var r,i,o,a;for(r=e.split(".");r.length;)r.pop(),i=r.join("."),o=t.depsMap[n],a=o[i],a[e]-=1,a[e]||(a.splice(a.indexOf(e),1),a[e]=void 0),e=i}var e;return e=function(e,n){var r=arguments[2];void 0===r&&(r="default");var i,o,a;if(!n.isStatic){if(i=this.deps[r][e],o=i.indexOf(n),-1===o)throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");i.splice(o,1),e&&((a=this.evaluators[e])&&(a.dependants-=1,a.dependants||a.sleep()),t(this,e,r))}}}(),Ja=function(){function t(t){var e="var __ractive=this;return("+t.replace(n,function(t,e){return'__ractive.get("'+e+'")'})+")";return new Function(e)}var e,n=/\$\{([^\}]+)\}/g;return e=function(e){return"function"==typeof e?{get:e}:"string"==typeof e?{get:t(e)}:("object"==typeof e&&"string"==typeof e.get&&(e={get:t(e.get),set:e.set}),e)}}(),Xa=function(t,e,n){var r=function(t,e,n){var r;this.ractive=t,this.viewmodel=t.viewmodel,this.key=e,this.getter=n.get,this.setter=n.set,this.dependencies=[],(r=t.viewmodel.get(e))&&this.set(r),this.update()};return r.prototype={get:function(){return this.compute(),this.value},set:function(t){if(this.setting)return void(this.value=t);if(!this.setter)throw new Error("Computed properties without setters are read-only. (This may change in a future version of Ractive!)");this.setter.call(this.ractive,t)},compute:function(){var e,r,i;e=this.ractive,e.viewmodel.capture();try{this.value=this.getter.call(e)}catch(o){t.warn({debug:e.debug,message:"failedComputation",args:{key:this.key,err:o.message||o}}),r=!0}return i=e.viewmodel.release(),n(this,this.dependencies,i),r?!1:!0},update:function(){var t=this.value;this.compute()&&!e(this.value,t)&&this.ractive.viewmodel.mark(this.key)}},r}(Jn,g,tr),ts=function(t,e){return function(n,r){var i,o;for(i in r)o=t(r[i]),n.viewmodel.computations[i]=new e(n,i,o)}}(Ja,Xa),es=function(){function t(t){return"string"==typeof t&&(t=[t]),t}var e={lookup:function(t,e){var n,r=t.adapt;if(!r||!r.length)return r;if(e&&Object.keys(e).length&&(n=r.length))for(;n--;){var i=r[n];"string"==typeof i&&(r[n]=e[i]||i)}return r},combine:function(e,n){return e=t(e),n=t(n),e&&e.length?n&&n.length?(e.forEach(function(t){-1===n.indexOf(t)&&n.push(t)}),n):e.slice():n}};return e}(),ns=function(t,e,n,r,i,o,a,s,u,c,h,l,f,d,p,v){var m;try{Object.defineProperty({},"test",{value:0})}catch(g){m=!0}var y=function(e){this.ractive=e,y.extend(e.constructor,e),this.cache={},this.cacheMap=t(null),this.deps={computed:{},"default":{}},this.depsMap={computed:{},"default":{}},this.patternObservers=[],this.wrapped=t(null),this.evaluators=t(null),this.computations=t(null),this.captured=null,this.unresolvedImplicitDependencies=[],this.changes=[],this.implicitChanges={}};return y.extend=function(t,e){if(e.magic&&m)throw new Error("Getters and setters (magic mode) are not supported in this browser");e.adapt=v.combine(t.prototype.adapt,e.adapt)||[],e.adapt=v.lookup(e,e.adaptors)},y.prototype={adapt:e,applyChanges:n,capture:r,clearCache:i,get:o,mark:a,merge:s,register:u,release:c,set:h,splice:l,teardown:f,unregister:d,compute:function(){p(this.ractive,this.ractive.computed)}},y}(z,La,ja,Va,Da,Ba,$a,qa,Ha,Ga,Za,Ka,Qa,Ya,ts,es),rs=function(t,e,n,r,i,o){function a(t){var e;if(e=n(t.el)){if(e&&!t.append){if(e.__ractive_instances__)try{e.__ractive_instances__.splice(0,e.__ractive_instances__.length).forEach(function(t){return t.teardown()})}catch(r){}e.innerHTML=""}t.render(e,t.append)}}function s(t,n){t._guid=r(),t._subs=e(null),t._config={},t._twowayBindings=e(null),t._animations=[],t.nodes={},t._liveQueries=[],t._liveComponentQueries=[],n._parent&&n._component&&(t._parent=n._parent,t.component=n._component,n._component.instance=t)}var u;return u=function(e){var n=arguments[1];void 0===n&&(n={}),s(e,n),t.init(e.constructor,e,n),e.viewmodel=new i(e),e.viewmodel.compute(),e.template&&(e.fragment=new o({template:e.template,root:e,owner:e})),a(e)}}(He,z,dn,Ca,ns,ha),is=function(t){return function(e,n,r){e.beforeInit&&e.beforeInit(r),t(e,r)}}(rs),os=function(t,e,n,r){function i(e,n,r){for(var i in r)if(!(i in c)&&r.hasOwnProperty(i)){var o=r[i];"function"==typeof o&&(o=t(e,i,o)),n[i]=o}}function o(t){if(!(t.prototype instanceof u))return t;for(var n={};t;)l.forEach(function(e){a(e.useDefaults?t.prototype:t,n,e.name)}),Object.keys(t.prototype).forEach(function(r){if("computed"!==r){var i=t.prototype[r];if(r in n){if("function"==typeof n[r]&&"function"==typeof i&&n[r]._method){var o,a=i._method;a&&(i=i._method),o=e(n[r]._method,i),a&&(o._method=o),n[r]=o}}else n[r]=i._method?i._method:i}}),t=t._parent!==u?t._parent:!1;return n}function a(t,e,n){var r,i=Object.keys(t[n]);i.length&&((r=e[n])||(r=e[n]={}),i.filter(function(t){return!(t in r)}).forEach(function(e){return r[e]=t[n][e]}))}var s,u,c={_parent:!0,_component:!0},h={toPrototype:i,toOptions:o},l=n.registries;return n.keys.forEach(function(t){return c[t]=!0}),r.push(function(){u=r.Ractive}),s=h}(ze,U,He,i),as=function(t,e,n,r,i,o,a){return function s(){var u=arguments[0];void 0===u&&(u={});var c,h,l,f=this;return u=a.toOptions(u),c=function(t){i(this,c,t)},h=t(f.prototype),h.constructor=c,l={_guid:{value:n()},defaults:{value:h},extend:{value:s,writable:!0,configurable:!0},_parent:{value:f}},e(c,l),r.extend(f,h,u),o.extend(f,h),a.toPrototype(f.prototype,h,u),c.prototype=h,c}}(z,N,Oa,He,is,ns,os),ss=function(t,e,n,r,i,o,a,s,u,c,h,l,f){var d,p;for(d=function(t){l(this,t)},p={extend:{value:c},parse:{value:h},Promise:{value:s},svg:{value:r},magic:{value:i},VERSION:{value:"0.5.6"},adaptors:{writable:!0,value:{}},components:{writable:!0,value:{}},decorators:{writable:!0,value:{}},easing:{writable:!0,value:e},events:{writable:!0,value:{}},interpolators:{writable:!0,value:n},partials:{writable:!0,value:{}},transitions:{writable:!0,value:{}}},o(d,p),d.prototype=u(a,t),d.prototype.constructor=d,d.defaults=d.prototype,f.Ractive=d;f.length;)f.pop()();var v="function";if(typeof Date.now!==v||typeof String.prototype.trim!==v||typeof Object.keys!==v||typeof Array.prototype.indexOf!==v||typeof Array.prototype.forEach!==v||typeof Array.prototype.map!==v||typeof Array.prototype.filter!==v||"undefined"!=typeof window&&typeof window.addEventListener!==v)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");return d}(n,r,c,h,k,N,Ta,p,xi,as,Me,rs,i);"undefined"!=typeof module&&module.exports?module.exports=ss:"function"==typeof define&&define.amd&&define(function(){return ss}),t.Ractive=ss,ss.noConflict=function(){return t.Ractive=e,ss}}("undefined"!=typeof window?window:this);