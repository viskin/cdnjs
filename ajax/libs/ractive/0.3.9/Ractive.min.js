!function(t){var e=function(){return"undefined"!=typeof document?document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"):void 0}(),n=function(){var t;try{Object.create(null),t=Object.create}catch(e){t=function(){var t=function(){};return function(e,n){var r;return null===e?{}:(t.prototype=e,r=new t,n&&Object.defineProperties(r,n),r)}}()}return t}(),r={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},i=function(t,e){return t?function(t,e){return e?document.createElementNS(e,t):document.createElement(t)}:function(t,n){if(n&&n!==e.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See https://github.com/RactiveJS/Ractive/wiki/SVG-and-older-browsers for more information";return document.createElement(t)}}(e,r),o=function(){return"object"==typeof document?!0:!1}(),s=function(t){try{return Object.defineProperty({},"test",{value:0}),t&&Object.defineProperty(document.createElement("div"),"test",{value:0}),Object.defineProperty}catch(e){return function(t,e,n){t[e]=n.value}}}(o),a=function(t,e,n){try{try{Object.defineProperties({},{test:{value:0}})}catch(r){throw r}return n&&Object.defineProperties(t("div"),{test:{value:0}}),Object.defineProperties}catch(r){return function(t,n){var r;for(r in n)n.hasOwnProperty(r)&&e(t,r,n[r])}}}(i,s,o),u=function(){var t=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g;return function(e){return(e||"").replace(t,".$1")}}(),h={},c={TEXT:1,INTERPOLATOR:2,TRIPLE:3,SECTION:4,INVERTED:5,CLOSING:6,ELEMENT:7,PARTIAL:8,COMMENT:9,DELIMCHANGE:10,MUSTACHE:11,TAG:12,ATTRIBUTE:13,COMPONENT:15,NUMBER_LITERAL:20,STRING_LITERAL:21,ARRAY_LITERAL:22,OBJECT_LITERAL:23,BOOLEAN_LITERAL:24,GLOBAL:26,KEY_VALUE_PAIR:27,REFERENCE:30,REFINEMENT:31,MEMBER:32,PREFIX_OPERATOR:33,BRACKETED:34,CONDITIONAL:35,INFIX_OPERATOR:36,INVOCATION:40},f=function(){var t=Object.prototype.toString;return function(e){return"[object Array]"===t.call(e)}}(),l=function(){return function t(e,n){var r,i;if((i=e._wrapped[n])&&i.teardown()!==!1&&(e._wrapped[n]=null),e._cache[n]=void 0,r=e._cacheMap[n])for(;r.length;)t(e,r.pop())}}(),p=function(){return function(t,e){var n,r,i,o,s,a;for(n=[],a=t.rendered?t.el:t.fragment.docFrag,r=a.querySelectorAll('input[type="checkbox"][name="{{'+e+'}}"]'),o=r.length,s=0;o>s;s+=1)i=r[s],(i.hasAttribute("checked")||i.checked)&&(n[n.length]=i._ractive.value);return n}}(),d=function(t){return function(e){var n,r,i,o,s,a;for(n=e._deferred;r=n.evals.pop();)r.update().deferred=!1;for(;i=n.selectValues.pop();)i.deferredUpdate();for(;o=n.attrs.pop();)o.update().deferred=!1;for(;s=n.checkboxes.pop();)e.set(s,t(e,s));for(;a=n.radios.pop();)a.update()}}(p),g=function(){return function(t){var e,n,r,i,o,s;for(e=t._deferred,(n=e.focusable)&&(n.focus(),e.focusable=null);r=e.liveQueries.pop();)r._sort();for(;i=e.decorators.pop();)i.init();for(;o=e.transitions.pop();)o.init();for(;s=e.observers.pop();)s.update()}}(),v=function(){var t=function(t,e){var n,r,i,o;return t._parent&&t._parent._transitionManager?t._parent._transitionManager:(r=[],i=function(){var t,e;for(t=r.length;t--;)e=r[t],o(e.node)&&(e.detach(),r.splice(t,1))},o=function(t){var e,r;for(e=n.active.length;e--;)if(r=n.active[e],t.contains(r))return!1;return!0},n={active:[],push:function(t){n.active[n.active.length]=t},pop:function(t){var e;e=n.active.indexOf(t),-1!==e&&(n.active.splice(e,1),i(),!n.active.length&&n._ready&&n.complete())},complete:function(){e&&e.call(t)},ready:function(){i(),n._ready=!0,n.active.length||n.complete()},detachWhenReady:function(t){r[r.length]=t}})};return t}(),m=function(){function t(t,r,i,o){var s=t._deps[i];s&&(e(s[r]),o||n(t._depsMap[r],t,i))}function e(t){var e,n;if(t)for(n=t.length,e=0;n>e;e+=1)t[e].update()}function n(e,n,r,i){var o;if(e)for(o=e.length;o--;)t(n,e[o],r,i)}function r(t,e,n,o,s){var u,h,c,f,l,p,d,g;for(u=t._patternObservers.length;u--;)h=t._patternObservers[u],h.regex.test(n)&&h.update(n);o||(g=function(e){if(c=t._depsMap[e])for(u=c.length;u--;)f=c[u],l=a.exec(f)[0],p=n+"."+l,r(t,f,p)},s?(d=i(n),d.forEach(g)):g(e))}function i(t){var e,n,r,i,s,a;for(e=t.split("."),n=o(e.length),s=[],r=function(t,n){return t?"*":e[n]},i=n.length;i--;)a=n[i].map(r).join("."),s[a]||(s[s.length]=a,s[a]=!0);return s}function o(t){var e,n,r,i,o,s="";if(!u[t]){for(r=[];s.length<t;)s+=1;for(e=parseInt(s,2),i=function(t){return"1"===t},o=0;e>=o;o+=1){for(n=o.toString(2);n.length<t;)n="0"+n;r[o]=Array.prototype.map.call(n,i)}u[t]=r}return u[t]}var s,a,u={};return a=/[^\.]+$/,s=function(e,n,i){var o;for(e._patternObservers.length&&r(e,n,n,i,!0),o=0;o<e._deps.length;o+=1)t(e,n,o,i)},s.multiple=function(e,n,i){var o,s,a;if(a=n.length,e._patternObservers.length)for(o=a;o--;)r(e,n[o],n[o],i,!0);for(o=0;o<e._deps.length;o+=1)if(e._deps[o])for(s=a;s--;)t(e,n[s],o,i)},s}(),y=function(t,e,n,r,i,o,s,a){var u,h,c,f,l,p,d,g,v,m;return u={filter:function(t){return n(t)&&(!t._ractive||!t._ractive.setting)},wrap:function(t,e,n){return new c(t,e,n)}},c=function(t,n,r){this.root=t,this.value=n,this.keypath=r,n._ractive||(e(n,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),f(n)),n._ractive.instances[t._guid]||(n._ractive.instances[t._guid]=0,n._ractive.instances.push(t)),n._ractive.instances[t._guid]+=1,n._ractive.wrappers.push(this)},c.prototype={get:function(){return this.value},teardown:function(){var t,e,n,r,i;if(t=this.value,e=t._ractive,n=e.wrappers,r=e.instances,e.setting)return!1;if(i=n.indexOf(this),-1===i)throw new Error(m);if(n.splice(i,1),n.length){if(r[this.root._guid]-=1,!r[this.root._guid]){if(i=r.indexOf(this.root),-1===i)throw new Error(m);r.splice(i,1)}}else delete t._ractive,l(this.value)}},h=function(e,n,o){var s,u,h,c,f;for(s=function(t,s){var h,c,f,l,p,d,g,v,m,y,w,b;if("sort"===n||"reverse"===n)return void t.set(s,e);for(r(t,s),p=[],d=[],g=0;g<t._deps.length;g+=1)if(h=t._deps[g],h&&(c=h[s])){for(u(s,c,p,d),i(t);p.length;)p.pop().smartUpdate(n,o);for(;d.length;)d.pop().update()}if("splice"===n&&o.length>2&&o[1])for(v=Math.min(o[1],o.length-2),m=o[0],y=m+v,o[1]===o.length-2&&(b=!0),g=m;y>g;g+=1)w=s+"."+g,a(t,w);for(i(t),l=[],f=s.split(".");f.length;)f.pop(),l[l.length]=f.join(".");a.multiple(t,l,!0),b||a(t,s+".length",!0)},u=function(e,n,r,i){var o,s;for(o=n.length;o--;)s=n[o],s.type===t.REFERENCE?s.update():s.keypath===e&&s.type===t.SECTION&&!s.inverted&&s.docFrag?r[r.length]=s:i[i.length]=s},h=e._ractive.wrappers,f=h.length;f--;)c=h[f],s(c.root,c.keypath)},p=[],g=["pop","push","reverse","shift","sort","splice","unshift"],v=function(){},g.forEach(function(t){var n=function(){var e,n,r,a,u={},c={};for(e=Array.prototype[t].apply(this,arguments),n=this._ractive.instances,a=n.length;a--;)r=n[a],u[r._guid]=r._transitionManager,r._transitionManager=c[r._guid]=s(r,v);for(this._ractive.setting=!0,h(this,t,arguments),this._ractive.setting=!1,a=n.length;a--;)r=n[a],r._transitionManager=u[r._guid],c[r._guid].ready(),i(r),o(r);return e};e(p,t,{value:n})}),d={},d.__proto__?(f=function(t){t.__proto__=p},l=function(t){t.__proto__=Array.prototype}):(f=function(t){var n,r;for(n=g.length;n--;)r=g[n],e(t,r,{value:p[r],configurable:!0})},l=function(t){var e;for(e=g.length;e--;)delete t[g[e]]}),m="Something went wrong in a rather interesting way",u}(c,s,f,l,d,g,v,m),w=function(){var t,e;try{Object.defineProperty({},"test",{value:0})}catch(n){return!1}return t={filter:function(t,e){return!!e},wrap:function(t,n,r){return new e(t,n,r)}},e=function(t,e,n){var r,i,o,s,a,u,h,c,f,l=this;if(this.ractive=t,this.keypath=n,r=n.split("."),this.prop=r.pop(),o=r.join("."),this.obj=o?t.get(o):t.data,s=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),s&&s.set&&(a=s.set._ractiveWrappers))return void(-1===a.indexOf(this)&&a.push(this));if(s&&!s.configurable)throw new Error('Cannot use magic mode with property "'+i+'" - object is not configurable');s&&(this.value=s.value,u=s.get,h=s.set),c=u||function(){return l.value},f=function(t){var e,n,r;for(h&&h(t),e=f._ractiveWrappers,r=e.length;r--;)n=e[r],n.resetting||n.ractive.set(n.keypath,t)},f._ractiveWrappers=[this],Object.defineProperty(this.obj,this.prop,{get:c,set:f,enumerable:!0,configurable:!0})},e.prototype={get:function(){return this.value},reset:function(t){this.resetting=!0,this.value=t,this.resetting=!1},teardown:function(){var t,e,n,r;t=Object.getOwnPropertyDescriptor(this.obj,this.prop),e=t.set,r=e._ractiveWrappers,r.splice(r.indexOf(this),1),r.length||(n=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configrable:!0}),this.obj[this.prop]=n)}},t}(),b=function(t,e,n){function r(t,e){var n,r={};if(!e)return t;e+=".";for(n in t)t.hasOwnProperty(n)&&(r[e+n]=t[n]);return r}function i(t){var e;return o[t]||(e=t?t+".":"",o[t]=function(n,i){var o;return"string"==typeof n?(o={},o[e+n]=i,o):"object"==typeof n?e?r(n,t):n:void 0}),o[t]}var o={};return function(r,o,s,a){var u,h,c,f;for(u=r.adaptors.length,h=0;u>h;h+=1){if(c=r.adaptors[h],"string"==typeof c){if(!t[c])throw new Error('Missing adaptor "'+c+'"');c=r.adaptors[h]=t[c]}if(c.filter(s,o,r))return f=r._wrapped[o]=c.wrap(r,s,o,i(o)),void(f.value=s)}a||(r.magic&&n.filter(s,o,r)?r._wrapped[o]=n.wrap(r,s,o):r.modifyArrays&&e.filter(s,o,r)&&(r._wrapped[o]=e.wrap(r,s,o)))}}(h,y,w),x=function(t,e,n){var r,i,o;return r=function(t){return this._captured&&!this._captured[t]&&(this._captured.push(t),this._captured[t]=!0),i(this,t)},i=function(e,r){var i,s,a,u,h;return r=t(r),i=e._cache,void 0!==(s=i[r])?s:((u=e._wrapped[r])?a=u.value:r?a=(h=e._evaluators[r])?h.value:o(e,r):(n(e,"",e.data),a=e.data),i[r]=a,a)},o=function(t,e){var r,o,s,a,u,h,c;return r=e.split("."),o=r.pop(),s=r.join("."),a=i(t,s),(c=t._wrapped[s])&&(a=c.get()),null!==a&&void 0!==a?((u=t._cacheMap[s])?-1===u.indexOf(e)&&(u[u.length]=e):t._cacheMap[s]=[e],h=a[o],n(t,e,h),t._cache[e]=h,h):void 0},r}(u,h,b),E=function(){var t=Object.prototype.toString;return function(e){return"object"==typeof e&&"[object Object]"===t.call(e)}}(),_=function(){return function(t,e){return null===t&&null===e?!0:"object"==typeof t||"object"==typeof e?!1:t===e}}(),N=function(){var t;return t=function(t,e,n){var r,i,o,s,a,u,h,c,f,l,p;if(p='Could not resolve reference - too many "../" prefixes',"."===e){if(!n.length)return"";r=n[n.length-1]}else if("."===e.charAt(0))if(l=n[n.length-1],s=l?l.split("."):[],"../"===e.substr(0,3)){for(;"../"===e.substr(0,3);){if(!s.length)throw new Error(p);s.pop(),e=e.substring(3)}s.push(e),r=s.join(".")}else r=l?l+e:e.substring(1);else{for(i=e.split("."),o=i.pop(),u=i.length?"."+i.join("."):"",n=n.concat();n.length;)if(a=n.pop(),h=a+u,c=t.get(h),(f=t._wrapped[h])&&(c=f.get()),"object"==typeof c&&null!==c&&c.hasOwnProperty(o)){r=a+"."+e;break}r||void 0===t.get(e)||(r=e)}return r?r.replace(/^\./,""):r}}(),k=function(t){var e=Array.prototype.push;return function(n){for(var r,i,o;r=n._pendingResolution.pop();)i=t(n,r.ref,r.contextStack),void 0!==i?r.resolve(i):(o||(o=[])).push(r);o&&e.apply(n._pendingResolution,o)}}(N),T=function(t,e){return function(n){t(n),e(n)}}(d,g),S=function(){return function(t,e,n){var r,i,o,s,a,u,h;for(r=e.split("."),i=[],(o=t._wrapped[""])?(o.set&&o.set(r.join("."),n),s=o.get()):s=t.data;r.length>1;)a=i[i.length]=r.shift(),u=i.join("."),(o=t._wrapped[u])?(o.set&&o.set(r.join("."),n),s=o.get()):(s.hasOwnProperty(a)||(h||(h=u),s[a]=/^\s*[0-9]+\s*$/.test(r[0])?[]:{}),s=s[a]);return a=r[0],s[a]=n,h}}(),O=function(t,e,n,r,i,o,s,a,u){var h,c,f,l;return h=function(e,r,u){var h,l,p,d,g,v,m;if(l=[],t(e)&&(h=e,u=r),h)for(e in h)h.hasOwnProperty(e)&&(r=h[e],e=n(e),c(this,e,r,l));else e=n(e),c(this,e,r,l);if(l.length){if(d=this._transitionManager,this._transitionManager=g=s(this,u),p=f(l),p.length&&i.multiple(this,p,!0),i.multiple(this,l),this._pendingResolution.length&&o(this),a(this),this._transitionManager=d,g.ready(),!this.firingChangeEvent){for(this.firingChangeEvent=!0,m={},v=l.length;v--;)m[l[v]]=this.get(l[v]);this.fire("change",m),this.firingChangeEvent=!1}return this}},c=function(t,e,n,i){var o,s,a,h,c;if(!(a=t._wrapped[e])||!a.reset||l(t,e,n,a,i)===!1){if((c=t._evaluators[e])&&(c.value=n),o=t._cache[e],s=t.get(e),s===n||c){if(n===o&&"object"!=typeof n)return}else h=u(t,e,n);r(t,h||e),i[i.length]=e}},f=function(t){var e,n,r,i,o=[""];for(e=t.length;e--;)for(n=t[e],r=n.split(".");r.length>1;)r.pop(),i=r.join("."),o[i]||(o[o.length]=i,o[i]=!0);return o},l=function(t,n,i,o,s){var a,u,h,c;if(a=o.get(),!e(a,i)&&o.reset(i)===!1)return!1;if(i=o.get(),u=t._cache[n],!e(u,i)){if(t._cache[n]=i,h=t._cacheMap[n])for(c=h.length;c--;)r(t,h[c]);s[s.length]=n}},h}(E,_,u,l,m,k,v,T,S),R=function(t,e,n,r,i){return function(o,s){var a,u;return"function"==typeof o&&(s=o,o=""),u=this._transitionManager,this._transitionManager=a=t(this,s),e(this),n(this,o||""),r(this,o||""),i(this),this._transitionManager=u,a.ready(),"string"==typeof o?this.fire("update",o):this.fire("update"),this}}(v,k,l,m,T),A=function(t){return function(e,n){var r;if(!t(e)||!t(n))return!1;if(e.length!==n.length)return!1;for(r=e.length;r--;)if(e[r]!==n[r])return!1;return!0}}(f),M=function(t,e,n){function r(t,i,o,s,a){var u,h,c,f,l,p;if(u=t._twowayBindings[i])for(c=u.length;c--;)f=u[c],(!f.radioName||f.node.checked)&&(f.checkboxName?f.changed()&&!s[i]&&(s[i]=!0,s[s.length]=i):(l=f.attr.value,p=f.value(),e(l,p)||n(l,p)||(o[i]=p)));if(a&&(h=t._depsMap[i]))for(c=h.length;c--;)r(t,h[c],o,s,a)}return function(e,n){var i,o,s;if("string"!=typeof e&&(e="",n=!0),r(this,e,i={},o=[],n),s=o.length)for(;s--;)e=o[s],i[e]=t(this,e);this.set(i)}}(p,A,_),C=function(){return"undefined"!=typeof window?(function(t,e,n){var r,i;if(!n.requestAnimationFrame){for(r=0;r<t.length&&!n.requestAnimationFrame;++r)n.requestAnimationFrame=n[t[r]+"RequestAnimationFrame"];n.requestAnimationFrame||(i=n.setTimeout,n.requestAnimationFrame=function(t){var n,r,o;return n=Date.now(),r=Math.max(0,16-(n-e)),o=i(function(){t(n+r)},r),e=n+r,o})}}(["ms","moz","webkit","o"],0,window),window.requestAnimationFrame):void 0}(),L=function(t){var e=[],n={tick:function(){var r,i;for(r=0;r<e.length;r+=1)i=e[r],i.tick()||e.splice(r--,1);e.length?t(n.tick):n.running=!1},add:function(t){e[e.length]=t,n.running||(n.running=!0,n.tick())},abort:function(t,n){for(var r,i=e.length;i--;)r=e[i],r.root===n&&r.keypath===t&&r.stop()}};return n}(C),I=function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply?function(){console.warn.apply(console,arguments)}:function(){}}(),F=function(){return function(t){return!isNaN(parseFloat(t))&&isFinite(t)}}(),P=function(t,e,n){function r(t,e){var n=e-t;return n?function(e){return t+e*n}:function(){return t}}function i(t,e){var n,r,i,o;for(n=[],r=[],o=i=Math.min(t.length,e.length);o--;)r[o]=s(t[o],e[o]);for(o=i;o<t.length;o+=1)n[o]=t[o];for(o=i;o<e.length;o+=1)n[o]=e[o];return function(t){for(var e=i;e--;)n[e]=r[e](t);return n}}function o(t,e){var n,r,i,o,a=[];i={},r={};for(o in t)t.hasOwnProperty(o)&&(e.hasOwnProperty(o)?(a[a.length]=o,r[o]=s(t[o],e[o])):i[o]=t[o]);for(o in e)e.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(i[o]=e[o]);return n=a.length,function(t){for(var e,o=n;o--;)e=a[o],i[e]=r[e](t);return i}}var s=function(s,a){return n(s)&&n(a)?r(+s,+a):t(s)&&t(a)?i(s,a):e(s)&&e(a)?o(s,a):function(){return a}};return s}(f,E,F),j=function(t,e){var n=function(t){var n;this.startTime=Date.now();for(n in t)t.hasOwnProperty(n)&&(this[n]=t[n]);this.interpolator=e(this.from,this.to),this.running=!0};return n.prototype={tick:function(){var e,n,r,i,o,s;return s=this.keypath,this.running?(i=Date.now(),e=i-this.startTime,e>=this.duration?(null!==s&&this.root.set(s,this.to),this.step&&this.step(1,this.to),this.complete&&this.complete(1,this.to),o=this.root._animations.indexOf(this),-1===o&&t("Animation was not found"),this.root._animations.splice(o,1),this.running=!1,!1):(n=this.easing?this.easing(e/this.duration):e/this.duration,null!==s&&(r=this.interpolator(n),this.root.set(s,r)),this.step&&this.step(n,r),!0)):!1},stop:function(){var e;this.running=!1,e=this.root._animations.indexOf(this),-1===e&&t("Animation was not found"),this.root._animations.splice(e,1)}},n}(I,P),U=function(){return{linear:function(t){return t},easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return Math.pow(t-1,3)+1},easeInOut:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)}}}(),B=function(t,e,n,r){function i(i,s,a,u){var h,c,f,l;return null!==s&&(l=i.get(s)),e.abort(s,i),t(l,a)?(u.complete&&u.complete(1,u.to),o):(u.easing&&(h="function"==typeof u.easing?u.easing:i.easing&&i.easing[u.easing]?i.easing[u.easing]:r[u.easing],"function"!=typeof h&&(h=null)),c=void 0===u.duration?400:u.duration,f=new n({keypath:s,from:l,to:a,root:i,duration:c,easing:h,step:u.step,complete:u.complete}),e.add(f),i._animations[i._animations.length]=f,f)}var o={stop:function(){}};return function(t,e,n){var r,o,s,a,u,h,c,f,l,p,d,g;if("object"==typeof t){n=e||{},a=n.easing,u=n.duration,s=[],h=n.step,c=n.complete,(h||c)&&(l={},n.step=null,n.complete=null,f=function(t){return function(e,n){l[t]=n}});for(r in t)t.hasOwnProperty(r)&&((h||c)&&(p=f(r),n={easing:a,duration:u},h&&(n.step=p),c&&(n.complete=p)),s[s.length]=i(this,r,t[r],n));return(h||c)&&(g={easing:a,duration:u},h&&(g.step=function(t){h(t,l)}),c&&(g.complete=function(t){c(t,l)}),s[s.length]=d=i(this,null,null,g)),{stop:function(){for(;s.length;)s.pop().stop();d&&d.stop()}}}return n=n||{},o=i(this,t,e,n),{stop:function(){o.stop()}}}}(_,L,j,U),D=function(){return function(t,e){var n,r,i=this;if("object"==typeof t){n=[];for(r in t)t.hasOwnProperty(r)&&(n[n.length]=this.on(r,t[r]));return{cancel:function(){for(;n.length;)n.pop().cancel()}}}return this._subs[t]?this._subs[t].push(e):this._subs[t]=[e],{cancel:function(){i.off(t,e)}}}}(),W=function(){return function(t,e){var n,r;if(!e)if(t)this._subs[t]=[];else for(t in this._subs)delete this._subs[t];n=this._subs[t],n&&(r=n.indexOf(e),-1!==r&&n.splice(r,1))}}(),q=function(){return function(t){var e,n,r,i,o,s,a,u;if(s=t.root,a=t.keypath,u=t.priority,e=s._deps[u]||(s._deps[u]={}),n=e[a]||(e[a]=[]),n[n.length]=t,t.registered=!0,a)for(r=a.split(".");r.length;)r.pop(),i=r.join("."),o=s._depsMap[i]||(s._depsMap[i]=[]),void 0===o[a]&&(o[a]=0,o[o.length]=a),o[a]+=1,a=i}}(),z=function(){return function(t){var e,n,r,i,o,s,a,u;if(s=t.root,a=t.keypath,u=t.priority,e=s._deps[u][a],n=e.indexOf(t),-1===n||!t.registered)throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");if(e.splice(n,1),t.registered=!1,a)for(r=a.split(".");r.length;)r.pop(),i=r.join("."),o=s._depsMap[i],o[a]-=1,o[a]||(o.splice(o.indexOf(a),1),o[a]=void 0),a=i}}(),Q=function(t){var e=function(t,e,n,r){var i=this;this.root=t,this.keypath=e,this.callback=n,this.defer=r.defer,this.debug=r.debug,this.proxy={update:function(){i.reallyUpdate()}},this.priority=0,this.context=r&&r.context?r.context:t};return e.prototype={init:function(t){t!==!1?this.update():this.value=this.root.get(this.keypath)},update:function(){return this.defer&&this.ready?void this.root._deferred.observers.push(this.proxy):void this.reallyUpdate()},reallyUpdate:function(){var e,n;if(e=this.value,n=this.root.get(this.keypath),this.value=n,!this.updating){if(this.updating=!0,!t(n,e)||!this.ready)try{this.callback.call(this.context,n,e,this.keypath)}catch(r){if(this.debug||this.root.debug)throw r}this.updating=!1}}},e}(_),V=function(){return function(t,e){var n,r,i,o,s,a,u;for(n=e.split("."),o=[],a=function(e){var n,r;n=t._wrapped[e]?t._wrapped[e].get():t.get(e);for(r in n)s.push(e+"."+r)},u=function(t){return t+"."+r};r=n.shift();)"*"===r?(s=[],o.forEach(a),o=s):o[0]?o=o.map(u):o[0]=r;return i={},o.forEach(function(e){i[e]=t.get(e)}),i}}(),$=function(t,e){var n,r=/\*/;return n=function(t,e,n,r){this.root=t,this.callback=n,this.defer=r.defer,this.debug=r.debug,this.keypath=e,this.regex=new RegExp("^"+e.replace(/\./g,"\\.").replace(/\*/g,"[^\\.]+")+"$"),this.values={},this.defer&&(this.proxies=[]),this.priority="pattern",this.context=r&&r.context?r.context:t},n.prototype={init:function(t){var n,r;if(n=e(this.root,this.keypath),t!==!1)for(r in n)n.hasOwnProperty(r)&&this.update(r);else this.values=n},update:function(t){var n;{if(!r.test(t))return this.defer&&this.ready?void this.root._deferred.observers.push(this.getProxy(t)):void this.reallyUpdate(t);n=e(this.root,t);for(t in n)n.hasOwnProperty(t)&&this.update(t)}},reallyUpdate:function(e){var n=this.root.get(e);if(this.updating)return void(this.values[e]=n);if(this.updating=!0,!t(n,this.values[e])||!this.ready){try{this.callback.call(this.context,n,this.values[e],e)}catch(r){if(this.debug||this.root.debug)throw r}this.values[e]=n}this.updating=!1},getProxy:function(t){var e=this;return this.proxies[t]||(this.proxies[t]={update:function(){e.reallyUpdate(t)}}),this.proxies[t]}},n}(_,V),H=function(t,e,n,r,i){var o=/\*/,s={};return function(a,u,h,c){var f,l;return u=t(u),c=c||s,o.test(u)?(f=new i(a,u,h,c),a._patternObservers.push(f),l=!0):f=new r(a,u,h,c),e(f),f.init(c.init),f.ready=!0,{cancel:function(){var t;l&&(t=a._patternObservers.indexOf(f),-1!==t&&a._patternObservers.splice(t,1)),n(f)}}}}(u,q,z,Q,$),X=function(t,e){return function(n,r,i){var o,s=[];if(t(n)){i=r;for(o in n)n.hasOwnProperty(o)&&(r=n[o],s[s.length]=e(this,o,r,i));return{cancel:function(){for(;s.length;)s.pop().cancel()}}}return e(this,n,r,i)}}(E,H),G=function(){return function(t){var e,n,r,i=this._subs[t];if(i)for(e=Array.prototype.slice.call(arguments,1),n=0,r=i.length;r>n;n+=1)i[n].apply(this,e)}}(),J=function(){return function(t){return this.el?this.fragment.find(t):null}}(),Z=function(t,e){var n,r,i,o,s,a,u,h;if(t){for(n=e("div"),r=["matches","matchesSelector"],s=["o","ms","moz","webkit"],h=function(t){return function(e,n){return e[t](n)}},a=r.length;a--;){if(i=r[a],n[i])return h(i);for(u=s.length;u--;)if(o=s[a]+i.substr(0,1).toUpperCase()+i.substring(1),n[o])return h(o)}return function(t,e){var n,r;for(n=(t.parentNode||t.document).querySelectorAll(e),r=n.length;r--;)if(n[r]===t)return!0;return!1}}}(o,i),Y=function(t){return function(e,n){var r=this._isComponentQuery?!this.selector||e.name===this.selector:t(e.node,this.selector);return r?(this.push(e.node||e.instance),n||this._makeDirty(),!0):void 0}}(Z),K=function(){return function(){var t,e,n;t=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],e=this.selector,n=t.indexOf(e),-1!==n&&(t.splice(n,1),t[e]=null)}}(),te=function(){function t(t){var e;return(e=t.parentFragment)?e.owner:t.component&&(e=t.component.parentFragment)?e.owner:void 0}function e(e){var n,r;for(n=[e],r=t(e);r;)n.push(r),r=t(r);return n}return function(t,n){var r,i,o,s,a,u,h,c,f,l;for(r=e(t.component||t._ractive.proxy),i=e(n.component||n._ractive.proxy),o=r[r.length-1],s=i[i.length-1];o&&o===s;)r.pop(),i.pop(),a=o,o=r[r.length-1],s=i[i.length-1];if(o=o.component||o,s=s.component||s,f=o.parentFragment,l=s.parentFragment,f===l)return u=f.items.indexOf(o),h=l.items.indexOf(s),u-h||r.length-i.length;if(c=a.fragments)return u=c.indexOf(f),h=c.indexOf(l),u-h||r.length-i.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")}}(),ee=function(t){return function(e,n){var r;return e.compareDocumentPosition?(r=e.compareDocumentPosition(n),2&r?1:-1):t(e,n)}}(te),ne=function(t,e){return function(){this.sort(this._isComponentQuery?e:t),this._dirty=!1}}(ee,te),re=function(){return function(){this._dirty||(this._root._deferred.liveQueries.push(this),this._dirty=!0)}}(),ie=function(){return function(t){var e=this.indexOf(this._isComponentQuery?t.instance:t.node);-1!==e&&this.splice(e,1)}}(),oe=function(t,e,n,r,i,o){return function(s,a,u,h){var c;return c=[],t(c,{selector:{value:a},live:{value:u},_isComponentQuery:{value:h},_test:{value:e}}),u?(t(c,{cancel:{value:n},_root:{value:s},_sort:{value:r},_makeDirty:{value:i},_remove:{value:o},_dirty:{value:!1,writable:!0}}),c):c}}(a,Y,K,ne,re,ie),se=function(t,e,n,r){return function(t,e){var n,i;return this.el?(e=e||{},n=this._liveQueries,(i=n[t])?e&&e.live?i:i.slice():(i=r(this,t,!!e.live,!1),i.live&&(n.push(t),n[t]=i),this.fragment.findAll(t,i),i)):[]}}(I,Z,a,oe),ae=function(){return function(t){return this.fragment.findComponent(t)}}(),ue=function(t,e,n,r){return function(t,e){var n,i;return e=e||{},n=this._liveComponentQueries,(i=n[t])?e&&e.live?i:i.slice():(i=r(this,t,!!e.live,!0),i.live&&(n.push(t),n[t]=i),this.fragment.findAllComponents(t,i),i)}}(I,Z,a,oe),he=function(){return function(t){var e;return"undefined"!=typeof window&&document&&t?t.nodeType?t:"string"==typeof t&&(e=document.getElementById(t),!e&&document.querySelector&&(e=document.querySelector(t)),e&&e.nodeType)?e:t[0]&&t[0].nodeType?t[0]:null:null}}(),ce=function(t,e){return function(n,r){var i,o,s,a,u;if(n.owner=r.owner,s=n.owner.parentFragment,n.root=r.root,n.pNode=r.pNode,n.contextStack=r.contextStack||[],n.owner.type===t.SECTION&&(n.index=r.index),s&&(a=s.indexRefs)){n.indexRefs=e(null);for(u in a)n.indexRefs[u]=a[u]}for(n.priority=s?s.priority+1:1,r.indexRef&&(n.indexRefs||(n.indexRefs={}),n.indexRefs[r.indexRef]=r.index),n.items=[],i=r.descriptor?r.descriptor.length:0,o=0;i>o;o+=1)n.items[n.items.length]=n.createItem({parentFragment:n,descriptor:r.descriptor[o],index:o})}}(c,n),fe=function(t){var e={};return function(n,r,i){var o,s=[];if(n)for(o=e[r]||(e[r]=t(r)),o.innerHTML=n;o.firstChild;)s[s.length]=o.firstChild,i.appendChild(o.firstChild);return s}}(i),le=function(t){var e,n,r;return n=/</g,r=/>/g,e=function(e,n){this.type=t.TEXT,this.descriptor=e.descriptor,n&&(this.node=document.createTextNode(e.descriptor),n.appendChild(this.node))},e.prototype={detach:function(){return this.node.parentNode.removeChild(this.node),this.node},teardown:function(t){t&&this.detach()},firstNode:function(){return this.node},toString:function(){return(""+this.descriptor).replace(n,"&lt;").replace(r,"&gt;")}},e}(c),pe=function(t){return function(e){if(e.keypath)t(e);else{var n=e.root._pendingResolution.indexOf(e);-1!==n&&e.root._pendingResolution.splice(n,1)}}}(z),de=function(t,e,n,r,i){function o(t,e,r){var i,o,s;if(!a.test(t.toString()))return n(t,"_nowrap",{value:!0}),t;if(!t["_"+e._guid]){n(t,"_"+e._guid,{value:function(){var n,r,i,s;if(n=e._captured,n||(e._captured=[]),r=t.apply(e,arguments),e._captured.length)for(i=o.length;i--;)s=o[i],s.updateSoftDependencies(e._captured);return e._captured=n,r},writable:!0});for(i in t)t.hasOwnProperty(i)&&(t["_"+e._guid][i]=t[i]);t["_"+e._guid+"_evaluators"]=[]}return o=t["_"+e._guid+"_evaluators"],s=o.indexOf(r),-1===s&&o.push(r),t["_"+e._guid]}var s,a;return a=/this/,s=function(e,n,i,s,a){var u;this.evaluator=i,this.keypath=n,this.root=e,this.argNum=s,this.type=t.REFERENCE,this.priority=a,u=e.get(n),"function"==typeof u&&(u=o(u,e,i)),this.value=i.values[s]=u,r(this)},s.prototype={update:function(){var t=this.root.get(this.keypath);"function"!=typeof t||t._nowrap||(t=o(t,this.root,this.evaluator)),e(t,this.value)||(this.evaluator.values[this.argNum]=t,this.evaluator.bubble(),this.value=t)},teardown:function(){i(this)}},s}(c,_,s,q,z),ge=function(t,e,n){var r=function(t,n,r){this.root=t,this.keypath=n,this.priority=r.priority,this.evaluator=r,e(this)};return r.prototype={update:function(){var e=this.root.get(this.keypath);t(e,this.value)||(this.evaluator.bubble(),this.value=e)},teardown:function(){n(this)}},r}(_,q,z),ve=function(t,e,n,r,i,o,s,a,u){function h(t,e){var n,r;if(t=t.replace(/\$\{([0-9]+)\}/g,"_$1"),f[t])return f[t];for(r=[];e--;)r[e]="_"+e;return n=new Function(r.join(","),"return("+t+")"),f[t]=n,n}var c,f={};return c=function(t,e,n,r,i){var o,s;for(this.root=t,this.keypath=e,this.priority=i,this.fn=h(n,r.length),this.values=[],this.refs=[],o=r.length;o--;)(s=r[o])?s[0]?this.values[o]=s[1]:this.refs[this.refs.length]=new a(t,s[1],this,o,i):this.values[o]=void 0;this.selfUpdating=this.refs.length<=1,this.update()},c.prototype={bubble:function(){this.selfUpdating?this.update():this.deferred||(this.root._deferred.evals.push(this),this.deferred=!0)},update:function(){var e;if(this.evaluating)return this;this.evaluating=!0;try{e=this.fn.apply(null,this.values)}catch(i){if(this.root.debug)throw i;e=void 0}return t(e,this.value)||(n(this.root,this.keypath),this.root._cache[this.keypath]=e,s(this.root,this.keypath,e,!0),this.value=e,r(this.root,this.keypath)),this.evaluating=!1,this},teardown:function(){for(;this.refs.length;)this.refs.pop().teardown();n(this.root,this.keypath),this.root._evaluators[this.keypath]=null},refresh:function(){this.selfUpdating||(this.deferred=!0);for(var t=this.refs.length;t--;)this.refs[t].update();this.deferred&&(this.update(),this.deferred=!1)},updateSoftDependencies:function(t){var e,n,r;for(this.softRefs||(this.softRefs=[]),e=this.softRefs.length;e--;)r=this.softRefs[e],t[r.keypath]||(this.softRefs.splice(e,1),this.softRefs[r.keypath]=!1,r.teardown());for(e=t.length;e--;)n=t[e],this.softRefs[n]||(r=new u(this.root,n,this),this.softRefs[this.softRefs.length]=r,this.softRefs[n]=!0);this.selfUpdating=this.refs.length+this.softRefs.length<=1}},c}(_,s,l,m,q,z,b,de,ge),me=function(t,e){var n=function(e,n,r,i){var o,s;s=this.root=e.root,o=t(s,n,r),void 0!==o?e.resolveRef(i,!1,o):(this.ref=n,this.argNum=i,this.resolver=e,this.contextStack=r,s._pendingResolution[s._pendingResolution.length]=this)};return n.prototype={resolve:function(t){this.keypath=t,this.resolver.resolveRef(this.argNum,!1,t)},teardown:function(){this.keypath||e(this)}},n}(N,pe),ye=function(){var t=/^(?:(?:[a-zA-Z$_][a-zA-Z$_0-9]*)|(?:[0-9]|[1-9][0-9]+))$/;return function(e){var n,r,i;for(n=e.split("."),i=n.length;i--;)if(r=n[i],"undefined"===r||!t.test(r))return!1;return!0}}(),we=function(t,e){return function(n,r){var i,o;return i=n.replace(/\$\{([0-9]+)\}/g,function(t,e){return r[e]?r[e][1]:"undefined"}),o=t(i),e(o)?o:"${"+i.replace(/[\.\[\]]/g,"-")+"}"}}(u,ye),be=function(t,e){function n(t,e,n){var i,o;if(i=t._depsMap[e])for(o=i.length;o--;)r(t,i[o],n)}function r(t,e,r){var i,o,s,a;for(i=t._deps.length;i--;)if(o=t._deps[i],o&&(s=o[e]))for(a=s.length;a--;)r.push(s[a]);n(t,e,r)}return function(n,i,o){var s,a,u;for(s=[],r(n,i,s),a=s.length;a--;)u=s[a],e(u),u.keypath=u.keypath.replace(i,o),t(u),u.update()}}(q,z),xe=function(t,e,n,r){var i=function(t){var n,r,i,o,s;if(this.root=t.root,this.mustache=t,this.args=[],this.scouts=[],n=t.descriptor.x,s=t.parentFragment.indexRefs,this.str=n.s,i=this.unresolved=this.args.length=n.r?n.r.length:0,!i)return this.resolved=this.ready=!0,void this.bubble();for(r=0;i>r;r+=1)o=n.r[r],s&&void 0!==s[o]?this.resolveRef(r,!0,s[o]):this.scouts[this.scouts.length]=new e(this,o,t.contextStack,r);this.ready=!0,this.bubble()};return i.prototype={bubble:function(){var t;this.ready&&(t=this.keypath,this.keypath=n(this.str,this.args),"${"===this.keypath.substr(0,2)&&this.createEvaluator(),t?r(this.root,t,this.keypath):this.mustache.resolve(this.keypath))},teardown:function(){for(;this.scouts.length;)this.scouts.pop().teardown()},resolveRef:function(t,e,n){this.args[t]=[e,n],this.bubble(),this.resolved=!--this.unresolved},createEvaluator:function(){this.root._evaluators[this.keypath]?this.root._evaluators[this.keypath].refresh():this.root._evaluators[this.keypath]=new t(this.root,this.keypath,this.str,this.args,this.mustache.priority)}},i}(ve,me,we,be),Ee=function(t,e){return function(n,r){var i,o,s;s=n.parentFragment=r.parentFragment,n.root=s.root,n.contextStack=s.contextStack,n.descriptor=r.descriptor,n.index=r.index||0,n.priority=s.priority,n.type=r.descriptor.t,r.descriptor.r&&(s.indexRefs&&void 0!==s.indexRefs[r.descriptor.r]?(o=s.indexRefs[r.descriptor.r],n.indexRef=r.descriptor.r,n.value=o,n.render(n.value)):(i=t(n.root,r.descriptor.r,n.contextStack),void 0!==i?n.resolve(i):(n.ref=r.descriptor.r,n.root._pendingResolution[n.root._pendingResolution.length]=n))),r.descriptor.x&&(n.expressionResolver=new e(n)),n.descriptor.n&&!n.hasOwnProperty("value")&&n.render(void 0)
}}(N,xe),_e=function(t,e,n){return function(r){r!==this.keypath&&(this.registered&&n(this),this.keypath=r,e(this),this.update(),this.root.twoway&&this.parentFragment.owner.type===t.ATTRIBUTE&&this.parentFragment.owner.element.bind(),this.expressionResolver&&this.expressionResolver.resolved&&(this.expressionResolver=null))}}(c,q,z),Ne=function(t){return function(){var e,n;n=this.root.get(this.keypath),(e=this.root._wrapped[this.keypath])&&(n=e.get()),t(n,this.value)||(this.render(n),this.value=n)}}(_),ke=function(t,e,n,r,i){var o,s,a;return s=/</g,a=/>/g,o=function(e,r){this.type=t.INTERPOLATOR,r&&(this.node=document.createTextNode(""),r.appendChild(this.node)),n(this,e)},o.prototype={update:i,resolve:r,detach:function(){return this.node.parentNode.removeChild(this.node),this.node},teardown:function(t){t&&this.detach(),e(this)},render:function(t){this.node&&(this.node.data=void 0==t?"":t)},firstNode:function(){return this.node},toString:function(){var t=void 0!=this.value?""+this.value:"";return t.replace(s,"&lt;").replace(a,"&gt;")}},o}(c,pe,Ee,_e,Ne),Te=function(t,e,n){function r(t,e,n){var r,i,o;if(i=e.length,i<t.length)for(o=t.fragments.splice(i,t.length-i);o.length;)o.pop().teardown(!0);else if(i>t.length)for(r=t.length;i>r;r+=1)n.contextStack=t.contextStack.concat(t.keypath+"."+r),n.index=r,t.descriptor.i&&(n.indexRef=t.descriptor.i),t.fragments[r]=t.createFragment(n);t.length=i}function i(t,e,r){var i,o;o=t.fragmentsById||(t.fragmentsById=n(null));for(i in o)void 0===e[i]&&o[i]&&(o[i].teardown(!0),o[i]=null);for(i in e)void 0===e[i]||o[i]||(r.contextStack=t.contextStack.concat(t.keypath+"."+i),r.index=i,t.descriptor.i&&(r.indexRef=t.descriptor.i),o[i]=t.createFragment(r))}function o(t,e){t.length||(e.contextStack=t.contextStack.concat(t.keypath),e.index=0,t.fragments[0]=t.createFragment(e),t.length=1)}function s(e,n,r,i){var o,s,a,u;if(s=t(n)&&0===n.length,o=r?s||!n:n&&!s){if(e.length||(i.contextStack=e.contextStack,i.index=0,e.fragments[0]=e.createFragment(i),e.length=1),e.length>1)for(a=e.fragments.splice(1);u=a.pop();)u.teardown(!0)}else e.length&&(e.teardownFragments(!0),e.length=0)}return function(n,a){var u;return u={descriptor:n.descriptor.f,root:n.root,pNode:n.parentFragment.pNode,owner:n},n.descriptor.n?void s(n,a,!0,u):void(t(a)?r(n,a,u):e(a)?n.descriptor.i?i(n,a,u):o(n,u):s(n,a,!1,u))}}(f,E,n),Se=function(t,e,n){function r(e,n,s,a,u,h,c){var f,l,p,d;if(!e.html){for(e.indexRefs&&void 0!==e.indexRefs[n]&&(e.indexRefs[n]=a),f=e.contextStack.length;f--;)p=e.contextStack[f],p.substr(0,h.length)===h&&(e.contextStack[f]=p.replace(h,c));for(f=e.items.length;f--;)switch(l=e.items[f],l.type){case t.ELEMENT:i(l,n,s,a,u,h,c);break;case t.PARTIAL:r(l.fragment,n,s,a,u,h,c);break;case t.COMPONENT:r(l.instance.fragment,n,s,a,u,h,c),(d=e.root._liveComponentQueries[l.name])&&d._makeDirty();break;case t.SECTION:case t.INTERPOLATOR:case t.TRIPLE:o(l,n,s,a,u,h,c)}}}function i(t,e,n,i,o,s,a){var u,h,c,f,l,p,d,g,v,m;for(u=t.attributes.length;u--;)h=t.attributes[u],h.fragment&&(r(h.fragment,e,n,i,o,s,a),h.twoway&&h.updateBindings());if(c=t.node._ractive){c.keypath.substr(0,s.length)===s&&(c.keypath=c.keypath.replace(s,a)),void 0!==e&&(c.index[e]=i);for(f in c.events)for(l=c.events[f].proxies,u=l.length;u--;)p=l[u],"object"==typeof p.n&&r(p.a,e,n,i,o,s,a),p.d&&r(p.d,e,n,i,o,s,a);(d=c.binding)&&d.keypath.substr(0,s.length)===s&&(g=c.root._twowayBindings[d.keypath],g.splice(g.indexOf(d),1),d.keypath=d.keypath.replace(s,a),g=c.root._twowayBindings[d.keypath]||(c.root._twowayBindings[d.keypath]=[]),g.push(d))}if(t.fragment&&r(t.fragment,e,n,i,o,s,a),v=t.liveQueries)for(m=t.root,u=v.length;u--;)m._liveQueries[v[u]]._makeDirty()}function o(t,e,i,o,s,a,u){var h;if(t.descriptor.x&&(t.expressionResolver&&t.expressionResolver.teardown(),t.expressionResolver=new n(t)),t.keypath?t.keypath.substr(0,a.length)===a&&t.resolve(t.keypath.replace(a,u)):t.indexRef===e&&(t.value=o,t.render(o)),t.fragments)for(h=t.fragments.length;h--;)r(t.fragments[h],e,i,o,s,a,u)}return r}(c,z,xe),Oe=function(t,e,n){return function(t,r,i,o,s){var a,u,h,c,f,l,p;for(h=r.descriptor.i,a=i;o>a;a+=1)u=r.fragments[a],c=a-s,f=a,l=r.keypath+"."+(a-s),p=r.keypath+"."+a,u.index+=s,e(u,h,c,f,s,l,p);n(t)}}(c,Se,d),Re=function(t){return function(e){var n,r,i,o,s,a,u,h,c,f,l=this;if(n=this.parentFragment,a=[],e.forEach(function(e,n){var o,s,h;return e===n?void(a[e]=l.fragments[n]):(void 0===r&&(r=n),-1===e?void(u||(u=[])).push(l.fragments[n]):(o=e-n,s=l.keypath+"."+n,h=l.keypath+"."+e,t(l.fragments[n],l.descriptor.i,n,e,o,s,h),a[e]=l.fragments[n],void(i=!0)))}),u)for(;c=u.pop();)c.teardown(!0);if(void 0===r&&(r=this.length),s=this.root.get(this.keypath).length,s!==r){for(h={descriptor:this.descriptor.f,root:this.root,pNode:n.pNode,owner:this},this.descriptor.i&&(h.indexRef=this.descriptor.i),o=r;s>o;o+=1)(c=a[o])?this.docFrag.appendChild(c.detach(!1)):(h.contextStack=this.contextStack.concat(this.keypath+"."+o),h.index=o,c=this.createFragment(h)),this.fragments[o]=c;f=n.findNextNode(this),n.pNode.insertBefore(this.docFrag,f),this.length=s}}}(Se),Ae=function(){return[]}(),Me=function(t,e,n,r,i,o,s,a,u,h,c){var f,l;return c.push(function(){l=c.DomFragment}),f=function(e,r){this.type=t.SECTION,this.inverted=!!e.descriptor.n,this.fragments=[],this.length=0,r&&(this.docFrag=document.createDocumentFragment()),this.initialising=!0,n(this,e),r&&r.appendChild(this.docFrag),this.initialising=!1},f.prototype={update:r,resolve:i,smartUpdate:function(t,e){var n;("push"===t||"unshift"===t||"splice"===t)&&(n={descriptor:this.descriptor.f,root:this.root,pNode:this.parentFragment.pNode,owner:this},this.descriptor.i&&(n.indexRef=this.descriptor.i)),this[t]&&(this.rendering=!0,this[t](n,e),this.rendering=!1)},pop:function(){this.length&&(this.fragments.pop().teardown(!0),this.length-=1)},push:function(t,e){var n,r,i;for(n=this.length,r=n+e.length,i=n;r>i;i+=1)t.contextStack=this.contextStack.concat(this.keypath+"."+i),t.index=i,this.fragments[i]=this.createFragment(t);this.length+=e.length,this.parentFragment.pNode.insertBefore(this.docFrag,this.parentFragment.findNextNode(this))},shift:function(){this.splice(null,[0,1])},unshift:function(t,e){this.splice(t,[0,0].concat(new Array(e.length)))},splice:function(t,e){var n,r,i,o,s,u,h,c,f;if(e.length&&(u=+(e[0]<0?this.length+e[0]:e[0]),r=Math.max(0,e.length-2),i=void 0!==e[1]?e[1]:this.length-u,i=Math.min(i,this.length-u),o=r-i)){if(0>o){for(h=u-o,s=u;h>s;s+=1)this.fragments[s].teardown(!0);this.fragments.splice(u,-o)}else{for(h=u+o,n=this.fragments[u]?this.fragments[u].firstNode():this.parentFragment.findNextNode(this),c=[u,0].concat(new Array(o)),this.fragments.splice.apply(this.fragments,c),s=u;h>s;s+=1)t.contextStack=this.contextStack.concat(this.keypath+"."+s),t.index=s,this.fragments[s]=this.createFragment(t);this.parentFragment.pNode.insertBefore(this.docFrag,n)}this.length+=o,f=u+r,a(this.root,this,f,this.length,o)}},merge:u,detach:function(){var t,e;for(e=this.fragments.length,t=0;e>t;t+=1)this.docFrag.appendChild(this.fragments[t].detach());return this.docFrag},teardown:function(t){this.teardownFragments(t),h(this)},firstNode:function(){return this.fragments[0]?this.fragments[0].firstNode():this.parentFragment.findNextNode(this)},findNextNode:function(t){return this.fragments[t.index+1]?this.fragments[t.index+1].firstNode():this.parentFragment.findNextNode(this)},teardownFragments:function(t){for(var e,n;n=this.fragments.shift();)n.teardown(t);if(this.fragmentsById)for(e in this.fragmentsById)this.fragments[e]&&(this.fragmentsById[e].teardown(t),this.fragmentsById[e]=null)},render:function(t){var n,r;(r=this.root._wrapped[this.keypath])&&(t=r.get()),this.rendering||(this.rendering=!0,o(this,t),this.rendering=!1,(!this.docFrag||this.docFrag.childNodes.length)&&!this.initialising&&e&&(n=this.parentFragment.findNextNode(this),n&&n.parentNode===this.parentFragment.pNode?this.parentFragment.pNode.insertBefore(this.docFrag,n):this.parentFragment.pNode.appendChild(this.docFrag)))},createFragment:function(t){var e=new l(t);return this.docFrag&&this.docFrag.appendChild(e.docFrag),e},toString:function(){var t,e,n,r;for(t="",e=0,r=this.length,e=0;r>e;e+=1)t+=this.fragments[e].toString();if(this.fragmentsById)for(n in this.fragmentsById)this.fragmentsById[n]&&(t+=this.fragmentsById[n].toString());return t},find:function(t){var e,n,r;for(n=this.fragments.length,e=0;n>e;e+=1)if(r=this.fragments[e].find(t))return r;return null},findAll:function(t,e){var n,r;for(r=this.fragments.length,n=0;r>n;n+=1)this.fragments[n].findAll(t,e)},findComponent:function(t){var e,n,r;for(n=this.fragments.length,e=0;n>e;e+=1)if(r=this.fragments[e].findComponent(t))return r;return null},findAllComponents:function(t,e){var n,r;for(r=this.fragments.length,n=0;r>n;n+=1)this.fragments[n].findAllComponents(t,e)}},f}(c,o,Ee,Ne,_e,Te,Se,Oe,Re,pe,Ae),Ce=function(t,e,n,r,i,o,s){var a=function(e,r){this.type=t.TRIPLE,r&&(this.nodes=[],this.docFrag=document.createDocumentFragment()),this.initialising=!0,n(this,e),r&&r.appendChild(this.docFrag),this.initialising=!1};return a.prototype={update:r,resolve:i,detach:function(){for(var t=this.nodes.length;t--;)this.docFrag.appendChild(this.nodes[t]);return this.docFrag},teardown:function(t){t&&(this.detach(),this.docFrag=this.nodes=null),s(this)},firstNode:function(){return this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)},render:function(t){var e,n;if(this.nodes){for(;this.nodes.length;)e=this.nodes.pop(),e.parentNode.removeChild(e);if(!t)return void(this.nodes=[]);n=this.parentFragment.pNode,this.nodes=o(t,n.tagName,this.docFrag),this.initialising||n.insertBefore(this.docFrag,this.parentFragment.findNextNode(this))}},toString:function(){return void 0!=this.value?this.value:""},find:function(t){var n,r,i,o;for(r=this.nodes.length,n=0;r>n;n+=1)if(i=this.nodes[n],1===i.nodeType){if(e(i,t))return i;if(o=i.querySelector(t))return o}return null},findAll:function(t,n){var r,i,o,s,a,u;for(i=this.nodes.length,r=0;i>r;r+=1)if(o=this.nodes[r],1===o.nodeType&&(e(o,t)&&n.push(o),s=o.querySelectorAll(t)))for(a=s.length,u=0;a>u;u+=1)n.push(s[u])}},a}(c,Z,Ee,Ne,_e,fe,pe),Le=function(t){return function(e,n){return e.a&&e.a.xmlns?e.a.xmlns:"svg"===e.e?t.svg:n.namespaceURI||t.html}}(r),Ie=function(){var t,e,n,r;return t="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),e="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),n=function(t){for(var e={},n=t.length;n--;)e[t[n].toLowerCase()]=t[n];return e},r=n(t.concat(e)),function(t){var e=t.toLowerCase();return r[e]||e}}(),Fe=function(t,e){return function(n,r){var i,o;if(i=r.indexOf(":"),-1===i||(o=r.substr(0,i),"xmlns"===o))n.name=n.element.namespace!==t.html?e(r):r,n.lcName=n.name.toLowerCase();else if(r=r.substring(i+1),n.name=e(r),n.lcName=n.name.toLowerCase(),n.namespace=t[o.toLowerCase()],!n.namespace)throw'Unknown namespace ("'+o+'")'}}(r,Ie),Pe=function(t){return function(e,n){var r,i=null===n.value?"":n.value;(r=n.pNode)&&(e.namespace?r.setAttributeNS(e.namespace,n.name,i):"style"===n.name&&r.style.setAttribute?r.style.setAttribute("cssText",i):"class"!==n.name||r.namespaceURI&&r.namespaceURI!==t.html?r.setAttribute(n.name,i):r.className=i,"id"===e.name&&(n.root.nodes[n.value]=r),"value"===e.name&&(r._ractive.value=n.value)),e.value=n.value}}(r),je=function(t){var e={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"};return function(n,r){var i;!n.pNode||n.namespace||r.pNode.namespaceURI&&r.pNode.namespaceURI!==t.html||(i=e[n.name]||n.name,void 0!==r.pNode[i]&&(n.propertyName=i),("boolean"==typeof r.pNode[i]||"value"===i)&&(n.useProperty=!0))}}(r),Ue=function(t,e,n,r){var i,o,s,a,u,h,c,f,l,p,d,g,v,m;return i=function(){var t,e,n,r=this.pNode;return this.fragment&&(t=o(this))?(this.interpolator=t,this.keypath=t.keypath||t.descriptor.r,(e=u(this))?(r._ractive.binding=this.element.binding=e,this.twoway=!0,n=this.root._twowayBindings[this.keypath]||(this.root._twowayBindings[this.keypath]=[]),n[n.length]=e,!0):!1):!1},s=function(){this._ractive.binding.update()},a=function(){var t=this._ractive.root.get(this._ractive.binding.keypath);this.value=void 0==t?"":t},o=function(n){var r,i;return 1!==n.fragment.items.length?null:(r=n.fragment.items[0],r.type!==t.INTERPOLATOR?null:r.keypath||r.ref?r.keypath&&"${"===r.keypath.substr(0,2)?(i="You cannot set up two-way binding against an expression "+r.keypath,n.root.debug&&e(i),null):r:null)},u=function(t){var n=t.pNode;if("SELECT"===n.tagName)return n.multiple?new c(t,n):new f(t,n);if("checkbox"===n.type||"radio"===n.type){if("name"===t.propertyName){if("checkbox"===n.type)return new p(t,n);if("radio"===n.type)return new l(t,n)}return"checked"===t.propertyName?new d(t,n):null}return"value"!==t.lcName&&e("This is... odd"),"file"===n.type?new g(t,n):n.getAttribute("contenteditable")?new v(t,n):new m(t,n)},c=function(t,e){var n;h(this,t,e),e.addEventListener("change",s,!1),n=this.root.get(this.keypath),void 0===n&&this.update()},c.prototype={value:function(){var t,e,n,r;for(t=[],e=this.node.options,r=e.length,n=0;r>n;n+=1)e[n].selected&&(t[t.length]=e[n]._ractive.value);return t},update:function(){var t,e,r;return t=this.attr,e=t.value,r=this.value(),void 0!==e&&n(r,e)||(t.receiving=!0,t.value=r,this.root.set(this.keypath,r),t.receiving=!1),this},deferUpdate:function(){this.deferred!==!0&&(this.root._deferred.attrs.push(this),this.deferred=!0)},teardown:function(){this.node.removeEventListener("change",s,!1)}},f=function(t,e){var n;h(this,t,e),e.addEventListener("change",s,!1),n=this.root.get(this.keypath),void 0===n&&this.update()},f.prototype={value:function(){var t,e,n;for(t=this.node.options,n=t.length,e=0;n>e;e+=1)if(t[e].selected)return t[e]._ractive.value},update:function(){var t=this.value();return this.attr.receiving=!0,this.attr.value=t,this.root.set(this.keypath,t),this.attr.receiving=!1,this},deferUpdate:function(){this.deferred!==!0&&(this.root._deferred.attrs.push(this),this.deferred=!0)},teardown:function(){this.node.removeEventListener("change",s,!1)}},l=function(t,e){var n;this.radioName=!0,h(this,t,e),e.name="{{"+t.keypath+"}}",e.addEventListener("change",s,!1),e.attachEvent&&e.addEventListener("click",s,!1),n=this.root.get(this.keypath),void 0!==n?e.checked=n==e._ractive.value:this.root._deferred.radios.push(this)},l.prototype={value:function(){return this.node._ractive?this.node._ractive.value:this.node.value},update:function(){var t=this.node;t.checked&&(this.attr.receiving=!0,this.root.set(this.keypath,this.value()),this.attr.receiving=!1)},teardown:function(){this.node.removeEventListener("change",s,!1),this.node.removeEventListener("click",s,!1)}},p=function(t,e){var n,r;this.checkboxName=!0,h(this,t,e),e.name="{{"+this.keypath+"}}",e.addEventListener("change",s,!1),e.attachEvent&&e.addEventListener("click",s,!1),n=this.root.get(this.keypath),void 0!==n?(r=-1!==n.indexOf(e._ractive.value),e.checked=r):-1===this.root._deferred.checkboxes.indexOf(this.keypath)&&this.root._deferred.checkboxes.push(this.keypath)},p.prototype={changed:function(){return this.node.checked!==!!this.checked},update:function(){this.checked=this.node.checked,this.attr.receiving=!0,this.root.set(this.keypath,r(this.root,this.keypath)),this.attr.receiving=!1},teardown:function(){this.node.removeEventListener("change",s,!1),this.node.removeEventListener("click",s,!1)}},d=function(t,e){h(this,t,e),e.addEventListener("change",s,!1),e.attachEvent&&e.addEventListener("click",s,!1)},d.prototype={value:function(){return this.node.checked},update:function(){this.attr.receiving=!0,this.root.set(this.keypath,this.value()),this.attr.receiving=!1},teardown:function(){this.node.removeEventListener("change",s,!1),this.node.removeEventListener("click",s,!1)}},g=function(t,e){h(this,t,e),e.addEventListener("change",s,!1)},g.prototype={value:function(){return this.attr.pNode.files},update:function(){this.attr.root.set(this.attr.keypath,this.value())},teardown:function(){this.node.removeEventListener("change",s,!1)}},v=function(t,e){h(this,t,e),e.addEventListener("change",s,!1),this.root.lazy||(e.addEventListener("input",s,!1),e.attachEvent&&e.addEventListener("keyup",s,!1))},v.prototype={update:function(){this.attr.receiving=!0,this.root.set(this.keypath,this.node.innerHTML),this.attr.receiving=!1},teardown:function(){this.node.removeEventListener("change",s,!1),this.node.removeEventListener("input",s,!1),this.node.removeEventListener("keyup",s,!1)}},m=function(t,e){h(this,t,e),e.addEventListener("change",s,!1),this.root.lazy||(e.addEventListener("input",s,!1),e.attachEvent&&e.addEventListener("keyup",s,!1)),this.node.addEventListener("blur",a,!1)},m.prototype={value:function(){var t=this.attr.pNode.value;return+t+""===t&&-1===t.indexOf("e")&&(t=+t),t},update:function(){var t=this.attr,e=this.value();t.receiving=!0,t.root.set(t.keypath,e),t.receiving=!1},teardown:function(){this.node.removeEventListener("change",s,!1),this.node.removeEventListener("input",s,!1),this.node.removeEventListener("keyup",s,!1),this.node.removeEventListener("blur",a,!1)}},h=function(t,e,n){t.attr=e,t.node=n,t.root=e.root,t.keypath=e.keypath},i}(c,I,A,p),Be=function(t,e){var n,r,i,o,s,a,u,h,c,f,l,p;return n=function(){var t;if(!this.ready)return this;if(t=this.pNode,"SELECT"===t.tagName&&"value"===this.lcName)return this.update=i,this.deferredUpdate=o,this.update();if(this.isFileInputValue)return this.update=r,this;if(this.twoway&&"name"===this.lcName){if("radio"===t.type)return this.update=u,this.update();if("checkbox"===t.type)return this.update=h,this.update()}return"style"===this.lcName&&t.style.setAttribute?(this.update=c,this.update()):"class"!==this.lcName||t.namespaceURI&&t.namespaceURI!==e.html?t.getAttribute("contenteditable")&&"value"===this.lcName?(this.update=l,this.update()):(this.update=p,this.update()):(this.update=f,this.update())},r=function(){return this},o=function(){this.deferredUpdate=this.pNode.multiple?a:s,this.deferredUpdate()},i=function(){return this.root._deferred.selectValues.push(this),this},s=function(){var t,e,n,r=this.fragment.getValue();for(this.value=this.pNode._ractive.value=r,t=this.pNode.options,n=t.length;n--;)if(e=t[n],e._ractive.value==r)return e.selected=!0,this;return this},a=function(){var e,n,r=this.fragment.getValue();for(t(r)||(r=[r]),e=this.pNode.options,n=e.length;n--;)e[n].selected=-1!==r.indexOf(e[n]._ractive.value);return this.value=r,this},u=function(){var t,e;return t=this.pNode,e=this.fragment.getValue(),t.checked=e==t._ractive.value,this},h=function(){var e,n;return e=this.pNode,n=this.fragment.getValue(),t(n)?(e.checked=-1!==n.indexOf(e._ractive.value),this):(e.checked=n==e._ractive.value,this)},c=function(){var t,e;return t=this.pNode,e=this.fragment.getValue(),void 0===e&&(e=""),e!==this.value&&(t.style.setAttribute("cssText",e),this.value=e),this},f=function(){var t,e;return t=this.pNode,e=this.fragment.getValue(),void 0===e&&(e=""),e!==this.value&&(t.className=e,this.value=e),this},l=function(){var t,e;return t=this.pNode,e=this.fragment.getValue(),void 0===e&&(e=""),e!==this.value&&(this.receiving||(t.innerHTML=e),this.value=e),this},p=function(){var t,e;if(t=this.pNode,e=this.fragment.getValue(),this.isValueAttribute&&(t._ractive.value=e),void 0===e&&(e=""),e!==this.value){if(this.useProperty)return this.receiving||(t[this.propertyName]=e),this.value=e,this;if(this.namespace)return t.setAttributeNS(this.namespace,this.name,e),this.value=e,this;"id"===this.lcName&&(void 0!==this.value&&(this.root.nodes[this.value]=void 0),this.root.nodes[e]=t),t.setAttribute(this.name,e),this.value=e}return this},n}(f,r),De=function(){return function(t){var e;return e=this.str.substr(this.pos,t.length),e===t?(this.pos+=t.length,t):null}}(),We=function(){var t=/^\s+/;return function(){var e=t.exec(this.remaining());return e?(this.pos+=e[0].length,e[0]):null}}(),qe=function(){return function(t){return function(e){var n=t.exec(e.str.substring(e.pos));return n?(e.pos+=n[0].length,n[1]||n[0]):null}}}(),ze=function(){function t(t){var e;return t.getStringMatch("\\")?(e=t.str.charAt(t.pos),t.pos+=1,e):null}return function(e){var n,r="";for(n=t(e);n;)r+=n,n=t(e);return r||null}}(),Qe=function(t,e){var n=t(/^[^\\"]+/),r=t(/^[^\\']+/);return function i(t,o){var s,a,u,h,c,f;if(s=t.pos,a="",f=o?r:n,u=e(t),u&&(a+=u),h=f(t),h&&(a+=h),!a)return"";for(c=i(t,o);""!==c;)a+=c;return a}}(qe,ze),Ve=function(t,e){return function(n){var r,i;return r=n.pos,n.getStringMatch('"')?(i=e(n,!1),n.getStringMatch('"')?{t:t.STRING_LITERAL,v:i}:(n.pos=r,null)):n.getStringMatch("'")?(i=e(n,!0),n.getStringMatch("'")?{t:t.STRING_LITERAL,v:i}:(n.pos=r,null)):null}}(c,Qe),$e=function(t,e){var n=e(/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/);return function(e){var r;return(r=n(e))?{t:t.NUMBER_LITERAL,v:r}:null}}(c,qe),He=function(t){return t(/^[a-zA-Z_$][a-zA-Z_$0-9]*/)}(qe),Xe=function(t,e,n){var r=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;return function(i){var o;return(o=t(i))?r.test(o.v)?o.v:'"'+o.v.replace(/"/g,'\\"')+'"':(o=e(i))?o.v:(o=n(i))?o:void 0}}(Ve,$e,He),Ge=function(t,e,n,r){function i(t){var e,n,i;return t.allowWhitespace(),(e=r(t))?(i={key:e},t.allowWhitespace(),t.getStringMatch(":")?(t.allowWhitespace(),(n=t.getToken())?(i.value=n.v,i):null):null):null}var o,s,a,u,h,c;return s={"true":!0,"false":!1,undefined:void 0,"null":null},a=new RegExp("^(?:"+Object.keys(s).join("|")+")"),u=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,h=/\$\{([^\}]+)\}/g,c=/^\$\{([^\}]+)\}/,o=function(t,e){this.str=t,this.values=e,this.pos=0,this.result=this.getToken()},o.prototype={remaining:function(){return this.str.substring(this.pos)},getStringMatch:t,getToken:function(){return this.allowWhitespace(),this.getPlaceholder()||this.getSpecial()||this.getNumber()||this.getString()||this.getObject()||this.getArray()},getPlaceholder:function(){var t;return this.values?(t=c.exec(this.remaining()))&&this.values.hasOwnProperty(t[1])?(this.pos+=t[0].length,{v:this.values[t[1]]}):void 0:null},getSpecial:function(){var t;return(t=a.exec(this.remaining()))?(this.pos+=t[0].length,{v:s[t[0]]}):void 0},getNumber:function(){var t;return(t=u.exec(this.remaining()))?(this.pos+=t[0].length,{v:+t[0]}):void 0},getString:function(){var t,e=n(this);return e&&(t=this.values)?{v:e.v.replace(h,function(e,n){return t[n]||n})}:e},getObject:function(){var t,e;if(!this.getStringMatch("{"))return null;for(t={};e=i(this);){if(t[e.key]=e.value,this.allowWhitespace(),this.getStringMatch("}"))return{v:t};if(!this.getStringMatch(","))return null}return null},getArray:function(){var t,e;if(!this.getStringMatch("["))return null;for(t=[];e=this.getToken();){if(t.push(e.v),this.getStringMatch("]"))return{v:t};if(!this.getStringMatch(","))return null}return null},allowWhitespace:e},function(t,e){var n=new o(t,e);return n.result?{value:n.result.v,remaining:n.remaining()}:null}}(De,We,Ve,Xe),Je=function(t,e,n,r,i){function o(t){return"string"==typeof t?t:JSON.stringify(t)}var s=function(e){this.type=t.INTERPOLATOR,n(this,e)};return s.prototype={update:r,resolve:i,render:function(t){this.value=t,this.parentFragment.bubble()},teardown:function(){e(this)},toString:function(){return void 0==this.value?"":o(this.value)}},s}(c,pe,Ee,Ne,_e),Ze=function(t,e,n,r,i,o,s){var a,u;return s.push(function(){u=s.StringFragment}),a=function(n){this.type=t.SECTION,this.fragments=[],this.length=0,e(this,n)},a.prototype={update:n,resolve:r,teardown:function(){this.teardownFragments(),o(this)},teardownFragments:function(){for(;this.fragments.length;)this.fragments.shift().teardown();this.length=0},bubble:function(){this.value=this.fragments.join(""),this.parentFragment.bubble()},render:function(t){var e;(e=this.root._wrapped[this.keypath])&&(t=e.get()),i(this,t),this.parentFragment.bubble()},createFragment:function(t){return new u(t)},toString:function(){return this.fragments.join("")}},a}(c,Ee,Ne,_e,Te,pe,Ae),Ye=function(t){var e=function(e){this.type=t.TEXT,this.text=e};return e.prototype={toString:function(){return this.text},teardown:function(){}},e}(c),Ke=function(t,e){return function(){var n,r,i,o,s,a,u;if(!this.argsList||this.dirty){if(n={},r=0,o=this.root._guid,u=function(t){return t.map(function(t){var e,i,s;return t.text?t.text:t.fragments?t.fragments.map(function(t){return u(t.items)}).join(""):(e=o+"-"+r++,s=(i=t.root._wrapped[t.keypath])?i.value:t.value,n[e]=s,"${"+e+"}")}).join("")},i=u(this.items),a=e("["+i+"]",n))this.argsList=a.value;else{if(s="Could not parse directive arguments ("+this.toString()+"). If you think this is a bug, please file an issue at http://github.com/RactiveJS/Ractive/issues",this.root.debug)throw new Error(s);t(s),this.argsList=[i]}this.dirty=!1}return this.argsList}}(I,Ge),tn=function(t,e,n,r,i,o,s,a){var u=function(t){n(this,t)};return u.prototype={createItem:function(e){if("string"==typeof e.descriptor)return new o(e.descriptor);switch(e.descriptor.t){case t.INTERPOLATOR:return new r(e);case t.TRIPLE:return new r(e);case t.SECTION:return new i(e);default:throw"Something went wrong in a rather interesting way"}},bubble:function(){this.dirty=!0,this.owner.bubble()},teardown:function(){var t,e;for(t=this.items.length,e=0;t>e;e+=1)this.items[e].teardown()},getValue:function(){var e;return 1===this.items.length&&this.items[0].type===t.INTERPOLATOR&&(e=this.items[0].value,void 0!==e)?e:this.toString()},isSimple:function(){var e,n,r;if(void 0!==this.simple)return this.simple;for(e=this.items.length;e--;)if(n=this.items[e],n.type!==t.TEXT){if(n.type!==t.INTERPOLATOR)return this.simple=!1;if(r)return!1;r=!0}return this.simple=!0},toString:function(){return this.items.join("")},toJSON:function(){var t,n=this.getValue();return"string"==typeof n&&(t=e(n),n=t?t.value:n),n},toArgsList:s},a.StringFragment=u,u}(c,Ge,ce,Je,Ze,Ye,Ke,Ae),en=function(t,e,n,r,i,o,s){var a=function(i){return this.type=t.ATTRIBUTE,this.element=i.element,e(this,i.name),null===i.value||"string"==typeof i.value?void n(this,i):(this.root=i.root,this.pNode=i.pNode,this.parentFragment=this.element.parentFragment,this.fragment=new s({descriptor:i.value,root:this.root,owner:this,contextStack:i.contextStack}),void(this.pNode&&("value"===this.name&&(this.isValueAttribute=!0,"INPUT"===this.pNode.tagName&&"file"===this.pNode.type&&(this.isFileInputValue=!0)),r(this,i),this.selfUpdating=this.fragment.isSimple(),this.ready=!0)))};return a.prototype={bind:i,update:o,updateBindings:function(){this.keypath=this.interpolator.keypath||this.interpolator.ref,"name"===this.propertyName&&(this.pNode.name="{{"+this.keypath+"}}")},teardown:function(){var t;if(this.boundEvents)for(t=this.boundEvents.length;t--;)this.pNode.removeEventListener(this.boundEvents[t],this.updateModel,!1);this.fragment&&this.fragment.teardown()},bubble:function(){this.selfUpdating?this.update():!this.deferred&&this.ready&&(this.root._deferred.attrs.push(this),this.deferred=!0)},toString:function(){var t;return null===this.value?this.name:this.fragment?(t=this.fragment.toString(),this.name+"="+JSON.stringify(t)):this.name+"="+JSON.stringify(this.value)}},a}(c,Fe,Pe,je,Ue,Be,tn),nn=function(t){return function(e,n){var r,i,o;e.attributes=[];for(r in n)n.hasOwnProperty(r)&&(i=n[r],o=new t({element:e,name:r,value:i,root:e.root,pNode:e.node,contextStack:e.parentFragment.contextStack}),e.attributes[e.attributes.length]=e.attributes[r]=o,"name"!==r&&o.update());return e.attributes}}(en),rn=function(t,e,n,r){var i,o,s;return r.push(function(){i=r.DomFragment}),o=function(){var t=this.node,e=this.fragment.toString();t.styleSheet&&(t.styleSheet.cssText=e),t.innerHTML=e},s=function(){this.node.type&&"text/javascript"!==this.node.type||t("Script tag was updated. This does not cause the code to be re-evaluated!"),this.node.innerHTML=this.fragment.toString()},function(t,r,a,u){var h,c,f,l,p;if("script"===t.lcName||"style"===t.lcName)return t.fragment=new n({descriptor:a.f,root:t.root,contextStack:t.parentFragment.contextStack,owner:t}),void(u&&("script"===t.lcName?(t.bubble=s,t.node.innerHTML=t.fragment.toString()):(t.bubble=o,t.bubble())));if("string"!=typeof a.f||r&&r.namespaceURI&&r.namespaceURI!==e.html)t.fragment=new i({descriptor:a.f,root:t.root,pNode:r,contextStack:t.parentFragment.contextStack,owner:t}),u&&r.appendChild(t.fragment.docFrag);else if(t.html=a.f,u)for(r.innerHTML=t.html,h=t.root._liveQueries,c=h.length;c--;)if(f=h[c],(l=r.querySelectorAll(f))&&(p=l.length))for((t.liveQueries||(t.liveQueries=[])).push(f),t.liveQueries[f]=[];p--;)t.liveQueries[f][p]=l[p]}}(I,r,tn,Ae),on=function(t,e){var n=function(n,r,i,o){var s,a,u;if(this.root=r,this.node=i.node,s=n.n||n,"string"!=typeof s&&(a=new e({descriptor:s,root:this.root,owner:i,contextStack:o}),s=a.toString(),a.teardown()),n.a?this.params=n.a:n.d&&(a=new e({descriptor:n.d,root:this.root,owner:i,contextStack:o}),this.params=a.toArgsList(),a.teardown()),this.fn=r.decorators[s],!this.fn){if(u='Missing "'+s+'" decorator. You may need to download a plugin via https://github.com/RactiveJS/Ractive/wiki/Plugins#decorators',r.debug)throw new Error(u);t(u)}};return n.prototype={init:function(){var t,e;if(this.params?(e=[this.node].concat(this.params),t=this.fn.apply(this.root,e)):t=this.fn.call(this.root,this.node),!t||!t.teardown)throw new Error("Decorator definition must return an object with a teardown method");this.teardown=t.teardown}},n}(I,tn),sn=function(t){return function(e,n,r,i){r.decorator=new t(e,n,r,i),r.decorator.fn&&n._deferred.decorators.push(r.decorator)}}(on),an=function(t,e){var n,r,i,o,s,a,u,h,c;return n=function(t,e,n,i,o){var s,a;s=t.node._ractive.events,a=s[e]||(s[e]=new r(t,e,i,o)),a.add(n)},r=function(e,n,r){var i;this.element=e,this.root=e.root,this.node=e.node,this.name=n,this.contextStack=r,this.proxies=[],(i=this.root.events[n])?this.custom=i(this.node,c(n)):("on"+n in this.node||t('Missing "'+this.name+'" event. You may need to download a plugin via https://github.com/RactiveJS/Ractive/wiki/Plugins#events'),this.node.addEventListener(n,h,!1))},r.prototype={add:function(t){this.proxies[this.proxies.length]=new i(this.element,this.root,t,this.contextStack)},teardown:function(){var t;for(this.custom?this.custom.teardown():this.node.removeEventListener(this.name,h,!1),t=this.proxies.length;t--;)this.proxies[t].teardown()},fire:function(t){for(var e=this.proxies.length;e--;)this.proxies[e].fire(t)}},i=function(t,n,r,i){var u;return this.root=n,u=r.n||r,this.n="string"==typeof u?u:new e({descriptor:r.n,root:this.root,owner:t,contextStack:i}),r.a?(this.a=r.a,void(this.fire=s)):r.d?(this.d=new e({descriptor:r.d,root:this.root,owner:t,contextStack:i}),void(this.fire=a)):void(this.fire=o)
},i.prototype={teardown:function(){this.n.teardown&&this.n.teardown(),this.d&&this.d.teardown()},bubble:function(){}},o=function(t){this.root.fire(this.n.toString(),t)},s=function(t){this.root.fire.apply(this.root,[this.n.toString(),t].concat(this.a))},a=function(t){var e=this.d.toArgsList();"string"==typeof e&&(e=e.substr(1,e.length-2)),this.root.fire.apply(this.root,[this.n.toString(),t].concat(e))},h=function(t){var e=this._ractive;e.events[t.type].fire({node:this,original:t,index:e.index,keypath:e.keypath,context:e.root.get(e.keypath)})},u={},c=function(t){return u[t]?u[t]:u[t]=function(e){var n=e.node._ractive;e.index=n.index,e.keypath=n.keypath,e.context=n.root.get(n.keypath),n.events[t].fire(e)}},n}(I,tn),un=function(t){return function(e,n){var r,i,o;for(i in n)if(n.hasOwnProperty(i))for(o=i.split("-"),r=o.length;r--;)t(e,o[r],n[i],e.parentFragment.contextStack)}}(an),hn=function(){return function(t){var e,n,r,i,o;for(e=t.root,n=e._liveQueries,r=n.length;r--;)i=n[r],o=n[i],o._test(t)&&((t.liveQueries||(t.liveQueries=[])).push(i),t.liveQueries[i]=[t.node])}}(),cn=function(){return function(t){return t.replace(/-([a-zA-Z])/g,function(t,e){return e.toUpperCase()})}}(),fn=function(){return function(t,e){var n;for(n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n]);return t}}(),ln=function(t,e,n,r,i,o,s,a){function u(t){var e,n,r;if(!v[t])if(void 0!==l[t])v[t]=t;else for(r=t.charAt(0).toUpperCase()+t.substring(1),e=p.length;e--;)if(n=p[e],void 0!==l[n+r]){v[t]=n+r;break}return v[t]}function h(t){return t.replace(g,"")}function c(t){var e;return d.test(t)&&(t="-"+t),e=t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})}var f,l,p,d,g,v,m,y,w,b,x,E;if(t)return l=e("div").style,function(){void 0!==l.transition?(y="transition",E="transitionend",m=!0):void 0!==l.webkitTransition?(y="webkitTransition",E="webkitTransitionEnd",m=!0):m=!1}(),y&&(w=y+"Duration",b=y+"Property",x=y+"TimingFunction"),f=function(t,e,r,i,o){var s,u,h,c=this;if(this.root=e,this.node=r.node,this.isIntro=o,this.originalStyle=this.node.getAttribute("style"),this.complete=function(t){!t&&c.isIntro&&c.resetStyle(),c._manager.pop(c.node),c.node._ractive.transition=null},s=t.n||t,"string"!=typeof s&&(u=new a({descriptor:s,root:this.root,owner:r,contextStack:i}),s=u.toString(),u.teardown()),this.name=s,t.a?this.params=t.a:t.d&&(u=new a({descriptor:t.d,root:this.root,owner:r,contextStack:i}),this.params=u.toArgsList(),u.teardown()),this._fn=e.transitions[s],!this._fn){if(h='Missing "'+s+'" transition. You may need to download a plugin via https://github.com/RactiveJS/Ractive/wiki/Plugins#transitions',e.debug)throw new Error(h);return void n(h)}},f.prototype={init:function(){if(this._inited)throw new Error("Cannot initialize a transition more than once");this._inited=!0,this._fn.apply(this.root,[this].concat(this.params))},getStyle:function(t){var e,n,r,o,s;if(e=window.getComputedStyle(this.node),"string"==typeof t)return s=e[u(t)],"0px"===s&&(s=0),s;if(!i(t))throw new Error("Transition#getStyle must be passed a string, or an array of strings representing CSS properties");for(n={},r=t.length;r--;)o=t[r],s=e[u(o)],"0px"===s&&(s=0),n[o]=s;return n},setStyle:function(t,e){var n;if("string"==typeof t)this.node.style[u(t)]=e;else for(n in t)t.hasOwnProperty(n)&&(this.node.style[u(n)]=t[n]);return this},animateStyle:function(t,e,r,i){var s,a,f,l,p,d,g,v,m,y=this;for("string"==typeof t?(p={},p[t]=e):(p=t,i=r,r=e),r||(n('The "'+y.name+'" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340'),r=y,i=y.complete),r.duration||(y.setStyle(p),i&&i()),s=Object.keys(p),a=[],f=window.getComputedStyle(y.node),d={},v=s.length;v--;)m=s[v],l=f[u(m)],"0px"===l&&(l=0),l!=p[m]&&(a[a.length]=m,y.node.style[u(m)]=l);return a.length?void setTimeout(function(){y.node.style[b]=s.map(u).map(c).join(","),y.node.style[x]=c(r.easing||"linear"),y.node.style[w]=r.duration/1e3+"s",g=function(t){var e;e=a.indexOf(o(h(t.propertyName))),-1!==e&&a.splice(e,1),a.length||(y.root.fire(y.name+":end"),y.node.removeEventListener(E,g,!1),i&&i())},y.node.addEventListener(E,g,!1),setTimeout(function(){for(var t=a.length;t--;)m=a[t],y.node.style[u(m)]=p[m]},0)},r.delay||0):void(i&&i())},resetStyle:function(){this.originalStyle?this.node.setAttribute("style",this.originalStyle):(this.node.getAttribute("style"),this.node.removeAttribute("style"))},processParams:function(t,e){return"number"==typeof t?t={duration:t}:"string"==typeof t?t="slow"===t?{duration:600}:"fast"===t?{duration:200}:{duration:400}:t||(t={}),s(t,e)}},p=["o","ms","moz","webkit"],d=new RegExp("^(?:"+p.join("|")+")([A-Z])"),g=new RegExp("^-(?:"+p.join("|")+")-"),v={},f}(o,i,I,F,f,cn,fn,tn),pn=function(t,e){return function(t,n,r,i,o){var s,a,u;!n.transitionsEnabled||n._parent&&!n._parent.transitionsEnabled||(s=new e(t,n,r,i,o),s._fn&&(a=s.node,s._manager=n._transitionManager,(u=a._ractive.transition)&&u.complete(),a._ractive.transition=s,s._manager.push(a),o?n._deferred.transitions.push(s):s.init()))}}(I,ln),dn=function(t,e,n,r,i,o,s,a,u,h,c,f,l,p,d){return function(i,g,v){var m,y,w,b,x,E,_,N,k,T,S,O,R;if(i.type=t.ELEMENT,m=i.parentFragment=g.parentFragment,y=m.pNode,w=m.contextStack,b=i.descriptor=g.descriptor,i.root=S=m.root,i.index=g.index,i.lcName=b.e.toLowerCase(),i.eventListeners=[],i.customEventListeners=[],y&&(x=i.namespace=a(b,y),E=x!==e.html?d(b.e):b.e,i.node=s(E,x),r(i.node,"_ractive",{value:{proxy:i,keypath:w.length?w[w.length-1]:"",index:m.indexRefs,events:n(null),root:S}})),_=u(i,b.a),b.f){if(i.node&&i.node.getAttribute("contenteditable")&&i.node.innerHTML){if(R="A pre-populated contenteditable element should not have children",S.debug)throw new Error(R);o(R)}h(i,i.node,b,v)}v&&b.v&&f(i,b.v),v&&(S.twoway&&(i.bind(),i.node.getAttribute("contenteditable")&&i.node._ractive.binding&&i.node._ractive.binding.update()),_.name&&!_.name.twoway&&_.name.update(),"IMG"===i.node.tagName&&((N=i.attributes.width)||(k=i.attributes.height))&&i.node.addEventListener("load",T=function(){N&&(i.node.width=N.value),k&&(i.node.height=k.value),i.node.removeEventListener("load",T,!1)},!1),v.appendChild(i.node),b.o&&c(b.o,S,i,w),b.t1&&p(b.t1,S,i,w,!0),"OPTION"===i.node.tagName&&("SELECT"===y.tagName&&(O=y._ractive.binding)&&O.deferUpdate(),i.node._ractive.value==y._ractive.value&&(i.node.selected=!0)),i.node.autofocus&&(S._deferred.focusable=i.node)),l(i)}}(c,r,n,s,Z,I,i,Le,nn,rn,sn,un,hn,pn,Ie),gn=function(t){return function(e){var n,r,i,o,s,a,u,h,c;for(this.fragment&&this.fragment.teardown(!1);this.attributes.length;)this.attributes.pop().teardown();if(this.node){for(n in this.node._ractive.events)this.node._ractive.events[n].teardown();(r=this.node._ractive.binding)&&(r.teardown(),i=this.root._twowayBindings[r.attr.keypath],i.splice(i.indexOf(r),1))}if(this.decorator&&this.decorator.teardown(),this.descriptor.t2&&t(this.descriptor.t2,this.root,this,this.parentFragment.contextStack,!1),e&&this.root._transitionManager.detachWhenReady(this),s=this.liveQueries)for(o=s.length;o--;)if(a=s[o],h=this.liveQueries[a])for(c=h.length,u=this.root._liveQueries[a];c--;)u._remove(h[c])}}(pn),vn=function(){return"area base br col command doctype embed hr img input keygen link meta param source track wbr".split(" ")}(),mn=function(t){return function(){var e,n,r;for(e="<"+(this.descriptor.y?"!doctype":this.descriptor.e),r=this.attributes.length,n=0;r>n;n+=1)e+=" "+this.attributes[n].toString();return e+=">",this.html?e+=this.html:this.fragment&&(e+=this.fragment.toString()),-1===t.indexOf(this.descriptor.e)&&(e+="</"+this.descriptor.e+">"),e}}(vn),yn=function(t){return function(e){var n;return t(this.node,e)?this.node:this.html&&(n=this.node.querySelector(e))?n:this.fragment&&this.fragment.find?this.fragment.find(e):void 0}}(Z),wn=function(){return function(t,e){var n,r,i,o,s;if(e._test(this,!0)&&e.live&&((this.liveQueries||(this.liveQueries=[])).push(t),this.liveQueries[t]=[this.node]),this.html&&(n=this.node.querySelectorAll(t))&&(i=n.length))for(e.live&&(this.liveQueries[t]||((this.liveQueries||(this.liveQueries=[])).push(t),this.liveQueries[t]=[]),s=this.liveQueries[t]),r=0;i>r;r+=1)o=n[r],e.push(o),e.live&&s.push(o);this.fragment&&this.fragment.findAll(t,e)}}(),bn=function(){return function(t){return this.fragment?this.fragment.findComponent(t):void 0}}(),xn=function(){return function(t,e){this.fragment&&this.fragment.findAllComponents(t,e)}}(),En=function(){return function(){var t=this.attributes;if(this.node&&(this.binding&&(this.binding.teardown(),this.binding=null),!(this.node.getAttribute("contenteditable")&&t.value&&t.value.bind())))switch(this.descriptor.e){case"select":case"textarea":return void(t.value&&t.value.bind());case"input":if("radio"===this.node.type||"checkbox"===this.node.type){if(t.name&&t.name.bind())return;if(t.checked&&t.checked.bind())return}if(t.value&&t.value.bind())return}}}(),_n=function(t,e,n,r,i,o,s,a){var u=function(e,n){t(this,e,n)};return u.prototype={detach:function(){return this.node?(this.node.parentNode&&this.node.parentNode.removeChild(this.node),this.node):void 0},teardown:e,firstNode:function(){return this.node},findNextNode:function(){return null},bubble:function(){},toString:n,find:r,findAll:i,findComponent:o,findAllComponents:s,bind:a},u}(dn,gn,mn,yn,wn,bn,xn,En),Nn={missingParser:"Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser"},kn={},Tn=function(){return function(t){var e,n,r;for(r="";t.length;){if(e=t.indexOf("<!--"),n=t.indexOf("-->"),-1===e&&-1===n){r+=t;break}if(-1!==e&&-1===n)throw"Illegal HTML - expected closing comment sequence ('-->')";if(-1!==n&&-1===e||e>n)throw"Illegal HTML - unexpected closing comment sequence ('-->')";r+=t.substr(0,e),t=t.substring(n+3)}return r}}(),Sn=function(t){return function(e){var n,r,i,o,s,a;for(s=/^\s*\r?\n/,a=/\r?\n\s*$/,n=2;n<e.length;n+=1)r=e[n],i=e[n-1],o=e[n-2],r.type===t.TEXT&&i.type===t.MUSTACHE&&o.type===t.TEXT&&a.test(o.value)&&s.test(r.value)&&(i.mustacheType!==t.INTERPOLATOR&&i.mustacheType!==t.TRIPLE&&(o.value=o.value.replace(a,"\n")),r.value=r.value.replace(s,""),""===r.value&&e.splice(n--,1));return e}}(c),On=function(t){return function(e){var n,r,i,o;for(n=0;n<e.length;n+=1)r=e[n],i=e[n-1],o=e[n+1],(r.mustacheType===t.COMMENT||r.mustacheType===t.DELIMCHANGE)&&(e.splice(n,1),i&&o&&i.type===t.TEXT&&o.type===t.TEXT&&(i.value+=o.value,e.splice(n,1)),n-=1);return e}}(c),Rn=function(t){var e=t(/^[^\s=]+/);return function(t){var n,r,i;return t.getStringMatch("=")?(n=t.pos,t.allowWhitespace(),(r=e(t))?(t.allowWhitespace(),(i=e(t))?(t.allowWhitespace(),t.getStringMatch("=")?[r,i]:(t.pos=n,null)):(t.pos=n,null)):(t.pos=n,null)):null}}(qe),An=function(t){var e={"#":t.SECTION,"^":t.INVERTED,"/":t.CLOSING,">":t.PARTIAL,"!":t.COMMENT,"&":t.TRIPLE};return function(t){var n=e[t.str.charAt(t.pos)];return n?(t.pos+=1,n):null}}(c),Mn=function(t,e,n){var r=e(/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/),i=/^[0-9][1-9]*$/;return function(e,o){var s,a,u,h,c,f,l;if(s=e.pos,a={type:o?t.TRIPLE:t.MUSTACHE},!(o||((h=e.getExpression())&&(a.mustacheType=t.INTERPOLATOR,e.allowWhitespace(),e.getStringMatch(e.delimiters[1])?e.pos-=e.delimiters[1].length:(e.pos=s,h=null)),h||(u=n(e),u===t.TRIPLE?a={type:t.TRIPLE}:a.mustacheType=u||t.INTERPOLATOR,u!==t.COMMENT&&u!==t.CLOSING||(f=e.remaining(),l=f.indexOf(e.delimiters[1]),-1===l)))))return a.ref=f.substr(0,l),e.pos+=l,a;for(h||(e.allowWhitespace(),h=e.getExpression());h.t===t.BRACKETED&&h.x;)h=h.x;return h.t===t.REFERENCE?a.ref=h.n:h.t===t.NUMBER_LITERAL&&i.test(h.v)?a.ref=h.v:a.expression=h,c=r(e),null!==c&&(a.indexRef=c),a}}(c,qe,An),Cn=function(t,e,n){function r(r,i){var o,s,a=r.pos;return s=i?r.tripleDelimiters:r.delimiters,r.getStringMatch(s[0])?(o=e(r))?r.getStringMatch(s[1])?(r[i?"tripleDelimiters":"delimiters"]=o,{type:t.MUSTACHE,mustacheType:t.DELIMCHANGE}):(r.pos=a,null):(r.allowWhitespace(),o=n(r,i),null===o?(r.pos=a,null):(r.allowWhitespace(),r.getStringMatch(s[1])?o:(r.pos=a,null))):null}return function(){var t=this.tripleDelimiters[0].length>this.delimiters[0].length;return r(this,t)||r(this,!t)}}(c,Rn,Mn),Ln=function(t){return function(){var e,n,r;if(!this.getStringMatch("<!--"))return null;if(n=this.remaining(),r=n.indexOf("-->"),-1===r)throw new Error('Unexpected end of input (expected "-->" to close comment)');return e=n.substr(0,r),this.pos+=r+3,{type:t.COMMENT,content:e}}}(c),In=function(){return function(t,e){var n,r,i;for(n=e.length;n--;){if(r=t.indexOf(e[n]),!r)return 0;-1!==r&&(!i||i>r)&&(i=r)}return i||-1}}(),Fn=function(t,e,n){var r,i,o,s,a,u,h,c,f,l,p,d,g;return r=function(){return i(this)||o(this)},i=function(e){var n,r,i,o;return n=e.pos,e.inside?null:e.getStringMatch("<")?(r={type:t.TAG},e.getStringMatch("!")&&(r.doctype=!0),r.name=s(e),r.name?(i=a(e),i&&(r.attrs=i),e.allowWhitespace(),e.getStringMatch("/")&&(r.selfClosing=!0),e.getStringMatch(">")?(o=r.name.toLowerCase(),("script"===o||"style"===o)&&(e.inside=o),r):(e.pos=n,null)):(e.pos=n,null)):null},o=function(e){var n,r,i;if(n=e.pos,i=function(t){throw new Error("Unexpected character "+e.remaining().charAt(0)+" (expected "+t+")")},!e.getStringMatch("<"))return null;if(r={type:t.TAG,closing:!0},e.getStringMatch("/")||i('"/"'),r.name=s(e),r.name||i("tag name"),e.getStringMatch(">")||i('">"'),e.inside){if(r.name.toLowerCase()!==e.inside)return e.pos=n,null;e.inside=null}return r},s=e(/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/),a=function(t){var e,n,r;if(e=t.pos,t.allowWhitespace(),r=u(t),!r)return t.pos=e,null;for(n=[];null!==r;)n[n.length]=r,t.allowWhitespace(),r=u(t);return n},u=function(t){var e,n,r;return(n=h(t))?(e={name:n},r=c(t),r&&(e.value=r),e):null},h=e(/^[^\s"'>\/=]+/),c=function(t){var e,n;return e=t.pos,t.allowWhitespace(),t.getStringMatch("=")?(t.allowWhitespace(),n=g(t,"'")||g(t,'"')||f(t),null===n?(t.pos=e,null):n):(t.pos=e,null)},p=e(/^[^\s"'=<>`]+/),l=function(e){var n,r,i;return n=e.pos,(r=p(e))?(-1!==(i=r.indexOf(e.delimiters[0]))&&(r=r.substr(0,i),e.pos=n+r.length),{type:t.TEXT,value:r}):null},f=function(t){var e,n;for(e=[],n=t.getMustache()||l(t);null!==n;)e[e.length]=n,n=t.getMustache()||l(t);return e.length?e:null},g=function(t,e){var n,r,i;if(n=t.pos,!t.getStringMatch(e))return null;for(r=[],i=t.getMustache()||d(t,e);null!==i;)r[r.length]=i,i=t.getMustache()||d(t,e);return t.getStringMatch(e)?r:(t.pos=n,null)},d=function(e,r){var i,o,s;if(i=e.pos,s=e.remaining(),o=n(s,[r,e.delimiters[0],e.delimiters[1]]),-1===o)throw new Error("Quoted attribute value must have a closing quote");return o?(e.pos+=o,{type:t.TEXT,value:s.substr(0,o)}):null},r}(c,qe,In),Pn=function(t,e){return function(){var n,r,i;return r=this.remaining(),i=this.inside?"</"+this.inside:"<",(n=e(r,[i,this.delimiters[0],this.tripleDelimiters[0]]))?(-1===n&&(n=r.length),this.pos+=n,{type:t.TEXT,value:r.substr(0,n)}):null}}(c,In),jn=function(t){return function(e){var n=e.remaining();return"true"===n.substr(0,4)?(e.pos+=4,{t:t.BOOLEAN_LITERAL,v:"true"}):"false"===n.substr(0,5)?(e.pos+=5,{t:t.BOOLEAN_LITERAL,v:"false"}):null}}(c),Un=function(t,e){return function(n){var r,i,o;return r=n.pos,n.allowWhitespace(),i=e(n),null===i?(n.pos=r,null):(n.allowWhitespace(),n.getStringMatch(":")?(n.allowWhitespace(),o=n.getExpression(),null===o?(n.pos=r,null):{t:t.KEY_VALUE_PAIR,k:i,v:o}):(n.pos=r,null))}}(c,Xe),Bn=function(t){return function e(n){var r,i,o,s;return r=n.pos,o=t(n),null===o?null:(i=[o],n.getStringMatch(",")?(s=e(n),s?i.concat(s):(n.pos=r,null)):i)}}(Un),Dn=function(t,e){return function(n){var r,i;return r=n.pos,n.allowWhitespace(),n.getStringMatch("{")?(i=e(n),n.allowWhitespace(),n.getStringMatch("}")?{t:t.OBJECT_LITERAL,m:i}:(n.pos=r,null)):(n.pos=r,null)}}(c,Bn),Wn=function(){return function t(e){var n,r,i,o;if(n=e.pos,e.allowWhitespace(),i=e.getExpression(),null===i)return null;if(r=[i],e.allowWhitespace(),e.getStringMatch(",")){if(o=t(e),null===o)return e.pos=n,null;r=r.concat(o)}return r}}(),qn=function(t,e){return function(n){var r,i;return r=n.pos,n.allowWhitespace(),n.getStringMatch("[")?(i=e(n),n.getStringMatch("]")?{t:t.ARRAY_LITERAL,m:i}:(n.pos=r,null)):(n.pos=r,null)}}(c,Wn),zn=function(t,e,n,r,i){return function(o){var s=t(o)||e(o)||n(o)||r(o)||i(o);return s}}($e,jn,Ve,Dn,qn),Qn=function(t,e,n){var r,i,o,s;return r=e(/^\.[a-zA-Z_$0-9]+/),i=function(t){var e=o(t);return e?"."+e:null},o=e(/^\[(0|[1-9][0-9]*)\]/),s=/^(?:Array|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)$/,function(e){var o,a,u,h,c,f,l;for(o=e.pos,a="";e.getStringMatch("../");)a+="../";if(a||(h=e.getStringMatch(".")||""),u=n(e)||"",!a&&!h&&s.test(u))return{t:t.GLOBAL,v:u};if("this"!==u||a||h||(u=".",o+=3),c=(a||h)+u,!c)return null;for(;f=r(e)||i(e);)c+=f;return e.getStringMatch("(")&&(l=c.lastIndexOf("."),-1!==l?(c=c.substr(0,l),e.pos=o+c.length):e.pos-=1),{t:t.REFERENCE,n:c}}}(c,qe,He),Vn=function(t){return function(e){var n,r;return n=e.pos,e.getStringMatch("(")?(e.allowWhitespace(),(r=e.getExpression())?(e.allowWhitespace(),e.getStringMatch(")")?{t:t.BRACKETED,x:r}:(e.pos=n,null)):(e.pos=n,null)):null}}(c),$n=function(t,e,n){return function(r){return t(r)||e(r)||n(r)}}(zn,Qn,Vn),Hn=function(t,e){return function(n){var r,i,o;if(r=n.pos,n.allowWhitespace(),n.getStringMatch(".")){if(n.allowWhitespace(),i=e(n))return{t:t.REFINEMENT,n:i};n.expected("a property name")}return n.getStringMatch("[")?(n.allowWhitespace(),o=n.getExpression(),o||n.expected("an expression"),n.allowWhitespace(),n.getStringMatch("]")||n.expected('"]"'),{t:t.REFINEMENT,x:o}):null}}(c,He),Xn=function(t,e,n,r){return function(i){var o,s,a,u;if(s=e(i),!s)return null;for(;s;)if(o=i.pos,a=r(i))s={t:t.MEMBER,x:s,r:a};else{if(!i.getStringMatch("("))break;if(i.allowWhitespace(),u=n(i),i.allowWhitespace(),!i.getStringMatch(")")){i.pos=o;break}s={t:t.INVOCATION,x:s},u&&(s.o=u)}return s}}(c,$n,Wn,Hn),Gn=function(t,e){var n,r;return r=function(e,n){return function(r){var i,o;return r.getStringMatch(e)?(i=r.pos,r.allowWhitespace(),o=r.getExpression(),o||r.expected("an expression"),{s:e,o:o,t:t.PREFIX_OPERATOR}):n(r)}},function(){var t,i,o,s,a;for(s="! ~ + - typeof".split(" "),a=e,t=0,i=s.length;i>t;t+=1)o=r(s[t],a),a=o;n=a}(),n}(c,Xn),Jn=function(t,e){var n,r;return r=function(e,n){return function(r){var i,o,s;return(o=n(r))?(i=r.pos,r.allowWhitespace(),r.getStringMatch(e)?"in"===e&&/[a-zA-Z_$0-9]/.test(r.remaining().charAt(0))?(r.pos=i,o):(r.allowWhitespace(),s=r.getExpression(),s?{t:t.INFIX_OPERATOR,s:e,o:[o,s]}:(r.pos=i,o)):(r.pos=i,o)):null}},function(){var t,i,o,s,a;for(s="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),a=e,t=0,i=s.length;i>t;t+=1)o=r(s[t],a),a=o;n=a}(),n}(c,Gn),Zn=function(t,e){return function(n){var r,i,o,s;return(i=e(n))?(r=n.pos,n.allowWhitespace(),n.getStringMatch("?")?(n.allowWhitespace(),(o=n.getExpression())?(n.allowWhitespace(),n.getStringMatch(":")?(n.allowWhitespace(),s=n.getExpression(),s?{t:t.CONDITIONAL,o:[i,o,s]}:(n.pos=r,i)):(n.pos=r,i)):(n.pos=r,i)):(n.pos=r,i)):null}}(c,Jn),Yn=function(t){return function(){return t(this)}}(Zn),Kn=function(t,e,n,r,i,o,s){var a;return a=function(t,e){var n;for(this.str=t,this.pos=0,this.delimiters=e.delimiters,this.tripleDelimiters=e.tripleDelimiters,this.tokens=[];this.pos<this.str.length;)n=this.getToken(),null===n&&this.remaining()&&this.fail(),this.tokens.push(n)},a.prototype={getToken:function(){var t=this.getMustache()||this.getComment()||this.getTag()||this.getText();return t},getMustache:t,getComment:e,getTag:n,getText:r,getExpression:i,allowWhitespace:o,getStringMatch:s,remaining:function(){return this.str.substring(this.pos)},fail:function(){var t,e;throw t=this.str.substr(0,this.pos).substr(-20),20===t.length&&(t="..."+t),e=this.remaining().substr(0,20),20===e.length&&(e+="..."),new Error("Could not parse template: "+(t?t+"<- ":"")+"failed at character "+this.pos+" ->"+e)},expected:function(t){var e=this.remaining().substr(0,40);throw 40===e.length&&(e+="..."),new Error('Tokenizer failed: unexpected string "'+e+'" (expected '+t+")")}},a}(Cn,Ln,Fn,Pn,Yn,We,De),tr=function(t,e,n,r,i){var o,s;return i.push(function(){s=i.Ractive}),o=function(i,o){var a,u;return o=o||{},o.stripComments!==!1&&(i=t(i)),a=new r(i,{delimiters:o.delimiters||(s?s.delimiters:["{{","}}"]),tripleDelimiters:o.tripleDelimiters||(s?s.tripleDelimiters:["{{{","}}}"])}),u=a.tokens,e(u),n(u),u}}(Tn,Sn,On,Kn,Ae),er=function(t){var e,n,r,i,o,s,a,u,h;return e=function(t,e){this.text=e?t.value:t.value.replace(h," ")},e.prototype={type:t.TEXT,toJSON:function(){return this.decoded||(this.decoded=u(this.text))},toString:function(){return this.text}},n={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},r=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],i=new RegExp("&("+Object.keys(n).join("|")+");?","g"),o=/&#x([0-9]+);?/g,s=/&#([0-9]+);?/g,a=function(t){return t?10===t?32:128>t?t:159>=t?r[t-128]:55296>t?t:57343>=t?65533:65535>=t?t:65533:65533},u=function(t){var e;return e=t.replace(i,function(t,e){return n[e]?String.fromCharCode(n[e]):t}),e=e.replace(o,function(t,e){return String.fromCharCode(a(parseInt(e,16)))}),e=e.replace(s,function(t,e){return String.fromCharCode(a(e))})},h=/\s+/g,e}(c),nr=function(t,e){return function(n){return n.type===t.TEXT?(this.pos+=1,new e(n,this.preserveWhitespace)):null}}(c,er),rr=function(t){var e;return e=function(t){this.content=t.content},e.prototype={toJSON:function(){return{t:t.COMMENT,f:this.content}},toString:function(){return"<!--"+this.content+"-->"}},e}(c),ir=function(t,e){return function(n){return n.type===t.COMMENT?(this.pos+=1,new e(n,this.preserveWhitespace)):null}}(c,rr),or=function(t,e){var n,r,i;return n=function(t){this.refs=[],r(t,this.refs),this.str=i(t,this.refs)},n.prototype={toJSON:function(){return this.json?this.json:(this.json={r:this.refs,s:this.str},this.json)}},r=function(n,i){var o,s;if(n.t===t.REFERENCE&&-1===i.indexOf(n.n)&&i.unshift(n.n),s=n.o||n.m)if(e(s))r(s,i);else for(o=s.length;o--;)r(s[o],i);n.x&&r(n.x,i),n.r&&r(n.r,i),n.v&&r(n.v,i)},i=function(e,n){var r=function(t){return i(t,n)};switch(e.t){case t.BOOLEAN_LITERAL:case t.GLOBAL:case t.NUMBER_LITERAL:return e.v;case t.STRING_LITERAL:return"'"+e.v.replace(/'/g,"\\'")+"'";case t.ARRAY_LITERAL:return"["+(e.m?e.m.map(r).join(","):"")+"]";case t.OBJECT_LITERAL:return"{"+(e.m?e.m.map(r).join(","):"")+"}";case t.KEY_VALUE_PAIR:return e.k+":"+i(e.v,n);case t.PREFIX_OPERATOR:return("typeof"===e.s?"typeof ":e.s)+i(e.o,n);case t.INFIX_OPERATOR:return i(e.o[0],n)+("in"===e.s.substr(0,2)?" "+e.s+" ":e.s)+i(e.o[1],n);case t.INVOCATION:return i(e.x,n)+"("+(e.o?e.o.map(r).join(","):"")+")";case t.BRACKETED:return"("+i(e.x,n)+")";case t.MEMBER:return i(e.x,n)+i(e.r,n);case t.REFINEMENT:return e.n?"."+e.n:"["+i(e.x,n)+"]";case t.CONDITIONAL:return i(e.o[0],n)+"?"+i(e.o[1],n)+":"+i(e.o[2],n);case t.REFERENCE:return"${"+n.indexOf(e.n)+"}";default:throw new Error("Could not stringify expression token. This error is unexpected")}},n}(c,E),sr=function(t,e){var n=function(n,r){this.type=n.type===t.TRIPLE?t.TRIPLE:n.mustacheType,n.ref&&(this.ref=n.ref),n.expression&&(this.expr=new e(n.expression)),r.pos+=1};return n.prototype={toJSON:function(){var t;return this.json?this.json:(t={t:this.type},this.ref&&(t.r=this.ref),this.expr&&(t.x=this.expr.toJSON()),this.json=t,t)},toString:function(){return!1}},n}(c,or),ar=function(){return function(t){var e,n,r,i="";if(!t)return"";for(n=0,r=t.length;r>n;n+=1){if(e=t[n].toString(),e===!1)return!1;i+=e}return i}}(),ur=function(t){return function(e,n){var r,i;return n||(r=t(e),r===!1)?i=e.map(function(t){return t.toJSON(n)}):r}}(ar),hr=function(t,e,n){var r=function(e,r){var i;for(this.ref=e.ref,this.indexRef=e.indexRef,this.inverted=e.mustacheType===t.INVERTED,e.expression&&(this.expr=new n(e.expression)),r.pos+=1,this.items=[],i=r.next();i;){if(i.mustacheType===t.CLOSING){if(i.ref.trim()===this.ref||this.expr){r.pos+=1;break}throw new Error("Could not parse template: Illegal closing section")}this.items[this.items.length]=r.getStub(),i=r.next()}};return r.prototype={toJSON:function(n){var r;return this.json?this.json:(r={t:t.SECTION},this.ref&&(r.r=this.ref),this.indexRef&&(r.i=this.indexRef),this.inverted&&(r.n=!0),this.expr&&(r.x=this.expr.toJSON()),this.items.length&&(r.f=e(this.items,n)),this.json=r,r)},toString:function(){return!1}},r}(c,ur,or),cr=function(t,e,n){return function(r){return r.type===t.MUSTACHE||r.type===t.TRIPLE?r.mustacheType===t.SECTION||r.mustacheType===t.INVERTED?new n(r,this):new e(r,this):void 0}}(c,sr,hr),fr=function(){return{li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote dir div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rp","rt"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tr:["tr"],td:["td","th"],th:["td","th"]}}(),lr=function(t){function e(n){var r,i;if("object"!=typeof n)return n;if(t(n))return n.map(e);r={};for(i in n)n.hasOwnProperty(i)&&(r[i]=e(n[i]));return r}return function(t){var n,r,i,o,s,a;for(i={},n=[],r=[],s=t.length,o=0;s>o;o+=1)if(a=t[o],"intro"===a.name){if(i.intro)throw new Error("An element can only have one intro transition");i.intro=a}else if("outro"===a.name){if(i.outro)throw new Error("An element can only have one outro transition");i.outro=a}else if("intro-outro"===a.name){if(i.intro||i.outro)throw new Error("An element can only have one intro and one outro transition");i.intro=a,i.outro=e(a)}else"proxy-"===a.name.substr(0,6)?(a.name=a.name.substring(6),r[r.length]=a):"on-"===a.name.substr(0,3)?(a.name=a.name.substring(3),r[r.length]=a):"decorator"===a.name?i.decorator=a:n[n.length]=a;return i.attrs=n,i.proxies=r,i}}(f),pr=function(t,e){return function(n){var r,i,o,s,a,u,h,c;for(a=function(){throw new Error("Illegal directive")},n.name&&n.value||a(),r={directiveType:n.name},i=n.value,u=[],h=[];i.length;)if(o=i.shift(),o.type===t.TEXT){if(s=o.value.indexOf(":"),-1!==s){s&&(u[u.length]={type:t.TEXT,value:o.value.substr(0,s)}),o.value.length>s+1&&(h[0]={type:t.TEXT,value:o.value.substring(s+1)});break}u[u.length]=o}else u[u.length]=o;return h=h.concat(i),r.name=1===u.length&&u[0].type===t.TEXT?u[0].value:u,h.length&&(1===h.length&&h[0].type===t.TEXT?(c=e("["+h[0].value+"]"),r.args=c?c.value:h[0].value):r.dynamicArgs=h),r}}(c,Ge),dr=function(t,e){var n;return n=function(t,e){var n;for(this.tokens=t||[],this.pos=0,this.options=e,this.result=[];n=this.getStub();)this.result.push(n)},n.prototype={getStub:function(){var t=this.next();return t?this.getText(t)||this.getMustache(t):null},getText:t,getMustache:e,next:function(){return this.tokens[this.pos]}},n}(nr,cr),gr=function(t,e,n){var r;return r=function(e){var n=new t(e);this.stubs=n.result},r.prototype={toJSON:function(t){var e;return this["json_"+t]?this["json_"+t]:e=this["json_"+t]=n(this.stubs,t)},toString:function(){return void 0!==this.str?this.str:(this.str=e(this.stubs),this.str)}},r}(dr,ar,ur),vr=function(t){return function(e){var n,r;if("string"==typeof e.name){if(!e.args&&!e.dynamicArgs)return e.name;r=e.name}else r=new t(e.name).toJSON();return n={n:r},e.args?(n.a=e.args,n):(e.dynamicArgs&&(n.d=new t(e.dynamicArgs).toJSON()),n)}}(gr),mr=function(t,e,n){return function(r){var i,o,s,a,u,h,c;if(this["json_"+r])return this["json_"+r];if(i=this.component?{t:t.COMPONENT,e:this.component}:{t:t.ELEMENT,e:this.tag},this.doctype&&(i.y=1),this.attributes&&this.attributes.length)for(i.a={},h=this.attributes.length,u=0;h>u;u+=1){if(c=this.attributes[u],o=c.name,i.a[o])throw new Error("You cannot have multiple attributes with the same name");s=null===c.value?null:c.value.toJSON(r),i.a[o]=s}if(this.items&&this.items.length&&(i.f=e(this.items,r)),this.proxies&&this.proxies.length)for(i.v={},h=this.proxies.length,u=0;h>u;u+=1)a=this.proxies[u],i.v[a.directiveType]=n(a);return this.intro&&(i.t1=n(this.intro)),this.outro&&(i.t2=n(this.outro)),this.decorator&&(i.o=n(this.decorator)),this["json_"+r]=i,i}}(c,ur,vr),yr=function(t,e){var n;return n="a abbr acronym address applet area b base basefont bdo big blockquote body br button caption center cite code col colgroup dd del dfn dir div dl dt em fieldset font form frame frameset h1 h2 h3 h4 h5 h6 head hr html i iframe img input ins isindex kbd label legend li link map menu meta noframes noscript object ol p param pre q s samp script select small span strike strong style sub sup textarea title tt u ul var article aside audio bdi canvas command data datagrid datalist details embed eventsource figcaption figure footer header hgroup keygen mark meter nav output progress ruby rp rt section source summary time track video wbr".split(" "),function(){var r,i,o,s,a,u,h,c;if(void 0!==this.str)return this.str;if(this.component)return this.str=!1;if(-1===n.indexOf(this.tag.toLowerCase()))return this.str=!1;if(this.proxies||this.intro||this.outro||this.decorator)return this.str=!1;if(h=t(this.items),h===!1)return this.str=!1;if(c=-1!==e.indexOf(this.tag.toLowerCase()),r="<"+this.tag,this.attributes)for(i=0,o=this.attributes.length;o>i;i+=1){if(a=this.attributes[i].name,-1!==a.indexOf(":"))return this.str=!1;if("id"===a||"intro"===a||"outro"===a)return this.str=!1;if(s=" "+a,null!==this.attributes[i].value){if(u=this.attributes[i].value.toString(),u===!1)return this.str=!1;
""!==u&&(s+="=",s+=/[\s"'=<>`]/.test(u)?'"'+u.replace(/"/g,"&quot;")+'"':u)}r+=s}return this.selfClosing&&!c?(r+="/>",this.str=r):(r+=">",c?this.str=r:(r+=h,r+="</"+this.tag+">",this.str=r))}}(ar,vn),wr=function(t,e,n,r,i,o,s,a,u,h,c){var f,l,p,d,g,v=/^\s+/,m=/\s+$/;return f=function(r,i,u){var h,f,l,p,d,y,w;if(i.pos+=1,y=function(t){return{name:t.name,value:t.value?new c(t.value):null}},this.tag=r.name,w=r.name.toLowerCase(),"rv-"===w.substr(0,3)&&(n('The "rv-" prefix for components has been deprecated. Support will be removed in a future version'),this.tag=this.tag.substring(3)),u=u||"pre"===w,r.attrs&&(l=s(r.attrs),f=l.attrs,p=l.proxies,i.options.sanitize&&i.options.sanitize.eventAttributes&&(f=f.filter(g)),f.length&&(this.attributes=f.map(y)),p.length&&(this.proxies=p.map(a)),l.intro&&(this.intro=a(l.intro)),l.outro&&(this.outro=a(l.outro)),l.decorator&&(this.decorator=a(l.decorator))),r.doctype&&(this.doctype=!0),r.selfClosing&&(this.selfClosing=!0),-1!==e.indexOf(w)&&(this.isVoid=!0),!this.selfClosing&&!this.isVoid){for(this.siblings=o[w],this.items=[],h=i.next();h&&h.mustacheType!==t.CLOSING;){if(h.type===t.TAG){if(h.closing){h.name.toLowerCase()===w&&(i.pos+=1);break}if(this.siblings&&-1!==this.siblings.indexOf(h.name.toLowerCase()))break}this.items[this.items.length]=i.getStub(),h=i.next()}u||(d=this.items[0],d&&d.type===t.TEXT&&(d.text=d.text.replace(v,""),d.text||this.items.shift()),d=this.items[this.items.length-1],d&&d.type===t.TEXT&&(d.text=d.text.replace(m,""),d.text||this.items.pop()))}},f.prototype={toJSON:u,toString:h},l="a abbr acronym address applet area b base basefont bdo big blockquote body br button caption center cite code col colgroup dd del dfn dir div dl dt em fieldset font form frame frameset h1 h2 h3 h4 h5 h6 head hr html i iframe img input ins isindex kbd label legend li link map menu meta noframes noscript object ol p param pre q s samp script select small span strike strong style sub sup textarea title tt u ul var article aside audio bdi canvas command data datagrid datalist details embed eventsource figcaption figure footer header hgroup keygen mark meter nav output progress ruby rp rt section source summary time track video wbr".split(" "),p="li dd rt rp optgroup option tbody tfoot tr td th".split(" "),d=/^on[a-zA-Z]/,g=function(t){var e=!d.test(t.name);return e},f}(c,vn,I,cn,ar,fr,lr,pr,mr,yr,gr),br=function(t,e){return function(t){return this.options.sanitize&&this.options.sanitize.elements&&-1!==this.options.sanitize.elements.indexOf(t.name.toLowerCase())?null:new e(t,this)}}(c,wr),xr=function(t,e,n,r,i){var o;return o=function(t,e){var n,r;for(this.tokens=t||[],this.pos=0,this.options=e,this.preserveWhitespace=e.preserveWhitespace,r=[];n=this.getStub();)r.push(n);this.result=i(r)},o.prototype={getStub:function(){var t=this.next();return t?this.getText(t)||this.getComment(t)||this.getMustache(t)||this.getElement(t):null},getText:t,getComment:e,getMustache:n,getElement:r,next:function(){return this.tokens[this.pos]}},o}(nr,ir,cr,br,ur),Er=function(t,e,n){var r,i,o,s,a;return i=/^\s*$/,o=/<!--\s*\{\{\s*>\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*}\}\s*-->/,s=/<!--\s*\{\{\s*\/\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*}\}\s*-->/,r=function(r,s){var u,h,c;return s=s||{},o.test(r)?a(r,s):(s.sanitize===!0&&(s.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),u=t(r,s),s.preserveWhitespace||(c=u[0],c&&c.type===e.TEXT&&i.test(c.value)&&u.shift(),c=u[u.length-1],c&&c.type===e.TEXT&&i.test(c.value)&&u.pop()),h=new n(u,s).result,"string"==typeof h?[h]:h)},a=function(t,e){var n,i,a,u,h,c;for(a={},n="",i=t;h=o.exec(i);){if(u=h[1],n+=i.substr(0,h.index),i=i.substring(h.index+h[0].length),c=s.exec(i),!c||c[1]!==u)throw new Error("Inline partials must have a closing delimiter, and cannot be nested");a[u]=r(i.substr(0,c.index),e),i=i.substring(c.index+c[0].length)}return{main:r(n,e),partials:a}},r}(tr,c,xr),_r=function(t,e,n,r,i,o){var s,a,u,h;return s=function(r,s){var c,f,l;if(f=u(r,s))return f;if(e&&(c=document.getElementById(s),c&&"SCRIPT"===c.tagName)){if(!o)throw new Error(t.missingParser);a(o(c.innerHTML),s,i)}if(f=i[s],!f){if(l='Could not find descriptor for partial "'+s+'"',r.debug)throw new Error(l);return n(l),[]}return h(f)},u=function(e,n){var r;if(e.partials[n]){if("string"==typeof e.partials[n]){if(!o)throw new Error(t.missingParser);r=o(e.partials[n],e.parseOptions),a(r,n,e.partials)}return h(e.partials[n])}},a=function(t,e,n){var i;if(r(t)){n[e]=t.main;for(i in t.partials)t.partials.hasOwnProperty(i)&&(n[i]=t.partials[i])}else n[e]=t},h=function(t){return 1===t.length&&"string"==typeof t[0]?t[0]:t},s}(Nn,o,I,E,kn,Er),Nr=function(t,e,n){var r,i;return n.push(function(){i=n.DomFragment}),r=function(n,r){var o,s=this.parentFragment=n.parentFragment;if(this.type=t.PARTIAL,this.name=n.descriptor.r,this.index=n.index,!n.descriptor.r)throw new Error("Partials must have a static reference (no expressions). This may change in a future version of Ractive.");o=e(s.root,n.descriptor.r),this.fragment=new i({descriptor:o,root:s.root,pNode:s.pNode,contextStack:s.contextStack,owner:this}),r&&r.appendChild(this.fragment.docFrag)},r.prototype={firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},detach:function(){return this.fragment.detach()},teardown:function(t){this.fragment.teardown(t)},toString:function(){return this.fragment.toString()},find:function(t){return this.fragment.find(t)},findAll:function(t,e){return this.fragment.findAll(t,e)},findComponent:function(t){return this.fragment.findComponent(t)},findAllComponents:function(t,e){return this.fragment.findAllComponents(t,e)}},r}(c,_r,Ae),kr=function(t){var e=function(e,n,r){this.parentFragment=e.parentFragment,this.component=e,this.key=n,this.fragment=new t({descriptor:r,root:e.root,owner:this,contextStack:e.parentFragment.contextStack}),this.selfUpdating=this.fragment.isSimple(),this.value=this.fragment.getValue()};return e.prototype={bubble:function(){this.selfUpdating?this.update():!this.deferred&&this.ready&&(this.root._deferred.attrs.push(this),this.deferred=!0)},update:function(){var t=this.fragment.getValue();this.component.instance.set(this.key,t),this.value=t},teardown:function(){this.fragment.teardown()}},e}(tn),Tr=function(t,e,n,r){function i(i,o,s,a){var u,h,c,f,l;return c=i.root,f=i.parentFragment,"string"==typeof s?(h=e(s),h?h.value:s):null===s?!0:1===s.length&&s[0].t===t.INTERPOLATOR&&s[0].r?f.indexRefs&&void 0!==f.indexRefs[s[0].r]?f.indexRefs[s[0].r]:(l=n(c,s[0].r,f.contextStack)||s[0].r,a.push({childKeypath:o,parentKeypath:l}),c.get(l)):(u=new r(i,o,s),i.complexParameters.push(u),u.value)}return function(t,e,n){var r,o,s;r={},t.complexParameters=[];for(o in e)e.hasOwnProperty(o)&&(s=i(t,o,e[o],n),void 0!==s&&(r[o]=s));return r}}(c,Ge,N,kr),Sr=function(){return function(t,e,n,r,i){var o,s,a,u;return s=t.parentFragment,u=t.root,a={content:i||[]},o=new e({el:s.pNode.cloneNode(!1),data:n,partials:a,_parent:u,adaptors:u.adaptors}),o.component=t,t.instance=o,o.insert(r),o.fragment.pNode=s.pNode,o}}(),Or=function(){function t(t,n,r){var i,o,s,a,u,h,c;i=t.root,o=t.instance,u=t.observers,h=i.observe(n,function(t){s||i._wrapped[n]||(a=!0,o.set(r,t),a=!1)},e),u.push(h),o.twoway&&(h=o.observe(r,function(t){a||(s=!0,i.set(n,t),s=!1)},e),u.push(h),c=o.get(r),void 0!==c&&i.set(n,c))}var e={init:!1,debug:!0};return function(e,n){var r,i;for(e.observers=[],i=n.length;i--;)r=n[i],t(e,r.parentKeypath,r.childKeypath)}}(),Rr=function(t){function e(e,r,i,o){if("string"!=typeof o){if(r.debug)throw new Error(n);return void t(n)}e.on(i,function(){var t=Array.prototype.slice.call(arguments);t.unshift(o),r.fire.apply(r,t)})}var n="Components currently only support simple events - you cannot include arguments. Sorry!";return function(t,n){var r;for(r in n)n.hasOwnProperty(r)&&e(t.instance,t.root,r,n[r])}}(I),Ar=function(){return function(t){var e,n;for(e=t.root;e;)(n=e._liveComponentQueries[t.name])&&n.push(t.instance),e=e._parent}}(),Mr=function(t,e,n,r,i,o,s){return function(a,u,h){var c,f,l,p,d;if(c=a.parentFragment=u.parentFragment,f=c.root,a.root=f,a.type=t.COMPONENT,a.name=u.descriptor.e,a.index=u.index,a.observers=[],l=f.components[u.descriptor.e],!l)throw new Error('Component "'+u.descriptor.e+'" not found');d=[],p=n(a,u.descriptor.a,d),r(a,l,p,h,u.descriptor.f),i(a,d),o(a,u.descriptor.v),(u.descriptor.t1||u.descriptor.t2||u.descriptor.o)&&e('The "intro", "outro" and "decorator" directives have no effect on components'),s(a)}}(c,I,Tr,Sr,Or,Rr,Ar),Cr=function(t){var e=function(e,n){t(this,e,n)};return e.prototype={firstNode:function(){return this.instance.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},detach:function(){return this.instance.fragment.detach()},teardown:function(){for(var t;this.complexParameters.length;)this.complexParameters.pop().teardown();for(;this.observers.length;)this.observers.pop().cancel();(t=this.root._liveComponentQueries[this.name])&&t._remove(this),this.instance.teardown()},toString:function(){return this.instance.fragment.toString()},find:function(t){return this.instance.fragment.find(t)},findAll:function(t,e){return this.instance.fragment.findAll(t,e)},findComponent:function(t){return t&&t!==this.name?null:this.instance},findAllComponents:function(t,e){e._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(t,e)}},e}(Mr),Lr=function(t){var e=function(e,n){this.type=t.COMMENT,this.descriptor=e.descriptor,n&&(this.node=document.createComment(e.descriptor.f),n.appendChild(this.node))};return e.prototype={detach:function(){return this.node.parentNode.removeChild(this.node),this.node},teardown:function(t){t&&this.detach()},firstNode:function(){return this.node},toString:function(){return"<!--"+this.descriptor.f+"-->"}},e}(c),Ir=function(t,e,n,r,i,o,s,a,u,h,c,f,l){var p=function(t){t.pNode&&(this.docFrag=document.createDocumentFragment()),"string"==typeof t.descriptor?(this.html=t.descriptor,this.docFrag&&(this.nodes=r(this.html,t.pNode.tagName,this.docFrag))):n(this,t)};return p.prototype={detach:function(){var t,e;if(this.nodes)for(e=this.nodes.length;e--;)this.docFrag.appendChild(this.nodes[e]);else if(this.items)for(t=this.items.length,e=0;t>e;e+=1)this.docFrag.appendChild(this.items[e].detach());return this.docFrag},createItem:function(e){if("string"==typeof e.descriptor)return new i(e,this.docFrag);switch(e.descriptor.t){case t.INTERPOLATOR:return new o(e,this.docFrag);case t.SECTION:return new s(e,this.docFrag);case t.TRIPLE:return new a(e,this.docFrag);case t.ELEMENT:return this.root.components[e.descriptor.e]?new c(e,this.docFrag):new u(e,this.docFrag);case t.PARTIAL:return new h(e,this.docFrag);case t.COMMENT:return new f(e,this.docFrag);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/RactiveJS/Ractive/issues. Thanks!")}},teardown:function(t){var e;if(this.nodes&&t)for(;e=this.nodes.pop();)e.parentNode.removeChild(e);else if(this.items)for(;this.items.length;)this.items.pop().teardown(t);this.nodes=this.items=this.docFrag=null},firstNode:function(){return this.items&&this.items[0]?this.items[0].firstNode():this.nodes?this.nodes[0]||null:null},findNextNode:function(t){var e=t.index;return this.items[e+1]?this.items[e+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)},toString:function(){var t,e,n,r;if(this.html)return this.html;if(t="",!this.items)return t;for(n=this.items.length,e=0;n>e;e+=1)r=this.items[e],t+=r.toString();return t},find:function(t){var n,r,i,o,s;if(this.nodes){for(r=this.nodes.length,n=0;r>n;n+=1)if(o=this.nodes[n],1===o.nodeType){if(e(o,t))return o;if(s=o.querySelector(t))return s}return null}if(this.items){for(r=this.items.length,n=0;r>n;n+=1)if(i=this.items[n],i.find&&(s=i.find(t)))return s;return null}},findAll:function(t,n){var r,i,o,s,a,u,h;if(this.nodes){for(i=this.nodes.length,r=0;i>r;r+=1)if(s=this.nodes[r],1===s.nodeType&&(e(s,t)&&n.push(s),a=s.querySelectorAll(t)))for(u=a.length,h=0;u>h;h+=1)n.push(a[h])}else if(this.items)for(i=this.items.length,r=0;i>r;r+=1)o=this.items[r],o.findAll&&o.findAll(t,n);return n},findComponent:function(t){var e,n,r,i;if(this.items){for(e=this.items.length,n=0;e>n;n+=1)if(r=this.items[n],r.findComponent&&(i=r.findComponent(t)))return i;return null}},findAllComponents:function(t,e){var n,r,i;if(this.items)for(r=this.items.length,n=0;r>n;n+=1)i=this.items[n],i.findAllComponents&&i.findAllComponents(t,e);return e}},l.DomFragment=p,p}(c,Z,ce,fe,le,ke,Me,Ce,_n,Nr,Cr,Lr,Ae),Fr=function(t,e,n,r,i){return function(t,o){var s;if(!this._initing)throw new Error("You cannot call ractive.render() directly!");this._transitionManager=s=e(this,o),this.fragment=new i({descriptor:this.template,root:this,owner:this,pNode:t}),n(this),t&&t.appendChild(this.fragment.docFrag),r(this),this._transitionManager=null,s.ready(),this.rendered=!0}}(he,v,d,g,Ir),Pr=function(t){return function(){return t("renderHTML() has been deprecated and will be removed in a future version. Please use toHTML() instead"),this.toHTML()}}(I),jr=function(){return function(){return this.fragment.toString()}}(),Ur=function(t,e){return function(n){var r,i,o;for(this.fire("teardown"),o=this._transitionManager,this._transitionManager=i=t(this,n),this.fragment.teardown(!0);this._animations[0];)this._animations[0].stop();for(r in this._cache)e(this,r);this._transitionManager=o,i.ready()}}(v,l),Br=function(t){return function(e,n,r){var i;if("string"==typeof n&&t(r)){if(i=e.get(n),void 0===i&&(i=0),t(i))e.set(n,i+r);else if(e.debug)throw new Error("Cannot add to a non-numeric value")}else if(e.debug)throw new Error("Bad arguments")}}(F),Dr=function(t){return function(e,n){t(this,e,void 0===n?1:n)}}(Br),Wr=function(t){return function(e,n){t(this,e,void 0===n?-1:-n)}}(Br),qr=function(){return function(t){var e;if("string"==typeof t)e=this.get(t),this.set(t,!e);else if(this.debug)throw new Error("Bad arguments")}}(),zr=function(){return function(t,e){var n,r,i,o,s;return n={},i=0,r=function(t,r){var o,a,u;a=i,u=e.length;do{if(o=e.indexOf(t,a),-1===o)return s=!0,-1;a=o+1}while(n[o]&&u>a);return o===i&&(i+=1),o!==r&&(s=!0),n[o]=!0,o},o=t.map(r),o.unchanged=!s,o}}(),Qr=function(t){return function(e,n,r,i){var o,s;for(o=n.length;o--;)s=n[o],s.type===t.REFERENCE?s.update():s.keypath===e&&s.type===t.SECTION&&!s.inverted&&s.docFrag?r[r.length]=s:i[i.length]=s}}(c),Vr=function(t,e,n,r,i,o,s,a,u,h){function c(t){return JSON.stringify(t)}function f(t){return l[t]||(l[t]=function(e){return e[t]}),l[t]}var l={};return function(l,p,d){var g,v,m,y,w,b,x,E,_,N,k,T,S,O,R;if(g=this.get(l),!e(g)||!e(p))return this.set(l,p,d&&d.complete);if(w=g.length===p.length,d&&d.compare){if(d.compare===!0)y=c;else if("string"==typeof d.compare)y=f(d.compare);else{if("function"!=typeof d.compare)throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)");y=d.compare}try{v=g.map(y),m=p.map(y)}catch(A){if(this.debug)throw A;t("Merge operation: comparison failed. Falling back to identity checking"),v=g,m=p}}else v=g,m=p;if(x=u(v,m),n(this,l),a(this,l,p),!x.unchanged||!w){for(S=this._transitionManager,this._transitionManager=T=o(this,d&&d.complete),E=[],_=[],b=0;b<this._deps.length;b+=1)if(N=this._deps[b],N&&(k=N[l])){for(h(l,k,E,_),r(this);E.length;)E.pop().merge(x);for(;_.length;)_.pop().update()}for(i(this),O=[],R=l.split(".");R.length;)R.pop(),O[O.length]=R.join(".");s.multiple(this,O,!0),v.length!==m.length&&s(this,l+".length",!0),this._transitionManager=S,T.ready()}}}(I,f,l,d,T,v,m,S,zr,Qr),$r=function(){return function(){return this.fragment.detach()}}(),Hr=function(t){return function(e,n){if(e=t(e),n=t(n)||null,!e)throw new Error("You must specify a valid target to insert into");e.insertBefore(this.detach(),n),this.fragment.pNode=e}}(he),Xr=function(t,e,n,r,i,o,s,a,u,h,c,f,l,p,d,g,v,m,y,w,b,x,E){return{get:t,set:e,update:n,updateModel:r,animate:i,on:o,off:s,observe:a,fire:u,find:h,findAll:c,findComponent:f,findAllComponents:l,renderHTML:d,toHTML:g,render:p,teardown:v,add:m,subtract:y,toggle:w,merge:b,detach:x,insert:E}}(x,O,R,M,B,D,W,X,G,J,se,ae,ue,Fr,Pr,jr,Ur,Dr,Wr,qr,Vr,$r,Hr),Gr=function(){return["partials","transitions","events","components","decorators","data"]}(),Jr=function(){return["el","template","complete","modifyArrays","magic","twoway","lazy","append","preserveWhitespace","sanitize","stripComments","noIntro","transitionsEnabled","adaptors"]}(),Zr=function(t,e,n){return function(r,i){t.forEach(function(t){i[t]&&(r[t]=n(i[t]))}),e.forEach(function(t){r[t]=i[t]})}}(Gr,Jr,n),Yr=function(){return function(t,e){return/_super/.test(t)?function(){var n,r=this._super;return this._super=e,n=t.apply(this,arguments),this._super=r,n}:t}}(),Kr=function(){return function(t,e){var n;for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}}(),ti=function(t,e,n,r){var i,o;return i=t.concat(e),o={},i.forEach(function(t){o[t]=!0}),function(i,s){var a,u;t.forEach(function(t){var e=s[t];e&&(i[t]?r(i[t],e):i[t]=e)}),e.forEach(function(t){var e=s[t];void 0!==e&&(i[t]="function"==typeof e&&"function"==typeof i[t]?n(e,i[t]):s[t])});for(a in s)s.hasOwnProperty(a)&&!o[a]&&(u=s[a],i.prototype[a]="function"==typeof u&&"function"==typeof i.prototype[a]?n(u,i.prototype[a]):u)}}(Gr,Jr,Yr,Kr),ei=function(t,e){return function(n,r){t(n.template)&&(n.partials||(n.partials={}),e(n.partials,n.template.partials),r.partials&&e(n.partials,r.partials),n.template=n.template.main)}}(E,Kr),ni=function(t,e,n){return function(r){var i;if("string"==typeof r.template){if(!n)throw new Error(t.missingParser);if("#"===r.template.charAt(0)&&e){if(i=document.getElementById(r.template.substring(1)),!i||"SCRIPT"!==i.tagName)throw new Error("Could not find template element ("+r.template+")");r.template=n(i.innerHTML,r)}else r.template=n(r.template,r)}}}(Nn,o,Er),ri=function(t,e){return function(n){var r;if(n.partials)for(r in n.partials)if(n.partials.hasOwnProperty(r)&&"string"==typeof n.partials[r]){if(!e)throw new Error(t.missingParser);n.partials[r]=e(n.partials[r],n)}}}(Nn,Er),ii=function(){return function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}}(),oi=function(){return function(t){for(var e,n,r=Array.prototype.slice.call(arguments,1);n=r.shift();)for(e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}}(),si=function(t,e,n,r,i,o,s,a,u,h,c){var f,l,p,d;return f=function(){return{}},l=function(){return[]},p=r(null),s(p,{preserveWhitespace:{enumerable:!0,value:!1},append:{enumerable:!0,value:!1},twoway:{enumerable:!0,value:!0},modifyArrays:{enumerable:!0,value:!0},data:{enumerable:!0,value:f},lazy:{enumerable:!0,value:!1},debug:{enumerable:!0,value:!1},transitions:{enumerable:!0,value:f},decorators:{enumerable:!0,value:f},events:{enumerable:!0,value:f},noIntro:{enumerable:!0,value:!1},transitionsEnabled:{enumerable:!0,value:!0},magic:{enumerable:!0,value:!1},adaptors:{enumerable:!0,value:l}}),d=["components","decorators","events","partials","transitions","data"],function(f,l){var g,v,m,y;for(g in p)void 0===l[g]&&(l[g]="function"==typeof p[g]?p[g]():p[g]);if(s(f,{_initing:{value:!0,writable:!0},_guid:{value:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e,n;return e=16*Math.random()|0,n="x"==t?e:3&e|8,n.toString(16)})},_subs:{value:r(null),configurable:!0},_cache:{value:{}},_cacheMap:{value:r(null)},_deps:{value:[]},_depsMap:{value:r(null)},_patternObservers:{value:[]},_pendingResolution:{value:[]},_deferred:{value:{}},_evaluators:{value:r(null)},_twowayBindings:{value:{}},_transitionManager:{value:null,writable:!0},_animations:{value:[]},nodes:{value:{}},_wrapped:{value:r(null)},_liveQueries:{value:[]},_liveComponentQueries:{value:[]}}),s(f._deferred,{attrs:{value:[]},evals:{value:[]},selectValues:{value:[]},checkboxes:{value:[]},radios:{value:[]},observers:{value:[]},transitions:{value:[]},liveQueries:{value:[]},decorators:{value:[]},focusable:{value:null,writable:!0}}),f.adaptors=l.adaptors,f.modifyArrays=l.modifyArrays,f.magic=l.magic,f.twoway=l.twoway,f.lazy=l.lazy,f.debug=l.debug,f.magic&&!h)throw new Error("Getters and setters (magic mode) are not supported in this browser");if(l._parent&&o(f,"_parent",{value:l._parent}),l.el&&(f.el=a(l.el),!f.el&&f.debug))throw new Error("Could not find container element");if(l.eventDefinitions&&(n("ractive.eventDefinitions has been deprecated in favour of ractive.events. Support will be removed in future versions"),l.events=l.eventDefinitions),d.forEach(function(t){f.constructor[t]?f[t]=i(r(f.constructor[t]||{}),l[t]):l[t]&&(f[t]=l[t])}),v=l.template,"string"==typeof v){if(!c)throw new Error(e.missingParser);if("#"===v.charAt(0)&&t){if(m=document.getElementById(v.substring(1)),!m)throw new Error("Could not find template element ("+v+")");y=c(m.innerHTML,l)}else y=c(v,l)}else y=v;u(y)&&(i(f.partials,y.partials),y=y.main),y&&1===y.length&&"string"==typeof y[0]&&(y=y[0]),f.template=y,i(f.partials,l.partials),f.parseOptions={preserveWhitespace:l.preserveWhitespace,sanitize:l.sanitize,stripComments:l.stripComments},f.transitionsEnabled=l.noIntro?!1:l.transitionsEnabled,t&&!f.el&&(f.el=document.createDocumentFragment()),f.el&&!l.append&&(f.el.innerHTML=""),f.render(f.el,l.complete),f.transitionsEnabled=l.transitionsEnabled,f._initing=!1}}(o,Nn,I,n,oi,s,a,he,E,w,Er),ai=function(t,e,n,r,i){return function(t,n,o){e.forEach(function(t){var e=o[t],i=n[t];"function"==typeof e&&"function"==typeof i?o[t]=r(e,i):void 0===e&&void 0!==i&&(o[t]=i)}),t.beforeInit&&t.beforeInit(o),i(t,o),t.init&&t.init(o)}}(fn,Jr,ii,Yr,si),ui=function(t,e,n,r,i,o,s,a){var u;return a.push(function(){u=a.Ractive}),function(a){var u,h=this;return u=function(t){s(this,u,t||{})},u.prototype=t(h.prototype),u.prototype.constructor=u,e(u,h),n(u,a),i(u),r(u,a),o(u),u.extend=h.extend,u}}(n,Zr,ti,ei,ni,ri,ai,Ae),hi=function(t,e,n,r,i,o,s,a,u,h,c){var f=function(t){h(this,t)};return n(f,{prototype:{value:r},partials:{value:i},adaptors:{value:o},easing:{value:s},transitions:{value:{}},events:{value:{}},components:{value:{}},decorators:{value:{}},svg:{value:t},VERSION:{value:"0.3.9"}}),f.eventDefinitions=f.events,f.prototype.constructor=f,f.delimiters=["{{","}}"],f.tripleDelimiters=["{{{","}}}"],f.extend=a,f.parse=u,c.Ractive=f,f}(e,n,a,Xr,kn,h,U,ui,Er,si,Ae),ci=function(t,e){for("undefined"!=typeof window&&window.Node&&!window.Node.prototype.contains&&window.HTMLElement&&window.HTMLElement.prototype.contains&&(window.Node.prototype.contains=window.HTMLElement.prototype.contains);e.length;)e.pop()();return t}(hi,Ae);"undefined"!=typeof module&&module.exports?module.exports=ci:"function"==typeof define&&define.amd?define(function(){return ci}):t.Ractive=ci}("undefined"!=typeof window?window:this);