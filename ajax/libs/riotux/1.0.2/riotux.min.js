!function(t,e){"use strict";function i(t,e){var i=[t],n=i.concat(e);return n}function n(t,e,n,s,r){var o=t;return"object"==typeof n&&n instanceof Array?void n.forEach(function(t){o.stores[t][e].apply(null,i(s,r))}):void o.stores[n][e].apply(null,i(s,r))}function s(){this.stores={}}function r(){e.observable(this),this.events={listen:[],listenOne:[],emit:[],cancel:[]}}s.prototype={addStore:function(t,e){this.stores[t]=e},removeStore:function(t){delete this.stores[t]},on:function(t,e,i){n(this,"on",t,e,i)},trigger:function(t,e){var i=Array.prototype.slice.call(arguments,2);n(this,"trigger",t,e,i)},one:function(t,e,i){this.stores[t].one(e,i)},off:function(t,e,i){this.stores[t].off(e,i)},listen:function(t,e){this.Dispatcher.on(t,e),this.register("listen",t,e)},listenOne:function(t,e){this.Dispatcher.one(t,e),this.register("listenOne",t,e)},emit:function(t){var e=Array.prototype.slice.call(arguments,1);this.Dispatcher.trigger.apply(null,i(t,e)),this.register("emit",t,e)},cancel:function(t,e){this.Dispatcher.off(t,e),this.register("cancel",t,e)},register:function(t,e,i){return void 0!==i?void this.Dispatcher.events[t].push({event:e,args:i}):void this.Dispatcher.events[t].push({event:e,args:""})},getDispatcherEvent:function(t){return this.Dispatcher.events[t]}},t.riotux||(t.riotux=new s,t.riotux.Dispatcher=new r),"undefined"!=typeof module&&(module.exports=s)}(window,riot);