!function(t,n){"function"==typeof define&&define.amd?define([],n):"undefined"!=typeof module?module.exports=n:t.riotux=n()}(this,function(){"use strict";function t(){this.store={dispatch:function(t){var n=Array.prototype.slice.call(arguments,1),e=[i.state],o=e.concat(n);return new Promise(function(n,e){n(i.mutations[t].apply(null,o))}).then(function(t){i.update()})}},this.actions={}}var n,e=function(t){return"function"==typeof t.forceUpdate?void t.forceUpdate():void t.update()},i={tags:[],subscribe:function(t,n){i.tags.push({component:t,states:n})},unsubscribe:function(t){i.tags.forEach(function(n,e){n.tag===t&&i.tags.splice(e,1)})},emit:function(t){t()},update:function(){i.emit(function(){i.tags.forEach(function(t,i,o){-1!==t.states.indexOf(n)&&e(t.component)})})}};return t.prototype={get:function(){return i.tags},subscribe:function(t){var n=Array.prototype.slice.call(arguments,1);i.subscribe(t,n)},unsubscribe:function(t){i.unsubscribe(component)},Store:function(t){return i=Object.assign(i,t),this.store},Actions:function(t){return this.actions=t,this.actions},action:function(){if(n=arguments[0],void 0!==i.state[n]){var t=Array.prototype.slice.call(arguments,2);this.actions[arguments[1]].apply(null,t)}else{var t=Array.prototype.slice.call(arguments,1);this.actions[arguments[0]].apply(null,t)}},getter:function(t){return i.state[t]}},new t});