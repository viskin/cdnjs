(function(){var j,a,l,i,n,b,f,q,m,h,d,e,p,c,k=[].slice,o={}.hasOwnProperty,g=function(u,s){for(var r in s){if(o.call(s,r)){u[r]=s[r]}}function t(){this.constructor=u}t.prototype=s.prototype;u.prototype=new t;u.__super__=s.prototype;return u};j=this.jQuery;e=(function(){r.name="SimpleWidget";r.prototype.defaults={};function r(t,s){this.$el=j(t);this.options=j.extend({},this.defaults,s);this._init()}r.prototype.destroy=function(){return this._deinit()};r.prototype._init=function(){return null};r.prototype._deinit=function(){return null};r.register=function(x,v){var w,u,s,t;t=function(){return"simple_widget_"+v};u=function(z,y){var A;A=t();z.each(function(){var B;B=new x(this,y);if(!j.data(this,A)){return j.data(this,A,B)}});return z};s=function(y){var z;z=t();return y.each(function(){var A;A=j.data(this,z);if(A&&(A instanceof r)){A.destroy()}return j.removeData(this,z)})};w=function(A,B,z){var y;y=null;A.each(function(){var D,C;D=j.data(this,t());if(D&&(D instanceof r)){C=D[B];if(C&&(typeof C==="function")){return y=C.apply(D,z)}}});return y};return j.fn[v]=function(){var A,z,B,C,y;B=arguments[0],z=2<=arguments.length?k.call(arguments,1):[];A=this;if(B===void 0||typeof B==="object"){y=B;return u(A,y)}else{if(typeof B==="string"&&B[0]!=="_"){C=B;if(C==="destroy"){return s(A)}else{return w(A,C,z)}}}}};return r})();this.SimpleWidget=e;q=(function(r){g(s,r);s.name="MouseWidget";function s(){return s.__super__.constructor.apply(this,arguments)}s.is_mouse_handled=false;s.prototype._init=function(){this.$el.bind("mousedown",j.proxy(this._mouseDown,this));return this.is_mouse_started=false};s.prototype._deinit=function(){var t;this.$el.unbind("mousedown");t=j(document);t.unbind("mousemove");return t.unbind("mouseup")};s.prototype._mouseDown=function(t){var u;if(s.is_mouse_handled){return}if(!this.is_mouse_started){this._mouseUp(t)}if(t.which!==1){return}if(!this._mouseCapture(t)){return}this.mouse_down_event=t;u=j(document);u.bind("mousemove",j.proxy(this._mouseMove,this));u.bind("mouseup",j.proxy(this._mouseUp,this));t.preventDefault();this.is_mouse_handled=true;return true};s.prototype._mouseMove=function(t){if(this.is_mouse_started){this._mouseDrag(t);return t.preventDefault()}this.is_mouse_started=this._mouseStart(this.mouse_down_event)!==false;if(this.is_mouse_started){this._mouseDrag(t)}else{this._mouseUp(t)}return !this.is_mouse_started};s.prototype._mouseUp=function(t){var u;u=j(document);u.unbind("mousemove");u.unbind("mouseup");if(this.is_mouse_started){this.is_mouse_started=false;this._mouseStop(t)}return false};s.prototype._mouseCapture=function(t){return true};s.prototype._mouseStart=function(t){return null};s.prototype._mouseDrag=function(t){return null};s.prototype._mouseStop=function(t){return null};return s})(e);this.Tree={};j=this.jQuery;p=function(w,t){var s,v,u,r;if(w.indexOf){return w.indexOf(t)}else{for(s=u=0,r=w.length;u<r;s=++u){v=w[s];if(v===t){return s}}return -1}};this.Tree.indexOf=p;f={};f.escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;f.meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};f.quote=function(r){f.escapable.lastIndex=0;if(f.escapable.test(r)){return'"'+r.replace(f.escapable,function(s){var t;t=f.meta[s];return(typeof t==="string"?t:"\\u"+("0000"+s.charCodeAt(0).toString(16)).slice(-4))})+'"'}else{return'"'+r+'"'}};f.str=function(z,w){var t,r,u,A,y,s,x;y=w[z];switch(typeof y){case"string":return f.quote(y);case"number":if(isFinite(y)){return String(y)}else{return"null"}case"boolean":case"null":return String(y);case"object":if(!y){return"null"}u=[];if(Object.prototype.toString.apply(y)==="[object Array]"){for(t=s=0,x=y.length;s<x;t=++s){A=y[t];u[t]=f.str(t,y)||"null"}return(u.length===0?"[]":"["+u.join(",")+"]")}for(r in y){if(Object.prototype.hasOwnProperty.call(y,r)){A=f.str(r,y);if(A){u.push(f.quote(r)+":"+A)}}}return(u.length===0?"{}":"{"+u.join(",")+"}")}};c=function(r){return f.str("",{"":r})};this.Tree.toJson=c;d={getName:function(r){if(r===d.BEFORE){return"before"}else{if(r===d.AFTER){return"after"}else{if(r===d.INSIDE){return"inside"}else{return"none"}}}}};d.BEFORE=1;d.AFTER=2;d.INSIDE=3;d.NONE=4;this.Tree.Position=d;m=(function(){r.name="Node";function r(s){this.init(s)}r.prototype.init=function(s){this.name=s;this.children=[];return this.parent=null};r.prototype.initFromData=function(t){var s,u,v=this;u=function(w){if(typeof w!=="object"){return v.name=w}else{return j.each(w,function(x,y){if(x==="children"){s(y)}else{if(x==="label"){v.name=y}else{v[x]=y}}return true})}};s=function(z){var A,x,y,w;for(y=0,w=z.length;y<w;y++){A=z[y];x=new r();x.initFromData(A);v.addChild(x)}return null};u(t);return null};r.prototype.loadFromData=function(v){var t,w,u,s,x=this;this.children=[];for(u=0,s=v.length;u<s;u++){w=v[u];if(typeof w!=="object"){t=new r(w);this.addChild(t)}else{t=new r(w.label);j.each(w,function(y,z){if(y!=="label"){t[y]=z}return true});this.addChild(t);if(w.children){t.loadFromData(w.children)}}}return null};r.prototype.addChild=function(s){this.children.push(s);return s.parent=this};r.prototype.addChildAtPosition=function(t,s){this.children.splice(s,0,t);return t.parent=this};r.prototype.removeChild=function(s){return this.children.splice(this.getChildIndex(s),1)};r.prototype.getChildIndex=function(s){return j.inArray(s,this.children)};r.prototype.hasChildren=function(){return this.children.length!==0};r.prototype.iterate=function(u){var s,t=this;s=function(x,B){var A,v,z,w,y;y=x.children;for(z=0,w=y.length;z<w;z++){A=y[z];v=u(A,B);if(t.hasChildren()&&v){s(A,B+1)}}return null};s(this,0);return null};r.prototype.moveNode=function(t,u,s){t.parent.removeChild(t);if(s===d.AFTER){return u.parent.addChildAtPosition(t,u.parent.getChildIndex(u)+1)}else{if(s===d.BEFORE){return u.parent.addChildAtPosition(t,u.parent.getChildIndex(u))}else{if(s===d.INSIDE){return u.addChildAtPosition(t,0)}}}};r.prototype.getData=function(){var s,t=this;s=function(y){var C,x,A,z,w,B,u;C=[];for(B=0,u=y.length;B<u;B++){A=y[B];z={};for(x in A){w=A[x];if((x!=="parent"&&x!=="children"&&x!=="element")&&Object.prototype.hasOwnProperty.call(A,x)){z[x]=w}}if(A.hasChildren()){z.children=s(A.children)}C.push(z)}return C};return s(this.children)};return r})();this.Tree.Tree=m;b=(function(s){g(r,s);r.name="JqTreeWidget";function r(){return r.__super__.constructor.apply(this,arguments)}r.prototype.defaults={autoOpen:false,saveState:false,dragAndDrop:false,selectable:false,onCanSelectNode:null,onSetStateFromStorage:null,onGetStateFromStorage:null,onCreateLi:null,onIsMoveHandle:null,onCanMove:null,onCanMoveTo:null};r.prototype.toggle=function(t){if(t.hasChildren()){new i(t,this.element).toggle()}if(this.options.saveState){return this._saveState()}};r.prototype.getTree=function(){return this.tree};r.prototype.selectNode=function(u,v){var t;if(this.options.selectable){if(this.selected_node){this._getNodeElementForNode(this.selected_node).deselect()}this._getNodeElementForNode(u).select();this.selected_node=u;if(v){t=this.selected_node.parent;while(t){if(!t.is_open){this.openNode(t,true)}t=t.parent}}if(this.options.saveState){return this._saveState()}}};r.prototype.getSelectedNode=function(){return this.selected_node||false};r.prototype.toJson=function(){return c(this.tree.getData())};r.prototype.loadData=function(w,B){var x,A,t,z,u,y,v;if(!B){this._initTree(w)}else{z=new m();z.loadFromData(w);v=z.children;for(u=0,y=v.length;u<y;u++){t=v[u];B.addChild(t)}A=j(B.element);A.children("ul").detach();this._createDomElements(B,A);x=A.children("div");if(!x.find(".toggler").length){x.prepend('<a class="toggler">&raquo;</a>')}}if(this.is_dragging){return this._refreshHitAreas()}};r.prototype.getNodeById=function(u){var t;t=null;this.tree.iterate(function(v){if(v.id===u){t=v;return false}else{return true}});return t};r.prototype.openNode=function(t,u){if(t.hasChildren()){new i(t,this.element).open(null,u);if(this.options.saveState){return this._saveState()}}};r.prototype.closeNode=function(t,u){if(t.hasChildren()){new i(t,this.element).close(u);if(this.options.saveState){return this._saveState()}}};r.prototype.isDragging=function(){return this.is_dragging};r.prototype.refreshHitAreas=function(){return this._refreshHitAreas()};r.prototype._init=function(){r.__super__._init.apply(this,arguments);this.element=this.$el;this._initTree(this.options.data);this.element.click(j.proxy(this._click,this));this.element.bind("contextmenu",j.proxy(this._contextmenu,this));this.hovered_area=null;this.$ghost=null;this.hit_areas=[];return this.is_dragging=false};r.prototype._deinit=function(){this.element.empty();this.element.unbind();this.tree=null;return r.__super__._deinit.apply(this,arguments)};r.prototype._initTree=function(t){var u;this.tree=new m();this.tree.loadFromData(t);this.selected_node=null;this._openNodes();this._createDomElements(this.tree);if(this.selected_node){u=this._getNodeElementForNode(this.selected_node);if(u){return u.select()}}};r.prototype._openNodes=function(){var t;if(this.options.saveState){if(this._restoreState()){return}}if(this.options.autoOpen===false){return}else{if(this.options.autoOpen===true){t=-1}else{t=parseInt(this.options.autoOpen)}}return this.tree.iterate(function(u,v){u.is_open=true;return v!==t})};r.prototype._createDomElements=function(B,z){var y,t,u,A,v,x,w=this;A=function(E,D){var C;if(E){C=""}else{C=' class="tree"'}return j("<ul"+C+"></ul>")};t=function(C){var D;if(C.hasChildren()){D=y(C)}else{D=u(C)}if(w.options.onCreateLi){w.options.onCreateLi(C,D)}return D};u=function(C){return j('<li><div><span class="title">'+C.name+"</span></div></li>")};y=function(G){var E,F,D,C;D=function(){var H;H=["toggler"];if(!G.is_open){H.push("closed")}return H.join(" ")};C=function(){var H;H=["folder"];if(!G.is_open){H.push("closed")}return H.join(" ")};E=D();F=C();return j('<li class="'+F+'"><div><a class="'+E+'">&raquo;</a><span class="title">'+G.name+"</span></div></li>")};x=function(K,D,G,E){var I,H,C,F,J;H=A(G,E);K.append(H);for(F=0,J=D.length;F<J;F++){C=D[F];I=t(C);H.append(I);C.element=I[0];I.data("node",C);if(C.hasChildren()){x(I,C.children,G+1,C.is_open)}}return null};if(z){v=1}else{z=this.element;z.empty();v=0}return x(z,B.children,v,true)};r.prototype._click=function(w){var t,v,u,x;if(w.ctrlKey){return}t=j(w.target);if(t.is(".toggler")){x=this._getNodeElement(t);if(x&&x.node.hasChildren()){x.toggle();if(this.options.saveState){this._saveState()}w.preventDefault();return w.stopPropagation()}}else{if(t.is("div")||t.is("span")){u=this._getNode(t);if(u){if((!this.options.onCanSelectNode)||this.options.onCanSelectNode(u)){this.selectNode(u);v=j.Event("tree.click");v.node=u;return this.element.trigger(v)}}}}};r.prototype._getNode=function(t){var u;u=t.closest("li");if(u.length===0){return null}else{return u.data("node")}};r.prototype._restoreState=function(){var t;if(this.options.onGetStateFromStorage){t=this.options.onGetStateFromStorage()}else{if(localStorage){t=localStorage.getItem(this._getCookieName())}else{if(j.cookie){t=j.cookie(this._getCookieName(),{path:"/"})}else{t=null}}}if(!t){return false}else{this._setState(t);return true}};r.prototype._saveState=function(){if(this.options.onSetStateFromStorage){return this.options.onSetStateFromStorage(this._getState())}else{if(localStorage){return localStorage.setItem(this._getCookieName(),this._getState())}else{if(j.cookie){return j.cookie(this._getCookieName(),this._getState(),{path:"/"})}}}};r.prototype._getState=function(){var u,t,v=this;u=[];this.tree.iterate(function(w){if(w.is_open&&w.id&&w.hasChildren()){u.push(w.id)}return true});t="";if(this.selected_node){t=this.selected_node.id}return c({open_nodes:u,selected_node:t})};r.prototype._setState=function(v){var u,w,t,x=this;u=j.parseJSON(v);if(u){w=u.open_nodes;t=u.selected_node;return this.tree.iterate(function(y){if(y.id&&y.hasChildren()&&(p(w,y.id)>=0)){y.is_open=true}if(t&&(y.id===t)){x.selected_node=y}return true})}};r.prototype._getCookieName=function(){if(typeof this.options.saveState==="string"){return this.options.saveState}else{return"tree"}};r.prototype._getNodeElementForNode=function(t){if(t.hasChildren()){return new i(t,this.element)}else{return new h(t,this.element)}};r.prototype._getNodeElement=function(t){var u;u=this._getNode(t);if(u){return this._getNodeElementForNode(u)}else{return null}};r.prototype._contextmenu=function(w){var t,v,u;t=j(w.target).closest("ul.tree div");if(t.length){u=this._getNode(t);if(u){w.preventDefault();w.stopPropagation();v=j.Event("tree.contextmenu");v.node=u;v.click_event=w;this.element.trigger(v);return false}}};r.prototype._mouseCapture=function(u){var t,v;if(!this.options.dragAndDrop){return}t=j(u.target);if(this.options.onIsMoveHandle&&!this.options.onIsMoveHandle(t)){return null}v=this._getNodeElement(j(u.target));if(v&&this.options.onCanMove){if(!this.options.onCanMove(v.node)){v=null}}this.current_item=v;return this.current_item!==null};r.prototype._mouseStart=function(u){var t,w,v;if(!this.options.dragAndDrop){return}this._refreshHitAreas();v=this._getOffsetFromEvent(u),t=v[0],w=v[1];this.drag_element=new l(this.current_item.node,t,w,this.element);this.is_dragging=true;this.current_item.$element.addClass("moving");return true};r.prototype._mouseDrag=function(u){var t,v;if(!this.options.dragAndDrop){return}this.drag_element.move(u.pageX,u.pageY);t=this._findHoveredArea(u.pageX,u.pageY);if(t&&this.options.onCanMoveTo){v=d.getName(t.position);if(!this.options.onCanMoveTo(this.current_item.node,t.node,v)){t=null}}if(!t){this._removeDropHint();this._removeHover();this._stopOpenFolderTimer()}else{if(this.hovered_area!==t){this.hovered_area=t;this._updateDropHint()}}return true};r.prototype._mouseStop=function(){if(!this.options.dragAndDrop){return}this._moveItem();this._clear();this._removeHover();this._removeDropHint();this._removeHitAreas();this.current_item.$element.removeClass("moving");this.is_dragging=false;return false};r.prototype._refreshHitAreas=function(){this._removeHitAreas();return this._generateHitAreas()};r.prototype._generateHitAreas=function(){var t,A,v,z,x,E,u,y,w,C,B,D=this;B=[];C=0;A=function(F){return F.offset().top};t=function(G,F,H){B.push({top:H,node:G,position:F});return C=H};v=function(K){var J,F,I,H,G;I=-1;J=[];for(H=0,G=B.length;H<G;H++){F=B[H];if(F.top!==I){if(J.length){K(J,I,F.top)}I=F.top;J=[]}J.push(F)}return K(J,I,D.element.offset().top+D.element.height())};u=function(H,G,F){var I;I=A(F);if(H===D.current_item.node){t(H,d.NONE,I)}else{t(H,d.INSIDE,I)}if(G===D.current_item.node||H===D.current_item.node){return t(H,d.NONE,I)}else{return t(H,d.AFTER,I)}};y=function(G,F){if(G===D.current_item.node){return false}if(G.children[0]!==D.current_item.node){t(G,d.INSIDE,A(F))}return true};z=function(H,G,F){if(H===D.current_item.node||G===D.current_item.node){return t(H,d.NONE,C)}else{return t(H,d.AFTER,C)}};x=function(H,G,F){var I;I=A(F);if(H===D.current_item.node){return t(H,d.NONE,I)}else{t(H,d.INSIDE,I);if(G!==D.current_item.node){return t(H,d.AFTER,I)}}};E=function(G,F){if(G!==D.current_item.node){return t(G,d.BEFORE,A(j(G.element)))}};this._iterateVisibleNodes(u,y,x,z,E);w=[];v(function(I,M,H){var J,L,F,K,G;J=(H-M)/I.length;L=M;for(K=0,G=I.length;K<G;K++){F=I[K];w.push({top:L,bottom:L+J,node:F.node,position:F.position});L+=J}return null});return this.hit_areas=w};r.prototype.testGenerateHitAreas=function(t){this.current_item=this._getNodeElementForNode(t);this._generateHitAreas();return this.hit_areas};r.prototype._removeHitAreas=function(){return this.hit_areas=[]};r.prototype._iterateVisibleNodes=function(v,A,u,y,w){var x,t,z=this;x=true;t=function(D,B){var K,C,J,G,H,E,I,F;H=(D.is_open||!D.element)&&D.hasChildren();if(D.element){K=j(D.element);if(!K.is(":visible")){return}if(x){w(D,K);x=false}if(!D.hasChildren()){v(D,B,K)}else{if(D.is_open){if(!A(D,K)){H=false}}else{u(D,B,K)}}}if(H){J=D.children.length;F=D.children;for(G=E=0,I=F.length;E<I;G=++E){C=F[G];if(G===(J-1)){t(D.children[G],null)}else{t(D.children[G],D.children[G+1])}}if(D.is_open){return y(D,B,K)}}};return t(this.tree)};r.prototype._getOffsetFromEvent=function(u){var t;t=j(u.target).offset();return[u.pageX-t.left,u.pageY-t.top]};r.prototype._findHoveredArea=function(u,B){var z,A,t,w,v;v=this.element.offset();if(u<v.left||B<v.top||u>(v.left+this.element.width())||B>(v.top+this.element.height())){return null}t=0;A=this.hit_areas.length;while(t<A){w=(t+A)>>1;z=this.hit_areas[w];if(B<z.top){A=w}else{if(B>z.bottom){t=w+1}else{return z}}}return null};r.prototype._updateDropHint=function(){var t,u;this._stopOpenFolderTimer();if(!this.hovered_area){return}t=this.hovered_area.node;if(t.hasChildren()&&!t.is_open&&this.hovered_area.position===d.INSIDE){this._startOpenFolderTimer(t)}this._removeDropHint();u=this._getNodeElementForNode(this.hovered_area.node);return this.previous_ghost=u.addDropHint(this.hovered_area.position)};r.prototype._startOpenFolderTimer=function(u){var t,v=this;t=function(){return v._getNodeElementForNode(u).open(function(){v._refreshHitAreas();return v._updateDropHint()})};return this.open_folder_timer=setTimeout(t,500)};r.prototype._stopOpenFolderTimer=function(){if(this.open_folder_timer){clearTimeout(this.open_folder_timer);return this.open_folder_timer=null}};r.prototype._removeDropHint=function(){if(this.previous_ghost){return this.previous_ghost.remove()}};r.prototype._removeHover=function(){return this.hovered_area=null};r.prototype._moveItem=function(){var v,x,w,t,u,y,z=this;if(this.hovered_area&&this.hovered_area.position!==d.NONE){w=this.current_item.node;y=this.hovered_area.node;t=this.hovered_area.position;u=w.parent;if(t===d.INSIDE){this.hovered_area.node.is_open=true}v=function(){z.tree.moveNode(w,y,t);z.element.empty();return z._createDomElements(z.tree)};x=j.Event("tree.move");x.move_info={moved_node:w,target_node:y,position:d.getName(t),previous_parent:u,do_move:v};this.element.trigger(x);if(!x.isDefaultPrevented()){return v()}}};r.prototype._clear=function(){this.drag_element.remove();return this.drag_element=null};return r})(q);e.register(b,"tree");n=(function(){r.name="GhostDropHint";function r(u,t,s){this.$element=t;this.node=u;this.$ghost=j('<li class="ghost"><span class="circle"></span><span class="line"></span></li>');if(s===d.AFTER){this.moveAfter()}else{if(s===d.BEFORE){this.moveBefore()}else{if(s===d.INSIDE){if(u.hasChildren()&&u.is_open){this.moveInsideOpenFolder()}else{this.moveInside()}}}}}r.prototype.remove=function(){return this.$ghost.remove()};r.prototype.moveAfter=function(){return this.$element.after(this.$ghost)};r.prototype.moveBefore=function(){return this.$element.before(this.$ghost)};r.prototype.moveInsideOpenFolder=function(){return j(this.node.children[0].element).before(this.$ghost)};r.prototype.moveInside=function(){this.$element.after(this.$ghost);return this.$ghost.addClass("inside")};return r})();a=(function(){r.name="BorderDropHint";function r(t){var s,u;s=t.children("div");u=t.width()-4;this.$hint=j('<span class="border"></span>');s.append(this.$hint);this.$hint.css({width:u,height:s.height()-4})}r.prototype.remove=function(){return this.$hint.remove()};return r})();h=(function(){r.name="NodeElement";function r(t,s){this.init(t,s)}r.prototype.init=function(t,s){this.node=t;this.tree_element=s;return this.$element=j(t.element)};r.prototype.getUl=function(){return this.$element.children("ul:first")};r.prototype.getSpan=function(){return this.$element.children("div").find("span.title")};r.prototype.getLi=function(){return this.$element};r.prototype.addDropHint=function(s){if(s===d.INSIDE){return new a(this.$element)}else{return new n(this.node,this.$element,s)}};r.prototype.select=function(){return this.getLi().addClass("selected")};r.prototype.deselect=function(){return this.getLi().removeClass("selected")};return r})();i=(function(s){g(r,s);r.name="FolderElement";function r(){return r.__super__.constructor.apply(this,arguments)}r.prototype.toggle=function(){if(this.node.is_open){return this.close()}else{return this.open()}};r.prototype.open=function(v,u){var t,w=this;if(!this.node.is_open){this.node.is_open=true;this.getButton().removeClass("closed");t=function(){var x;w.getLi().removeClass("closed");if(v){v()}x=j.Event("tree.open");x.node=w.node;return w.tree_element.trigger(x)};if(u){this.getUl().show();return t()}else{return this.getUl().slideDown("fast",t)}}};r.prototype.close=function(u){var t,v=this;if(this.node.is_open){this.node.is_open=false;this.getButton().addClass("closed");t=function(){var w;v.getLi().addClass("closed");w=j.Event("tree.close");w.node=v.node;return v.tree_element.trigger(w)};if(u){this.getUl().hide();return t()}else{return this.getUl().slideUp("fast",t)}}};r.prototype.getButton=function(){return this.$element.children("div").find("a.toggler")};r.prototype.addDropHint=function(t){if(!this.node.is_open&&t===d.INSIDE){return new a(this.$element)}else{return new n(this.node,this.$element,t)}};return r})(h);l=(function(){r.name="DragElement";function r(u,t,s,v){this.offset_x=t;this.offset_y=s;this.$element=j('<span class="title tree-dragging">'+u.name+"</span>");this.$element.css("position","absolute");v.append(this.$element)}r.prototype.move=function(t,s){return this.$element.offset({left:t-this.offset_x,top:s-this.offset_y})};r.prototype.remove=function(){return this.$element.remove()};return r})();this.Tree.Node=m}).call(this);