// Peity jQuery plugin version 0.3.5
// (c) 2010 Ben Pickles
//
// http://benpickles.github.com/peity/
//
// Released under MIT license.
(function(f,k){function l(a,f){var b=k.createElement("canvas");b.setAttribute("width",a);b.setAttribute("height",f);return b}var e=f.fn.peity=function(a,n){k.createElement("canvas").getContext&&this.each(function(){f(this).change(function(){var b=f.extend({},n),d=this;f.each(b||{},function(a,c){f.isFunction(c)&&(b[a]=c.call(d))});var g=f(this).html();e.graphers[a].call(this,f.extend({},e.defaults[a],b));f(this).trigger("chart:changed",g)}).trigger("change")});return this};e.graphers={};e.defaults=
{};e.add=function(a,f,b){e.graphers[a]=b;e.defaults[a]=f};e.add("pie",{colours:["#FFF4DD","#FF9900"],delimeter:"/",radius:16},function(a){var e=f(this),b=a.radius/2,d=e.text().split(a.delimeter),g=parseFloat(d[0]),j=parseFloat(d[1]);d=-Math.PI/2;g=g/j*Math.PI*2;j=l(a.radius,a.radius);var c=j.getContext("2d");c.beginPath();c.moveTo(b,b);c.arc(b,b,b,g+d,g==0?Math.PI*2:d,!1);c.fillStyle=a.colours[0];c.fill();c.beginPath();c.moveTo(b,b);c.arc(b,b,b,d,g+d,!1);c.fillStyle=a.colours[1];c.fill();e.wrapInner(f("<span>").hide()).append(j)});
e.add("line",{colour:"#c6d9fd",strokeColour:"#4d89f9",strokeWidth:1,delimeter:",",height:16,max:null,width:32},function(a){var e=f(this),b=l(a.width,a.height),d=e.text().split(a.delimeter),g=Math.max.apply(Math,d.concat([a.max]));g=a.height/g;var j=a.width/(d.length-1),c=[],h,i=b.getContext("2d");i.beginPath();i.moveTo(0,a.height);for(h=0;h<d.length;h++){var k=h*j,m=a.height-g*d[h];c.push({x:k,y:m});i.lineTo(k,m)}i.lineTo(a.width,a.height);i.fillStyle=a.colour;i.fill();i.beginPath();i.moveTo(0,c[0].y);
for(h=0;h<c.length;h++)i.lineTo(c[h].x,c[h].y);i.lineWidth=a.strokeWidth;i.strokeStyle=a.strokeColour;i.stroke();e.wrapInner(f("<span>").hide()).append(b)});e.add("bar",{colour:"#4D89F9",delimeter:",",height:16,max:null,width:32},function(a){var e=f(this),b=l(a.width,a.height),d=e.text().split(a.delimeter),g=Math.max.apply(Math,d.concat([a.max]));g=a.height/g;var j=a.width/d.length,c=b.getContext("2d");c.fillStyle=a.colour;for(var h=0;h<d.length;h++){var i=g*d[h];c.fillRect(h*j,a.height-i,j,i)}e.wrapInner(f("<span>").hide()).append(b)})})(jQuery,
document);
