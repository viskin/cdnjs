/*!
 * Bootstrap-submenu v1.2.0 (http://vsn4ik.github.io/bootstrap-submenu)
 * Copyright 2014 Vasily A. (https://github.com/vsn4ik)
 * Licensed under MIT (https://github.com/vsn4ik/bootstrap-submenu/blob/master/LICENSE)
 */

"use strict";if("undefined"==typeof jQuery)throw new Error("Bootstrap-submenu requires jQuery");!function(a){function b(b){var c=":not(.disabled, .divider, .dropdown-header)",d=c+":first";this.$element=a(b),this.$menu=this.$element.parent(),this.$dropdown=this.$menu.parent().parent(),this.$menus=this.$menu.siblings(".dropdown-submenu"),this.$prev=this.$menu.prevAll(d).children("a"),this.$next=this.$menu.nextAll(d).children("a");var e=this.$menu.find("> .dropdown-menu > "+c);this.$children=e.filter(".dropdown-submenu"),this.$items=e.not(".dropdown-submenu"),this.init()}b.prototype={init:function(){this.$element.on("click.bs.dropdown",this.click.bind(this)),this.$element.keydown(this.keydown.bind(this)),this.$menu.on("hide.bs.submenu",this.hide.bind(this)),this.$next.keydown(this.next_keydown.bind(this)),this.$items.keydown(this.item_keydown.bind(this))},click:function(a){a.stopPropagation(),this.toggle()},toggle:function(){this.$menu.hasClass("open")?this.close():(this.$menu.addClass("open"),this.$menus.trigger("hide.bs.submenu"))},hide:function(a){a.stopPropagation(),this.close()},close:function(){this.$menu.removeClass("open"),this.$children.trigger("hide.bs.submenu")},keydown:function(a){/^(32|38|40)$/.test(a.keyCode)&&a.preventDefault(),/^(13|32)$/.test(a.keyCode)?this.toggle():/^(27|38|40)$/.test(a.keyCode)&&(a.stopPropagation(),27==a.keyCode?this.$menu.hasClass("open")?this.close():(this.$menus.trigger("hide.bs.submenu"),this.$dropdown.removeClass("open").children("a").focus()):38==a.keyCode?this.$prev.focus():40==a.keyCode&&this.$next.focus())},next_keydown:function(a){38==a.keyCode&&(a.preventDefault(),a.stopPropagation(),this.$element.focus())},item_keydown:function(a){27==a.keyCode&&(a.stopPropagation(),this.close(),this.$element.focus())}},a.fn.submenupicker=function(){return this.each(function(){var c=a.data(this,"bs.submenu");c||(new b(this),a.data(this,"bs.submenu",!0))})}}(jQuery);