/*! line-chart - v0.0.1 - 2013-05-23
* https://github.com/angular-d3/line-chart
* Copyright (c) 2013 Angular D3; Licensed ,  */"use strict";describe("n3-linechart",function(){var e,t,n;beforeEach(module("n3-charts.linechart")),beforeEach(inject(function(n,r){e=angular.element('<div id="toto"><linechart data="data" options="options"></linechart></div>'),t=n,r(e)(t),t.$digest()})),beforeEach(function(){this.addMatchers({toBeSameStyleAs:function(e){var t=this.actual,n=this.isNot?" not":"";this.message=function(){return"Expected "+t+n+" to be same as "+e};var r=e.split(/\s*;\s*/g),i=t.split(/\s*;\s*/g),s=["fill","stroke"];for(var o in r){if(i[o]===undefined)return!1;if(i[o]!==r[o]){var u=i[o].split(/\s*:\s*/),a=r[o].split(/\s*:\s*/);if(s.indexOf(u[0])===-1)return!1;if(d3.rgb(u[1]).toString()!==d3.rgb(a[1]).toString())return!1}}return!0}})}),describe("area series",function(){beforeEach(inject(function(e){spyOn(e,"getDefaultMargins").andReturn({top:20,right:50,bottom:30,left:50})})),beforeEach(function(){t.$apply(function(){t.data=[{x:0,value:4},{x:1,value:8},{x:2,value:15},{x:3,value:16},{x:4,value:23},{x:5,value:42}],t.options={series:[{y:"value",color:"#4682b4",type:"area"}]}})}),it("should properly configure y axis",function(){var t=e.find("svg").children()[0].childNodes[1],n=t.childNodes;expect(n.length).toBe(12),expect(n[0].textContent).toBe("0"),expect(n[10].textContent).toBe("50")}),it("should properly configure x axis",function(){var t=e.find("svg").children()[0].childNodes[0],n=t.childNodes;expect(n.length).toBe(12),expect(n[0].textContent).toBe("0.0"),expect(n[10].textContent).toBe("5.0")}),it("should create 3 elements",function(){var t=e.find("svg").children()[0],n=t.childNodes[4];expect(n.childNodes.length).toBe(3)}),it("should create an area group",function(){var t=e.find("svg").children()[0],n=t.childNodes[4],r=n.childNodes[0];expect(r.getAttribute("class")).toBe("areaGroup series_0"),expect(r.getAttribute("style").trim()).toBeSameStyleAs("fill: #4682b4;");var i=r.childNodes[0];expect(i.getAttribute("class")).toBe("area"),expect(i.getAttribute("d")).toBe("M0,414L161,378L322,315L483,306L644,243L805,72L805,450L644,450L483,450L322,450L161,450L0,450Z")}),it("should create a line group",function(){var t=e.find("svg").children()[0],n=t.childNodes[4],r=n.childNodes[1];expect(r.getAttribute("class")).toBe("lineGroup series_0"),expect(r.getAttribute("style").trim()).toBeSameStyleAs("stroke: #4682b4;")}),it("should create a dots group",function(){var t=e.find("svg").children()[0],n=t.childNodes[4],r=n.childNodes[2];expect(r.nodeName).toBe("g");var i=r.childNodes;expect(i.length).toBe(6);var s=[{x:"0",y:"414"},{x:"161",y:"378"},{x:"322",y:"315"},{x:"483",y:"306"},{x:"644",y:"243"},{x:"805",y:"72"}];for(var o=0;o<i.length;o++)expect(i[o].nodeName).toBe("circle"),expect(i[o].getAttribute("cx")).toBe(s[o].x),expect(i[o].getAttribute("cy")).toBe(s[o].y)})}),describe("chart when initializing",function(){it("should create one svg element",function(){expect(e[0].getAttribute("id")).toBe("toto");var t=e[0].children;expect(t.length).toBe(1),expect(t[0].nodeName).toBe("DIV"),expect(t[0].getAttribute("class")).toBe("chart");var n=t[0].children;expect(n.length).toBe(1),expect(n[0].nodeName).toBe("svg")}),it("should draw two axes by default",function(){var t=e.find("svg").children()[0],n=t.childNodes;expect(n.length).toBe(6),expect(n[0].getAttribute("class")).toBe("x axis"),expect(n[1].getAttribute("class")).toBe("y axis"),expect(n[2].getAttribute("id")).toBe("xTooltip"),expect(n[3].getAttribute("id")).toBe("yTooltip")}),it("should draw three axes whan said so",function(){t.$apply(function(){t.options={series:[{axis:"y",y:"value",color:"#4682b4"},{axis:"y2",y:"value",color:"#4682b4"}]}});var n=e.find("svg").children()[0],r=n.childNodes;expect(r.length).toBe(8),expect(r[0].getAttribute("class")).toBe("x axis"),expect(r[1].getAttribute("class")).toBe("y axis"),expect(r[2].getAttribute("class")).toBe("y2 axis"),expect(r[3].getAttribute("id")).toBe("xTooltip"),expect(r[4].getAttribute("id")).toBe("yTooltip"),expect(r[5].getAttribute("id")).toBe("y2Tooltip")}),xit("should draw data",function(){t.$apply(function(){t.data=[{x:0,value:4,foo:-2},{x:1,value:8,foo:22},{x:2,value:15,foo:-1},{x:3,value:16,foo:0},{x:4,value:23,foo:-3},{x:5,value:42,foo:-4}],t.options={series:[{axis:"y",y:"value",color:"#4682b4",type:"area"},{axis:"y2",y:"foo",color:"steelblue",type:"area"}]}})})}),describe("column series",function(){beforeEach(inject(function(e){spyOn(e,"getDefaultMargins").andReturn({top:20,right:50,bottom:30,left:50})})),beforeEach(function(){t.$apply(function(){t.data=[{x:0,value:4},{x:1,value:8},{x:2,value:15},{x:3,value:16},{x:4,value:23},{x:5,value:42}],t.options={series:[{y:"value",color:"#4682b4",type:"column"}]}})}),it("should properly configure y axis",function(){var t=e.find("svg").children()[0].childNodes[1],n=t.childNodes;expect(n.length).toBe(12),expect(n[0].textContent).toBe("0"),expect(n[10].textContent).toBe("50")}),it("should configure x axis with extra space",function(){var t=e.find("svg").children()[0].childNodes[0],n=t.childNodes;expect(n.length).toBe(9),expect(n[0].textContent).toBe("0"),expect(n[7].textContent).toBe("6")}),it("should create a group",function(){var t=e.find("svg").children()[0],n=t.childNodes[4];expect(n.getAttribute("class")).toBe("content"),expect(n.childNodes.length).toBe(1);var r=n.childNodes[0];expect(r.getAttribute("class")).toBe("columnGroup series_0"),expect(r.getAttribute("style").trim()).toBeSameStyleAs("fill: #4682b4; fill-opacity: 0.8;")}),it("should draw columns",function(){var t=e.find("svg").children()[0],n=t.childNodes[4],r=n.childNodes[0];expect(r.nodeName).toBe("g");var i=r.childNodes;expect(i.length).toBe(6);var s=[{x:"115",y:"414"},{x:"230",y:"378"},{x:"345",y:"315"},{x:"460",y:"306"},{x:"575",y:"243"},{x:"690",y:"72"}];for(var o=0;o<i.length;o++)expect(i[o].nodeName).toBe("rect"),expect(i[o].getAttribute("x")).toBe(s[o].x),expect(i[o].getAttribute("y")).toBe(s[o].y)})}),describe("legend",function(){beforeEach(function(){t.$apply(function(){t.data=[{x:0,value:4},{x:1,value:8}],t.options={series:[{y:"value",color:"#4682b4",label:"toto"},{y:"value",axis:"y2",color:"#4682b4",type:"column"}]}})}),it("create legend elements",function(){var t=e.find("svg").children()[0],n=t.childNodes,r=n[7];expect(r.getAttribute("class")).toBe("legend"),expect(r.childNodes.length).toBe(2);var i=r.childNodes[0];expect(i.getAttribute("class")).toBe("legendItem"),expect(i.childNodes[0].nodeName).toBe("circle"),expect(i.childNodes[0].getAttribute("fill")).toBe("#4682b4");var s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i.childNodes[0].dispatchEvent(s),i.childNodes[0].dispatchEvent(s)})}),describe("lineMode set to cardinal",function(){beforeEach(inject(function(e){spyOn(e,"getDefaultMargins").andReturn({top:20,right:50,bottom:30,left:50})})),beforeEach(function(){t.$apply(function(){t.data=[{x:0,value:4},{x:1,value:8},{x:2,value:15},{x:3,value:16},{x:4,value:23},{x:5,value:42}],t.options={lineMode:"cardinal",series:[{y:"value",color:"#4682b4",type:"area"}]}})}),it("should draw an interpolated area",function(){var t=e.find("svg").children()[0],n=t.childNodes[4],r=n.childNodes[0];expect(r.getAttribute("class")).toBe("areaGroup series_0"),expect(r.getAttribute("style").trim()).toBeSameStyleAs("fill: #4682b4;");var i=r.childNodes[0];expect(i.getAttribute("class")).toBe("area"),expect(i.getAttribute("d")).toBe("M0,414Q128.8,387.9,161,378C209.3,363.15,273.7,325.8,322,315S434.7,316.8,483,306S595.7,278.1,644,243Q676.2,219.6,805,72L805,450Q676.2,450,644,450C595.7,450,531.3,450,483,450S370.3,450,322,450S209.3,450,161,450Q128.8,450,0,450Z")}),it("should draw an interpolated line",function(){var t=e.find("svg").children()[0].childNodes[4],n=t.childNodes[1],r=n.childNodes[0];expect(r.getAttribute("class")).toBe("line"),expect(r.getAttribute("d")).toBe("M0,414Q128.8,387.9,161,378C209.3,363.15,273.7,325.8,322,315S434.7,316.8,483,306S595.7,278.1,644,243Q676.2,219.6,805,72")}),it("should create a dots group with coordinates unchanged",function(){var t=e.find("svg").children()[0],n=t.childNodes[4],r=n.childNodes[2];expect(r.nodeName).toBe("g");var i=r.childNodes;expect(i.length).toBe(6);var s=[{x:"0",y:"414"},{x:"161",y:"378"},{x:"322",y:"315"},{x:"483",y:"306"},{x:"644",y:"243"},{x:"805",y:"72"}];for(var o=0;o<i.length;o++)expect(i[o].nodeName).toBe("circle"),expect(i[o].getAttribute("cx")).toBe(s[o].x),expect(i[o].getAttribute("cy")).toBe(s[o].y)})}),describe("line series",function(){beforeEach(inject(function(e){spyOn(e,"getDefaultMargins").andReturn({top:20,right:50,bottom:30,left:50})})),beforeEach(function(){t.$apply(function(){t.data=[{x:0,value:4},{x:1,value:8},{x:2,value:15},{x:3,value:16},{x:4,value:23},{x:5,value:42}],t.options={series:[{y:"value",color:"#4682b4"}]}})}),it("should properly configure y axis",function(){var t=e.find("svg").children()[0].childNodes[1],n=t.childNodes;expect(n.length).toBe(12),expect(n[0].textContent).toBe("0"),expect(n[10].textContent).toBe("50")}),it("should properly configure x axis",function(){var t=e.find("svg").children()[0].childNodes[0],n=t.childNodes;expect(n.length).toBe(12),expect(n[0].textContent).toBe("0.0"),expect(n[10].textContent).toBe("5.0")}),it("should create a group",function(){var t=e.find("svg").children()[0],n=t.childNodes[4];expect(n.childNodes.length).toBe(2);var r=n.childNodes[0];expect(r.getAttribute("class")).toBe("lineGroup series_0"),expect(r.getAttribute("style").trim()).toBeSameStyleAs("stroke: #4682b4;")}),it("should draw dots",function(){var t=e.find("svg").children()[0],n=t.childNodes[4],r=n.childNodes[1];expect(r.nodeName).toBe("g");var i=r.childNodes;expect(i.length).toBe(6);var s=[{x:"0",y:"414"},{x:"161",y:"378"},{x:"322",y:"315"},{x:"483",y:"306"},{x:"644",y:"243"},{x:"805",y:"72"}];for(var o=0;o<i.length;o++)expect(i[o].nodeName).toBe("circle"),expect(i[o].getAttribute("cx")).toBe(s[o].x),expect(i[o].getAttribute("cy")).toBe(s[o].y)}),it("should draw a line",function(){var t=e.find("svg").children()[0].childNodes[4],n=t.childNodes[0],r=n.childNodes[0];expect(r.getAttribute("class")).toBe("line"),expect(r.getAttribute("d")).toBe("M0,414L161,378L322,315L483,306L644,243L805,72")})}),describe("n3utils",function(){describe("getBestColumnWidth",function(){it("should handle no data",inject(function(e){expect(e.getBestColumnWidth({},[])).toBe(10)}))}),describe("sanitizeOptions",function(){it("should return default options when given null or undefined",inject(function(e){expect(e.sanitizeOptions()).toEqual({lineMode:"linear",axes:{x:{type:"linear"},y:{}},series:[]})})),it("should set default axes and empty series",inject(function(e){expect(e.sanitizeOptions({})).toEqual({lineMode:"linear",axes:{x:{type:"linear"},y:{}},series:[]})})),it("should set default x axis type to linear",inject(function(e){expect(e.sanitizeOptions({lineMode:"linear",axes:{x:{},y:{}},series:[]})).toEqual({lineMode:"linear",axes:{x:{type:"linear"},y:{}},series:[]})})),it("should set default y axis",inject(function(e){expect(e.sanitizeOptions({lineMode:"linear",axes:{x:{}},series:[]})).toEqual({lineMode:"linear",axes:{x:{type:"linear"},y:{}},series:[]})})),it("should set default x axis",inject(function(e){expect(e.sanitizeOptions({lineMode:"linear",axes:{},series:[]})).toEqual({lineMode:"linear",axes:{x:{type:"linear"},y:{}},series:[]})}))}),it("should compute data per series",inject(function(e){var t=[{x:0,foo:4.154,value:4},{x:1,foo:8.15485,value:8}],n=function(e){return""},r={axes:{x:{tooltipFormatter:n}},series:[{y:"value",axis:"y2",color:"steelblue"},{y:"foo",color:"red",type:"area"}]},i=[{xFormatter:n,name:"value",color:"steelblue",axis:"y2",type:"line",index:0,values:[{x:0,value:4,axis:"y2"},{x:1,value:8,axis:"y2"}]},{xFormatter:n,name:"foo",color:"red",axis:"y",type:"area",index:1,values:[{x:0,value:4.154,axis:"y"},{x:1,value:8.15485,axis:"y"}]}],s=e.getDataPerSeries(t,r);expect(s).toEqual(i)})),it("should compute the widest y value",inject(function(e){var t=[{x:0,foo:4.154,value:4},{x:1,foo:8.15485,value:8},{x:2,foo:1.1548578,value:15},{x:3,foo:1.154,value:16},{x:4,foo:2.45,value:23},{x:5,foo:4,value:42}],n=[{y:"value"}];expect(e.getWidestOrdinate(t,n)).toBe(15),n=[{y:"value"},{y:"foo"}],expect(e.getWidestOrdinate(t,n)).toBe(1.1548578)})),describe("adjustMargins",function(){beforeEach(inject(function(e){spyOn(e,"getDefaultMargins").andReturn({top:20,right:50,bottom:30,left:50})})),it("should return default margins for no series",inject(function(e){var t=[{x:0,foo:4.154,value:4},{x:1,foo:8.15485,value:8},{x:2,foo:1.1548578,value:15},{x:3,foo:1.154,value:16},{x:4,foo:2.45,value:23},{x:5,foo:4,value:42}],n={left:10,right:10},r={series:[]};e.adjustMargins(n,r,t),expect(n).toEqual({left:45,right:50,top:20,bottom:30})})),it("should adjust margins for one left series",inject(function(e){var t=[{x:0,foo:4.154,value:4},{x:1,foo:8.15485,value:8},{x:2,foo:1.1548578,value:15},{x:3,foo:1.154,value:16},{x:4,foo:2.45,value:23},{x:5,foo:4,value:42}],n={left:10,right:10},r={series:[{y:"value"}]};e.adjustMargins(n,r,t),expect(n).toEqual({left:45,right:50,top:20,bottom:30})})),it("should adjust margins for two left series",inject(function(e){var t=[{x:0,foo:4.154,value:4},{x:1,foo:8.15485,value:8},{x:2,foo:1.1548578,value:15},{x:3,foo:1.154,value:16},{x:4,foo:2.45,value:23},{x:5,foo:4,value:42}],n={left:10,right:10},r={series:[{y:"value"},{y:"foo"}]};e.adjustMargins(n,r,t),expect(n).toEqual({left:80.30000000000001,right:50,top:20,bottom:30})})),it("should adjust margins for one left series and one right series",inject(function(e){var t=[{x:0,foo:4.154,value:4},{x:1,foo:8.15485,value:8},{x:2,foo:1.1548578,value:15},{x:3,foo:1.154,value:16},{x:4,foo:2.45,value:23},{x:5,foo:4,value:42}],n={left:10,right:10},r={series:[{y:"value"},{axis:"y2",y:"foo"}]};e.adjustMargins(n,r,t),expect(n).toEqual({left:45,right:80.30000000000001,top:20,bottom:30})}))})}),describe("resize features",function(){beforeEach(inject(function(r,i){e=angular.element('<div id="toto"><linechart></linechart></div>'),t=r,i(e)(t),n=angular.element(e.children()[0]).scope(),spyOn(n,"redraw"),spyOn(n,"update").andCallThrough(),t.$digest()})),it("should update when $window resize",inject(function(e){var t=document.createEvent("HTMLEvents");t.initEvent("resize",!0,!1),e.dispatchEvent(t)})),it("should pass the new dimensions to redraw when $window is resized ",inject(function(e){spyOn(n,"updateDimensions").andCallFake(function(e){e.width=120,e.height=50});var t=document.createEvent("HTMLEvents");t.initEvent("resize",!0,!1),e.dispatchEvent(t)}))}),describe("with a second axis",function(){beforeEach(inject(function(e){spyOn(e,"getDefaultMargins").andReturn({top:20,right:50,bottom:30,left:50})})),beforeEach(function(){t.$apply(function(){t.data=[{x:0,value:4,foo:-2},{x:1,value:8,foo:22},{x:2,value:15,foo:-1},{x:3,value:16,foo:0},{x:4,value:23,foo:-3},{x:5,value:42,foo:-4}],t.options={series:[{axis:"y",y:"value",color:"#4682b4",type:"area"},{axis:"y2",y:"foo",color:"steelblue",type:"area"}]}})}),it("should configure y axis only with y series",function(){var t=e.find("svg").children()[0].childNodes[1],n=t.childNodes;expect(n.length).toBe(12),expect(n[0].textContent).toBe("0"),expect(n[10].textContent).toBe("50")}),it("should properly configure y2 axis",function(){var t=e.find("svg").children()[0].childNodes[2],n=t.childNodes;expect(n.length).toBe(15),expect(n[0].textContent).toBe("0"),expect(n[10].textContent).toBe("16")}),it("should draw two lines",function(){var t=e.find("svg").children()[0].childNodes[6],n=t.childNodes[2].childNodes[0];expect(n.getAttribute("class")).toBe("line"),expect(n.getAttribute("d")).toBe("M0,414L162,378L324,315L486,306L648,243L810,72");var r=t.childNodes[3].childNodes[0];expect(r.getAttribute("class")).toBe("line"),expect(r.getAttribute("d")).toBe("M0,415L162,0L324,398L486,381L648,433L810,450")}),it("should draw y area",function(){var t=e.find("svg").children()[0].childNodes[6],n=t.childNodes[0];expect(n.getAttribute("class")).toBe("areaGroup series_0"),expect(n.getAttribute("style").trim()).toBeSameStyleAs("fill: #4682b4;");var r=n.childNodes[0];expect(r.getAttribute("class")).toBe("area"),expect(r.getAttribute("d")).toBe("M0,414L162,378L324,315L486,306L648,243L810,72L810,450L648,450L486,450L324,450L162,450L0,450Z")}),it("should draw y2 area",function(){var t=e.find("svg").children()[0].childNodes[6],n=t.childNodes[1];expect(n.getAttribute("class")).toBe("areaGroup series_1"),expect(n.getAttribute("style").trim()).toBeSameStyleAs("fill: #4682b4;");var r=n.childNodes[0];expect(r.getAttribute("class")).toBe("area"),expect(r.getAttribute("d")).toBe("M0,415L162,0L324,398L486,381L648,433L810,450L810,381L648,381L486,381L324,381L162,381L0,381Z")}),it("should draw y axis dots",function(){var t=e.find("svg").children()[0].childNodes[6],n=t.childNodes[4];expect(n.nodeName).toBe("g");var r=n.childNodes;expect(r.length).toBe(6);var i=[{x:"0",y:"414"},{x:"162",y:"378"},{x:"324",y:"315"},{x:"486",y:"306"},{x:"648",y:"243"},{x:"810",y:"72"}];for(var s=0;s<r.length;s++)expect(r[s].nodeName).toBe("circle"),expect(r[s].getAttribute("cx")).toBe(i[s].x),expect(r[s].getAttribute("cy")).toBe(i[s].y)}),it("should draw y2 axis dots",function(){var t=e.find("svg").children()[0].childNodes[6],n=t.childNodes[5];expect(n.nodeName).toBe("g");var r=n.childNodes;expect(r.length).toBe(6);var i=[{x:"0",y:"415"},{x:"162",y:"0"},{x:"324",y:"398"},{x:"486",y:"381"},{x:"648",y:"433"},{x:"810",y:"450"}];for(var s=0;s<r.length;s++)expect(r[s].nodeName).toBe("circle"),expect(r[s].getAttribute("cx")).toBe(i[s].x),expect(r[s].getAttribute("cy")).toBe(i[s].y)})}),describe("thumbnail when initializing",function(){beforeEach(inject(function(n,r){e=angular.element('<div id="toto"><linechart mode="thumbnail"></linechart></div>'),t=n,r(e)(t),t.$digest()})),it("should create one svg element",function(){expect(e[0].getAttribute("id")).toBe("toto");var t=e[0].children;expect(t.length).toBe(1),expect(t[0].nodeName).toBe("DIV"),expect(t[0].getAttribute("class")).toBe("chart");var n=t[0].children;expect(n.length).toBe(1),expect(n[0].nodeName).toBe("svg")}),it("should draw zero axes",function(){var t=e.find("svg").children()[0],n=t.childNodes;expect(n.length).toBe(1)})}),describe("time series",function(){beforeEach(function(){var e=1369145776795;t.$apply(function(){t.data=[{x:new Date(e+0),value:4,foo:-2},{x:new Date(e+3600),value:8,foo:22},{x:new Date(e+7200),value:15,foo:-1},{x:new Date(e+10800),value:16,foo:0},{x:new Date(e+14400),value:23,foo:-3},{x:new Date(e+18e3),value:42,foo:-4}],t.options={axes:{x:{type:"date"}},series:[{axis:"y",y:"value",color:"#4682b4",type:"column"},{axis:"y2",y:"foo",color:"steelblue",type:"area"}]}})}),it("should properly configure x axis",function(){var t=e.find("svg").children()[0].childNodes[0],n=t.childNodes;expect(n.length).toBe(6),expect(n[0].textContent).toBe(":15"),expect(n[4].textContent).toBe(":35")})}),describe("tooltip",function(){var n;beforeEach(function(){t.$apply(function(){t.data=[{x:0,value:4},{x:1,value:8}],n=jasmine.createSpy("tooltipFormatter").andReturn("pouet"),t.options={axes:{x:{tooltipFormatter:n}},series:[{y:"value",color:"#4682b4"},{y:"value",axis:"y2",color:"#4682b4",type:"column"}]}})}),it("should show/hide the tooltip when hovering/leaving a left axis dot",function(){var t=e.find("svg").children()[0],r=t.childNodes,i=r[6].childNodes[2];expect(i.getAttribute("class")).toBe("dotGroup series_0");var s=r[3];expect(s.getAttribute("id")).toBe("xTooltip");var o=document.createEvent("MouseEvents");o.initMouseEvent("mouseover",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(o),o.initMouseEvent("mouseout",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(o),expect(n).toHaveBeenCalled()}),it("should work when no x-formatter is found",function(){t.$apply(function(){t.options={series:[{y:"value",color:"#4682b4"},{y:"value",axis:"y2",color:"#4682b4",type:"column"}]}});var n=e.find("svg").children()[0],r=n.childNodes,i=r[6].childNodes[2];expect(i.getAttribute("class")).toBe("dotGroup series_0");var s=r[3];expect(s.getAttribute("id")).toBe("xTooltip");var o=document.createEvent("MouseEvents");o.initMouseEvent("mouseover",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(o),o.initMouseEvent("mouseout",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(o)}),it("should show/hide the tooltip when hovering/leaving a right axis column",function(){var t=e.find("svg").children()[0],n=t.childNodes,r=n[6].childNodes[0];expect(r.getAttribute("class")).toBe("columnGroup series_1");var i=n[3];expect(i.getAttribute("id")).toBe("xTooltip");var s=document.createEvent("MouseEvents");s.initMouseEvent("mouseover",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(s),s.initMouseEvent("mouseout",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(s)})})});