/*** Respond to idle users in AngularJS
* @version v0.2.2
* @link http://hackedbychinese.github.io/ng-idle
* @license MIT License, http://www.opensource.org/licenses/MIT
*/
!function(a,b){"use strict";function c(){function a(a){if(!a)throw new Error("Argument must be a string containing a URL, or an object containing the HTTP request configuration.");b.isString(a)&&(a={url:a,method:"GET"}),a.cache=!1,e.http=a}function c(a){if(a=parseInt(a),isNaN(a)||0>=a)throw new Error("Interval must be expressed in seconds and be greater than 0.");e.interval=a}function d(a,c,d,f){function g(b,c,d){a.$broadcast("$keepaliveResponse",b,c),d||h()}function h(){j.ping=d(i,1e3*e.interval)}function i(c){a.$broadcast("$keepalive"),b.isObject(e.http)?f(e.http).success(function(a,b){g(a,b,c)}).error(function(a,b){g(a,b,c)}):c||h()}var j={ping:null};return{_options:function(){return e},start:function(){d.cancel(j.ping),h()},stop:function(){d.cancel(j.ping)},ping:function(){i(!0)}}}var e={httpOptions:null,interval:600};this.httpOptions=a,this.interval=c,this.$get=d,d.inject=["$rootScope","$log","$timeout","$http"]}function d(){function a(a){g.events=a}function b(a){if(0>=a)throw new Error("idleDuration must be a value in seconds, greater than 0.");g.idleDuration=a}function c(a){if(0>a)throw new Error("warning must be a value in seconds, greatner than 0.");g.warningDuration=a}function d(a){g.autoResume=a===!0}function e(a){g.keepalive=a===!0}function f(a,b,c,d,e){function f(){g.keepalive&&(k.running&&e.ping(),e.start())}function h(){g.keepalive&&e.stop()}function i(){k.idling=!k.idling;var a=k.idling?"Start":"End";c.$broadcast("$idle"+a),k.idling?(h(),k.countdown=g.warningDuration,j()):f()}function j(){k.countdown<=0?c.$broadcast("$idleTimeout"):(c.$broadcast("$idleWarn",k.countdown),k.warning=a(j,1e3)),k.countdown--}var k={idle:null,warning:null,idling:!1,running:!1,countdown:null},l={_options:function(){return g},running:function(){return k.running},idling:function(){return k.idling},watch:function(){a.cancel(k.idle),a.cancel(k.warning),k.idling?i():k.running||f(),k.running=!0,k.idle=a(i,1e3*g.idleDuration)},unwatch:function(){a.cancel(k.idle),a.cancel(k.warning),k.idling=!1,k.running=!1}},m=function(){k.running&&g.autoResume&&l.watch()};return d.find("body").on(g.events,m),l}var g={idleDuration:1200,warningDuration:30,autoResume:!0,events:"mousemove keydown DOMMouseScroll mousewheel mousedown touchstart",keepalive:!0};this.activeOn=a,this.idleDuration=b,this.warningDuration=c,this.autoResume=d,this.keepalive=e,this.$get=f,f.$inject=["$timeout","$log","$rootScope","$document","$keepalive"]}var e=b.module("ngIdle.idle",[]),f=b.module("ngIdle.keepalive",[]);b.module("ngIdle",["ngIdle.keepalive","ngIdle.idle"]),f.provider("$keepalive",c),e.provider("$idle",d)}(window,window.angular);
//# sourceMappingURL=angular-idle.map