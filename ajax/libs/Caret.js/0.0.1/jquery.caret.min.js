(function(){!function(t){return"function"==typeof define&&define.amd?define(["jquery"],t):t(window.jQuery)}(function(t){"use strict";var e,o,r,n;return n="caret",e=function(){function e(t){this.$inputor=t,this.domInputor=this.$inputor[0]}return e.prototype.getPos=function(){var t,e,o,r,n,i,s,c,a;return o=this.domInputor,o.focus(),document.selection?(s=document.selection.createRange(),i=0,s&&s.parentElement()===o&&(n=o.value.replace(/\r\n/g,"\n"),r=n.length,a=o.createTextRange(),a.moveToBookmark(s.getBookmark()),e=o.createTextRange(),e.collapse(!1),a.compareEndPoints("StartToEnd",e)>-1?c=t=r:(c=-a.moveStart("character",-r),t=-a.moveEnd("character",-r)))):c=o.selectionStart,c},e.prototype.setPos=function(t){var e,o;return e=this.domInputor,document.selection?(o=e.createTextRange(),o.move("character",t),o.select()):e.setSelectionRange(t,t)},e.prototype.getPosition=function(t){var e,r,n,i,s,c,a,p,u;return e=this.$inputor,n=function(t){return t.replace(/</g,"&lt").replace(/>/g,"&gt").replace(/`/g,"&#96").replace(/"/g,"&quot").replace(/\r\n|\r|\n/g,"<br />")},void 0===t&&(t=this.getPos()),a=e.val().slice(0,t),s="<span>"+n(a)+"</span>",s+="<span id='caret'>|</span>",c=new o(e),r=c.create(s).rect(),p=r.left-e.scrollLeft(),u=r.top-e.scrollTop(),i=r.height,{left:p,top:u,height:i}},e.prototype.getOffset=function(t){var e,o,r,n,i,s;return e=this.$inputor,r=e.offset(),n=this.getPosition(t),i=r.left+n.left,s=r.top+n.top,o=n.height,{left:i,top:s,height:o}},e.prototype.getIEPosition=function(t){var e,o,r,n,i;return r=this.getIEOffset(t),o=this.$inputor.offset(),n=r.left-o.left,i=r.top-o.top,e=r.height,{left:n,top:i,height:e}},e.prototype.getIEOffset=function(e){var o,r,n,i,s;return n=this.domInputor.createTextRange(),e?n.move("character",e):(r=document.selection.createRange(),n.moveToBookmark(r.getBookmark())),i=n.boundingLeft+this.$inputor.scrollLeft(),s=n.boundingTop+t(window).scrollTop()+this.$inputor.scrollTop(),o=n.boundingHeight,{left:i,top:s,height:o}},e}(),o=function(){function e(t){this.$inputor=t}return e.prototype.css_attr=["overflowY","height","width","paddingTop","paddingLeft","paddingRight","paddingBottom","marginTop","marginLeft","marginRight","marginBottom","fontFamily","borderStyle","borderWidth","wordWrap","fontSize","lineHeight","overflowX","text-align"],e.prototype.mirrorCss=function(){var e,o=this;return e={position:"absolute",left:-9999,top:0,zIndex:-2e4,"white-space":"pre-wrap"},t.each(this.css_attr,function(t,r){return e[r]=o.$inputor.css(r)}),e},e.prototype.create=function(e){return this.$mirror=t("<div></div>"),this.$mirror.css(this.mirrorCss()),this.$mirror.html(e),this.$inputor.after(this.$mirror),this},e.prototype.rect=function(){var t,e,o;return t=this.$mirror.find("#caret"),e=t.position(),o={left:e.left,top:e.top,height:t.height()},this.$mirror.remove(),o},e}(),r={pos:function(t){return t?this.setPos(t):this.getPos()},position:function(t){return document.selection?this.getIEPosition(t):this.getPosition(t)},offset:function(t){return document.selection?this.getIEOffset(t):this.getOffset(t)}},t.fn.caret=function(o){var n;return n=new e(this),r[o]?r[o].apply(n,Array.prototype.slice.call(arguments,1)):t.error("Method "+o+" does not exist on jQuery.caret")}})}).call(this);
//# sourceMappingURL=./0.0.1/jquery.caret.min.js.map