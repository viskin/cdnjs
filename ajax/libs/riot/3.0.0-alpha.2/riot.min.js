/* Riot v3.0.0-alpha.2, @license MIT, (c) 2015 Muut Inc. + contributors */
!function(t,e){"use strict";function n(t,e,n){var r={};return r[t.key]=e,t.pos&&(r[t.pos]=n),r}function r(t,e){for(var n,r=e.length,i=t.length;r>i;)n=e[--r],e.splice(r,1),n.unmount()}function i(t,e){Object.keys(t.tags).forEach(function(n){var r=t.tags[n];O(r)?g(r,function(t){N(t,n,e)}):N(r,n,e)})}function o(t,e,o){v(t,"each");var a,s=typeof x(t,"no-reorder")!==J||v(t,"no-reorder"),c=L(t),f=Q[c]||{tmpl:t.outerHTML},l=rt.test(c),p=t.parentNode,d=document.createTextNode(""),g=w(t),h=/^option$/i.test(c),m=[],y=[],b="VIRTUAL"==t.tagName;return o=ut.loopKeys(o),o.isLoop=!0,p.insertBefore(d,t),e.one("before-mount",function(){t.parentNode.removeChild(t),p.stub&&(p=e.root)}),o.update=function(){var v=ut(o.val,e),x=document.createDocumentFragment();O(v)||(a=v||!1,v=a?Object.keys(v).map(function(t){return n(o,t,v[t])}):[]),v.forEach(function(r,d){var h,v=s&&r instanceof Object,w=y.indexOf(r),_=~w&&v?w:d,N=m[_];r=!a&&o.key?n(o,r,d):r,!v&&!N||v&&!~w||!N?(N=new u(f,{parent:e,isLoop:!0,hasImpl:!!Q[c],root:l?p:t.cloneNode(),item:r},t.innerHTML),N.mount(),h=N.stub||N.root,d==m.length?b?q(N,x):x.appendChild(h):(b?q(N,p,m[d]):p.insertBefore(h,m[d].root),y.splice(d,0,r)),m.splice(d,0,N),_=d):N.update(r),_!==d&&v&&(b?U(N,p,m[d]):p.insertBefore(N.root,m[d].root),o.pos&&(N[o.pos]=d),m.splice(d,0,m.splice(_,1)[0]),y.splice(d,0,y.splice(_,1)[0]),!g&&N.tags&&i(N,d)),N._item=r,T(N,"_parent",e)}),r(v,m),h?p.appendChild(x):p.insertBefore(x,d),g&&(e.tags[c]=m),y=v.slice()},o}function a(t,e,n){var r={parent:{children:n}};$(t,function(n,r){var i,a,u=n.nodeType,s=r.parent;if(3==u&&"STYLE"!=n.parentNode.tagName&&ut.hasExpr(n.nodeValue)&&s.children.push({dom:n,expr:n.nodeValue}),1!=u)return r;if(i=x(n,"each"))return s.children.push(o(n,e,i)),!1;(a=x(n,"if"))&&(v(n,"if"),i={isIf:!0,expr:a,dom:n,children:[]},s.children.push(i),s=i),(a=F(n))&&s.children.push({isNamed:!0,dom:n,expr:a});var c=[],f=!1;g(n.attributes,function(t){var e=t.name,r=e.split("__")[1],i=ut.hasExpr(t.value);return"if"!==e&&("name"===e&&i&&(f=!0),a={dom:n,expr:t.value,attr:r||t.name,bool:r},c.push(a),i)?(s.children.push(a),r?(v(n,e),!1):void 0):void 0});var l=w(n);return l&&n!==t?(i={dom:n,impl:l,isTag:!0,ownAttrs:c,nameHasExpression:f},"VIRTUAL"==n.tagName&&(i.isVirtual=!0),s.children.push(i),!1):{parent:s}},r)}function u(t,n,r){function i(){var t=m&&d?c:p||c;x?g(x||[],function(t){var e=t.hasOwnProperty("value")?t.value:t.expr;l[y(t.attr)]=e}):g(N.attributes,function(e){var n=e.value,r=ut.hasExpr(n);r&&x||(l[y(e.name)]=r?ut(n,t):n)})}function o(t){for(var e in w)typeof c[e]!==et&&R(c,e)&&(c[e]=t[e])}function u(){c.parent&&d&&g(Object.keys(c.parent),function(t){var e=!A(it,t)&&A(H,t);(typeof c[t]===et||e)&&(e||H.push(t),c[t]=c.parent[t])})}var s,c=z.observable(this),l=B(n.opts)||{},p=n.parent,d=n.isLoop,m=n.hasImpl,x=n.ownAttrs,w=M(n.item),_=[],N=n.root,E=t.fn,L=N.tagName.toLowerCase(),$={},k={},H=[];E&&N._tag&&N._tag.unmount(!0),this.isMounted=!1,N.isLoop=d,N._tag=this,T(this,"_riot_id",++Z),S(this,{parent:p,root:N,opts:l,tags:{}},w),g(N.attributes,function(t){var e=t.value;ut.hasExpr(e)&&($[t.name]=e)}),s=st(t,r,k),k=k.attrs||"",T(this,"update",function(t){return t=M(t),u(),t&&typeof w===tt&&(o(t),w=t),S(c,t),i(),c.trigger("update",t),f(_,c),ft(function(){c.trigger("updated")}),this}),T(this,"mixin",function(){return g(arguments,function(t){var e;t=typeof t===J?z.mixin(t):t,h(t)?(e=new t,t=t.prototype):e=t,g(Object.getOwnPropertyNames(t),function(t){"init"!=t&&(c[t]=h(e[t])?e[t].bind(c):e[t])}),e.init&&e.init.bind(c)()}),this}),T(this,"mount",function(){i();var t=z.mixin(W);if(t&&c.mixin(t),E&&E.call(c,l),(k||m)&&(j(k,function(t,e){b(N,t,e)}),a(c.root,c,_)),a(s,c,_),p&&p.on("unmount",c.unmount),(!c.parent||d)&&c.update(w),c.trigger("before-mount"),d&&!m)c.root=N=s.firstChild;else{for(;s.firstChild;)N.appendChild(s.firstChild);N.stub&&(c.root=N=p.root)}!c.parent||c.parent.isMounted?(c.isMounted=!0,c.trigger("mount")):c.parent.one("mount",function(){I(c.root)||(c.parent.isMounted=c.isMounted=!0,c.trigger("mount"))})}),T(this,"unmount",function(t){var n,r=N,i=r.parentNode,o=G.indexOf(c);if(c.trigger("before-unmount"),~o&&G.splice(o,1),this._virts&&g(this._virts,function(t){t.parentNode&&t.parentNode.removeChild(t)}),i){if(p)n=C(p),O(n.tags[L])?g(n.tags[L],function(t,e){t._riot_id==c._riot_id&&n.tags[L].splice(e,1)}):n.tags[L]=e;else for(;r.firstChild;)r.removeChild(r.firstChild);t?v(i,"riot-tag"):i.removeChild(r)}c.trigger("unmount"),p&&p.off("unmount",c.unmount),c.off("*"),c.isMounted=!1,delete N._tag})}function s(e,n,r,i){r[e]=function(e){var o,a=i._parent,u=i._item;if(!u)for(;a&&!u;)u=a._item,a=a._parent;e=e||t.event,R(e,"currentTarget")&&(e.currentTarget=r),R(e,"target")&&(e.target=e.srcElement),R(e,"which")&&(e.which=e.charCode||e.keyCode),e.item=u,n.call(i,e)===!0||/radio|check/.test(r.type)||(e.preventDefault&&e.preventDefault(),e.returnValue=!1),e.preventUpdate||(o=u?C(a):i,o.update())}}function c(t,e,n){t&&(t.insertBefore(n,e),t.removeChild(e))}function f(t,e){g(t,function(t,n){var r=t.dom,i=t.attr,o=ut(t.expr,e),a=r&&r.parentNode;t.bool?o=o?i:!1:null==o&&(o=""),a&&"TEXTAREA"==a.tagName&&(o=(""+o).replace(/riot-/g,""),a.value=o);var u=t.value;if(t.value=o,t.isIf)return d(t,u,o,e);if(t.isTag)return p(t,e);if(t.isLoop)return t.update();if(t.isNamed)return l(t,u,o,e);if(u!==o){if(!i)return void(r.nodeValue=""+o);if(v(r,i),h(o))s(i,o,r,e);else if(/^(show|hide)$/.test(i))"hide"==i&&(o=!o),r.style.display=o?"":"none";else if("value"==i)r.value=o;else if(K(i,X)&&i!=Y)o&&b(r,i.slice(X.length),o);else{if("selected"==i&&a&&/^(SELECT|OPTGROUP)$/.test(a.nodeName)&&o&&(a.value=r.value),t.bool&&(r[i]=o,!o))return;(0===o||o&&typeof o!==tt)&&b(r,i,o)}}})}function l(t,e,n,r){if(!t.done){var i=C(r);D(t.dom,i,n),t.done=!0}}function p(t,e){if(t.tag)return void t.tag.update();var n={root:t.dom,parent:e,hasImpl:!0,ownAttrs:t.ownAttrs};if(t.tag=E(t.impl,n,t.dom.innerHTML,e,t.nameHasExpression),t.tag.mount(),t.isVirtual){var r=document.createDocumentFragment();q(t.tag,r),t.tag.root.parentElement.replaceChild(r,t.tag.root)}t.tag.update()}function d(t,e,n,r){if(t.started&&!n==!e)return void(n&&f(t.children,r));var i,o=t.dom;i=t.stub=t.stub||document.createTextNode(""),n?(f(t.children,r),c(i.parentNode,i,o)):o.parentNode?c(o.parentNode,o,i):r.stub=i,t.started=!0}function g(t,e){for(var n,r=t?t.length:0,i=0;r>i;i++)n=t[i],null!=n&&e(n,i)===!1&&i--;return t}function h(t){return typeof t===nt||!1}function m(t){return typeof t===tt||!1}function v(t,e){t.removeAttribute(e)}function y(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})}function x(t,e){return t.getAttribute(e)}function b(t,e,n){t.setAttribute(e,n)}function w(t){return t.tagName&&Q[x(t,Y)||t.tagName.toLowerCase()]}function _(t,e,n){var r=n.tags[e];r?(O(r)||r!==t&&(n.tags[e]=[r]),A(n.tags[e],t)||n.tags[e].push(t)):n.tags[e]=t}function N(t,e,n){var r,i=t.parent;i&&(r=i.tags[e],O(r)?r.splice(n,0,r.splice(r.indexOf(t),1)[0]):_(t,e,i))}function E(t,e,n,r,i){var o=new u(t,e,n),a=L(e.root,i),s=C(r);return o.parent=s,o._parent=r,_(o,a,s),s!==r&&_(o,a,r),e.root.innerHTML="",o}function C(t){for(var e=t;!w(e.root)&&e.parent;)e=e.parent;return e}function T(t,e,n,r){return Object.defineProperty(t,e,S({value:n,enumerable:!1,writable:!1,configurable:!1},r)),t}function L(t,e){var n=w(t),r=!e&&x(t,"name"),i=r&&!ut.hasExpr(r)?r:n?n.name:t.tagName.toLowerCase();return i}function S(t){for(var e,n=arguments,r=1;r<n.length;++r)if(e=n[r])for(var i in e)R(t,i)&&(t[i]=e[i]);return t}function A(t,e){return~t.indexOf(e)}function O(t){return Array.isArray(t)||t instanceof Array}function R(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return typeof t[e]===et||n&&n.writable}function M(t){if(!(t instanceof u||t&&typeof t.trigger==nt))return t;var e={};for(var n in t)A(it,n)||(e[n]=t[n]);return e}function $(t,e,n){if(t){var r=e(t,n);if(r===!1)return;for(t=t.firstChild;t;)$(t,e,r),t=t.nextSibling}}function j(t,e){for(var n,r=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g;n=r.exec(t);)e(n[1].toLowerCase(),n[2]||n[3]||n[4])}function I(t){for(;t;){if(t.inStub)return!0;t=t.parentNode}return!1}function k(t){return document.createElement(t)}function H(t,e){return(e||document).querySelectorAll(t)}function P(t,e){return(e||document).querySelector(t)}function B(t){function e(){}return e.prototype=t,new e}function F(t){return x(t,"id")||x(t,"name")}function D(t,e,n){if(n=n||F(t)){var r=e[n],i=O(r);r?(!i||i&&!A(r,t))&&(i?r.push(t):e[n]=[r,t]):e[n]=t}}function K(t,e){return t.slice(0,e.length)===e}function V(t,e,n){var r=Q[e],i=t._innerHTML=t._innerHTML||t.innerHTML;return t.innerHTML="",r&&t&&(r=new u(r,{root:t,opts:n},i)),r&&r.mount&&(r.mount(),A(G,r)||G.push(r)),r}function q(t,e,n){var r,i,o=document.createTextNode(""),a=document.createTextNode("");for(t._head=t.root.insertBefore(o,t.root.firstChild),t._tail=t.root.appendChild(a),i=t._head,t._virts=[];i;)r=i.nextSibling,n?e.insertBefore(i,n._head):e.appendChild(i),t._virts.push(i),i=r}function U(t,e,n){for(var r,i=t._head;i;)if(r=i.nextSibling,e.insertBefore(i,n._head),i=r,i==t._tail){e.insertBefore(i,n._head);break}}var z={version:"v3.0.0-alpha.2",settings:{}},Z=0,G=[],Q={},W="__global_mixin",X="riot-",Y=X+"tag",J="string",tt="object",et="undefined",nt="function",rt=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,it=["_item","_id","_parent","update","root","mount","unmount","mixin","isMounted","isLoop","tags","parent","opts","trigger","on","off","one"],ot=0|(t&&t.document||{}).documentMode;z.observable=function(t){t=t||{};var e={},n=Array.prototype.slice,r=function(t,e){t.replace(/\S+/g,e)},i=function(e,n){Object.defineProperty(t,e,{value:n,enumerable:!1,writable:!1,configurable:!1})};return i("on",function(n,i){return"function"!=typeof i?t:(r(n,function(t,n){(e[t]=e[t]||[]).push(i),i.typed=n>0}),t)}),i("off",function(n,i){return"*"!=n||i?r(n,function(t){if(i)for(var n,r=e[t],o=0;n=r&&r[o];++o)n==i&&r.splice(o--,1);else delete e[t]}):e={},t}),i("one",function(e,n){function r(){t.off(e,r),n.apply(t,arguments)}return t.on(e,r)}),i("trigger",function(i){var o,a=n.call(arguments,1);return r(i,function(r){o=n.call(e[r]||[],0);for(var i,u=0;i=o[u];++u){if(i.busy)return;i.busy=1,i.apply(t,i.typed?[r].concat(a):a),o[u]!==i&&u--,i.busy=0}e["*"]&&"*"!=r&&t.trigger.apply(t,["*",r].concat(a))}),t}),t},function(e){function n(t){return t.split(/[\/?#]/)}function r(t,e){var n=new RegExp("^"+e[E](/\*/g,"([^/?#]+?)")[E](/\.\./,".*")+"$"),r=t.match(n);return r?r.slice(1):void 0}function i(t,e){var n;return function(){clearTimeout(n),n=setTimeout(t,e)}}function o(t){g=i(l,1),A[_](C,g),A[_](T,g),O[_](j,p),t&&l(!0)}function a(){this.$=[],e.observable(this),k.on("stop",this.s.bind(this)),k.on("emit",this.e.bind(this))}function u(t){return t[E](/^\/|\/$/,"")}function s(t){return"string"==typeof t}function c(t){return(t||M.href||"")[E](x,"")}function f(t){return"#"==h[0]?(t||M.href||"").split(h)[1]||"":c(t)[E](h,"")}function l(t){var e=0==B;if(!(B>=S)&&(B++,P.push(function(){var e=f();(t||e!=m)&&(k[L]("emit",e),m=e)}),e)){for(;P.length;)P[0](),P.shift();B=0}}function p(t){if(!(1!=t.which||t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented)){for(var e=t.target;e&&"A"!=e.nodeName;)e=e.parentNode;!e||"A"!=e.nodeName||e[N]("download")||!e[N]("href")||e.target&&"_self"!=e.target||-1==e.href.indexOf(M.href.match(x)[0])||(e.href==M.href||e.href.split("#")[0]!=M.href.split("#")[0]&&("#"==h||0===c(e.href).indexOf(h))&&d(f(e.href),e.title||O.title))&&t.preventDefault()}}function d(t,e,n){return R?(t=h+u(t),e=e||O.title,n?R.replaceState(null,e,t):R.pushState(null,e,t),O.title=e,H=!1,l(),H):k[L]("emit",f(t))}var g,h,m,v,y,x=/^.+?\/+[^\/]+/,b="EventListener",w="remove"+b,_="add"+b,N="hasAttribute",E="replace",C="popstate",T="hashchange",L="trigger",S=3,A="undefined"!=typeof t&&t,O="undefined"!=typeof document&&document,R=A&&history,M=A&&(R.location||A.location),$=a.prototype,j=O&&O.ontouchstart?"touchstart":"click",I=!1,k=e.observable(),H=!1,P=[],B=0;$.m=function(t,e,n){!s(t)||e&&!s(e)?e?this.r(t,e):this.r("@",t):d(t,e,n||!1)},$.s=function(){this.off("*"),this.$=[]},$.e=function(t){this.$.concat("@").some(function(e){var n=("@"==e?v:y)(u(t),u(e));return"undefined"!=typeof n?(this[L].apply(null,[e].concat(n)),H=!0):void 0},this)},$.r=function(t,e){"@"!=t&&(t="/"+u(t),this.$.push(t)),this.on(t,e)};var F=new a,D=F.m.bind(F);D.create=function(){var t=new a;return t.m.stop=t.s.bind(t),t.m.bind(t)},D.base=function(t){h=t||"#",m=f()},D.exec=function(){l(!0)},D.parser=function(t,e){t||e||(v=n,y=r),t&&(v=t),e&&(y=e)},D.query=function(){var t={},e=M.href||m;return e[E](/[?&](.+?)=([^&]*)/g,function(e,n,r){t[n]=r}),t},D.stop=function(){I&&(A&&(A[w](C,g),A[w](T,g),O[w](j,p)),k[L]("stop"),I=!1)},D.start=function(t){I||(A&&("complete"==document.readyState?o(t):A[_]("load",function(){setTimeout(function(){o(t)},1)})),I=!0)},D.base(),D.parser(),e.route=D}(z);var at=function(t){function e(t){return t}function n(t,e){return e||(e=v),new RegExp(t.source.replace(/{/g,e[2]).replace(/}/g,e[3]),t.global?c:"")}function r(t){if(t===g)return h;var e=t.split(" ");if(2!==e.length||/[\x00-\x1F<>a-zA-Z0-9'",;\\]/.test(t))throw new Error('Unsupported brackets "'+t+'"');return e=e.concat(t.replace(/(?=[[\]()*+?.^$|])/g,"\\").split(" ")),e[4]=n(e[1].length>1?/{[\S\s]*?}/:h[4],e),e[5]=n(t.length>3?/\\({|})/g:h[5],e),e[6]=n(h[6],e),e[7]=RegExp("\\\\("+e[3]+")|([[({])|("+e[3]+")|"+p,c),e[8]=t,e}function i(t){return t instanceof RegExp?u(t):v[t]}function o(t){(t||(t=g))!==v[8]&&(v=r(t),u=t===g?e:n,v[9]=u(h[9]),v[10]=u(h[10])),m=t}function a(t){var e;t=t||{},e=t.brackets,Object.defineProperty(t,"brackets",{set:o,get:function(){return m},enumerable:!0}),s=t,o(e)}var u,s,c="g",f=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,l=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'/g,p=l.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?(\/)[gim]*/.source,d={"(":RegExp("([()])|"+p,c),"[":RegExp("([[\\]])|"+p,c),"{":RegExp("([{}])|"+p,c)},g="{ }",h=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+p,c),g,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],m=t,v=[];return i.split=function(t,e,n){function r(t){e||a?c.push(t&&t.replace(n[5],"$1")):c.push(t)}function i(t,e,n){var r,i=d[e];for(i.lastIndex=n,n=1;(r=i.exec(t))&&(!r[1]||(r[1]===e?++n:--n)););return n?t.length:i.lastIndex}n||(n=v);var o,a,u,s,c=[],f=n[6];for(a=u=f.lastIndex=0;o=f.exec(t);){if(s=o.index,a){if(o[2]){f.lastIndex=i(t,o[2],f.lastIndex);continue}if(!o[3])continue}o[1]||(r(t.slice(u,s)),u=f.lastIndex,f=n[6+(a^=1)],f.lastIndex=u)}return t&&u<t.length&&r(t.slice(u)),c},i.hasExpr=function(t){return v[4].test(t)},i.loopKeys=function(t){var e=t.match(v[9]);return e?{key:e[1],pos:e[2],val:v[0]+e[3].trim()+v[1]}:{val:t.trim()}},i.hasRaw=function(t){return v[10].test(t)},i.array=function(t){return t?r(t):v},Object.defineProperty(i,"settings",{set:a,get:function(){return s}}),i.settings="undefined"!=typeof z&&z.settings||{},i.set=o,i.R_STRINGS=l,i.R_MLCOMMS=f,i.S_QBLOCKS=p,i}(),ut=function(){function e(t,e){return t?(u[t]||(u[t]=r(t))).call(e,n):t}function n(t,n){e.errorHandler&&(t.riotData={tagName:n&&n.root&&n.root.tagName,_riot_id:n&&n._riot_id},e.errorHandler(t))}function r(t){var e=i(t);return"try{return "!==e.slice(0,11)&&(e="return "+e),new Function("E",e+";")}function i(t){var e,n=[],r=at.split(t.replace(/\u2057/g,'"'),1);if(r.length>2||r[0]){var i,a,u=[];for(i=a=0;i<r.length;++i)e=r[i],e&&(e=1&i?o(e,1,n):'"'+e.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(u[a++]=e);e=2>a?u[0]:"["+u.join(",")+'].join("")'}else e=o(r[1],0,n);return n[0]&&(e=e.replace(c,function(t,e){return n[e].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),e}function o(t,e,n){function r(e,n){var r,i=1,o=f[e];for(o.lastIndex=n.lastIndex;r=o.exec(t);)if(r[0]===e)++i;else if(!--i)break;n.lastIndex=i?t.length:o.lastIndex}if("="===t[0]&&(t=t.slice(1)),t=t.replace(s,function(t,e){return t.length>2&&!e?""+(n.push(t)-1)+"~":t}).replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var i,o=[],u=0;t&&(i=t.match(l))&&!i.index;){var c,p,d=/,|([[{(])|$/g;for(t=RegExp.rightContext,c=i[2]?n[i[2]].slice(1,-1).trim().replace(/\s+/g," "):i[1];p=(i=d.exec(t))[1];)r(p,d);p=t.slice(0,i.index),t=RegExp.rightContext,o[u++]=a(p,1,c)}t=u?u>1?"["+o.join(",")+'].join(" ").trim()':o[0]:a(t,e)}return t}function a(t,e,n){var r;return t=t.replace(d,function(t,e,n,i,o){return n&&(i=r?0:i+t.length,"this"!==n&&"global"!==n&&"window"!==n?(t=e+'("'+n+p+n,i&&(r="."===(o=o[i])||"("===o||"["===o)):i&&(r=!g.test(o.slice(i)))),t}),r&&(t="try{return "+t+"}catch(e){E(e,this)}"),n?t=(r?"function(){"+t+"}.call(this)":"("+t+")")+'?"'+n+'":""':e&&(t="function(v){"+(r?t.replace("return ","v="):"v=("+t+")")+';return v||v===0?v:""}.call(this)'),t}var u={};e.haveRaw=at.hasRaw,e.hasExpr=at.hasExpr,e.loopKeys=at.loopKeys,e.errorHandler=null;var s=RegExp(at.S_QBLOCKS,"g"),c=/\x01(\d+)~/g,f={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},l=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\x01(\d+)~):/,p='"in this?this:'+("object"!=typeof t?"global":"window")+").",d=/[,{][$\w]+:|(^ *|[^$\w\.])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,g=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;return e.parse=function(t){return t},e.version=at.version="v2.3.21",e}(),st=function(t){function e(t,e,i){var o=t.tmpl,a=o&&o.match(/^\s*<([-\w]+)/),u=a&&a[1].toLowerCase(),s=k(f);return e||(e=""),t.attrs&&(i.attrs=r(t.attrs,e)),o=r(o,e),l.test(u)?s=n(s,o,u):s.innerHTML=o,s.stub=!0,s}function n(t,e,n){var r="o"===n[0],i=r?"select>":"table>";if(t.innerHTML="<"+i+e.trim()+"</"+i,i=t.firstChild,r)i.selectedIndex=-1;else{var o=c[n];o&&1===i.children.length&&(i=P(o,i))}return i}function r(t,e){if(!i.test(t))return t;var n=1;return t=t.replace(u,function(t,r,i){var o=e.match(RegExp(s.replace("@",r),"i"));return n=0,(o?o[1]:i)||""}),(n||i.test(t))&&(e&&(e=e.replace(a,"").trim()),t=t.replace(o,function(t,n){return e||n||""})),t}var i=/<yield\b/i,o=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,a=/<yield\s+to=[^>]+>[\S\s]*?<\/yield\s*>\s*/gi,u=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,s="<yield\\s+to=['\"]@['\"]\\s*>([\\S\\s]*?)</yield\\s*>",c={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},f="div";t=t&&10>t;var l=t?rt:/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/;return e}(ot),ct=function(e){if(!t)return{add:function(){},inject:function(){}};var n=function(){var t=k("style");b(t,"type","text/css");var e=P("style[type=riot]");return e?(e.id&&(t.id=e.id),e.parentNode.replaceChild(t,e)):document.getElementsByTagName("head")[0].appendChild(t),t}(),r=n.styleSheet,i="";return Object.defineProperty(e,"styleNode",{value:n,writable:!0}),{add:function(t){i+=t},inject:function(){i&&(r?r.cssText+=i:n.innerHTML+=i,i="")}}}(z),ft=function(t){var e=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame;if(!e||/iP(ad|hone|od).*OS 6/.test(t.navigator.userAgent)){var n=0;e=function(t){var e=Date.now(),r=Math.max(16-(e-n),0);setTimeout(function(){t(n=e+r)},r)}}return e}(t||{});z.util={brackets:at,tmpl:ut},z.mixin=function(){var t={};return function(e,n){return m(e)?(n=e,void(t[W]=S(t[W]||{},n))):n?void(t[e]=n):t[e]}}(),z.tag=function(t,e,n,r,i){return h(r)&&(i=r,/^[\w\-]+\s?=/.test(n)?(r=n,n=""):r=""),n&&(h(n)?i=n:ct.add(n)),Q[t]={name:t,tmpl:e,attrs:r,fn:i},t},z.tag2=function(t,e,n,r,i,o){return n&&ct.add(n),Q[t]={name:t,tmpl:e,attrs:r,fn:i},t},z.mount=function(t,e,n){function r(t){var e="";return g(t,function(t){/[^-\w]/.test(t)||(e+=",*["+Y+"="+t.trim()+"]")}),e}function i(){var t=Object.keys(Q);return t+r(t)}function o(t){if(t.tagName){var r=x(t,Y);e&&r!==e&&(r=e,b(t,Y,e));var i=V(t,r||t.tagName.toLowerCase(),n);i&&s.push(i)}else t.length&&g(t,o)}var a,u,s=[];if(ct.inject(),typeof e===tt&&(n=e,e=0),typeof t===J?("*"===t?t=u=i():t+=r(t.split(/, ?/)),a=t?H(t):[]):a=t,"*"===e){if(e=u||i(),a.tagName)a=H(e,a);else{var c=[];g(a,function(t){c.push(H(e,t))}),a=c}e=0}return o(a),s},z.update=function(){return g(G,function(t){t.update()})},z.Tag=u,typeof exports===tt?module.exports=z:typeof define===nt&&typeof define.amd!==et?define(function(){return z}):t.riot=z}("undefined"!=typeof window?window:void 0);
