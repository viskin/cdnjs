/* Rainbow v1.1 rainbowco.de */
window.Rainbow=function(){function q(a){var b=a.getAttribute&&a.getAttribute("data-language")||null;if(!b){var a=a.attributes.length,c;for(c=0;c<a;++c)"data-language"==="data-language"[c].nodeName&&(b="data-language"[c].nodeValue)}return b}function C(a){a.className+=a.className?" rainbow":"rainbow"}function D(a,b){for(var c in f[d]){c=parseInt(c,10);if(a==c&&b==f[d][c]?0:a<=c&&b>=f[d][c])delete f[d][c],delete h[d][c];if(a>=c&&a<f[d][c]||b>c&&b<f[d][c])return!0}return!1}function r(a,b){return'<span class="'+
a.replace(/\./g," ")+(k?" "+k:"")+'">'+b+"</span>"}function E(a,b){var c=0,e;for(e=1;e<b;++e)a[e]&&(c+=a[e].length);return c}function s(a,b,c,e){var j=a.exec(c);if(j){++t;!b.name&&b.matches[0]&&(b.name=b.matches[0],delete b.matches[0]);var g=j[0],i=j.index,u=j[0].length+i,l=function(){function j(){s(a,b,c,e)}t%100>0?j():setTimeout(j,0)};if(D(i,u))l();else{var m=v(b.matches),k=function(a,c,e){if(a>=c.length)e(g);else{var d=function(){k(++a,c,e)},f=j[c[a]];if(f){var i=b.matches[c[a]],h=i.language;if(h)n(f,
h,function(a){g=g.replace(f,a);d()});else if(typeof i==="object")w(f,i.length?i:[i],function(a){g=g.replace(f,a);d()});else{g=x(E(j,c[a]),f,r(i,f),g);d()}}else d()}};k(0,m,function(a){b.name&&(a=r(b.name,a));if(!h[d]){h[d]={};f[d]={}}h[d][i]={replace:j[0],"with":a};f[d][i]=u;l()})}}else e()}function F(a){var b=m[a]||[],c=m[y]||[];return z[a]?b:b.concat(c)}function x(a,b,c,e){return e.substr(0,a)+e.substr(a).replace(b,c)}function v(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(c);return b.sort(function(a,
c){return c-a})}function w(a,b,c){function e(b,g){g<b.length?s(b[g].pattern,b[g],a,function(){e(b,++g)}):G(a,function(a){delete h[d];delete f[d];--d;c(a)})}++d;e(b,0)}function G(a,b){function c(a,b,e,f){if(e<b.length){++A;var l=b[e],k=h[d][l],a=x(l,k.replace,k["with"],a),l=function(){c(a,b,++e,f)};0<A%250?l():setTimeout(l,0)}else f(a)}var e=v(h[d]);c(a,e,0,b)}function n(a,b,c){w(a,F(b),function(a){c(a)})}function o(a,b,c){if(b<a.length){var e=q(a[b])||q(a[b].parentNode);return!(-1<(" "+a[b].className+
" ").indexOf(" rainbow "))&&e?(e=e.toLowerCase(),C(a[b]),n(a[b].innerHTML,e,function(d){a[b].innerHTML=d;h={};f={};p&&p(a[b],e);setTimeout(function(){o(a,++b,c)},0)})):o(a,++b,c)}c&&c()}function B(a,b){var c=(a||document).getElementsByTagName("pre"),e=(a||document).getElementsByTagName("code"),d,f=[];for(d=0;d<e.length;++d)f.push(e[d]);for(d=0;d<c.length;++d)c[d].getElementsByTagName("code").length||f.push(c[d]);o(f,0,b)}var h={},f={},m={},z={},d=0,y=0,t=0,A=0,k,p;return{extend:function(a,b,c){1==
arguments.length&&(b=a,a=y);z[a]=c;m[a]=b.concat(m[a]||[])},b:function(a){p=a},a:function(a){k=a},color:function(a,b,c){if("string"==typeof a)return n(a,b,c);if("function"==typeof a)return B(null,a);B(a instanceof Event?null:a,b)}}}();window.addEventListener?window.addEventListener("load",Rainbow.color,!1):window.attachEvent("onload",Rainbow.color);Rainbow.onHighlight=Rainbow.b;Rainbow.addClass=Rainbow.a;Rainbow.color=Rainbow.color;