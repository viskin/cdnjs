/* Plugin for Cycle2; Copyright (c) 2012 M. Alsup; v20140114 */
(function(e){"use strict";function t(){try{this.playVideo()}catch(e){}}function i(){try{this.pauseVideo()}catch(e){}}var n='<div class=cycle-youtube><object width="640" height="360"><param name="movie" value="{{url}}"></param><param name="allowFullScreen" value="{{allowFullScreen}}"></param><param name="allowscriptaccess" value="always"></param><embed src="{{url}}" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="{{allowFullScreen}}"></embed></object></div>';e.extend(e.fn.cycle.defaults,{youtubeAllowFullScreen:!0,youtubeAutostart:!1,youtubeAutostop:!0}),e(document).on("cycle-bootstrap",function(o,s){s.youtube&&(s.hideNonActive=!1,s.container.find(s.slides).each(function(t){if(this.href){var i,o=e(this),r=o.attr("href"),c=s.youtubeAllowFullScreen?"true":"false";r+=(/\?/.test(r)?"&":"?")+"enablejsapi=1",s.youtubeAutostart&&s.startingSlide===t&&(r+="&autoplay=1"),i=s.API.tmpl(n,{url:r,allowFullScreen:c}),o.replaceWith(i)}}),s.slides=s.slides.replace(/(\b>?a\b)/,"div.cycle-youtube"),s.youtubeAutostart&&s.container.on("cycle-initialized cycle-after",function(i,n){var o="cycle-initialized"==i.type?n.currSlide:n.nextSlide;e(n.slides[o]).find("object,embed").each(t)}),s.youtubeAutostop&&s.container.on("cycle-before",function(t,n){e(n.slides[n.currSlide]).find("object,embed").each(i)}))})})(jQuery);