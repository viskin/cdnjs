/* Plugin for Cycle2; Copyright (c) 2012 M. Alsup; v20140126 */
(function(e){"use strict";e.extend(e.fn.cycle.defaults,{loader:!1}),e(document).on("cycle-bootstrap",function(i,t){function n(i,n){function o(i){var o;"wait"==t.loader?(l.push(i),0===r&&(l.sort(c),s.apply(t.API,[l,n]),t.container.removeClass("cycle-loading"))):(o=e(t.slides[t.currSlide]),s.apply(t.API,[i,n]),o.show(),t.container.removeClass("cycle-loading"))}function c(e,i){return e.data("index")-i.data("index")}var l=[];if("string"==e.type(i))i=e.trim(i);else if("array"===e.type(i))for(var a=0;i.length>a;a++)i[a]=e(i[a])[0];i=e(i);var r=i.length;r&&(i.css("visibility","hidden").appendTo("body").each(function(i){function c(){0===--a&&(--r,o(d))}var a=0,d=e(this),u=d.is("img")?d:d.find("img");return d.data("index",i),u=u.filter(":not(.cycle-loader-ignore)").filter(':not([src=""])'),u.length?(a=u.length,u.each(function(){this.complete?c():e(this).load(function(){c()}).on("error",function(){0===--a&&(t.API.log("slide skipped; img not loaded:",this.src),0===--r&&"wait"==t.loader&&s.apply(t.API,[l,n]))})}),void 0):(--r,l.push(d),void 0)}),r&&t.container.addClass("cycle-loading"))}var s;t.loader&&(s=t.API.add,t.API.add=n)})})(jQuery);