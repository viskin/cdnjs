(function(a,b){if(typeof exports==="object"){module.exports=b(require("./URI"))}else{if(typeof define==="function"&&define.amd){define(["./URI"],b)}else{b(a.URI)}}}(this,function(b){var d=b.prototype;var c=d.fragment;b.fragmentPrefix="?";var a=b._parts;b._parts=function(){var e=a();e.fragmentPrefix=b.fragmentPrefix;return e};d.fragmentPrefix=function(e){this._parts.fragmentPrefix=e;return this};d.fragment=function(e,h){var g=this._parts.fragmentPrefix;var f=this._parts.fragment||"";if(e===true){if(f.substring(0,g.length)!==g){return{}}return b.parseQuery(f.substring(g.length))}else{if(e!==undefined&&typeof e!=="string"){this._parts.fragment=g+b.buildQuery(e);this.build(!h);return this}else{return c.call(this,e,h)}}};d.addFragment=function(e,h,i){var g=this._parts.fragmentPrefix;var f=b.parseQuery((this._parts.fragment||"").substring(g.length));b.addQuery(f,e,h);this._parts.fragment=g+b.buildQuery(f);if(typeof e!=="string"){i=h}this.build(!i);return this};d.removeFragment=function(e,h,i){var g=this._parts.fragmentPrefix;var f=b.parseQuery((this._parts.fragment||"").substring(g.length));b.removeQuery(f,e,h);this._parts.fragment=g+b.buildQuery(f);if(typeof e!=="string"){i=h}this.build(!i);return this};d.addHash=d.addFragment;d.removeHash=d.removeFragment;return b}));