!function(t){function e(t){return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function r(e){var r;return t.each(["href","src","action"],function(t,i){return i in e?(r=i,!1):!0}),"input"===e.nodeName.toLowerCase()&&"image"!==e.type?void 0:r}var i="undefined"!=typeof module&&module.exports?require("./URIjs"):window.URI,n=/^([a-zA-Z]+)\s*([\^\$*]?=|:)\s*(['"]?)(.+)\3|^\s*([a-zA-Z0-9]+)\s*$/,u={},o={"=":function(t,e){return t===e},"^=":function(t,r){return!!(t+"").match(new RegExp("^"+e(r),"i"))},"$=":function(t,r){return!!(t+"").match(new RegExp(e(r)+"$","i"))},"*=":function(t,r,i){return"directory"==i&&(t+="/"),!!(t+"").match(new RegExp(e(r),"i"))},"equals:":function(t,e){return t.equals(e)},"is:":function(t,e){return t.is(e)}};t.each("authority directory domain filename fragment hash host hostname href password path pathname port protocol query scheme search subdomain suffix tld username".split(" "),function(e,r){u[r]=!0,function(e){t.attrHooks["uri:"+e]={get:function(r){return t(r).uri()[e]()},set:function(r,i){return t(r).uri()[e](i),i}}}(r)}),t.fn.uri=function(t){var e=this.first(),n=e.get(0),u=r(n);if(!u)throw new Error('Element "'+n.nodeName+'" does not have either property: href, src, action');if(void 0!==t){var o=e.data("uri");if(o)return o.href(t);t instanceof i||(t=i(t))}else{if(t=e.data("uri"))return t;t=i(e.attr(u))}return t._dom_element=n,t._dom_attribute=u,t.normalize(),e.data("uri",t),t},i.prototype.build=function(t){return this._dom_element?(this._string=i.build(this._parts),this._deferred_build=!1,this._dom_element.setAttribute(this._dom_attribute,this._string),this._dom_element[this._dom_attribute]=this._string):t===!0?this._deferred_build=!0:(void 0===t||this._deferred_build)&&(this._string=i.build(this._parts),this._deferred_build=!1),this},t.expr.filters.uri=function(e,i,s){if(!r(e)||!s[3])return!1;var a,f,d=s[3].match(n);return d&&(d[5]||":"===d[2]||o[d[2]])?(f=t(e).uri(),d[5]?f.is(d[5]):":"===d[2]?(a=d[1].toLowerCase()+":",o[a]?o[a](f,d[4]):!1):(a=d[1].toLowerCase(),u[a]?o[d[2]](f[a](),d[4],a):!1)):!1};var s={get:function(e){return t(e).uri()},set:function(e,r){return t(e).uri().href(r).toString()}};t.each(["src","href","action","uri"],function(e,r){t.attrHooks[r]={set:s.set}}),t.attrHooks.uri.get=s.get}(jQuery);