/*! responsive-nav.js v1.0
 * https://github.com/viljamis/responsive-nav.js
 * http://responsive-nav.com
 *
 * Copyright (c) 2013 @viljamis
 * Available under the MIT license
 */
;var responsiveNav=(function(h,k){var d=!!h.getComputedStyle;if(!h.getComputedStyle){h.getComputedStyle=function(q){this.el=q;this.getPropertyValue=function(s){var r=/(\-([a-z]){1})/g;if(s==="float"){s="styleFloat"}if(r.test(s)){s=s.replace(r,function(){return arguments[2].toUpperCase()})}return q.currentStyle[s]?q.currentStyle[s]:null};return this}}var p,m="aria-hidden",b=k.documentElement,l=k.getElementsByTagName("head")[0],j=k.createElement("style"),o=false,f=function(t,r,s,q){if("addEventListener" in t){try{t.addEventListener(r,s,q)}catch(u){if(typeof s==="object"&&s.handleEvent){t.addEventListener(r,function(v){s.handleEvent.call(s,v)},q)}else{throw u}}}else{if("attachEvent" in t){if(typeof s==="object"&&s.handleEvent){t.attachEvent("on"+r,function(){s.handleEvent.call(s)})}else{t.attachEvent("on"+r,s)}}}},i=function(t,r,s,q){if("removeEventListener" in t){try{t.removeEventListener(r,s,q)}catch(u){if(typeof s==="object"&&s.handleEvent){t.removeEventListener(r,function(v){s.handleEvent.call(s,v)},q)}else{throw u}}}else{if("detachEvent" in t){if(typeof s==="object"&&s.handleEvent){t.detachEvent("on"+r,function(){s.handleEvent.call(s)})}else{t.detachEvent("on"+r,s)}}}},c=function(r){var q=r.firstChild;while(q!==null&&q.nodeType!==1){q=q.nextSibling}return q},e=function(){},a=function(s,q){var r;b.className=b.className+" js ";this.options={transition:400,label:"Menu",insert:"after",customToggle:"",debug:false};for(r in q){this.options[r]=q[r]}if(this.options.debug){e=function(t){try{console.log(t)}catch(u){alert(t)}}}this.wrapperEl=s.replace("#","");if(k.getElementById(this.wrapperEl)){this.wrapper=k.getElementById(this.wrapperEl)}else{e("The nav element you are trying to select doesn't exist");return}this.wrapper.inner=c(this.wrapper);this.__init(this)};a.prototype={destroy:function(){this.wrapper.className=this.wrapper.className.replace(/(^|\s)closed(\s|$)/," ");this.wrapper.removeAttribute(m);this.wrapper=null;this.wrapper.inner=null;n=null;i(h,"load",this);i(h,"resize",this);i(p,"mousedown",this);i(p,"touchstart",this);i(p,"keyup",this);i(p,"click",this);p.parentNode.removeChild(p);j.parentNode.removeChild(j);e("Destroyed!")},toggle:function(){if(!o){this.wrapper.className=this.wrapper.className.replace(/(^|\s)closed(\s|$)/," opened ");this.wrapper.style.position="relative";if(d){this.wrapper.setAttribute(m,false)}o=true;e("Opened nav")}else{var q=this.options.transition+10,r=this.wrapper;r.className=r.className.replace(/(^|\s)opened(\s|$)/," closed ");setTimeout(function(){r.style.position="absolute"},q);if(d){this.wrapper.setAttribute(m,true)}o=false;e("Closed nav")}return false},handleEvent:function(r){var q=r||h.event;switch(q.type){case"mousedown":this.__onmousedown(q);break;case"touchstart":this.__ontouchstart(q);break;case"keyup":this.__onkeyup(q);break;case"click":this.__onclick(q);break;case"load":case"resize":this.__resize(q);break}},__init:function(){e("Inited ResponsiveNav2.js");this.wrapper.className=this.wrapper.className+" closed";this.__createToggle();f(h,"load",this);f(h,"resize",this);f(p,"mousedown",this);f(p,"touchstart",this);f(p,"keyup",this);f(p,"click",this)},__createStyles:function(){if(!j.parentNode){l.appendChild(j);e("Created 'styleElement' to <head>")}},__removeStyles:function(){if(j.parentNode){j.parentNode.removeChild(j);e("Removed 'styleElement' from <head>")}},__createToggle:function(){if(!this.options.customToggle){var r=k.createElement("a");r.setAttribute("href","#");r.setAttribute("id","nav-toggle");r.setAttribute("tabindex","1");r.innerHTML=this.options.label;if(this.options.insert==="after"){this.wrapper.parentNode.insertBefore(r,this.wrapper.nextSibling)}else{this.wrapper.parentNode.insertBefore(r,this.wrapper)}p=k.getElementById("nav-toggle");e("Default nav toggle created")}else{var q=this.options.customToggle.replace("#","");p=k.getElementById(q);e("Custom nav toggle created")}},__onmousedown:function(q){q.preventDefault?q.preventDefault():q.returnValue=false;this.toggle(q)},__ontouchstart:function(q){p.onmousedown=null;q.preventDefault?q.preventDefault():q.returnValue=false;this.toggle(q)},__onkeyup:function(r){var q=r||h.event;if(q.keyCode===13){this.toggle(r)}},__onclick:function(q){q.preventDefault?q.preventDefault():q.returnValue=false},__transitions:function(){var q=this.wrapper.style,r="max-height "+this.options.transition+"ms";q.WebkitTransition=r;q.MozTransition=r;q.OTransition=r;q.transition=r},__resize:function(){if(h.getComputedStyle(p,null).getPropertyValue("display")!=="none"){p.setAttribute(m,false);if(this.wrapper.className.match(/(^|\s)closed(\s|$)/)){this.wrapper.setAttribute(m,true);this.wrapper.style.position="absolute"}this.__createStyles();this.__transitions();var r=this.wrapper.inner.offsetHeight,q="#"+this.wrapperEl+".opened{max-height:"+r+"px }";if(d){j.innerHTML=q}q="";e("Calculated max-height of "+r+"px and updated 'styleElement'")}else{p.setAttribute(m,true);this.wrapper.setAttribute(m,false);this.wrapper.style.position="relative";this.__removeStyles()}}};var n;function g(r,q){if(!n){n=new a(r,q)}return n}return g})(window,document);