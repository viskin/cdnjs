{"version":3,"file":"js-data-firebase.min.js","sources":["js-data-firebase.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_1__","__WEBPACK_EXTERNAL_MODULE_2__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequire","obj","__esModule","_createClass","defineProperties","target","props","key","prop","configurable","value","writable","Object","Constructor","protoProps","staticProps","prototype","_classCallCheck","instance","TypeError","JSData","Firebase","omit","values","emptyStore","DS","DSUtils","deepMixIn","removeCircular","P","Promise","forOwn","filter","defaults","defaultFilter","Defaults","basePath","DSFirebaseAdapter","options","ref","getRef","resourceConfig","child","endpoint","find","_this","resolve","reject","once","dataSnapshot","item","val","idAttribute","Error","findAll","params","data","name","create","attrs","isString","isNumber","update","resourceRef","itemRef","push","relationFields","err","_id","toString","replace","set","fields","undefined","removed","i","relations","length","shift","updateAll","then","items","tasks","forEach","all","destroy","remove","destroyAll","keys","arguments","slice","out","property","hasOwnProperty","contains","vals","arr","start","end","len","Math","max","min","result","indexOf","fn","thisObj","forIn","hasOwn","fromIndex","checkDontEnum","_dontEnums","_hasDontEnumBug","exec","ctor","constructor","isProto"],"mappings":";;;;;;;;;;CASA,SAA2CA,EAAMC,GAC1B,gBAAZC,UAA0C,gBAAXC,QACxCA,OAAOD,QAAUD,EAAQG,QAAQ,WAAYA,QAAQ,aAC5B,kBAAXC,SAAyBA,OAAOC,IAC9CD,QAAQ,UAAW,YAAaJ,GACN,gBAAZC,SACdA,QAA2B,kBAAID,EAAQG,QAAQ,WAAYA,QAAQ,aAEnEJ,EAAwB,kBAAIC,EAAQD,EAAa,OAAGA,EAAe,WAClEO,KAAM,SAASC,EAA+BC,GACjD,MAAgB,UAAUC,GAKhB,QAASC,GAAoBC,GAG5B,GAAGC,EAAiBD,GACnB,MAAOC,GAAiBD,GAAUV,OAGnC,IAAIC,GAASU,EAAiBD,IAC7BV,WACAY,GAAIF,EACJG,QAAQ,EAUT,OANAL,GAAQE,GAAUI,KAAKb,EAAOD,QAASC,EAAQA,EAAOD,QAASS,GAG/DR,EAAOY,QAAS,EAGTZ,EAAOD,QAvBf,GAAIW,KAqCJ,OATAF,GAAoBM,EAAIP,EAGxBC,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,GAGjBR,EAAoB,KAK/B,SAASR,EAAQD,EAASS,GAE/B,GAAIS,GAAkB,SAAUC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,EAAI,WAAaA,GAEnFE,EAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,KAAOD,GAAO,CAAE,GAAIE,GAAOF,EAAMC,EAAMC,GAAKC,cAAe,EAAUD,EAAKE,QAAOF,EAAKG,UAAW,GAAQC,OAAOR,iBAAiBC,EAAQC,GAAU,MAAO,UAAUO,EAAaC,EAAYC,GAAiJ,MAA9HD,IAAYV,EAAiBS,EAAYG,UAAWF,GAAiBC,GAAaX,EAAiBS,EAAaE,GAAqBF,MAEvaI,EAAkB,SAAUC,EAAUL,GAAe,KAAMK,YAAoBL,IAAgB,KAAM,IAAIM,WAAU,sCAEnHC,EAASpB,EAAgBT,EAAoB,IAE7C8B,EAAWrB,EAAgBT,EAAoB,IAE/C+B,EAAOtB,EAAgBT,EAAoB,IAE3CgC,EAASvB,EAAgBT,EAAoB,IAE7CiC,EAAa,GAAIJ,GAAOK,GACxBC,EAAUN,EAAOM,QACjBC,EAAYD,EAAQC,UACpBC,EAAiBF,EAAQE,eACzBC,EAAIH,EAAQI,QACZC,EAASL,EAAQK,OAEjBC,EAASR,EAAWS,SAASC,cAE7BC,EAAW,QAASA,KACtBlB,EAAgB9B,KAAMgD,GAGxBA,GAASnB,UAAUoB,SAAW,EAE9B,IAAIC,GAAoB,WACtB,QAASA,GAAkBC,GACzBrB,EAAgB9B,KAAMkD,GAEtBC,EAAUA,MACVnD,KAAK8C,SAAW,GAAIE,GACpBR,EAAUxC,KAAK8C,SAAUK,GACzBnD,KAAKoD,IAAM,GAAIlB,GAASiB,EAAQF,UAAYjD,KAAK8C,SAASG,UAqK5D,MAlKAjC,GAAakC,GACXG,QACE9B,MAAO,SAAgB+B,EAAgBH,GAErC,MADAA,GAAUA,MACHnD,KAAKoD,IAAIG,MAAMJ,EAAQK,UAAYF,EAAeE,YAG7DC,MACElC,MAAO,SAAc+B,EAAgB/C,EAAI4C,GACvC,GAAIO,GAAQ1D,IAEZ,OAAO,IAAI0C,GAAE,SAAUiB,EAASC,GAC9B,MAAOF,GAAML,OAAOC,EAAgBH,GAASI,MAAMhD,GAAIsD,KAAK,QAAS,SAAUC,GAC7E,GAAIC,GAAOD,EAAaE,KACnBD,IAGHA,EAAKT,EAAeW,aAAeF,EAAKT,EAAeW,cAAgB1D,EACvEoD,EAAQI,IAHRH,EAAO,GAAIM,OAAM,gBAKlBN,EAAQF,OAIjBS,SACE5C,MAAO,SAAiB+B,EAAgBc,EAAQjB,GAC9C,GAAIO,GAAQ1D,IAEZ,OAAO,IAAI0C,GAAE,SAAUiB,EAASC,GAC9B,MAAOF,GAAML,OAAOC,EAAgBH,GAASU,KAAK,QAAS,SAAUC,GACnE,GAAIO,GAAOP,EAAaE,KACxBpB,GAAOyB,EAAM,SAAU9C,EAAOH,GACvBG,EAAM+B,EAAeW,eACxB1C,EAAM+B,EAAeW,aAAe,IAAM7C,KAG9CuC,EAAQd,EAAOpC,KAAK4B,EAAYD,EAAOiC,GAAOf,EAAegB,KAAMF,EAAQjB,KAC1ES,EAAQF,OAIjBa,QACEhD,MAAO,SAAgB+B,EAAgBkB,EAAOrB,GAC5C,GAAIO,GAAQ1D,KAERO,EAAKiE,EAAMlB,EAAeW,YAC9B,OAAI1B,GAAQkC,SAASlE,IAAOgC,EAAQmC,SAASnE,GACpCP,KAAK2E,OAAOrB,EAAgB/C,EAAIiE,EAAOrB,GAEvC,GAAIT,GAAE,SAAUiB,EAASC,GAC9B,GAAIgB,GAAclB,EAAML,OAAOC,EAAgBH,GAC3C0B,EAAUD,EAAYE,KAAKrC,EAAeN,EAAKqC,EAAOlB,EAAeyB,qBAAwB,SAAUC,GACzG,GAAIA,EACF,MAAOpB,GAAOoB,EAEd,IAAIC,GAAMJ,EAAQK,WAAWC,QAAQP,EAAYM,WAAY,GAC7DL,GAAQtB,MAAMD,EAAeW,aAAamB,IAAIH,EAAK,SAAUD,GACvDA,EACFpB,EAAOoB,GAEPH,EAAQhB,KAAK,QAAS,SAAUC,GAC9B,IACEH,EAAQG,EAAaE,OACrB,MAAOgB,GACPpB,EAAOoB,KAERpB,EAAQF,WAS3BiB,QACEpD,MAAO,SAAgB+B,EAAgB/C,EAAIiE,EAAOrB,GAChD,GAAIO,GAAQ1D,IAGZ,OADAwE,GAAQ/B,EAAeN,EAAKqC,MAAalB,EAAeyB,qBACjD,GAAIrC,GAAE,SAAUiB,EAASC,GAC9B,GAAIiB,GAAUnB,EAAML,OAAOC,EAAgBH,GAASI,MAAMhD,EAC1DsE,GAAQhB,KAAK,QAAS,SAAUC,GAC9B,KACE,WACE,GAAIC,GAAOD,EAAaE,UACpBqB,EAASC,OACTC,EAAUD,OACVE,EAAIF,MACR,IAAIhC,EAAemC,UAGjB,IAFAJ,EAAS/B,EAAeyB,eACxBQ,KACKC,EAAI,EAAGH,EAAOK,OAAQF,IACzBD,EAAQT,KAAKN,EAAMa,EAAOG,WACnBhB,GAAMa,EAAOG,GAIxB,IADAhD,EAAUuB,EAAMS,GACZlB,EAAemC,UAEjB,IADAJ,EAAS/B,EAAeyB,eACnBS,EAAI,EAAGH,EAAOK,OAAQF,IACzBhB,EAAMa,EAAOG,IAAMD,EAAQI,OAG/Bd,GAAQO,IAAIrB,EAAM,SAAUiB,GACtBA,EACFpB,EAAOoB,GAEPrB,EAAQI,QAId,MAAOiB,GACPpB,EAAOoB,KAERpB,EAAQF,OAIjBkC,WACErE,MAAO,SAAmB+B,EAAgBkB,EAAOJ,EAAQjB,GACvD,GAAIO,GAAQ1D,IAEZ,OAAOA,MAAKmE,QAAQb,EAAgBc,EAAQjB,GAAS0C,KAAK,SAAUC,GAClE,GAAIC,KAIJ,OAHAxD,GAAQyD,QAAQF,EAAO,SAAU/B,GAC/BgC,EAAMjB,KAAKpB,EAAMiB,OAAOrB,EAAgBS,EAAKT,EAAeW,aAAcO,EAAOrB,MAE5ET,EAAEuD,IAAIF,OAInBG,SACE3E,MAAO,SAAiB+B,EAAgB/C,EAAI4C,GAC1C,GAAIO,GAAQ1D,IAEZ,OAAO,IAAI0C,GAAE,SAAUiB,EAASC,GAC9BF,EAAML,OAAOC,EAAgBH,GAASI,MAAMhD,GAAI4F,OAAO,SAAUnB,GAC3DA,EACFpB,EAAOoB,GAEPrB,UAMVyC,YACE7E,MAAO,SAAoB+B,EAAgBc,EAAQjB,GACjD,GAAIO,GAAQ1D,IAEZ,OAAOA,MAAKmE,QAAQb,EAAgBc,EAAQjB,GAAS0C,KAAK,SAAUC,GAClE,GAAIC,KAIJ,OAHAxD,GAAQyD,QAAQF,EAAO,SAAU/B,GAC/BgC,EAAMjB,KAAKpB,EAAMwC,QAAQ5C,EAAgBS,EAAKT,EAAeW,aAAcd,MAEtET,EAAEuD,IAAIF,SAMd7C,IAGTtD,GAAOD,QAAUuD,GAIZ,SAAStD,GAEdA,EAAOD,QAAUM,GAIZ,SAASL,GAEdA,EAAOD,QAAUO,GAIZ,SAASN,EAAQD,EAASS,GAQ3B,QAAS+B,GAAKrB,GACV,GAAIuF,GAA+B,gBAAjBC,WAAU,GAAiBA,UAAU,GAAKC,EAAMD,UAAW,GACzEE,IAEJ,KAAK,GAAIC,KAAY3F,GACbA,EAAI4F,eAAeD,KAAcE,EAASN,EAAMI,KAChDD,EAAIC,GAAY3F,EAAI2F,GAG5B,OAAOD,GAff,GAAID,GAAQnG,EAAoB,GAC5BuG,EAAWvG,EAAoB,EAiB/BR,GAAOD,QAAUwC,GAOhB,SAASvC,EAAQD,EAASS,GAO3B,QAASgC,GAAOtB,GACZ,GAAI8F,KAIJ,OAHAhE,GAAO9B,EAAK,SAASkD,GACjB4C,EAAK9B,KAAKd,KAEP4C,EAVf,GAAIhE,GAASxC,EAAoB,EAa7BR,GAAOD,QAAUyC,GAOhB,SAASxC,GAOV,QAAS2G,GAAMM,EAAKC,EAAOC,GACvB,GAAIC,GAAMH,EAAInB,MAGVoB,GADS,MAATA,EACQ,EACO,EAARA,EACCG,KAAKC,IAAIF,EAAMF,EAAO,GAEtBG,KAAKE,IAAIL,EAAOE,GAIxBD,EADO,MAAPA,EACMC,EACO,EAAND,EACDE,KAAKC,IAAIF,EAAMD,EAAK,GAEpBE,KAAKE,IAAIJ,EAAKC,EAIxB,KADA,GAAII,MACWL,EAARD,GACHM,EAAOtC,KAAK+B,EAAIC,KAGpB,OAAOM,GAGXxH,EAAOD,QAAU4G,GAOhB,SAAS3G,EAAQD,EAASS,GAO3B,QAASuG,GAASE,EAAK7C,GACnB,MAA6B,KAAtBqD,EAAQR,EAAK7C,GAN5B,GAAIqD,GAAUjH,EAAoB,EAQ9BR,GAAOD,QAAUgH,GAMhB,SAAS/G,EAAQD,EAASS,GAU3B,QAASwC,GAAO9B,EAAKwG,EAAIC,GACrBC,EAAM1G,EAAK,SAASkD,EAAK5C,GACrB,MAAIqG,GAAO3G,EAAKM,GACLkG,EAAG7G,KAAK8G,EAASzG,EAAIM,GAAMA,EAAKN,GAD3C,SAVZ,GAAI2G,GAASrH,EAAoB,GAC7BoH,EAAQpH,EAAoB,GAe5BR,GAAOD,QAAUiD,GAOhB,SAAShD,GAOV,QAASyH,GAAQR,EAAK9C,EAAM2D,GAExB,GADAA,EAAYA,GAAa,EACd,MAAPb,EACA,MAAO,EAKX,KAFA,GAAIG,GAAMH,EAAInB,OACVF,EAAgB,EAAZkC,EAAgBV,EAAMU,EAAYA,EAC/BV,EAAJxB,GAAS,CAGZ,GAAIqB,EAAIrB,KAAOzB,EACX,MAAOyB,EAGXA,KAGJ,MAAO,GAGX5F,EAAOD,QAAU0H,GAMhB,SAASzH,GAOT,QAAS6H,GAAO3G,EAAKO,GACjB,MAAOI,QAAOI,UAAU6E,eAAejG,KAAKK,EAAKO,GAGrDzB,EAAOD,QAAU8H,GAOjB,SAAS7H,EAAQD,EAASS,GAO3B,QAASuH,KACLC,GACQ,WACA,iBACA,UACA,iBACA,gBACA,uBACA,eAGRC,GAAkB,CAElB,KAAK,GAAIzG,MAAQ8D,SAAY,MACzB2C,GAAkB,EAS1B,QAASL,GAAM1G,EAAKwG,EAAIC,GACpB,GAAInG,GAAKoE,EAAI,CAKU,OAAnBqC,GAAyBF,GAE7B,KAAKvG,IAAON,GACR,GAAIgH,EAAKR,EAAIxG,EAAKM,EAAKmG,MAAa,EAChC,KAKR,IAAIM,EAIA,IAHA,GAAIE,GAAOjH,EAAIkH,YACXC,IAAYF,GAAQjH,IAAQiH,EAAKlG,WAE9BT,EAAMwG,EAAWpC,QAUP,gBAARpE,IACK6G,IAAWR,EAAO3G,EAAKM,KAC7BN,EAAIM,KAASK,OAAOI,UAAUT,IAE1B0G,EAAKR,EAAIxG,EAAKM,EAAKmG,MAAa,MAQpD,QAASO,GAAKR,EAAIxG,EAAKM,EAAKmG,GACxB,MAAOD,GAAG7G,KAAK8G,EAASzG,EAAIM,GAAMA,EAAKN,GAtE/C,GAEQ+G,GACAD,EAHJH,EAASrH,EAAoB,EAyE7BR,GAAOD,QAAU6H"}