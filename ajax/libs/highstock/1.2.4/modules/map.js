!function(t){var e,a=t.each,o=t.extend,n=t.merge,r=t.numberFormat,s=t.getOptions().plotOptions,p=function(){};t.pathToArray=function(t){t=t.replace(/([A-Za-z])/g," $1 "),t=t.replace(/^\s*/,"").replace(/\s*$/,""),t=t.split(/[ ,]+/);for(var e=0;e<t.length;e++)/[a-zA-Z]/.test(t[e])||(t[e]=parseFloat(t[e]));return t},s.map=n(s.scatter,{animation:!1,minOpacity:.2,nullColor:"#F8F8F8",shadow:!1,borderColor:"silver",marker:null,tooltip:{pointFormat:"{point.name}: {point.y}"}});var l=t.extendClass(t.Point,{init:function(){var i,a,o,n,r=t.Point.prototype.init.apply(this,arguments),s=r.series.options.valueRanges;if(s)for(n=s.length;n--;)if(i=s[n],a=i.from,o=i.to,(a===e||r.y>=a)&&(o===e||r.y<=o)){r.color=r.options.color=i.color;break}return r}});t.seriesTypes.map=t.extendClass(t.seriesTypes.scatter,{type:"map",pointClass:l,pointAttrToOptions:t.seriesTypes.column.prototype.pointAttrToOptions,getSymbol:p,init:function(i){var o,n,s,p=this,l=i.options.legend.valueDecimals,h=[];t.Series.prototype.init.apply(this,arguments),p.options.valueRanges&&(a(p.options.valueRanges,function(i){n=i.from,s=i.to,o="",n===e?o="< ":s===e&&(o="> "),n!==e&&(o+=r(n,l)),n!==e&&s!==e&&(o+=" - "),s!==e&&(o+=r(s,l)),h.push(t.extend({chart:p.chart,name:o,options:{},drawLegendSymbol:t.seriesTypes.area.prototype.drawLegendSymbol,visible:!0,setState:function(){},setVisible:function(){}},i))}),p.legendItems=h)},getBox:function(){var t,e,i,n=this.chart,r=-Math.pow(2,31),s=Math.pow(2,31)-1,p=-Math.pow(2,31),l=Math.pow(2,31)-1,h=n.plotWidth,c=n.plotHeight;a(this.options.data,function(t){for(var e=t.path,i=e.length,a=!1;i--;)"number"==typeof e[i]&&(a?(r=Math.max(r,e[i]),s=Math.min(s,e[i])):(p=Math.max(p,e[i]),l=Math.min(l,e[i])),a=!a)}),t=(r-s)/(p-l),e=t/(h/c),e>1?(i=(p-l)*(e-1)/2,l-=i,p+=i):(i=(r-s)*(e-1)/2,s+=i,r-=i),o(this.xAxis.options,{min:s,max:r}),o(this.yAxis.options,{min:l,max:p})},translatePath:function(t){var e=this,a=(e.chart,!1),o=e.xAxis,n=e.yAxis;for(t=[].concat(t),i=t.length;i--;)"number"==typeof t[i]&&(a?t[i]=Math.round(o.translate(t[i])):t[i]=n.len-Math.round(n.translate(t[i])),a=!a);return t},setData:function(){t.Series.prototype.setData.apply(this,arguments),this.getBox()},translate:function(){var t=this,e=t.options,i=0;e.minOpacity;t.generatePoints(),a(t.data,function(e){e.shapeType="path",e.shapeArgs={d:t.translatePath(e.path)},e.y>i&&(i=e.y)})},drawGraph:p,drawPoints:function(){var e,i=this;i.chart;a(i.data,function(t){t.plotY=1,null===t.y&&(t.y=0,t.isNull=!0)}),t.seriesTypes.column.prototype.drawPoints.apply(i),a(i.data,function(t){e=t.graphic.getBBox(),t.tooltipPos=[e.x+e.width/2,e.y+e.height/2],t.plotX=t.tooltipPos[0],t.plotY=t.tooltipPos[1],t.isNull&&(t.y=null)})},drawTracker:function(){var e=this.markerGroup;this.markerGroup=this.group,t.seriesTypes.scatter.prototype.drawTracker.call(this),this.markerGroup=e}}),t.Map=function(e,i){var a={endOnTick:!1,gridLineWidth:0,labels:{enabled:!1},lineWidth:0,minPadding:0,maxPadding:0,startOnTick:!1,tickWidth:0,title:null};return seriesOptions=e.series,e.series=null,e=n({chart:{type:"map"},xAxis:a,yAxis:n(a,{reversed:!0})},e,{chart:{inverted:!1}}),e.series=seriesOptions,new t.Chart(e,i)}}(Highcharts);