!function(t){"use strict";var e=function(t){if(!t)throw new Error("Politespace requires an element argument.");t.getAttribute&&(this.element=t,this.type=this.element.getAttribute("type"),this.delimiter=this.element.getAttribute("data-delimiter")||" ",this.reverse=null!==this.element.getAttribute("data-reverse"),this.groupLength=this.element.getAttribute("data-grouplength")||3)};e.prototype._divideIntoArray=function(t){for(var e,n,r,i=(""+this.groupLength).split(","),o=1===i.length,s=[],a=0;i.length&&a<t.length;)e=o?i[0]:i.shift()||t.length-a,r=Math.min(parseInt(e,10),t.length-a),n=this.reverse?-1*(r+a):a,s.push(t.substr(n,r)),a+=r;return this.reverse&&s.reverse(),s},e.prototype.format=function(t){var e=this.unformat(t);return this._divideIntoArray(e).join(this.delimiter)},e.prototype.val=function(){return this.format(this.element.value)},e.prototype.update=function(){var t=this.element.getAttribute("maxlength"),e=this.val();t&&(e=e.substr(0,t)),this.useProxy()||(this.element.value=e)},e.prototype.unformat=function(t){return t.replace(new RegExp(this.delimiter,"g"),"")},e.prototype.reset=function(){this.element.value=this.unformat(this.element.value)},e.prototype.useProxy=function(){return"number"===this.type},e.prototype.updateProxy=function(){this.useProxy()&&(this.element.parentNode.firstChild.innerHTML=this.val())},e.prototype.createProxy=function(){function t(t,e){return window.getComputedStyle(t,null).getPropertyValue(e)}function e(e,n){for(var r=0,i=0,o=n.length;o>i;i++)r+=parseFloat(t(e,n[i]));return r}if(this.useProxy()){var n=this.element.parentNode,r=document.createElement("div"),i=document.createElement("div");i.innerHTML=this.val(),i.style.font=t(this.element,"font"),i.style.left=e(this.element,["padding-left","border-left-width"])+"px",i.style.top=e(this.element,["padding-top","border-top-width","margin-top"])+"px",r.appendChild(i),r.className="politespace-proxy active";var o=n.replaceChild(r,this.element);r.appendChild(o)}},t.Politespace=e}(this),function(t){"use strict";var e="politespace",n="data-enhanced",r="[data-"+e+"]:not(["+n+"])";t.fn[e]=function(){return this.each(function(){var n=new Politespace(this);"number"===n.type&&n.createProxy(),t(this).bind("input keydown",function(){n.updateProxy()}).bind("blur",function(){t(this).closest(".politespace-proxy").addClass("active"),n.update()}).bind("focus",function(){t(this).closest(".politespace-proxy").removeClass("active"),n.reset()}).data(e,n),n.update()})},t(document).bind("enhance",function(i){var o=t(i.target).is(r)?t(i.target):t(r,i.target);o[e]().attr(n,"true")})}(jQuery);
//# sourceMappingURL=./politespace.min.js.map