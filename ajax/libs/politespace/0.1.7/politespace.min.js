!function(t,e){"use strict";var i=function(t){if(!t)throw new Error("Politespace requires an element argument.");if(t.getAttribute){this.element=t,this.$element=e(t),this.delimiter=this.$element.attr("data-delimiter")||" ",this.decimalMark=this.$element.attr("data-decimal-mark")||"",this.reverse=this.$element.is("[data-reverse]"),this.groupLength=this.$element.attr("data-grouplength")||3;var i=this.$element.attr("data-proxy-anchor");this.$proxyAnchor=this.$element,this.$proxy=null,i&&(this.$proxyAnchor=this.$element.closest(i))}};i.prototype._divideIntoArray=function(t){for(var e,i,r,s=(""+this.groupLength).split(","),n=1===s.length,o=[],a=0;s.length&&a<t.length;)e=n?s[0]:s.shift()||t.length-a,r=Math.min(parseInt(e,10),t.length-a),i=this.reverse?-1*(r+a):a,o.push(t.substr(i,r)),a+=r;return this.reverse&&o.reverse(),o},i.prototype.format=function(t){var e,i=this.unformat(t),r="";return this.decimalMark&&(e=i.split(this.decimalMark),r=e.length>1?this.decimalMark+e[1]:"",i=e[0]),this._divideIntoArray(i).join(this.delimiter)+r},i.prototype.trimMaxlength=function(t){var e=this.element.getAttribute("maxlength");return e&&(t=t.substr(0,e)),t},i.prototype.getValue=function(){return this.trimMaxlength(this.element.value)},i.prototype.update=function(){this.element.value=this.useProxy()||"password"===this.$element.attr("type")?this.getValue():this.format(this.getValue())},i.prototype.unformat=function(t){return t.replace(new RegExp(this.delimiter,"g"),"")},i.prototype.reset=function(){this.element.value=this.unformat(this.element.value)},i.prototype.useProxy=function(){return"number"===this.$element.attr("type")},i.prototype.updateProxy=function(){this.useProxy()&&this.$proxy.length&&(this.$proxy.html(this.format(this.getValue())),this.$proxy.css("width",this.element.offsetWidth+"px"))},i.prototype.createProxy=function(){function t(t,e){for(var r=0,s=0,n=e.length;n>s;s++)r+=parseFloat(i.$element.css(e[s]));return r}if(this.useProxy()){var i=this,r=e("<div>").addClass("politespace-proxy active"),s=this.$proxyAnchor.parent();this.$proxy=e("<div>").css({font:this.$element.css("font"),"padding-left":t(this.element,["padding-left","border-left-width"])+"px","padding-right":t(this.element,["padding-right","border-right-width"])+"px",top:t(this.element,["padding-top","border-top-width","margin-top"])+"px"}),r.append(this.$proxy),r.append(this.$proxyAnchor),s.append(r),this.updateProxy()}},i.prototype.setGroupLength=function(t){this.groupLength=t,this.$element.attr("data-grouplength",t)},t.Politespace=i}(this,jQuery),function(t){"use strict";t(document).bind("politespace-input",function(e){var i=t(e.target);if(i.is("[data-politespace-creditcard]")){var r=i.data("politespace"),s=parseInt(i.val().substr(0,1),10);switch(s){case 3:r.setGroupLength("4,6,");break;case 4:case 5:case 6:r.setGroupLength("4")}}})}(jQuery),function(t){"use strict";var e="politespace",i="[data-"+e+"]";t.fn[e]=function(){return this.each(function(){var i=t(this);if(!i.data(e)){var r=new Politespace(this);r.useProxy()&&r.createProxy(),t(this).bind("politespace-hide-proxy",function(){t(this).closest(".politespace-proxy").removeClass("active"),r.update()}).bind("politespace-show-proxy",function(){t(this).closest(".politespace-proxy").addClass("active"),r.update(),r.useProxy()&&r.updateProxy()}).bind("input keydown",function(){t(this).trigger("politespace-input"),r.updateProxy()}).bind("blur",function(){r.update(),r.useProxy()&&t(this).trigger("politespace-show-proxy")}).bind("focus",function(){t(this).trigger("politespace-hide-proxy"),r.reset()}).data(e,r),r.update()}})},t(document).bind("enhance",function(r){var s=t(r.target).is(i)?t(r.target):t(i,r.target);s[e]()})}(jQuery);
//# sourceMappingURL=./politespace.min.js.map