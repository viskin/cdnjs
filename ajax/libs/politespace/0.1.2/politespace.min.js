!function(t){"use strict";var e=function(t){if(!t)throw new Error("Politespace requires an element argument.");if(t.getAttribute){var e;this.element=t,this.type=this.element.getAttribute("type"),this.delimiter=this.element.getAttribute("data-delimiter")||" ",this.groupLength=this.element.getAttribute("data-grouplength")||3,e=this._buildRegexArr(this.groupLength),this.groupRegNonUniform=e.length>1,this.groupReg=new RegExp(e.join(""),this.groupRegNonUniform?"":"g")}};e.prototype._buildRegexArr=function(t){for(var e=(""+t).split(","),i=[],n=0,r=e.length;r>n;n++)i.push("([\\S]{"+(""===e[n]?"1,":e[n])+"})"+(n>0?"?":""));return i},e.prototype.format=function(t){var e,i=t.replace(/\D/g,"");if(this.groupRegNonUniform){if(e=i.match(this.groupReg)){e.shift();for(var n=0;n<e.length;n++)e[n]||(e.splice(n,1),n--)}i=(e||[i]).join(this.delimiter)}else i=i.replace(this.groupReg,"$1"+this.delimiter),i.substr(i.length-1)===this.delimiter&&(i=i.substr(0,i.length-1));return i},e.prototype.val=function(){return this.format(this.element.value)},e.prototype.update=function(){var t=this.element.getAttribute("maxlength"),e=this.val();t&&(e=e.substr(0,t)),this.useProxy()||(this.element.value=e)},e.prototype.unformat=function(t){return t.replace(/\s/g,"")},e.prototype.reset=function(){this.element.value=this.unformat(this.element.value)},e.prototype.useProxy=function(){return"number"===this.type},e.prototype.updateProxy=function(){this.useProxy()&&(this.element.parentNode.firstChild.innerHTML=this.val())},e.prototype.createProxy=function(){function t(t,e){return window.getComputedStyle(t,null).getPropertyValue(e)}function e(e,i){return parseFloat(t(e,i))}if(this.useProxy()){var i=this.element.parentNode,n=document.createElement("div"),r=document.createElement("div");r.innerHTML=this.val(),r.style.fontFamily=t(this.element,"font-family"),r.style.left=e(this.element,"padding-left")+e(this.element,"border-left-width")+"px",r.style.top=e(this.element,"padding-top")+e(this.element,"border-top-width")+"px",n.appendChild(r),n.className="politespace-proxy active";var o=i.replaceChild(n,this.element);n.appendChild(o)}},t.Politespace=e}(this),function(t){"use strict";var e="politespace",i="data-enhanced",n="[data-"+e+"]:not(["+i+"])";t.fn[e]=function(){return this.each(function(){var i=new Politespace(this);"number"===i.type&&i.createProxy(),t(this).bind("input keydown",function(){i.updateProxy()}).bind("blur",function(){t(this).closest(".politespace-proxy").addClass("active"),i.update()}).bind("focus",function(){t(this).closest(".politespace-proxy").removeClass("active"),i.reset()}).data(e,i),i.update()})},t(document).bind("enhance",function(r){var o=t(r.target).is(n)?t(r.target):t(n,r.target);o[e]().attr(i,"true")})}(jQuery);
//# sourceMappingURL=./politespace.min.js.map