!function(t){"use strict";var e=function(t){if(!t)throw new Error("Politespace requires an element argument.");t.getAttribute&&(this.element=t,this.type=this.element.getAttribute("type"),this.delimiter=this.element.getAttribute("data-delimiter")||" ",this.reverse=null!==this.element.getAttribute("data-reverse"),this.groupLength=this.element.getAttribute("data-grouplength")||3)};e.prototype._divideIntoArray=function(t){for(var e,i,r,n=(""+this.groupLength).split(","),o=1===n.length,s=[],a=0;n.length&&a<t.length;)e=o?n[0]:n.shift()||t.length-a,r=Math.min(parseInt(e,10),t.length-a),i=this.reverse?-1*(r+a):a,s.push(t.substr(i,r)),a+=r;return this.reverse&&s.reverse(),s},e.prototype.format=function(t){var e=this.unformat(t);return this._divideIntoArray(e).join(this.delimiter)},e.prototype.trimMaxlength=function(t){var e=this.element.getAttribute("maxlength");return e&&(t=t.substr(0,e)),t},e.prototype.getValue=function(){return this.trimMaxlength(this.element.value)},e.prototype.update=function(){this.element.value=this.useProxy()?this.getValue():this.format(this.getValue())},e.prototype.unformat=function(t){return t.replace(new RegExp(this.delimiter,"g"),"")},e.prototype.reset=function(){this.element.value=this.unformat(this.element.value)},e.prototype.useProxy=function(){return"number"===this.type},e.prototype.updateProxy=function(){var t;this.useProxy()&&(t=this.element.parentNode.firstChild,t.innerHTML=this.format(this.getValue()),t.style.width=this.element.offsetWidth+"px")},e.prototype.createProxy=function(){function t(t,e){return window.getComputedStyle(t,null).getPropertyValue(e)}function e(e,i){for(var r=0,n=0,o=i.length;o>n;n++)r+=parseFloat(t(e,i[n]));return r}if(this.useProxy()){var i=this.element.parentNode,r=document.createElement("div"),n=document.createElement("div");n.style.font=t(this.element,"font"),n.style.paddingLeft=e(this.element,["padding-left","border-left-width"])+"px",n.style.paddingRight=e(this.element,["padding-right","border-right-width"])+"px",n.style.top=e(this.element,["padding-top","border-top-width","margin-top"])+"px",r.appendChild(n),r.className="politespace-proxy active";var o=i.replaceChild(r,this.element);r.appendChild(o),this.updateProxy()}},t.Politespace=e}(this),function(t){"use strict";var e="politespace",i="data-enhanced",r="[data-"+e+"]:not(["+i+"])";t.fn[e]=function(){return this.each(function(){var i=new Politespace(this);"number"===i.type&&i.createProxy(),t(this).bind("input keydown",function(){i.updateProxy()}).bind("blur",function(){t(this).closest(".politespace-proxy").addClass("active"),i.update(),i.updateProxy()}).bind("focus",function(){t(this).closest(".politespace-proxy").removeClass("active"),i.reset()}).data(e,i),i.update()})},t(document).bind("enhance",function(n){var o=t(n.target).is(r)?t(n.target):t(r,n.target);o[e]().attr(i,"true")})}(jQuery);
//# sourceMappingURL=./politespace.min.js.map