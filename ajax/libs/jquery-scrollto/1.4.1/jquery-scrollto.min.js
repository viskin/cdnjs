(function(name,context,definition){if(typeof module!="undefined"&&module.exports)module.exports=definition();else if(typeof define=="function"&&define.amd)define(definition);else context[name]=definition()})("jquery-scrollto",this,function(){var jQuery,$,ScrollTo;jQuery=$=window.jQuery||require("jquery");ScrollTo={config:{duration:400,easing:"swing",callback:undefined,durationMode:"each",offsetTop:0,offsetLeft:0},configure:function(options){$.extend(ScrollTo.config,options||{});return this},scroll:function(collections,config){var collection,$container,container,$target,$inline,position,containerScrollTop,containerScrollLeft,containerScrollTopEnd,containerScrollLeftEnd,startOffsetTop,targetOffsetTop,targetOffsetTopAdjusted,startOffsetLeft,targetOffsetLeft,targetOffsetLeftAdjusted,scrollOptions,callback;collection=collections.pop();$container=collection.$container;$target=collection.$target;$inline=$("<span/>").css({position:"absolute",top:"0px",left:"0px"});position=$container.css("position");$container.css({position:"relative"});$inline.appendTo($container);startOffsetTop=$inline.offset().top;targetOffsetTop=$target.offset().top;targetOffsetTopAdjusted=targetOffsetTop-startOffsetTop-parseInt(config.offsetTop,10);startOffsetLeft=$inline.offset().left;targetOffsetLeft=$target.offset().left;targetOffsetLeftAdjusted=targetOffsetLeft-startOffsetLeft-parseInt(config.offsetLeft,10);containerScrollTop=$container.prop("scrollTop");containerScrollLeft=$container.prop("scrollLeft");$inline.remove();$container.css({position:position});scrollOptions={};callback=function(event){if(collections.length===0){if(typeof config.callback==="function"){config.callback.apply(this,[event])}}else{ScrollTo.scroll(collections,config)}return true};if(config.onlyIfOutside){containerScrollTopEnd=containerScrollTop+$container.height();containerScrollLeftEnd=containerScrollLeft+$container.width();if(containerScrollTop<targetOffsetTopAdjusted&&targetOffsetTopAdjusted<containerScrollTopEnd){targetOffsetTopAdjusted=containerScrollTop}if(containerScrollLeft<targetOffsetLeftAdjusted&&targetOffsetLeftAdjusted<containerScrollLeftEnd){targetOffsetLeftAdjusted=containerScrollLeft}}if(targetOffsetTopAdjusted!==containerScrollTop){scrollOptions.scrollTop=targetOffsetTopAdjusted}if(targetOffsetLeftAdjusted!==containerScrollLeft){scrollOptions.scrollLeft=targetOffsetLeftAdjusted}if($container.prop("scrollHeight")===$container.width()){delete scrollOptions.scrollTop}if($container.prop("scrollWidth")===$container.width()){delete scrollOptions.scrollLeft}if(scrollOptions.scrollTop!=null||scrollOptions.scrollLeft!=null){var animationOptions={duration:config.duration,easing:config.easing};if($container.prop("tagName")==="HTML"){var callbackDelay=0;if(scrollOptions.scrollTop!=null){callbackDelay+=animationOptions.duration;$container.animate({scrollTop:scrollOptions.scrollTop},animationOptions)}if(scrollOptions.scrollLeft!=null){callbackDelay+=animationOptions.duration;$container.animate({scrollLeft:scrollOptions.scrollLeft},animationOptions)}setTimeout(callback,callbackDelay)}else{animationOptions.complete=callback;$container.animate(scrollOptions,animationOptions)}}else{callback()}return true},fn:function(options){var collections,config,$container,container;collections=[];var $target=$(this);if($target.length===0){return this}config=$.extend({},ScrollTo.config,options);$container=$target.parent();container=$container.get(0);while($container.length===1&&container!==document.body&&container!==document){var scrollTop,scrollLeft;scrollTop=$container.css("overflow-y")!=="visible"&&container.scrollHeight!==container.clientHeight;scrollLeft=$container.css("overflow-x")!=="visible"&&container.scrollWidth!==container.clientWidth;if(scrollTop||scrollLeft){collections.push({$container:$container,$target:$target});$target=$container}$container=$container.parent();container=$container.get(0)}collections.push({$container:$("html,body"),$target:$target});if(config.durationMode==="all"){config.duration/=collections.length}ScrollTo.scroll(collections,config);return this}};$.ScrollTo=$.ScrollTo||ScrollTo;$.fn.ScrollTo=$.fn.ScrollTo||ScrollTo.fn;return ScrollTo});