function waterfall(a){function c(a,b){var c=window.getComputedStyle(b);return parseFloat(c["margin"+a])||0}function d(a){return a+"px"}function e(a){return parseFloat(a.style.top)}function f(a){return parseFloat(a.style.left)}function g(a){return a.clientWidth}function h(a){return a.clientHeight}function i(a){return e(a)+h(a)+c("Bottom",a)}function j(a){return f(a)+g(a)+c("Right",a)}function k(a){a=a.sort(function(a,b){return i(a)===i(b)?f(b)-f(a):i(b)-i(a)})}"string"==typeof a&&(a=document.querySelector(a));var b=[].map.call(a.children,function(a){return a.style.position="absolute",a});a.style.position="relative";var l=[];b.length&&(b[0].style.top="0px",b[0].style.left=d(c("Left",b[0])),l.push(b[0]));for(var m=1;m<b.length;m++){var n=b[m-1],o=b[m],p=j(n)+g(o)<=g(a);if(!p)break;o.style.top=n.style.top,o.style.left=d(j(n)+c("Left",o)),l.push(o)}for(;m<b.length;m++){k(l);var o=b[m],q=l.pop();o.style.top=d(i(q)+c("Top",o)),o.style.left=d(f(q)),l.push(o)}a.style.height=d(i(l[0])+c("Bottom",l[0]))}