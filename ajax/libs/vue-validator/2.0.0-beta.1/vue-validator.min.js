/*!
 * vue-validator v2.0.0-alpha.22
 * (c) 2016 kazuya kawaguchi
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.VueValidator=e()}(this,function(){"use strict";function t(t,e){window.console&&(console.warn("[vue-validator] "+t),e&&console.warn(e.stack))}function e(t){if(null===t||void 0===t)return!0;if(Array.isArray(t)){if(t.length>0)return!1;if(0===t.length)return!0}else if(k.Vue.util.isPlainObject(t))for(var e in t)if(k.Vue.util.hasOwn(t,e))return!1;return!0}function i(t,e,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)e.call(i||t[a],t[a],a);else if(k.Vue.util.isPlainObject(t)){var n=k.Vue.util.hasOwn;for(var r in t)n(t,r)&&e.call(i||t[r],t[r],r)}}function a(t,e){var i=k.Vue.util.indexOf(t,e);return~i?t.splice(i,1):null}function n(t,e,i){var a=document.createEvent("HTMLEvents");if(a.initEvent(e,!0,!1),i)for(var n in i)a[n]=i[n];try{t.dispatchEvent(a)}catch(a){}}function r(t){if(Array.isArray(t)){if(0!==t.length){for(var e=!0,i=0,a=t.length;a>i&&(e=r(t[i]),e);i++);return e}return!1}return"number"==typeof t||"function"==typeof t?!0:"boolean"==typeof t?t:"string"==typeof t?t.length>0:null!==t&&"object"===("undefined"==typeof t?"undefined":y["typeof"](t))?Object.keys(t).length>0:null===t||void 0===t?!1:void 0}function s(t,e){if("string"!=typeof e)return!1;var i=e.match(new RegExp("^/(.*?)/([gimy]*)$"));return i?new RegExp(i[1],i[2]).test(t):!1}function o(t,e){return"string"==typeof t?h(e,10)&&t.length>=parseInt(e,10):Array.isArray(t)?t.length>=parseInt(e,10):!1}function l(t,e){return"string"==typeof t?h(e,10)&&t.length<=parseInt(e,10):Array.isArray(t)?t.length<=parseInt(e,10):!1}function u(t,e){return!isNaN(+t)&&!isNaN(+e)&&+t>=+e}function d(t,e){return!isNaN(+t)&&!isNaN(+e)&&+e>=+t}function h(t){return/^(-?[1-9]\d*|0)$/.test(t)}function c(t){var e=t.util.extend,i=Object.create(null);e(i,V),t.options.validators=i;var a=t.config.optionMergeStrategies;a&&(a.validators=function(t,i){if(!i)return t;if(!t)return i;var a=Object.create(null);e(a,t);for(var n in i)a[n]=i[n];return a}),t.validator=function(e,i){return i?void(t.options.validators[e]=i):t.options.validators[e]}}function v(t){var e=t.prototype._init;t.prototype._init=function(t){this._validatorMaps||(this._validatorMaps=Object.create(null)),e.call(this,t)};var i=t.prototype._destroy;t.prototype._destroy=function(){i.apply(this,arguments),this._validatorMaps=null}}function f(e){var a=e.util,n=e.directive("if"),r=e.FragmentFactory;e.compiler.terminalDirectives.push("validate"),e.directive("validate",{priority:n.priority+1,params:["group","field","detect-blur","detect-change"],paramWatchers:{detectBlur:function(t,e){this.validation.detectBlur=this.isDetectBlur(t),this.validator.validate()},detectChange:function(t,e){this.validation.detectChange=this.isDetectChange(t),this.validator.validate()}},bind:function(){if(this.el.__vue__)return void t('v-validate="'+this.expression+'" cannot be used on an instance root element.');var e=this.vm.$options._validator;return e?(this.model=this.el.getAttribute("v-model"),this.setupFragment(),this.setupValidate(e,this.model),void this.listen()):void t('v-validate need to use into validator element directive: (e.g. <validator name="validator"><input type="text" v-validate:field1="[\'required\']"></validator>).')},update:function(t,e){t&&(a.isPlainObject(t)?this.handleObject(t):Array.isArray(t)&&this.handleArray(t),this.validator.validate())},unbind:function(){this.unlisten(),this.teardownValidate(),this.teardownFragment(),this.model=null},setupValidate:function(t,e){var i=this.params,n=this.validator=this.vm._validatorMaps[t];this.field=a.camelize(this.arg?this.arg:i.field),this.validation=n.manageValidation(this.field,e,this.vm,this.frag.node,this._scope,this.isDetectBlur(this.params.detectBlur),this.isDetectChange(this.params.detectChange)),i.group&&n.addGroupValidation(i.group,this.field)},listen:function(){var t=this.model,e=this.validation,i=this.frag.node;this.onBlur=a.bind(e.listener,e),a.on(i,"blur",this.onBlur),"radio"!==i.type&&"SELECT"!==i.tagName||t?"checkbox"===i.type?t?(this.onClick=a.bind(e.listener,e),a.on(i,"click",this.onClick)):(this.onChange=a.bind(e.listener,e),a.on(i,"change",this.onChange)):t||(this.onInput=a.bind(e.listener,e),a.on(i,"input",this.onInput)):(this.onChange=a.bind(e.listener,e),a.on(i,"change",this.onChange))},unlisten:function(){var t=this.frag.node;this.onInput&&(a.off(t,"input",this.onInput),this.onInput=null),this.onClick&&(a.off(t,"click",this.onClick),this.onClick=null),this.onChange&&(a.off(t,"change",this.onChange),this.onChange=null),this.onBlur&&(a.off(t,"blur",this.onBlur),this.onBlur=null)},teardownValidate:function(){if(this.validator&&this.validation){var t=this.frag.node;this.params.group&&this.validator.removeGroupValidation(this.params.group,this.field),this.validator.unmanageValidation(this.field,t),this.validator=null,this.validation=null,this.field=null}},setupFragment:function(){this.anchor=a.createAnchor("v-validate"),a.replace(this.el,this.anchor),this.factory=new r(this.vm,this.el),this.frag=this.factory.create(this._host,this._scope,this._frag),this.frag.before(this.anchor)},teardownFragment:function(){this.frag&&(this.frag.remove(),this.frag=null,this.factory=null),a.replace(this.anchor,this.el),this.anchor=null},handleArray:function(t){var e=this;i(t,function(t){e.validation.setValidation(t)},this)},handleObject:function(t){var e=this;i(t,function(t,i){if(a.isPlainObject(t)){if("rule"in t){var n="message"in t?t.message:null;e.validation.setValidation(i,t.rule,n)}}else e.validation.setValidation(i,t)},this)},isDetectBlur:function(t){return void 0===t||"on"===t||t===!0},isDetectChange:function(t){return void 0===t||"on"===t||t===!0}})}function p(e){var i=e.util,a=e.FragmentFactory,n=e.directive("if"),r=e.util.camelize;e.elementDirective("validator",{params:["name","groups","lazy"],bind:function(){if(!this.params.name)return void t("validator element directive need to specify 'name' param attribute: (e.g. <validator name=\"validator1\">...</validator>)");if(this.validatorName="$"+r(this.params.name),!this.vm._validatorMaps)throw new Error("Invalid validator management error");this.setupValidator(),this.setupFragment(this.params.lazy)},unbind:function(){this.teardownFragment(),this.teardownValidator()},getGroups:function(){var t=[];return this.params.groups&&(i.isArray(this.params.groups)?t=this.params.groups:i.isPlainObject(this.params.groups)||"string"!=typeof this.params.groups||t.push(this.params.groups)),t},setupValidator:function(){var t=this.validator=new x(this.validatorName,this,this.getGroups());t.enableReactive(),t.setupScope(),t.registerEvents()},teardownValidator:function(){this.validator.unregisterEvents(),this.validator.disableReactive(),this.validatorName&&(this.validatorName=null,this.validator=null)},setupFragment:function(t){var e=this;this.validator.waitFor(function(){e.anchor=i.createAnchor("vue-validator"),i.replace(e.el,e.anchor),i.extend(e.vm.$options,{_validator:e.validatorName}),e.factory=new a(e.vm,e.el.innerHTML),n.insert.call(e),e.validator.validate()}),t||this.vm.$activateValidator()},teardownFragment:function(){n.unbind.call(this)}})}function _(t){var e={name:"validator-error",props:{field:{type:String,required:!0},validator:{type:String},message:{type:String,required:!0},partial:{type:String,"default":"validator-error-default"}},template:'<div><partial :name="partial"></partial></div>',partials:{}};return e.partials["validator-error-default"]="<p>{{field}}: {{message}}</p>",e}function g(t){var e=t.util,i=_(t),a={name:"validator-errors",props:{validation:{type:Object,required:!0},group:{type:String,"default":null},field:{type:String,"default":null},component:{type:String,"default":"validator-error"}},computed:{errors:function(){var t=this;if(null!==this.group)return this.validation[this.group].errors;if(null!==this.field){var i=this.validation[this.field];return i.errors.map(function(i){var a={field:t.field};return e.isPlainObject(i)?(i.validator&&(a.validator=i.validator),a.message=i.message):"string"==typeof i&&(a.message=i),a})}return this.validation.errors}},template:'<template v-for="error in errors"><component :is="component" :partial="partial" :field="error.field" :validator="error.validator" :message="error.message"></component></template>',components:{}};return a.props.partial=i.props.partial,a.components[i.name]=i,t.component(a.name,a),a}function m(e){arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return m.installed?void t("already installed."):(k.Vue=e,c(e),g(e),v(e),p(e),void f(e))}var y={};y["typeof"]="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},y.classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},y.createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),y.inherits=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},y.possibleConstructorReturn=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e};var k={},V=Object.freeze({required:r,pattern:s,minlength:o,maxlength:l,min:u,max:d}),b=function(){function t(e,i,a,n,r,s,o,l){y.classCallCheck(this,t),this.field=e,this.touched=!1,this.dirty=!1,this.modified=!1,this._modified=!1,this._model=i,this._validator=s,this._vm=a,this._el=n,this._forScope=r,this._init=this._getValue(n),this._validators={},this._detectBlur=o,this._detectChange=l}return y.createClass(t,[{key:"manageElement",value:function(t){var e=this,i=this._getScope(),a=this._model;a&&(t.value=i.$get(a)||"",this._unwatch=i.$watch(a,function(i,a){if(i!==a){if(e.guardValidate(t,"input"))return;e.handleValidate(t)}},{deep:!0}))}},{key:"unmanageElement",value:function(t){this._unwatch&&this._unwatch()}},{key:"setValidation",value:function(t,e,i){var a=this._validators[t];a||(a=this._validators[t]={},a.name=t),a.arg=e,i&&(a.msg=i)}},{key:"willUpdateFlags",value:function(){var t=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];t&&this.willUpdateTouched(this._el,"blur"),this.willUpdateDirty(this._el),this.willUpdateModified(this._el)}},{key:"willUpdateTouched",value:function(t,e){e&&"blur"===e&&(this.touched=!0,this._fireEvent(t,"touched"))}},{key:"willUpdateDirty",value:function(t){!this.dirty&&this._checkModified(t)&&(this.dirty=!0,this._fireEvent(t,"dirty"))}},{key:"willUpdateModified",value:function(t){this.modified=this._checkModified(t),this._modified!==this.modified&&(this._fireEvent(t,"modified",{modified:this.modified}),this._modified=this.modified)}},{key:"listener",value:function(t){(!t.relatedTarget||"A"!==t.relatedTarget.tagName&&"BUTTON"!==t.relatedTarget.tagName)&&(this.guardValidate(t.target,t.type)||this.handleValidate(t.target,t.type))}},{key:"handleValidate",value:function(t,e){this.willUpdateTouched(t,e),this.willUpdateDirty(t),this.willUpdateModified(t),this._validator.validate()}},{key:"validate",value:function(){var t=this,a=k.Vue.util,n={},r=[],s=!0;i(this._validators,function(e,i){var o=t._resolveValidator(i),l=null,u=null;if(a.isPlainObject(o)?(o.check&&"function"==typeof o.check&&(l=o.check),o.message&&(u=o.message)):"function"==typeof o&&(l=o),e.msg&&(u=e.msg),l){var d=l.call(t._vm,t._getValue(t._el),e.arg);if(d)n[i]=!d;else if(s=!1,u){var h={validator:i};h.message="function"==typeof u?u.call(t._vm,t.field,e.arg):u,r.push(h),n[i]=h.message}else n[i]=!d}},this),this._fireEvent(this._el,s?"valid":"invalid");var o={valid:s,invalid:!s,touched:this.touched,untouched:!this.touched,dirty:this.dirty,pristine:!this.dirty,modified:this.modified};return e(r)||(o.errors=r),a.extend(n,o),n}},{key:"resetFlags",value:function(){this.touched=!1,this.dirty=!1,this.modified=!1,this._modified=!1}},{key:"reset",value:function(){this.resetFlags(),this._init=this._getValue(this._el)}},{key:"guardValidate",value:function(t,e){return e&&"blur"===e&&!this.detectBlur?!0:e&&"input"===e&&!this.detectChange?!0:e&&"change"===e&&!this.detectChange?!0:e&&"click"===e&&!this.detectChange?!0:!1}},{key:"_getValue",value:function(t){return t.value}},{key:"_getScope",value:function(){return this._forScope||this._vm}},{key:"_checkModified",value:function(t){return this._init!==this._getValue(t)}},{key:"_fireEvent",value:function(t,e,i){n(t,e,i)}},{key:"_resolveValidator",value:function(t){var e=k.Vue.util.resolveAsset;return e(this._vm.$options,"validators",t)}},{key:"detectChange",get:function(){return this._detectChange},set:function(t){this._detectChange=t}},{key:"detectBlur",get:function(){return this._detectBlur},set:function(t){this._detectBlur=t}}]),t}(),w=function(t){function e(t,i,a,n,r,s,o,l){y.classCallCheck(this,e);var u=y.possibleConstructorReturn(this,Object.getPrototypeOf(e).call(this,t,i,a,n,r,s,o,l));return u._inits=[],u}return y.inherits(e,t),y.createClass(e,[{key:"manageElement",value:function(t){var e=this,i=this._addItem(t),a=this._getScope(),n=i.model=this._model;if(n){var r=a.$get(n);Array.isArray(r)?(this._setChecked(r,i.el),i.unwatch=a.$watch(n,function(t,a){if(t!==a){if(e.guardValidate(i.el,"change"))return;e.handleValidate(i.el)}})):(t.checked=r||!1,this._init=t.checked,i.init=t.checked,i.value=t.value,i.unwatch=a.$watch(n,function(i,a){if(i!==a){if(e.guardValidate(t,"change"))return;e.handleValidate(t)}}))}else this._validator.validate()}},{key:"unmanageElement",value:function(t){var e=-1;i(this._inits,function(i,a){i.el===t&&(e=a,i.unwatch&&i.model&&(i.unwatch(),i.unwatch=null,i.model=null))}),-1!==e&&(this._inits.splice(e,1),this._validator.validate())}},{key:"willUpdateFlags",value:function(){var t=this;i(this._inits,function(e,i){t.willUpdateDirty(e.el),t.willUpdateModified(e.el)},this)}},{key:"reset",value:function(){this.resetFlags(),i(this._inits,function(t,e){t.init=t.el.checked,t.value=t.el.value})}},{key:"_addItem",value:function(t){var e={el:t,init:t.checked,value:t.value};return this._inits.push(e),e}},{key:"_setChecked",value:function(t,e){for(var i=0,a=t.length;a>i;i++){var n=t[i];e.disabled||e.value!==n||e.checked||(e.checked=!0)}}},{key:"_getValue",value:function(t){var e=this;if(!this._inits||0===this._inits.length)return t.checked;var a=function(){var t=[];return i(e._inits,function(e,i){e.el.checked&&t.push(e.el.value)}),{v:t}}();return"object"===("undefined"==typeof a?"undefined":y["typeof"](a))?a.v:void 0}},{key:"_checkModified",value:function(t){var e=this;if(0===this._inits.length)return this._init!==t.checked;var a=function(){var t=!1;return i(e._inits,function(e,i){t||(t=e.init!==e.el.checked)}),{v:t}}();return"object"===("undefined"==typeof a?"undefined":y["typeof"](a))?a.v:void 0}}]),e}(b),C=function(t){function e(t,i,a,n,r,s,o,l){y.classCallCheck(this,e);var u=y.possibleConstructorReturn(this,Object.getPrototypeOf(e).call(this,t,i,a,n,r,s,o,l));return u._inits=[],u}return y.inherits(e,t),y.createClass(e,[{key:"manageElement",value:function(t){var e=this,i=this._addItem(t),a=this._getScope(),n=i.model=this._model;if(n){var r=a.$get(n);this._setChecked(r,t,i),i.unwatch=a.$watch(n,function(a,n){if(a!==n){if(e.guardValidate(i.el,"change"))return;e.handleValidate(t)}})}else this._validator.validate()}},{key:"unmanageElement",value:function(t){var e=-1;i(this._inits,function(i,a){i.el===t&&(e=a)}),-1!==e&&(this._inits.splice(e,1),this._validator.validate())}},{key:"willUpdateFlags",value:function(){var t=this;i(this._inits,function(e,i){t.willUpdateDirty(e.el),t.willUpdateModified(e.el)},this)}},{key:"reset",value:function(){this.resetFlags(),i(this._inits,function(t,e){t.init=t.el.checked,t.value=t.el.value})}},{key:"_addItem",value:function(t){var e={el:t,init:t.checked,value:t.value};return this._inits.push(e),e}},{key:"_setChecked",value:function(t,e,i){e.value===t&&(e.checked=!0,this._init=e.checked,i.init=e.checked,i.value=t)}},{key:"_getValue",value:function(t){var e=this;if(!this._inits||0===this._inits.length)return t.checked;var a=function(){var t=[];return i(e._inits,function(e,i){e.el.checked&&t.push(e.el.value)}),{v:t}}();return"object"===("undefined"==typeof a?"undefined":y["typeof"](a))?a.v:void 0}},{key:"_checkModified",value:function(t){var e=this;if(0===this._inits.length)return this._init!==t.checked;var a=function(){var t=!1;return i(e._inits,function(e,i){t||(t=e.init!==e.el.checked)}),{v:t}}();return"object"===("undefined"==typeof a?"undefined":y["typeof"](a))?a.v:void 0}}]),e}(b),E=function(t){function e(t,i,a,n,r,s,o,l){y.classCallCheck(this,e);var u=y.possibleConstructorReturn(this,Object.getPrototypeOf(e).call(this,t,i,a,n,r,s,o,l));return u._multiple=u._el.hasAttribute("multiple"),u}return y.inherits(e,t),y.createClass(e,[{key:"manageElement",value:function(t){var e=this,i=this._getScope(),a=this._model;if(a){var n=i.$get(a),r=Array.isArray(n)?n:[n];this._setOption(r,t),this._unwatch=i.$watch(a,function(i,a){var n=Array.isArray(i)?i:[i],r=Array.isArray(a)?a:[a];if(n.slice().sort().toString()!==r.slice().sort().toString()){if(e.guardValidate(t,"change"))return;e.handleValidate(t)}})}}},{key:"unmanageElement",value:function(t){this._unwatch&&this._unwatch()}},{key:"reset",value:function(){this.resetFlags()}},{key:"_getValue",value:function(t){for(var e=[],i=0,a=t.options.length;a>i;i++){var n=t.options[i];!n.disabled&&n.selected&&e.push(n.value)}return e}},{key:"_setOption",value:function(t,e){for(var i=0,a=t.length;a>i;i++)for(var n=t[i],r=0,s=e.options.length;s>r;r++){var o=e.options[r];o.disabled||o.value!==n||o.hasAttribute("selected")&&o.selected||(o.selected=!0)}}},{key:"_checkModified",value:function(t){var e=this._getValue(t).slice().sort();if(this._init.length!==e.length)return!0;var i=this._init.slice().sort();return i.toString()!==e.toString()}}]),e}(b),O=/^v-on:|^@/,x=function(){function t(e,a,n){var r=this;y.classCallCheck(this,t),this.name=e,this._scope={},this._dir=a,this._validations={},this._checkboxValidations={},this._radioValidations={},this._groups=n,this._groupValidations={},this._events={},this._modified=!1,i(n,function(t){r._groupValidations[t]=[]},this)}return y.createClass(t,[{key:"enableReactive",value:function(){var t=this;k.Vue.util.defineReactive(this._dir.vm,this.name,this._scope),this._dir.vm._validatorMaps[this.name]=this,this._dir.vm.$resetValidation=function(){t.resetValidation()},this._dir.vm.$validate=function(){var e=null,i=!1;1===arguments.length?"string"==typeof(arguments.length<=0?void 0:arguments[0])?e=arguments.length<=0?void 0:arguments[0]:"boolean"==typeof(arguments.length<=0?void 0:arguments[0])&&(i=arguments.length<=0?void 0:arguments[0]):2===arguments.length&&(e=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1]),t._validate(e,i)},this._dir.vm.$setValidationErrors=function(e){t._setValidationErrors(e)}}},{key:"disableReactive",value:function(){this._dir.vm.$setValidationErrors=void 0,this._dir.vm.$validate=void 0,this._dir.vm.$validatorReset=void 0,this._dir.vm._validatorMaps[this.name]=null,this._dir.vm[this.name]=null}},{key:"registerEvents",value:function(){for(var t=this._dir.el.attributes,e=0,i=t.length;i>e;e++){var a=t[e].name;O.test(a)&&(a=a.replace(O,""),this._events[this._getEventName(a)]=this._dir.vm.$eval(t[e].value,!0))}}},{key:"unregisterEvents",value:function(){var t=this;i(this._events,function(e,i){t._events[i]=null,delete t._events[i]},this)}},{key:"_validate",value:function(t,e){if(t){var a=this._validations[t];if(!a&&this._checkboxValidations[t]?a=this._checkboxValidations[t].validation:!a&&this._radioValidations[t]&&(a=this._radioValidations[t].validation),a){a.willUpdateFlags(e);var n=a.validate();k.Vue.set(this._scope,t,n),this._scope.dirty&&this._fireEvent("dirty"),this._modified!==this._scope.modified&&(this._fireEvent("modified",this._scope.modified),this._modified=this._scope.modified);var r=this._scope.valid;this._fireEvent(r?"valid":"invalid")}}else i(this.validations,function(t,i){t.willUpdateFlags(e)}),this.validate()}},{key:"resetValidation",value:function(){i(this._validations,function(t,e){t.reset()},this),i(this._checkboxValidations,function(t,e){t.validation.reset()},this),i(this._radioValidations,function(t,e){t.validation.reset()},this),this.validate()}},{key:"_setValidationErrors",value:function(t){var e=this,a=k.Vue.util.extend,n={};i(t,function(t,e){n[t.field]||(n[t.field]=[]),n[t.field].push(t)}),i(n,function(t,n){var r=e._scope[n],s={};i(t,function(t){t.validator&&(r[t.validator]=t.message)}),r.valid=!1,r.invalid=!0,r.errors=t,a(s,r),k.Vue.set(e._scope,n,s)},this)}},{key:"manageValidation",value:function(t,e,i,a,n,r,s){var o=null;return o="SELECT"===a.tagName?this._manageSelectValidation(t,e,i,a,n,r,s):"checkbox"===a.type?this._manageCheckboxValidation(t,e,i,a,n,r,s):"radio"===a.type?this._manageRadioValidation(t,e,i,a,n,r,s):this._manageBaseValidation(t,e,i,a,n,r,s)}},{key:"unmanageValidation",value:function(t,e){"checkbox"===e.type?this._unmanageCheckboxValidation(t,e):"radio"===e.type?this._unmanageRadioValidation(t,e):"SELECT"===e.tagName?this._unmanageSelectValidation(t,e):this._unmanageBaseValidation(t,e)}},{key:"_manageBaseValidation",value:function(t,e,i,a,n,r,s){var o=this._validations[t]=new b(t,e,i,a,n,this,r,s);return o.manageElement(a),o}},{key:"_unmanageBaseValidation",value:function(t,e){var i=this._validations[t];i&&(i.unmanageElement(e),k.Vue["delete"](this._scope,t),this._validations[t]=null,delete this._validations[t])}},{key:"_manageCheckboxValidation",value:function(t,e,i,a,n,r,s){var o=this._checkboxValidations[t];if(!o){var l=new w(t,e,i,a,n,this,r,s);o={validation:l,elements:0},this._checkboxValidations[t]=o}return o.elements++,o.validation.manageElement(a),o.validation}},{key:"_unmanageCheckboxValidation",value:function(t,e){var i=this._checkboxValidations[t];i&&(i.elements--,i.validation.unmanageElement(e),0===i.elements&&(k.Vue["delete"](this._scope,t),this._checkboxValidations[t]=null,delete this._checkboxValidations[t]))}},{key:"_manageRadioValidation",value:function(t,e,i,a,n,r,s){var o=this._radioValidations[t];if(!o){var l=new C(t,e,i,a,n,this,r,s);o={validation:l,elements:0},this._radioValidations[t]=o}return o.elements++,o.validation.manageElement(a),o.validation}},{key:"_unmanageRadioValidation",value:function(t,e){var i=this._radioValidations[t];i&&(i.elements--,i.validation.unmanageElement(e),0===i.elements&&(k.Vue["delete"](this._scope,t),this._radioValidations[t]=null,delete this._radioValidations[t]))}},{key:"_manageSelectValidation",value:function(t,e,i,a,n,r,s){var o=this._validations[t]=new E(t,e,i,a,n,this,r,s);return o.manageElement(a),o}},{key:"_unmanageSelectValidation",value:function(t,e){var i=this._validations[t];i&&(i.unmanageElement(e),k.Vue["delete"](this._scope,t),this._validations[t]=null,delete this._validations[t])}},{key:"addGroupValidation",value:function(t,e){var i=k.Vue.util.indexOf,a=this._validations[e]||this._checkboxValidations[e].validation||this._radioValidations[e].validation,n=this._groupValidations[t];n&&(~i(n,a)||n.push(a))}},{key:"removeGroupValidation",value:function(t,e){var i=this._validations[e]||this._checkboxValidations[e].validation||this._radioValidations[e].validation,n=this._groupValidations[t];n&&a(n,i)}},{key:"validate",value:function(){var t=this;i(this._validations,function(e,i){var a=e.validate();k.Vue.set(t._scope,i,a)},this),i(this._checkboxValidations,function(e,i){var a=e.validation.validate();k.Vue.set(t._scope,i,a)},this),i(this._radioValidations,function(e,i){var a=e.validation.validate();k.Vue.set(t._scope,i,a)},this),this._scope.touched&&this._fireEvent("touched"),this._scope.dirty&&this._fireEvent("dirty"),this._modified!==this._scope.modified&&(this._fireEvent("modified",this._scope.modified),this._modified=this._scope.modified);var e=this._scope.valid;this._fireEvent(e?"valid":"invalid")}},{key:"setupScope",value:function(){var t=this,e=function(){return t.validations},a=function(){return t._scope};this._defineProperties(e,a),i(this._groups,function(e){var i=t._groupValidations[e],a={};k.Vue.set(t._scope,e,a),t._defineProperties(function(){return i},function(){return a})},this)}},{key:"waitFor",value:function(t){var e=this._dir.vm,i="$activateValidator";this._dir.vm[i]=function(){t(),e[i]=null}}},{key:"_fireEvent",value:function(t){for(var e=this._events[this._getEventName(t)],i=arguments.length,a=Array(i>1?i-1:0),n=1;i>n;n++)a[n-1]=arguments[n];e&&e.apply(null,a)}},{key:"_getEventName",value:function(t){return this.name+":"+t}},{key:"_defineProperties",value:function(t,e){var a=this,n=k.Vue.util.bind;i({valid:{fn:this._defineValid,arg:t},invalid:{fn:this._defineInvalid,arg:e},touched:{fn:this._defineTouched,arg:t},untouched:{fn:this._defineUntouched,arg:e},modified:{fn:this._defineModified,arg:t},dirty:{fn:this._defineDirty,arg:t},pristine:{fn:this._definePristine,arg:e},errors:{fn:this._defineErrors,arg:t}},function(t,i){Object.defineProperty(e(),i,{enumerable:!0,configurable:!0,get:function(){return n(t.fn,a)(t.arg)}})},this)}},{key:"_walkValidations",value:function(t,e,a){var n=this,r=k.Vue.util.hasOwn,s=a;return i(t,function(t,i){if(s!==!a&&r(n._scope,t.field)){var o=n._scope[t.field];o&&o[e]===!a&&(s=!a)}},this),s}},{key:"_defineValid",value:function(t){return this._walkValidations(t(),"valid",!0)}},{key:"_defineInvalid",value:function(t){return!t().valid}},{key:"_defineTouched",value:function(t){return this._walkValidations(t(),"touched",!1)}},{key:"_defineUntouched",value:function(t){return!t().touched}},{key:"_defineModified",value:function(t){return this._walkValidations(t(),"modified",!1)}},{key:"_defineDirty",value:function(t){return this._walkValidations(t(),"dirty",!1)}},{key:"_definePristine",value:function(t){return!t().dirty}},{key:"_defineErrors",value:function(t){var a=this,n=k.Vue.util.hasOwn,r=k.Vue.util.isPlainObject,s=[];return i(t(),function(t,o){if(n(a._scope,t.field)){var l=a._scope[t.field];l&&!e(l.errors)&&i(l.errors,function(e,i){var a={field:t.field};r(e)?(e.validator&&(a.validator=e.validator),a.message=e.message):"string"==typeof e&&(a.message=e),s.push(a)},a)}},this),e(s)?void 0:s}},{key:"validations",get:function(){var t=k.Vue.util.extend,e={};return t(e,this._validations),i(this._checkboxValidations,function(t,i){e[i]=t.validation},this),i(this._radioValidations,function(t,i){e[i]=t.validation},this),e}}]),t}();return m.version="2.0.0-alpha.22","undefined"!=typeof window&&window.Vue&&window.Vue.use(m),m});