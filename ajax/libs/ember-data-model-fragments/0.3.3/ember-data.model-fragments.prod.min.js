!function(){var t,e,r,n;!function(){var i={},a={};t=function(t,e,r){i[t]={deps:e,callback:r}},n=r=e=function(t){function r(e){if("."!==e.charAt(0))return e;for(var r=e.split("/"),n=t.split("/").slice(0,-1),i=0,a=r.length;a>i;i++){var s=r[i];if(".."===s)n.pop();else{if("."===s)continue;n.push(s)}}return n.join("/")}if(a[t])return a[t];if(a[t]={},!i[t])throw new Error("Could not find module "+t);for(var n,s=i[t],o=s.deps,u=s.callback,f=[],c=0,l=o.length;l>c;c++)f.push("exports"===o[c]?n={}:e(r(o[c])));var d=u.apply(this,f);return a[t]=n||d}}(),t("core-model",["ember","./model","exports"],function(t,e,r){"use strict";var n=t["default"],i=e["default"];i.proto();var a=["_setup","_unhandledEvent","_createSnapshot","send","transitionTo","isEmpty","isLoading","isLoaded","isDirty","isSaving","isDeleted","isNew","isValid","serialize","changedAttributes","eachAttribute","fragmentDidDirty","fragmentDidReset","rollbackFragments"].reduce(function(t,e){return t[e]=i.prototype[e]||n.meta(i.prototype).descs[e],t},{}),s=["attributes","eachAttribute","transformedAttributes","eachTransformedAttribute"].reduce(function(t,e){return t[e]=i[e]||n.meta(i).descs[e],t},{}),o=n.Object.extend(a,{eachRelationship:n.K,updateRecordArraysLater:n.K});o.reopenClass(s,{eachRelationship:n.K}),r["default"]=o}),t("ember",["exports"],function(t){"use strict";t["default"]=Ember}),t("fragments/array/fragment",["ember","./stateful","../model","exports"],function(t,e,r,n){"use strict";var i=t["default"],a=e["default"],s=r.getActualFragmentType,o=i.get,u=i.EnumerableUtils.map,f=a.extend({type:null,options:null,init:function(){this._super(),this._isInitializing=!1},_processData:function(t){var e=o(this,"owner"),r=o(e,"store"),n=o(this,"type"),a=o(this,"options"),f=o(this,"name"),c=o(this,"content");this._isInitializing=!0;var l=u(i.makeArray(t),function(t,i){var o=c[i];if(!o){var u=s(n,a,t);o=r.buildFragment(u),o.setProperties({_owner:e,_name:f})}return o.setupData(t),o});return this._isInitializing=!1,l},_createSnapshot:function(){return u(this,function(t){return t._createSnapshot()})},adapterDidCommit:function(){this._super(),this.invoke("adapterDidCommit")},isDirty:function(){return this._super()||this.isAny("isDirty")}.property("@each.isDirty","_originalState"),rollback:function(){this._super(),this.invoke("rollback")},serialize:function(){return this.invoke("serialize")},replaceContent:function(t,e,r){var n=o(this,"owner"),i=o(this,"name");return r&&r.forEach(function(t){var e=o(t,"_owner");e||t.setProperties({_owner:n,_name:i})}),o(this,"content").replace(t,e,r)},addFragment:function(t){return this.addObject(t)},removeFragment:function(t){return this.removeObject(t)},createFragment:function(t){var e=o(this,"owner"),r=o(e,"store"),n=o(this,"type"),i=r.createFragment(n,t);return this.pushObject(i)}});n["default"]=f}),t("fragments/array/stateful",["ember","exports"],function(t,e){"use strict";var r=t["default"],n=r.get,i=r.set,a=(Array.prototype.splice,r.ArrayProxy.extend({owner:null,name:null,init:function(){this._super(),this._pendingData=void 0,i(this,"_originalState",[])},content:function(){return r.A()}.property(),setupData:function(t){if(this._pendingData!==t){this._pendingData=t;var e=this._processData(t);i(this,"_originalState",e),this.replaceContent(0,n(this,"content.length"),e),this._pendingData=void 0}},_processData:function(t){return r.makeArray(t)},_createSnapshot:function(){return this.toArray()},adapterDidCommit:function(){i(this,"_originalState",this.toArray())},isDirty:function(){return 0!==r.compare(this.toArray(),n(this,"_originalState"))}.property("[]","_originalState"),rollback:function(){this.setObjects(n(this,"_originalState"))},serialize:function(){return this.toArray()},arrayContentDidChange:function(){this._super.apply(this,arguments);var t=n(this,"owner"),e=n(this,"name");this.get("isDirty")?t.fragmentDidDirty(e,this):t.fragmentDidReset(e,this)},toStringExtension:function(){return"owner("+n(this,"owner.id")+")"}}));e["default"]=a}),t("fragments/attributes",["ember","../util/ember-new-computed","./array/stateful","./array/fragment","./model","exports"],function(t,e,r,n,i,a){"use strict";function s(t,e,r){return t.setProperties({_owner:e,_name:r})}function o(t,e){function r(r,n){var i=r.store,a=r._data[n]||l(r,e,"object"),o=r._fragments[n],f=g(t,e,a);return!o&&u(i.modelFor(f),a)?o=a:a&&a!==o?(o||(o=s(i.buildFragment(f),r,n)),r._data[n]=o,o.setupData(a)):o=a,o}e=e||{};var n={type:"fragment",isAttribute:!0,isFragment:!0,options:e};return m({set:function(t,e){{var n=r(this,t,e);this.store}return n=e?s(e,this,t):null,this._data[t]!==n?this.fragmentDidDirty(t,n):this.fragmentDidReset(t,n),this._fragments[t]=n},get:function(t){var e=r(this,t);return this._fragments[t]=e}}).meta(n)}function u(t,e){return e instanceof t?!0:d.MODEL_FACTORY_INJECTIONS?e instanceof t.superclass:!1}function f(t,e){function r(r,n){var i=t?p:h;return i.create({type:t,options:e,name:n,owner:r})}function n(t,n){var i=t._data[n]||l(t,e,"array"),a=t._fragments[n]||null;return i instanceof h&&!a?a=i:i&&i!==a?(a||(a=r(t,n)),t._data[n]=a,a.setupData(i)):a=i,a}"string"!==d.typeOf(t)&&(e=t,t=null),e=e||{};var i={type:"fragment",isAttribute:!0,isFragment:!0,options:e,kind:"hasMany"};return m({set:function(t,e){var i=n(this,t,e);return d.isArray(e)?(i||(i=r(this,t)),i.setObjects(e)):null===e&&(i=null),this._data[t]!==i||y(i,"isDirty")?this.fragmentDidDirty(t,i):this.fragmentDidReset(t,i),this._fragments[t]=i},get:function(t){var e=n(this,t);return this._fragments[t]=e}}).meta(i)}function c(){return d.computed.alias("_owner").readOnly()}function l(t,e){var r;if("function"==typeof e.defaultValue)r=e.defaultValue();else{if(!e.defaultValue)return null;r=e.defaultValue}return d.copy(r,!0)}var d=t["default"],m=e["default"],h=r["default"],p=n["default"],g=i.getActualFragmentType,y=d.get;a.hasOneFragment=o,a.hasManyFragments=f,a.fragmentOwner=c}),t("fragments/ext",["../store","../model","exports"],function(t,e,r){"use strict";var n=t["default"],i=e["default"],a=Ember.get;n.reopen({buildFragment:function(t){return t=this.modelFor(t),t.create({store:this})},createFragment:function(t,e){var r=this.buildFragment(t);return e&&r.setProperties(e),r.send("loadedData"),r}}),i.reopen({_setup:function(){this._super(),this._fragments={}},_createSnapshot:function(){var t=this._super.apply(this,arguments),e=t._attributes;return Ember.keys(e).forEach(function(t){var r=e[t];r&&"function"==typeof r._createSnapshot&&(e[t]=r._createSnapshot())}),t},adapterDidCommit:function(){this._super.apply(this,arguments);var t;for(var e in this._fragments)(t=this._fragments[e])&&t.adapterDidCommit()},changedAttributes:function(){var t=this._super();return Ember.keys(this._fragments).forEach(function(e){e in this._attributes&&(t[e]=!0)},this),t},rollback:function(){this._super(),this.rollbackFragments()},rollbackFragments:function(){for(var t in this._fragments)this._fragments[t]&&this._fragments[t].rollback()},fragmentDidDirty:function(t,e){a(this,"isDeleted")||(this._attributes[t]=e,this.send("becomeDirty"))},fragmentDidReset:function(t){delete this._attributes[t],a(this,"isNew")||this.send("propertyWasReset",t)}}),r.Store=n,r.Model=i}),t("fragments/model",["ember","../core-model","./states","exports"],function(t,e,r,n){"use strict";function i(t,e){s.beginPropertyChanges();for(var r=0,n=e.length;n>r;r++)t.notifyPropertyChange(e[r]);s.endPropertyChanges()}function a(t,e,r){if(!e.polymorphic||!r)return t;var n=e.typeKey||"type",i=r[n];return i||t}var s=t["default"],o=e["default"],u=r["default"],f=s.get,c=o.extend(s.Comparable,s.Copyable,{_name:null,_owner:null,currentState:u.empty,setupData:function(t){var e=f(this,"store"),r=e.modelFor(this.constructor),n=e.serializerFor(r);this._attributes={},this._data=n.normalize(r,t),this.send("pushedData"),i(this,s.keys(t))},rollback:function(){var t=s.keys(this._attributes);this._attributes={},this.rollbackFragments(),this.send("rolledBack"),i(this,t)},compare:function(t,e){return t===e?0:1},copy:function(){var t=f(this,"store"),e=t.modelFor(this.constructor),r={};return s.merge(r,this._data),s.merge(r,this._attributes),this.store.createFragment(e,r)},adapterDidCommit:function(){s.keys(this._inFlightAttributes).length&&(s.mixin(this._data,this._inFlightAttributes),this._inFlightAttributes={});var t;for(var e in this._fragments)(t=this._fragments[e])&&t.adapterDidCommit();this.transitionTo("saved")},toStringExtension:function(){return"owner("+f(this,"_owner.id")+")"},init:function(){this._super(),this._setup()}});n["default"]=c,n.getActualFragmentType=a}),t("fragments/states",["ember","../states","exports"],function(t,e,r){"use strict";function n(t,e){for(var r in e)t[r]=e[r];return t}function i(t,e,r){t=n(e?a.create(e):{},t),t.parentState=e,t.stateName=r;for(var s in t)t.hasOwnProperty(s)&&"parentState"!==s&&"stateName"!==s&&"object"==typeof t[s]&&(t[s]=i(t[s],t,r+"."+s));return t}var a=t["default"],s=e["default"],o=a.get,u=s.loaded.saved.didSetProperty,f=s.loaded.updated.uncommitted.propertyWasReset,c=function(t){var e=o(t,"_owner"),r=o(t,"_name");e&&e.fragmentDidDirty(r,t)},l={isEmpty:!1,isLoading:!1,isLoaded:!1,isDirty:!1,isSaving:!1,isDeleted:!1,isNew:!1,isValid:!0,didSetProperty:u,propertyWasReset:a.K,becomeDirty:a.K,rolledBack:a.K,empty:{isEmpty:!0,loadedData:function(t){t.transitionTo("loaded.created")},pushedData:function(t){t.transitionTo("loaded.saved")}},loaded:{pushedData:function(t){t.transitionTo("saved")},saved:{setup:function(t){var e=o(t,"_owner"),r=o(t,"_name");e._fragments[r]&&!t._isInitializing&&(o(e,r+".isDirty")||e.fragmentDidReset(r,t))},pushedData:a.K,becomeDirty:function(t){t.transitionTo("updated")}},created:{isDirty:!0,setup:c},updated:{isDirty:!0,setup:c,propertyWasReset:f,rolledBack:function(t){t.transitionTo("saved")}}}};l=i(l,null,"root"),r["default"]=l}),t("fragments/transform",["../snapshot","../transform","exports"],function(t,e,r){"use strict";function n(t){return t instanceof i?s(t,"record.store").serializerFor(t.typeKey).serialize(t):t}var i=t["default"],a=e["default"],s=Ember.get,o=Ember.isArray,u=Ember.EnumerableUtils.map,f=a.extend({deserialize:function(t){return t},serialize:function(t){return t?o(t)?u(t,n):n(t):null}});r["default"]=f}),t("initializers",["./fragments/transform","exports"],function(t,e){"use strict";var r=t["default"],n=[{name:"fragmentTransform",before:"store",initialize:function(t,e){e.register("transform:fragment",r)}}];e["default"]=n}),t("main",["ember","./fragments/ext","./fragments/model","./fragments/array/fragment","./fragments/transform","./fragments/attributes","./initializers","exports"],function(t,e,r,n,i,a,s,o){"use strict";var u=t["default"],f=(e["default"],r["default"]),c=n["default"],l=i["default"],d=a.hasOneFragment,m=a.hasManyFragments,h=a.fragmentOwner,p=s["default"];DS.ModelFragment=f,DS.FragmentArray=c,DS.FragmentTransform=l,DS.hasOneFragment=d,DS.hasManyFragments=m,DS.fragmentOwner=h,u.onLoad("Ember.Application",function(t){p.forEach(t.initializer,t)}),u.libraries&&u.libraries.register("Model Fragments","0.3.3"),o["default"]=DS}),t("model",["exports"],function(t){"use strict";t["default"]=DS.Model}),t("snapshot",["exports"],function(t){"use strict";t["default"]=DS.Snapshot}),t("states",["exports"],function(t){"use strict";t["default"]=DS.RootState}),t("store",["exports"],function(t){"use strict";t["default"]=DS.Store}),t("transform",["exports"],function(t){"use strict";t["default"]=DS.Transform}),t("util/ember-new-computed",["exports"],function(t){"use strict";var e,r=window.Ember,n=r.computed;try{r.computed({set:function(){},get:function(){}}),e=!0}catch(i){e=!1}t["default"]=function(){var t=[],r=arguments[arguments.length-1];if("function"==typeof r||e)return n.apply(this,arguments);for(var i=0,a=arguments.length-1;a>i;i++)t.push(arguments[i]);var s;return s=r.set?function(t,e){return arguments.length>1?r.set.call(this,t,e):r.get.call(this,t)}:function(t){return r.get.call(this,t)},t.push(s),n.apply(this,t)}}),e("main")["default"]}();