!function e(t,i,o){function r(s,l){if(!i[s]){if(!t[s]){var a="function"==typeof require&&require;if(!l&&a)return a(s,!0);if(n)return n(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var p=i[s]={exports:{}};t[s][0].call(p.exports,function(e){var i=t[s][1][e];return r(i?i:e)},p,p.exports,e,t,i,o)}return i[s].exports}for(var n="function"==typeof require&&require,s=0;s<o.length;s++)r(o[s]);return r}({1:[function(e,t,i){(function(){function o(e,t,i){var o=e[0],r=t.angularGrid;if(!r)return void console.warn("WARNING - grid options for Angular Grid not found. Please ensure the attribute angular-grid points to a valid object on the scope");var n=new s(o,r,t,i);t.$on("$destroy",function(){n.setFinished()})}function r(e,t){var i;if("string"==typeof e){if(i=document.querySelector(e),!i)return void console.log("WARNING - was not able to find element "+e+" in the DOM, Angular Grid initialisation aborted.")}else i=e;new s(i,t,null,null)}var n=this,s=e("./grid");if("undefined"!=typeof angular){var l=angular.module("angularGrid",[]);l.directive("angularGrid",function(){return{restrict:"A",controller:["$element","$scope","$compile",o],scope:{angularGrid:"="}}})}"undefined"!=typeof i&&("undefined"!=typeof t&&t.exports&&(i=t.exports=r),i.angularGrid=r),n.angularGrid=r}).call(window)},{"./grid":13}],2:[function(e,t,i){function o(){this.createModel()}function r(e,t){this.pinned=e,this.name=t,this.allColumns=[],this.visibleColumns=[],this.expandable=!1,this.expanded=!1}function n(e,t,i){this.colDef=e,this.index=t,this.pinned=i,this.colKey=t}var s=e("./constants");o.prototype.init=function(e,t,i){this.gridOptionsWrapper=i,this.angularGrid=e,this.selectionRendererFactory=t},o.prototype.createModel=function(){var e=this;this.model={getAllColumns:function(){return e.columns},getVisibleColumns:function(){return e.visibleColumns},getBodyContainerWidth:function(){return e.getTotalColWidth(!1)},getPinnedContainerWidth:function(){return e.getTotalColWidth(!0)},getColumnGroups:function(){return e.columnGroups}}},o.prototype.getModel=function(){return this.model},o.prototype.setColumns=function(e){this.buildColumns(e),this.ensureEachColHasSize(),this.buildGroups(),this.updateGroups(),this.updateVisibleColumns()},o.prototype.columnGroupOpened=function(e){e.expanded=!e.expanded,this.updateGroups(),this.updateVisibleColumns(),this.angularGrid.refreshHeaderAndBody()},o.prototype.updateVisibleColumns=function(){if(!this.gridOptionsWrapper.isGroupHeaders())return void(this.visibleColumns=this.columns);this.visibleColumns=[];for(var e=0;e<this.columnGroups.length;e++){var t=this.columnGroups[e];t.addToVisibleColumns(this.visibleColumns)}},o.prototype.sizeColumnsToFit=function(e){if(!(0>=e||0===this.visibleColumns.length)){for(var t=this.getTotalColWidth(),i=e/t,o=0;o<this.visibleColumns.length-1;o++){var r=this.visibleColumns[o],n=parseInt(r.actualWidth*i);r.actualWidth=n}var s=e-this.getTotalColWidth(),l=this.visibleColumns[this.visibleColumns.length-1];l.actualWidth+=s,this.angularGrid.refreshHeaderAndBody()}},o.prototype.buildGroups=function(){if(!this.gridOptionsWrapper.isGroupHeaders())return void(this.columnGroups=null);var e=null;this.columnGroups=[];var t=this,i=!0;this.columns.forEach(function(o){var n=i&&!o.pinned;o.pinned||(i=!1);var s=e&&o.colDef.group!==e.name,l=e&&!e.name,a=0===o.index,d=a||n||s||l;if(d){var p=o.pinned;e=new r(p,o.colDef.group),t.columnGroups.push(e)}e.addColumn(o)})},o.prototype.updateGroups=function(){if(this.gridOptionsWrapper.isGroupHeaders())for(var e=0;e<this.columnGroups.length;e++){var t=this.columnGroups[e];t.calculateExpandable(),t.calculateVisibleColumns()}},o.prototype.buildColumns=function(e){this.columns=[];var t=this,i=this.gridOptionsWrapper.getPinnedColCount();if(e)for(var o=0;o<e.length;o++){var r=e[o];"checkboxSelection"===r&&(r=t.selectionRendererFactory.createCheckboxColDef());var s=i>o,l=new n(r,o,s);t.columns.push(l)}},o.prototype.ensureEachColHasSize=function(){this.columns.forEach(function(e){var t=e.colDef;e.actualWidth||(e.actualWidth=t.width?t.width<s.MIN_COL_WIDTH?s.MIN_COL_WIDTH:t.width:200)})},o.prototype.getTotalColWidth=function(e){var t=0,i="boolean"!=typeof e;return this.visibleColumns.forEach(function(o){var r=i||o.pinned===e;r&&(t+=o.actualWidth)}),t},r.prototype.addColumn=function(e){this.allColumns.push(e)},r.prototype.calculateExpandable=function(){for(var e=!1,t=!1,i=!1,o=0,r=this.allColumns.length;r>o;o++){var n=this.allColumns[o];"open"===n.colDef.groupShow?(e=!0,i=!0):"closed"===n.colDef.groupShow?(t=!0,i=!0):(e=!0,t=!0)}this.expandable=e&&t&&i},r.prototype.calculateVisibleColumns=function(){if(this.visibleColumns=[],!this.expandable)return void(this.visibleColumns=this.allColumns);for(var e=0,t=this.allColumns.length;t>e;e++){var i=this.allColumns[e];switch(i.colDef.groupShow){case"open":this.expanded&&this.visibleColumns.push(i);break;case"closed":this.expanded||this.visibleColumns.push(i);break;default:this.visibleColumns.push(i)}}},r.prototype.addToVisibleColumns=function(e){for(var t=0;t<this.visibleColumns.length;t++){var i=this.visibleColumns[t];e.push(i)}},t.exports=o},{"./constants":3}],3:[function(e,t,i){var o={STEP_EVERYTHING:0,STEP_FILTER:1,STEP_SORT:2,STEP_MAP:3,ASC:"asc",DESC:"desc",ROW_BUFFER_SIZE:5,SORT_STYLE_SHOW:"display:inline;",SORT_STYLE_HIDE:"display:none;",MIN_COL_WIDTH:10};t.exports=o},{}],4:[function(e,t,i){function o(){}function o(){this.expressionToFunctionCache={}}o.prototype.evaluate=function(e,t){},o.prototype.evaluate=function(e,t){try{var i=this.createExpressionFunction(e),o=i(t.value,t.context,t.node,t.data,t.colDef,t.rowIndex,t.api);return o}catch(r){return console.error("Processing of the expression failed"),console.error("Expression = "+e),console.error("Exception = "+r),null}},o.prototype.createExpressionFunction=function(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];var t=this.createFunctionBody(e),i=new Function("x, ctx, node, data, colDef, rowIndex, api",t);return this.expressionToFunctionCache[e]=i,i},o.prototype.createFunctionBody=function(e){return e.indexOf("return")>=0?e:"return "+e+";"},t.exports=o},{}],5:[function(e,t,i){function o(){}var r=e("./../utils"),n=e("./setFilter"),s=e("./numberFilter"),l=e("./textFilter");o.prototype.init=function(e,t,i,o){this.$compile=i,this.$scope=o,this.gridOptionsWrapper=t,this.grid=e,this.allFilters={}},o.prototype.setRowModel=function(e){this.rowModel=e},o.prototype.isFilterPresent=function(){var e=!1,t=this,i=Object.keys(this.allFilters);return i.forEach(function(i){var o=t.allFilters[i];o.filter.isFilterActive||console.error("Filter is missing method isFilterActive"),o.filter.isFilterActive()&&(e=!0)}),e},o.prototype.isFilterPresentForCol=function(e){var t=this.allFilters[e];if(!t)return!1;t.filter.isFilterActive||console.error("Filter is missing method isFilterActive");var i=t.filter.isFilterActive();return i},o.prototype.doesFilterPass=function(e){for(var t=e.data,i=Object.keys(this.allFilters),o=0,r=i.length;r>o;o++){var n=i[o],s=this.allFilters[n];if(void 0!==s){var l=t[s.field];s.filter.doesFilterPass||console.error("Filter is missing method doesFilterPass");var a;s.filter.getModel&&(a=s.filter.getModel());var d={value:l,model:a,node:e,data:t};if(!s.filter.doesFilterPass(d))return!1}}return!0},o.prototype.onNewRowsLoaded=function(){var e=this;Object.keys(this.allFilters).forEach(function(t){var i=e.allFilters[t].filter;i.onNewRowsLoaded&&i.onNewRowsLoaded()})},o.prototype.positionPopup=function(e,t,i){var o=e.getBoundingClientRect(),r=i.getBoundingClientRect(),n=o.left-r.left,s=o.top-r.top+o.height,l=200,a=r.right-r.left,d=a-l-20;n>d&&(n=d),0>n&&(n=0),t.style.left=n+"px",t.style.top=s+"px"},o.prototype.showFilter=function(e,t){var i=this.allFilters[e.colKey],o=e.colDef;if(!i){i={colKey:e.colKey,field:o.field};var a=this.grid.onFilterChanged.bind(this.grid),d=o.filterParams,p={colDef:o,rowModel:this.rowModel,filterChangedCallback:a,filterParams:d,scope:i.scope};if("function"==typeof o.filter){if(this.gridOptionsWrapper.isAngularCompileFilters()){var u=this.$scope.$new();i.scope=u,p.$scope=u}i.filter=new o.filter(p)}else i.filter="text"===o.filter?new l(p):"number"===o.filter?new s(p):new n(p);this.allFilters[e.colKey]=i,i.filter.getGui||console.error("Filter is missing method getGui");var c=document.createElement("div");c.className="ag-filter";var h=i.filter.getGui();if(r.isNodeOrElement(h))c.appendChild(h);else{var g=document.createElement("span");g.innerHTML=h,c.appendChild(g)}i.gui=i.scope?this.$compile(c)(i.scope)[0]:c}var f=this.grid.getPopupParent();this.positionPopup(t,i.gui,f),r.addAsModalPopup(f,i.gui),i.filter.afterGuiAttached&&i.filter.afterGuiAttached()},t.exports=o},{"./../utils":25,"./numberFilter":6,"./setFilter":8,"./textFilter":11}],6:[function(e,t,i){function o(e){this.filterChangedCallback=e.filterChangedCallback,this.createGui(),this.filterNumber=null,this.filterType=s}var r=e("./../utils"),n=e("./numberFilterTemplate.js"),s=1,l=2,a=3;o.prototype.afterGuiAttached=function(){this.eFilterTextField.focus()},o.prototype.doesFilterPass=function(e){if(null===this.filterNumber)return!0;var t=e.value;if(!t&&0!==t)return!1;var i;switch(i="number"==typeof t?t:parseFloat(t),this.filterType){case s:return i===this.filterNumber;case l:return i<=this.filterNumber;case a:return i>=this.filterNumber;default:return console.log("invalid filter type "+this.filterType),!1}},o.prototype.getGui=function(){return this.eGui},o.prototype.isFilterActive=function(){return null!==this.filterNumber},o.prototype.createGui=function(){this.eGui=r.loadTemplate(n),this.eFilterTextField=this.eGui.querySelector("#filterText"),this.eTypeSelect=this.eGui.querySelector("#filterType"),r.addChangeListener(this.eFilterTextField,this.onFilterChanged.bind(this)),this.eTypeSelect.addEventListener("change",this.onTypeChanged.bind(this))},o.prototype.onTypeChanged=function(){this.filterType=parseInt(this.eTypeSelect.value),this.filterChangedCallback()},o.prototype.onFilterChanged=function(){var e=r.makeNull(this.eFilterTextField.value);e&&""===e.trim()&&(e=null),this.filterNumber=e?parseFloat(e):null,this.filterChangedCallback()},t.exports=o},{"./../utils":25,"./numberFilterTemplate.js":7}],7:[function(e,t,i){var o=["<div>","<div>",'<select class="ag-filter-select" id="filterType">','<option value="1">Equals</option>','<option value="2">Less than</option>','<option value="3">Greater than</option>',"</select>","</div>","<div>",'<input class="ag-filter-filter" id="filterText" type="text" placeholder="filter..."/>',"</div>","</div>"].join("");t.exports=o},{}],8:[function(e,t,i){function o(e){var t=e.filterParams;this.rowHeight=t&&t.cellHeight?t.cellHeight:l,this.model=new n(e.colDef,e.rowModel),this.filterChangedCallback=e.filterChangedCallback,this.rowsInBodyContainer={},this.colDef=e.colDef,t&&(this.cellRenderer=t.cellRenderer),this.createGui(),this.addScrollListener()}var r=e("./../utils"),n=e("./setFilterModel"),s=e("./setFilterTemplate"),l=20;o.prototype.afterGuiAttached=function(){this.drawVirtualRows()},o.prototype.isFilterActive=function(){return this.model.isFilterActive()},o.prototype.doesFilterPass=function(e){var t=e.value,i=e.model;if(i.isEverythingSelected())return!0;if(i.isNothingSelected())return!1;t=r.makeNull(t);var o=void 0!==i.selectedValuesMap[t];return o},o.prototype.getGui=function(){return this.eGui},o.prototype.onNewRowsLoaded=function(){this.model.selectEverything(),this.updateAllCheckboxes(!0)},o.prototype.getModel=function(){return this.model},o.prototype.createGui=function(){var e=this;this.eGui=r.loadTemplate(s),this.eListContainer=this.eGui.querySelector(".ag-filter-list-container"),this.eFilterValueTemplate=this.eGui.querySelector("#itemForRepeat"),this.eSelectAll=this.eGui.querySelector("#selectAll"),this.eListViewport=this.eGui.querySelector(".ag-filter-list-viewport"),this.eMiniFilter=this.eGui.querySelector(".ag-filter-filter"),this.eListContainer.style.height=this.model.getUniqueValueCount()*this.rowHeight+"px",this.setContainerHeight(),this.eMiniFilter.value=this.model.getMiniFilter(),r.addChangeListener(this.eMiniFilter,function(){e.onFilterChanged()}),r.removeAllChildren(this.eListContainer),this.eSelectAll.onclick=this.onSelectAll.bind(this),this.model.isEverythingSelected()?(this.eSelectAll.indeterminate=!1,this.eSelectAll.checked=!0):this.model.isNothingSelected()?(this.eSelectAll.indeterminate=!1,this.eSelectAll.checked=!1):this.eSelectAll.indeterminate=!0},o.prototype.setContainerHeight=function(){this.eListContainer.style.height=this.model.getDisplayedValueCount()*this.rowHeight+"px"},o.prototype.drawVirtualRows=function(){var e=this.eListViewport.scrollTop,t=e+this.eListViewport.offsetHeight,i=Math.floor(e/this.rowHeight),o=Math.floor(t/this.rowHeight);this.ensureRowsRendered(i,o)},o.prototype.ensureRowsRendered=function(e,t){for(var i=this,o=Object.keys(this.rowsInBodyContainer),r=e;t>=r;r++)if(o.indexOf(r.toString())>=0)o.splice(o.indexOf(r.toString()),1);else if(this.model.getDisplayedValueCount()>r){var n=this.model.getDisplayedValue(r);i.insertRow(n,r)}this.removeVirtualRows(o)},o.prototype.removeVirtualRows=function(e){var t=this;e.forEach(function(e){var i=t.rowsInBodyContainer[e];t.eListContainer.removeChild(i),delete t.rowsInBodyContainer[e]})},o.prototype.insertRow=function(e,t){var i=this,o=this.eFilterValueTemplate.cloneNode(!0),n=o.querySelector(".ag-filter-value");if(this.cellRenderer){var s=this.cellRenderer({value:e});r.isNode(s)?n.appendChild(s):n.innerHTML=s}else{var l=null===e?"(Blanks)":e;n.innerHTML=l}var a=o.querySelector("input");a.checked=this.model.isValueSelected(e),a.onclick=function(){i.onCheckboxClicked(a,e)},o.style.top=this.rowHeight*t+"px",this.eListContainer.appendChild(o),this.rowsInBodyContainer[t]=o},o.prototype.onCheckboxClicked=function(e,t){var i=e.checked;i?(this.model.selectValue(t),this.model.isEverythingSelected()?(this.eSelectAll.indeterminate=!1,this.eSelectAll.checked=!0):this.eSelectAll.indeterminate=!0):(this.model.unselectValue(t),this.model.isNothingSelected()?(this.eSelectAll.indeterminate=!1,this.eSelectAll.checked=!1):this.eSelectAll.indeterminate=!0),this.filterChangedCallback()},o.prototype.onFilterChanged=function(){var e=this.model.setMiniFilter(this.eMiniFilter.value);e&&(this.setContainerHeight(),this.clearVirtualRows(),this.drawVirtualRows())},o.prototype.clearVirtualRows=function(){var e=Object.keys(this.rowsInBodyContainer);this.removeVirtualRows(e)},o.prototype.onSelectAll=function(){var e=this.eSelectAll.checked;e?this.model.selectEverything():this.model.selectNothing(),this.updateAllCheckboxes(e),this.filterChangedCallback()},o.prototype.updateAllCheckboxes=function(e){for(var t=this.eListContainer.querySelectorAll("[filter-checkbox=true]"),i=0,o=t.length;o>i;i++)t[i].checked=e},o.prototype.addScrollListener=function(){var e=this;this.eListViewport.addEventListener("scroll",function(){e.drawVirtualRows()})},t.exports=o},{"./../utils":25,"./setFilterModel":9,"./setFilterTemplate":10}],9:[function(e,t,i){function o(e,t){e.filterParams&&e.filterParams.values?this.uniqueValues=e.filterParams.values:this.createUniqueValues(t,e.field),this.uniqueValues.sort(e.comparator?e.comparator:r.defaultComparator),this.displayedValues=this.uniqueValues,this.miniFilter=null,this.selectedValuesMap={},this.selectEverything()}var r=e("../utils");o.prototype.createUniqueValues=function(e,t){for(var i={},o=[],r=0,n=e.getVirtualRowCount();n>r;r++){var s=e.getVirtualRow(r).data,l=s?s[t]:null;(""===l||void 0===l)&&(l=null),i.hasOwnProperty(l)||(o.push(l),i[l]=1)}this.uniqueValues=o},o.prototype.setMiniFilter=function(e){return e=r.makeNull(e),this.miniFilter===e?!1:(this.miniFilter=e,this.filterDisplayedValues(),!0)},o.prototype.getMiniFilter=function(){return this.miniFilter},o.prototype.filterDisplayedValues=function(){if(null===this.miniFilter)return void(this.displayedValues=this.uniqueValues);this.displayedValues=[];for(var e=this.miniFilter.toUpperCase(),t=0,i=this.uniqueValues.length;i>t;t++){var o=this.uniqueValues[t];null!==o&&o.toString().toUpperCase().indexOf(e)>=0&&this.displayedValues.push(o)}},o.prototype.getDisplayedValueCount=function(){return this.displayedValues.length},o.prototype.getDisplayedValue=function(e){return this.displayedValues[e]},o.prototype.selectEverything=function(){for(var e=this.uniqueValues.length,t=0;e>t;t++){var i=this.uniqueValues[t];this.selectedValuesMap[i]=null}this.selectedValuesCount=e},o.prototype.isFilterActive=function(){return this.uniqueValues.length!==this.selectedValuesCount},o.prototype.selectNothing=function(){this.selectedValuesMap={},this.selectedValuesCount=0},o.prototype.getUniqueValueCount=function(){return this.uniqueValues.length},o.prototype.unselectValue=function(e){void 0!==this.selectedValuesMap[e]&&(delete this.selectedValuesMap[e],this.selectedValuesCount--)},o.prototype.selectValue=function(e){void 0===this.selectedValuesMap[e]&&(this.selectedValuesMap[e]=null,this.selectedValuesCount++)},o.prototype.isValueSelected=function(e){return void 0!==this.selectedValuesMap[e]},o.prototype.isEverythingSelected=function(){return this.uniqueValues.length===this.selectedValuesCount},o.prototype.isNothingSelected=function(){return 0===this.uniqueValues.length},t.exports=o},{"../utils":25}],10:[function(e,t,i){var o=["<div>",'    <div class="ag-filter-header-container">','        <input class="ag-filter-filter" type="text" placeholder="search..."/>',"    </div>",'    <div class="ag-filter-header-container">',"        <label>",'            <input id="selectAll" type="checkbox" class="ag-filter-checkbox"/>',"            (Select All)","        </label>","    </div>",'    <div class="ag-filter-list-viewport">','        <div class="ag-filter-list-container">','            <div id="itemForRepeat" class="ag-filter-item">',"                <label>",'                    <input type="checkbox" class="ag-filter-checkbox" filter-checkbox="true"/>','                    <span class="ag-filter-value"></span>',"                </label>","            </div>","        </div>","    </div>","</div>"].join("");t.exports=o},{}],11:[function(e,t,i){function o(e){this.filterChangedCallback=e.filterChangedCallback,this.createGui(),this.filterText=null,this.filterType=s}var r=e("../utils"),n=e("./textFilterTemplate"),s=1,l=2,a=3,d=4;o.prototype.afterGuiAttached=function(){this.eFilterTextField.focus()},o.prototype.doesFilterPass=function(e){if(!this.filterText)return!0;var t=e.value;if(!t)return!1;var i=t.toString().toLowerCase();switch(this.filterType){case s:return i.indexOf(this.filterText)>=0;case l:return i===this.filterText;case a:return 0===i.indexOf(this.filterText);case d:var o=i.indexOf(this.filterText);return o>=0&&o===i.length-this.filterText.length;default:return console.log("invalid filter type "+this.filterType),!1}},o.prototype.getGui=function(){return this.eGui},o.prototype.isFilterActive=function(){return null!==this.filterText},o.prototype.createGui=function(){this.eGui=r.loadTemplate(n),this.eFilterTextField=this.eGui.querySelector("#filterText"),this.eTypeSelect=this.eGui.querySelector("#filterType"),r.addChangeListener(this.eFilterTextField,this.onFilterChanged.bind(this)),this.eTypeSelect.addEventListener("change",this.onTypeChanged.bind(this))},o.prototype.onTypeChanged=function(){this.filterType=parseInt(this.eTypeSelect.value),this.filterChangedCallback()},o.prototype.onFilterChanged=function(){var e=r.makeNull(this.eFilterTextField.value);e&&""===e.trim()&&(e=null),this.filterText=e?e.toLowerCase():null,this.filterChangedCallback()},t.exports=o},{"../utils":25,"./textFilterTemplate":12}],12:[function(e,t,i){var o=["<div>","<div>",'<select class="ag-filter-select" id="filterType">','<option value="1">Contains</option>','<option value="2">Equals</option>','<option value="3">Starts with</option>','<option value="4">Ends with</option>',"</select>","</div>","<div>",'<input class="ag-filter-filter" id="filterText" type="text" placeholder="filter..."/>',"</div>","</div>"].join("");t.exports=o},{}],13:[function(e,t,i){function o(e,t,i,o){this.gridOptions=t,this.gridOptionsWrapper=new n(this.gridOptions);var a=!this.gridOptionsWrapper.isDontUseScrolls();e.innerHTML=a?s:l;var d=this;this.quickFilter=null,i&&i.$watch("angularGrid.quickFilterText",function(e){d.onQuickFilterChanged(e)}),this.virtualRowCallbacks={},this.addApi(),this.findAllElements(e),this.createAndWireBeans(i,o,e,a),this.inMemoryRowController.setAllRows(this.gridOptionsWrapper.getAllRows()),a&&(this.addScrollListener(),this.setBodySize()),this.setupColumns(),this.updateModelAndRefresh(r.STEP_EVERYTHING),this.finished=!1;var p=!this.gridOptionsWrapper.getAllRows()&&!this.gridOptionsWrapper.isVirtualPaging();this.showLoadingPanel(p),this.gridOptionsWrapper.getDatasource()&&this.setDatasource(),"function"==typeof this.gridOptionsWrapper.getReady()&&this.gridOptionsWrapper.getReady()()}var r=e("./constants"),n=e("./gridOptionsWrapper"),s=e("./template.js"),l=e("./templateNoScrolls.js"),a=e("./selectionController"),d=e("./filter/filterManager"),p=e("./selectionRendererFactory"),u=e("./columnController"),c=e("./rowRenderer"),h=e("./headerRenderer"),g=e("./inMemoryRowController"),f=e("./virtualPageRowController"),y=e("./paginationController"),v=e("./expressionService");o.prototype.createAndWireBeans=function(e,t,i,o){var r=this.gridOptionsWrapper,n=this.gridOptions,s=new a,l=new d,C=new p,w=new u,m=new c,R=new h,S=new g,b=new f,x=new v,O=w.getModel();s.init(this,this.eParentOfRows,r,e,m),l.init(this,r,t,e),C.init(this,s),w.init(this,C,r),m.init(n,O,r,i,this,C,t,e,s,x),R.init(r,w,O,i,this,l,e,t),S.init(r,O,this,l,e,x),b.init(m);var A=S.getModel();s.setRowModel(A),l.setRowModel(A),m.setRowModel(A);var P=null;o&&(P=new y,P.init(this.ePagingPanel,this)),this.rowModel=A,this.selectionController=s,this.columnController=w,this.columnModel=O,this.inMemoryRowController=S,this.virtualPageRowController=b,this.rowRenderer=m,this.headerRenderer=R,this.paginationController=P,this.filterManager=l},o.prototype.showAndPositionPagingPanel=function(){if(this.ePagingPanel)if(this.isShowPagingPanel()){this.ePagingPanel.style.display=null;var e=this.ePagingPanel.offsetHeight;this.eBody.style["padding-bottom"]=e+"px";var t=this.eRoot.clientHeight,i=t-e;this.ePagingPanel.style.top=i+"px"}else this.ePagingPanel.style.display="none",this.eBody.style["padding-bottom"]=null},o.prototype.isShowPagingPanel=function(){return this.showPagingPanel},o.prototype.setDatasource=function(e){e&&(this.gridOptions.datasource=e);var t=this.gridOptionsWrapper.getDatasource(),i=this.gridOptionsWrapper.isVirtualPaging()&&t,o=t&&!i;i?(this.paginationController.setDatasource(null),this.virtualPageRowController.setDatasource(t),this.rowModel=this.virtualPageRowController.getModel(),this.showPagingPanel=!1):o?(this.paginationController.setDatasource(t),this.virtualPageRowController.setDatasource(null),this.rowModel=this.inMemoryRowController.getModel(),this.showPagingPanel=!0):(this.paginationController.setDatasource(null),this.virtualPageRowController.setDatasource(null),this.rowModel=this.inMemoryRowController.getModel(),this.showPagingPanel=!1),this.selectionController.setRowModel(this.rowModel),this.filterManager.setRowModel(this.rowModel),this.rowRenderer.setRowModel(this.rowModel),this.setBodySize(),this.rowRenderer.refreshView()},o.prototype.refreshHeaderAndBody=function(){this.headerRenderer.refreshHeader(),this.headerRenderer.updateFilterIcons(),this.setBodyContainerWidth(),this.setPinnedColContainerWidth(),this.rowRenderer.refreshView()},o.prototype.setFinished=function(){this.finished=!0},o.prototype.getPopupParent=function(){return this.eRoot},o.prototype.getQuickFilter=function(){return this.quickFilter},o.prototype.onQuickFilterChanged=function(e){(void 0===e||""===e)&&(e=null),this.quickFilter!==e&&((void 0===e||""===e)&&(e=null),null!==e&&(e=e.toUpperCase()),this.quickFilter=e,this.onFilterChanged())},o.prototype.onFilterChanged=function(){this.updateModelAndRefresh(r.STEP_FILTER),this.headerRenderer.updateFilterIcons()},o.prototype.onRowClicked=function(e,t,i){if(this.gridOptions.rowClicked){var o={node:i,data:i.data,event:e};this.gridOptions.rowClicked(o)}if(!i.group&&this.gridOptionsWrapper.isRowSelection()&&!this.gridOptionsWrapper.isSuppressRowClickSelection()){var r=e.ctrlKey||e.metaKey;this.selectionController.selectNode(i,r)}},o.prototype.setHeaderHeight=function(){var e=this.gridOptionsWrapper.getHeaderHeight(),t=e+"px",i=this.gridOptionsWrapper.isDontUseScrolls();i?this.eHeaderContainer.style.height=t:(this.eHeader.style.height=t,this.eBody.style["padding-top"]=t,this.eLoadingPanel.style["margin-top"]=t)},o.prototype.showLoadingPanel=function(e){this.eLoadingPanel.style.display=e?null:"none"},o.prototype.setupColumns=function(){this.setHeaderHeight(),this.columnController.setColumns(this.gridOptionsWrapper.getColumnDefs()),this.showPinnedColContainersIfNeeded(),this.headerRenderer.refreshHeader(),this.gridOptionsWrapper.isDontUseScrolls()||(this.setPinnedColContainerWidth(),this.setBodyContainerWidth()),this.headerRenderer.updateFilterIcons()},o.prototype.setBodyContainerWidth=function(){var e=this.columnModel.getBodyContainerWidth()+"px";this.eBodyContainer.style.width=e},o.prototype.updateModelAndRefresh=function(e){this.inMemoryRowController.updateModel(e),this.rowRenderer.refreshView()},o.prototype.setRows=function(e,t){e&&(this.gridOptions.rowData=e),this.inMemoryRowController.setAllRows(this.gridOptionsWrapper.getAllRows(),t),this.selectionController.clearSelection(),this.filterManager.onNewRowsLoaded(),this.updateModelAndRefresh(r.STEP_EVERYTHING),this.headerRenderer.updateFilterIcons(),this.showLoadingPanel(!1)},o.prototype.addApi=function(){var e=this,t={setDatasource:function(t){e.setDatasource(t)},onNewDatasource:function(){e.setDatasource()},setRows:function(t){e.setRows(t)},onNewRows:function(){e.setRows()},onNewCols:function(){e.onNewCols()},unselectAll:function(){e.selectionController.clearSelection(),e.rowRenderer.refreshView()},refreshView:function(){e.rowRenderer.refreshView()},refreshHeader:function(){e.headerRenderer.refreshHeader(),e.headerRenderer.updateFilterIcons()},getModel:function(){return e.rowModel},onGroupExpandedOrCollapsed:function(){e.updateModelAndRefresh(r.STEP_MAP)},expandAll:function(){e.inMemoryRowController.expandOrCollapseAll(!0,null),e.updateModelAndRefresh(r.STEP_MAP)},collapseAll:function(){e.inMemoryRowController.expandOrCollapseAll(!1,null),e.updateModelAndRefresh(r.STEP_MAP)},addVirtualRowListener:function(t,i){e.addVirtualRowListener(t,i)},rowDataChanged:function(t){e.rowRenderer.rowDataChanged(t)},setQuickFilter:function(t){e.onQuickFilterChanged(t)},selectIndex:function(t,i,o){e.selectionController.selectIndex(t,i,o)},deselectIndex:function(t){e.selectionController.deselectIndex(t)},selectNode:function(t,i,o){e.selectionController.selectNode(t,i,o)},deselectNode:function(t){e.selectionController.deselectNode(t)},recomputeAggregates:function(){e.inMemoryRowController.doAggregate(),e.rowRenderer.refreshGroupRows()},sizeColumnsToFit:function(){var t=e.eBody.clientWidth;e.columnController.sizeColumnsToFit(t)},showLoading:function(t){e.showLoadingPanel(t)},isNodeSelected:function(t){return e.selectionController.isNodeSelected(t)},getSelectedNodes:function(){return e.selectionController.getSelectedNodes()},getBestCostNodeSelection:function(){return e.selectionController.getBestCostNodeSelection()}};this.gridOptions.api=t},o.prototype.addVirtualRowListener=function(e,t){this.virtualRowCallbacks[e]||(this.virtualRowCallbacks[e]=[]),this.virtualRowCallbacks[e].push(t)},o.prototype.onVirtualRowSelected=function(e,t){this.virtualRowCallbacks[e]&&this.virtualRowCallbacks[e].forEach(function(e){"function"==typeof e.rowRemoved&&e.rowSelected(t)})},o.prototype.onVirtualRowRemoved=function(e){this.virtualRowCallbacks[e]&&this.virtualRowCallbacks[e].forEach(function(e){"function"==typeof e.rowRemoved&&e.rowRemoved()}),delete this.virtualRowCallbacks[e]},o.prototype.onNewCols=function(){this.setupColumns(),this.updateModelAndRefresh(r.STEP_EVERYTHING)},o.prototype.findAllElements=function(e){this.gridOptionsWrapper.isDontUseScrolls()?(this.eRoot=e.querySelector(".ag-root"),this.eHeaderContainer=e.querySelector(".ag-header-container"),this.eBodyContainer=e.querySelector(".ag-body-container"),this.eLoadingPanel=e.querySelector(".ag-loading-panel"),this.eParentOfRows=this.eBodyContainer):(this.eRoot=e.querySelector(".ag-root"),this.eBody=e.querySelector(".ag-body"),this.eBodyContainer=e.querySelector(".ag-body-container"),this.eBodyViewport=e.querySelector(".ag-body-viewport"),this.eBodyViewportWrapper=e.querySelector(".ag-body-viewport-wrapper"),this.ePinnedColsContainer=e.querySelector(".ag-pinned-cols-container"),this.ePinnedColsViewport=e.querySelector(".ag-pinned-cols-viewport"),this.ePinnedHeader=e.querySelector(".ag-pinned-header"),this.eHeader=e.querySelector(".ag-header"),this.eHeaderContainer=e.querySelector(".ag-header-container"),this.eLoadingPanel=e.querySelector(".ag-loading-panel"),this.eParentOfRows=this.eBody,this.ePagingPanel=e.querySelector(".ag-paging-panel"))},o.prototype.showPinnedColContainersIfNeeded=function(){if(!this.gridOptionsWrapper.isDontUseScrolls()){var e=this.gridOptionsWrapper.getPinnedColCount()>0;e?(this.ePinnedHeader.style.display="inline-block",this.ePinnedColsViewport.style.display="inline"):(this.ePinnedHeader.style.display="none",this.ePinnedColsViewport.style.display="none")}},o.prototype.updateBodyContainerWidthAfterColResize=function(){this.rowRenderer.setMainRowWidths(),this.setBodyContainerWidth()},o.prototype.updatePinnedColContainerWidthAfterColResize=function(){this.setPinnedColContainerWidth()},o.prototype.setPinnedColContainerWidth=function(){var e=this.columnModel.getPinnedContainerWidth()+"px";this.ePinnedColsContainer.style.width=e,this.eBodyViewportWrapper.style.marginLeft=e},o.prototype.setPinnedColHeight=function(){var e=this.eBodyViewport.clientWidth<this.eBodyViewport.scrollWidth,t=this.eBodyViewport.offsetHeight;this.ePinnedColsViewport.style.height=e?t-20+"px":t+"px",this.eLoadingPanel.style.height=t+"px"},o.prototype.setBodySize=function(){var e=this,t=this.eBodyViewport.offsetHeight,i=this.isShowPagingPanel();(this.bodyHeightLastTime!=t||this.showPagingPanelVisibleLastTime!=i)&&(this.bodyHeightLastTime=t,this.showPagingPanelVisibleLastTime=i,this.setPinnedColHeight(),this.rowModel.getVirtualRowCount()>0&&this.rowRenderer.drawVirtualRows(),this.showAndPositionPagingPanel()),this.finished||setTimeout(function(){e.setBodySize()},200)},o.prototype.addScrollListener=function(){var e=this;this.eBodyViewport.addEventListener("scroll",function(){e.scrollHeaderAndPinned(),e.rowRenderer.drawVirtualRows()})},o.prototype.scrollHeaderAndPinned=function(){this.eHeaderContainer.style.left=-this.eBodyViewport.scrollLeft+"px",this.ePinnedColsContainer.style.top=-this.eBodyViewport.scrollTop+"px"},t.exports=o},{"./columnController":2,"./constants":3,"./expressionService":4,"./filter/filterManager":5,"./gridOptionsWrapper":14,"./headerRenderer":16,"./inMemoryRowController":17,"./paginationController":18,"./rowRenderer":19,"./selectionController":20,"./selectionRendererFactory":21,"./template.js":23,"./templateNoScrolls.js":24,"./virtualPageRowController":26}],14:[function(e,t,i){function o(e){this.gridOptions=e,this.setupDefaults()}function r(e){return e===!0||"true"===e}var n=30;o.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},o.prototype.isRowSelectionMulti=function(){return"multiple"===this.gridOptions.rowSelection},o.prototype.getContext=function(){return this.gridOptions.context},o.prototype.isVirtualPaging=function(){return r(this.gridOptions.virtualPaging)},o.prototype.isRowsAlreadyGrouped=function(){return r(this.gridOptions.rowsAlreadyGrouped)},o.prototype.isGroupCheckboxSelectionGroup=function(){
return"group"===this.gridOptions.groupCheckboxSelection},o.prototype.isGroupCheckboxSelectionChildren=function(){return"children"===this.gridOptions.groupCheckboxSelection},o.prototype.isGroupIncludeFooter=function(){return r(this.gridOptions.groupIncludeFooter)},o.prototype.isSuppressRowClickSelection=function(){return r(this.gridOptions.suppressRowClickSelection)},o.prototype.isGroupHeaders=function(){return r(this.gridOptions.groupHeaders)},o.prototype.isDontUseScrolls=function(){return r(this.gridOptions.dontUseScrolls)},o.prototype.getRowStyle=function(){return this.gridOptions.rowStyle},o.prototype.getRowClass=function(){return this.gridOptions.rowClass},o.prototype.getGridOptions=function(){return this.gridOptions},o.prototype.getHeaderCellRenderer=function(){return this.gridOptions.headerCellRenderer},o.prototype.getApi=function(){return this.gridOptions.api},o.prototype.isEnableSorting=function(){return this.gridOptions.enableSorting},o.prototype.isEnableColResize=function(){return this.gridOptions.enableColResize},o.prototype.isEnableFilter=function(){return this.gridOptions.enableFilter},o.prototype.getGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded},o.prototype.getGroupKeys=function(){return this.gridOptions.groupKeys},o.prototype.getGroupAggFunction=function(){return this.gridOptions.groupAggFunction},o.prototype.getAllRows=function(){return this.gridOptions.rowData},o.prototype.isGroupUseEntireRow=function(){return r(this.gridOptions.groupUseEntireRow)},o.prototype.isAngularCompileRows=function(){return r(this.gridOptions.angularCompileRows)},o.prototype.isAngularCompileFilters=function(){return r(this.gridOptions.angularCompileFilters)},o.prototype.isAngularCompileHeaders=function(){return r(this.gridOptions.angularCompileHeaders)},o.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs},o.prototype.getRowHeight=function(){return this.gridOptions.rowHeight},o.prototype.getModelUpdated=function(){return this.gridOptions.modelUpdated},o.prototype.getCellClicked=function(){return this.gridOptions.cellClicked},o.prototype.getCellDoubleClicked=function(){return this.gridOptions.cellDoubleClicked},o.prototype.getRowSelected=function(){return this.gridOptions.rowSelected},o.prototype.getSelectionChanged=function(){return this.gridOptions.selectionChanged},o.prototype.getVirtualRowRemoved=function(){return this.gridOptions.virtualRowRemoved},o.prototype.getDatasource=function(){return this.gridOptions.datasource},o.prototype.getReady=function(){return this.gridOptions.ready},o.prototype.setSelectedRows=function(e){return this.gridOptions.selectedRows=e},o.prototype.setSelectedNodesById=function(e){return this.gridOptions.selectedNodesById=e},o.prototype.getIcons=function(){return this.gridOptions.icons},o.prototype.isDoInternalGrouping=function(){return!this.isRowsAlreadyGrouped()&&this.gridOptions.groupKeys},o.prototype.isGroupCheckboxSelection=function(){return this.isGroupCheckboxSelectionChildren()||this.isGroupCheckboxSelectionGroup()},o.prototype.getHeaderHeight=function(){return"number"==typeof this.gridOptions.headerHeight?this.gridOptions.headerHeight:this.isGroupHeaders()?50:25},o.prototype.setupDefaults=function(){this.gridOptions.rowHeight||(this.gridOptions.rowHeight=n)},o.prototype.getPinnedColCount=function(){return this.isDontUseScrolls()?0:this.gridOptions.pinnedColumnCount?Number(this.gridOptions.pinnedColumnCount):0},t.exports=o},{}],15:[function(e,t,i){function o(){}o.prototype.group=function(e,t,i,o){var r={level:-1,children:[],childrenMap:{}},n=[];n.push(r);var s,l,a,d,p,u,c,h,g=t.length-1,f=-1;for(s=0;s<e.length;s++)for(a=e[s],d=a.data,l=0;l<t.length;l++)u=t[l],c=d[u],0==l&&(p=r),h=p.childrenMap[c],h||(h={group:!0,field:u,id:f--,key:c,expanded:this.isExpanded(o,l),children:[],parent:p===r?null:p,allChildrenCount:0,level:p.level+1,childrenMap:{}},p.childrenMap[c]=h,p.children.push(h),n.push(h)),h.allChildrenCount++,l==g?(a.parent=h===r?null:h,h.children.push(a)):p=h;for(s=0;s<n.length;s++)delete n[s].childrenMap;return r.children},o.prototype.isExpanded=function(e,t){return"number"==typeof e?e>t:e===!0||"true"===e},t.exports=new o},{}],16:[function(e,t,i){function o(){}var r=e("./utils"),n=e("./svgFactory"),s=e("./constants"),l=new n;o.prototype.init=function(e,t,i,o,r,n,s,l){this.gridOptionsWrapper=e,this.columnModel=i,this.columnController=t,this.angularGrid=r,this.filterManager=n,this.$scope=s,this.$compile=l,this.findAllElements(o)},o.prototype.findAllElements=function(e){this.gridOptionsWrapper.isDontUseScrolls()?(this.eHeaderContainer=e.querySelector(".ag-header-container"),this.eRoot=e.querySelector(".ag-root"),this.eHeaderParent=this.eHeaderContainer):(this.ePinnedHeader=e.querySelector(".ag-pinned-header"),this.eHeaderContainer=e.querySelector(".ag-header-container"),this.eHeader=e.querySelector(".ag-header"),this.eRoot=e.querySelector(".ag-root"),this.eHeaderParent=this.eHeader)},o.prototype.refreshHeader=function(){r.removeAllChildren(this.ePinnedHeader),r.removeAllChildren(this.eHeaderContainer),this.childScopes&&this.childScopes.forEach(function(e){e.$destroy()}),this.childScopes=[],this.gridOptionsWrapper.isGroupHeaders()?this.insertHeadersWithGrouping():this.insertHeadersWithoutGrouping()},o.prototype.insertHeadersWithGrouping=function(){var e=this.columnModel.getColumnGroups(),t=this;e.forEach(function(e){var i=t.createGroupedHeaderCell(e),o=e.pinned?t.ePinnedHeader:t.eHeaderContainer;o.appendChild(i)})},o.prototype.createGroupedHeaderCell=function(e){var t=document.createElement("div");t.className="ag-header-group";var i=document.createElement("div");e.eHeaderGroupCell=i;var o=["ag-header-group-cell"];if(o.push(e.name?"ag-header-group-cell-with-group":"ag-header-group-cell-no-group"),i.className=o.join(" "),this.gridOptionsWrapper.isEnableColResize()){var r=document.createElement("div");r.className="ag-header-cell-resize",i.appendChild(r),e.eHeaderCellResize=r;var n=this.groupDragCallbackFactory(e);this.addDragHandler(r,n)}var s=e.name;if(s&&""!==s){var l=document.createElement("div");l.className="ag-header-group-cell-label",i.appendChild(l);var a=document.createElement("span");a.className="ag-header-group-text",a.innerHTML=s,l.appendChild(a),e.expandable&&this.addGroupExpandIcon(e,l,e.expanded)}t.appendChild(i);var d=this;return e.visibleColumns.forEach(function(i){var o=d.createHeaderCell(i,!0,e);t.appendChild(o)}),d.setWidthOfGroupHeaderCell(e),t},o.prototype.addGroupExpandIcon=function(e,t,i){var o;o=i?r.createIcon("columnGroupOpened",this.gridOptionsWrapper,null,l.createArrowLeftSvg):r.createIcon("columnGroupClosed",this.gridOptionsWrapper,null,l.createArrowRightSvg),o.className="ag-header-expand-icon",t.appendChild(o);var n=this;o.onclick=function(){n.columnController.columnGroupOpened(e)}},o.prototype.addDragHandler=function(e,t){var i=this;e.onmousedown=function(e){t.onDragStart(),i.eRoot.style.cursor="col-resize",i.dragStartX=e.clientX,i.eRoot.onmousemove=function(e){var o=e.clientX,r=o-i.dragStartX;t.onDragging(r)},i.eRoot.onmouseup=function(){i.stopDragging()},i.eRoot.onmouseleave=function(){i.stopDragging()}}},o.prototype.setWidthOfGroupHeaderCell=function(e){var t=0;e.visibleColumns.forEach(function(e){t+=e.actualWidth}),e.eHeaderGroupCell.style.width=r.formatWidth(t),e.actualWidth=t},o.prototype.insertHeadersWithoutGrouping=function(){var e=this.ePinnedHeader,t=this.eHeaderContainer,i=this;this.columnModel.getVisibleColumns().forEach(function(o){var r=i.createHeaderCell(o,!1);o.pinned?e.appendChild(r):t.appendChild(r)})},o.prototype.createHeaderCell=function(e,t,i){var o=this,n=e.colDef,s=document.createElement("div");e.eHeaderCell=s;var a=["ag-header-cell"];if(a.push(t?"ag-header-cell-grouped":"ag-header-cell-not-grouped"),s.className=a.join(" "),n.headerTooltip&&(s.title=n.headerTooltip),this.gridOptionsWrapper.isEnableColResize()){var d=document.createElement("div");d.className="ag-header-cell-resize",s.appendChild(d);var p=this.headerDragCallbackFactory(s,e,i);this.addDragHandler(d,p)}var u=this.gridOptionsWrapper.isEnableFilter()&&!n.suppressMenu;if(u){var c=r.createIcon("menu",this.gridOptionsWrapper,e,l.createMenuSvg);r.addCssClass(c,"ag-header-icon"),c.setAttribute("class","ag-header-cell-menu-button"),c.onclick=function(){o.filterManager.showFilter(e,this)},s.appendChild(c),s.onmouseenter=function(){c.style.opacity=1},s.onmouseleave=function(){c.style.opacity=0},c.style.opacity=0,c.style["-webkit-transition"]="opacity 0.5s, border 0.2s",c.style.transition="opacity 0.5s, border 0.2s"}var h=document.createElement("div");h.className="ag-header-cell-label",this.gridOptionsWrapper.isEnableSorting()&&!n.suppressSorting&&(e.eSortAsc=r.createIcon("sortAscending",this.gridOptionsWrapper,e,l.createArrowUpSvg),e.eSortDesc=r.createIcon("sortDescending",this.gridOptionsWrapper,e,l.createArrowDownSvg),r.addCssClass(e.eSortAsc,"ag-header-icon"),r.addCssClass(e.eSortDesc,"ag-header-icon"),h.appendChild(e.eSortAsc),h.appendChild(e.eSortDesc),e.eSortAsc.style.display="none",e.eSortDesc.style.display="none",this.addSortHandling(h,e)),e.eFilterIcon=r.createIcon("filter",this.gridOptionsWrapper,e,l.createFilterSvg),r.addCssClass(e.eFilterIcon,"ag-header-icon"),h.appendChild(e.eFilterIcon);var g;if(n.headerCellRenderer?g=n.headerCellRenderer:this.gridOptionsWrapper.getHeaderCellRenderer()&&(g=this.gridOptionsWrapper.getHeaderCellRenderer()),g){var f;this.gridOptionsWrapper.isAngularCompileHeaders()&&(f=this.$scope.$new());var y,v={colDef:n,$scope:f,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()},C=g(v);if(r.isNodeOrElement(C))y=C;else{var w=document.createElement("span");w.innerHTML=C,y=w}if(this.gridOptionsWrapper.isAngularCompileHeaders()){f.colDef=n,f.colIndex=n.index,f.colDefWrapper=e,this.childScopes.push(f);var m=this.$compile(y)(f)[0];h.appendChild(m)}else h.appendChild(y)}else{var R=document.createElement("span");R.className="ag-header-cell-text",R.innerHTML=n.displayName,h.appendChild(R)}return s.appendChild(h),s.style.width=r.formatWidth(e.actualWidth),s},o.prototype.addSortHandling=function(e,t){var i=this;e.addEventListener("click",function(){t.sort=t.sort===s.ASC?s.DESC:t.sort===s.DESC?null:s.ASC,i.columnModel.getAllColumns().forEach(function(e){if(e!==t&&(e.sort=null),!e.colDef.suppressSorting){var i=e.sort===s.ASC,o=e.sort===s.DESC;e.eSortAsc&&(e.eSortAsc.style.display=i?"inline":"none"),e.eSortDesc&&(e.eSortDesc.style.display=o?"inline":"none")}}),i.angularGrid.updateModelAndRefresh(s.STEP_SORT)})},o.prototype.groupDragCallbackFactory=function(e){var t=this,i=e.visibleColumns;return{onDragStart:function(){this.groupWidthStart=e.actualWidth,this.childrenWidthStarts=[];var t=this;i.forEach(function(e){t.childrenWidthStarts.push(e.actualWidth)}),this.minWidth=i.length*s.MIN_COL_WIDTH},onDragging:function(o){var r=this.groupWidthStart+o;r<this.minWidth&&(r=this.minWidth);var n=r+"px";e.eHeaderGroupCell.style.width=n,e.actualWidth=r;var l=r/this.groupWidthStart,a=r,d=this;e.visibleColumns.forEach(function(e,o){var r,n=o!==i.length-1;if(n){var p=d.childrenWidthStarts[o];r=p*l,r<s.MIN_COL_WIDTH&&(r=s.MIN_COL_WIDTH),a-=r}else r=a;var u=i[o].eHeaderCell;t.adjustColumnWidth(r,e,u)}),e.pinned?t.angularGrid.updatePinnedColContainerWidthAfterColResize():t.angularGrid.updateBodyContainerWidthAfterColResize()}}},o.prototype.adjustColumnWidth=function(e,t,i){for(var o=e+"px",r=".cell-col-"+t.index,n=this.eRoot.querySelectorAll(r),s=0;s<n.length;s++)n[s].style.width=o;i.style.width=o,t.actualWidth=e},o.prototype.headerDragCallbackFactory=function(e,t,i){var o=this;return{onDragStart:function(){this.startWidth=t.actualWidth},onDragging:function(r){var n=this.startWidth+r;n<s.MIN_COL_WIDTH&&(n=s.MIN_COL_WIDTH),o.adjustColumnWidth(n,t,e),i&&o.setWidthOfGroupHeaderCell(i),t.pinned?o.angularGrid.updatePinnedColContainerWidthAfterColResize():o.angularGrid.updateBodyContainerWidthAfterColResize()}}},o.prototype.stopDragging=function(){this.eRoot.style.cursor="",this.eRoot.onmouseup=null,this.eRoot.onmouseleave=null,this.eRoot.onmousemove=null},o.prototype.updateFilterIcons=function(){var e=this;this.columnModel.getVisibleColumns().forEach(function(t){if(t.eFilterIcon){var i=e.filterManager.isFilterPresentForCol(t.colKey),o=i?"inline":"none";t.eFilterIcon.style.display=o}})},t.exports=o},{"./constants":3,"./svgFactory":22,"./utils":25}],17:[function(e,t,i){function o(){this.createModel()}var r=e("./groupCreator"),n=e("./utils"),s=e("./constants");o.prototype.init=function(e,t,i,o,r,n){this.gridOptionsWrapper=e,this.columnModel=t,this.angularGrid=i,this.filterManager=o,this.$scope=r,this.expressionService=n,this.allRows=null,this.rowsAfterGroup=null,this.rowsAfterFilter=null,this.rowsAfterSort=null,this.rowsAfterMap=null},o.prototype.createModel=function(){var e=this;this.model={getTopLevelNodes:function(){return e.rowsAfterGroup},getVirtualRow:function(t){return e.rowsAfterMap[t]},getVirtualRowCount:function(){return e.rowsAfterMap?e.rowsAfterMap.length:0}}},o.prototype.getModel=function(){return this.model},o.prototype.updateModel=function(e){switch(e){case s.STEP_EVERYTHING:this.doGrouping();case s.STEP_FILTER:this.doFilter(),this.doAggregate();case s.STEP_SORT:this.doSort();case s.STEP_MAP:this.doGroupMapping()}if("function"==typeof this.gridOptionsWrapper.getModelUpdated()){this.gridOptionsWrapper.getModelUpdated()();var t=this.$scope;t&&setTimeout(function(){t.$apply()},0)}},o.prototype.getValue=function(e,t,i,o){var r=this.gridOptionsWrapper.getApi(),s=this.gridOptionsWrapper.getContext();return n.getValue(this.expressionService,e,t,i,o,r,s)},o.prototype.doAggregate=function(){var e=this.gridOptionsWrapper.getGroupAggFunction();"function"==typeof e&&this.recursivelyCreateAggData(this.rowsAfterFilter,e)},o.prototype.expandOrCollapseAll=function(e,t){if(null===t&&(t=this.rowsAfterGroup),t){var i=this;t.forEach(function(t){t.group&&(t.expanded=e,i.expandOrCollapseAll(e,t.children))})}},o.prototype.recursivelyCreateAggData=function(e,t){for(var i=0,o=e.length;o>i;i++){var r=e[i];if(r.group){this.recursivelyCreateAggData(r.children,t);var n=t(r.children);r.data=n,r.sibling&&(r.sibling.data=n)}}},o.prototype.doSort=function(){var e=null;this.columnModel.getAllColumns().forEach(function(t){t.sort&&(e=t)});var t=this.rowsAfterFilter.slice(0);if(e){var i=e.sort===s.ASC,o=i?1:-1;this.sortList(t,e.colDef,o)}else this.resetSortInGroups(t);this.rowsAfterSort=t},o.prototype.resetSortInGroups=function(e){for(var t=0,i=e.length;i>t;t++){var o=e[t];o.group&&o.children&&(o.childrenAfterSort=o.children,this.resetSortInGroups(o.children))}},o.prototype.sortList=function(e,t,i){for(var o=0,r=e.length;r>o;o++){var s=e[o];s.group&&s.children&&(s.childrenAfterSort=s.children.slice(0),this.sortList(s.childrenAfterSort,t,i))}var l=this;e.sort(function(e,o){var r=l.getValue(e.data,t,e),s=l.getValue(o.data,t,o);return t.comparator?t.comparator(r,s)*i:n.defaultComparator(r,s)*i})},o.prototype.doGrouping=function(){var e;if(this.gridOptionsWrapper.isDoInternalGrouping()){var t=this.gridOptionsWrapper.getGroupDefaultExpanded();e=r.group(this.allRows,this.gridOptionsWrapper.getGroupKeys(),this.gridOptionsWrapper.getGroupAggFunction(),t)}else e=this.allRows;this.rowsAfterGroup=e},o.prototype.doFilter=function(){var e,t=null!==this.angularGrid.getQuickFilter(),i=this.filterManager.isFilterPresent(),o=t||i;e=o?this.filterItems(this.rowsAfterGroup,t,i):this.rowsAfterGroup,this.rowsAfterFilter=e},o.prototype.filterItems=function(e,t,i){for(var o=[],r=0,n=e.length;n>r;r++){var s=e[r];if(s.group){var l=this.filterItems(s.children,t,i);if(l.length>0){var a=this.getTotalChildCount(l),d=this.copyGroupNode(s,l,a);o.push(d)}}else this.doesRowPassFilter(s,t,i)&&o.push(s)}return o},o.prototype.setAllRows=function(e,t){var i;if(this.gridOptionsWrapper.isRowsAlreadyGrouped())i=e,this.recursivelyCheckUserProvidedNodes(i,null,0);else{var i=[];if(e)for(var o=0;o<e.length;o++)i.push({data:e[o]})}var r=t?t:0;this.recursivelyAddIdToNodes(i,r),this.allRows=i},o.prototype.recursivelyAddIdToNodes=function(e,t){for(var i=0;i<e.length;i++){var o=e[i];o.id=t++,o.group&&o.children&&(t=this.recursivelyAddIdToNodes(o.children,t))}return t},o.prototype.recursivelyCheckUserProvidedNodes=function(e,t,i){for(var o=0;o<e.length;o++){var r=e[o];t&&(r.parent=t),r.level=i,r.group&&r.children&&this.recursivelyCheckUserProvidedNodes(r.children,r,i+1)}},o.prototype.getTotalChildCount=function(e){for(var t=0,i=0,o=e.length;o>i;i++){var r=e[i];r.group?t+=r.allChildrenCount:t++}return t},o.prototype.copyGroupNode=function(e,t,i){return{group:!0,data:e.data,field:e.field,key:e.key,expanded:e.expanded,children:t,allChildrenCount:i,level:e.level}},o.prototype.doGroupMapping=function(){var e=[];this.addToMap(e,this.rowsAfterSort),this.rowsAfterMap=e},o.prototype.addToMap=function(e,t){if(t)for(var i=0;i<t.length;i++){var o=t[i];if(e.push(o),o.group&&o.expanded&&(this.addToMap(e,o.childrenAfterSort),this.gridOptionsWrapper.isGroupIncludeFooter())){var r=this.createFooterNode(o);e.push(r)}}},o.prototype.createFooterNode=function(e){var t={};return Object.keys(e).forEach(function(i){t[i]=e[i]}),t.footer=!0,t.sibling=e,e.sibling=t,t},o.prototype.doesRowPassFilter=function(e,t,i){return t&&(e.quickFilterAggregateText||this.aggregateRowForQuickFilter(e),e.quickFilterAggregateText.indexOf(this.angularGrid.getQuickFilter())<0)?!1:i&&!this.filterManager.doesFilterPass(e)?!1:!0},o.prototype.aggregateRowForQuickFilter=function(e){var t="";this.columnModel.getAllColumns().forEach(function(i){var o=e.data,r=o?o[i.colDef.field]:null;r&&""!==r&&(t=t+r.toString().toUpperCase()+"_")}),e.quickFilterAggregateText=t},t.exports=o},{"./constants":3,"./groupCreator":15,"./utils":25}],18:[function(e,t,i){function o(){}var r=['<span id="pageRowSummaryPanel" class="ag-paging-row-summary-panel">','<span id="firstRowOnPage"></span>'," to ",'<span id="lastRowOnPage"></span>'," of ",'<span id="recordCount"></span>',"</span>",'<span clas="ag-paging-page-summary-panel">','<button class="ag-paging-button" id="btFirst">First</button>','<button class="ag-paging-button" id="btPrevious">Previous</button>'," Page ",'<span id="current"></span>'," of ",'<span id="total"></span>','<button class="ag-paging-button" id="btNext">Next</button>','<button class="ag-paging-button" id="btLast">Last</button>',"</span>"].join("");o.prototype.init=function(e,t){this.angularGrid=t,this.populatePanel(e),this.callVersion=0},o.prototype.setDatasource=function(e){this.datasource=e,e&&this.reset()},o.prototype.reset=function(){this.pageSize=this.datasource.pageSize,this.datasource.rowCount>=0?(this.rowCount=this.datasource.rowCount,this.foundMaxRow=!0,this.calculateTotalPages()):(this.rowCount=0,this.foundMaxRow=!1,this.totalPages=null),this.currentPage=0,this.ePageRowSummaryPanel.style.visibility="hidden",this.setTotalLabels(),this.loadPage()},o.prototype.setTotalLabels=function(){this.foundMaxRow?(this.lbTotal.innerHTML=this.totalPages.toLocaleString(),this.lbRecordCount.innerHTML=this.rowCount.toLocaleString()):(this.lbTotal.innerHTML="more",this.lbRecordCount.innerHTML="more")},o.prototype.calculateTotalPages=function(){this.totalPages=Math.floor((this.rowCount-1)/this.pageSize)+1},o.prototype.pageLoaded=function(e,t){var i=this.currentPage*this.pageSize;this.angularGrid.setRows(e,i),!this.foundMaxRow&&"number"==typeof t&&t>=0&&(this.foundMaxRow=!0,this.rowCount=t,this.calculateTotalPages(),this.setTotalLabels(),this.currentPage>this.totalPages&&(this.currentPage=this.totalPages-1,this.loadPage())),this.enableOrDisableButtons(),this.updateRowLabels()},o.prototype.updateRowLabels=function(){var e=this.pageSize*this.currentPage+1,t=e+this.pageSize-1;this.foundMaxRow&&t>this.rowCount&&(t=this.rowCount),this.lbFirstRowOnPage.innerHTML=e.toLocaleString(),this.lbLastRowOnPage.innerHTML=t.toLocaleString(),this.ePageRowSummaryPanel.style.visibility=null},o.prototype.loadPage=function(){this.enableOrDisableButtons();var e=this.currentPage*this.datasource.pageSize,t=(this.currentPage+1)*this.datasource.pageSize;this.lbCurrent.innerHTML=(this.currentPage+1).toLocaleString(),this.callVersion++;var i=this.callVersion,o=this;this.angularGrid.showLoadingPanel(!0),this.datasource.getRows(e,t,function(e,t){o.isCallDaemon(i)||o.pageLoaded(e,t)},function(){o.isCallDaemon(i)||o.angularGrid.setRows([])})},o.prototype.isCallDaemon=function(e){return e!==this.callVersion},o.prototype.onBtNext=function(){this.currentPage++,this.loadPage()},o.prototype.onBtPrevious=function(){this.currentPage--,this.loadPage()},o.prototype.onBtFirst=function(){this.currentPage=0,this.loadPage()},o.prototype.onBtLast=function(){this.currentPage=this.totalPages-1,this.loadPage()},o.prototype.enableOrDisableButtons=function(){var e=0===this.currentPage;this.btPrevious.disabled=e,this.btFirst.disabled=e;var t=this.foundMaxRow&&this.currentPage===this.totalPages-1;this.btNext.disabled=t;var i=!this.foundMaxRow||this.currentPage===this.totalPages-1;this.btLast.disabled=i},o.prototype.populatePanel=function(e){e.innerHTML=r,this.btNext=e.querySelector("#btNext"),this.btPrevious=e.querySelector("#btPrevious"),this.btFirst=e.querySelector("#btFirst"),this.btLast=e.querySelector("#btLast"),this.lbCurrent=e.querySelector("#current"),this.lbTotal=e.querySelector("#total"),this.lbRecordCount=e.querySelector("#recordCount"),this.lbFirstRowOnPage=e.querySelector("#firstRowOnPage"),this.lbLastRowOnPage=e.querySelector("#lastRowOnPage"),this.ePageRowSummaryPanel=e.querySelector("#pageRowSummaryPanel");var t=this;this.btNext.addEventListener("click",function(){t.onBtNext()}),this.btPrevious.addEventListener("click",function(){t.onBtPrevious()}),this.btFirst.addEventListener("click",function(){t.onBtFirst()}),this.btLast.addEventListener("click",function(){t.onBtLast()})},t.exports=o},{}],19:[function(e,t,i){function o(){}var r=e("./constants"),n=e("./svgFactory"),s=e("./utils"),l=new n,a=9,d=13;o.prototype.init=function(e,t,i,o,r,n,s,l,a,d){this.gridOptions=e,this.columnModel=t,this.gridOptionsWrapper=i,this.angularGrid=r,this.selectionRendererFactory=n,this.findAllElements(o),this.$compile=s,this.$scope=l,this.selectionController=a,this.expressionService=d,this.renderedRows={},this.renderedRowStartEditingListeners={},this.editingCell=!1},o.prototype.setRowModel=function(e){this.rowModel=e},o.prototype.setMainRowWidths=function(){for(var e=this.columnModel.getBodyContainerWidth()+"px",t=this.eBodyContainer.querySelectorAll(".ag-row"),i=0;i<t.length;i++)t[i].style.width=e},o.prototype.findAllElements=function(e){this.gridOptionsWrapper.isDontUseScrolls()?this.eBodyContainer=e.querySelector(".ag-body-container"):(this.eBodyContainer=e.querySelector(".ag-body-container"),this.eBodyViewport=e.querySelector(".ag-body-viewport"),this.ePinnedColsContainer=e.querySelector(".ag-pinned-cols-container"))},o.prototype.refreshView=function(){if(!this.gridOptionsWrapper.isDontUseScrolls()){var e=this.rowModel.getVirtualRowCount(),t=this.gridOptionsWrapper.getRowHeight()*e;this.eBodyContainer.style.height=t+"px",this.ePinnedColsContainer.style.height=t+"px"}this.refreshAllVirtualRows()},o.prototype.rowDataChanged=function(e){var t=[],i=this.renderedRows;Object.keys(i).forEach(function(o){var r=i[o],n=e.indexOf(r.node.data)>=0;n&&t.push(o)}),this.removeVirtualRows(t),this.drawVirtualRows()},o.prototype.refreshAllVirtualRows=function(){var e=Object.keys(this.renderedRows);this.removeVirtualRows(e),this.drawVirtualRows()},o.prototype.refreshGroupRows=function(){var e=[],t=this;Object.keys(this.renderedRows).forEach(function(i){var o=t.renderedRows[i],r=o.node;r.group&&e.push(i)}),this.removeVirtualRows(e),this.ensureRowsRendered()},o.prototype.removeVirtualRows=function(e){var t=this;e.forEach(function(e){t.removeVirtualRow(e)})},o.prototype.removeVirtualRow=function(e){var t=this.renderedRows[e];t.pinnedElement&&this.ePinnedColsContainer&&this.ePinnedColsContainer.removeChild(t.pinnedElement),t.bodyElement&&this.eBodyContainer.removeChild(t.bodyElement),t.scope&&t.scope.$destroy(),this.gridOptionsWrapper.getVirtualRowRemoved()&&this.gridOptionsWrapper.getVirtualRowRemoved()(t.data,e),this.angularGrid.onVirtualRowRemoved(e),delete this.renderedRows[e],delete this.renderedRowStartEditingListeners[e]},o.prototype.drawVirtualRows=function(){var e,t,i=this.rowModel.getVirtualRowCount();if(this.gridOptionsWrapper.isDontUseScrolls())e=0,t=i;else{var o=this.eBodyViewport.scrollTop,n=o+this.eBodyViewport.offsetHeight;e=Math.floor(o/this.gridOptionsWrapper.getRowHeight()),t=Math.floor(n/this.gridOptionsWrapper.getRowHeight()),e-=r.ROW_BUFFER_SIZE,t+=r.ROW_BUFFER_SIZE,0>e&&(e=0),t>i-1&&(t=i-1)}this.firstVirtualRenderedRow=e,this.lastVirtualRenderedRow=t,this.ensureRowsRendered()},o.prototype.getFirstVirtualRenderedRow=function(){return this.firstVirtualRenderedRow},o.prototype.getLastVirtualRenderedRow=function(){return this.lastVirtualRenderedRow},o.prototype.ensureRowsRendered=function(){for(var e=this.columnModel.getBodyContainerWidth(),t=this,i=Object.keys(this.renderedRows),o=this.firstVirtualRenderedRow;o<=this.lastVirtualRenderedRow;o++)if(i.indexOf(o.toString())>=0)i.splice(i.indexOf(o.toString()),1);else{var r=this.rowModel.getVirtualRow(o);r&&t.insertRow(r,o,e)}this.removeVirtualRows(i),this.gridOptions.angularCompileRows&&setTimeout(function(){t.$scope.$apply()},0)},o.prototype.insertRow=function(e,t,i){var o=this.columnModel.getVisibleColumns();if(o&&0!=o.length){var r=e.group,n=e.footer,s=this.createRowContainer(t,e,r),l=this.createRowContainer(t,e,r),a=this;l.style.width=i+"px";var d=this.createChildScopeOrNull(e.data),p={scope:d,node:e,rowIndex:t};if(this.renderedRows[t]=p,this.renderedRowStartEditingListeners[t]={},r){var u=o[0],c=this.gridOptionsWrapper.isGroupUseEntireRow(),h=a.createGroupElement(e,u,c,!1,t,n);if(u.pinned?s.appendChild(h):l.appendChild(h),u.pinned&&c){var g=a.createGroupElement(e,u,c,!0,t,n);l.appendChild(g)}if(!c){var f;if(e.footer)f=e.data;else{var y=this.gridOptionsWrapper.isGroupIncludeFooter();f=e.expanded&&y?void 0:e.data}o.forEach(function(i,o){if(0!=o){var r=f?a.getValue(f,i.colDef,e):void 0;a.createCellFromColDef(!1,i,r,e,t,l,s,d)}})}}else o.forEach(function(i,o){var r=0===o,n=a.getValue(e.data,i.colDef,e);a.createCellFromColDef(r,i,n,e,t,l,s,d)});p.pinnedElement=this.compileAndAdd(this.ePinnedColsContainer,t,s,d),p.bodyElement=this.compileAndAdd(this.eBodyContainer,t,l,d)}},o.prototype.getValue=function(e,t,i){var o=this.gridOptionsWrapper.getApi(),r=this.gridOptionsWrapper.getContext();return s.getValue(this.expressionService,e,t,i,o,r)},o.prototype.createChildScopeOrNull=function(e){if(this.gridOptionsWrapper.isAngularCompileRows()){var t=this.$scope.$new();return t.data=e,t}return null},o.prototype.compileAndAdd=function(e,t,i,o){if(o){var r=this.$compile(i)(o);return e&&e.appendChild(r[0]),r[0]}return e&&e.appendChild(i),i},o.prototype.createCellFromColDef=function(e,t,i,o,r,n,s,l){var a=this.createCell(e,t,i,o,r,l);t.pinned?s.appendChild(a):n.appendChild(a)},o.prototype.addClassesToRow=function(e,t,i){var o=["ag-row"];if(o.push(e%2==0?"ag-row-even":"ag-row-odd"),this.selectionController.isNodeSelected(t)&&o.push("ag-row-selected"),o.push(t.group?"ag-row-level-"+t.level:t.parent?"ag-row-level-"+(t.parent.level+1):"ag-row-level-0"),t.group&&o.push("ag-row-group"),t.group&&!t.footer&&t.expanded&&o.push("ag-row-group-expanded"),!t.group||t.footer||t.expanded||o.push("ag-row-group-contracted"),t.group&&t.footer&&o.push("ag-row-footer"),this.gridOptionsWrapper.getRowClass()){var r={node:t,data:t.data,rowIndex:e,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()},n=this.gridOptionsWrapper.getRowClass()(r);n&&("string"==typeof n?o.push(n):Array.isArray(n)&&n.forEach(function(e){o.push(e)}))}var s=o.join(" ");i.className=s},o.prototype.createRowContainer=function(e,t,i){var o=document.createElement("div");if(this.addClassesToRow(e,t,o),o.setAttribute("row",e),this.gridOptionsWrapper.isDontUseScrolls()||(o.style.top=this.gridOptionsWrapper.getRowHeight()*e+"px"),o.style.height=this.gridOptionsWrapper.getRowHeight()+"px",this.gridOptionsWrapper.getRowStyle()){var r,n=this.gridOptionsWrapper.getRowStyle();r="function"==typeof n?n(t.data,e,i):n,r&&Object.keys(r).forEach(function(e){o.style[e]=r[e]})}var s=this;return o.addEventListener("click",function(e){s.angularGrid.onRowClicked(e,Number(this.getAttribute("row")),t)}),o},o.prototype.getIndexOfRenderedNode=function(e){for(var t=this.renderedRows,i=Object.keys(t),o=0;o<i.length;o++)if(t[i[o]].node===e)return t[i[o]].rowIndex;return-1},o.prototype.setCssClassForGroupCell=function(e,t,i,o){e.className=i?t?"ag-footer-cell-entire-row":"ag-group-cell-entire-row":t?"ag-footer-cell ag-cell cell-col-"+o:"ag-group-cell ag-cell cell-col-"+o},o.prototype.createGroupElement=function(e,t,i,o,n,l){var a=document.createElement("div");this.setCssClassForGroupCell(a,l,i,t.index);var d=!o&&!l;d&&this.addGroupExpandIcon(a,e.expanded);var p=!o&&!l&&this.gridOptionsWrapper.isGroupCheckboxSelection();if(p){var u=this.selectionRendererFactory.createSelectionCheckbox(e,n);a.appendChild(u)}var c="function"==typeof this.gridOptions.groupInnerCellRenderer;if(c){var h={data:e.data,node:e,padding:o,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()};s.useRenderer(a,this.gridOptions.groupInnerCellRenderer,h)}else o||(l?this.createFooterCell(a,e):this.createGroupCell(a,e));if(i||(a.style.width=s.formatWidth(t.actualWidth)),!o&&(e.footer||e.level>0)){var g=10*e.level;l&&(g+=10),a.style.paddingLeft=g+"px"}var f=this;return a.addEventListener("click",function(){e.expanded=!e.expanded,f.angularGrid.updateModelAndRefresh(r.STEP_MAP)}),a},o.prototype.createFooterCell=function(e,t){var i;i=this.gridOptionsWrapper.isGroupUseEntireRow()?"Group footer - you should provide a custom groupInnerCellRenderer to render what makes sense for you":"Total "+t.key;var o=document.createTextNode(i);e.appendChild(o)},o.prototype.createGroupCell=function(e,t){var i=" "+t.key;t.allChildrenCount>=0&&(i+=" ("+t.allChildrenCount+")");var o=document.createTextNode(i);e.appendChild(o)},o.prototype.addGroupExpandIcon=function(e,t){var i;i=t?s.createIcon("groupExpanded",this.gridOptionsWrapper,null,l.createArrowDownSvg):s.createIcon("groupContracted",this.gridOptionsWrapper,null,l.createArrowRightSvg),e.appendChild(i)},o.prototype.putDataIntoCell=function(e,t,i,o,r,n){if(e.cellRenderer){var l={value:t,data:i.data,node:i,colDef:e,$scope:o,rowIndex:n,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()},a=e.cellRenderer(l);s.isNodeOrElement(a)?r.appendChild(a):r.innerHTML=a}else void 0!==t&&null!==t&&""!==t&&(r.innerHTML=t)},o.prototype.addStylesFromCollDef=function(e,t,i,o,r){if(e.cellStyle){var n;if("function"==typeof e.cellStyle){var s={value:t,data:i.data,node:i,colDef:e,$scope:o,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()};n=e.cellStyle(s)}else n=e.cellStyle;n&&Object.keys(n).forEach(function(e){r.style[e]=n[e]})}},o.prototype.addClassesFromCollDef=function(e,t,i,o,r){if(e.cellClass){var n;if("function"==typeof e.cellClass){var l={value:t,data:i.data,node:i,colDef:e,$scope:o,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()};n=e.cellClass(l)}else n=e.cellClass;"string"==typeof n?s.addCssClass(r,n):Array.isArray(n)&&n.forEach(function(e){s.addCssClass(r,e)})}},o.prototype.addClassesToCell=function(e,t,i){var o=["ag-cell","cell-col-"+e.index];t.group&&o.push(t.footer?"ag-footer-cell":"ag-group-cell"),i.className=o.join(" ")},o.prototype.addClassesFromRules=function(e,t,i,o,r){var n=e.cellClassRules;if("object"==typeof n)for(var l={value:i,data:o.data,node:o,colDef:e,rowIndex:r,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()},a=Object.keys(n),d=0;d<a.length;d++){var p,u=a[d],c=n[u];"string"==typeof c?p=this.expressionService.evaluate(c,l):"function"==typeof c&&(p=c(l)),
p&&(s.addCssClass(t,u),console.log("adding "+u+" for "+i))}},o.prototype.createCell=function(e,t,i,o,r,n){var l=this,a=document.createElement("div");a.setAttribute("col",t.index),this.addClassesToCell(t,o,a);var d=document.createElement("span");if(a.appendChild(d),e&&o.parent){var p=20+10*o.parent.level;d.style["padding-left"]=p+"px"}var u=t.colDef;if(u.checkboxSelection){var c=this.selectionRendererFactory.createSelectionCheckbox(o,r);d.appendChild(c)}var h=document.createElement("span");return d.appendChild(h),this.putDataIntoCell(u,i,o,n,h,r),this.addStylesFromCollDef(u,i,o,n,a),this.addClassesFromCollDef(u,i,o,n,a),this.addClassesFromRules(u,a,i,o,r),this.addCellClickedHandler(a,o,t,i,r),this.addCellDoubleClickedHandler(a,o,t,i,r,n),a.style.width=s.formatWidth(t.actualWidth),this.renderedRowStartEditingListeners[r][t.index]=function(){return l.isCellEditable(u,o)?(l.startEditing(a,t,o,n,r),!0):!1},a},o.prototype.addCellDoubleClickedHandler=function(e,t,i,o,r,n){var s=this,l=i.colDef;e.addEventListener("dblclick",function(a){if(s.gridOptionsWrapper.getCellDoubleClicked()){var d={node:t,data:t.data,value:o,rowIndex:r,colDef:l,event:a,eventSource:this,api:s.gridOptionsWrapper.getApi()};s.gridOptionsWrapper.getCellDoubleClicked()(d)}if(l.cellDoubleClicked){var p={node:t,data:t.data,value:o,rowIndex:r,colDef:l,event:a,eventSource:this,api:s.gridOptionsWrapper.getApi()};l.cellDoubleClicked(p)}s.isCellEditable(l,t)&&s.startEditing(e,i,t,n,r)})},o.prototype.addCellClickedHandler=function(e,t,i,o,r){var n=this,s=i.colDef;e.addEventListener("click",function(e){if(n.gridOptionsWrapper.getCellClicked()){var i={node:t,data:t.data,value:o,rowIndex:r,colDef:s,event:e,eventSource:this,api:n.gridOptionsWrapper.getApi()};n.gridOptionsWrapper.getCellClicked()(i)}if(s.cellClicked){var l={node:t,data:t.data,value:o,rowIndex:r,colDef:s,event:e,eventSource:this,api:n.gridOptionsWrapper.getApi()};s.cellClicked(l)}})},o.prototype.isCellEditable=function(e,t){return this.editingCell?!1:t.group?!1:"boolean"==typeof e.editable?e.editable:"function"==typeof e.editable?e.editable(t.data):!1},o.prototype.stopEditing=function(e,t,i,o,r,n,l){this.editingCell=!1;var a=r.value;r.removeEventListener("blur",n),s.removeAllChildren(e);var d={node:i,data:i.data,oldValue:i.data[t.field],newValue:a,rowIndex:l,colDef:t,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()};t.newValueHandler?t.newValueHandler(d):i.data[t.field]=a,d.newValue=i.data[t.field],"function"==typeof t.cellValueChanged&&t.cellValueChanged(d);var p=i.data[t.field];this.putDataIntoCell(t,p,i,o,e)},o.prototype.startEditing=function(e,t,i,o,r){var n=this,l=t.colDef;this.editingCell=!0,s.removeAllChildren(e);var p=document.createElement("input");p.type="text",s.addCssClass(p,"ag-cell-edit-input");var u=i.data[l.field];null!==u&&void 0!==u&&(p.value=u),p.style.width=t.actualWidth-14+"px",e.appendChild(p),p.focus(),p.select();var c=function(){n.stopEditing(e,l,i,o,p,c,r)};p.addEventListener("blur",c),p.addEventListener("keypress",function(t){var s=t.which||t.keyCode;s==d&&n.stopEditing(e,l,i,o,p,c,r)}),p.addEventListener("keydown",function(s){var d=s.which||s.keyCode;return d==a?(n.stopEditing(e,l,i,o,p,c,r),n.startEditingNextCell(r,t,s.shiftKey),s.preventDefault(),!1):void 0})},o.prototype.startEditingNextCell=function(e,t,i){for(var o=this.firstVirtualRenderedRow,r=this.lastVirtualRenderedRow,n=e,s=this.columnModel.getVisibleColumns(),l=t;;){var a=s.indexOf(l);if(i){if(l=s[a-1],l||(l=s[s.length-1],n--),o>n)return}else if(l=s[a+1],l||(l=s[0],n++),n>r)return;var d=this.renderedRowStartEditingListeners[n][l.colKey];if(d){var p=d();if(p)return}}},t.exports=o},{"./constants":3,"./svgFactory":22,"./utils":25}],20:[function(e,t,i){function o(){}var r=e("./utils"),n=0,s=1,l=2,a=3;o.prototype.init=function(e,t,i,o,r){this.eRowsParent=t,this.angularGrid=e,this.gridOptionsWrapper=i,this.$scope=o,this.rowRenderer=r,this.selectedNodesById={},this.selectedRows=[],i.setSelectedRows(this.selectedRows),i.setSelectedNodesById(this.selectedNodesById)},o.prototype.getSelectedNodes=function(){for(var e=[],t=Object.keys(this.selectedNodesById),i=0;i<t.length;i++){var o=t[i],r=this.selectedNodesById[o];e.push(r)}return e},o.prototype.getBestCostNodeSelection=function(){function e(t){for(var r=0,n=t.length;n>r;r++){var s=t[r];o.isNodeSelected(s)?i.push(s):s.group&&s.children&&e(s.children)}}var t=this.rowModel.getTopLevelNodes(),i=[],o=this;return e(t),i},o.prototype.setRowModel=function(e){this.rowModel=e},o.prototype.clearSelection=function(){this.selectedRows.length=0;for(var e=Object.keys(this.selectedNodesById),t=0;t<e.length;t++)delete this.selectedNodesById[e[t]]},o.prototype.selectNode=function(e,t,i){var o,r=this.gridOptionsWrapper.isRowSelectionMulti()&&t;o=e.footer?e.sibling:e;var n=!1,s=!1;r||(n=this.doWorkOfDeselectAllNodes()),s=this.gridOptionsWrapper.isGroupCheckboxSelectionChildren()&&o.group?this.recursivelySelectAllChildren(o):this.doWorkOfSelectNode(o,i),(n||s)&&this.syncSelectedRowsAndCallListener(i),this.updateGroupParentsIfNeeded()},o.prototype.recursivelySelectAllChildren=function(e,t){var i=!1;if(e.children)for(var o=0;o<e.children.length;o++){var r=e.children[o];r.group?this.recursivelySelectAllChildren(r)&&(i=!0):this.doWorkOfSelectNode(r,t)&&(i=!0)}return i},o.prototype.recursivelyDeselectAllChildren=function(e){if(e.children)for(var t=0;t<e.children.length;t++){var i=e.children[t];i.group?this.recursivelyDeselectAllChildren(i):this.deselectRealNode(i)}},o.prototype.doWorkOfSelectNode=function(e,t){return this.selectedNodesById[e.id]?!1:(this.selectedNodesById[e.id]=e,this.addCssClassForNode_andInformVirtualRowListener(e),e.group&&e.expanded&&e.sibling&&this.addCssClassForNode_andInformVirtualRowListener(e.sibling),t||"function"!=typeof this.gridOptionsWrapper.getRowSelected()||this.gridOptionsWrapper.getRowSelected()(e.data,e),!0)},o.prototype.addCssClassForNode_andInformVirtualRowListener=function(e){var t=this.rowRenderer.getIndexOfRenderedNode(e);t>=0&&(r.querySelectorAll_addCssClass(this.eRowsParent,'[row="'+t+'"]',"ag-row-selected"),this.angularGrid.onVirtualRowSelected(t,!0))},o.prototype.doWorkOfDeselectAllNodes=function(e){for(var t,i=Object.keys(this.selectedNodesById),o=0;o<i.length;o++){var r=i[o],n=this.selectedNodesById[r];n!==e&&(this.deselectRealNode(n),t=!0)}return t},o.prototype.deselectRealNode=function(e){this.removeCssClassForNode(e),e.group&&e.expanded&&e.sibling&&this.removeCssClassForNode(e.sibling),delete this.selectedNodesById[e.id]},o.prototype.removeCssClassForNode=function(e){var t=this.rowRenderer.getIndexOfRenderedNode(e);t>=0&&(r.querySelectorAll_removeCssClass(this.eRowsParent,'[row="'+t+'"]',"ag-row-selected"),this.angularGrid.onVirtualRowSelected(t,!1))},o.prototype.deselectIndex=function(e){var t=this.rowModel.getVirtualRow(e);this.deselectNode(t)},o.prototype.deselectNode=function(e){e&&(this.gridOptionsWrapper.isGroupCheckboxSelectionChildren()&&e.group?this.recursivelyDeselectAllChildren(e):this.deselectRealNode(e)),this.syncSelectedRowsAndCallListener(),this.updateGroupParentsIfNeeded()},o.prototype.selectIndex=function(e,t,i){var o=this.rowModel.getVirtualRow(e);this.selectNode(o,t,i)},o.prototype.syncSelectedRowsAndCallListener=function(e){var t=this.selectedRows;t.length=0;for(var i=Object.keys(this.selectedNodesById),o=0;o<i.length;o++)if(void 0!==this.selectedNodesById[i[o]]){var r=this.selectedNodesById[i[o]];t.push(r.data)}e||"function"!=typeof this.gridOptionsWrapper.getSelectionChanged()||this.gridOptionsWrapper.getSelectionChanged()();var n=this;setTimeout(function(){n.$scope.$apply()},0)},o.prototype.recursivelyCheckIfSelected=function(e){var t=!1,i=!1;if(e.children)for(var o=0;o<e.children.length;o++){var r,d=e.children[o];if(d.group)switch(r=this.recursivelyCheckIfSelected(d)){case n:t=!0;break;case s:i=!0;break;case l:t=!0,i=!0}else this.isNodeSelected(d)?t=!0:i=!0;if(t&&i)return l}return t?n:i?s:a},o.prototype.isNodeSelected=function(e){if(!this.gridOptionsWrapper.isGroupCheckboxSelectionChildren()||!e.group)return void 0!==this.selectedNodesById[e.id];var t=this.recursivelyCheckIfSelected(e);switch(t){case n:return!0;case s:return!1;default:return void 0}},o.prototype.updateGroupParentsIfNeeded=function(){if(this.gridOptionsWrapper.isGroupCheckboxSelectionChildren())for(var e=this.rowRenderer.getFirstVirtualRenderedRow(),t=this.rowRenderer.getLastVirtualRenderedRow(),i=e;t>=i;i++){var o=this.rowModel.getVirtualRow(i);if(o.group){var n=this.isNodeSelected(o);this.angularGrid.onVirtualRowSelected(i,n),n?r.querySelectorAll_addCssClass(this.eRowsParent,'[row="'+i+'"]',"ag-row-selected"):r.querySelectorAll_removeCssClass(this.eRowsParent,'[row="'+i+'"]',"ag-row-selected")}}},t.exports=o},{"./utils":25}],21:[function(e,t,i){function o(){}function r(e,t){"boolean"==typeof t?(e.checked=t,e.indeterminate=!1):e.indeterminate=!0}o.prototype.init=function(e,t){this.angularGrid=e,this.selectionController=t},o.prototype.createCheckboxColDef=function(){return{width:30,suppressMenu:!0,suppressSorting:!0,headerCellRenderer:function(){var e=document.createElement("input");return e.type="checkbox",e.name="name",e},cellRenderer:this.createCheckboxRenderer()}},o.prototype.createCheckboxRenderer=function(){var e=this;return function(t){return e.createSelectionCheckbox(t.node,t.rowIndex)}},o.prototype.createSelectionCheckbox=function(e,t){var i=document.createElement("input");i.type="checkbox",i.name="name",i.className="ag-selection-checkbox",r(i,this.selectionController.isNodeSelected(e));var o=this;return i.onclick=function(e){e.stopPropagation()},i.onchange=function(){var e=i.checked;e?o.selectionController.selectIndex(t,!0):o.selectionController.deselectIndex(t)},this.angularGrid.addVirtualRowListener(t,{rowSelected:function(e){r(i,e)},rowRemoved:function(){}}),i},t.exports=o},{}],22:[function(e,t,i){function o(){}function r(e){var t=n(),i=document.createElementNS(s,"polygon");return i.setAttribute("points",e),t.appendChild(i),t}function n(){var e=document.createElementNS(s,"svg");return e.setAttribute("width","10"),e.setAttribute("height","10"),e}var s="http://www.w3.org/2000/svg";o.prototype.createFilterSvg=function(){var e=n(),t=document.createElementNS(s,"polygon");return t.setAttribute("points","0,0 4,4 4,10 6,10 6,4 10,0"),t.setAttribute("class","ag-header-icon"),e.appendChild(t),e},o.prototype.createMenuSvg=function(){var e=document.createElementNS(s,"svg"),t="12";return e.setAttribute("width",t),e.setAttribute("height",t),["0","5","10"].forEach(function(i){var o=document.createElementNS(s,"rect");o.setAttribute("y",i),o.setAttribute("width",t),o.setAttribute("height","2"),o.setAttribute("class","ag-header-icon"),e.appendChild(o)}),e},o.prototype.createArrowUpSvg=function(){return r("0,10 5,0 10,10")},o.prototype.createArrowLeftSvg=function(){return r("10,0 0,5 10,10")},o.prototype.createArrowDownSvg=function(){return r("0,0 5,10 10,0")},o.prototype.createArrowRightSvg=function(){return r("0,0 10,5 0,10")},t.exports=o},{}],23:[function(e,t,i){var o=['<div class="ag-root ag-scrolls">',"    <!-- The loading panel -->","    <!-- wrapping in outer div, and wrapper, is needed to center the loading icon -->","    <!-- The idea for centering came from here: http://www.vanseodesign.com/css/vertical-centering/ -->",'    <div class="ag-loading-panel">','        <div class="ag-loading-wrapper">','            <span class="ag-loading-center">Loading...</span>',"        </div>","    </div>","    <!-- header -->",'    <div class="ag-header">','        <div class="ag-pinned-header"></div><div class="ag-header-viewport"><div class="ag-header-container"></div></div>',"    </div>","    <!-- body -->",'    <div class="ag-body">','        <div class="ag-pinned-cols-viewport">','            <div class="ag-pinned-cols-container"></div>',"        </div>",'        <div class="ag-body-viewport-wrapper">','            <div class="ag-body-viewport">','                <div class="ag-body-container"></div>',"            </div>","        </div>","    </div>","    <!-- Paging -->",'    <div class="ag-paging-panel">',"    </div>","    </div>"].join("");t.exports=o},{}],24:[function(e,t,i){var o=['<div class="ag-root ag-no-scrolls">',"    <!-- See comment in template.html for why loading is laid out like so -->",'    <div class="ag-loading-panel">','        <div class="ag-loading-wrapper">','            <span class="ag-loading-center">Loading...</span>',"        </div>","    </div>","    <!-- header -->",'    <div class="ag-header-container"></div>',"    <!-- body -->",'    <div class="ag-body-container"></div>',"</div>"].join("");t.exports=o},{}],25:[function(e,t,i){function o(){}o.prototype.getValue=function(e,t,i,o,r,n){var s=i.valueGetter,l=i.field;if(!s)return l?t[l]:void 0;var a={data:t,node:o,colDef:i,api:r,context:n};return"function"==typeof s?s(a):"string"==typeof s?e.evaluate(s,a):void 0},o.prototype.isNode=function(e){return"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},o.prototype.isElement=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},o.prototype.isNodeOrElement=function(e){return this.isNode(e)||this.isElement(e)},o.prototype.addChangeListener=function(e,t){e.addEventListener("changed",t),e.addEventListener("paste",t),e.addEventListener("input",t)},o.prototype.makeNull=function(e){return null===e||void 0===e||""===e?null:e},o.prototype.removeAllChildren=function(e){if(e)for(;e.hasChildNodes();)e.removeChild(e.lastChild)},o.prototype.addAsModalPopup=function(e,t){var i=document.createElement("div");i.className="ag-popup-backdrop",i.onclick=function(){e.removeChild(t),e.removeChild(i)},e.appendChild(i),e.appendChild(t)},o.prototype.loadTemplate=function(e){var t=document.createElement("div");return t.innerHTML=e,t.firstChild},o.prototype.pixelStringToNumber=function(e){return"string"==typeof e?(e.indexOf("px")>=0&&e.replace("px",""),parseInt(e)):e},o.prototype.querySelectorAll_addCssClass=function(e,t,i){for(var o=e.querySelectorAll(t),r=0;r<o.length;r++)this.addCssClass(o[r],i)},o.prototype.querySelectorAll_removeCssClass=function(e,t,i){for(var o=e.querySelectorAll(t),r=0;r<o.length;r++)this.removeCssClass(o[r],i)},o.prototype.addCssClass=function(e,t){var i=e.className;if(i){if(i.indexOf(t)>=0)return;e.className=i+" "+t}else e.className=t},o.prototype.removeCssClass=function(e,t){var i=e.className;if(!(i.indexOf(t)<0)){var o=i.replace(" "+t,"");o=o.replace(t+" ",""),o==t&&(o=""),e.className=o}},o.prototype.removeFromArray=function(e,t){e.splice(e.indexOf(t),1)},o.prototype.defaultComparator=function(e,t){var i=null===e||void 0===e,o=null===t||void 0===t;return i&&o?0:i?-1:o?1:t>e?-1:e>t?1:0},o.prototype.formatWidth=function(e){return"number"==typeof e?e+"px":e},o.prototype.useRenderer=function(e,t,i){var o=t(i);if(this.isNode(o)||this.isElement(o))e.appendChild(o);else{var r=document.createElement("span");r.innerHTML=o,e.appendChild(r)}},o.prototype.createIcon=function(e,t,i,o){var r,n=document.createElement("span");if(i&&i.colDef.icons&&(r=i.colDef.icons[e]),!r&&t.getIcons()&&(r=t.getIcons()[e]),r){var s;if("function"==typeof r)s=r();else{if("string"!=typeof r)throw"icon from grid options needs to be a string or a function";s=r}if("string"==typeof s)n.innerHTML=s;else{if(!this.isNodeOrElement(s))throw"iconRenderer should return back a string or a dom object";n.appendChild(s)}}else n.appendChild(o());return n},t.exports=new o},{}],26:[function(e,t,i){function o(){}var r=!0;o.prototype.init=function(e){this.rowRenderer=e,this.datasourceVersion=0},o.prototype.setDatasource=function(e){this.datasource=e,e&&this.reset()},o.prototype.reset=function(){"number"==typeof this.datasource.rowCount&&this.datasource.rowCount>=0?(this.virtualRowCount=this.datasource.rowCount,this.foundMaxRow=!0):(this.virtualRowCount=0,this.foundMaxRow=!1),this.datasourceVersion++,this.pageCache={},this.pageCacheSize=0,this.pageLoadsInProgress=[],this.pageLoadsQueued=[],this.pageAccessTimes={},this.accessTime=0,this.maxConcurrentDatasourceRequests="number"==typeof this.datasource.maxConcurrentRequests&&this.datasource.maxConcurrentRequests>0?this.datasource.maxConcurrentRequests:2,this.maxPagesInCache="number"==typeof this.datasource.maxPagesInCache&&this.datasource.maxPagesInCache>0?this.datasource.maxPagesInCache:null,this.pageSize=this.datasource.pageSize,this.overflowSize=this.datasource.overflowSize,this.doLoadOrQueue(0)},o.prototype.createNodesFromRows=function(e,t){var i=[];if(t)for(var o=0,r=t.length;r>o;o++){var n=e*this.pageSize+o;i.push({data:t[o],id:n})}return i},o.prototype.removeFromLoading=function(e){var t=this.pageLoadsInProgress.indexOf(e);this.pageLoadsInProgress.splice(t,1)},o.prototype.pageLoadFailed=function(e){this.removeFromLoading(e),this.checkQueueForNextLoad()},o.prototype.pageLoaded=function(e,t,i){this.putPageIntoCacheAndPurge(e,t),this.checkMaxRowAndInformRowRenderer(e,i),this.removeFromLoading(e),this.checkQueueForNextLoad()},o.prototype.putPageIntoCacheAndPurge=function(e,t){this.pageCache[e]=this.createNodesFromRows(e,t),this.pageCacheSize++,r&&console.log("adding page "+e);var i=this.maxPagesInCache&&this.maxPagesInCache<this.pageCacheSize;if(i){var o=this.findLeastRecentlyAccessedPage(Object.keys(this.pageCache));r&&console.log("purging page "+o+" from cache "+Object.keys(this.pageCache)),delete this.pageCache[o],this.pageCacheSize--}},o.prototype.checkMaxRowAndInformRowRenderer=function(e,t){if(this.foundMaxRow)this.rowRenderer.refreshAllVirtualRows();else{if("number"==typeof t&&t>=0)this.virtualRowCount=t,this.foundMaxRow=!0;else{var i=(e+1)*this.pageSize+this.overflowSize;this.virtualRowCount<i&&(this.virtualRowCount=i)}this.rowRenderer.refreshView()}},o.prototype.isPageAlreadyLoading=function(e){var t=this.pageLoadsInProgress.indexOf(e)>=0||this.pageLoadsQueued.indexOf(e)>=0;return t},o.prototype.doLoadOrQueue=function(e){this.isPageAlreadyLoading(e)||(this.pageLoadsInProgress.length<this.maxConcurrentDatasourceRequests?this.loadPage(e):this.addToQueueAndPurgeQueue(e))},o.prototype.addToQueueAndPurgeQueue=function(e){r&&console.log("queueing "+e+" - "+this.pageLoadsQueued),this.pageLoadsQueued.push(e);var t=this.maxPagesInCache&&this.maxPagesInCache<this.pageLoadsQueued.length;if(t){var i=this.findLeastRecentlyAccessedPage(this.pageLoadsQueued);r&&console.log("de-queueing "+e+" - "+this.pageLoadsQueued);var o=this.pageLoadsQueued.indexOf(i);this.pageLoadsQueued.splice(o,1)}},o.prototype.findLeastRecentlyAccessedPage=function(e){var t=-1,i=Number.MAX_VALUE,o=this;return e.forEach(function(e){var r=o.pageAccessTimes[e];i>r&&(i=r,t=e)}),t},o.prototype.checkQueueForNextLoad=function(){if(this.pageLoadsQueued.length>0){var e=this.pageLoadsQueued[0];this.pageLoadsQueued.splice(0,1),r&&console.log("dequeueing "+e+" - "+this.pageLoadsQueued),this.loadPage(e)}},o.prototype.loadPage=function(e){this.pageLoadsInProgress.push(e);var t=e*this.pageSize,i=(e+1)*this.pageSize,o=this,r=this.datasourceVersion;this.datasource.getRows(t,i,function(t,i){o.requestIsDaemon(r)||o.pageLoaded(e,t,i)},function(){o.requestIsDaemon(r)||o.pageLoadFailed(e)})},o.prototype.requestIsDaemon=function(e){return this.datasourceVersion!==e},o.prototype.getVirtualRow=function(e){if(e>this.virtualRowCount)return null;var t=Math.floor(e/this.pageSize),i=this.pageCache[t];if(this.pageAccessTimes[t]=this.accessTime++,i){var o=e%this.pageSize;return i[o]}return this.doLoadOrQueue(t),{data:{},id:e}},o.prototype.getModel=function(){var e=this;return{getVirtualRow:function(t){return e.getVirtualRow(t)},getVirtualRowCount:function(){return e.virtualRowCount}}},t.exports=o},{}]},{},[1]);