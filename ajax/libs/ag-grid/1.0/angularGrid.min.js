(function(a,b){if(typeof define==="function"&&define.amd){define(["angular"],b)}else{a.angularGrid=b(a.angular)}}(this,function(d){var c,b,e;(function(k){var n,f,r,s,j={},h={},y={},v={},q=Object.prototype.hasOwnProperty,o=[].slice,p=/\.js$/;function z(A,B){return q.call(A,B)}function t(D,B){var L,H,F,I,M,E,O,P,K,J,G,N=B&&B.split("/"),C=y.map,A=(C&&C["*"])||{};if(D&&D.charAt(0)==="."){if(B){N=N.slice(0,N.length-1);D=D.split("/");M=D.length-1;if(y.nodeIdCompat&&p.test(D[M])){D[M]=D[M].replace(p,"")}D=N.concat(D);for(K=0;K<D.length;K+=1){G=D[K];if(G==="."){D.splice(K,1);K-=1}else{if(G===".."){if(K===1&&(D[2]===".."||D[0]==="..")){break}else{if(K>0){D.splice(K-1,2);K-=2}}}}}D=D.join("/")}else{if(D.indexOf("./")===0){D=D.substring(2)}}}if((N||A)&&C){L=D.split("/");for(K=L.length;K>0;K-=1){H=L.slice(0,K).join("/");if(N){for(J=N.length;J>0;J-=1){F=C[N.slice(0,J).join("/")];if(F){F=F[H];if(F){I=F;E=K;break}}}}if(I){break}if(!O&&A&&A[H]){O=A[H];P=K}}if(!I&&O){I=O;E=P}if(I){L.splice(0,E,I);D=L.join("/")}}return D}function x(A,B){return function(){var C=o.call(arguments,0);if(typeof C[0]!=="string"&&C.length===1){C.push(null)}return f.apply(k,C.concat([A,B]))}}function u(A){return function(B){return t(B,A)}}function l(A){return function(B){j[A]=B}}function m(B){if(z(h,B)){var A=h[B];delete h[B];v[B]=true;n.apply(k,A)}if(!z(j,B)&&!z(v,B)){throw new Error("No "+B)}return j[B]}function w(B){var C,A=B?B.indexOf("!"):-1;if(A>-1){C=B.substring(0,A);B=B.substring(A+1,B.length)}return[C,B]}r=function(B,A){var C,E=w(B),D=E[0];B=E[1];if(D){D=t(D,A);C=m(D)}if(D){if(C&&C.normalize){B=C.normalize(B,u(A))}else{B=t(B,A)}}else{B=t(B,A);E=w(B);D=E[0];B=E[1];if(D){C=m(D)}}return{f:D?D+"!"+B:B,n:B,pr:D,p:C}};function g(A){return function(){return(y&&y.config&&y.config[A])||{}}}s={require:function(A){return x(A)},exports:function(A){var B=j[A];if(typeof B!=="undefined"){return B}else{return(j[A]={})}},module:function(A){return{id:A,uri:"",exports:j[A],config:g(A)}}};n=function(B,L,K,J){var E,I,F,A,D,G=[],C=typeof K,H;J=J||B;if(C==="undefined"||C==="function"){L=!L.length&&K.length?["require","exports","module"]:L;for(D=0;D<L.length;D+=1){A=r(L[D],J);I=A.f;if(I==="require"){G[D]=s.require(B)}else{if(I==="exports"){G[D]=s.exports(B);H=true}else{if(I==="module"){E=G[D]=s.module(B)}else{if(z(j,I)||z(h,I)||z(v,I)){G[D]=m(I)}else{if(A.p){A.p.load(A.n,x(J,true),l(I),{});G[D]=j[I]}else{throw new Error(B+" missing "+I)}}}}}}F=K?K.apply(j[B],G):undefined;if(B){if(E&&E.exports!==k&&E.exports!==j[B]){j[B]=E.exports}else{if(F!==k||!H){j[B]=F}}}}else{if(B){j[B]=K}}};c=b=f=function(D,E,A,B,C){if(typeof D==="string"){if(s[D]){return s[D](E)}return m(r(D,E).f)}else{if(!D.splice){y=D;if(y.deps){f(y.deps,y.callback)}if(!E){return}if(E.splice){D=E;E=A;A=null}else{D=k}}}E=E||function(){};if(typeof A==="function"){A=B;B=C}if(B){n(k,D,E,A)}else{setTimeout(function(){n(k,D,E,A)},4)}return f};f.config=function(A){return f(A)};c._defined=j;e=function(A,B,C){if(!B.splice){C=B;B=[]}if(!z(j,A)&&!z(h,A)){h[A]=[A,B,C]}};e.amd={jQuery:true}}());e("../tools/almond",function(){});e("css",[],function(){if(typeof window=="undefined"){return{load:function(x,v,w){w()}}}var r=document.getElementsByTagName("head")[0];var q=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)|AndroidWebKit\/([^ ;]*)/)||0;var n=false;var h=true;if(q[1]||q[7]){n=parseInt(q[1])<6||parseInt(q[7])<=9}else{if(q[2]||q[8]){h=false}else{if(q[4]){n=parseInt(q[4])<18}}}var m={};m.pluginBuilder="./css-builder";var p,f;var t=function(){p=document.createElement("style");r.appendChild(p);f=p.styleSheet||p.sheet};var s=0;var o=[];var l;var u=function(v){s++;if(s==32){t();s=0}f.addImport(v);p.onload=function(){j()}};var j=function(){l();var v=o.shift();if(!v){l=null;return}l=v[1];u(v[0])};var k=function(w,x){if(!f||!f.addImport){t()}if(f&&f.addImport){if(l){o.push([w,x])}else{u(w);l=x}}else{p.textContent='@import "'+w+'";';var v=setInterval(function(){try{p.sheet.cssRules;clearInterval(v);x()}catch(y){}},10)}};var g=function(w,y){var x=document.createElement("link");x.type="text/css";x.rel="stylesheet";if(h){x.onload=function(){x.onload=function(){};setTimeout(y,7)}}else{var v=setInterval(function(){for(var A=0;A<document.styleSheets.length;A++){var z=document.styleSheets[A];if(z.href==x.href){clearInterval(v);return y()}}},10)}x.href=w;r.appendChild(x)};m.normalize=function(w,v){if(w.substr(w.length-4,4)==".css"){w=w.substr(0,w.length-4)}return v(w)};m.load=function(y,w,x,v){(n?k:g)(w.toUrl(y+".css"),x)};return m});e("text",["module"],function(j){var t,o,n,h,u,l=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],s=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,q=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,g=typeof location!=="undefined"&&location.href,k=g&&location.protocol&&location.protocol.replace(/\:/,""),m=g&&location.hostname,f=g&&(location.port||undefined),r={},p=(j.config&&j.config())||{};t={version:"2.0.12",strip:function(v){if(v){v=v.replace(s,"");var w=v.match(q);if(w){v=w[1]}}else{v=""}return v},jsEscape:function(v){return v.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:p.createXhr||function(){var y,v,w;if(typeof XMLHttpRequest!=="undefined"){return new XMLHttpRequest()}else{if(typeof ActiveXObject!=="undefined"){for(v=0;v<3;v+=1){w=l[v];try{y=new ActiveXObject(w)}catch(x){}if(y){l=[w];break}}}}return y},parseName:function(x){var B,A,v,z=false,w=x.indexOf("."),y=x.indexOf("./")===0||x.indexOf("../")===0;if(w!==-1&&(!y||w>1)){B=x.substring(0,w);A=x.substring(w+1,x.length)}else{B=x}v=A||B;w=v.indexOf("!");if(w!==-1){z=v.substring(w+1)==="strip";v=v.substring(0,w);if(A){A=v}else{B=v}}return{moduleName:B,ext:A,strip:z}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(y,C,w,v){var A,B,z,x=t.xdRegExp.exec(y);if(!x){return true}A=x[2];B=x[3];B=B.split(":");z=B[1];B=B[0];return(!A||A===C)&&(!B||B.toLowerCase()===w.toLowerCase())&&((!z&&!B)||z===v)},finishLoad:function(v,x,y,w){y=x?t.strip(y):y;if(p.isBuild){r[v]=y}w(y)},load:function(z,B,A,y){if(y&&y.isBuild&&!y.inlineText){A();return}p.isBuild=y&&y.isBuild;var w=t.parseName(z),C=w.moduleName+(w.ext?"."+w.ext:""),x=B.toUrl(C),v=(p.useXhr)||t.useXhr;if(x.indexOf("empty:")===0){A();return}if(!g||v(x,k,m,f)){t.get(x,function(D){t.finishLoad(z,w.strip,D,A)},function(D){if(A.error){A.error(D)}})}else{B([C],function(D){t.finishLoad(w.moduleName+"."+w.ext,w.strip,D,A)})}},write:function(z,w,x,v){if(r.hasOwnProperty(w)){var y=t.jsEscape(r[w]);x.asModule(z+"!"+w,"define(function () { return '"+y+"';});\n")}},writeFile:function(A,w,C,D,x){var B=t.parseName(w),v=B.ext?"."+B.ext:"",y=B.moduleName+v,z=C.toUrl(B.moduleName+v)+".js";t.load(y,C,function(E){var F=function(G){return D(z,G)};F.asModule=function(G,H){return D.asModule(G,z,H)};t.write(A,y,F,x)},x)}};if(p.env==="node"||(!p.env&&typeof process!=="undefined"&&process.versions&&!!process.versions.node&&!process.versions["node-webkit"])){o=b.nodeRequire("fs");t.get=function(w,z,v){try{var x=o.readFileSync(w,"utf8");if(x.indexOf("\uFEFF")===0){x=x.substring(1)}z(x)}catch(y){if(v){v(y)}}}}else{if(p.env==="xhr"||(!p.env&&t.createXhr())){t.get=function(w,A,v,y){var x=t.createXhr(),z;x.open("GET",w,true);if(y){for(z in y){if(y.hasOwnProperty(z)){x.setRequestHeader(z.toLowerCase(),y[z])}}}if(p.onXhr){p.onXhr(x,w)}x.onreadystatechange=function(C){var B,D;if(x.readyState===4){B=x.status||0;if(B>399&&B<600){D=new Error(w+" HTTP status: "+B);D.xhr=x;if(v){v(D)}}else{A(x.responseText)}if(p.onXhrComplete){p.onXhrComplete(x,w)}}};x.send(null)}}else{if(p.env==="rhino"||(!p.env&&typeof Packages!=="undefined"&&typeof java!=="undefined")){t.get=function(v,C){var x,D,w="utf-8",y=new java.io.File(v),z=java.lang.System.getProperty("line.separator"),B=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(y),w)),A="";try{x=new java.lang.StringBuffer();D=B.readLine();if(D&&D.length()&&D.charAt(0)===65279){D=D.substring(1)}if(D!==null){x.append(D)}while((D=B.readLine())!==null){x.append(z);x.append(D)}A=String(x.toString())}finally{B.close()}C(A)}}else{if(p.env==="xpconnect"||(!p.env&&typeof Components!=="undefined"&&Components.classes&&Components.interfaces)){n=Components.classes;h=Components.interfaces;Components.utils["import"]("resource://gre/modules/FileUtils.jsm");u=("@mozilla.org/windows-registry-key;1" in n);t.get=function(x,B){var w,y,z,v={};if(u){x=x.replace(/\//g,"\\")}z=new FileUtils.File(x);try{w=n["@mozilla.org/network/file-input-stream;1"].createInstance(h.nsIFileInputStream);w.init(z,1,0,false);y=n["@mozilla.org/intl/converter-input-stream;1"].createInstance(h.nsIConverterInputStream);y.init(w,"utf-8",w.available(),h.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER);y.readString(w.available(),v);y.close();w.close();B(v.value)}catch(A){throw new Error((z&&z.path||"")+": "+A)}}}}}}return t});e("text!../src/angularGrid.html",[],function(){return"<div class='ag-root'>\r\n    <!-- header -->\r\n    <div class='ag-header'>\r\n        <div class='ag-pinned-header'></div><div class='ag-header-viewport'><div class='ag-header-container'></div></div>\r\n    </div>\r\n    <!-- body -->\r\n    <div class='ag-body'>\r\n        <div class='ag-pinned-cols-viewport'>\r\n            <div class='ag-pinned-cols-container'></div>\r\n        </div>\r\n        <div class='ag-body-viewport-wrapper'>\r\n            <div class='ag-body-viewport'>\r\n                <div class='ag-body-container'></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"});e("../src/utils",[],function(){function f(){}f.prototype.isNode=function(g){return(typeof Node==="object"?g instanceof Node:g&&typeof g==="object"&&typeof g.nodeType==="number"&&typeof g.nodeName==="string")};f.prototype.isElement=function(g){return(typeof HTMLElement==="object"?g instanceof HTMLElement:g&&typeof g==="object"&&g!==null&&g.nodeType===1&&typeof g.nodeName==="string")};f.prototype.addChangeListener=function(g,h){g.addEventListener("changed",h);g.addEventListener("paste",h);g.addEventListener("input",h)};f.prototype.makeNull=function(g){if(g===null||g===undefined||g===""){return null}else{return g}};f.prototype.uniqueValues=function(n,k){var o={};var g=[];for(var j=0,h=n.length;j<h;j++){var m=n[j][k];if(m===""||m===undefined){m=null}if(!o.hasOwnProperty(m)){g.push(m);o[m]=1}}return g};f.prototype.removeAllChildren=function(g){while(g.hasChildNodes()){g.removeChild(g.lastChild)}};f.prototype.addAsModalPopup=function(h,j){var g=document.createElement("div");g.className="ag-popup-backdrop";g.onclick=function(){h.removeChild(j);h.removeChild(g)};h.appendChild(g);h.appendChild(j)};f.prototype.loadTemplate=function(h){var g=document.createElement("div");g.innerHTML=h;return g.firstChild};f.prototype.pixelStringToNumber=function(g){if(typeof g==="string"){if(g.indexOf("px")>=0){g.replace("px","")}return parseInt(g)}else{return g}};f.prototype.addCssClass=function(h,j){var g=h.className;if(g.indexOf(j)>=0){return}h.className=g+" "+j};f.prototype.removeCssClass=function(h,j){var g=h.className;if(g.indexOf(j)<0){return}var k=g.replace(" "+j,"");k=k.replace(j+" ","");if(k==j){k=""}h.className=k};f.prototype.removeFromArray=function(h,g){h.splice(h.indexOf(g),1)};f.prototype.defaultComparator=function(k,j){var h=k===null||k===undefined;var g=j===null||j===undefined;if(h&&g){return 0}if(h){return -1}if(g){return 1}if(k<j){return -1}else{if(k>j){return 1}else{return 0}}};f.prototype.formatWidth=function(g){if(typeof g==="number"){return g+"px"}else{return g}};return new f()});e("text!../src/filter.html",[],function(){return'<div class="ag-filter">\r\n    <div class="ag-filter-header-container">\r\n        <input class="ag-filter-filter" type="text" placeholder="search..."/>\r\n    </div>\r\n    <div class="ag-filter-header-container">\r\n        <label>\r\n            <input id="selectAll" type="checkbox"/>\r\n            (Select All)\r\n        </label>\r\n    </div>\r\n    <div class="ag-filter-list-viewport">\r\n        <div class="ag-filter-list-container">\r\n            <div id="itemForRepeat" class="ag-filter-item">\r\n                <label>\r\n                    <input type="checkbox" class="ag-filter-checkbox"/>\r\n                    <span class="ag-filter-value"></span>\r\n                </label>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'});e("../src/filterComponent",["./utils","text!./filter.html"],function(f,j){var h=20;function g(k,l,m){this.rowHeiht=m.filterCellHeight?m.filterCellHeight:h;this.model=k;this.grid=l;this.rowsInBodyContainer={};this.colDef=m;this.createGui();this.addScrollListener()}g.prototype.getGui=function(){return this.eGui};g.prototype.createGui=function(){var k=this;this.eGui=f.loadTemplate(j);this.eListContainer=this.eGui.querySelector(".ag-filter-list-container");this.eFilterValueTemplate=this.eGui.querySelector("#itemForRepeat");this.eSelectAll=this.eGui.querySelector("#selectAll");this.eListViewport=this.eGui.querySelector(".ag-filter-list-viewport");this.eMiniFilter=this.eGui.querySelector(".ag-filter-filter");this.eListContainer.style.height=(this.model.getUniqueValueCount()*this.rowHeiht)+"px";this.setContainerHeight();this.eMiniFilter.value=this.model.getMiniFilter();f.addChangeListener(this.eMiniFilter,function(){k.onFilterChanged()});f.removeAllChildren(this.eListContainer);this.eSelectAll.onclick=function(){k.onSelectAll()};if(this.model.isEverythingSelected()){this.eSelectAll.indeterminate=false;this.eSelectAll.checked=true}else{if(this.model.isNothingSelected()){this.eSelectAll.indeterminate=false;this.eSelectAll.checked=false}else{this.eSelectAll.indeterminate=true}}};g.prototype.setContainerHeight=function(){this.eListContainer.style.height=(this.model.getDisplayedValueCount()*this.rowHeiht)+"px"};g.prototype.drawVirtualRows=function(){var l=this.eListViewport.scrollTop;var k=l+this.eListViewport.offsetHeight;var n=Math.floor(l/this.rowHeiht);var m=Math.floor(k/this.rowHeiht);this.ensureRowsRendered(n,m)};g.prototype.ensureRowsRendered=function(p,k){var o=this;var l=Object.keys(this.rowsInBodyContainer);for(var n=p;n<=k;n++){if(l.indexOf(n.toString())>=0){l.splice(l.indexOf(n.toString()),1);continue}if(this.model.getDisplayedValueCount()>n){var m=this.model.getDisplayedValue(n);o.insertRow(m,n)}}this.removeVirtualRows(l)};g.prototype.removeVirtualRows=function(k){var l=this;k.forEach(function(n){var m=l.rowsInBodyContainer[n];l.eListContainer.removeChild(m);delete l.rowsInBodyContainer[n]})};g.prototype.insertRow=function(o,r){var q=this;var l=this.eFilterValueTemplate.cloneNode(true);var p=l.querySelector(".ag-filter-value");if(this.colDef.filterCellRenderer){var n=this.colDef.filterCellRenderer(o);if(f.isNode(n)||f.isElement(n)){p.appendChild(n)}else{p.innerHTML=n}}else{var k=o===null?"(Blanks)":o;p.innerText=k}var m=l.querySelector("input");m.checked=this.model.isValueSelected(o);m.onclick=function(){q.onCheckboxClicked(m,o)};l.style.top=(this.rowHeiht*r)+"px";this.eListContainer.appendChild(l);this.rowsInBodyContainer[r]=l};g.prototype.onCheckboxClicked=function(k,m){var l=k.checked;if(l){this.model.selectValue(m);if(this.model.isEverythingSelected()){this.eSelectAll.indeterminate=false;this.eSelectAll.checked=true}else{this.eSelectAll.indeterminate=true}}else{this.model.unselectValue(m);if(this.model.isNothingSelected()){this.eSelectAll.indeterminate=false;this.eSelectAll.checked=false}else{this.eSelectAll.indeterminate=true}}this.grid.onFilterChanged()};g.prototype.onFilterChanged=function(){var k=this.model.setMiniFilter(this.eMiniFilter.value);if(k){this.setContainerHeight();this.clearVirtualRows();this.drawVirtualRows()}};g.prototype.clearVirtualRows=function(){var k=Object.keys(this.rowsInBodyContainer);this.removeVirtualRows(k)};g.prototype.onSelectAll=function(){var k=this.eSelectAll.checked;if(k){this.model.selectEverything()}else{this.model.selectNothing()}this.updateAllCheckboxes(k);this.grid.onFilterChanged()};g.prototype.updateAllCheckboxes=function(n){var o=this.eListContainer.querySelectorAll(".ag-filter-checkbox");for(var m=0,k=o.length;m<k;m++){o[m].checked=n}};g.prototype.addScrollListener=function(){var k=this;this.eListViewport.addEventListener("scroll",function(){k.drawVirtualRows()})};g.prototype.guiAttached=function(){this.drawVirtualRows()};return function(k,l,m){return new g(k,l,m)}});e("../src/filterModel",["./utils"],function(f){function g(h){this.uniqueValues=h;this.displayedValues=h;this.miniFilter=null;this.selectedValuesMap={};this.selectEverything()}g.prototype.setMiniFilter=function(h){h=f.makeNull(h);if(this.miniFilter===h){return false}this.miniFilter=h;this.filterDisplayedValues();return true};g.prototype.getMiniFilter=function(){return this.miniFilter};g.prototype.filterDisplayedValues=function(){if(this.miniFilter===null){this.displayedValues=this.uniqueValues;return}this.displayedValues=[];var m=this.miniFilter.toUpperCase();for(var j=0,h=this.uniqueValues.length;j<h;j++){var k=this.uniqueValues[j];if(k!==null&&k.toString().toUpperCase().indexOf(m)>=0){this.displayedValues.push(k)}}};g.prototype.getDisplayedValueCount=function(){return this.displayedValues.length};g.prototype.getDisplayedValue=function(h){return this.displayedValues[h]};g.prototype.doesFilterPass=function(j){if(this.isEverythingSelected()){return true}if(this.isNothingSelected()){return false}j=f.makeNull(j);var h=this.selectedValuesMap[j]!==undefined;return h};g.prototype.selectEverything=function(){var j=this.uniqueValues.length;for(var h=0;h<j;h++){var k=this.uniqueValues[h];this.selectedValuesMap[k]=null}this.selectedValuesCount=j};g.prototype.isFilterActive=function(){return this.uniqueValues.length!==this.selectedValuesCount};g.prototype.selectNothing=function(){this.selectedValuesMap={};this.selectedValuesCount=0};g.prototype.getUniqueValueCount=function(){return this.uniqueValues.length};g.prototype.unselectValue=function(h){if(this.selectedValuesMap[h]!==undefined){delete this.selectedValuesMap[h];this.selectedValuesCount--}};g.prototype.selectValue=function(h){if(this.selectedValuesMap[h]===undefined){this.selectedValuesMap[h]=null;this.selectedValuesCount++}};g.prototype.isValueSelected=function(h){return this.selectedValuesMap[h]!==undefined};g.prototype.isEverythingSelected=function(){return this.uniqueValues.length===this.selectedValuesCount};g.prototype.isNothingSelected=function(){return this.uniqueValues.length===0};return function(h){return new g(h)}});e("../src/filterManager",["./utils","./filterComponent","./filterModel"],function(g,j,f){function h(k,l){this.grid=k;this.rowModel=l;this.colModels={}}h.prototype.isFilterPresent=function(){return Object.keys(this.colModels).length>0};h.prototype.isFilterPresentForCol=function(l){var k=this.colModels[l];var m=k!==undefined&&k.isFilterActive();return m};h.prototype.doesFilterPass=function(p){var k=Object.keys(this.colModels);for(var o=0,m=k.length;o<m;o++){var r=k[o];var n=this.colModels[r];if(n===undefined){continue}var q=p[r];if(!n.doesFilterPass(q)){return false}}return true};h.prototype.clearAllFilters=function(){this.colModels={}};h.prototype.positionPopup=function(n,s,m){var q=n.getBoundingClientRect();var t=m.getBoundingClientRect();var r=q.left-t.left;var p=q.top-t.top+q.height;var o=200;var l=t.right-t.left;var k=l-o-20;if(r>k){r=k}if(r<0){r=0}s.style.left=r+"px";s.style.top=p+"px"};h.prototype.showFilter=function(m,o){var k=this.colModels[m.field];if(!k){var n=this.rowModel.getAllRows();var r=g.uniqueValues(n,m.field);if(m.comparator){r.sort(m.comparator)}else{r.sort(g.defaultComparator)}k=f(r);this.colModels[m.field]=k}var l=this.grid.getPopupParent();var q=j(k,this.grid,m);var p=q.getGui();this.positionPopup(o,p,l);g.addAsModalPopup(l,p);q.guiAttached()};return h});e("../src/rowModel",[],function(){function f(){this.allRows=null;this.rowsAfterGroup=null;this.rowsAfterFilter=null;this.rowsAfterSort=null;this.rowsAfterMap=null}f.prototype.getAllRows=function(){return this.allRows};f.prototype.setAllRows=function(g){this.allRows=g};f.prototype.getRowsAfterGroup=function(){return this.rowsAfterGroup};f.prototype.setRowsAfterGroup=function(g){this.rowsAfterGroup=g};f.prototype.getRowsAfterFilter=function(){return this.rowsAfterFilter};f.prototype.setRowsAfterFilter=function(g){this.rowsAfterFilter=g};f.prototype.getRowsAfterSort=function(){return this.rowsAfterSort};f.prototype.setRowsAfterSort=function(g){this.rowsAfterSort=g};f.prototype.getRowsAfterMap=function(){return this.rowsAfterMap};f.prototype.setRowsAfterMap=function(g){this.rowsAfterMap=g};return f});e("../src/groupCreator",[],function(){function f(){}f.prototype.group=function(h,j,n,q){var o={level:-1,children:[],childrenMap:{}};var l=[];l.push(o);var m=j.length-1;var k,g,t,s,r,u,p;for(k=0;k<h.length;k++){t=h[k];for(g=0;g<j.length;g++){r=j[g];u=t[r];if(g==0){s=o}p=s.childrenMap[u];if(!p){p={_angularGrid_group:true,field:r,key:u,expanded:q,children:[],allChildrenCount:0,level:s.level+1,childrenMap:{}};s.childrenMap[u]=p;s.children.push(p);l.push(p)}p.allChildrenCount++;if(g==m){p.children.push(t)}else{s=p}}}for(k=0;k<l.length;k++){delete l[k].childrenMap}if(n){this.createAggData(o.children,n)}return o.children};f.prototype.createAggData=function(j,o){for(var h=0,g=j.length;h<g;h++){var m=j[h];var k=m._angularGrid_group;if(k){this.createAggData(m.children,o);var n=o(m.children);m.aggData=n}}};return new f()});e("../src/constants",[],function(){var f={};f.STEP_EVERYTHING=0;f.STEP_FILTER=1;f.STEP_SORT=2;f.STEP_MAP=3;f.ASC="asc";f.DESC="desc";f.ROW_BUFFER_SIZE=5;f.SORT_STYLE_SHOW="display:inline;";f.SORT_STYLE_HIDE="display:none;";f.MIN_COL_WIDTH=10;return f});e("../src/rowController",["./groupCreator","./utils","./constants"],function(j,f,g){function h(m,n,l,k){this.gridOptionsWrapper=m;this.rowModel=n;this.angularGrid=l;this.filterManager=k}h.prototype.updateModel=function(k){switch(k){case g.STEP_EVERYTHING:this.doGrouping();case g.STEP_FILTER:this.doFilter();case g.STEP_SORT:this.doSort();case g.STEP_MAP:this.doGroupMapping()}};h.prototype.doSort=function(){var m=null;this.gridOptionsWrapper.getColumnDefs().forEach(function(p){if(p.sort){m=p}});var k=this.rowModel.getRowsAfterFilter().slice(0);if(m){var n=m.field;var l=m.sort===g.ASC;var o=l?1:-1;this.sortList(k,n,m,o)}else{this.resetSortInGroups(k)}this.rowModel.setRowsAfterSort(k)};h.prototype.resetSortInGroups=function(m){for(var n=0,k=m.length;n<k;n++){var o=m[n];var p=o._angularGrid_group;if(p){o.childrenAfterSort=o.children;this.resetSortInGroups(o.children)}}};h.prototype.sortList=function(n,r,q,s){for(var m=0,k=n.length;m<k;m++){var o=n[m];var p=o._angularGrid_group;if(p){o.childrenAfterSort=o.children.slice(0);this.sortList(o.childrenAfterSort,r,q,s)}}n.sort(function(t,l){var v=t[r];var u=l[r];if(q.comparator){return q.comparator(v,u)*s}else{return f.defaultComparator(v,u)*s}})};h.prototype.doGrouping=function(){var l;if(this.gridOptionsWrapper.getGroupKeys()){var k=this.gridOptionsWrapper.isGroupDefaultExpanded();l=j.group(this.rowModel.getAllRows(),this.gridOptionsWrapper.getGroupKeys(),this.gridOptionsWrapper.getAggFunction(),k)}else{l=this.rowModel.getAllRows()}this.rowModel.setRowsAfterGroup(l)};h.prototype.doFilter=function(){var m=this.angularGrid.getQuickFilter()!==null;var l=this.filterManager.isFilterPresent();var n=m||l;var k;if(n){k=this.filterItems(this.rowModel.getRowsAfterGroup(),m,l)}else{k=this.rowModel.getRowsAfterGroup()}this.rowModel.setRowsAfterFilter(k)};h.prototype.filterItems=function(r,n,s){var v=[];for(var q=0,o=r.length;q<o;q++){var t=r[q];var u=t._angularGrid_group;if(u){var k=this.filterItems(t.children,n,s);if(k.length>0){var p=this.getTotalChildCount(k);var m=this.copyGroup(t,k,p);v.push(m)}}else{if(this.doesRowPassFilter(t,n,s)){v.push(t)}}}return v};h.prototype.getTotalChildCount=function(m){var q=0;for(var n=0,k=m.length;n<k;n++){var p=m[n];var o=p._angularGrid_group;if(o){q+=p.allChildrenCount}else{q++}}return q};h.prototype.copyGroup=function(l,k,m){return{_angularGrid_group:true,field:l.field,key:l.key,expanded:l.expanded,children:k,allChildrenCount:m,level:l.level}};h.prototype.doGroupMapping=function(){var k;if(this.gridOptionsWrapper.getGroupKeys()){k=[];this.addToMap(k,this.rowModel.getRowsAfterSort())}else{k=this.rowModel.getRowsAfterSort()}this.rowModel.setRowsAfterMap(k)};h.prototype.addToMap=function(o,m){for(var k=0;k<m.length;k++){var l=m[k];o.push(l);var n=l._angularGrid_group;if(n&&l.expanded){this.addToMap(o,l.childrenAfterSort)}}};h.prototype.doesRowPassFilter=function(m,l,k){if(l){if(!m._quickFilterAggregateText){this.aggregateRowForQuickFilter(m)}if(m._quickFilterAggregateText.indexOf(this.angularGrid.getQuickFilter())<0){return false}}if(k){if(!this.filterManager.doesFilterPass(m)){return false}}return true};h.prototype.aggregateRowForQuickFilter=function(k){var l="";this.gridOptionsWrapper.getColumnDefs().forEach(function(m){var n=k[m.field];if(n&&n!==""){l=l+n.toString().toUpperCase()+"_"}});k._quickFilterAggregateText=l};return h});e("../src/svgFactory",["./constants"],function(h){var g="http://www.w3.org/2000/svg";function f(){}f.prototype.createFilterSvg=function(){var j=document.createElementNS(g,"svg");j.setAttribute("width","10");j.setAttribute("height","10");var k=document.createElementNS(g,"polygon");k.setAttribute("points","0,0 4,4 4,10 6,10 6,4 10,0");k.setAttribute("class","ag-header-icon");j.appendChild(k);return j};f.prototype.createMenuSvg=function(){var j=document.createElementNS(g,"svg");var k="12";j.setAttribute("width",k);j.setAttribute("height",k);["0","5","10"].forEach(function(m){var l=document.createElementNS(g,"rect");l.setAttribute("y",m);l.setAttribute("width",k);l.setAttribute("height","2");l.setAttribute("class","ag-header-icon");j.appendChild(l)});return j};f.prototype.createSortArrowSvg=function(m){var l=document.createElementNS(g,"svg");l.setAttribute("width","10");l.setAttribute("height","10");l.setAttribute("class","ag-header-cell-sort");var k=document.createElementNS(g,"polygon");k.setAttribute("points","0,10 5,0 10,10");k.setAttribute("style",h.SORT_STYLE_HIDE);k.setAttribute("class","ag-header-icon ag-header-cell-sort-desc-"+m);l.appendChild(k);var j=document.createElementNS(g,"polygon");j.setAttribute("points","0,0 10,0 5,10");j.setAttribute("style",h.SORT_STYLE_HIDE);j.setAttribute("class","ag-header-icon ag-header-cell-sort-asc-"+m);l.appendChild(j);return l};f.prototype.createGroupSvg=function(k){var m=document.createElementNS(g,"svg");m.setAttribute("width","10");m.setAttribute("height","10");m.setAttribute("class","ag-header-cell-sort");if(k){var j=document.createElementNS(g,"polygon");j.setAttribute("points","0,0 10,0 5,10");m.appendChild(j)}else{var l=document.createElementNS(g,"polygon");l.setAttribute("points","0,0 10,5 0,10");m.appendChild(l)}return m};return f});e("../src/rowRenderer",["./constants","./svgFactory","./utils"],function(j,g,f){var k=new g();function h(q,r,p,m,o,n,l){this.gridOptions=q;this.rowModel=r;this.gridOptionsWrapper=p;this.angularGrid=o;this.findAllElements(m);this.$compile=n;this.$scope=l;this.rowsInBodyContainer={};this.rowsInPinnedContainer={};this.childScopesForRows={}}h.prototype.setMainRowWidths=function(){var m=this.gridOptionsWrapper.getTotalUnpinnedColWidth()+"px";var l=this.eBodyContainer.querySelectorAll(".ag-row");for(var n=0;n<l.length;n++){l[n].style.width=m}};h.prototype.findAllElements=function(l){this.eBodyContainer=l.querySelector(".ag-body-container");this.eBodyViewport=l.querySelector(".ag-body-viewport");this.ePinnedColsContainer=l.querySelector(".ag-pinned-cols-container")};h.prototype.refreshView=function(){var l=this.rowModel.getRowsAfterMap().length;var m=this.gridOptionsWrapper.getRowHeight()*l;this.eBodyContainer.style.height=m+"px";this.ePinnedColsContainer.style.height=m+"px";this.refreshAllVirtualRows()};h.prototype.refreshAllVirtualRows=function(){var l=Object.keys(this.rowsInBodyContainer);this.removeVirtualRows(l);this.drawVirtualRows()};h.prototype.removeVirtualRows=function(l){var m=this;l.forEach(function(n){var q=m.rowsInPinnedContainer[n];m.ePinnedColsContainer.removeChild(q);delete m.rowsInPinnedContainer[n];var p=m.rowsInBodyContainer[n];m.eBodyContainer.removeChild(p);delete m.rowsInBodyContainer[n];var o=m.childScopesForRows[n];if(o){o.$destroy();delete m.childScopesForRows[n]}})};h.prototype.drawVirtualRows=function(){var m=this.eBodyViewport.scrollTop;var l=m+this.eBodyViewport.offsetHeight;var o=Math.floor(m/this.gridOptionsWrapper.getRowHeight());var n=Math.floor(l/this.gridOptionsWrapper.getRowHeight());o=o-j.ROW_BUFFER_SIZE;n=n+j.ROW_BUFFER_SIZE;this.ensureRowsRendered(o,n)};h.prototype.ensureRowsRendered=function(s,m){var p=this.gridOptionsWrapper.getPinnedColCount();var l=this.gridOptionsWrapper.getTotalUnpinnedColWidth();var r=this;var n=Object.keys(this.rowsInBodyContainer);for(var q=s;q<=m;q++){if(n.indexOf(q.toString())>=0){n.splice(n.indexOf(q.toString()),1);continue}var o=this.rowModel.getRowsAfterMap()[q];if(o){r.insertRow(o,q,l,p)}}this.removeVirtualRows(n)};h.prototype.insertRow=function(p,x,z,u){if(!this.gridOptionsWrapper.isColumDefsPresent()){return}var A=p._angularGrid_group;var y=this.createRowContainer(x,p,A);var v=this.createRowContainer(x,p,A);var t=this;this.rowsInBodyContainer[x]=v;this.rowsInPinnedContainer[x]=y;v.style.width=z+"px";var w=null;if(this.gridOptionsWrapper.isAngularCompile()){w=this.$scope.$new();this.childScopesForRows[x]=w;w.rowData=p}var q=this.gridOptionsWrapper.getColumnDefs();if(A){var s=q[0];var l=this.gridOptionsWrapper.isGroupUseEntireRow();var r=t.createGroupElement(p,s,l);if(u>0){y.appendChild(r)}else{v.appendChild(r)}if(!l){var m=p.aggData!==undefined&&p.aggData!==null;q.forEach(function(D,B){if(B==0){return}var C=null;if(m){C=p.aggData[D.field]}t.createCellFromColDef(D,C,p,x,B,u,v,y,w)})}}else{q.forEach(function(C,B){t.createCellFromColDef(C,p[C.field],p,x,B,u,v,y,w)})}if(this.gridOptionsWrapper.isAngularCompile()){var n=this.$compile(y)(w);var o=this.$compile(v)(w);this.ePinnedColsContainer.appendChild(n[0]);this.eBodyContainer.appendChild(o[0])}else{this.ePinnedColsContainer.appendChild(y);this.eBodyContainer.appendChild(v)}};h.prototype.createCellFromColDef=function(r,s,m,q,u,n,p,t,l){var o=this.createCell(r,s,m,q,u,l);if(u>=n){p.appendChild(o)}else{t.appendChild(o)}};h.prototype.createRowContainer=function(r,o,n){var q=document.createElement("div");var m=["ag-row"];m.push(r%2==0?"ag-row-even":"ag-row-odd");if(this.gridOptions.selectedRows.indexOf(o)>=0){m.push("ag-row-selected")}var l=m.join(" ");q.className=l;q.setAttribute("row",r);q.style.top=(this.gridOptionsWrapper.getRowHeight()*r)+"px";q.style.height=(this.gridOptionsWrapper.getRowHeight())+"px";if(!n){var p=this;q.addEventListener("click",function(s){p.angularGrid.onRowClicked(s,Number(this.getAttribute("row")))})}return q};h.prototype.createGroupElement=function(o,t,l){var s=document.createElement("div");if(l){s.className="ag-group-row"}else{s.className="ag-cell cell-col-"+0}var m=k.createGroupSvg(o.expanded);s.appendChild(m);if(this.gridOptions.groupInnerCellRenderer){var r=this.gridOptions.groupInnerCellRenderer(o);if(f.isNode(r)||f.isElement(r)){s.appendChild(r)}else{var n=document.createElement("span");n.innerHTML=r;s.appendChild(n)}}else{var p=document.createTextNode(" "+o.key+" ("+o.allChildrenCount+")");s.appendChild(p)}if(!l){s.style.width=f.formatWidth(t.actualWidth)}s.style.paddingLeft=((o.level+1)*10)+"px";var q=this;s.addEventListener("click",function(u){o.expanded=!o.expanded;q.angularGrid.updateModelAndRefresh(j.STEP_MAP)});return s};h.prototype.createCell=function(r,s,n,q,t,m){var o=document.createElement("div");o.className="ag-cell cell-col-"+t;if(r.cellRenderer){var p=r.cellRenderer(s,n,r,m);if(f.isNode(p)||f.isElement(p)){o.appendChild(p)}else{o.innerHTML=p}}else{if(s!==undefined){o.innerText=s}}if(r.cellCss){Object.keys(r.cellCss).forEach(function(u){o.style[u]=r.cellCss[u]})}if(r.cellCssFunc){var l=r.cellCssFunc(s);if(l){Object.keys(l).forEach(function(u){o.style[u]=l[u]})}}o.style.width=f.formatWidth(r.actualWidth);return o};return h});e("../src/headerRenderer",["./utils","./svgFactory","./constants"],function(f,g,h){var k=new g();function j(o,m,n,l){this.gridOptionsWrapper=o;this.angularGrid=n;this.filterManager=l;this.findAllElements(m)}j.prototype.findAllElements=function(l){this.ePinnedHeader=l.querySelector(".ag-pinned-header");this.eHeaderContainer=l.querySelector(".ag-header-container");this.eHeader=l.querySelector(".ag-header");this.eRoot=l.querySelector(".ag-root")};j.prototype.insertHeader=function(){var m=this.ePinnedHeader;var l=this.eHeaderContainer;f.removeAllChildren(m);f.removeAllChildren(l);this.headerFilterIcons={};var n=this.gridOptionsWrapper.getPinnedColCount();var o=this;this.gridOptionsWrapper.getColumnDefs().forEach(function(q,p){if(p<n){var r=o.createHeaderCell(q,p,true);m.appendChild(r)}else{var r=o.createHeaderCell(q,p,false);l.appendChild(r)}})};j.prototype.createHeaderCell=function(w,x,u){var r=document.createElement("div");var t=this;r.className="ag-header-cell";if(this.gridOptionsWrapper.isEnableColResize()){var v=document.createElement("div");v.className="ag-header-cell-resize";r.appendChild(v);this.addColResizeHandling(v,r,w,x,u)}if(this.gridOptionsWrapper.isEnableFilter()){var n=k.createMenuSvg();n.setAttribute("class","ag-header-cell-menu-button");n.onclick=function(){t.filterManager.showFilter(w,this)};r.appendChild(n);r.onmouseenter=function(){n.style.opacity=1};r.onmouseleave=function(){n.style.opacity=0};n.style.opacity=0;n.style["-webkit-transition"]="opacity 0.5s";n.style.transition="opacity 0.5s"}var y=document.createElement("div");y.className="ag-header-cell-label";if(this.gridOptionsWrapper.isEnableSorting()){var s=k.createSortArrowSvg(x);y.appendChild(s);this.addSortHandling(y,w)}var m=k.createFilterSvg();this.headerFilterIcons[w.field]=m;y.appendChild(m);var o=this.gridOptionsWrapper.getHeaderCellRenderer();if(this.gridOptionsWrapper.getHeaderCellRenderer()){var l=o(w);if(f.isNode(l)||f.isElement(l)){y.appendChild(l)}else{var p=document.createElement("span");p.innerHTML=l;y.appendChild(p)}}else{var q=document.createElement("span");q.innerHTML=w.displayName;y.appendChild(q)}r.appendChild(y);r.style.width=f.formatWidth(w.actualWidth);return r};j.prototype.addSortHandling=function(m,l){var n=this;m.addEventListener("click",function(){if(l.sort===h.ASC){l.sort=h.DESC}else{if(l.sort===h.DESC){l.sort=null}else{l.sort=h.ASC}}n.gridOptionsWrapper.getColumnDefs().forEach(function(p,q){if(p!==l){p.sort=null}var s=p.sort===h.ASC;var o=p.sort===h.DESC;var t=s||o;var v=n.eHeader.querySelector(".ag-header-cell-sort-asc-"+q);v.setAttribute("style",s?h.SORT_STYLE_SHOW:h.SORT_STYLE_HIDE);var r=n.eHeader.querySelector(".ag-header-cell-sort-desc-"+q);r.setAttribute("style",o?h.SORT_STYLE_SHOW:h.SORT_STYLE_HIDE);var u=v.parentNode;u.setAttribute("display",t?"inline":"none")});n.angularGrid.updateModelAndRefresh(h.STEP_SORT)})};j.prototype.addColResizeHandling=function(m,p,o,n,l){var q=this;m.onmousedown=function(r){q.eRoot.style.cursor="col-resize";q.dragStartX=r.clientX;q.colWidthStart=o.actualWidth;q.eRoot.onmousemove=function(y){var x=y.clientX;var z=x-q.dragStartX;var v=q.colWidthStart+z;if(v<h.MIN_COL_WIDTH){v=h.MIN_COL_WIDTH}var u=v+"px";var w=".cell-col-"+n;var s=q.eRoot.querySelectorAll(w);for(var t=0;t<s.length;t++){s[t].style.width=u}p.style.width=u;o.actualWidth=v;if(l){q.angularGrid.updatePinnedColContainerWidthAfterColResize()}else{q.angularGrid.updateBodyContainerWidthAfterColResize()}};q.eRoot.onmouseup=function(){q.stopDragging()};q.eRoot.onmouseleave=function(){q.stopDragging()}}};j.prototype.stopDragging=function(){this.eRoot.style.cursor="";this.eRoot.onmouseup=null;this.eRoot.onmouseleave=null;this.eRoot.onmousemove=null};j.prototype.updateFilterIcons=function(){var l=this;this.gridOptionsWrapper.getColumnDefs().forEach(function(o){var n=l.filterManager.isFilterPresentForCol(o.field);var m=n?"inline":"none";l.headerFilterIcons[o.field].style.display=m})};return j});e("../src/gridOptionsWrapper",["./constants"],function(f){var g=30;function h(j){this.gridOptions=j;this.setupDefaults()}h.prototype.getHeaderCellRenderer=function(){return this.gridOptions.headerCellRenderer};h.prototype.isEnableSorting=function(){return this.gridOptions.enableSorting};h.prototype.isEnableColResize=function(){return this.gridOptions.enableColResize};h.prototype.isEnableFilter=function(){return this.gridOptions.enableFilter};h.prototype.isGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded===true};h.prototype.getGroupKeys=function(){return this.gridOptions.groupKeys};h.prototype.getAggFunction=function(){return this.gridOptions.aggFunction};h.prototype.getAllRows=function(){return this.gridOptions.rowData};h.prototype.isGroupUseEntireRow=function(){return this.gridOptions.groupUseEntireRow===true};h.prototype.isAngularCompile=function(){return this.gridOptions.angularCompile===true};h.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs};h.prototype.isColumDefsPresent=function(){return this.gridOptions.columnDefs&&this.gridOptions.columnDefs.length!=0};h.prototype.setupDefaults=function(){if(!this.gridOptions.rowHeight){this.gridOptions.rowHeight=g}};h.prototype.clearSelection=function(){this.gridOptions.selectedRows.length=0};h.prototype.ensureEachColHasSize=function(){if(!this.isColumDefsPresent()){return}this.gridOptions.columnDefs.forEach(function(j){if(!j.width||j.width<10){j.actualWidth=f.MIN_COL_WIDTH}else{j.actualWidth=j.width}})};h.prototype.getTotalUnpinnedColWidth=function(){var j=0;var k=this.getPinnedColCount();this.gridOptions.columnDefs.forEach(function(m,l){if(l>=k){j+=m.actualWidth}});return j};h.prototype.getPinnedColCount=function(){if(this.gridOptions.pinnedColumnCount){return Number(this.gridOptions.pinnedColumnCount)}else{return 0}};h.prototype.getRowHeight=function(){return this.gridOptions.rowHeight};return h});e("normalize",[],function(){var l=/([^:])\/+/g;var g=function(o){return o.replace(l,"$1/")};var h=/[^\:\/]*:\/\/([^\/])*/;var k=/^(\/|data:)/;function n(r,s,q){if(r.match(k)||r.match(h)){return r}r=g(r);var p=q.match(h);var o=s.match(h);if(o&&(!p||p[1]!=o[1]||p[2]!=o[2])){return f(r,s)}else{return j(f(r,s),q)}}function f(q,r){if(q.substr(0,2)=="./"){q=q.substr(2)}if(q.match(k)||q.match(h)){return q}var p=r.split("/");var o=q.split("/");p.pop();while(curPart=o.shift()){if(curPart==".."){p.pop()}else{p.push(curPart)}}return p.join("/")}function j(q,r){var p=r.split("/");p.pop();r=p.join("/")+"/";i=0;while(r.substr(i,1)==q.substr(i,1)){i++}while(r.substr(i,1)!="/"){i--}r=r.substr(i+1);q=q.substr(i+1);p=r.split("/");var o=q.split("/");out="";while(p.shift()){out+="../"}while(curPart=o.shift()){out+=curPart+"/"}return out.substr(0,out.length-1)}var m=function(s,u,q){u=g(u);q=g(q);var v=/@import\s*("([^"]*)"|'([^']*)')|url\s*\((?!#)\s*(\s*"([^"]*)"|'([^']*)'|[^\)]*\s*)\s*\)/ig;var o,p,s;while(o=v.exec(s)){p=o[3]||o[2]||o[5]||o[6]||o[4];var t;t=n(p,u,q);var r=o[5]||o[6]?1:0;s=s.substr(0,v.lastIndex-p.length-r-1)+t+s.substr(v.lastIndex-r-1);v.lastIndex=v.lastIndex+(t.length-p.length)}return s};m.convertURIBase=n;m.absoluteURI=f;m.relativeURI=j;return m});e("css!../src/css/core",[],function(){});e("css!../src/css/theme-dark",[],function(){});e("css!../src/css/theme-fresh",[],function(){});e("../src/angularGrid",["angular","text!./angularGrid.html","./utils","./filterManager","./rowModel","./rowController","./rowRenderer","./headerRenderer","./gridOptionsWrapper","./constants","css!./css/core.css","css!./css/theme-dark.css","css!./css/theme-fresh.css"],function(k,o,n,j,h,m,r,l,p,q){var f=k.module("angularGrid",[]);f.directive("angularGrid",function(){return{restrict:"A",template:o,controller:["$scope","$element","$compile",g],scope:{angularGrid:"="}}});function g(t,s,u){var v=this;t.grid=this;this.$scope=t;this.$compile=u;this.gridOptions=t.angularGrid;this.gridOptionsWrapper=new p(this.gridOptions);this.quickFilter=null;t.$watch("angularGrid.quickFilterText",function(w){v.onQuickFilterChanged(w)});this.gridOptions.selectedRows=[];this.addApi();this.findAllElements(s);this.rowModel=new h();this.rowModel.setAllRows(this.gridOptionsWrapper.getAllRows());this.filterManager=new j(this,this.rowModel);this.rowController=new m(this.gridOptionsWrapper,this.rowModel,this,this.filterManager);this.rowRenderer=new r(this.gridOptions,this.rowModel,this.gridOptionsWrapper,s[0],this,u,t);this.headerRenderer=new l(this.gridOptionsWrapper,s[0],this,this.filterManager);this.addScrollListener();this.setBodySize();this.setupColumns();this.updateModelAndRefresh(q.STEP_EVERYTHING);this.finished=false;var v=this;t.$on("$destroy",function(){v.finished=true})}g.prototype.getPopupParent=function(){return this.eRoot};g.prototype.getQuickFilter=function(){return this.quickFilter};g.prototype.onQuickFilterChanged=function(s){if(s===undefined||s===""){s=null}if(this.quickFilter!==s){if(s===undefined||s===""){s=null}if(s!==null){s=s.toUpperCase()}this.quickFilter=s;this.onFilterChanged()}};g.prototype.onFilterChanged=function(){this.updateModelAndRefresh(q.STEP_FILTER);this.headerRenderer.updateFilterIcons()};g.prototype.onRowClicked=function(w,y){var x=this.rowModel.getRowsAfterMap()[y];if(this.gridOptions.rowClicked){this.gridOptions.rowClicked(x,w)}if(this.gridOptions.rowSelection!=="single"&&this.gridOptions.rowSelection!=="multiple"){return}var v=this.gridOptions.selectedRows.indexOf(x)<0;if(v){if(this.gridOptions.rowSelected&&typeof this.gridOptions.rowSelected==="function"){this.gridOptions.rowSelected(x)}if(v&&this.gridOptions.rowSelection==="single"){this.gridOptions.selectedRows.length=0;var s=this.eBody.querySelectorAll(".ag-row-selected");for(var t=0;t<s.length;t++){n.removeCssClass(s[t],"ag-row-selected")}}this.gridOptions.selectedRows.push(x)}else{n.removeFromArray(this.gridOptions.selectedRows,x)}var u=this.eBody.querySelectorAll("[row='"+y+"']");for(var t=0;t<u.length;t++){if(v){n.addCssClass(u[t],"ag-row-selected")}else{n.removeCssClass(u[t],"ag-row-selected")}}if(this.gridOptions.selectionChanged&&typeof this.gridOptions.selectionChanged==="function"){this.gridOptions.selectionChanged();this.$scope.$apply()}};g.prototype.setupColumns=function(){this.gridOptionsWrapper.ensureEachColHasSize();this.showPinnedColContainersIfNeeded();this.headerRenderer.insertHeader();this.setPinnedColContainerWidth();this.setBodyContainerWidth();this.headerRenderer.updateFilterIcons()};g.prototype.setBodyContainerWidth=function(){var s=this.gridOptionsWrapper.getTotalUnpinnedColWidth()+"px";this.eBodyContainer.style.width=s};g.prototype.updateModelAndRefresh=function(s){this.rowController.updateModel(s);this.rowRenderer.refreshView()};g.prototype.addApi=function(){var t=this;var s={onNewRows:function(){t.rowModel.setAllRows(t.gridOptionsWrapper.getAllRows());t.gridOptions.selectedRows.length=0;t.filterManager.clearAllFilters();t.updateModelAndRefresh(q.STEP_EVERYTHING);t.headerRenderer.updateFilterIcons()},onNewCols:function(){t.onNewCols()},onNewCols:function(){t.onNewCols()},refreshView:function(){t.rowRenderer.refreshView()},getModel:function(){t.rowModel},onGroupExpandedOrCollapsed:function(){t.updateModelAndRefresh(q.STEP_MAP)},expandAll:function(){t.expandOrCollapseAll(true,null);t.updateModelAndRefresh(q.STEP_MAP)},collapseAll:function(){t.expandOrCollapseAll(false,null);t.updateModelAndRefresh(q.STEP_MAP)}};this.gridOptions.api=s};g.prototype.expandOrCollapseAll=function(s,t){if(t==null){t=this.rowModel.getRowsAfterGroup()}if(!t){return}var u=this;t.forEach(function(w){var v=w._angularGrid_group;if(v){w.expanded=s;u.expandOrCollapseAll(s,w.children)}})};g.prototype.onNewCols=function(){this.setupColumns();this.updateModelAndRefresh(q.STEP_EVERYTHING)};g.prototype.findAllElements=function(s){var t=s[0];this.eRoot=t.querySelector(".ag-root");this.eBody=t.querySelector(".ag-body");this.eBodyContainer=t.querySelector(".ag-body-container");this.eBodyViewport=t.querySelector(".ag-body-viewport");this.ePinnedColsContainer=t.querySelector(".ag-pinned-cols-container");this.ePinnedColsViewport=t.querySelector(".ag-pinned-cols-viewport");this.ePinnedHeader=t.querySelector(".ag-pinned-header");this.eHeaderContainer=t.querySelector(".ag-header-container")};g.prototype.showPinnedColContainersIfNeeded=function(){var s=this.gridOptionsWrapper.getPinnedColCount()>0;if(s){this.ePinnedHeader.style.display="inline-block";this.ePinnedColsViewport.style.display="inline"}else{this.ePinnedHeader.style.display="none";this.ePinnedColsViewport.style.display="none"}};g.prototype.updateBodyContainerWidthAfterColResize=function(){this.rowRenderer.setMainRowWidths();this.setBodyContainerWidth()};g.prototype.updatePinnedColContainerWidthAfterColResize=function(){this.setPinnedColContainerWidth()};g.prototype.setPinnedColContainerWidth=function(){var s=this.getTotalPinnedColWidth();this.ePinnedColsContainer.style.width=s+"px"};g.prototype.setPinnedColHeight=function(){var s=this.eBodyViewport.clientWidth<this.eBodyViewport.scrollWidth;var t=this.eBodyViewport.offsetHeight;if(s){this.ePinnedColsViewport.style.height=(t-20)+"px"}else{this.ePinnedColsViewport.style.height=t+"px"}};g.prototype.setBodySize=function(){var t=this;var s=this.eBodyViewport.offsetHeight;if(this.bodyHeightLastTime!=s){this.bodyHeightLastTime=s;this.setPinnedColHeight();if(this.rowModel.getRowsAfterMap()){this.rowRenderer.drawVirtualRows()}}if(!this.finished){setTimeout(function(){t.setBodySize()},200)}};g.prototype.getTotalPinnedColWidth=function(){var v=this.gridOptionsWrapper.getPinnedColCount();var s=0;var u=v;if(this.gridOptions.columnDefs.length<v){u=this.gridOptions.columnDefs.length}for(var t=0;t<u;t++){s+=this.gridOptions.columnDefs[t].actualWidth}return s};g.prototype.addScrollListener=function(){var s=this;this.eBodyViewport.addEventListener("scroll",function(){s.scrollHeaderAndPinned();s.rowRenderer.drawVirtualRows()})};g.prototype.scrollHeaderAndPinned=function(){this.eHeaderContainer.style.left=-this.eBodyViewport.scrollLeft+"px";this.ePinnedColsContainer.style.top=-this.eBodyViewport.scrollTop+"px"}});(function(k){var j=document,f="appendChild",g="styleSheet",h=j.createElement("style");h.type="text/css";j.getElementsByTagName("head")[0][f](h);h[g]?h[g].cssText=k:h[f](j.createTextNode(k))})("\r\n.ag-root {\r\n    height: 100%;\r\n    font-size: 14px;\r\n    cursor: default;\r\n\r\n    /* Set to relative, so absolute popups appear relative to this */\r\n    position: relative;\r\n\r\n    /*disable user mouse selection */\r\n    -webkit-touch-callout: none;\r\n    -webkit-user-select: none;\r\n    -khtml-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n    box-sizing: border-box;\r\n}\r\n\r\n.ag-popup-backdrop {\r\n    position: fixed;\r\n    left: 0px;\r\n    top: 0px;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.ag-header {\r\n    position: absolute;\r\n    top: 0px;\r\n    left: 0px;\r\n    white-space: nowrap;\r\n    box-sizing: border-box;\r\n    overflow: hidden;\r\n    height: 25px;\r\n    box-sizing: border-box;\r\n    width: 100%;\r\n}\r\n\r\n.ag-pinned-header {\r\n    box-sizing: border-box;\r\n    display: inline-block;\r\n    overflow: hidden;\r\n    height: 100%;\r\n}\r\n\r\n.ag-header-viewport {\r\n    box-sizing: border-box;\r\n    display: inline-block;\r\n    overflow: hidden;\r\n    height: 100%;\r\n}\r\n\r\n.ag-header-container {\r\n    box-sizing: border-box;\r\n    position: relative;\r\n    white-space: nowrap;\r\n    height: 100%;\r\n}\r\n\r\n.ag-header-cell {\r\n    box-sizing: border-box;\r\n    font-weight: bold;\r\n    vertical-align: bottom;\r\n    text-align: center;\r\n    display: inline-block;\r\n    height: 100%;\r\n}\r\n\r\n.ag-header-cell-label {\r\n    padding: 4px;\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n}\r\n\r\n.ag-header-cell-sort {\r\n    padding-right: 2px;\r\n}\r\n\r\n.ag-header-cell-resize {\r\n    height: 100%;\r\n    width: 4px;\r\n    float: right;\r\n    cursor: col-resize;\r\n}\r\n\r\n.ag-header-cell-menu-button {\r\n    float: right;\r\n    /*margin-top: 5px;*/\r\n}\r\n\r\n.ag-body {\r\n    height: 100%;\r\n    padding-top: 25px;\r\n    box-sizing: border-box;\r\n}\r\n\r\n.ag-pinned-cols-viewport {\r\n    float: left;\r\n    overflow: hidden;\r\n}\r\n\r\n.ag-pinned-cols-container {\r\n    display: inline-block;\r\n    position: relative;\r\n}\r\n\r\n.ag-body-viewport-wrapper {\r\n    height: 100%;\r\n}\r\n\r\n.ag-body-viewport {\r\n    overflow: auto;\r\n    height: 100%;\r\n}\r\n\r\n.ag-body-container {\r\n    position: relative;\r\n    display: inline-block;\r\n}\r\n\r\n.ag-row {\r\n    white-space: nowrap;\r\n    position: absolute;\r\n}\r\n\r\n.ag-row-odd {\r\n}\r\n\r\n.ag-row-even {\r\n}\r\n\r\n.ag-row-selected {\r\n}\r\n\r\n.agile-gird-row:hover {\r\n    background-color: aliceblue;\r\n}\r\n\r\n.ag-cell {\r\n    display: inline-block;\r\n    white-space: nowrap;\r\n    height: 100%;\r\n    box-sizing: border-box;\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n    padding: 4px;\r\n}\r\n\r\n.ag-group-row {\r\n    position: absolute;\r\n    width: 100%;\r\n    display: inline-block;\r\n    white-space: nowrap;\r\n    height: 100%;\r\n    box-sizing: border-box;\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n    padding: 4px;\r\n}\r\n\r\n.ag-large .ag-root {\r\n    font-size: 20px;\r\n}\r\n.ag-filter {\r\n    position: absolute;\r\n}\r\n\r\n.ag-filter-list-viewport {\r\n    overflow-x: auto;\r\n    height: 300px;\r\n    width: 200px;\r\n}\r\n\r\n.ag-filter-list-container {\r\n    position: relative;\r\n    overflow: hidden;\r\n}\r\n\r\n.ag-filter-item {\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n    position: absolute;\r\n}\r\n\r\n.ag-filter-filter {\r\n    width: 170px;\r\n    margin: 4px;\r\n}\r\n.ag-dark .ag-root {\r\n    border: 1px solid grey;\r\n    color: #e0e0e0;\r\n}\r\n\r\n.ag-dark .ag-cell {\r\n    border-right: 1px solid grey;\r\n}\r\n\r\n.ag-dark .ag-header {\r\n    background-color: #430000;\r\n    border-bottom: 1px solid grey;\r\n}\r\n\r\n.ag-dark .ag-header-cell {\r\n    border-right: 1px solid grey;\r\n}\r\n\r\n.ag-dark .ag-header-cell-menu-button {\r\n    padding: 2px;\r\n    margin-top: 4px;\r\n    border: 1px solid transparent;\r\n}\r\n\r\n.ag-dark .ag-header-cell-menu-button:hover {\r\n    border: 1px solid #e0e0e0;\r\n}\r\n\r\n.ag-dark .ag-header-icon {\r\n    stroke: white;\r\n    fill: white;\r\n}\r\n\r\n.ag-dark .ag-row-odd {\r\n    background-color: #302E2E;\r\n}\r\n\r\n.ag-dark .ag-row-even {\r\n    background-color: #403E3E;\r\n}\r\n\r\n.ag-dark .ag-body {\r\n    background-color: #f0f0f0;\r\n}\r\n\r\n.ag-dark .ag-row-selected {\r\n    background-color: #000000;\r\n}\r\n\r\n.ag-dark .ag-filter {\r\n    color: black;\r\n}\r\n\r\n.ag-dark .ag-filter-header-container {\r\n    border-bottom: 1px solid lightgrey;\r\n}\r\n\r\n.ag-dark .ag-filter {\r\n    border: 1px solid black;\r\n    background-color: #f0f0f0;\r\n}\r\n.ag-fresh .ag-root {\r\n    border: 1px solid grey;\r\n}\r\n\r\n.ag-fresh .ag-cell {\r\n    border-right: 1px solid grey;\r\n}\r\n\r\n.ag-fresh .ag-header {\r\n    background: -webkit-linear-gradient(white, lightgrey); /* For Safari 5.1 to 6.0 */\r\n    background: -o-linear-gradient(white, lightgrey); /* For Opera 11.1 to 12.0 */\r\n    background: -moz-linear-gradient(white, lightgrey); /* For Firefox 3.6 to 15 */\r\n    background: linear-gradient(white, lightgrey); /* Standard syntax */\r\n    border-bottom: 1px solid grey;\r\n}\r\n\r\n.ag-fresh .ag-header-cell {\r\n    border-right: 1px solid grey;\r\n}\r\n\r\n.ag-fresh .ag-header-cell-menu-button {\r\n    padding: 2px;\r\n    margin-top: 4px;\r\n    border: 1px solid transparent;\r\n}\r\n\r\n.ag-fresh .ag-header-cell-menu-button:hover {\r\n    border: 1px solid black;\r\n}\r\n\r\n.ag-fresh .ag-row-odd {\r\n    background-color: #f0f0f0;\r\n}\r\n\r\n.ag-fresh .ag-row-even {\r\n    background-color: white;\r\n}\r\n\r\n.ag-fresh .ag-body {\r\n    background-color: #ffffff;\r\n}\r\n\r\n.ag-fresh .ag-row-selected {\r\n    background-color: #b0b0b0;\r\n}\r\n\r\n.ag-fresh .ag-group-row {\r\n    background-color: #aaa;\r\n}\r\n\r\n.ag-fresh .ag-filter-header-container {\r\n    border-bottom: 1px solid lightgrey;\r\n}\r\n\r\n.ag-fresh .ag-filter {\r\n    border: 1px solid black;\r\n    background-color: #f0f0f0;\r\n}\r\n");e("angular",function(){return d});var a=b("../src/angularGrid");return a}));