!function(t){"use strict";var e=function(e,s){this.options=t.extend({},t.fn.combobox.defaults,s),this.$container=this.setup(e),this.$element=this.$container.find("input"),this.$button=this.$container.find(".dropdown-toggle"),this.$target=this.$container.find("select"),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.$menu=t(this.options.menu).appendTo("body"),this.forceMatch=this.options.forceMatch,this.placeholder=this.options.placeholder||this.placeholder,this.$element.attr("placeholder",this.placeholder),this.shown=!1,this.refresh(),this.listen()};e.prototype=t.extend({},t.fn.typeahead.Constructor.prototype,{constructor:e,setup:function(e){var s=t(e),i=t(this.options.template);return s.before(i),s.detach(),i.prepend(s),i},parse:function(){var e={},s=[],i=!1;return this.$target.find("option").each(function(){var o=t(this);e[o.html()]=o.val(),s.push(o.html()),o.attr("selected")&&(i=o.html())}),this.map=e,i&&(this.$element.val(i),this.$container.addClass("combobox-selected")),s},toggle:function(){this.$container.hasClass("combobox-selected")?(this.$target.val(""),this.$element.val("").focus(),this.$container.removeClass("combobox-selected")):this.shown?this.hide():this.lookup()},refresh:function(){this.source=this.parse(),this.options.items=this.source.length},select:function(){var t=this.$menu.find(".active").attr("data-value");return this.$element.val(t),this.$container.addClass("combobox-selected"),this.$target.val(this.map[t]),this.$target.trigger("change"),this.hide()},lookup:function(e){var s,i=this;return this.query=this.$element.val(),s=t.grep(this.source,function(t){return i.matcher(t)?t:void 0}),s=this.sorter(s),s.length?this.render(s.slice(0,this.options.items)).show():this.shown?this.hide():this},listen:function(){this.$element.on("blur",t.proxy(this.blur,this)).on("keypress",t.proxy(this.keypress,this)).on("keyup",t.proxy(this.keyup,this)),(t.browser.webkit||t.browser.msie)&&this.$element.on("keydown",t.proxy(this.keypress,this)),this.$menu.on("click",t.proxy(this.click,this)).on("mouseenter","li",t.proxy(this.mouseenter,this)),this.$button.on("click",t.proxy(this.toggle,this))},blur:function(t){var e=this;t.stopPropagation(),t.preventDefault();var s=this.$element.val();!this.forceMatch||0!=s.length&&-1!=this.matcher(s)||(this.$element.val(""),this.$target.val("").trigger("change")),this.shown&&setTimeout(function(){e.hide()},150)}}),t.fn.combobox=function(s){return this.each(function(){var i,o=t(this),h="object"==typeof s&&s;o.data("combobox",i=new e(this,h)),"string"==typeof s&&i[s]()})},t.fn.combobox.defaults={template:'<div class="combobox-container"><input type="text" /><span class="add-on btn dropdown-toggle" data-dropdown="dropdown"><span class="caret"/><span class="combobox-clear"><i class="icon-remove"/></span></span></div>',menu:'<ul class="typeahead typeahead-long dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',forceMatch:!1,placeholder:null},t.fn.combobox.Constructor=e}(window.jQuery);
//# sourceMappingURL=./bootstrap-combobox.min.js.map