(function(a){a.fn.viewportChecker=function(b){var e={classToAdd:"visible",offset:100,repeat:false,callbackFunction:function(g,h){},scrollHorizontal:false};a.extend(e,b);var c=this,d=(!e.scrollHorizontal)?a(window).height():a(window).width(),f=((navigator.userAgent.toLowerCase().indexOf("webkit")!=-1)?"body":"html");this.checkElements=function(){if(!e.scrollHorizontal){var g=a(f).scrollTop(),h=(g+d)}else{var g=a(f).scrollLeft(),h=(g+d)}c.each(function(){var k=a(this);if(k.hasClass(e.classToAdd)&&!e.repeat){return}var i=(!e.scrollHorizontal)?Math.round(k.offset().top)+e.offset:Math.round(k.offset().left)+e.offset,j=i+(k.height());if((i<h)&&(j>g)){k.addClass(e.classToAdd);e.callbackFunction(k,"add")}else{if(k.hasClass(e.classToAdd)&&(e.repeat)){k.removeClass(e.classToAdd);e.callbackFunction(k,"remove")}}})};a(window).bind("load scroll touchmove",this.checkElements);a(window).resize(function(g){d=(!e.scrollHorizontal)?g.currentTarget.innerHeight:g.currentTarget.innerWidth});this.checkElements();return this}})(jQuery);