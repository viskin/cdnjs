function calendarHeatmap(){function t(){function o(){var o=d3.select(t.selector()).append("svg").attr("width",e).attr("class","calendar-heatmap").attr("height",n).style("padding","36px");p=o.selectAll(".day-cell").data(y),p.enter().append("rect").attr("class","day-cell").attr("width",l).attr("height",l).attr("fill","gray").attr("x",function(t,e){var n=moment(t),r=n.week()-g.week()+g.weeksInYear()*(n.weekYear()-g.weekYear());return r*(l+i)}).attr("y",function(t,e){return c+t.getDay()*(l+i)}),s&&p.on("mouseover",function(t,e){m=d3.select("body").append("div").attr("class","cell-tooltip").html(f(t)).style("left",function(){return Math.floor(e/7)*l}).style("top",function(){return t.getDay()*(l+i)+3*c})}).on("mouseout",function(t,e){m.remove()}),p.exit().remove();o.selectAll(".month").data(h).enter().append("text").attr("class","month-name").style().text(function(t){return r[t.getMonth()]}).attr("x",function(t,e){var n=0;return y.find(function(e,r){return n=r,moment(t).isSame(e,"month")&&moment(t).isSame(e,"year")}),Math.floor(n/7)*(l+i)}).attr("y",0);a.forEach(function(t,e){e%2&&o.append("text").attr("class","day-initial").attr("transform","translate(-8,"+(l+i)*(e+1)+")").style("text-anchor","middle").attr("dy","2").text(t)})}function f(e){var n=moment(e).format("ddd, MMM Do YYYY"),r=0,a=t.data().find(function(t,n){return moment(t.date).isSame(e)});return a&&(r=a.count),"<span><strong>"+(r?r:"No")+" contribution"+(1===r?"":"s")+"</strong> on "+n+"</span>"}d3.selectAll(".calendar-heatmap").remove();var m,p,y=d3.time.days(d,u),h=d3.time.months(moment(d).startOf("month").toDate(),u),g=moment(y[0]),v=d3.max(t.data(),function(t){return t.count}),w=d3.scale.linear().range(t.colorRange()).domain([0,v]);o(),p.filter(function(e){var n=t.data().some(function(t,n){return moment(e).isSame(t.date,"day")});return n}).attr("fill",function(e,n){return w(t.data()[n].count)})}var e=750,n=310,r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=["S","M","T","W","T","F","S"],o="body",l=11,i=2,c=6,u=moment().endOf("day").toDate(),d=moment().startOf("day").subtract(1,"year").toDate(),f=[],m=["#D8E6E7","#218380"],s=!0;return t.data=function(e){return arguments.length?(f=e,t):f},t.selector=function(e){return arguments.length?(o=e,t):o},t.colorRange=function(e){return arguments.length?(m=e,t):m},t.tooltipEnabled=function(e){return arguments.length?(s=e,t):s},t}Array.prototype.find||(Array.prototype.find=function(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,n=Object(this),r=n.length>>>0,a=arguments[1],o=0;r>o;o++)if(e=n[o],t.call(a,e,o,n))return e});
//# sourceMappingURL=./calendar-heatmap.min.js.map