!function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){var d="function"==typeof require&&require;if(!a&&d)return d(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var f=n[s]={exports:{}};e[s][0].call(f.exports,function(t){var n=e[s][1][t];return i(n?n:t)},f,f.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){var r=t("./helpers"),i=function(t){var e=t.data("b"),n=t.data("p"),i=r.decls[e];if(!i)throw new Error(e+" block is not declared");var o={name:e,params:n,$node:t,_id:r.guid()};$.extend(this,o,i.methods),this._addEvents(),this._setInited(),this.emit("b-inited")};i.prototype.on=function(t,e){return this.$node.on(this.name+":"+t,e),this},i.prototype.off=function(t,e){var n=this.name+":"+t;return t?e?this.$node.off(n,e):this.$node.off(n):this.$node.off(),this},i.prototype._addEvents=function(){var t=r.decls[this.name],e=t.events;for(var n in e)if(e.hasOwnProperty(n)){var i=n.split(" ",2),o=e[n];"string"==typeof o&&(o=t.methods[o]),this.$node.on(i[0],i[1],o.bind(this))}},i.prototype._setInited=function(){this.$node.addClass("jb-inited")},i.prototype.emit=function(t){return this.$node.trigger(this.name+":"+t),this},i.prototype.destroy=function(){r.cache[this._id]=null,this.$node.removeClass("jb-inited"),this.off(),this.emit("b-destroyed")},e.exports=i},{"./helpers":3}],2:[function(t,e,n){var r=t("./helpers"),i=t("./Block"),o={init:function(){return this.find("[data-b]").jblocks("get")},destroy:function(){this.find("[data-b]").jblocks("get").each(function(){this.destroy()})},get:function(){return this.map(function(){var t=$(this),e=t.data("_bid");if(e)return r.cache[e];var n=new i(t);return e=n._id,t.data("_bid",e),r.cache[e]=n,n})},find:function(t){var e="[data-b]";return t&&(e='[data-b="'+t+'"]'),this.find(e).map(function(){return $(this).jblocks("get")[0]})}};$.fn.jblocks=function(t){if(t in o)return o[t].apply(this,Array.prototype.slice.call(arguments,1));throw new Error("Can`t find method "+t)},$.jblocks=function(t){if(!("name"in t))throw new Error("Need to define block`s name");if(r.decls[t.name])throw new Error("Can`t redefine "+t.name+" block");r.decls[t.name]=t},$.Block=i},{"./Block":1,"./helpers":3}],3:[function(t,e,n){var r=0;n.cache={},n.decls={},n.guid=function(){return"b-"+r++}},{}]},{},[2]);
//# sourceMappingURL=./0.3.0/jblocks.min.js.map