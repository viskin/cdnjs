!function t(e,n,r){function i(s,d){if(!n[s]){if(!e[s]){var a="function"==typeof require&&require;if(!d&&a)return a(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return i(n?n:t)},c,c.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){var r=t("./helpers"),i=function(t){var e=t.data("b"),n=t.data("p"),i=r.decls[e];if(!i)throw new Error(e+" block is not declared");var o={name:e,params:n,$node:t,_id:r.guid()};$.extend(this,o,i.methods),this._addEvents(),this._setInited(),this._trigger("b-inited")};i.prototype._addEvents=function(){var t=r.decls[this.name],e=t.events;for(var n in e)if(e.hasOwnProperty(n)){var i=n.split(" "),o=e[n];"string"==typeof o&&(o=t.methods[o]),this.$node.on(i[0],i[1],o.bind(this))}},i.prototype._setInited=function(){this.$node.addClass("jb-inited")},i.prototype._trigger=function(t){this.$node.trigger(t)},i.prototype.destroy=function(){r.cache[this._id]=null,this.$node.removeClass("jb-inited"),this.$node.off(),this._trigger("b-destroyed")},e.exports=i},{"./helpers":3}],2:[function(t,e,n){var r=t("./helpers"),i=t("./Block");$.define=function(t,e){if(r.decls[t])throw new Error("Can`t redefine "+t+" block");r.decls[t]=e},$.fn.getBlocks=function(){return this.map(function(){var t=$(this),e=t.data("_bid");if(e)return r.cache[e];var n=new i(t);return e=n._id,t.data("_bid",e),r.cache[e]=n,n})},$.fn.initBlocks=function(){return this.find("[data-b]").getBlocks()},$.fn.destroyBlocks=function(){this.find("[data-b]").getBlocks().each(function(){this.destroy()})},$.Block=i},{"./Block":1,"./helpers":3}],3:[function(t,e,n){var r=0;n.cache={},n.decls={},n.guid=function(){return"b-"+r++}},{}]},{},[2]);
//# sourceMappingURL=./0.1.0/jblocks.min.js.map