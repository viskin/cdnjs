// Ion.RangeSlider
// version 1.5.95
// http://ionden.com/a/plugins/ion.rangeSlider/
(function(d){var O=0,r=function(d){return d.toString().replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1 ")},m={init:function(c){var b=d.extend({min:10,max:100,from:10,to:100,type:"single",step:1,postfix:"",onChange:null,onFinish:null},c),n='<span class="irs">',n=n+'<span class="irs-line"><span class="irs-line-left"></span><span class="irs-line-mid"></span><span class="irs-line-right"></span></span>',n=n+'<span class="irs-min">0</span><span class="irs-max">1</span>',n=n+'<span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span>',
n=n+"</span>",A='<span class="irs-diapason"></span>',A=A+'<span class="irs-slider from"></span>',A=A+'<span class="irs-slider to"></span>',x;c=navigator.userAgent;var m=/msie\s\d+/i;0<c.search(m)?(c=m.exec(c).toString(),c=c.split(" ")[1],x=9>c?!0:!1):x=!1;var B;try{document.createEvent("TouchEvent"),B=!0}catch(W){B=!1}return this.each(function(){var c=d(this);if(!c.data("isActive")){c.data("isActive",!0);O++;this.pluginCount=O;var m={min:parseInt(c.attr("value").split(";")[0])||b.min,max:parseInt(c.attr("value").split(";")[1])||
b.max,from:parseInt(c.data("from"))||b.from,to:parseInt(c.data("to"))||b.to,type:c.data("type")||b.type,step:parseInt(c.data("step"))||b.step,postfix:c.data("postfix")||b.postfix};b=d.extend(b,m);m='<span class="irs" id="irs-'+this.pluginCount+'"></span>';c[0].style.display="none";c.before(m);var y=d("#irs-"+this.pluginCount),P=d(document.body),Q=d(window),e,C,D,t,u,p,s,g,l,q,L,f=!1,v=!1,h={},M=0,G=0,H=0,k=0,w=0,E=0,N=0,I=0,J=0,R=0;this.updateData=function(a){b=d.extend(b,a);y.find("*").off();y.html("");
S()};this.removeSlider=function(){y.find("*").off();y.html("").remove();c.data("isActive",!1);c.show()};var S=function(){y.html(n);e=y.find(".irs");C=e.find(".irs-min");D=e.find(".irs-max");C.html(r(b.min)+b.postfix);D.html(r(b.max)+b.postfix);t=e.find(".irs-from");u=e.find(".irs-to");p=e.find(".irs-single");G=C.outerWidth();H=D.outerWidth();if("single"===b.type){if(e.append('<span class="irs-slider single"></span>'),s=e.find(".single"),s.on("mousedown",function(a){a.preventDefault();a.stopPropagation();
z(a,d(this),null);f=!0;x&&d("*").prop("unselectable",!0)}),B)s.on("touchstart",function(a){a.preventDefault();a.stopPropagation();z(a.originalEvent,d(this),null);f=!0})}else"double"===b.type&&(e.append(A),g=e.find(".from"),l=e.find(".to"),L=e.find(".irs-diapason"),F(),g.on("mousedown",function(a){a.preventDefault();a.stopPropagation();d(this).addClass("last");l.removeClass("last");z(a,d(this),"from");v=f=!0;x&&d("*").prop("unselectable",!0)}),l.on("mousedown",function(a){a.preventDefault();a.stopPropagation();
d(this).addClass("last");g.removeClass("last");z(a,d(this),"to");v=f=!0;x&&d("*").prop("unselectable",!0)}),B&&(g.on("touchstart",function(a){a.preventDefault();a.stopPropagation();d(this).addClass("last");l.removeClass("last");z(a.originalEvent,d(this),"from");v=f=!0}),l.on("touchstart",function(a){a.preventDefault();a.stopPropagation();d(this).addClass("last");g.removeClass("last");z(a.originalEvent,d(this),"to");v=f=!0})));P.on("mouseup",function(){f&&(f=v=!1,q.removeAttr("id"),q=null,"double"===
b.type&&F(),K(),x&&d("*").prop("unselectable",!1))});P.on("mousemove",function(a){f&&(M=a.pageX,T())});B&&(Q.on("touchend",function(){f&&(f=v=!1,q.removeAttr("id"),q=null,"double"===b.type&&F(),K())}),Q.on("touchmove",function(a){f&&(M=a.originalEvent.pageX,T())}));U();var a={fromNumber:b.from,toNumber:b.to,fromPers:0,toPers:0,fromX:0,toX:0},c=b.max-b.min;"single"===b.type?(a.fromPers=100*((a.fromNumber-b.min)/c),a.fromX=Math.round(w/100*a.fromPers),s[0].style.left=a.fromX+"px"):"double"===b.type&&
(a.fromPers=100*((a.fromNumber-b.min)/c),a.fromX=Math.round(w/100*a.fromPers),g[0].style.left=a.fromX+"px",a.toPers=100*((a.toNumber-b.min)/c),a.toX=Math.round(w/100*a.toPers),l[0].style.left=a.toX+"px",F());h=a;V()},U=function(){k=e.width();E=s?s.width():g.width();w=k-E},z=function(a,c,d){U();q=c;q.attr("id","irs-active-slider");c=q.offset().left;R=c+(a.pageX-c)-q.position().left;"single"===b.type?N=e.width()-E:"double"===b.type&&("from"===d?(I=0,J=parseInt(l.css("left"))):(I=parseInt(g.css("left")),
J=e.width()-E))},F=function(){var a=g.width(),b=parseInt(g[0].style.left)||g.position().left,c=(parseInt(l[0].style.left)||l.position().left)-b;L[0].style.left=b+a/2+"px";L[0].style.width=c+"px"},T=function(){var a=Math.round(M-R);"single"===b.type?(0>a&&(a=0),a>N&&(a=N),K()):"double"===b.type&&(a<I&&(a=I),a>J&&(a=J),K(),F());q[0].style.left=a+"px"},K=function(){var a={fromNumber:0,toNumber:0,fromPers:0,toPers:0,fromX:0,toX:0},c=b.max-b.min,d;"single"===b.type?(a.fromX=parseInt(s[0].style.left)||
s.position().left,a.fromPers=100*(a.fromX/w),d=c/100*a.fromPers+parseInt(b.min),a.fromNumber=Math.round(d/b.step)*b.step):"double"===b.type&&(a.fromX=parseInt(g[0].style.left)||g.position().left,a.fromPers=100*(a.fromX/w),d=c/100*a.fromPers+parseInt(b.min),a.fromNumber=Math.round(d/b.step)*b.step,a.toX=parseInt(l[0].style.left)||l.position().left,a.toPers=100*(a.toX/w),c=c/100*a.toPers+parseInt(b.min),a.toNumber=Math.round(c/b.step)*b.step);h=a;V()},V=function(){var a,d,e,g,f,j;j=E/2;"single"===b.type?
(t[0].style.display="none",u[0].style.display="none",e=r(h.fromNumber)+b.postfix,p.html(e),f=p.outerWidth(),j=h.fromX-f/2+j,0>j&&(j=0),j>k-f&&(j=k-f),p[0].style.left=j+"px",C[0].style.display=j<G?"none":"block",D[0].style.display=j+f>k-H?"none":"block",c.attr("value",parseInt(h.fromNumber))):"double"===b.type&&(a=r(h.fromNumber)+b.postfix,d=r(h.toNumber)+b.postfix,e=h.fromNumber!=h.toNumber?r(h.fromNumber)+" \u2014 "+r(h.toNumber)+b.postfix:r(h.fromNumber)+b.postfix,t.html(a),u.html(d),p.html(e),
a=t.outerWidth(),d=h.fromX-a/2+j,0>d&&(d=0),d>k-a&&(d=k-a),t[0].style.left=d+"px",e=u.outerWidth(),g=h.toX-e/2+j,0>g&&(g=0),g>k-e&&(g=k-e),u[0].style.left=g+"px",f=p.outerWidth(),j=h.fromX+(h.toX-h.fromX)/2-f/2+j,0>j&&(j=0),j>k-f&&(j=k-f),p[0].style.left=j+"px",d+a<g?(p[0].style.display="none",t[0].style.display="block",u[0].style.display="block"):(p[0].style.display="block",t[0].style.display="none",u[0].style.display="none"),C[0].style.display=j<G||d<G?"none":"block",D[0].style.display=j+f>k-H||
g+e>k-H?"none":"block",c.attr("value",parseInt(h.fromNumber)+";"+parseInt(h.toNumber)));"function"==typeof b.onChange&&b.onChange.call(this,h);"function"==typeof b.onFinish&&!1===v&&b.onFinish.call(this,h)};S()}})},update:function(c){return this.each(function(){this.updateData(c)})},remove:function(){return this.each(function(){this.removeSlider()})}};d.fn.ionRangeSlider=function(c){if(m[c])return m[c].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof c||!c)return m.init.apply(this,
arguments);d.error("Method "+c+" does not exist for jQuery.ionRangeSlider")}})(jQuery);