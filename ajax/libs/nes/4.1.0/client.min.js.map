{"version":3,"sources":["nes/4.1.0//client.js"],"names":["_typeof","Symbol","iterator","obj","constructor","root","factory","exports","module","define","amd","nes","undefined","version","ignore","parse","message","next","error","JSON","err","NesError","stringify","string","type","Error","errorCodes",1000,1001,1002,1003,1004,1005,1006,1007,1008,1009,1010,1011,1015,"Client","url","options","this","_url","_settings","_heartbeatTimeout","_ws","_reconnection","_ids","_requests","_subscriptions","_heartbeat","_packets","onError","console","onConnect","onDisconnect","onUpdate","id","WebSocket","prototype","connect","callback","arguments","reconnect","wait","delay","maxDelay","retries","Infinity","settings","auth","timeout","_connect","initial","_this","sentCallback","timeoutHandler","close","_cleanup","_reconnect","setTimeout","ws","onopen","clearTimeout","_hello","path","disconnect","onerror","event","onclose","log","code","explanation","reason","wasClean","onmessage","_onMessage","overrideReconnectionAuth","readyState","OPEN","CONNECTING","ids","Object","keys","i","length","request","_this2","Math","min","method","headers","payload","_send","track","_this3","encoded","send","record","subs","subscriptions","subscribe","handler","_this4","indexOf","push","unsubscribe","sync","pos","splice","_this5","_beat","data","prefix","slice","join","update","statusCode","socket","heartbeat","interval","handlers","_this6"],"mappings":"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","file":"nes/4.1.0//client.min.js"}