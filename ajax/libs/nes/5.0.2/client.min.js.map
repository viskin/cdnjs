{"version":3,"sources":["client.js"],"names":["_typeof","Symbol","iterator","obj","constructor","root","factory","exports","module","define","amd","nes","window","global","version","ignore","parse","message","next","error","JSON","err","NesError","stringify","string","type","Error","errorCodes",1000,1001,1002,1003,1004,1005,1006,1007,1008,1009,1010,1011,1015,"Client","url","options","this","_url","_settings","_heartbeatTimeout","_ws","_reconnection","_ids","_requests","_subscriptions","_heartbeat","_packets","onError","console","onConnect","onDisconnect","onUpdate","id","WebSocket","prototype","connect","callback","arguments","reconnect","wait","delay","maxDelay","retries","Infinity","settings","auth","timeout","_connect","initial","_this","sentCallback","timeoutHandler","close","_cleanup","_reconnect","setTimeout","ws","onopen","clearTimeout","_hello","path","disconnect","onerror","event","onclose","log","code","explanation","reason","wasClean","onmessage","_onMessage","overrideReconnectionAuth","readyState","OPEN","CONNECTING","ids","Object","keys","i","length","request","_this2","Math","min","method","headers","payload","_send","track","_this3","encoded","send","record","subs","subscriptions","subscribe","handler","_this4","indexOf","push","unsubscribe","sync","pos","splice","errIgnore","_this5","_beat","data","prefix","slice","join","update","statusCode","socket","heartbeat","interval","handlers","undefined","flags","revoked","_this6"],"mappings":"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","file":"client.min.js"}