/**
  * v0.0.27 generated on: Mon Feb 15 2016 18:31:14 GMT+0000 (UTC)
  * Copyright (c) 2014-2016, Corey Butler. All Rights Reserved.
  */
var NgnList=document.registerElement("ngn-list",{prototype:Object.create(HTMLElement.prototype,{slice:{enumerable:!1,writable:!1,configurable:!1,value:function(e){return Array.prototype.slice.call(e)}},indexOfParent:{enumerable:!1,writable:!1,configurable:!1,value:function(e){return this.slice(e.parentNode.children).indexOf(e)}},getItemAt:{enumerable:!0,value:function(e){return this.items[e]||null}},items:{enumerable:!0,get:function(){return this.slice(this.children)}},isSelected:{enumerable:!1,value:function(e){return"true"===e.getAttribute("selected")}},isFiltered:{enumerable:!1,value:function(e){return"true"===e.getAttribute("filter")}},toggleSelection:{enumerable:!1,value:function(e){this.isSelected(e)?(e.removeAttribute("selected"),this.dispatchEvent(new CustomEvent("item.unselect",{detail:{item:e}}))):(e.setAttribute("selected","true"),this.dispatchEvent(new CustomEvent("item.select",{detail:{item:e}})))}},toggleFilter:{enumerable:!1,value:function(e){this.isFiltered(e)?(e.removeAttribute("filter"),this.dispatchEvent(new CustomEvent("item.unfilter",{detail:{item:e}}))):(e.setAttribute("filter","true"),this.dispatchEvent(new CustomEvent("item.filter",{detail:{item:e}})))}},filterItem:{value:function(e){this.isFiltered(e)||this.toggleFilter(e)}},unfilterItem:{value:function(e){this.isFiltered(e)&&this.toggleFilter(e)}},selectItem:{value:function(e){this.isSelected(e)||this.toggleSelection(e)}},unselectItem:{value:function(e){this.isSelected(e)&&this.toggleSelection(e)}},toggleRangeSelection:{enumerable:!0,value:function(e,t){for(var i=t>e?e:t,n=e>t?e:t,l=i;n>=l;l++)this.toggleSelection(this.children[l])}},selectRange:{value:function(e,t){for(var i=t>e?e:t,n=e>t?e:t,l=i;n>=l;l++)this.selectItem(this.children[l])}},unselectRange:{value:function(e,t){for(var i=t>e?e:t,n=e>t?e:t,l=i;n>=l;l++)this.unselectItem(this.children[l])}},nextItem:{enumerable:!1,value:function(e){for(var t=e.nextSibling;null!==t&&(3===t.nodeType||this.isFiltered(t));)t=t.nextSibling;return t}},previousItem:{enumerable:!1,value:function(e){for(var t=e.previousSibling;null!==t&&(3===t.nodeType||this.isFiltered(t));)t=t.previousSibling;return t}},applyHandlers:{enumerable:!1,writable:!1,configurable:!1,value:function(e,t){var i=t||this;e.addEventListener("click",function(t){return i.holdingShift||t.ctrlKey||i.cmdKeyPressed||t.altKey?t.ctrlKey||t.altKey||i.cmdKeyPressed?(i.holdingShift?(i.toggleSelection(i.last),i.toggleRangeSelection(i.indexOfParent(i.last),i.indexOfParent(e)),i.base&&i.toggleSelection(i.base)):i.toggleSelection(e),void(i.last=e)):(i.holdingShift&&(i.base=i.base||i.last||e,!(t.ctrlKey||t.altKey||i.cmdKeyPressed)&&i.clearSelected(),i.toggleRangeSelection(i.indexOfParent(i.base),i.indexOfParent(e))),void(i.last=e)):(i.clearSelected(),i.toggleSelection(e),i.base=e,void(i.last=e))})}},applyArrowHandler:{enumerable:!1,value:function(e){if(e.keyCode>=37&&e.keyCode<=40&&this.holdingShift&&null!==this.last){var t,i=!1;if(e.keyCode>=39?(t=this.nextItem(this.last),i=this.trending<0,this.trending=1):(t=this.previousItem(this.last),i=this.trending>0,this.trending=-1),t===this.base)return void(this.last=this.base);i?this.toggleSelection(this.last):(this.toggleSelection(t),this.last=t)}}},createdCallback:{value:function(){var e=this;Object.defineProperties(this,{cmdKeyPressed:{enumerable:!1,writable:!0,configurable:!1,value:!1},holdingShift:{enumerable:!1,writable:!0,configurable:!1,value:!1},base:{enumerable:!1,writable:!0,configurable:!1,value:null},last:{enumerable:!1,writable:!0,configurable:!1,value:null},trending:{enumerable:!1,writable:!0,configurable:!1,value:0}}),window.addEventListener("keydown",function(t){91===t.keyCode&&(e.cmdKeyPressed=!0),e.applyArrowHandler(t),16===t.keyCode&&(e.holdingShift=!0,e.trending=0)}),window.addEventListener("keyup",function(t){91===t.keyCode&&(e.cmdKeyPressed=!1),16===t.keyCode&&(e.holdingShift=!1,e.base=null)}),this.items.forEach(function(t){e.applyHandlers(t,e)});var t=new MutationObserver(function(t){t.forEach(function(t){"childList"===t.type&&(t.addedNodes.length>0?e.slice(t.addedNodes).forEach(function(t){e.dispatchEvent(new CustomEvent("item.create",{detail:{item:t}}))}):t.removedNodes.length>0&&e.slice(t.removedNodes).forEach(function(t){e.dispatchEvent(new CustomEvent("item.delete",{detail:{item:t}}))}))})});t.observe(this,{childList:!0})}},getSelectedItems:{value:function(e){return("boolean"==typeof e?e:!1)?this.slice(this.querySelectorAll('[selected="true"]')):this.slice(this.querySelectorAll('[selected="true"]:not([filter="true"])'))}},getUnselectedItems:{value:function(e){var t=this;return("boolean"==typeof e?e:!1)?this.items.filter(function(e){return!t.isSelected(e)&&!t.isFiltered(e)}):this.items.filter(function(e){return!t.isSelected(e)})}},selectedItems:{enumerable:!0,get:function(){return this.getSelectedItems(!1)}},unselectedItems:{enumerable:!0,get:function(){return this.getUnselectedItems(!1)}},getFilteredItems:{value:function(){var e=this;return this.items.filter(function(t){return e.isFiltered(t)})}},getUnfilteredItems:{value:function(){var e=this;return this.items.filter(function(t){return!e.isFiltered(t)})}},filteredItems:{enumerable:!0,get:function(){return this.getFilteredItems()}},unfilteredItems:{enumerable:!0,get:function(){return this.getUnfilteredItems()}},selectAll:{value:function(e){e="boolean"==typeof e?e:!1;var t=this;this.items.forEach(function(i){(e||!t.isFiltered(i))&&(t.selectItem(i),this.last=i)})}},clearSelected:{value:function(){var e=this;this.items.forEach(function(t){e.unselectItem(t)});for(var t=0;t<this.children.length;t++)if(!this.isFiltered(this.children[t])){this.last=this.children[t];break}}},invertSelection:{value:function(){var e=this;this.items.filter(function(t){return console.log("Filtered?",e.isFiltered(t),t.textContent),!e.isFiltered(t)}).forEach(function(t){e.toggleSelection(t),e.last=t})}},filter:{value:function(e){"function"!=typeof e&&(console.warn("[ngn-list].filter(myFunction) method requires a function, but none was provided."),e=function(){return!1});var t=this;if(this.items.filter(e).forEach(function(e){t.filterItem(e)}),this.last){for(var i=this.last;this.isFiltered(this.last);)this.last=this.previousItem(this.last);if(null===this.last)for(this.last=i;this.isFiltered(this.last);)this.last=this.nextItem(this.last);null===this.last&&(this.last=this.querySelector(':not([filter="true"])'))}}},clearFilter:{value:function(){var e=this;this.items.forEach(function(t){e.unfilterItem(t)})}},sort:{value:function(e){e="function"==typeof e?e:function(){};var t="";this.items.sort(e).forEach(function(e){t+=e.outerHTML}),this.innerHTML=t}}})});