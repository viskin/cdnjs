/*! HTML - v0.9.3 - 2013-08-13
* http://nbubna.github.io/HTML/
* Copyright (c) 2013 ESHA Research; Licensed MIT, GPL */
(function(d,a,c){var b={version:"0.9.3",slice:Array.prototype.slice,list:function(f){if(f.length===1){return b.node(f[0])}if(!f.each){if(!f.slice){f=b.slice.call(f)}b.methods(f)}return f},node:function(f){if(!f.each){b.methods(f);b.children(f)}return f},methods:function(f){for(var g in b.fn){f[g]=b.fn[g].bind(f)}},children:function(k){var j=k._children={};for(var h=0,f=k.childNodes.length;h<f;h++){var l=k.childNodes[h],g=b.key(l);(j[g]||(j[g]=[])).push(l);if(!(g in k)){b.define(k,g)}}return j},key:function(f){return f.tagName?f.tagName.toLowerCase():"_other"},define:function(g,f){try{Object.defineProperty(g,f,{get:function(){if(!g._children){b.children(g)}return b.list(g._children[f]||[])}})}catch(h){}},mutation:function(g){var f=g.target;delete f[f._internal?"_internal":"_children"]},fn:{each:function(h){var g=this.forEach?this:[this],f;if(typeof h==="string"){f=[];h=b.field.apply(g,arguments)}g.forEach(function(m,l,j){var k=h.call(g,b.node(m),l,j);if(f&&k!==undefined){f.push(k)}});return f&&f.length?f:this},find:function(g){var h=this.forEach?this:[this];for(var k=[],j=0,f=h.length;j<f;j++){k=k.concat(b.slice.call(h[j].querySelectorAll(g)))}return b.list(k)},only:function(f,h){var g=this.forEach?this:[this];return b.list(f>=0||f<0?g.slice(f,h||(f+1)||undefined):g.filter(typeof f==="function"?f:function(i){return i[b.matches](f)}))}},field:function(g){var f=b.slice.call(arguments,1);g=b.field[g]||g;return function(j,h){return b.resolve(g,j,f,h)}},resolve:function(k,n,f,h){var g=k,j=n;f=f.length?b.fill(f,h,j):null;if(g.indexOf(".")>0){var l=g.split(".");while(l.length>1&&(j=j[g=l.shift()])){}j=j||n;g=j?l[0]:k}var m=j[g];if(m!==undefined){if(typeof m==="function"){return m.apply(j,f)}else{if(f){j[g]=f[0]}else{return m}}}else{if(f){j.setAttribute(k,f[0])}else{return j.getAttribute(k)}}},fill:function(k,j,o){var h=[];for(var l=0,g=k.length;l<g;l++){var f=k[l],n=typeof f;h[l]=n==="string"?f.replace(/\$\{i\}/g,j):n==="function"?f(o,j,k):f}return h}};var e=b.node(a.documentElement);e._=b;e.ify=function(f){return !f||"length" in f?b.list(f||[]):b.node(f)};["webkitM","mozM","msM","m"].forEach(function(f){if(e[f+"atchesSelector"]){b.matches=f+"atchesSelector"}});if(c){new c(function(f){f.forEach(b.mutation)}).observe(e,{childList:true,subtree:true})}else{a.addEventListener("DOMSubtreeModified",b.mutation)}if(typeof define==="function"&&define.amd){define(function(){return e})}else{if(typeof module!=="undefined"&&module.exports){module.exports=e}else{d.HTML=e}}a.addEventListener("DOMContentLoaded",function(){b.children(e)})})(window,document,window.MutationObserver);