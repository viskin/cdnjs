/*! HTML - v0.9.0 - 2013-07-24
* http://nbubna.github.io/HTML/
* Copyright (c) 2013 ESHA Research; Licensed MIT, GPL */
(function(d,a,e){var c=e._.fn.stringify=function(g,f){var h="";this.each(function(i){h+=b.print(i,g||false,f||"")});return h},b=c._={map:Array.prototype.map,specialPrefix:"_",markup:{"\n":"<br>","<":'<span class="markup">&lt;</span>',">":'<span class="markup">&gt;</span>',"</":'<span class="markup">&lt;/</span>',"\t":"&nbsp;&nbsp;&nbsp;&nbsp;"},plain:{"\n":"\n","<":"<",">":">","</":"</","/>":"/>","\t":"    "},type:{attr:"attr",string:"string",tag:"tag"},print:function(g,n,h){var p=g.tagName.toLowerCase(),f=n?b.markup:b.plain,o=b.isInline(g)?"":f["\n"],j=b.content(g,n,h+f["\t"],o),l=b.attrs(g,n),k=n?b.special(g):[];if(n){p=b.mark(p,b.type.tag)}var i=b.mark(f["<"]+p+(l?" "+l:"")+f[">"],k),m=b.mark(f["</"]+p+f[">"],k);if(j&&o){j=o+j+o+h}return h+i+j+m},isInline:function(f){return(f.currentStyle||d.getComputedStyle(f,"")).display==="inline"||f.tagName.match(/^(H\d|LI)$/i)},content:function(f,n,g,p){var o=[];for(var k=0,j=f.childNodes.length;k<j;k++){var h=f.childNodes[k];if(h.tagName){o.push(b.print(h,n,p?g:""))}else{if(h.nodeType===3){var l=h.textContent.replace(/^\s+|\s+$/g," ");if(l.match(/[^\s]/)){o.push(l)}}}}return o.join(p)},attrs:function(g,f){return b.map.call(g.attributes,function(h){var i=h.nodeName,j=h.nodeValue;if(!f||i.indexOf(b.specialPrefix)!==0){return f?b.mark(i+"=",b.type.attr)+b.mark('"'+j+'"',b.type.string):i+'="'+j+'"'}}).filter(b.notEmpty).join(" ")},special:function(f){return b.map.call(f.attributes,function(g){var h=g.nodeName;if(h.indexOf(b.specialPrefix)===0){return h.substr(1)+'="'+g.nodeValue+'"'}}).filter(b.notEmpty)},mark:function(g,f){if(f.length){if(typeof f==="string"){f=['class="'+f+'"']}return"<span "+f.join(" ")+">"+g+"</span>"}return g},notEmpty:function(f){return f!==undefined&&f!==null&&f!==""}}})(window,document,HTML);