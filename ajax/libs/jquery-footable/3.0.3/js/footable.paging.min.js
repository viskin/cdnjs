(function(t,e){e.Pager=e.Class.extend({construct:function(t,e,i,n,s){this.total=t,this.current=e,this.size=i,this.page=n,this.forward=s}})})(jQuery,FooTable),function(t,e){e.Paging=e.Component.extend({construct:function(t){this._super(t,t.o.paging.enabled),this.strings=t.o.paging.strings,this.current=t.o.paging.current,this.size=t.o.paging.size,this.limit=t.o.paging.limit,this.position=t.o.paging.position,this.countFormat=t.o.paging.countFormat,this.total=-1,this.$row=null,this.$cell=null,this.$pagination=null,this.$count=null,this._previous=1,this._total=0},preinit:function(t){var i=this;this.ft.raise("preinit.ft.paging",[t]).then(function(){i.ft.$el.hasClass("footable-paging")&&(i.enabled=!0),i.enabled=e.is.boolean(t.paging)?t.paging:i.enabled,i.enabled&&(i.size=e.is.number(t.pagingSize)?t.pagingSize:i.size,i.current=e.is.number(t.pagingCurrent)?t.pagingCurrent:i.current,i.limit=e.is.number(t.pagingLimit)?t.pagingLimit:i.limit,i.ft.$el.hasClass("footable-paging-left")&&(i.position="left"),i.ft.$el.hasClass("footable-paging-center")&&(i.position="center"),i.ft.$el.hasClass("footable-paging-right")&&(i.position="right"),i.position=e.is.string(t.pagingPosition)?t.pagingPosition:i.position,i.countFormat=e.is.string(t.pagingCountFormat)?t.pagingCountFormat:i.countFormat,i.total=Math.ceil(i.ft.rows.array.length/i.size),i._total=i.total)},function(){i.enabled=!1})},init:function(){var t=this;this.ft.raise("init.ft.paging").then(function(){t.$create()},function(){t.enabled=!1})},destroy:function(){var t=this;this.ft.raise("destroy.ft.paging").then(function(){t.ft.$el.removeClass("footable-paging").find("tfoot > tr.footable-paging").remove()})},predraw:function(){this.total=Math.ceil(this.ft.rows.array.length/this.size),this.current=this.current>this.total?this.total:1>this.current?1:this.current,this._total=this.ft.rows.array.length,this.ft.rows.array.length>this.size&&(this.ft.rows.array=this.ft.rows.array.splice((this.current-1)*this.size,this.size))},draw:function(){this.$cell.attr("colspan",this.ft.columns.visibleColspan),this._setVisible(this.current,this.current>this._previous),this._setNavigation(!0)},$create:function(){var e,i=this,n=i.total>1,s=function(e,i,n){return t("<li/>",{"class":n}).attr("data-page",e).append(t("<a/>",{"class":"footable-page-link",href:"#"}).data("page",e).html(i))};switch(i.position){case"left":e="footable-paging-left";break;case"right":e="footable-paging-right";break;default:e="footable-paging-center"}if(i.ft.$el.addClass("footable-paging").addClass(e),i.$cell=t("<td/>").attr("colspan",i.ft.columns.visibleColspan),i.$row=t("<tr/>",{"class":"footable-paging"}).append(i.$cell).appendTo(i.ft.$el.children("tfoot")),i.$pagination=t("<ul/>",{"class":"pagination"}).on("click.footable","a.footable-page-link",{self:i},i._onPageClicked),i.$count=t("<span/>",{"class":"label label-default"}),0==i.total||1==i.total)return i.$pagination.empty(),i.$count.text(i.total+" of "+i.total),i._total=i.total,void 0;i.$pagination.empty(),n&&(i.$pagination.append(s("first",i.strings.first,"footable-page-nav")),i.$pagination.append(s("prev",i.strings.prev,"footable-page-nav")),i.limit>0&&i.limit<i.total&&i.$pagination.append(s("prev-limit",i.strings.prevPages,"footable-page-nav")));for(var r,o=0;i.total>o;o++)r=s(o+1,o+1,"footable-page"),i.$pagination.append(r);n&&(i.limit>0&&i.limit<i.total&&i.$pagination.append(s("next-limit",i.strings.nextPages,"footable-page-nav")),i.$pagination.append(s("next",i.strings.next,"footable-page-nav")),i.$pagination.append(s("last",i.strings.last,"footable-page-nav"))),i.$cell.append(i.$pagination,t("<div/>",{"class":"divider"}),i.$count),i._total=i.total},first:function(){return this._set(1)},prev:function(){return this._set(this.current-1>0?this.current-1:1)},next:function(){return this._set(this.current+1<this.total?this.current+1:this.total)},last:function(){return this._set(this.total)},"goto":function(t){return this._set(t>this.total?this.total:1>t?1:t)},prevPages:function(){var t=this.$pagination.children("li.footable-page.visible:first").data("page")-1;this._setVisible(t,!0),this._setNavigation(!1)},nextPages:function(){var t=this.$pagination.children("li.footable-page.visible:last").data("page")+1;this._setVisible(t,!1),this._setNavigation(!1)},_set:function(i){var n=this,s=new e.Pager(n.total,n.current,n.size,i,i>n.current);return n.ft.raise("before.ft.paging",[s]).then(function(){return s.page=s.page>s.total?s.total:s.page,s.page=1>s.page?1:s.page,n.current==i?t.when():(n._previous=n.current,n.current=s.page,n.ft.draw().then(function(){n.ft.raise("after.ft.paging",[s])}))})},_setNavigation:function(t){1==this.current?this.$pagination.children('li[data-page="first"],li[data-page="prev"]').addClass("disabled"):this.$pagination.children('li[data-page="first"],li[data-page="prev"]').removeClass("disabled"),this.current==this.total?this.$pagination.children('li[data-page="next"],li[data-page="last"]').addClass("disabled"):this.$pagination.children('li[data-page="next"],li[data-page="last"]').removeClass("disabled"),1==(this.$pagination.children("li.footable-page.visible:first").data("page")||1)?this.$pagination.children('li[data-page="prev-limit"]').addClass("disabled"):this.$pagination.children('li[data-page="prev-limit"]').removeClass("disabled"),(this.$pagination.children("li.footable-page.visible:last").data("page")||this.limit)==this.total?this.$pagination.children('li[data-page="next-limit"]').addClass("disabled"):this.$pagination.children('li[data-page="next-limit"]').removeClass("disabled"),this.limit>0&&this.total<this.limit?this.$pagination.children('li[data-page="prev-limit"],li[data-page="next-limit"]').hide():this.$pagination.children('li[data-page="prev-limit"],li[data-page="next-limit"]').show(),t&&this.$pagination.children("li.footable-page").removeClass("active").filter('li[data-page="'+this.current+'"]').addClass("active")},_setVisible:function(t,e){if(this.limit>0&&this.total>this.limit){if(!this.$pagination.children('li.footable-page[data-page="'+t+'"]').hasClass("visible")){var i=0,n=0;1==e?(n=t>this.total?this.total:t,i=n-this.limit):(i=1>t?0:t-1,n=i+this.limit),0>i&&(i=0,n=this.limit>this.total?this.total:this.limit),n>this.total&&(n=this.total,i=0>this.total-this.limit?0:this.total-this.limit),this.$pagination.children("li.footable-page").removeClass("visible").slice(i,n).addClass("visible")}}else this.$pagination.children("li.footable-page").removeClass("visible").slice(0,this.total).addClass("visible");var s=this.size*(t-1)+1,r=this.size*t;0==this.ft.rows.array.length?(s=0,r=0):r=r>this._total?this._total:r,this._setCount(t,this.total,s,r,this._total)},_setCount:function(t,e,i,n,s){this.$count.text(this.countFormat.replace(/\{CP}/g,t).replace(/\{TP}/g,e).replace(/\{PF}/g,i).replace(/\{PL}/g,n).replace(/\{TR}/g,s))},_onPageClicked:function(e){if(e.preventDefault(),!t(e.target).closest("li").is(".active,.disabled")){var i=e.data.self,n=t(this).data("page");switch(n){case"first":return i.first(),void 0;case"prev":return i.prev(),void 0;case"next":return i.next(),void 0;case"last":return i.last(),void 0;case"prev-limit":return i.prevPages(),void 0;case"next-limit":return i.nextPages(),void 0;default:return i._set(n),void 0}}}}),e.components.core.register("paging",e.Paging,0)}(jQuery,FooTable),function(t){t.Defaults.prototype.paging={enabled:!1,countFormat:"{CP} of {TP}",current:1,limit:5,position:"center",size:10,strings:{first:"&laquo;",prev:"&lsaquo;",next:"&rsaquo;",last:"&raquo;",prevPages:"...",nextPages:"..."}}}(FooTable),function(t){t.Table.prototype.gotoPage=function(e){return this.use(t.Paging).goto(e)},t.Table.prototype.nextPage=function(){return this.use(t.Paging).next()},t.Table.prototype.prevPage=function(){return this.use(t.Paging).prev()},t.Table.prototype.firstPage=function(){return this.use(t.Paging).first()},t.Table.prototype.lastPage=function(){return this.use(t.Paging).last()},t.Table.prototype.nextPages=function(){return this.use(t.Paging).nextPages()},t.Table.prototype.prevPages=function(){return this.use(t.Paging).prevPages()}}(FooTable);