//     (c) 2012 Airbnb, Inc.
//
//     polyglot.js may be freely distributed under the terms of the BSD
//     license. For all licensing information, details, and documention:
//     http://airbnb.github.com/polyglot.js
//
//
// Polyglot.js is an I18n helper library written in JavaScript, made to
// work both in the browser and in Node. It provides a simple solution for
// interpolation and pluralization, based off of Airbnb's
// experience adding I18n functionality to its Backbone.js and Node apps.
//
// Polylglot is agnostic to your translation backend. It doesn't perform any
// translation; it simply gives you a way to manage translated phrases from
// your client- or server-side JavaScript application.
//
//
!function(e){"use strict";function r(e){return e&&(n=e),n}function i(e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}function s(){t={}}function o(e){s(),i(e)}function u(e,r){var i;r=r||{};var s=t[e]||r._||"";return s===""?(b('Missing translation for key: "'+e+'"'),i=e):(r=w(r),r.smart_count!=null&&r.smart_count.length!=null&&(r.smart_count=r.smart_count.length),i=d(s,n,r.smart_count),i=y(i,r)),i}function p(e){return e.replace(h,"")}function d(e,t,n){var r,i,s;return n!=null&&e?(i=e.split(a),s=i[m(t,n)]||i[0],r=p(s)):r=e,r}function v(e){return c[e]||c.en}function m(e,t){return f[v(e)](t)}function g(e){for(var t in E)E.hasOwnProperty(t)&&e.registerHelper(t,E[t])}function y(e,t){for(var n in t)n!=="_"&&t.hasOwnProperty(n)&&(e=e.replace(new RegExp("%\\{"+n+"\\}","g"),t[n]));return e}function b(t){e.console&&e.console.warn&&e.console.warn("WARNING: "+t)}function w(e){var t={};for(var n in e)t[n]=e[n];return t}var t={},n="en",a="||||",f={chinese:function(e){return 0},german:function(e){return e!==1?1:0},french:function(e){return e>1?1:0},russian:function(e){return e%10===1&&e%100!==11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},czech:function(e){return e===1?0:e>=2&&e<=4?1:2},polish:function(e){return e===1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return e%10!==1||e%100===11?1:0}},l={chinese:["id","ja","ko","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl"],russian:["hr","ru"],czech:["cs"],polish:["pl"],icelandic:["is"]},c=function(e){var t,n,r,i={};for(t in e)if(e.hasOwnProperty(t)){n=e[t];for(r in n)i[n[r]]=t}return i}(l),h=/^\s+|\s+$/g,E={t:function(e,t){return u(e,t.hash)}},S={locale:r,extend:i,replace:o,clear:s,t:u,registerHandlebars:g};typeof module!="undefined"&&module.exports?module.exports=S:e.Polyglot=S,e.Handlebars&&e.Handlebars.registerHelper&&g(e.Handlebars)}(this);