!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("cssx",[],n):"object"==typeof exports?exports.cssx=n():e.cssx=n()}(this,function(){return function(e){function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){function r(e){var n,t;for("undefined"==typeof e&&(e=f()),t=0;t<u.length;t++)if(u[t].id()===e)return u[t];return n=o.apply(o,arguments),u.push(n),n}var o,i,u,c,f,s=[];t(1),o=t(5),i=t(18),f=t(19),u=[],c=function(e){return r(e,s)},c.domChanges=function(e){o.disableDOMChanges=!e},c.minify=function(e){o.minify=e},c.nextTick=function(e){o.useNextTick=e},c.getStylesheets=function(){return u},c.clear=function(){var e;for(e=0;e<u.length;e++)u[e].clear();return u=[],c},c.getCSS=function(){var e,n="";for(e=0;e<u.length;e++)n+=u[e].getCSS();return n},c.plugins=function(e){s=s.concat(e)},e.exports=c,i(e.exports)},function(e,n,t){t(2),t(3),t(4)},function(e,n){Array.prototype.filter||(Array.prototype.filter=function(e){"use strict";if(void 0===this||null===this)throw new TypeError;var n=Object(this),t=n.length>>>0;if("function"!=typeof e)throw new TypeError;for(var r=[],o=arguments.length>=2?arguments[1]:void 0,i=0;t>i;i++)if(i in n){var u=n[i];e.call(o,u,i,n)&&r.push(u)}return r})},function(e,n){Array.prototype.forEach||(Array.prototype.forEach=function(e,n){var t,r;if(null==this)throw new TypeError(" this is null or not defined");var o=Object(this),i=o.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(t=n),r=0;i>r;){var u;r in o&&(u=o[r],e.call(t,u,r,o)),r++}})},function(e,n){Array.prototype.map||(Array.prototype.map=function(e,n){var t,r,o;if(null==this)throw new TypeError(" this is null or not defined");var i=Object(this),u=i.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(t=n),r=new Array(u),o=0;u>o;){var c,f;o in i&&(c=i[o],f=e.call(t,c,o,i),r[o]=f),o++}return r})},function(e,n,t){var r=t(6),o=t(8),i=t(9),u=t(13),c=t(14),f=t(17),s=t(7),a="__$__cssx_rule",l=0,p=function(){return"x"+ ++l};e.exports=function(n,t){var l=n||p(),d={},h=[],m={},y=null,v="",g={},x={},w="",T=function(e,n){var t,r,o,i;for(t=0;t<h.length;t++)if(r=h[t],o=r.parent&&"undefined"!=typeof n&&n.selector===r.parent.selector,i=!r.parent&&!n,u(r.selector)===u(e)&&(o||i))return r;return!1},C=function(){return h.filter(function(e){return null===e.parent})},b=function(){return g={},function e(n,t,r){n&&n.forEach(function(n){var o=t?t+" ":"";o+=u(n.selector),r[o]={},r[o][a]=n,e(n.getChildren(),o,r[o]),e(n.getNestedChildren(),o,r[o])})}(C(),!1,g),g};return d.id=function(){return l},d.add=function(e,n,t,o){var i,u,c,f;if(1===arguments.length&&"object"==typeof e){if(s(e))e.forEach(function(e){if(s(e))d.add(e[0],e[1]);else for(c in e)f=d.add(c),e[c].forEach(function(e){f.n(e[0],e[1])})});else for(c in e)d.add(c,e[c]);return d}return u=T(e,t),u?i=u.update(!1,n):(i=r(e,n,d),h.push(i),t&&(i.parent=t,t.addChild(i,o)),b()),this.compile(),i},d.rules=function(){return h},d.compile=function(){return e.exports.useNextTick?(i(function(){d.compileImmediate()},l),d):d.compileImmediate()},d.compileImmediate=function(){return v=c(C(),e.exports.minify,t,w),e.exports.disableDOMChanges||(y=o(v,l)),d},d.clear=function(){return h=[],v="",null!==y&&(y(),y=null),d},d.destroy=function(){return d.clear()},d.getCSS=function(){return this.compileImmediate(),v},d.update=function(e,n){var t,r;if(1===arguments.length&&"object"==typeof e){for(r in e)d.update(r,e[r]);return d}return t=this.query(e),t?t.update(null,n):f('There is no rule matching "'+e+'"'),t},d.query=function(e){var n;return e=u(e),x[e]?x[e]:(function t(r){var o;if(!n)for(o in r){if(o===e&&o!==a){n=r[e][a];break}"undefined"!=typeof r[o][a]&&t(r[o])}}(g),n&&(x[e]=n),n)},d.graph=function(){return g},d.define=function(e,n){m[e]=n},d.scope=function(e){w=e},d._getCustomProps=function(){return m},d},e.exports.disableDOMChanges=!1,e.exports.minify=!0,e.exports.useNextTick=!0},function(e,n,t){function r(e,n){var t,r,o,i=e;for(t in n)if("undefined"!=typeof e[t]){o=n[t](e[t]),delete e[t];for(r in o)e[r]=o[r]}return i}var o,i=t(7),u=0,c=function(){return"r"+ ++u};o=function(e,n,t){var u=c(),f=[],s=[],a={selector:e,props:r(n,t._getCustomProps()),parent:null,addChild:function(e,n){return(n?s:f).push(e),this},getChildren:function(){return f},setChildren:function(e){f=e},getNestedChildren:function(){return s},setNestedChildren:function(e){s=e},descendant:function(e,n){return i(e)?e.map(function(e){return t.add(e[0],e[1],a,!1)}):t.add(e,n,this,!1)},nested:function(e,n){return i(e)?e.map(function(e){return t.add(e[0],e[1],a,!0)}):t.add(e,n,this,!0)},d:function(e,n){return this.descendant(e,n)},n:function(e,n){return this.nested(e,n)},update:function(e,n){var o;if(1===arguments.length&&(n=e,e=!1),e&&(this.selector=e),n){"function"==typeof n&&(n=n()),this.props||(this.props={}),n=r(n,t._getCustomProps());for(o in n)this.props[o]=n[o]}return t.compile(),this},id:function(){return u},clone:function(){var e=o(this.selector,this.props,t);return e.parent=this.parent,e.setChildren(this.getChildren()),e.setNestedChildren(this.getNestedChildren()),e}};return a},e.exports=o},function(e,n){e.exports=function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,n){var t={},r=function(e){return document.querySelector(e)},o=function(e,n,t){var o,i,u=document.createElement(e);for(o=0;o<n.length;o++)i=n[o],u.setAttribute(i.name,i.value);return u.innerHTML=t,(r("head")||r("body")).appendChild(u),u},i=function(e){return function(){t[e]&&(t[e].el.parentNode.removeChild(t[e].el),delete t[e])}};e.exports=function(e,n){var r;return t[n]?t[n].css!==e&&(t[n].css=e,t[n].el.innerHTML=e):(r=o("style",[{name:"id",value:n},{name:"type",value:"text/css"}],e),t[n]={el:r,css:e,remove:i(n)}),t[n].remove}},function(e,n,t){(function(n){var r={};t(12),e.exports=function(e,t){r[t]||(r[t]=e,n(function(){delete r[t],e()}))}}).call(n,t(10).setImmediate)},function(e,n,t){(function(e,r){function o(e,n){this._id=e,this._clearFn=n}var i=t(11).nextTick,u=Function.prototype.apply,c=Array.prototype.slice,f={},s=0;n.setTimeout=function(){return new o(u.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new o(u.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,n){clearTimeout(e._idleTimeoutId),e._idleTimeout=n},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var n=e._idleTimeout;n>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},n))},n.setImmediate="function"==typeof e?e:function(e){var t=s++,r=arguments.length<2?!1:c.call(arguments,1);return f[t]=!0,i(function(){f[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof r?r:function(e){delete f[e]}}).call(n,t(10).setImmediate,t(10).clearImmediate)},function(e,n){function t(){s=!1,u.length?f=u.concat(f):a=-1,f.length&&r()}function r(){if(!s){var e=setTimeout(t);s=!0;for(var n=f.length;n;){for(u=f,f=[];++a<n;)u&&u[a].run();a=-1,n=f.length}u=null,s=!1,clearTimeout(e)}}function o(e,n){this.fun=e,this.array=n}function i(){}var u,c=e.exports={},f=[],s=!1,a=-1;c.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];f.push(new o(e,n)),1!==f.length||s||setTimeout(r,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=i,c.addListener=i,c.once=i,c.off=i,c.removeListener=i,c.removeAllListeners=i,c.emit=i,c.binding=function(e){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(e){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(e,n,t){(function(e,n,t){!function(e,n){"use strict";function r(e){return m[h]=o.apply(n,e),h++}function o(e){var t=[].slice.call(arguments,1);return function(){"function"==typeof e?e.apply(n,t):new Function(""+e)()}}function i(e){if(y)setTimeout(o(i,e),0);else{var n=m[e];if(n){y=!0;try{n()}finally{u(e),y=!1}}}}function u(e){delete m[e]}function c(){d=function(){var e=r(arguments);return t.nextTick(o(i,e)),e}}function f(){if(e.postMessage&&!e.importScripts){var n=!0,t=e.onmessage;return e.onmessage=function(){n=!1},e.postMessage("","*"),e.onmessage=t,n}}function s(){var n="setImmediate$"+Math.random()+"$",t=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(n)&&i(+t.data.slice(n.length))};e.addEventListener?e.addEventListener("message",t,!1):e.attachEvent("onmessage",t),d=function(){var t=r(arguments);return e.postMessage(n+t,"*"),t}}function a(){var e=new MessageChannel;e.port1.onmessage=function(e){var n=e.data;i(n)},d=function(){var n=r(arguments);return e.port2.postMessage(n),n}}function l(){var e=v.documentElement;d=function(){var n=r(arguments),t=v.createElement("script");return t.onreadystatechange=function(){i(n),t.onreadystatechange=null,e.removeChild(t),t=null},e.appendChild(t),n}}function p(){d=function(){var e=r(arguments);return setTimeout(o(i,e),0),e}}if(!e.setImmediate){var d,h=1,m={},y=!1,v=e.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(e);g=g&&g.setTimeout?g:e,"[object process]"==={}.toString.call(e.process)?c():f()?s():e.MessageChannel?a():v&&"onreadystatechange"in v.createElement("script")?l():p(),g.setImmediate=d,g.clearImmediate=u}}("undefined"==typeof self?"undefined"==typeof e?this:e:self)}).call(n,function(){return this}(),t(10).clearImmediate,t(11))},function(e,n){e.exports=function(e){return"function"==typeof e?e():e}},function(e,n,t){var r,o,i=t(15),u=t(13),c=t(16),f=t(7),s=!1;e.exports=function(e,n,t,a){var l=function(e){return""===a?e:0===e.indexOf(a)||0===e.indexOf("@")?e:a+" "+e};return e=c.selector(e),s=t&&t.length>0,r=function(e){for(o=0;o<t.length;o++)e=t[o](e);return e},function p(e,n,t,o,a){var d,h,m,y,v,g,x,w,T,C,b="",E=t?"":"\n",I=t?"":" ";for(o="undefined"!=typeof o?o:"",C=t?"":o+"  ",d=0;d<e.length;d++){if(m=e[d],x=m.getChildren(),w=m.getNestedChildren(),T=n?n+" ":"",T+=u(m.selector),T=l(T),y="function"==typeof m.props?m.props():m.props,!i(y)||w.length>0){if(b+=o+T+I+"{"+E,y=c.property(y)){v={};for(g in y)v[g]="function"==typeof y[g]?y[g]():y[g];v=s?r(v):v;for(g in v)f(v[g])?v[g].forEach(function(e){b+=C+g+":"+I+e+";"+E}):b+=C+g+":"+I+v[g]+";"+E}for(h=0;h<w.length;h++)b+=p([w[h]],null,t,C,!0);b+=o+"}"+E}x.length>0&&(b+=p(x,T,t))}return b}(e,null,n)}},function(e,n){e.exports=function(e){var n;for(n in e)if(e.hasOwnProperty(n))return!1;return!0}},function(e,n,t){var r=t(13),o={"@keyframes":["@-webkit-keyframes","@-moz-keyframes","@-o-keyframes"]},i=function(e){return e.split("").map(function(e){return"s"===e?"-ms-":"z"===e?"mso- ":"m"===e?"-moz-":"o"===e?"-o-":"t"===e?"-atsc-":"p"===e?"-wap-":"w"===e?"-webkit-":"k"===e?"-khtml-":"a"===e?"-apple-":"e"===e?"prince- ":"n"===e?"-ah-":"h"===e?"-hp-":"r"===e?"-ro-":"i"===e?"-rim-":"c"===e?"-tc-":[]})};e.exports={selector:function(e){var n,t,i,u=[];return e.forEach(function(e){i=r(e.selector),u.push(e),i&&(n=r(e.selector).split(" ")[0]),o[n]&&o[n].forEach(function(r){t=e.clone(),t.selector=e.selector.replace(n,r),u.push(t)})}),u},property:function(e){var n,t,r;for(n in e)t=n.match(/^\(([szmotpwkaenhric]+)\)/),t&&(r=n.replace(t[0],""),e[r]=e[n],i(t[1]).forEach(function(t){e[t+r]=e[n]}),delete e[n]);return e}}},function(e,n){e.exports=function(e){"undefined"!=typeof console&&console.warn&&console.warn(e)}},function(e,n){(function(n){e.exports=function(e){"undefined"!=typeof n&&(n.cssx=e),"undefined"!=typeof window&&(window.cssx=e)}}).call(n,function(){return this}())},function(e,n){var t=0;e.exports=function(){return"_cssx"+ ++t},e.exports.resetIDs=function(){t=0}}])});
//# sourceMappingURL=cssx.min.js.map