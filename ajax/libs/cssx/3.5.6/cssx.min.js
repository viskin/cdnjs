!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("cssx",[],t):"object"==typeof exports?exports.cssx=t():e.cssx=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){function r(e){var t,n;for("undefined"==typeof e&&(e=f()),n=0;n<u.length;n++)if(u[n].id()===e)return u[n];return t=o.apply(o,arguments),u.push(t),t}var o,i,u,c,f;n(1),o=n(5),i=n(18),f=n(19),u=[],c=function(e){return r(e)},c.domChanges=function(e){o.disableDOMChanges=!e},c.minify=function(e){o.minify=e},c.nextTick=function(e){o.useNextTick=e},c.getStylesheets=function(){return u},c.clear=function(){var e;for(e=0;e<u.length;e++)u[e].clear();return u=[],c},c.getCSS=function(){var e,t="";for(e=0;e<u.length;e++)t+=u[e].getCSS();return t},e.exports=c,i(e.exports)},function(e,t,n){n(2),n(3),n(4)},function(e,t){Array.prototype.filter||(Array.prototype.filter=function(e){"use strict";if(void 0===this||null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var r=[],o=arguments.length>=2?arguments[1]:void 0,i=0;n>i;i++)if(i in t){var u=t[i];e.call(o,u,i,t)&&r.push(u)}return r})},function(e,t){Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var n,r;if(null==this)throw new TypeError(" this is null or not defined");var o=Object(this),i=o.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(n=t),r=0;i>r;){var u;r in o&&(u=o[r],e.call(n,u,r,o)),r++}})},function(e,t){Array.prototype.map||(Array.prototype.map=function(e,t){var n,r,o;if(null==this)throw new TypeError(" this is null or not defined");var i=Object(this),u=i.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(n=t),r=new Array(u),o=0;u>o;){var c,f;o in i&&(c=i[o],f=e.call(n,c,o,i),r[o]=f),o++}return r})},function(e,t,n){var r=n(6),o=n(7),i=n(8),u=n(12),c=n(13),f=n(16),s=n(17),a="__$__cssx_rule",l=0,p=function(){return"x"+ ++l};e.exports=function(t){var n=t||p(),l={},d=[],h={},m=null,y="",v={},g={},x=function(e,t){var n,r,o,i;for(n=0;n<d.length;n++)if(r=d[n],o=r.parent&&"undefined"!=typeof t&&t.selector===r.parent.selector,i=!r.parent&&!t,u(r.selector)===u(e)&&(o||i))return r;return!1},w=function(){return d.filter(function(e){return null===e.parent})},T=function(){return v={},function e(t,n,r){t&&t.forEach(function(t){var o=n?n+" ":"";o+=u(t.selector),r[o]={},r[o][a]=t,e(t.getChildren(),o,r[o]),e(t.getNestedChildren(),o,r[o])})}(w(),!1,v),v};return l.id=function(){return n},l.add=function(e,t,n,o){var i,u,c;if(1===arguments.length&&"object"==typeof e){if(s(e))e.forEach(function(e){l.add(e[0],e[1])});else for(c in e)l.add(c,e[c]);return l}return u=x(e,n),u?i=u.update(!1,t):(i=r(e,t,l),d.push(i),n&&(i.parent=n,n.addChild(i,o)),T()),this.compile(),i},l.rules=function(){return d},l.compile=function(){return e.exports.useNextTick?(i(function(){l.compileImmediate()},n),l):l.compileImmediate()},l.compileImmediate=function(){return y=c(w(),e.exports.minify),e.exports.disableDOMChanges||(m=o(y,n)),l},l.clear=function(){return d=[],y="",null!==m&&(m(),m=null),l},l.destroy=function(){return l.clear()},l.getCSS=function(){return this.compileImmediate(),y},l.update=function(e,t){var n,r;if(1===arguments.length&&"object"==typeof e){for(r in e)l.update(r,e[r]);return l}return n=this.query(e),n?n.update(null,t):f('There is no rule matching "'+e+'"'),n},l.query=function(e){var t;return e=u(e),g[e]?g[e]:(function n(r){var o;if(!t)for(o in r){if(o===e&&o!==a){t=r[e][a];break}"undefined"!=typeof r[o][a]&&n(r[o])}}(v),t&&(g[e]=t),t)},l.graph=function(){return v},l.define=function(e,t){h[e]=t},l._getCustomProps=function(){return h},l},e.exports.disableDOMChanges=!1,e.exports.minify=!0,e.exports.useNextTick=!0},function(e,t){function n(e,t){var n,r,o,i=e;for(n in t)if("undefined"!=typeof e[n]){o=t[n](e[n]),delete e[n];for(r in o)e[r]=o[r]}return i}var r,o=0,i=function(){return"r"+ ++o};r=function(e,t,o){var u=i(),c=[],f=[],s={selector:e,props:n(t,o._getCustomProps()),parent:null,addChild:function(e,t){return(t?f:c).push(e),this},getChildren:function(){return c},setChildren:function(e){c=e},getNestedChildren:function(){return f},setNestedChildren:function(e){f=e},descendant:function(e,t){return o.add(e,t,this,!1)},nested:function(e,t){return o.add(e,t,this,!0)},d:function(e,t){return this.descendant(e,t)},n:function(e,t){return this.nested(e,t)},update:function(e,t){var r;if(1===arguments.length&&(t=e,e=!1),e&&(this.selector=e),t){"function"==typeof t&&(t=t()),this.props||(this.props={}),t=n(t,o._getCustomProps());for(r in t)this.props[r]=t[r]}return o.compile(),this},id:function(){return u},clone:function(){var e=r(this.selector,this.props,o);return e.parent=this.parent,e.setChildren(this.getChildren()),e.setNestedChildren(this.getNestedChildren()),e}};return s},e.exports=r},function(e,t){var n={},r=function(e){return document.querySelector(e)},o=function(e,t,n){var o,i,u=document.createElement(e);for(o=0;o<t.length;o++)i=t[o],u.setAttribute(i.name,i.value);return u.innerHTML=n,(r("head")||r("body")).appendChild(u),u},i=function(e){return function(){n[e]&&(n[e].el.parentNode.removeChild(n[e].el),delete n[e])}};e.exports=function(e,t){var r;return n[t]?n[t].css!==e&&(n[t].css=e,n[t].el.innerHTML=e):(r=o("style",[{name:"id",value:t},{name:"type",value:"text/css"}],e),n[t]={el:r,css:e,remove:i(t)}),n[t].remove}},function(e,t,n){(function(t){var r={};n(11),e.exports=function(e,n){r[n]||(r[n]=e,t(function(){delete r[n],e()}))}}).call(t,n(9).setImmediate)},function(e,t,n){(function(e,r){function o(e,t){this._id=e,this._clearFn=t}var i=n(10).nextTick,u=Function.prototype.apply,c=Array.prototype.slice,f={},s=0;t.setTimeout=function(){return new o(u.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new o(u.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},t.setImmediate="function"==typeof e?e:function(e){var n=s++,r=arguments.length<2?!1:c.call(arguments,1);return f[n]=!0,i(function(){f[n]&&(r?e.apply(null,r):e.call(null),t.clearImmediate(n))}),n},t.clearImmediate="function"==typeof r?r:function(e){delete f[e]}}).call(t,n(9).setImmediate,n(9).clearImmediate)},function(e,t){function n(){s=!1,u.length?f=u.concat(f):a=-1,f.length&&r()}function r(){if(!s){var e=setTimeout(n);s=!0;for(var t=f.length;t;){for(u=f,f=[];++a<t;)u&&u[a].run();a=-1,t=f.length}u=null,s=!1,clearTimeout(e)}}function o(e,t){this.fun=e,this.array=t}function i(){}var u,c=e.exports={},f=[],s=!1,a=-1;c.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new o(e,t)),1!==f.length||s||setTimeout(r,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=i,c.addListener=i,c.once=i,c.off=i,c.removeListener=i,c.removeAllListeners=i,c.emit=i,c.binding=function(e){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(e){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(e,t,n){(function(e,t,n){!function(e,t){"use strict";function r(e){return m[h]=o.apply(t,e),h++}function o(e){var n=[].slice.call(arguments,1);return function(){"function"==typeof e?e.apply(t,n):new Function(""+e)()}}function i(e){if(y)setTimeout(o(i,e),0);else{var t=m[e];if(t){y=!0;try{t()}finally{u(e),y=!1}}}}function u(e){delete m[e]}function c(){d=function(){var e=r(arguments);return n.nextTick(o(i,e)),e}}function f(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}function s(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&i(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),d=function(){var n=r(arguments);return e.postMessage(t+n,"*"),n}}function a(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;i(t)},d=function(){var t=r(arguments);return e.port2.postMessage(t),t}}function l(){var e=v.documentElement;d=function(){var t=r(arguments),n=v.createElement("script");return n.onreadystatechange=function(){i(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n),t}}function p(){d=function(){var e=r(arguments);return setTimeout(o(i,e),0),e}}if(!e.setImmediate){var d,h=1,m={},y=!1,v=e.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(e);g=g&&g.setTimeout?g:e,"[object process]"==={}.toString.call(e.process)?c():f()?s():e.MessageChannel?a():v&&"onreadystatechange"in v.createElement("script")?l():p(),g.setImmediate=d,g.clearImmediate=u}}("undefined"==typeof self?"undefined"==typeof e?this:e:self)}).call(t,function(){return this}(),n(9).clearImmediate,n(10))},function(e,t){e.exports=function(e){return"function"==typeof e?e():e}},function(e,t,n){var r=n(14),o=n(12),i=n(15);e.exports=function(e,t){return e=i.selector(e),function n(e,t,u,c,f){var s,a,l,p,d,h,m,y,v,g,x="",w=u?"":"\n",T=u?"":" ";for(c="undefined"!=typeof c?c:"",g=u?"":c+"  ",s=0;s<e.length;s++){if(l=e[s],h=l.getChildren(),m=l.getNestedChildren(),y=t?t+" ":"",y+=o(l.selector),p="function"==typeof l.props?l.props():l.props,!r(p)||m.length>0){if(x+=c+y+T+"{"+w,p=i.property(p))for(d in p)v="function"==typeof p[d]?p[d]():p[d],x+=g+d+":"+T+v+";"+w;for(a=0;a<m.length;a++)x+=n([m[a]],null,u,g,!0);x+=c+"}"+w}h.length>0&&(x+=n(h,y,u))}return x}(e,null,t)}},function(e,t){e.exports=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}},function(e,t,n){var r=n(12),o={"@keyframes":["@-webkit-keyframes","@-moz-keyframes","@-o-keyframes"]},i=function(e){return e.split("").map(function(e){return"s"===e?"-ms-":"z"===e?"mso- ":"m"===e?"-moz-":"o"===e?"-o-":"t"===e?"-atsc-":"p"===e?"-wap-":"w"===e?"-webkit-":"k"===e?"-khtml-":"a"===e?"-apple-":"e"===e?"prince- ":"n"===e?"-ah-":"h"===e?"-hp-":"r"===e?"-ro-":"i"===e?"-rim-":"c"===e?"-tc-":[]})};e.exports={selector:function(e){var t,n,i,u=[];return e.forEach(function(e){i=r(e.selector),u.push(e),i&&(t=r(e.selector).split(" ")[0]),o[t]&&o[t].forEach(function(r){n=e.clone(),n.selector=e.selector.replace(t,r),u.push(n)})}),u},property:function(e){var t,n,r;for(t in e)n=t.match(/^\(([szmotpwkaenhric]+)\)/),n&&(r=t.replace(n[0],""),e[r]=e[t],i(n[1]).forEach(function(n){e[n+r]=e[t]}),delete e[t]);return e}}},function(e,t){e.exports=function(e){"undefined"!=typeof console&&console.warn&&console.warn(e)}},function(e,t){e.exports=function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t){(function(t){e.exports=function(e){"undefined"!=typeof t&&(t.cssx=e),"undefined"!=typeof window&&(window.cssx=e)}}).call(t,function(){return this}())},function(e,t){var n=0;e.exports=function(){return"_cssx"+ ++n},e.exports.resetIDs=function(){n=0}}])});
//# sourceMappingURL=cssx.min.js.map