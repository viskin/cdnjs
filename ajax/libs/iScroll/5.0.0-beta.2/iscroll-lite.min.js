/*! iScroll v5.0.0-beta.2 ~ (c) 2008-2013 Matteo Spinelli ~ http://cubiq.org/license */
;var IScroll=(function(d,a,c){var h=d.requestAnimationFrame||d.webkitRequestAnimationFrame||d.mozRequestAnimationFrame||d.oRequestAnimationFrame||d.msRequestAnimationFrame||function(i){d.setTimeout(i,1000/60)};var b=(function(){var m={};var n=a.createElement("div").style;var k=(function(){var r=["t","webkitT","MozT","msT","OT"],p,q=0,o=r.length;for(;q<o;q++){p=r[q]+"ransform";if(p in n){return r[q].substr(0,r[q].length-1)}}return false})();function l(o){if(k===false){return false}if(k===""){return o}return k+o.charAt(0).toUpperCase()+o.substr(1)}m.getTime=Date.now||function i(){return new Date().getTime()};m.extend=function(q,p){for(var o in p){q[o]=p[o]}};m.addEvent=function(r,q,p,o){r.addEventListener(q,p,!!o)};m.removeEvent=function(r,q,p,o){r.removeEventListener(q,p,!!o)};m.momentum=function(v,q,r,o,w){var p=v-q,s=c.abs(p)/r,x,t,u=0.0006;x=v+(s*s)/(2*u)*(p<0?-1:1);t=s/u;if(x<o){x=w?o-(w/2.5*(s/8)):o;p=c.abs(x-v);t=p/s}else{if(x>0){x=w?w/2.5*(s/8):0;p=c.abs(v)+x;t=p/s}}return{destination:c.round(x),duration:t}};var j=l("transform");m.extend(m,{hasTransform:j!==false,hasPerspective:l("perspective") in n,hasTouch:"ontouchstart" in d,hasPointer:navigator.msPointerEnabled,hasTransition:l("transition") in n});m.isAndroidBrowser=/Android/.test(d.navigator.appVersion)&&/Version\/\d/.test(d.navigator.appVersion);m.extend(m.style={},{transform:j,transitionTimingFunction:l("transitionTimingFunction"),transitionDuration:l("transitionDuration"),transformOrigin:l("transformOrigin")});m.hasClass=function(p,q){var o=new RegExp("(^|\\s)"+q+"(\\s|$)");return o.test(p.className)};m.addClass=function(p,q){if(m.hasClass(p,q)){return}var o=p.className.split(" ");o.push(q);p.className=o.join(" ")};m.removeClass=function(p,q){if(!m.hasClass(p,q)){return}var o=new RegExp("(^|\\s)"+q+"(\\s|$)","g");p.className=p.className.replace(o,"")};m.offset=function(o){var q=-o.offsetLeft,p=-o.offsetTop;while(o=o.offsetParent){q-=o.offsetLeft;p-=o.offsetTop}return{left:q,top:p}};m.extend(m.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3});m.extend(m.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(o){return o*(2-o)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(o){return c.sqrt(1-(--o*o))}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(p){var o=4;return(p=p-1)*p*((o+1)*p+o)+1}},bounce:{style:"",fn:function(o){if((o/=1)<(1/2.75)){return 7.5625*o*o}else{if(o<(2/2.75)){return 7.5625*(o-=(1.5/2.75))*o+0.75}else{if(o<(2.5/2.75)){return 7.5625*(o-=(2.25/2.75))*o+0.9375}else{return 7.5625*(o-=(2.625/2.75))*o+0.984375}}}}},elastic:{style:"",fn:function(o){f=0.22;e=0.4;if(o===0){return 0}if(o==1){return 1}return(e*c.pow(2,-10*o)*c.sin((o-f/4)*(2*c.PI)/f)+1)}}});m.tap=function(q,o){var p=a.createEvent("Event");p.initEvent(o,true,true);p.pageX=q.pageX;p.pageY=q.pageY;q.target.dispatchEvent(p)};m.click=function(q){var p=q.target,o;if(p.tagName!="SELECT"&&p.tagName!="INPUT"&&p.tagName!="TEXTAREA"){o=a.createEvent("MouseEvents");o.initMouseEvent("click",true,true,q.view,1,p.screenX,p.screenY,p.clientX,p.clientY,q.ctrlKey,q.altKey,q.shiftKey,q.metaKey,0,null);o._constructed=true;p.dispatchEvent(o)}};return m})();function g(l,j){this.wrapper=typeof l=="string"?a.querySelector(l):l;this.scroller=this.wrapper.children[0];this.scrollerStyle=this.scroller.style;this.options={startX:0,startY:0,scrollY:true,directionLockThreshold:5,momentum:true,bounce:true,bounceTime:600,bounceEasing:"",preventDefault:true,HWCompositing:true,useTransition:true,useTransform:true};for(var k in j){this.options[k]=j[k]}this.translateZ=this.options.HWCompositing&&b.hasPerspective?" translateZ(0)":"";this.options.useTransition=b.hasTransition&&this.options.useTransition;this.options.useTransform=b.hasTransform&&this.options.useTransform;this.options.eventPassthrough=this.options.eventPassthrough===true?"vertical":this.options.eventPassthrough;this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault;this.options.scrollY=this.options.eventPassthrough=="vertical"?false:this.options.scrollY;this.options.scrollX=this.options.eventPassthrough=="horizontal"?false:this.options.scrollX;this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough;this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold;this.options.bounceEasing=typeof this.options.bounceEasing=="string"?b.ease[this.options.bounceEasing]||b.ease.circular:this.options.bounceEasing;if(this.options.tap===true){this.options.tap="tap"}this.x=0;this.y=0;this._events={};this._init();this.refresh();this.scrollTo(this.options.startX,this.options.startY);this.enable()}g.prototype={version:"5.0.0-beta.2",_init:function(){this._initEvents()},destroy:function(){this._initEvents(true);this._execEvent("destroy")},_transitionEnd:function(i){if(i.target!=this.scroller){return}this._transitionTime(0);if(!this.resetPosition(this.options.bounceTime)){this._execEvent("scrollEnd")}},_start:function(j){if(!this.enabled||(this.initiated&&b.eventType[j.type]!==this.initiated)){return}if(this.options.preventDefault&&!b.isAndroidBrowser){j.preventDefault()}var i=j.touches?j.touches[0]:j,k;this.initiated=b.eventType[j.type];this.moved=false;this.distX=0;this.distY=0;this.directionX=0;this.directionY=0;this.directionLocked=0;this._transitionTime();this.isAnimating=false;this.startTime=b.getTime();if(this.options.useTransition&&this.isInTransition){k=this.getComputedPosition();this._translate(c.round(k.x),c.round(k.y));this.isInTransition=false}this.startX=this.x;this.startY=this.y;this.absStartX=this.x;this.absStartY=this.y;this.pointX=i.pageX;this.pointY=i.pageY;this._execEvent("scrollStart")},_move:function(n){if(!this.enabled||b.eventType[n.type]!==this.initiated){return}if(this.options.preventDefault){n.preventDefault()}var p=n.touches?n.touches[0]:n,k=p.pageX-this.pointX,j=p.pageY-this.pointY,o=b.getTime(),i,q,m,l;this.pointX=p.pageX;this.pointY=p.pageY;this.distX+=k;this.distY+=j;m=c.abs(this.distX);l=c.abs(this.distY);if(o-this.endTime>300&&(m<10&&l<10)){return}if(!this.directionLocked&&!this.options.freeScroll){if(m>l+this.options.directionLockThreshold){this.directionLocked="h"}else{if(l>=m+this.options.directionLockThreshold){this.directionLocked="v"}else{this.directionLocked="n"}}}if(this.directionLocked=="h"){if(this.options.eventPassthrough=="vertical"){n.preventDefault()}else{if(this.options.eventPassthrough=="horizontal"){this.initiated=false;return}}j=0}else{if(this.directionLocked=="v"){if(this.options.eventPassthrough=="horizontal"){n.preventDefault()}else{if(this.options.eventPassthrough=="vertical"){this.initiated=false;return}}k=0}}i=this.x+(this.hasHorizontalScroll?k:0);q=this.y+(this.hasVerticalScroll?j:0);if(i>0||i<this.maxScrollX){i=this.options.bounce?this.x+k/3:i>0?0:this.maxScrollX}if(q>0||q<this.maxScrollY){q=this.options.bounce?this.y+j/3:q>0?0:this.maxScrollY}this.directionX=k>0?-1:k<0?1:0;this.directionY=j>0?-1:j<0?1:0;this.moved=true;this._translate(i,q);if(o-this.startTime>300){this.startTime=o;this.startX=this.x;this.startY=this.y}},_end:function(o){if(!this.enabled||b.eventType[o.type]!==this.initiated){return}if(this.options.preventDefault){o.preventDefault()}var q=o.changedTouches?o.changedTouches[0]:o,k,j,n=b.getTime()-this.startTime,i=c.round(this.x),r=c.round(this.y),l=0,p="";this.scrollTo(i,r);this.isInTransition=0;this.initiated=0;this.endTime=b.getTime();if(this.resetPosition(this.options.bounceTime)){return}if(!this.moved){if(this.options.tap){b.tap(o,this.options.tap)}if(this.options.click){b.click(o)}return}if(this.options.momentum&&n<300){k=this.hasHorizontalScroll?b.momentum(this.x,this.startX,n,this.maxScrollX,this.options.bounce?this.wrapperWidth:0):{destination:i,duration:0};j=this.hasVerticalScroll?b.momentum(this.y,this.startY,n,this.maxScrollY,this.options.bounce?this.wrapperHeight:0):{destination:r,duration:0};i=k.destination;r=j.destination;l=c.max(k.duration,j.duration);this.isInTransition=1}if(this.options.snap){var m=this._nearestSnap(i,r);this.currentPage=m;i=m.x;r=m.y;l=this.options.snapSpeed||c.max(c.max(c.min(c.abs(i-this.x),1000),c.min(c.abs(r-this.y),1000)),300);p=this.options.bounceEasing}if(i!=this.x||r!=this.y){if(i>0||i<this.maxScrollX||r>0||r<this.maxScrollY){p=b.ease.quadratic}this.scrollTo(i,r,l,p);return}this._execEvent("scrollEnd")},_resize:function(){var i=this;clearTimeout(this.resizeTimeout);this.resizeTimeout=setTimeout(function(){i.refresh();i.resetPosition()},60)},resetPosition:function(k){if(this.x<=0&&this.x>=this.maxScrollX&&this.y<=0&&this.y>=this.maxScrollY){return false}var j=this.x,l=this.y;k=k||0;if(!this.hasHorizontalScroll||this.x>0){j=0}else{if(this.x<this.maxScrollX){j=this.maxScrollX}}if(!this.hasVerticalScroll||this.y>0){l=0}else{if(this.y<this.maxScrollY){l=this.maxScrollY}}if(this.options.snap){var i=this._nearestSnap(j,l);this.currentPage=i;j=i.x;l=i.y}this.scrollTo(j,l,k,this.options.bounceEasing);return true},disable:function(){this.enabled=false},enable:function(){this.enabled=true},refresh:function(){var i=this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth;this.wrapperHeight=this.wrapper.clientHeight;this.scrollerWidth=this.scroller.offsetWidth;this.scrollerHeight=this.scroller.offsetHeight;this.maxScrollX=this.wrapperWidth-this.scrollerWidth;this.maxScrollY=this.wrapperHeight-this.scrollerHeight;if(this.maxScrollX>0){this.maxScrollX=0}if(this.maxScrollY>0){this.maxScrollY=0}this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0;this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0;this.endTime=0;this.wrapperOffset=b.offset(this.wrapper);this._execEvent("refresh")},on:function(j,i){if(!this._events[j]){this._events[j]=[]}this._events[j].push(i)},_execEvent:function(m){if(!this._events[m]){return}var k=0,j=this._events[m].length;if(!j){return}for(;k<j;k++){this._events[m][k].call(this)}},scrollBy:function(i,l,j,k){i=this.x+i;l=this.y+l;j=j||0;this.scrollTo(i,l,j,k)},scrollTo:function(i,l,j,k){k=k||b.ease.circular;if(!j||(this.options.useTransition&&k.style)){this._transitionTimingFunction(k.style);this._transitionTime(j);this._translate(i,l)}else{this._animate(i,l,j,k.fn)}},scrollToElement:function(j,k,i,n,m){j=j.nodeType?j:this.scroller.querySelector(j);if(!j){return}var l=b.offset(j);l.left-=this.wrapperOffset.left;l.top-=this.wrapperOffset.top;if(i===true){i=c.round(j.offsetWidth/2-this.wrapper.offsetWidth/2)}if(n===true){n=c.round(j.offsetHeight/2-this.wrapper.offsetHeight/2)}l.left-=i||0;l.top-=n||0;l.left=l.left>0?0:l.left<this.maxScrollX?this.maxScrollX:l.left;l.top=l.top>0?0:l.top<this.maxScrollY?this.maxScrollY:l.top;k=k===undefined||null||"auto"?c.max(c.abs(l.left)*2,c.abs(l.top)*2):k;this.scrollTo(l.left,l.top,k,m)},_transitionTime:function(i){i=i||0;this.scrollerStyle[b.style.transitionDuration]=i+"ms"},_transitionTimingFunction:function(i){this.scrollerStyle[b.style.transitionTimingFunction]=i},_translate:function(i,j){if(this.options.useTransform){this.scrollerStyle[b.style.transform]="translate("+i+"px,"+j+"px)"+this.translateZ}else{i=c.round(i);j=c.round(j);this.scrollerStyle.left=i+"px";this.scrollerStyle.top=j+"px"}this.x=i;this.y=j},_initEvents:function(i){var j=i?b.removeEvent:b.addEvent,k=this.options.bindToWrapper?this.wrapper:d;j(d,"orientationchange",this);j(d,"resize",this);j(this.wrapper,"mousedown",this);j(k,"mousemove",this);j(k,"mousecancel",this);j(k,"mouseup",this);if(b.hasPointer){j(this.wrapper,"MSPointerDown",this);j(k,"MSPointerMove",this);j(k,"MSPointerCancel",this);j(k,"MSPointerUp",this)}if(b.hasTouch){j(this.wrapper,"touchstart",this);j(k,"touchmove",this);j(k,"touchcancel",this);j(k,"touchend",this)}j(this.scroller,"transitionend",this);j(this.scroller,"webkitTransitionEnd",this);j(this.scroller,"oTransitionEnd",this);j(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var j=d.getComputedStyle(this.scroller,null),i,k;if(this.options.useTransform){j=j[b.style.transform].split(")")[0].split(", ");i=+(j[12]||j[4]);k=+(j[13]||j[5])}else{i=+j.left.replace(/[^-\d]/g,"");k=+j.top.replace(/[^-\d]/g,"")}return{x:i,y:k}},_animate:function(r,q,l,i){var o=this,n=this.x,m=this.y,j=b.getTime(),p=j+l;function k(){var s=b.getTime(),u,t,v;if(s>=p){o.isAnimating=false;o._translate(r,q);o.resetPosition(o.options.bounceTime);return}s=(s-j)/l;v=i(s);u=(r-n)*v+n;t=(q-m)*v+m;o._translate(u,t);if(o.isAnimating){h(k)}}this.isAnimating=true;k()},handleEvent:function(i){switch(i.type){case"touchstart":case"MSPointerDown":case"mousedown":this._start(i);break;case"touchmove":case"MSPointerMove":case"mousemove":this._move(i);break;case"touchend":case"MSPointerUp":case"mouseup":case"touchcancel":case"MSPointerCancel":case"mousecancel":this._end(i);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(i);break;case"DOMMouseScroll":case"mousewheel":this._wheel(i);break;case"keydown":this._key(i);break}}};g.ease=b.ease;return g})(window,document,Math);