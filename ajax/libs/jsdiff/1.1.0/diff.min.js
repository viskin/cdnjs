!function(e,n){var t=function(){function e(e,n,t){if(Array.prototype.map)return Array.prototype.map.call(e,n,t);for(var r=new Array(e.length),o=0,i=e.length;i>o;o++)r[o]=n.call(t,e[o],o,e);return r}function t(e){return{newPos:e.newPos,components:e.components.slice(0)}}function r(e){for(var n=[],t=0;t<e.length;t++)e[t]&&n.push(e[t]);return n}function o(e){var n=e;return n=n.replace(/&/g,"&amp;"),n=n.replace(/</g,"&lt;"),n=n.replace(/>/g,"&gt;"),n=n.replace(/"/g,"&quot;")}var i=function(e){this.ignoreWhitespace=e};i.prototype={diff:function(e,r){if(r===e)return[{value:r}];if(!r)return[{value:e,removed:!0}];if(!e)return[{value:r,added:!0}];r=this.tokenize(r),e=this.tokenize(e);var o=r.length,i=e.length,s=o+i,u=[{newPos:-1,components:[]}],l=this.extractCommon(u[0],r,e,0);if(u[0].newPos+1>=o&&l+1>=i)return u[0].components;for(var f=1;s>=f;f++)for(var a=-1*f;f>=a;a+=2){var p,d=u[a-1],h=u[a+1];l=(h?h.newPos:0)-a,d&&(u[a-1]=n);var c=d&&d.newPos+1<o,v=h&&l>=0&&i>l;if(c||v){!c||v&&d.newPos<h.newPos?(p=t(h),this.pushComponent(p.components,e[l],n,!0)):(p=t(d),p.newPos++,this.pushComponent(p.components,r[p.newPos],!0,n));var l=this.extractCommon(p,r,e,a);if(p.newPos+1>=o&&l+1>=i)return p.components;u[a]=p}else u[a]=n}},pushComponent:function(e,n,t,r){var o=e[e.length-1];o&&o.added===t&&o.removed===r?e[e.length-1]={value:this.join(o.value,n),added:t,removed:r}:e.push({value:n,added:t,removed:r})},extractCommon:function(e,t,r,o){for(var i=t.length,s=r.length,u=e.newPos,l=u-o;i>u+1&&s>l+1&&this.equals(t[u+1],r[l+1]);)u++,l++,this.pushComponent(e.components,t[u],n,n);return e.newPos=u,l},equals:function(e,n){var t=/\S/;return!this.ignoreWhitespace||t.test(e)||t.test(n)?e===n:!0},join:function(e,n){return e+n},tokenize:function(e){return e}};var s=new i,u=new i(!0),l=new i;u.tokenize=l.tokenize=function(e){return r(e.split(/(\s+|\b)/))};var f=new i(!0);f.tokenize=function(e){return r(e.split(/([{}:;,]|\s+)/))};var a=new i;return a.tokenize=function(e){for(var n=[],t=e.split(/^/m),r=0;r<t.length;r++){var o=t[r],i=t[r-1];"\n"==o&&i&&"\r"===i[i.length-1]?n[n.length-1]+="\n":o&&n.push(o)}return n},{Diff:i,diffChars:function(e,n){return s.diff(e,n)},diffWords:function(e,n){return u.diff(e,n)},diffWordsWithSpace:function(e,n){return l.diff(e,n)},diffLines:function(e,n){return a.diff(e,n)},diffCss:function(e,n){return f.diff(e,n)},createPatch:function(n,t,r,o,i){function s(n){return e(n,function(e){return" "+e})}function u(e,n,t){var r=f[f.length-2],o=n===f.length-2,i=n===f.length-3&&(t.added!==r.added||t.removed!==r.removed);/\n$/.test(t.value)||!o&&!i||e.push("\\ No newline at end of file")}var l=[];l.push("Index: "+n),l.push("==================================================================="),l.push("--- "+n+("undefined"==typeof o?"":"	"+o)),l.push("+++ "+n+("undefined"==typeof i?"":"	"+i));var f=a.diff(t,r);f[f.length-1].value||f.pop(),f.push({value:"",lines:[]});for(var p=0,d=0,h=[],c=1,v=1,g=0;g<f.length;g++){var m=f[g],w=m.lines||m.value.replace(/\n$/,"").split("\n");if(m.lines=w,m.added||m.removed){if(!p){var y=f[g-1];p=c,d=v,y&&(h=s(y.lines.slice(-4)),p-=h.length,d-=h.length)}h.push.apply(h,e(w,function(e){return(m.added?"+":"-")+e})),u(h,g,m),m.added?v+=w.length:c+=w.length}else{if(p)if(w.length<=8&&g<f.length-2)h.push.apply(h,s(w));else{var P=Math.min(w.length,4);l.push("@@ -"+p+","+(c-p+P)+" +"+d+","+(v-d+P)+" @@"),l.push.apply(l,h),l.push.apply(l,s(w.slice(0,P))),w.length<=4&&u(l,g,m),p=0,d=0,h=[]}c+=w.length,v+=w.length}}return l.join("\n")+"\n"},applyPatch:function(e,n){for(var t=n.split("\n"),r=[],o=!1,i=!1,s="I"===t[0][0]?4:0;s<t.length;s++)if("@"===t[s][0]){var u=t[s].split(/@@ -(\d+),(\d+) \+(\d+),(\d+) @@/);r.unshift({start:u[3],oldlength:u[2],oldlines:[],newlength:u[4],newlines:[]})}else"+"===t[s][0]?r[0].newlines.push(t[s].substr(1)):"-"===t[s][0]?r[0].oldlines.push(t[s].substr(1)):" "===t[s][0]?(r[0].newlines.push(t[s].substr(1)),r[0].oldlines.push(t[s].substr(1))):"\\"===t[s][0]&&("+"===t[s-1][0]?o=!0:"-"===t[s-1][0]&&(i=!0));for(var l=e.split("\n"),s=r.length-1;s>=0;s--){for(var f=r[s],a=0;a<f.oldlength;a++)if(l[f.start-1+a]!==f.oldlines[a])return!1;Array.prototype.splice.apply(l,[f.start-1,+f.oldlength].concat(f.newlines))}if(o)for(;!l[l.length-1];)l.pop();else i&&l.push("");return l.join("\n")},convertChangesToXML:function(e){for(var n=[],t=0;t<e.length;t++){var r=e[t];r.added?n.push("<ins>"):r.removed&&n.push("<del>"),n.push(o(r.value)),r.added?n.push("</ins>"):r.removed&&n.push("</del>")}return n.join("")},convertChangesToDMP:function(e){for(var n,t=[],r=0;r<e.length;r++)n=e[r],t.push([n.added?1:n.removed?-1:0,n.value]);return t}}}();"undefined"!=typeof module?module.exports=t:"function"==typeof define?define([],function(){return t}):"undefined"==typeof e.JsDiff&&(e.JsDiff=t)}(this);