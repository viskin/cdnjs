!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.JsDiff=n():e.JsDiff=n()}(this,function(){return function(e){function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var o=t(1),i=r(o),s=t(2),u=t(3),f=t(5),a=t(6),l=t(7),c=t(8),d=t(9),p=t(10),h=t(11),v=t(12),g=t(13);n.Diff=i["default"],n.diffChars=s.diffChars,n.diffWords=u.diffWords,n.diffWordsWithSpace=u.diffWordsWithSpace,n.diffLines=f.diffLines,n.diffTrimmedLines=f.diffTrimmedLines,n.diffSentences=a.diffSentences,n.diffCss=l.diffCss,n.diffJson=c.diffJson,n.structuredPatch=h.structuredPatch,n.createTwoFilesPatch=h.createTwoFilesPatch,n.createPatch=h.createPatch,n.applyPatch=d.applyPatch,n.applyPatches=d.applyPatches,n.parsePatch=p.parsePatch,n.convertChangesToDMP=v.convertChangesToDMP,n.convertChangesToXML=g.convertChangesToXML,n.canonicalize=c.canonicalize},function(e,n){"use strict";function t(){}function r(e,n,t,r,o){for(var i=0,s=n.length,u=0,f=0;s>i;i++){var a=n[i];if(a.removed){if(a.value=r.slice(f,f+a.count).join(""),f+=a.count,i&&n[i-1].added){var l=n[i-1];n[i-1]=n[i],n[i]=l}}else{if(!a.added&&o){var c=t.slice(u,u+a.count);c=c.map(function(e,n){var t=r[f+n];return t.length>e.length?t:e}),a.value=c.join("")}else a.value=t.slice(u,u+a.count).join("");u+=a.count,a.added||(f+=a.count)}}var d=n[s-1];return(d.added||d.removed)&&e.equals("",d.value)&&(n[s-2].value+=d.value,n.pop()),n}function o(e){return{newPos:e.newPos,components:e.components.slice(0)}}n.__esModule=!0,n["default"]=t,t.prototype={diff:function(e,n){function t(e){return u?(setTimeout(function(){u(void 0,e)},0),!0):e}function i(){for(var i=-1*c;c>=i;i+=2){var s=void 0,u=p[i-1],d=p[i+1],h=(d?d.newPos:0)-i;u&&(p[i-1]=void 0);var v=u&&u.newPos+1<a,g=d&&h>=0&&l>h;if(v||g){if(!v||g&&u.newPos<d.newPos?(s=o(d),f.pushComponent(s.components,void 0,!0)):(s=u,s.newPos++,f.pushComponent(s.components,!0,void 0)),h=f.extractCommon(s,n,e,i),s.newPos+1>=a&&h+1>=l)return t(r(f,s.components,n,e,f.useLongestToken));p[i]=s}else p[i]=void 0}c++}var s=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],u=s.callback;"function"==typeof s&&(u=s,s={}),this.options=s;var f=this;e=this.castInput(e),n=this.castInput(n),e=this.removeEmpty(this.tokenize(e)),n=this.removeEmpty(this.tokenize(n));var a=n.length,l=e.length,c=1,d=a+l,p=[{newPos:-1,components:[]}],h=this.extractCommon(p[0],n,e,0);if(p[0].newPos+1>=a&&h+1>=l)return t([{value:n.join(""),count:n.length}]);if(u)!function g(){setTimeout(function(){return c>d?u():void(i()||g())},0)}();else for(;d>=c;){var v=i();if(v)return v}},pushComponent:function(e,n,t){var r=e[e.length-1];r&&r.added===n&&r.removed===t?e[e.length-1]={count:r.count+1,added:n,removed:t}:e.push({count:1,added:n,removed:t})},extractCommon:function(e,n,t,r){for(var o=n.length,i=t.length,s=e.newPos,u=s-r,f=0;o>s+1&&i>u+1&&this.equals(n[s+1],t[u+1]);)s++,u++,f++;return f&&e.components.push({count:f}),e.newPos=s,u},equals:function(e,n){return e===n},removeEmpty:function(e){for(var n=[],t=0;t<e.length;t++)e[t]&&n.push(e[t]);return n},castInput:function(e){return e},tokenize:function(e){return e.split("")}},e.exports=n["default"]},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,n,t){return u.diff(e,n,t)}n.__esModule=!0,n.diffChars=o;var i=t(1),s=r(i),u=new s["default"];n.characterDiff=u},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,n,t){var r=f.generateOptions(t,{ignoreWhitespace:!0});return c.diff(e,n,r)}function i(e,n,t){return c.diff(e,n,t)}n.__esModule=!0,n.diffWords=o,n.diffWordsWithSpace=i;var s=t(1),u=r(s),f=t(4),a=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,l=/\S/,c=new u["default"];n.wordDiff=c,c.equals=function(e,n){return e===n||this.options.ignoreWhitespace&&!l.test(e)&&!l.test(n)},c.tokenize=function(e){for(var n=e.split(/(\s+|\b)/),t=0;t<n.length-1;t++)!n[t+1]&&n[t+2]&&a.test(n[t])&&a.test(n[t+2])&&(n[t]+=n[t+2],n.splice(t+1,2),t--);return n}},function(e,n){"use strict";function t(e,n){if("function"==typeof e)n.callback=e;else if(e)for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}n.__esModule=!0,n.generateOptions=t},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,n,t){return a.diff(e,n,t)}function i(e,n,t){var r=f.generateOptions(t,{ignoreWhitespace:!0});return a.diff(e,n,r)}n.__esModule=!0,n.diffLines=o,n.diffTrimmedLines=i;var s=t(1),u=r(s),f=t(4),a=new u["default"];n.lineDiff=a,a.tokenize=function(e){var n=[],t=e.split(/(\n|\r\n)/);t[t.length-1]||t.pop();for(var r=0;r<t.length;r++){var o=t[r];r%2&&!this.options.newlineIsToken?n[n.length-1]+=o:(this.options.ignoreWhitespace&&(o=o.trim()),n.push(o))}return n}},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,n,t){return u.diff(e,n,t)}n.__esModule=!0,n.diffSentences=o;var i=t(1),s=r(i),u=new s["default"];n.sentenceDiff=u,u.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)}},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,n,t){return u.diff(e,n,t)}n.__esModule=!0,n.diffCss=o;var i=t(1),s=r(i),u=new s["default"];n.cssDiff=u,u.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)}},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,n,t){return l.diff(e,n,t)}function i(e,n,t){n=n||[],t=t||[];var r=void 0;for(r=0;r<n.length;r+=1)if(n[r]===e)return t[r];var o=void 0;if("[object Array]"===a.call(e)){for(n.push(e),o=new Array(e.length),t.push(o),r=0;r<e.length;r+=1)o[r]=i(e[r],n,t);n.pop(),t.pop()}else if("object"==typeof e&&null!==e){n.push(e),o={},t.push(o);var s=[],u=void 0;for(u in e)e.hasOwnProperty(u)&&s.push(u);for(s.sort(),r=0;r<s.length;r+=1)u=s[r],o[u]=i(e[u],n,t);n.pop(),t.pop()}else o=e;return o}n.__esModule=!0,n.diffJson=o,n.canonicalize=i;var s=t(1),u=r(s),f=t(5),a=Object.prototype.toString,l=new u["default"];n.jsonDiff=l,l.useLongestToken=!0,l.tokenize=f.lineDiff.tokenize,l.castInput=function(e){return"string"==typeof e?e:JSON.stringify(i(e),void 0,"  ")},l.equals=function(e,n){return u["default"].prototype.equals(e.replace(/,([\r\n])/g,"$1"),n.replace(/,([\r\n])/g,"$1"))}},function(e,n,t){"use strict";function r(e,n){var t=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];if("string"==typeof n&&(n=i.parsePatch(n)),Array.isArray(n)){if(n.length>1)throw new Error("applyPatch only works with a single input.");n=n[0]}for(var r=e.split("\n"),o=n.hunks,s=t.compareLine||function(e,n,t,r){return n===r},u=0,f=t.fuzzFactor||0,a=void 0,l=void 0,c=0;c<o.length;c++)for(var d=o[c],p=d.newStart-1,h=0;h<d.lines.length;h++){var v=d.lines[h],g=v[0],m=v.substr(1);if((" "===g||"-"===g)&&!s(p+1,r[p],g,m)&&(u++,u>f))return!1;if(" "===g)p++;else if("-"===g)r.splice(p,1);else if("+"===g)r.splice(p,0,m),p++;else if("\\"===g){var w=d.lines[h-1]?d.lines[h-1][0]:null;"+"===w?a=!0:"-"===w&&(l=!0)}}if(a)for(;!r[r.length-1];)r.pop();else l&&r.push("");return r.join("\n")}function o(e,n){function t(){var i=e[o++];i||n.complete(),n.loadFile(i,function(e,o){if(e)return n.complete(e);var s=r(o,i,n);n.patched(i,s),setTimeout(t,0)})}"string"==typeof e&&(e=i.parsePatch(e));var o=0;t()}n.__esModule=!0,n.applyPatch=r,n.applyPatches=o;var i=t(10)},function(e,n){"use strict";function t(e){function n(){var e={};for(s.push(e);u<i.length&&!/^Index:/.test(i[u])&&!/^@@/.test(i[u]);)u++;var n=/^Index: (.*)/.exec(i[u]);for(n?(e.index=n[1],u++,/^===/.test(i[u])&&u++,t(e),t(e)):(t({}),t({})),e.hunks=[];u<i.length&&!/^Index:/.test(i[u]);)if(/^@@/.test(i[u]))e.hunks.push(r());else{if(i[u]&&o.strict)throw new Error("Unknown line "+(u+1)+" "+JSON.stringify(i[u]));u++}}function t(e){var n=/^(\-\-\-|\+\+\+)\s(\S+)\s?(.*)/.exec(i[u]);if(n){var t="---"===n[1]?"old":"new";e[t+"FileName"]=n[2],e[t+"Header"]=n[3],u++}}function r(){for(var e=u,n=i[u++],t=n.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),r={oldStart:+t[1],oldLines:+t[2]||1,newStart:+t[3],newLines:+t[4]||1,lines:[]},s=0,f=0;u<i.length;u++){var a=i[u][0];if("+"!==a&&"-"!==a&&" "!==a&&"\\"!==a)break;r.lines.push(i[u]),"+"===a?s++:"-"===a?f++:" "===a&&(s++,f++)}if(s||1!==r.newLines||(r.newLines=0),f||1!==r.oldLines||(r.oldLines=0),o.strict){if(s!==r.newLines)throw new Error("Added line count did not match for hunk at line "+(e+1));if(f!==r.oldLines)throw new Error("Removed line count did not match for hunk at line "+(e+1))}return r}for(var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=e.split("\n"),s=[],u=0;u<i.length;)n();return s}n.__esModule=!0,n.parsePatch=t},function(e,n,t){"use strict";function r(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}function o(e,n,t,o,i,s,f){function a(e){return e.map(function(e){return" "+e})}f||(f={context:4});var l=u.diffLines(t,o);l.push({value:"",lines:[]});for(var c=[],d=0,p=0,h=[],v=1,g=1,m=function(e){var n=l[e],i=n.lines||n.value.replace(/\n$/,"").split("\n");if(n.lines=i,n.added||n.removed){var s;if(!d){var u=l[e-1];d=v,p=g,u&&(h=f.context>0?a(u.lines.slice(-f.context)):[],d-=h.length,p-=h.length)}(s=h).push.apply(s,r(i.map(function(e){return(n.added?"+":"-")+e}))),n.added?g+=i.length:v+=i.length}else{if(d)if(i.length<=2*f.context&&e<l.length-2){var m;(m=h).push.apply(m,r(a(i)))}else{var w,y=Math.min(i.length,f.context);(w=h).push.apply(w,r(a(i.slice(0,y))));var _={oldStart:d,oldLines:v-d+y,newStart:p,newLines:g-p+y,lines:h};if(e>=l.length-2&&i.length<=f.context){var P=/\n$/.test(t),M=/\n$/.test(o);0!=i.length||P?P&&M||h.push("\\ No newline at end of file"):h.splice(_.oldLines,0,"\\ No newline at end of file")}c.push(_),d=0,p=0,h=[]}v+=i.length,g+=i.length}},w=0;w<l.length;w++)m(w);return{oldFileName:e,newFileName:n,oldHeader:i,newHeader:s,hunks:c}}function i(e,n,t,r,i,s,u){var f=o(e,n,t,r,i,s,u),a=[];e==n&&a.push("Index: "+e),a.push("==================================================================="),a.push("--- "+f.oldFileName+("undefined"==typeof f.oldHeader?"":"	"+f.oldHeader)),a.push("+++ "+f.newFileName+("undefined"==typeof f.newHeader?"":"	"+f.newHeader));for(var l=0;l<f.hunks.length;l++){var c=f.hunks[l];a.push("@@ -"+c.oldStart+","+c.oldLines+" +"+c.newStart+","+c.newLines+" @@"),a.push.apply(a,c.lines)}return a.join("\n")+"\n"}function s(e,n,t,r,o,s){return i(e,e,n,t,r,o,s)}n.__esModule=!0,n.structuredPatch=o,n.createTwoFilesPatch=i,n.createPatch=s;var u=t(5)},function(e,n){"use strict";function t(e){for(var n=[],t=void 0,r=void 0,o=0;o<e.length;o++)t=e[o],r=t.added?1:t.removed?-1:0,n.push([r,t.value]);return n}n.__esModule=!0,n.convertChangesToDMP=t},function(e,n){"use strict";function t(e){for(var n=[],t=0;t<e.length;t++){var o=e[t];o.added?n.push("<ins>"):o.removed&&n.push("<del>"),n.push(r(o.value)),o.added?n.push("</ins>"):o.removed&&n.push("</del>")}return n.join("")}function r(e){var n=e;return n=n.replace(/&/g,"&amp;"),n=n.replace(/</g,"&lt;"),n=n.replace(/>/g,"&gt;"),n=n.replace(/"/g,"&quot;")}n.__esModule=!0,n.convertChangesToXML=t}])});