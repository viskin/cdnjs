/*!
 * jQuery Lazy v0.1.2
 * http://jquery.eisbehr.de/lazy/
 *
 * Copyright 2013, Daniel 'Eisbehr' Kern
 *
 * licensed under the MIT license
 * http://www.opensource.org/licenses/mit-license.php
 *
 * jQuery("img.lazyload").lazy();
 */

(function(e,t,n){e.fn.lazy=function(n){function s(){i=i.filter("["+r.attribute+"]");i.each(function(){var t=e(this);if(t.attr(r.attribute)&&t.attr(r.attribute)!=t.attr("src")&&(t.is(":visible")||!r.visibleOnly)){if(o(t)||r.delay>=1){if(r.beforeLoad)r.beforeLoad(t);t.hide().attr("src",t.attr(r.attribute))[r.effect](r.effectTime);if(r.removeAttribute)t.removeAttr(r.attribute);if(r.afterLoad)r.afterLoad(t)}}})}function o(e){var t=document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop;if(t+u()+r.threshold>e.offset().top+e.height()){return true}return false}function u(){if(t.innerWidth){return t.innerHeight}else if(document.documentElement&&document.documentElement.clientWidth){return document.documentElement.clientHeight}else if(document.body&&document.body.clientWidth){return document.body.clientHeight}else if(document.body&&document.body.offsetHeight){return document.body.offsetHeight}return r.fallbackHeight}function a(e,t){function s(){function o(){i=+(new Date);t.apply()}var s=+(new Date)-i;n&&clearTimeout(n);if(s>e||!r.enableThrottle){o()}else{n=setTimeout(o,e-s)}}var n;var i=0;return s}var r={delay:0,attribute:"data-src",removeAttribute:true,effect:"show",effectTime:200,threshold:300,fallbackHeight:2e3,visibleOnly:true,enableThrottle:false,throttle:250,beforeLoad:null,afterLoad:null};if(n){e.extend(r,n)}var i=this;e(t).bind("scroll",a(r.throttle,s));e(t).bind("resize",a(r.throttle,s));e(t).load(function(){if(r.delay>=1){setTimeout(s,r.delay)}else{s()}});return this}})(jQuery,window)