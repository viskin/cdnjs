{"version":3,"file":"js-data-localstorage.min.js","sources":["js-data-localstorage.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_1__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","enqueue","task","queue","push","dequeue","length","shift","queueTask","createTask","fn","DSUtils","Promise","then","result","setTimeout","_interopRequireWildcard","obj","__esModule","default","_createClass","defineProperties","target","props","i","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Constructor","protoProps","staticProps","prototype","_classCallCheck","instance","TypeError","value","_JSData","_JSData2","_omit","_omit2","_keys","_keys2","_guid","_guid2","emptyStore","DS","makePath","deepMixIn","toJson","fromJson","forEach","removeCircular","filter","defaults","defaultFilter","Defaults","basePath","DSLocalStorageAdapter","options","resourceConfig","name","getEndpoint","ids","undefined","idsPath","getPath","idsJson","localStorage","getItem","setItem","getIds","saveKeys","resolve","item","GET","removeItem","_this","reject","getIdPath","Error","params","_this2","allowSimpleWhere","items","itemJson","err","attrs","_this3","idAttribute","PUT","relationFields","ensureId","_this4","_this5","findAll","tasks","update","all","_this6","DEL","removeId","_this7","destroy","omit","var_keys","keys","arguments","slice","out","property","hasOwnProperty","contains","forOwn","val","guid","randHex","choice","arr","start","end","len","Math","max","min","indexOf","thisObj","forIn","hasOwn","size","str","_chars","split","isArray","randInt","fromIndex","prop","checkDontEnum","_dontEnums","_hasDontEnumBug","toString","exec","ctor","constructor","isProto","MIN_INT","MAX_INT","round","rand","isKind","Array","random","kind","kindOf","get","UNDEF","_rKind","_toString"],"mappings":"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"}