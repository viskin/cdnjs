{"version":3,"file":"js-data-localstorage.min.js","sources":["js-data-localstorage.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_1__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_classCallCheck","instance","Constructor","TypeError","enqueue","task","queue","push","dequeue","length","taskInProcess","queueTask","createTask","fn","DSUtils","Promise","then","result","shift","setTimeout","err","reject","_createClass","defineProperties","target","props","i","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","JSData","keys","guid","emptyStore","DS","omit","makePath","deepMixIn","toJson","fromJson","forEach","removeCircular","filter","defaults","defaultFilter","Defaults","basePath","DSLocalStorageAdapter","options","value","resourceConfig","name","endpoint","ids","undefined","idsPath","getPath","idsJson","localStorage","getItem","setItem","getIds","saveKeys","resolve","item","GET","removeItem","_this","getIdPath","Error","params","_this2","allowSimpleWhere","items","itemJson","attrs","_this3","idAttribute","PUT","relationFields","ensureId","_this4","_this5","findAll","tasks","update","all","_this6","DEL","removeId","_this7","destroy","forOwn","obj","val","randHex","choice","thisObj","forIn","hasOwn","size","str","_chars","split","arguments","isArray","randInt","prop","hasOwnProperty","checkDontEnum","_dontEnums","_hasDontEnumBug","toString","exec","ctor","constructor","isProto","min","max","MIN_INT","MAX_INT","Math","round","rand","isKind","Array","random","kind","kindOf","get","UNDEF","_rKind","_toString"],"mappings":"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"}