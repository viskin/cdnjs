{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap e52e9d21ae62b1c8472e","webpack:///./src/index.js","webpack:///external {\"amd\":\"js-data\",\"commonjs\":\"js-data\",\"commonjs2\":\"js-data\",\"root\":\"JSData\"}","webpack:///./~/js-data-adapter/dist/js-data-adapter.js","webpack:///./~/mout/random/guid.js","webpack:///./~/mout/random/randHex.js","webpack:///./~/mout/random/choice.js","webpack:///./~/mout/random/randInt.js","webpack:///./~/mout/number/MIN_INT.js","webpack:///./~/mout/number/MAX_INT.js","webpack:///./~/mout/random/rand.js","webpack:///./~/mout/random/random.js","webpack:///./~/mout/lang/isArray.js","webpack:///./~/mout/lang/isKind.js","webpack:///./~/mout/lang/kindOf.js"],"names":[],"mappings":"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AzB,CAAP;AACA,UAAO,SAAS,cAAT,EAAyB,EAAzB,CAAP;AACA,UAAO,SAAS,cAAT,EAAyB,EAAzB,CAAP;AACA,UAAO,QAA6B,cAA7B,GAA8C,KAA9C;AACP,SAAM,QAA4B,aAA5B,GAA4C,KAA5C;EANR;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA,QAAO,OAAP,GAAiB,mBAAjB,C;;;;;;ACppBA,gD;;;;;;ACAA;AACA;AACA;AACA;AACA,EAAC,0BAA0B;;AAE3B;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kDAAiD,+BAA+B;AAChF;;AAEA;AACA;AACA,QAAO;AACP;AACA;AACA,QAAO;AACP;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA;AACA,IAAG;;AAEH;;AAEA;AACA;;AAEA,oEAAmE,aAAa;AAChF;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,uEAAsE,eAAe;AACrF;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,QAAQ;AACrB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA,cAAa,OAAO;AACpB;AACA,eAAc,OAAO;AACrB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB,gBAAe,gBAAgB,oBAAoB,eAAe;AAClE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB,gBAAe,gBAAgB,6BAA6B,eAAe;AAC3E;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB,gBAAe,kBAAkB,8BAA8B,eAAe;AAC9E;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,gBAAgB;AAC/B,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB,gBAAe,mBAAmB,0BAA0B,eAAe;AAC3E;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB,gBAAe,mBAAmB,0BAA0B,eAAe;AAC3E;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,gBAAgB;AAC/B,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB,gBAAe,gBAAgB,+BAA+B,eAAe;AAC7E;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB,gBAAe,kBAAkB,gCAAgC,eAAe;AAChF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB,gBAAe,gBAAgB,oBAAoB,eAAe;AAClE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,gBAAgB;AAC/B,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB,gBAAe,gBAAgB,iCAAiC,eAAe;AAC/E;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB,gBAAe,kBAAkB,kCAAkC,eAAe;AAClF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB,gBAAe,kBAAkB,kCAAkC,eAAe;AAClF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,gBAAgB;AAC/B,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,gBAAgB;AAC/B,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,gBAAgB;AAC/B,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yEAAwE,eAAe;AACvF;AACA;;AAEA;AACA,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,aAAa;AAC5B,gBAAe,aAAa;AAC5B,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA,2BAA0B;AAC1B,yBAAwB;;AAExB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;;AAEA,+BAA8B;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA,2BAA0B;AAC1B,yBAAwB;;AAExB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;;AAEA,+BAA8B;AAC9B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA,2BAA0B;AAC1B,yBAAwB;;AAExB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;;AAEA;AACA,+BAA8B;AAC9B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,gBAAgB;AAC/B,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA,yBAAwB;;AAExB;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;;AAEA,+BAA8B;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,aAAa;AAC5B,gBAAe,aAAa;AAC5B,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA,2BAA0B;AAC1B,yBAAwB;;AAExB;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;;AAEA,+BAA8B;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,gDAA+C;AAC/C;AACA,YAAW;AACX,UAAS;AACT;AACA,UAAS;AACT,QAAO;AACP;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA,oDAAmD;AACnD;AACA;AACA,kBAAiB;AACjB,gBAAe;AACf,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,gBAAe;AACf;AACA,cAAa;AACb;AACA,UAAS;;AAET;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,gDAA+C;AAC/C;AACA,YAAW;AACX,UAAS;AACT;AACA,UAAS;AACT,QAAO;AACP;AACA,gDAA+C;AAC/C;AACA;AACA,cAAa;AACb,YAAW;AACX,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,YAAW;AACX,UAAS;AACT;AACA,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,UAAS;;AAET;AACA,QAAO;AACP;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA,gDAA+C;AAC/C;AACA,YAAW;AACX,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,YAAW;AACX,UAAS;AACT;AACA,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,gBAAgB;AAC/B,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB;AACA,gBAAe,SAAS;AACxB,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,yBAAwB;AACxB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,YAAW;AACX;AACA,YAAW;AACX;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA,QAAO;AACP,+CAA8C;AAC9C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,aAAa;AAC5B,gBAAe,aAAa;AAC5B,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB;AACA,gBAAe,SAAS;AACxB,iBAAgB;AAChB;AACA;AACA;AACA,yBAAwB;AACxB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,YAAW;AACX;AACA,YAAW;AACX;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,QAAO;AACP,gDAA+C;AAC/C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,EAAE;AAClB;AACA;AACA,yBAAwB;AACxB;AACA,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,KAAK;AACpB;AACA;AACA,6FAA4F,eAAe;AAC3G;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,QAAO;AACP;;AAEA;AACA;AACA,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,aAAa;AAC5B,gBAAe,aAAa;AAC5B,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B;AAC1B,yBAAwB;;AAExB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;;AAEA,+BAA8B;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP,MAAK;;;AAGL;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,gBAAgB;AAC/B,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB;AACA,iBAAgB;AAChB;AACA;AACA;AACA,2BAA0B;AAC1B,yBAAwB;AACxB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;;AAEA,+BAA8B;AAC9B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,aAAa;AAC5B,gBAAe,aAAa;AAC5B,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB;AACA,iBAAgB;AAChB;AACA;AACA;AACA,2BAA0B;AAC1B,2BAA0B;AAC1B,yBAAwB;AACxB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;;AAEA;AACA,+BAA8B;AAC9B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA,yBAAwB;AACxB;AACA;;AAEA;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;;AAEA;AACA,+BAA8B;AAC9B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA,IAAG;;AAEH;;AAEA,EAAC;AACD,4C;;;;;;AC3lDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACtBA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;AChBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;ACZA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AChBA;AACA;AACA;;AAEA;;;;;;;;ACJA;AACA;AACA;;AAEA;;;;;;;;ACJA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACLA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA;AACA;AACA","file":"./dist/js-data-localstorage.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"js-data\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"js-data\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"LocalStorageAdapter\"] = factory(require(\"js-data\"));\n\telse\n\t\troot[\"LocalStorageAdapter\"] = factory(root[\"JSData\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap e52e9d21ae62b1c8472e\n **/","/* global: localStorage */\nconst JSData = require('js-data')\nconst Adapter = require('js-data-adapter')\nconst guid = require('mout/random/guid')\n\nconst {\n  Query,\n  utils\n} = JSData\n\nfunction isValidString (value) {\n  return (value != null && value !== '')\n}\nfunction join (items, separator) {\n  separator || (separator = '')\n  return items.filter(isValidString).join(separator)\n}\nfunction makePath (...args) {\n  let result = join(args, '/')\n  return result.replace(/([^:\\/]|^)\\/{2,}/g, '$1/')\n}\nlet queue = []\nlet taskInProcess = false\n\nfunction enqueue (task) {\n  queue.push(task)\n}\n\nfunction dequeue () {\n  if (queue.length && !taskInProcess) {\n    taskInProcess = true\n    queue[0]()\n  }\n}\n\nfunction queueTask (task) {\n  if (!queue.length) {\n    enqueue(task)\n    dequeue()\n  } else {\n    enqueue(task)\n  }\n}\n\nfunction createTask (fn) {\n  return new Promise(fn).then(function (result) {\n    taskInProcess = false\n    queue.shift()\n    setTimeout(dequeue, 0)\n    return result\n  }, function (err) {\n    taskInProcess = false\n    queue.shift()\n    setTimeout(dequeue, 0)\n    return utils.reject(err)\n  })\n}\n\nconst __super__ = Adapter.prototype\n\nconst DEFAULTS = {\n  /**\n   * TODO\n   *\n   * @name LocalStorageAdapter#basePath\n   * @type {string}\n   */\n  basePath: '',\n\n  /**\n   * TODO\n   *\n   * @name LocalStorageAdapter#debug\n   * @type {boolean}\n   * @default false\n   */\n  debug: false,\n\n  /**\n   * TODO\n   *\n   * @name LocalStorageAdapter#storage\n   * @type {Object}\n   * @default localStorage\n   */\n  storage: localStorage\n}\n\n/**\n * LocalStorageAdapter class.\n *\n * @example\n * import {DataStore} from 'js-data'\n * import LocalStorageAdapter from 'js-data-localstorage'\n * const store = new DataStore()\n * const adapter = new LocalStorageAdapter()\n * store.registerAdapter('ls', adapter, { 'default': true })\n *\n * @class LocalStorageAdapter\n * @param {Object} [opts] Configuration opts.\n * @param {string} [opts.basePath=''] TODO\n * @param {boolean} [opts.debug=false] TODO\n * @param {Object} [opts.storeage=localStorage] TODO\n */\nfunction LocalStorageAdapter (opts) {\n  const self = this\n  utils.classCallCheck(self, LocalStorageAdapter)\n  opts || (opts = {})\n  utils.fillIn(opts, DEFAULTS)\n  Adapter.call(self, opts)\n}\n\n// Setup prototype inheritance from Adapter\nLocalStorageAdapter.prototype = Object.create(Adapter.prototype, {\n  constructor: {\n    value: LocalStorageAdapter,\n    enumerable: false,\n    writable: true,\n    configurable: true\n  }\n})\n\nObject.defineProperty(LocalStorageAdapter, '__super__', {\n  configurable: true,\n  value: Adapter\n})\n\n/**\n * Alternative to ES6 class syntax for extending `LocalStorageAdapter`.\n *\n * @name LocalStorageAdapter.extend\n * @method\n * @param {Object} [instanceProps] Properties that will be added to the\n * prototype of the subclass.\n * @param {Object} [classProps] Properties that will be added as static\n * properties to the subclass itself.\n * @return {Object} Subclass of `LocalStorageAdapter`.\n */\nLocalStorageAdapter.extend = utils.extend\n\nutils.addHiddenPropsToTarget(LocalStorageAdapter.prototype, {\n  /**\n   * Retrieve the number of records that match the selection query. Internal\n   * method used by Adapter#count.\n   *\n   * @name LocalStorageAdapter#_count\n   * @method\n   * @private\n   * @param {Object} mapper The mapper.\n   * @param {Object} query Selection query.\n   * @param {Object} [opts] Configuration options.\n   * @return {Promise}\n   */\n  _count (mapper, query, opts) {\n    const self = this\n    return self._findAll(mapper, query, opts).then(function (result) {\n      result[0] = result[0].length\n      return result\n    })\n  },\n\n  _createHelper (mapper, props, opts) {\n    const self = this\n    const _props = {}\n    const relationFields = mapper.relationFields || []\n    utils.forOwn(props, function (value, key) {\n      if (relationFields.indexOf(key) === -1) {\n        _props[key] = value\n      }\n    })\n    const id = utils.get(_props, mapper.idAttribute) || guid()\n    utils.set(_props, mapper.idAttribute, id)\n    const key = self.getIdPath(mapper, opts, id)\n\n    // Create the record\n    // TODO: Create related records when the \"with\" option is provided\n    self.storage.setItem(key, utils.toJson(_props))\n    self.ensureId(id, mapper, opts)\n    return utils.fromJson(self.storage.getItem(key))\n  },\n\n  /**\n   * Create a new record. Internal method used by Adapter#create.\n   *\n   * @name LocalStorageAdapter#_create\n   * @method\n   * @private\n   * @param {Object} mapper The mapper.\n   * @param {Object} props The record to be created.\n   * @param {Object} [opts] Configuration options.\n   * @return {Promise}\n   */\n  _create (mapper, props, opts) {\n    const self = this\n    return new Promise(function (resolve) {\n      return resolve([self._createHelper(mapper, props, opts), {}])\n    })\n  },\n\n  /**\n   * Create multiple records in a single batch. Internal method used by\n   * Adapter#createMany.\n   *\n   * @name LocalStorageAdapter#_createMany\n   * @method\n   * @private\n   * @param {Object} mapper The mapper.\n   * @param {Object} props The records to be created.\n   * @param {Object} [opts] Configuration options.\n   * @return {Promise}\n   */\n  _createMany (mapper, props, opts) {\n    const self = this\n    return new Promise(function (resolve) {\n      props || (props = [])\n      return resolve([props.map(function (_props) {\n        return self._createHelper(mapper, _props, opts)\n      }), {}])\n    })\n  },\n\n  /**\n   * Destroy the record with the given primary key. Internal method used by\n   * Adapter#destroy.\n   *\n   * @name LocalStorageAdapter#_destroy\n   * @method\n   * @private\n   * @param {Object} mapper The mapper.\n   * @param {(string|number)} id Primary key of the record to destroy.\n   * @param {Object} [opts] Configuration options.\n   * @return {Promise}\n   */\n  _destroy (mapper, id, opts) {\n    const self = this\n    return new Promise(function (resolve) {\n      self.storage.removeItem(self.getIdPath(mapper, opts, id))\n      self.removeId(id, mapper, opts)\n      return resolve([undefined, {}])\n    })\n  },\n\n  /**\n   * Destroy the records that match the selection query. Internal method used by\n   * Adapter#destroyAll.\n   *\n   * @name LocalStorageAdapter#_destroyAll\n   * @method\n   * @private\n   * @param {Object} mapper the mapper.\n   * @param {Object} [query] Selection query.\n   * @param {Object} [opts] Configuration options.\n   * @return {Promise}\n   */\n  _destroyAll (mapper, query, opts) {\n    const self = this\n    return self._findAll(mapper, query).then(function (results) {\n      let [records] = results\n      const idAttribute = mapper.idAttribute\n      // Gather IDs of records to be destroyed\n      const ids = records.map(function (record) {\n        return utils.get(record, idAttribute)\n      })\n      // Destroy each record\n      ids.forEach(function (id) {\n        self.storage.removeItem(self.getIdPath(mapper, opts, id))\n      })\n      self.removeId(ids, mapper, opts)\n      return [undefined, {}]\n    })\n  },\n\n  /**\n   * Retrieve the record with the given primary key. Internal method used by\n   * Adapter#find.\n   *\n   * @name LocalStorageAdapter#_find\n   * @method\n   * @private\n   * @param {Object} mapper The mapper.\n   * @param {(string|number)} id Primary key of the record to retrieve.\n   * @param {Object} [opts] Configuration options.\n   * @return {Promise}\n   */\n  _find (mapper, id, opts) {\n    const self = this\n    return new Promise(function (resolve) {\n      const key = self.getIdPath(mapper, opts, id)\n      const record = self.storage.getItem(key)\n      return resolve([record ? utils.fromJson(record) : undefined, {}])\n    })\n  },\n\n  /**\n   * Retrieve the records that match the selection query. Internal method used\n   * by Adapter#findAll.\n   *\n   * @name LocalStorageAdapter#_findAll\n   * @method\n   * @private\n   * @param {Object} mapper The mapper.\n   * @param {Object} query Selection query.\n   * @param {Object} [opts] Configuration options.\n   * @return {Promise}\n   */\n  _findAll (mapper, query, opts) {\n    const self = this\n    query || (query = {})\n    return new Promise(function (resolve) {\n      // Load all records into memory...\n      let records = []\n      const ids = self.getIds(mapper, opts)\n      utils.forOwn(ids, function (value, id) {\n        const json = self.storage.getItem(self.getIdPath(mapper, opts, id))\n        if (json) {\n          records.push(utils.fromJson(json))\n        }\n      })\n      const _query = new Query({\n        index: {\n          getAll () {\n            return records\n          }\n        }\n      })\n      return resolve([_query.filter(query).run(), {}])\n    })\n  },\n\n  /**\n   * Retrieve the number of records that match the selection query. Internal\n   * method used by Adapter#sum.\n   *\n   * @name LocalStorageAdapter#_sum\n   * @method\n   * @private\n   * @param {Object} mapper The mapper.\n   * @param {string} field The field to sum.\n   * @param {Object} query Selection query.\n   * @param {Object} [opts] Configuration options.\n   * @return {Promise}\n   */\n  _sum (mapper, field, query, opts) {\n    const self = this\n    return self._findAll(mapper, query, opts).then(function (result) {\n      let sum = 0\n      result[0].forEach(function (record) {\n        sum += utils.get(record, field) || 0\n      })\n      result[0] = sum\n      return result\n    })\n  },\n\n  /**\n   * Apply the given update to the record with the specified primary key.\n   * Internal method used by Adapter#update.\n   *\n   * @name LocalStorageAdapter#_update\n   * @method\n   * @private\n   * @param {Object} mapper The mapper.\n   * @param {(string|number)} id The primary key of the record to be updated.\n   * @param {Object} props The update to apply to the record.\n   * @param {Object} [opts] Configuration options.\n   * @return {Promise}\n   */\n  _update (mapper, id, props, opts) {\n    const self = this\n    props || (props = {})\n    return new Promise(function (resolve, reject) {\n      const key = self.getIdPath(mapper, opts, id)\n      let record = self.storage.getItem(key)\n      if (!record) {\n        return reject(new Error('Not Found'))\n      }\n      record = utils.fromJson(record)\n      utils.deepMixIn(record, props)\n      self.storage.setItem(key, utils.toJson(record))\n      return resolve([record, {}])\n    })\n  },\n\n  /**\n   * Apply the given update to all records that match the selection query.\n   * Internal method used by Adapter#updateAll.\n   *\n   * @name LocalStorageAdapter#_updateAll\n   * @method\n   * @private\n   * @param {Object} mapper The mapper.\n   * @param {Object} props The update to apply to the selected records.\n   * @param {Object} [query] Selection query.\n   * @param {Object} [opts] Configuration options.\n   * @return {Promise}\n   */\n  _updateAll (mapper, props, query, opts) {\n    const self = this\n    const idAttribute = mapper.idAttribute\n    return self._findAll(mapper, query, opts).then(function (results) {\n      let [records] = results\n      records.forEach(function (record) {\n        record || (record = {})\n        const id = utils.get(record, idAttribute)\n        const key = self.getIdPath(mapper, opts, id)\n        utils.deepMixIn(record, props)\n        self.storage.setItem(key, utils.toJson(record))\n      })\n      return [records, {}]\n    })\n  },\n\n  /**\n   * Update the given records in a single batch. Internal method used by\n   * Adapter#updateMany.\n   *\n   * @name LocalStorageAdapter#updateMany\n   * @method\n   * @private\n   * @param {Object} mapper The mapper.\n   * @param {Object[]} records The records to update.\n   * @param {Object} [opts] Configuration options.\n   * @return {Promise}\n   */\n  _updateMany (mapper, records, opts) {\n    const self = this\n    records || (records = [])\n    return new Promise(function (resolve) {\n      const updatedRecords = []\n      const idAttribute = mapper.idAttribute\n      records.forEach(function (record) {\n        if (!record) {\n          return\n        }\n        const id = utils.get(record, idAttribute)\n        if (utils.isUndefined(id)) {\n          return\n        }\n        const key = self.getIdPath(mapper, opts, id)\n        let json = self.storage.getItem(key)\n        if (!json) {\n          return\n        }\n        const existingRecord = utils.fromJson(json)\n        utils.deepMixIn(existingRecord, record)\n        self.storage.setItem(key, utils.toJson(existingRecord))\n        updatedRecords.push(existingRecord)\n      })\n      return resolve([records, {}])\n    })\n  },\n\n  create (mapper, props, opts) {\n    const self = this\n    return createTask(function (success, failure) {\n      queueTask(function () {\n        __super__.create.call(self, mapper, props, opts).then(success, failure)\n      })\n    })\n  },\n\n  createMany (mapper, props, opts) {\n    const self = this\n    return createTask(function (success, failure) {\n      queueTask(function () {\n        __super__.createMany.call(self, mapper, props, opts).then(success, failure)\n      })\n    })\n  },\n\n  destroy (mapper, id, opts) {\n    const self = this\n    return createTask(function (success, failure) {\n      queueTask(function () {\n        __super__.destroy.call(self, mapper, id, opts).then(success, failure)\n      })\n    })\n  },\n\n  destroyAll (mapper, query, opts) {\n    const self = this\n    return createTask(function (success, failure) {\n      queueTask(function () {\n        __super__.destroyAll.call(self, mapper, query, opts).then(success, failure)\n      })\n    })\n  },\n\n  /**\n   * TODO\n   *\n   * @name LocalStorageAdapter#ensureId\n   * @method\n   */\n  ensureId (id, mapper, opts) {\n    const ids = this.getIds(mapper, opts)\n    if (utils.isArray(id)) {\n      if (!id.length) {\n        return\n      }\n      id.forEach(function (_id) {\n        ids[_id] = 1\n      })\n    } else {\n      ids[id] = 1\n    }\n    this.saveKeys(ids, mapper, opts)\n  },\n\n  /**\n   * TODO\n   *\n   * @name LocalStorageAdapter#getPath\n   * @method\n   */\n  getPath (mapper, opts) {\n    opts = opts || {}\n    return makePath(opts.basePath === undefined ? (mapper.basePath === undefined ? this.basePath : mapper.basePath) : opts.basePath, mapper.name)\n  },\n\n  /**\n   * TODO\n   *\n   * @name LocalStorageAdapter#getIdPath\n   * @method\n   */\n  getIdPath (mapper, opts, id) {\n    opts = opts || {}\n    return makePath(opts.basePath || this.basePath || mapper.basePath, mapper.endpoint, id)\n  },\n\n  /**\n   * TODO\n   *\n   * @name LocalStorageAdapter#getIds\n   * @method\n   */\n  getIds (mapper, opts) {\n    let ids\n    const idsPath = this.getPath(mapper, opts)\n    const idsJson = this.storage.getItem(idsPath)\n    if (idsJson) {\n      ids = utils.fromJson(idsJson)\n    } else {\n      ids = {}\n    }\n    return ids\n  },\n\n  /**\n   * TODO\n   *\n   * @name LocalStorageAdapter#removeId\n   * @method\n   */\n  removeId (id, mapper, opts) {\n    const ids = this.getIds(mapper, opts)\n    if (utils.isArray(id)) {\n      if (!id.length) {\n        return\n      }\n      id.forEach(function (_id) {\n        delete ids[_id]\n      })\n    } else {\n      delete ids[id]\n    }\n    this.saveKeys(ids, mapper, opts)\n  },\n\n  /**\n   * TODO\n   *\n   * @name LocalStorageAdapter#saveKeys\n   * @method\n   */\n  saveKeys (ids, mapper, opts) {\n    ids = ids || {}\n    const idsPath = this.getPath(mapper, opts)\n    if (Object.keys(ids).length) {\n      this.storage.setItem(idsPath, utils.toJson(ids))\n    } else {\n      this.storage.removeItem(idsPath)\n    }\n  },\n\n  update (mapper, id, props, opts) {\n    const self = this\n    return createTask(function (success, failure) {\n      queueTask(function () {\n        __super__.update.call(self, mapper, id, props, opts).then(success, failure)\n      })\n    })\n  },\n\n  updateAll (mapper, props, query, opts) {\n    const self = this\n    return createTask(function (success, failure) {\n      queueTask(function () {\n        __super__.updateAll.call(self, mapper, props, query, opts).then(success, failure)\n      })\n    })\n  },\n\n  updateMany (mapper, records, opts) {\n    const self = this\n    return createTask(function (success, failure) {\n      queueTask(function () {\n        __super__.updateMany.call(self, mapper, records, opts).then(success, failure)\n      })\n    })\n  }\n})\n\n/**\n * Details of the current version of the `js-data-localstorage` module.\n *\n * @name LocalStorageAdapter.version\n * @type {Object}\n * @property {string} version.full The full semver value.\n * @property {number} version.major The major version number.\n * @property {number} version.minor The minor version number.\n * @property {number} version.patch The patch version number.\n * @property {(string|boolean)} version.alpha The alpha version value,\n * otherwise `false` if the current version is not alpha.\n * @property {(string|boolean)} version.beta The beta version value,\n * otherwise `false` if the current version is not beta.\n */\nLocalStorageAdapter.version = {\n  full: '<%= pkg.version %>',\n  major: parseInt('<%= major %>', 10),\n  minor: parseInt('<%= minor %>', 10),\n  patch: parseInt('<%= patch %>', 10),\n  alpha: '<%= alpha %>' !== 'false' ? '<%= alpha %>' : false,\n  beta: '<%= beta %>' !== 'false' ? '<%= beta %>' : false\n}\n\n/**\n * Registered as `js-data-localstorage` in NPM and Bower.\n *\n * __Script tag__:\n * ```javascript\n * window.LocalStorageAdapter\n * ```\n * __CommonJS__:\n * ```javascript\n * var LocalStorageAdapter = require('js-data-localstorage')\n * ```\n * __ES6 Modules__:\n * ```javascript\n * import LocalStorageAdapter from 'js-data-localstorage'\n * ```\n * __AMD__:\n * ```javascript\n * define('myApp', ['js-data-localstorage'], function (LocalStorageAdapter) { ... })\n * ```\n *\n * @module js-data-localstorage\n */\n\nmodule.exports = LocalStorageAdapter\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"amd\":\"js-data\",\"commonjs\":\"js-data\",\"commonjs2\":\"js-data\",\"root\":\"JSData\"}\n ** module id = 1\n ** module chunks = 0\n **/","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(require('js-data')) :\n  typeof define === 'function' && define.amd ? define('js-data-adapter', ['js-data'], factory) :\n  (factory(global.JSData));\n}(this, function (jsData) { 'use strict';\n\n  var babelHelpers = {};\n  babelHelpers.typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n  };\n\n  babelHelpers.defineProperty = function (obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  };\n\n  babelHelpers.slicedToArray = function () {\n    function sliceIterator(arr, i) {\n      var _arr = [];\n      var _n = true;\n      var _d = false;\n      var _e = undefined;\n\n      try {\n        for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n          _arr.push(_s.value);\n\n          if (i && _arr.length === i) break;\n        }\n      } catch (err) {\n        _d = true;\n        _e = err;\n      } finally {\n        try {\n          if (!_n && _i[\"return\"]) _i[\"return\"]();\n        } finally {\n          if (_d) throw _e;\n        }\n      }\n\n      return _arr;\n    }\n\n    return function (arr, i) {\n      if (Array.isArray(arr)) {\n        return arr;\n      } else if (Symbol.iterator in Object(arr)) {\n        return sliceIterator(arr, i);\n      } else {\n        throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n      }\n    };\n  }();\n\n  babelHelpers;\n\n  var noop = function noop() {\n    var self = this;\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var opts = args[args.length - 1];\n    self.dbg.apply(self, [opts.op].concat(args));\n    return jsData.utils.resolve();\n  };\n\n  var noop2 = function noop2() {\n    var self = this;\n\n    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    var opts = args[args.length - 2];\n    self.dbg.apply(self, [opts.op].concat(args));\n    return jsData.utils.resolve();\n  };\n\n  var unique = function unique(array) {\n    var seen = {};\n    var final = [];\n    array.forEach(function (item) {\n      if (item in seen) {\n        return;\n      }\n      final.push(item);\n      seen[item] = 0;\n    });\n    return final;\n  };\n\n  var withoutRelations = function withoutRelations(mapper, props) {\n    return jsData.utils.omit(props, mapper.relationFields || []);\n  };\n\n  var DEFAULTS = {\n    /**\n     * Whether to log debugging information.\n     *\n     * @name Adapter#debug\n     * @type {boolean}\n     * @default false\n     */\n    debug: false,\n\n    /**\n     * Whether to return a more detailed response object.\n     *\n     * @name Adapter#raw\n     * @type {boolean}\n     * @default false\n     */\n    raw: false\n  };\n\n  /**\n   * Abstract class meant to be extended by adapters.\n   *\n   * @class Adapter\n   * @abstract\n   * @param {Object} [opts] Configuration opts.\n   * @param {boolean} [opts.debug=false] Whether to log debugging information.\n   * @param {boolean} [opts.raw=false] Whether to return a more detailed response\n   * object.\n   */\n  function Adapter(opts) {\n    var self = this;\n    opts || (opts = {});\n    jsData.utils.fillIn(opts, DEFAULTS);\n    jsData.utils.fillIn(self, opts);\n  }\n\n  Adapter.reserved = ['orderBy', 'sort', 'limit', 'offset', 'skip', 'where'];\n\n  /**\n   * Response object used when `raw` is `true`. May contain other fields in\n   * addition to `data`.\n   *\n   * @typedef {Object} Response\n   * @property {Object} data Response data.\n   * @property {string} op The operation for which the response was created.\n   */\n  function Response(data, meta, op) {\n    var self = this;\n    meta || (meta = {});\n    self.data = data;\n    jsData.utils.fillIn(self, meta);\n    self.op = op;\n  }\n\n  Adapter.Response = Response;\n\n  /**\n   * Alternative to ES6 class syntax for extending `Adapter`.\n   *\n   * @name Adapter.extend\n   * @method\n   * @param {Object} [instanceProps] Properties that will be added to the\n   * prototype of the subclass.\n   * @param {Object} [classProps] Properties that will be added as static\n   * properties to the subclass itself.\n   * @return {Object} Subclass of `Adapter`.\n   */\n  Adapter.extend = jsData.utils.extend;\n\n  jsData.utils.addHiddenPropsToTarget(Adapter.prototype, {\n    /**\n     * Lifecycle method method called by <a href=\"#count__anchor\">count</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#count__anchor\">count</a> to wait for the Promise to resolve before continuing.\n     *\n     * If `opts.raw` is `true` then `response` will be a detailed response object, otherwise `response` will be the count.\n     *\n     * `response` may be modified. You can also re-assign `response` to another value by returning a different value or a Promise that resolves to a different value.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#count__anchor\">count</a>.\n     *\n     * @name Adapter#afterCount\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#count__anchor\">count</a>.\n     * @param {Object} props The `props` argument passed to <a href=\"#count__anchor\">count</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#count__anchor\">count</a>.\n     * @property {string} opts.op `afterCount`\n     * @param {Object|Response} response Count or {@link Response}, depending on the value of `opts.raw`.\n     */\n    afterCount: noop2,\n\n    /**\n     * Lifecycle method method called by <a href=\"#create__anchor\">create</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#create__anchor\">create</a> to wait for the Promise to resolve before continuing.\n     *\n     * If `opts.raw` is `true` then `response` will be a detailed response object, otherwise `response` will be the created record.\n     *\n     * `response` may be modified. You can also re-assign `response` to another value by returning a different value or a Promise that resolves to a different value.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#create__anchor\">create</a>.\n     *\n     * @name Adapter#afterCreate\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#create__anchor\">create</a>.\n     * @param {Object} props The `props` argument passed to <a href=\"#create__anchor\">create</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#create__anchor\">create</a>.\n     * @property {string} opts.op `afterCreate`\n     * @param {Object|Response} response Created record or {@link Response}, depending on the value of `opts.raw`.\n     */\n    afterCreate: noop2,\n\n    /**\n     * Lifecycle method method called by <a href=\"#createMany__anchor\">createMany</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#createMany__anchor\">createMany</a> to wait for the Promise to resolve before continuing.\n     *\n     * If `opts.raw` is `true` then `response` will be a detailed response object, otherwise `response` will be the created records.\n     *\n     * `response` may be modified. You can also re-assign `response` to another value by returning a different value or a Promise that resolves to a different value.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#createMany__anchor\">createMany</a>.\n     *\n     * @name Adapter#afterCreate\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#createMany__anchor\">createMany</a>.\n     * @param {Object[]} props The `props` argument passed to <a href=\"#createMany__anchor\">createMany</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#createMany__anchor\">createMany</a>.\n     * @property {string} opts.op `afterCreateMany`\n     * @param {Object[]|Response} response Created records or {@link Response}, depending on the value of `opts.raw`.\n     */\n    afterCreateMany: noop2,\n\n    /**\n     * Lifecycle method method called by <a href=\"#destroy__anchor\">destroy</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#destroy__anchor\">destroy</a> to wait for the Promise to resolve before continuing.\n     *\n     * If `opts.raw` is `true` then `response` will be a detailed response object, otherwise `response` will be `undefined`.\n     *\n     * `response` may be modified. You can also re-assign `response` to another value by returning a different value or a Promise that resolves to a different value.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#destroy__anchor\">destroy</a>.\n     *\n     * @name Adapter#afterDestroy\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#destroy__anchor\">destroy</a>.\n     * @param {(string|number)} id The `id` argument passed to <a href=\"#destroy__anchor\">destroy</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#destroy__anchor\">destroy</a>.\n     * @property {string} opts.op `afterDestroy`\n     * @param {undefined|Response} response `undefined` or {@link Response}, depending on the value of `opts.raw`.\n     */\n    afterDestroy: noop2,\n\n    /**\n     * Lifecycle method method called by <a href=\"#destroyAll__anchor\">destroyAll</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#destroyAll__anchor\">destroyAll</a> to wait for the Promise to resolve before continuing.\n     *\n     * If `opts.raw` is `true` then `response` will be a detailed response object, otherwise `response` will be `undefined`.\n     *\n     * `response` may be modified. You can also re-assign `response` to another value by returning a different value or a Promise that resolves to a different value.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#destroyAll__anchor\">destroyAll</a>.\n     *\n     * @name Adapter#afterDestroyAll\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#destroyAll__anchor\">destroyAll</a>.\n     * @param {Object} query The `query` argument passed to <a href=\"#destroyAll__anchor\">destroyAll</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#destroyAll__anchor\">destroyAll</a>.\n     * @property {string} opts.op `afterDestroyAll`\n     * @param {undefined|Response} response `undefined` or {@link Response}, depending on the value of `opts.raw`.\n     */\n    afterDestroyAll: noop2,\n\n    /**\n     * Lifecycle method method called by <a href=\"#find__anchor\">find</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#find__anchor\">find</a> to wait for the Promise to resolve before continuing.\n     *\n     * If `opts.raw` is `true` then `response` will be a detailed response object, otherwise `response` will be the found record, if any.\n     *\n     * `response` may be modified. You can also re-assign `response` to another value by returning a different value or a Promise that resolves to a different value.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#find__anchor\">find</a>.\n     *\n     * @name Adapter#afterFind\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#find__anchor\">find</a>.\n     * @param {(string|number)} id The `id` argument passed to <a href=\"#find__anchor\">find</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#find__anchor\">find</a>.\n     * @property {string} opts.op `afterFind`\n     * @param {Object|Response} response The found record or {@link Response}, depending on the value of `opts.raw`.\n     */\n    afterFind: noop2,\n\n    /**\n     * Lifecycle method method called by <a href=\"#findAll__anchor\">findAll</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#findAll__anchor\">findAll</a> to wait for the Promise to resolve before continuing.\n     *\n     * If `opts.raw` is `true` then `response` will be a detailed response object, otherwise `response` will be the found records, if any.\n     *\n     * `response` may be modified. You can also re-assign `response` to another value by returning a different value or a Promise that resolves to a different value.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#findAll__anchor\">findAll</a>.\n     *\n     * @name Adapter#afterFindAll\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#findAll__anchor\">findAll</a>.\n     * @param {Object} query The `query` argument passed to <a href=\"#findAll__anchor\">findAll</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#findAll__anchor\">findAll</a>.\n     * @property {string} opts.op `afterFindAll`\n     * @param {Object[]|Response} response The found records or {@link Response}, depending on the value of `opts.raw`.\n     */\n    afterFindAll: noop2,\n\n    /**\n     * Lifecycle method method called by <a href=\"#sum__anchor\">sum</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#sum__anchor\">sum</a> to wait for the Promise to resolve before continuing.\n     *\n     * If `opts.raw` is `true` then `response` will be a detailed response object, otherwise `response` will be the sum.\n     *\n     * `response` may be modified. You can also re-assign `response` to another value by returning a different value or a Promise that resolves to a different value.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#sum__anchor\">sum</a>.\n     *\n     * @name Adapter#afterSum\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#sum__anchor\">sum</a>.\n     * @param {Object} props The `props` argument passed to <a href=\"#sum__anchor\">sum</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#sum__anchor\">sum</a>.\n     * @property {string} opts.op `afterSum`\n     * @param {Object|Response} response Count or {@link Response}, depending on the value of `opts.raw`.\n     */\n    afterSum: noop2,\n\n    /**\n     * Lifecycle method method called by <a href=\"#update__anchor\">update</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#update__anchor\">update</a> to wait for the Promise to resolve before continuing.\n     *\n     * If `opts.raw` is `true` then `response` will be a detailed response object, otherwise `response` will be the updated record.\n     *\n     * `response` may be modified. You can also re-assign `response` to another value by returning a different value or a Promise that resolves to a different value.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#update__anchor\">update</a>.\n     *\n     * @name Adapter#afterUpdate\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#update__anchor\">update</a>.\n     * @param {(string|number)} id The `id` argument passed to <a href=\"#update__anchor\">update</a>.\n     * @param {Object} props The `props` argument passed to <a href=\"#update__anchor\">update</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#update__anchor\">update</a>.\n     * @property {string} opts.op `afterUpdate`\n     * @param {Object|Response} response The updated record or {@link Response}, depending on the value of `opts.raw`.\n     */\n    afterUpdate: noop2,\n\n    /**\n     * Lifecycle method method called by <a href=\"#updateAll__anchor\">updateAll</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#updateAll__anchor\">updateAll</a> to wait for the Promise to resolve before continuing.\n     *\n     * If `opts.raw` is `true` then `response` will be a detailed response object, otherwise `response` will be the updated records, if any.\n     *\n     * `response` may be modified. You can also re-assign `response` to another value by returning a different value or a Promise that resolves to a different value.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#updateAll__anchor\">updateAll</a>.\n     *\n     * @name Adapter#afterUpdateAll\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#updateAll__anchor\">updateAll</a>.\n     * @param {Object} props The `props` argument passed to <a href=\"#updateAll__anchor\">updateAll</a>.\n     * @param {Object} query The `query` argument passed to <a href=\"#updateAll__anchor\">updateAll</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#updateAll__anchor\">updateAll</a>.\n     * @property {string} opts.op `afterUpdateAll`\n     * @param {Object[]|Response} response The updated records or {@link Response}, depending on the value of `opts.raw`.\n     */\n    afterUpdateAll: noop2,\n\n    /**\n     * Lifecycle method method called by <a href=\"#updateMany__anchor\">updateMany</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#updateMany__anchor\">updateMany</a> to wait for the Promise to resolve before continuing.\n     *\n     * If `opts.raw` is `true` then `response` will be a detailed response object, otherwise `response` will be the updated records, if any.\n     *\n     * `response` may be modified. You can also re-assign `response` to another value by returning a different value or a Promise that resolves to a different value.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#updateMany__anchor\">updateMany</a>.\n     *\n     * @name Adapter#afterUpdateMany\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#updateMany__anchor\">updateMany</a>.\n     * @param {Object[]} records The `records` argument passed to <a href=\"#updateMany__anchor\">updateMany</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#updateMany__anchor\">updateMany</a>.\n     * @property {string} opts.op `afterUpdateMany`\n     * @param {Object[]|Response} response The updated records or {@link Response}, depending on the value of `opts.raw`.\n     */\n    afterUpdateMany: noop2,\n\n    /**\n     * Lifecycle method method called by <a href=\"#count__anchor\">count</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#count__anchor\">count</a> to wait for the Promise to resolve before continuing.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#count__anchor\">count</a>.\n     *\n     * @name Adapter#beforeCount\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#count__anchor\">count</a>.\n     * @param {Object} query The `query` argument passed to <a href=\"#count__anchor\">count</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#count__anchor\">count</a>.\n     * @property {string} opts.op `beforeCount`\n     */\n    beforeCount: noop,\n\n    /**\n     * Lifecycle method method called by <a href=\"#create__anchor\">create</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#create__anchor\">create</a> to wait for the Promise to resolve before continuing.\n     *\n     * `props` may be modified. You can also re-assign `props` to another value by returning a different value or a Promise that resolves to a different value.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#create__anchor\">create</a>.\n     *\n     * @name Adapter#beforeCreate\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#create__anchor\">create</a>.\n     * @param {Object} props The `props` argument passed to <a href=\"#create__anchor\">create</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#create__anchor\">create</a>.\n     * @property {string} opts.op `beforeCreate`\n     */\n    beforeCreate: noop,\n\n    /**\n     * Lifecycle method method called by <a href=\"#createMany__anchor\">createMany</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#createMany__anchor\">createMany</a> to wait for the Promise to resolve before continuing.\n     *\n     * `props` may be modified. You can also re-assign `props` to another value by returning a different value or a Promise that resolves to a different value.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#createMany__anchor\">createMany</a>.\n     *\n     * @name Adapter#beforeCreateMany\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#createMany__anchor\">createMany</a>.\n     * @param {Object[]} props The `props` argument passed to <a href=\"#createMany__anchor\">createMany</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#createMany__anchor\">createMany</a>.\n     * @property {string} opts.op `beforeCreateMany`\n     */\n    beforeCreateMany: noop,\n\n    /**\n     * Lifecycle method method called by <a href=\"#destroy__anchor\">destroy</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#destroy__anchor\">destroy</a> to wait for the Promise to resolve before continuing.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#destroy__anchor\">destroy</a>.\n     *\n     * @name Adapter#beforeDestroy\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#destroy__anchor\">destroy</a>.\n     * @param {(string|number)} id The `id` argument passed to <a href=\"#destroy__anchor\">destroy</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#destroy__anchor\">destroy</a>.\n     * @property {string} opts.op `beforeDestroy`\n     */\n    beforeDestroy: noop,\n\n    /**\n     * Lifecycle method method called by <a href=\"#destroyAll__anchor\">destroyAll</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#destroyAll__anchor\">destroyAll</a> to wait for the Promise to resolve before continuing.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#destroyAll__anchor\">destroyAll</a>.\n     *\n     * @name Adapter#beforeDestroyAll\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#destroyAll__anchor\">destroyAll</a>.\n     * @param {Object} query The `query` argument passed to <a href=\"#destroyAll__anchor\">destroyAll</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#destroyAll__anchor\">destroyAll</a>.\n     * @property {string} opts.op `beforeDestroyAll`\n     */\n    beforeDestroyAll: noop,\n\n    /**\n     * Lifecycle method method called by <a href=\"#find__anchor\">find</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#find__anchor\">find</a> to wait for the Promise to resolve before continuing.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#find__anchor\">find</a>.\n     *\n     * @name Adapter#beforeFind\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#find__anchor\">find</a>.\n     * @param {(string|number)} id The `id` argument passed to <a href=\"#find__anchor\">find</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#find__anchor\">find</a>.\n     * @property {string} opts.op `beforeFind`\n     */\n    beforeFind: noop,\n\n    /**\n     * Lifecycle method method called by <a href=\"#findAll__anchor\">findAll</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#findAll__anchor\">findAll</a> to wait for the Promise to resolve before continuing.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#findAll__anchor\">findAll</a>.\n     *\n     * @name Adapter#beforeFindAll\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#findAll__anchor\">findAll</a>.\n     * @param {Object} query The `query` argument passed to <a href=\"#findAll__anchor\">findAll</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#findAll__anchor\">findAll</a>.\n     * @property {string} opts.op `beforeFindAll`\n     */\n    beforeFindAll: noop,\n\n    /**\n     * Lifecycle method method called by <a href=\"#sum__anchor\">sum</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#sum__anchor\">sum</a> to wait for the Promise to resolve before continuing.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#sum__anchor\">sum</a>.\n     *\n     * @name Adapter#beforeSum\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#sum__anchor\">sum</a>.\n     * @param {Object} query The `query` argument passed to <a href=\"#sum__anchor\">sum</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#sum__anchor\">sum</a>.\n     * @property {string} opts.op `beforeSum`\n     */\n    beforeSum: noop,\n\n    /**\n     * Lifecycle method method called by <a href=\"#update__anchor\">update</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#update__anchor\">update</a> to wait for the Promise to resolve before continuing.\n     *\n     * `props` may be modified. You can also re-assign `props` to another value by returning a different value or a Promise that resolves to a different value.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#update__anchor\">update</a>.\n     *\n     * @name Adapter#beforeUpdate\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#update__anchor\">update</a>.\n     * @param {(string|number)} id The `id` argument passed to <a href=\"#update__anchor\">update</a>.\n     * @param {Object} props The `props` argument passed to <a href=\"#update__anchor\">update</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#update__anchor\">update</a>.\n     * @property {string} opts.op `beforeUpdate`\n     */\n    beforeUpdate: noop,\n\n    /**\n     * Lifecycle method method called by <a href=\"#updateAll__anchor\">updateAll</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#updateAll__anchor\">updateAll</a> to wait for the Promise to resolve before continuing.\n     *\n     * `props` may be modified. You can also re-assign `props` to another value by returning a different value or a Promise that resolves to a different value.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#updateAll__anchor\">updateAll</a>.\n     *\n     * @name Adapter#beforeUpdateAll\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#updateAll__anchor\">updateAll</a>.\n     * @param {Object} props The `props` argument passed to <a href=\"#updateAll__anchor\">updateAll</a>.\n     * @param {Object} query The `query` argument passed to <a href=\"#updateAll__anchor\">updateAll</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#updateAll__anchor\">updateAll</a>.\n     * @property {string} opts.op `beforeUpdateAll`\n     */\n    beforeUpdateAll: noop,\n\n    /**\n     * Lifecycle method method called by <a href=\"#updateMany__anchor\">updateMany</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#updateMany__anchor\">updateMany</a> to wait for the Promise to resolve before continuing.\n     *\n     * `props` may be modified. You can also re-assign `props` to another value by returning a different value or a Promise that resolves to a different value.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#updateMany__anchor\">updateMany</a>.\n     *\n     * @name Adapter#beforeUpdateMany\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#updateMany__anchor\">updateMany</a>.\n     * @param {Object[]} props The `props` argument passed to <a href=\"#updateMany__anchor\">updateMany</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#updateMany__anchor\">updateMany</a>.\n     * @property {string} opts.op `beforeUpdateMany`\n     */\n    beforeUpdateMany: noop,\n\n    /**\n     * Shortcut for `#log('debug'[, arg1[, arg2[, argn]]])`.\n     *\n     * @name Adapter#dbg\n     * @method\n     */\n    dbg: function dbg() {\n      for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      this.log.apply(this, ['debug'].concat(args));\n    },\n\n\n    /**\n     * Retrieve the number of records that match the selection query. Called by\n     * `Mapper#count`.\n     *\n     * @name Adapter#count\n     * @method\n     * @param {Object} mapper The mapper.\n     * @param {Object} [query] Selection query.\n     * @param {Object} [query.where] Filtering criteria.\n     * @param {string|Array} [query.orderBy] Sorting criteria.\n     * @param {string|Array} [query.sort] Same as `query.sort`.\n     * @param {number} [query.limit] Limit results.\n     * @param {number} [query.skip] Offset results.\n     * @param {number} [query.offset] Same as `query.skip`.\n     * @param {Object} [opts] Configuration options.\n     * @param {boolean} [opts.raw=false] Whether to return a more detailed\n     * response object.\n     * @return {Promise}\n     */\n    count: function count(mapper, query, opts) {\n      var self = this;\n      var op = void 0;\n      query || (query = {});\n      opts || (opts = {});\n\n      // beforeCount lifecycle hook\n      op = opts.op = 'beforeCount';\n      return jsData.utils.resolve(self[op](mapper, query, opts)).then(function () {\n        // Allow for re-assignment from lifecycle hook\n        op = opts.op = 'count';\n        self.dbg(op, mapper, query, opts);\n        return jsData.utils.resolve(self._count(mapper, query, opts));\n      }).then(function (results) {\n        var _results = babelHelpers.slicedToArray(results, 2);\n\n        var data = _results[0];\n        var result = _results[1];\n\n        result || (result = {});\n        var response = new Response(data, result, op);\n        response = self.respond(response, opts);\n\n        // afterCount lifecycle hook\n        op = opts.op = 'afterCount';\n        return jsData.utils.resolve(self[op](mapper, query, opts, response)).then(function (_response) {\n          // Allow for re-assignment from lifecycle hook\n          return jsData.utils.isUndefined(_response) ? response : _response;\n        });\n      });\n    },\n\n\n    /**\n     * Create a new record. Called by `Mapper#create`.\n     *\n     * @name Adapter#create\n     * @method\n     * @param {Object} mapper The mapper.\n     * @param {Object} props The record to be created.\n     * @param {Object} [opts] Configuration options.\n     * @param {boolean} [opts.raw=false] Whether to return a more detailed\n     * response object.\n     * @return {Promise}\n     */\n    create: function create(mapper, props, opts) {\n      var self = this;\n      var op = void 0;\n      props || (props = {});\n      opts || (opts = {});\n\n      // beforeCreate lifecycle hook\n      op = opts.op = 'beforeCreate';\n      return jsData.utils.resolve(self[op](mapper, props, opts)).then(function (_props) {\n        // Allow for re-assignment from lifecycle hook\n        props = jsData.utils.isUndefined(_props) ? props : _props;\n        props = withoutRelations(mapper, props);\n        op = opts.op = 'create';\n        self.dbg(op, mapper, props, opts);\n        return jsData.utils.resolve(self._create(mapper, props, opts));\n      }).then(function (results) {\n        var _results2 = babelHelpers.slicedToArray(results, 2);\n\n        var data = _results2[0];\n        var result = _results2[1];\n\n        result || (result = {});\n        var response = new Response(data, result, 'create');\n        response.created = data ? 1 : 0;\n        response = self.respond(response, opts);\n\n        // afterCreate lifecycle hook\n        op = opts.op = 'afterCreate';\n        return jsData.utils.resolve(self[op](mapper, props, opts, response)).then(function (_response) {\n          // Allow for re-assignment from lifecycle hook\n          return jsData.utils.isUndefined(_response) ? response : _response;\n        });\n      });\n    },\n\n\n    /**\n     * Create multiple records in a single batch. Called by `Mapper#createMany`.\n     *\n     * @name Adapter#createMany\n     * @method\n     * @param {Object} mapper The mapper.\n     * @param {Object} props The records to be created.\n     * @param {Object} [opts] Configuration options.\n     * @param {boolean} [opts.raw=false] Whether to return a more detailed\n     * response object.\n     * @return {Promise}\n     */\n    createMany: function createMany(mapper, props, opts) {\n      var self = this;\n      var op = void 0;\n      props || (props = {});\n      opts || (opts = {});\n\n      // beforeCreateMany lifecycle hook\n      op = opts.op = 'beforeCreateMany';\n      return jsData.utils.resolve(self[op](mapper, props, opts)).then(function (_props) {\n        // Allow for re-assignment from lifecycle hook\n        props = jsData.utils.isUndefined(_props) ? props : _props;\n        props = props.map(function (record) {\n          return withoutRelations(mapper, record);\n        });\n        op = opts.op = 'createMany';\n        self.dbg(op, mapper, props, opts);\n        return jsData.utils.resolve(self._createMany(mapper, props, opts));\n      }).then(function (results) {\n        var _results3 = babelHelpers.slicedToArray(results, 2);\n\n        var data = _results3[0];\n        var result = _results3[1];\n\n        data || (data = []);\n        result || (result = {});\n        var response = new Response(data, result, 'createMany');\n        response.created = data.length;\n        response = self.respond(response, opts);\n\n        // afterCreateMany lifecycle hook\n        op = opts.op = 'afterCreateMany';\n        return jsData.utils.resolve(self[op](mapper, props, opts, response)).then(function (_response) {\n          // Allow for re-assignment from lifecycle hook\n          return jsData.utils.isUndefined(_response) ? response : _response;\n        });\n      });\n    },\n\n\n    /**\n     * Destroy the record with the given primary key. Called by\n     * `Mapper#destroy`.\n     *\n     * @name Adapter#destroy\n     * @method\n     * @param {Object} mapper The mapper.\n     * @param {(string|number)} id Primary key of the record to destroy.\n     * @param {Object} [opts] Configuration options.\n     * @param {boolean} [opts.raw=false] Whether to return a more detailed\n     * response object.\n     * @return {Promise}\n     */\n    destroy: function destroy(mapper, id, opts) {\n      var self = this;\n      var op = void 0;\n      opts || (opts = {});\n\n      // beforeDestroy lifecycle hook\n      op = opts.op = 'beforeDestroy';\n      return jsData.utils.resolve(self[op](mapper, id, opts)).then(function () {\n        op = opts.op = 'destroy';\n        self.dbg(op, mapper, id, opts);\n        return jsData.utils.resolve(self._destroy(mapper, id, opts));\n      }).then(function (results) {\n        var _results4 = babelHelpers.slicedToArray(results, 2);\n\n        var data = _results4[0];\n        var result = _results4[1];\n\n        result || (result = {});\n        var response = new Response(data, result, 'destroy');\n        response = self.respond(response, opts);\n\n        // afterDestroy lifecycle hook\n        op = opts.op = 'afterDestroy';\n        return jsData.utils.resolve(self[op](mapper, id, opts, response)).then(function (_response) {\n          // Allow for re-assignment from lifecycle hook\n          return jsData.utils.isUndefined(_response) ? response : _response;\n        });\n      });\n    },\n\n\n    /**\n     * Destroy the records that match the selection query. Called by\n     * `Mapper#destroyAll`.\n     *\n     * @name Adapter#destroyAll\n     * @method\n     * @param {Object} mapper the mapper.\n     * @param {Object} [query] Selection query.\n     * @param {Object} [query.where] Filtering criteria.\n     * @param {string|Array} [query.orderBy] Sorting criteria.\n     * @param {string|Array} [query.sort] Same as `query.sort`.\n     * @param {number} [query.limit] Limit results.\n     * @param {number} [query.skip] Offset results.\n     * @param {number} [query.offset] Same as `query.skip`.\n     * @param {Object} [opts] Configuration options.\n     * @param {boolean} [opts.raw=false] Whether to return a more detailed\n     * response object.\n     * @return {Promise}\n     */\n    destroyAll: function destroyAll(mapper, query, opts) {\n      var self = this;\n      var op = void 0;\n      query || (query = {});\n      opts || (opts = {});\n\n      // beforeDestroyAll lifecycle hook\n      op = opts.op = 'beforeDestroyAll';\n      return jsData.utils.resolve(self[op](mapper, query, opts)).then(function () {\n        op = opts.op = 'destroyAll';\n        self.dbg(op, mapper, query, opts);\n        return jsData.utils.resolve(self._destroyAll(mapper, query, opts));\n      }).then(function (results) {\n        var _results5 = babelHelpers.slicedToArray(results, 2);\n\n        var data = _results5[0];\n        var result = _results5[1];\n\n        result || (result = {});\n        var response = new Response(data, result, 'destroyAll');\n        response = self.respond(response, opts);\n\n        // afterDestroyAll lifecycle hook\n        op = opts.op = 'afterDestroyAll';\n        return jsData.utils.resolve(self[op](mapper, query, opts, response)).then(function (_response) {\n          // Allow for re-assignment from lifecycle hook\n          return jsData.utils.isUndefined(_response) ? response : _response;\n        });\n      });\n    },\n\n\n    /**\n     * Return the foreignKey from the given record for the provided relationship.\n     *\n     * There may be reasons why you may want to override this method, like when\n     * the id of the parent doesn't exactly match up to the key on the child.\n     *\n     * Override with care.\n     *\n     * @name Adapter#makeHasManyForeignKey\n     * @method\n     * @return {*}\n     */\n    makeHasManyForeignKey: function makeHasManyForeignKey(mapper, def, record) {\n      return def.getForeignKey(record);\n    },\n\n\n    /**\n     * Return the localKeys from the given record for the provided relationship.\n     *\n     * Override with care.\n     *\n     * @name Adapter#makeHasManyLocalKeys\n     * @method\n     * @return {*}\n     */\n    makeHasManyLocalKeys: function makeHasManyLocalKeys(mapper, def, record) {\n      var localKeys = [];\n      var itemKeys = jsData.utils.get(record, def.localKeys) || [];\n      itemKeys = jsData.utils.isArray(itemKeys) ? itemKeys : Object.keys(itemKeys);\n      localKeys = localKeys.concat(itemKeys);\n      return unique(localKeys).filter(function (x) {\n        return x;\n      });\n    },\n\n\n    /**\n     * Return the foreignKeys from the given record for the provided relationship.\n     *\n     * Override with care.\n     *\n     * @name Adapter#makeHasManyForeignKeys\n     * @method\n     * @return {*}\n     */\n    makeHasManyForeignKeys: function makeHasManyForeignKeys(mapper, def, record) {\n      return jsData.utils.get(record, mapper.idAttribute);\n    },\n\n\n    /**\n     * Load a hasMany relationship.\n     *\n     * Override with care.\n     *\n     * @name Adapter#loadHasMany\n     * @method\n     * @return {Promise}\n     */\n    loadHasMany: function loadHasMany(mapper, def, records, __opts) {\n      var self = this;\n      var singular = false;\n\n      if (jsData.utils.isObject(records) && !jsData.utils.isArray(records)) {\n        singular = true;\n        records = [records];\n      }\n      var IDs = records.map(function (record) {\n        return self.makeHasManyForeignKey(mapper, def, record);\n      });\n      var query = {\n        where: {}\n      };\n      var criteria = query.where[def.foreignKey] = {};\n      if (singular) {\n        // more efficient query when we only have one record\n        criteria['=='] = IDs[0];\n      } else {\n        criteria['in'] = IDs.filter(function (id) {\n          return id;\n        });\n      }\n      return self.findAll(def.getRelation(), query, __opts).then(function (relatedItems) {\n        records.forEach(function (record) {\n          var attached = [];\n          // avoid unneccesary iteration when we only have one record\n          if (singular) {\n            attached = relatedItems;\n          } else {\n            relatedItems.forEach(function (relatedItem) {\n              if (jsData.utils.get(relatedItem, def.foreignKey) === record[mapper.idAttribute]) {\n                attached.push(relatedItem);\n              }\n            });\n          }\n          def.setLocalField(record, attached);\n        });\n      });\n    },\n    loadHasManyLocalKeys: function loadHasManyLocalKeys(mapper, def, records, __opts) {\n      var self = this;\n      var record = void 0;\n      var relatedMapper = def.getRelation();\n\n      if (jsData.utils.isObject(records) && !jsData.utils.isArray(records)) {\n        record = records;\n      }\n\n      if (record) {\n        return self.findAll(relatedMapper, {\n          where: babelHelpers.defineProperty({}, relatedMapper.idAttribute, {\n            'in': self.makeHasManyLocalKeys(mapper, def, record)\n          })\n        }, __opts).then(function (relatedItems) {\n          def.setLocalField(record, relatedItems);\n        });\n      } else {\n        var _ret = function () {\n          var localKeys = [];\n          records.forEach(function (record) {\n            localKeys = localKeys.concat(self.self.makeHasManyLocalKeys(mapper, def, record));\n          });\n          return {\n            v: self.findAll(relatedMapper, {\n              where: babelHelpers.defineProperty({}, relatedMapper.idAttribute, {\n                'in': unique(localKeys).filter(function (x) {\n                  return x;\n                })\n              })\n            }, __opts).then(function (relatedItems) {\n              records.forEach(function (item) {\n                var attached = [];\n                var itemKeys = jsData.utils.get(item, def.localKeys) || [];\n                itemKeys = jsData.utils.isArray(itemKeys) ? itemKeys : Object.keys(itemKeys);\n                relatedItems.forEach(function (relatedItem) {\n                  if (itemKeys && itemKeys.indexOf(relatedItem[relatedMapper.idAttribute]) !== -1) {\n                    attached.push(relatedItem);\n                  }\n                });\n                def.setLocalField(item, attached);\n              });\n              return relatedItems;\n            })\n          };\n        }();\n\n        if ((typeof _ret === 'undefined' ? 'undefined' : babelHelpers.typeof(_ret)) === \"object\") return _ret.v;\n      }\n    },\n    loadHasManyForeignKeys: function loadHasManyForeignKeys(mapper, def, records, __opts) {\n      var self = this;\n      var relatedMapper = def.getRelation();\n      var idAttribute = mapper.idAttribute;\n      var record = void 0;\n\n      if (jsData.utils.isObject(records) && !jsData.utils.isArray(records)) {\n        record = records;\n      }\n\n      if (record) {\n        return self.findAll(def.getRelation(), {\n          where: babelHelpers.defineProperty({}, def.foreignKeys, {\n            'contains': self.makeHasManyForeignKeys(mapper, def, record)\n          })\n        }, __opts).then(function (relatedItems) {\n          def.setLocalField(record, relatedItems);\n        });\n      } else {\n        return self.findAll(relatedMapper, {\n          where: babelHelpers.defineProperty({}, def.foreignKeys, {\n            'isectNotEmpty': records.map(function (record) {\n              return self.makeHasManyForeignKeys(mapper, def, record);\n            })\n          })\n        }, __opts).then(function (relatedItems) {\n          var foreignKeysField = def.foreignKeys;\n          records.forEach(function (record) {\n            var _relatedItems = [];\n            var id = jsData.utils.get(record, idAttribute);\n            relatedItems.forEach(function (relatedItem) {\n              var foreignKeys = jsData.utils.get(relatedItems, foreignKeysField) || [];\n              if (foreignKeys.indexOf(id) !== -1) {\n                _relatedItems.push(relatedItem);\n              }\n            });\n            def.setLocalField(record, _relatedItems);\n          });\n        });\n      }\n    },\n\n\n    /**\n     * Load a hasOne relationship.\n     *\n     * Override with care.\n     *\n     * @name Adapter#loadHasOne\n     * @method\n     * @return {Promise}\n     */\n    loadHasOne: function loadHasOne(mapper, def, records, __opts) {\n      if (jsData.utils.isObject(records) && !jsData.utils.isArray(records)) {\n        records = [records];\n      }\n      return this.loadHasMany(mapper, def, records, __opts).then(function () {\n        records.forEach(function (record) {\n          var relatedData = def.getLocalField(record);\n          if (jsData.utils.isArray(relatedData) && relatedData.length) {\n            def.setLocalField(record, relatedData[0]);\n          }\n        });\n      });\n    },\n\n\n    /**\n     * Return the foreignKey from the given record for the provided relationship.\n     *\n     * Override with care.\n     *\n     * @name Adapter#makeBelongsToForeignKey\n     * @method\n     * @return {*}\n     */\n    makeBelongsToForeignKey: function makeBelongsToForeignKey(mapper, def, record) {\n      return def.getForeignKey(record);\n    },\n\n\n    /**\n     * Load a belongsTo relationship.\n     *\n     * Override with care.\n     *\n     * @name Adapter#loadBelongsTo\n     * @method\n     * @return {Promise}\n     */\n    loadBelongsTo: function loadBelongsTo(mapper, def, records, __opts) {\n      var self = this;\n      var relationDef = def.getRelation();\n\n      if (jsData.utils.isObject(records) && !jsData.utils.isArray(records)) {\n        var _ret2 = function () {\n          var record = records;\n          return {\n            v: self.find(relationDef, self.makeBelongsToForeignKey(mapper, def, record), __opts).then(function (relatedItem) {\n              def.setLocalField(record, relatedItem);\n            })\n          };\n        }();\n\n        if ((typeof _ret2 === 'undefined' ? 'undefined' : babelHelpers.typeof(_ret2)) === \"object\") return _ret2.v;\n      } else {\n        var keys = records.map(function (record) {\n          return self.makeBelongsToForeignKey(mapper, def, record);\n        }).filter(function (key) {\n          return key;\n        });\n        return self.findAll(relationDef, {\n          where: babelHelpers.defineProperty({}, relationDef.idAttribute, {\n            'in': keys\n          })\n        }, __opts).then(function (relatedItems) {\n          records.forEach(function (record) {\n            relatedItems.forEach(function (relatedItem) {\n              if (relatedItem[relationDef.idAttribute] === record[def.foreignKey]) {\n                def.setLocalField(record, relatedItem);\n              }\n            });\n          });\n        });\n      }\n    },\n\n\n    /**\n     * Retrieve the record with the given primary key. Called by `Mapper#find`.\n     *\n     * @name Adapter#find\n     * @method\n     * @param {Object} mapper The mapper.\n     * @param {(string|number)} id Primary key of the record to retrieve.\n     * @param {Object} [opts] Configuration options.\n     * @param {boolean} [opts.raw=false] Whether to return a more detailed\n     * response object.\n     * @param {string[]} [opts.with=[]] Relations to eager load.\n     * @return {Promise}\n     */\n    find: function find(mapper, id, opts) {\n      var self = this;\n      var record = void 0,\n          op = void 0;\n      opts || (opts = {});\n      opts.with || (opts.with = []);\n\n      // beforeFind lifecycle hook\n      op = opts.op = 'beforeFind';\n      return jsData.utils.resolve(self[op](mapper, id, opts)).then(function () {\n        op = opts.op = 'find';\n        self.dbg(op, mapper, id, opts);\n        return jsData.utils.resolve(self._find(mapper, id, opts));\n      }).then(function (results) {\n        var _results6 = babelHelpers.slicedToArray(results, 1);\n\n        var _record = _results6[0];\n\n        if (!_record) {\n          return;\n        }\n        record = _record;\n        var tasks = [];\n\n        jsData.utils.forEachRelation(mapper, opts, function (def, __opts) {\n          var task = void 0;\n          if (def.foreignKey && (def.type === 'hasOne' || def.type === 'hasMany')) {\n            if (def.type === 'hasOne') {\n              task = self.loadHasOne(mapper, def, record, __opts);\n            } else {\n              task = self.loadHasMany(mapper, def, record, __opts);\n            }\n          } else if (def.type === 'hasMany' && def.localKeys) {\n            task = self.loadHasManyLocalKeys(mapper, def, record, __opts);\n          } else if (def.type === 'hasMany' && def.foreignKeys) {\n            task = self.loadHasManyForeignKeys(mapper, def, record, __opts);\n          } else if (def.type === 'belongsTo') {\n            task = self.loadBelongsTo(mapper, def, record, __opts);\n          }\n          if (task) {\n            tasks.push(task);\n          }\n        });\n\n        return Promise.all(tasks);\n      }).then(function () {\n        var response = new Response(record, {}, 'find');\n        response.found = record ? 1 : 0;\n        response = self.respond(response, opts);\n\n        // afterFind lifecycle hook\n        op = opts.op = 'afterFind';\n        return jsData.utils.resolve(self[op](mapper, id, opts, response)).then(function (_response) {\n          // Allow for re-assignment from lifecycle hook\n          return jsData.utils.isUndefined(_response) ? response : _response;\n        });\n      });\n    },\n\n\n    /**\n     * Retrieve the records that match the selection query.\n     *\n     * @name Adapter#findAll\n     * @method\n     * @param {Object} mapper The mapper.\n     * @param {Object} [query] Selection query.\n     * @param {Object} [query.where] Filtering criteria.\n     * @param {string|Array} [query.orderBy] Sorting criteria.\n     * @param {string|Array} [query.sort] Same as `query.sort`.\n     * @param {number} [query.limit] Limit results.\n     * @param {number} [query.skip] Offset results.\n     * @param {number} [query.offset] Same as `query.skip`.\n     * @param {Object} [opts] Configuration options.\n     * @param {boolean} [opts.raw=false] Whether to return a more detailed\n     * response object.\n     * @param {string[]} [opts.with=[]] Relations to eager load.\n     * @return {Promise}\n     */\n    findAll: function findAll(mapper, query, opts) {\n      var self = this;\n      opts || (opts = {});\n      opts.with || (opts.with = []);\n\n      var records = [];\n      var op = void 0;\n      var activeWith = opts._activeWith;\n\n      if (jsData.utils.isObject(activeWith)) {\n        var activeQuery = activeWith.query || {};\n        if (activeWith.replace) {\n          query = activeQuery;\n        } else {\n          jsData.utils.deepFillIn(query, activeQuery);\n        }\n      }\n\n      // beforeFindAll lifecycle hook\n      op = opts.op = 'beforeFindAll';\n      return jsData.utils.resolve(self[op](mapper, query, opts)).then(function () {\n        op = opts.op = 'findAll';\n        self.dbg(op, mapper, query, opts);\n        return jsData.utils.resolve(self._findAll(mapper, query, opts));\n      }).then(function (results) {\n        var _results7 = babelHelpers.slicedToArray(results, 1);\n\n        var _records = _results7[0];\n\n        _records || (_records = []);\n        records = _records;\n        var tasks = [];\n        jsData.utils.forEachRelation(mapper, opts, function (def, __opts) {\n          var task = void 0;\n          if (def.foreignKey && (def.type === 'hasOne' || def.type === 'hasMany')) {\n            if (def.type === 'hasMany') {\n              task = self.loadHasMany(mapper, def, records, __opts);\n            } else {\n              task = self.loadHasOne(mapper, def, records, __opts);\n            }\n          } else if (def.type === 'hasMany' && def.localKeys) {\n            task = self.loadHasManyLocalKeys(mapper, def, records, __opts);\n          } else if (def.type === 'hasMany' && def.foreignKeys) {\n            task = self.loadHasManyForeignKeys(mapper, def, records, __opts);\n          } else if (def.type === 'belongsTo') {\n            task = self.loadBelongsTo(mapper, def, records, __opts);\n          }\n          if (task) {\n            tasks.push(task);\n          }\n        });\n        return Promise.all(tasks);\n      }).then(function () {\n        var response = new Response(records, {}, 'findAll');\n        response.found = records.length;\n        response = self.respond(response, opts);\n\n        // afterFindAll lifecycle hook\n        op = opts.op = 'afterFindAll';\n        return jsData.utils.resolve(self[op](mapper, query, opts, response)).then(function (_response) {\n          // Allow for re-assignment from lifecycle hook\n          return jsData.utils.isUndefined(_response) ? response : _response;\n        });\n      });\n    },\n\n\n    /**\n     * Resolve the value of the specified option based on the given options and\n     * this adapter's settings. Override with care.\n     *\n     * @name Adapter#getOpt\n     * @method\n     * @param {string} opt The name of the option.\n     * @param {Object} [opts] Configuration options.\n     * @return {*} The value of the specified option.\n     */\n    getOpt: function getOpt(opt, opts) {\n      opts || (opts = {});\n      return jsData.utils.isUndefined(opts[opt]) ? jsData.utils.plainCopy(this[opt]) : jsData.utils.plainCopy(opts[opt]);\n    },\n\n\n    /**\n     * Logging utility method. Override this method if you want to send log\n     * messages to something other than the console.\n     *\n     * @name Adapter#log\n     * @method\n     * @param {string} level Log level.\n     * @param {...*} values Values to log.\n     */\n    log: function log(level) {\n      for (var _len4 = arguments.length, args = Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n        args[_key4 - 1] = arguments[_key4];\n      }\n\n      if (level && !args.length) {\n        args.push(level);\n        level = 'debug';\n      }\n      if (level === 'debug' && !this.debug) {\n        return;\n      }\n      var prefix = level.toUpperCase() + ': (Adapter)';\n      if (console[level]) {\n        var _console;\n\n        (_console = console)[level].apply(_console, [prefix].concat(args));\n      } else {\n        var _console2;\n\n        (_console2 = console).log.apply(_console2, [prefix].concat(args));\n      }\n    },\n\n\n    /**\n     * Retrieve sum of the specified field of the records that match the selection\n     * query. Called by `Mapper#sum`.\n     *\n     * @name Adapter#sum\n     * @method\n     * @param {Object} mapper The mapper.\n     * @param {string} field By to sum.\n     * @param {Object} [query] Selection query.\n     * @param {Object} [query.where] Filtering criteria.\n     * @param {string|Array} [query.orderBy] Sorting criteria.\n     * @param {string|Array} [query.sort] Same as `query.sort`.\n     * @param {number} [query.limit] Limit results.\n     * @param {number} [query.skip] Offset results.\n     * @param {number} [query.offset] Same as `query.skip`.\n     * @param {Object} [opts] Configuration options.\n     * @param {boolean} [opts.raw=false] Whether to return a more detailed\n     * response object.\n     * @return {Promise}\n     */\n    sum: function sum(mapper, field, query, opts) {\n      var self = this;\n      var op = void 0;\n      if (!jsData.utils.isString(field)) {\n        throw new Error('field must be a string!');\n      }\n      query || (query = {});\n      opts || (opts = {});\n\n      // beforeSum lifecycle hook\n      op = opts.op = 'beforeSum';\n      return jsData.utils.resolve(self[op](mapper, field, query, opts)).then(function () {\n        // Allow for re-assignment from lifecycle hook\n        op = opts.op = 'sum';\n        self.dbg(op, mapper, field, query, opts);\n        return jsData.utils.resolve(self._sum(mapper, field, query, opts));\n      }).then(function (results) {\n        var _results8 = babelHelpers.slicedToArray(results, 2);\n\n        var data = _results8[0];\n        var result = _results8[1];\n\n        result || (result = {});\n        var response = new Response(data, result, op);\n        response = self.respond(response, opts);\n\n        // afterSum lifecycle hook\n        op = opts.op = 'afterSum';\n        return jsData.utils.resolve(self[op](mapper, field, query, opts, response)).then(function (_response) {\n          // Allow for re-assignment from lifecycle hook\n          return jsData.utils.isUndefined(_response) ? response : _response;\n        });\n      });\n    },\n\n\n    /**\n     * @name Adapter#respond\n     * @method\n     * @param {Object} response Response object.\n     * @param {Object} opts Configuration options.\n     * return {Object} If `opts.raw == true` then return `response`, else return\n     * `response.data`.\n     */\n    respond: function respond(response, opts) {\n      return this.getOpt('raw', opts) ? response : response.data;\n    },\n\n\n    /**\n     * Apply the given update to the record with the specified primary key. Called\n     * by `Mapper#update`.\n     *\n     * @name Adapter#update\n     * @method\n     * @param {Object} mapper The mapper.\n     * @param {(string|number)} id The primary key of the record to be updated.\n     * @param {Object} props The update to apply to the record.\n     * @param {Object} [opts] Configuration options.\n     * @param {boolean} [opts.raw=false] Whether to return a more detailed\n     * response object.\n     * @return {Promise}\n     */\n    update: function update(mapper, id, props, opts) {\n      var self = this;\n      props || (props = {});\n      opts || (opts = {});\n      var op = void 0;\n\n      // beforeUpdate lifecycle hook\n      op = opts.op = 'beforeUpdate';\n      return jsData.utils.resolve(self[op](mapper, id, props, opts)).then(function (_props) {\n        // Allow for re-assignment from lifecycle hook\n        props = jsData.utils.isUndefined(_props) ? props : _props;\n        op = opts.op = 'update';\n        self.dbg(op, mapper, id, props, opts);\n        return jsData.utils.resolve(self._update(mapper, id, props, opts));\n      }).then(function (results) {\n        var _results9 = babelHelpers.slicedToArray(results, 2);\n\n        var data = _results9[0];\n        var result = _results9[1];\n\n        result || (result = {});\n        var response = new Response(data, result, 'update');\n        response.updated = data ? 1 : 0;\n        response = self.respond(response, opts);\n\n        // afterUpdate lifecycle hook\n        op = opts.op = 'afterUpdate';\n        return jsData.utils.resolve(self[op](mapper, id, props, opts, response)).then(function (_response) {\n          // Allow for re-assignment from lifecycle hook\n          return jsData.utils.isUndefined(_response) ? response : _response;\n        });\n      });\n    },\n\n\n    /**\n     * Apply the given update to all records that match the selection query.\n     * Called by `Mapper#updateAll`.\n     *\n     * @name Adapter#updateAll\n     * @method\n     * @param {Object} mapper The mapper.\n     * @param {Object} props The update to apply to the selected records.\n     * @param {Object} [query] Selection query.\n     * @param {Object} [query.where] Filtering criteria.\n     * @param {string|Array} [query.orderBy] Sorting criteria.\n     * @param {string|Array} [query.sort] Same as `query.sort`.\n     * @param {number} [query.limit] Limit results.\n     * @param {number} [query.skip] Offset results.\n     * @param {number} [query.offset] Same as `query.skip`.\n     * @param {Object} [opts] Configuration options.\n     * @param {boolean} [opts.raw=false] Whether to return a more detailed\n     * response object.\n     * @return {Promise}\n     */\n    updateAll: function updateAll(mapper, props, query, opts) {\n      var self = this;\n      props || (props = {});\n      query || (query = {});\n      opts || (opts = {});\n      var op = void 0;\n\n      // beforeUpdateAll lifecycle hook\n      op = opts.op = 'beforeUpdateAll';\n      return jsData.utils.resolve(self[op](mapper, props, query, opts)).then(function (_props) {\n        // Allow for re-assignment from lifecycle hook\n        props = jsData.utils.isUndefined(_props) ? props : _props;\n        op = opts.op = 'updateAll';\n        self.dbg(op, mapper, props, query, opts);\n        return jsData.utils.resolve(self._updateAll(mapper, props, query, opts));\n      }).then(function (results) {\n        var _results10 = babelHelpers.slicedToArray(results, 2);\n\n        var data = _results10[0];\n        var result = _results10[1];\n\n        data || (data = []);\n        result || (result = {});\n        var response = new Response(data, result, 'updateAll');\n        response.updated = data.length;\n        response = self.respond(response, opts);\n\n        // afterUpdateAll lifecycle hook\n        op = opts.op = 'afterUpdateAll';\n        return jsData.utils.resolve(self[op](mapper, props, query, opts, response)).then(function (_response) {\n          // Allow for re-assignment from lifecycle hook\n          return jsData.utils.isUndefined(_response) ? response : _response;\n        });\n      });\n    },\n\n\n    /**\n     * Update the given records in a single batch. Called by `Mapper#updateMany`.\n     *\n     * @name Adapter#updateMany\n     * @method\n     * @param {Object} mapper The mapper.\n     * @param {Object[]} records The records to update.\n     * @param {Object} [opts] Configuration options.\n     * @param {boolean} [opts.raw=false] Whether to return a more detailed\n     * response object.\n     * @return {Promise}\n     */\n    updateMany: function updateMany(mapper, records, opts) {\n      var self = this;\n      records || (records = []);\n      opts || (opts = {});\n      var op = void 0;\n      var idAttribute = mapper.idAttribute;\n\n      records = records.filter(function (record) {\n        return jsData.utils.get(record, idAttribute);\n      });\n\n      // beforeUpdateMany lifecycle hook\n      op = opts.op = 'beforeUpdateMany';\n      return jsData.utils.resolve(self[op](mapper, records, opts)).then(function (_records) {\n        // Allow for re-assignment from lifecycle hook\n        records = jsData.utils.isUndefined(_records) ? records : _records;\n        records = records.map(function (record) {\n          return withoutRelations(mapper, record);\n        });\n        op = opts.op = 'updateMany';\n        self.dbg(op, mapper, records, opts);\n        return jsData.utils.resolve(self._updateMany(mapper, records, opts));\n      }).then(function (results) {\n        var _results11 = babelHelpers.slicedToArray(results, 2);\n\n        var data = _results11[0];\n        var result = _results11[1];\n\n        data || (data = []);\n        result || (result = {});\n        var response = new Response(data, result, 'updateMany');\n        response.updated = data.length;\n        response = self.respond(response, opts);\n\n        // afterUpdateMany lifecycle hook\n        op = opts.op = 'afterUpdateMany';\n        return jsData.utils.resolve(self[op](mapper, records, opts, response)).then(function (_response) {\n          // Allow for re-assignment from lifecycle hook\n          return jsData.utils.isUndefined(_response) ? response : _response;\n        });\n      });\n    }\n  });\n\n  module.exports = Adapter;\n\n}));\n//# sourceMappingURL=js-data-adapter.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/js-data-adapter/dist/js-data-adapter.js\n ** module id = 2\n ** module chunks = 0\n **/","var randHex = require('./randHex');\nvar choice = require('./choice');\n\n  /**\n   * Returns pseudo-random guid (UUID v4)\n   * IMPORTANT: it's not totally \"safe\" since randHex/choice uses Math.random\n   * by default and sequences can be predicted in some cases. See the\n   * \"random/random\" documentation for more info about it and how to replace\n   * the default PRNG.\n   */\n  function guid() {\n    return (\n        randHex(8)+'-'+\n        randHex(4)+'-'+\n        // v4 UUID always contain \"4\" at this position to specify it was\n        // randomly generated\n        '4' + randHex(3) +'-'+\n        // v4 UUID always contain chars [a,b,8,9] at this position\n        choice(8, 9, 'a', 'b') + randHex(3)+'-'+\n        randHex(12)\n    );\n  }\n  module.exports = guid;\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/mout/random/guid.js\n ** module id = 3\n ** module chunks = 0\n **/","var choice = require('./choice');\n\n    var _chars = '0123456789abcdef'.split('');\n\n    /**\n     * Returns a random hexadecimal string\n     */\n    function randHex(size){\n        size = size && size > 0? size : 6;\n        var str = '';\n        while (size--) {\n            str += choice(_chars);\n        }\n        return str;\n    }\n\n    module.exports = randHex;\n\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/mout/random/randHex.js\n ** module id = 4\n ** module chunks = 0\n **/","var randInt = require('./randInt');\nvar isArray = require('../lang/isArray');\n\n    /**\n     * Returns a random element from the supplied arguments\n     * or from the array (if single argument is an array).\n     */\n    function choice(items) {\n        var target = (arguments.length === 1 && isArray(items))? items : arguments;\n        return target[ randInt(0, target.length - 1) ];\n    }\n\n    module.exports = choice;\n\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/mout/random/choice.js\n ** module id = 5\n ** module chunks = 0\n **/","var MIN_INT = require('../number/MIN_INT');\nvar MAX_INT = require('../number/MAX_INT');\nvar rand = require('./rand');\n\n    /**\n     * Gets random integer inside range or snap to min/max values.\n     */\n    function randInt(min, max){\n        min = min == null? MIN_INT : ~~min;\n        max = max == null? MAX_INT : ~~max;\n        // can't be max + 0.5 otherwise it will round up if `rand`\n        // returns `max` causing it to overflow range.\n        // -0.5 and + 0.49 are required to avoid bias caused by rounding\n        return Math.round( rand(min - 0.5, max + 0.499999999999) );\n    }\n\n    module.exports = randInt;\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/mout/random/randInt.js\n ** module id = 6\n ** module chunks = 0\n **/","/**\n * @constant Minimum 32-bit signed integer value (-2^31).\n */\n\n    module.exports = -2147483648;\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/mout/number/MIN_INT.js\n ** module id = 7\n ** module chunks = 0\n **/","/**\n * @constant Maximum 32-bit signed integer value. (2^31 - 1)\n */\n\n    module.exports = 2147483647;\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/mout/number/MAX_INT.js\n ** module id = 8\n ** module chunks = 0\n **/","var random = require('./random');\nvar MIN_INT = require('../number/MIN_INT');\nvar MAX_INT = require('../number/MAX_INT');\n\n    /**\n     * Returns random number inside range\n     */\n    function rand(min, max){\n        min = min == null? MIN_INT : min;\n        max = max == null? MAX_INT : max;\n        return min + (max - min) * random();\n    }\n\n    module.exports = rand;\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/mout/random/rand.js\n ** module id = 9\n ** module chunks = 0\n **/","\n\n    /**\n     * Just a wrapper to Math.random. No methods inside mout/random should call\n     * Math.random() directly so we can inject the pseudo-random number\n     * generator if needed (ie. in case we need a seeded random or a better\n     * algorithm than the native one)\n     */\n    function random(){\n        return random.get();\n    }\n\n    // we expose the method so it can be swapped if needed\n    random.get = Math.random;\n\n    module.exports = random;\n\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/mout/random/random.js\n ** module id = 10\n ** module chunks = 0\n **/","var isKind = require('./isKind');\n    /**\n     */\n    var isArray = Array.isArray || function (val) {\n        return isKind(val, 'Array');\n    };\n    module.exports = isArray;\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/mout/lang/isArray.js\n ** module id = 11\n ** module chunks = 0\n **/","var kindOf = require('./kindOf');\n    /**\n     * Check if value is from a specific \"kind\".\n     */\n    function isKind(val, kind){\n        return kindOf(val) === kind;\n    }\n    module.exports = isKind;\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/mout/lang/isKind.js\n ** module id = 12\n ** module chunks = 0\n **/","\n\n    var _rKind = /^\\[object (.*)\\]$/,\n        _toString = Object.prototype.toString,\n        UNDEF;\n\n    /**\n     * Gets the \"kind\" of value. (e.g. \"String\", \"Number\", etc)\n     */\n    function kindOf(val) {\n        if (val === null) {\n            return 'Null';\n        } else if (val === UNDEF) {\n            return 'Undefined';\n        } else {\n            return _rKind.exec( _toString.call(val) )[1];\n        }\n    }\n    module.exports = kindOf;\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/mout/lang/kindOf.js\n ** module id = 13\n ** module chunks = 0\n **/"],"sourceRoot":""}