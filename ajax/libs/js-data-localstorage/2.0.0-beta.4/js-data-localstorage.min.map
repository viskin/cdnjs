{"version":3,"file":"js-data-localstorage.min.js","sources":["js-data-localstorage.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_1__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","enqueue","task","queue","push","dequeue","length","taskInProcess","queueTask","createTask","fn","DSUtils","Promise","then","result","shift","setTimeout","err","reject","_interopRequireWildcard","obj","__esModule","default","_createClass","defineProperties","target","props","i","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Constructor","protoProps","staticProps","prototype","_classCallCheck","instance","TypeError","value","_JSData","_JSData2","_omit","_omit2","_keys","_keys2","_guid","_guid2","emptyStore","DS","makePath","deepMixIn","toJson","fromJson","forEach","removeCircular","filter","defaults","defaultFilter","Defaults","basePath","DSLocalStorageAdapter","options","resourceConfig","name","getEndpoint","ids","undefined","idsPath","getPath","idsJson","localStorage","getItem","setItem","getIds","saveKeys","resolve","item","GET","removeItem","_this","getIdPath","Error","params","_this2","allowSimpleWhere","items","itemJson","attrs","_this3","idAttribute","PUT","relationFields","ensureId","_this4","_this5","findAll","tasks","update","all","_this6","DEL","removeId","_this7","destroy","omit","var_keys","keys","arguments","slice","out","property","hasOwnProperty","contains","forOwn","val","guid","randHex","choice","arr","start","end","len","Math","max","min","indexOf","thisObj","forIn","hasOwn","size","str","_chars","split","isArray","randInt","fromIndex","prop","checkDontEnum","_dontEnums","_hasDontEnumBug","toString","exec","ctor","constructor","isProto","MIN_INT","MAX_INT","round","rand","isKind","Array","random","kind","kindOf","get","UNDEF","_rKind","_toString"],"mappings":"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"}