{"version":3,"file":"js-data-localstorage.min.js","sources":["js-data-localstorage.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_1__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_classCallCheck","instance","Constructor","TypeError","enqueue","task","queue","push","dequeue","length","taskInProcess","queueTask","createTask","fn","DSUtils","Promise","then","result","shift","setTimeout","err","reject","_createClass","defineProperties","target","props","i","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","JSData","guid","emptyStore","DS","keys","omit","makePath","deepMixIn","toJson","fromJson","forEach","removeCircular","filter","defaults","defaultFilter","Defaults","basePath","DSLocalStorageAdapter","options","value","resourceConfig","name","endpoint","ids","undefined","idsPath","getPath","idsJson","localStorage","getItem","setItem","getIds","saveKeys","resolve","item","GET","removeItem","_this","getIdPath","Error","params","_this2","allowSimpleWhere","items","itemJson","attrs","_this3","idAttribute","PUT","relationFields","ensureId","_this4","_this5","findAll","tasks","update","all","_this6","DEL","removeId","_this7","destroy","randHex","choice","size","str","_chars","split","arguments","isArray","randInt","min","max","MIN_INT","MAX_INT","Math","round","rand","isKind","Array","val","kind","kindOf","random","get","UNDEF","_rKind","exec","_toString","toString"],"mappings":"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"}