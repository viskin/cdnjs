{"version":3,"file":"js-data-localstorage.min.js","sources":["js-data-localstorage.js"],"names":["root","factory","exports","module","require","e","define","amd","this","__WEBPACK_EXTERNAL_MODULE_1__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_createClass","defineProperties","target","props","key","prop","configurable","value","writable","Object","Constructor","protoProps","staticProps","prototype","_classCallCheck","instance","TypeError","JSData","undefined","window","Error","emptyStore","DS","DSUtils","makePath","deepMixIn","toJson","fromJson","forEach","removeCircular","filter","defaults","defaultFilter","omit","guid","keys","P","Promise","Defaults","basePath","DSLocalStorageAdapter","options","getPath","resourceConfig","name","getIdPath","getEndpoint","getIds","ids","idsPath","idsJson","localStorage","getItem","setItem","saveKeys","ensureId","removeId","GET","resolve","item","PUT","then","DEL","removeItem","find","reject","findAll","params","_this","allowSimpleWhere","items","itemJson","push","create","attrs","idAttribute","relationFields","update","updateAll","tasks","all","destroy","destroyAll","code","obj","arguments","slice","out","property","hasOwnProperty","contains","forOwn","val","randHex","choice","fn","thisObj","forIn","hasOwn","size","str","_chars","split","length","isArray","randInt","arr","start","end","len","Math","max","min","result","indexOf","checkDontEnum","_dontEnums","_hasDontEnumBug","toString","i","exec","ctor","constructor","isProto","MIN_INT","MAX_INT","round","rand","isKind","Array","fromIndex","random","kind","kindOf","get","UNDEF","_rKind","_toString"],"mappings":"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"}