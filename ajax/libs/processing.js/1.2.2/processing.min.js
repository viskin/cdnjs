(function(l,w,o,c){var g=function(){};var u=(function(){if("console" in l){return function(J){l.console.log("Processing.js: "+J)}}else{return g()}}());var s=function(J){var K=new XMLHttpRequest();K.open("GET",J,false);if(K.overrideMimeType){K.overrideMimeType("text/plain")}K.setRequestHeader("If-Modified-Since","Fri, 01 Jan 1960 00:00:00 GMT");K.send(null);if(K.status!==200&&K.status!==0){throw ("XMLHttpRequest failed, status code "+K.status)}return K.responseText};var I=("document" in this)&&!("fake" in this.document);function i(J,K){if(J in l){return l[J]}if(typeof l[K]==="function"){return l[K]}else{return function(M){if(M instanceof Array){return M}else{if(typeof M==="number"){var L=[];L.length=M;return L}}}}}var d=i("Float32Array","WebGLFloatArray"),m=i("Int32Array","WebGLIntArray"),z=i("Uint16Array","WebGLUnsignedShortArray"),q=i("Uint8Array","WebGLUnsignedByteArray");var j={X:0,Y:1,Z:2,R:3,G:4,B:5,A:6,U:7,V:8,NX:9,NY:10,NZ:11,EDGE:12,SR:13,SG:14,SB:15,SA:16,SW:17,TX:18,TY:19,TZ:20,VX:21,VY:22,VZ:23,VW:24,AR:25,AG:26,AB:27,DR:3,DG:4,DB:5,DA:6,SPR:28,SPG:29,SPB:30,SHINE:31,ER:32,EG:33,EB:34,BEEN_LIT:35,VERTEX_FIELD_COUNT:36,P2D:1,JAVA2D:1,WEBGL:2,P3D:2,OPENGL:2,PDF:0,DXF:0,OTHER:0,WINDOWS:1,MAXOSX:2,LINUX:3,EPSILON:0.0001,MAX_FLOAT:3.4028235e+38,MIN_FLOAT:-3.4028235e+38,MAX_INT:2147483647,MIN_INT:-2147483648,PI:o.PI,TWO_PI:2*o.PI,HALF_PI:o.PI/2,THIRD_PI:o.PI/3,QUARTER_PI:o.PI/4,DEG_TO_RAD:o.PI/180,RAD_TO_DEG:180/o.PI,WHITESPACE:" \t\n\r\f\u00A0",RGB:1,ARGB:2,HSB:3,ALPHA:4,CMYK:5,TIFF:0,TARGA:1,JPEG:2,GIF:3,BLUR:11,GRAY:12,INVERT:13,OPAQUE:14,POSTERIZE:15,THRESHOLD:16,ERODE:17,DILATE:18,REPLACE:0,BLEND:1<<0,ADD:1<<1,SUBTRACT:1<<2,LIGHTEST:1<<3,DARKEST:1<<4,DIFFERENCE:1<<5,EXCLUSION:1<<6,MULTIPLY:1<<7,SCREEN:1<<8,OVERLAY:1<<9,HARD_LIGHT:1<<10,SOFT_LIGHT:1<<11,DODGE:1<<12,BURN:1<<13,ALPHA_MASK:4278190080,RED_MASK:16711680,GREEN_MASK:65280,BLUE_MASK:255,CUSTOM:0,ORTHOGRAPHIC:2,PERSPECTIVE:3,POINT:2,POINTS:2,LINE:4,LINES:4,TRIANGLE:8,TRIANGLES:9,TRIANGLE_STRIP:10,TRIANGLE_FAN:11,QUAD:16,QUADS:16,QUAD_STRIP:17,POLYGON:20,PATH:21,RECT:30,ELLIPSE:31,ARC:32,SPHERE:40,BOX:41,GROUP:0,PRIMITIVE:1,GEOMETRY:3,VERTEX:0,BEZIER_VERTEX:1,CURVE_VERTEX:2,BREAK:3,CLOSESHAPE:4,OPEN:1,CLOSE:2,CORNER:0,CORNERS:1,RADIUS:2,CENTER_RADIUS:2,CENTER:3,DIAMETER:3,CENTER_DIAMETER:3,BASELINE:0,TOP:101,BOTTOM:102,NORMAL:1,NORMALIZED:1,IMAGE:2,MODEL:4,SHAPE:5,SQUARE:"butt",ROUND:"round",PROJECT:"square",MITER:"miter",BEVEL:"bevel",AMBIENT:0,DIRECTIONAL:1,SPOT:3,BACKSPACE:8,TAB:9,ENTER:10,RETURN:13,ESC:27,DELETE:127,CODED:65535,SHIFT:16,CONTROL:17,ALT:18,CAPSLK:20,PGUP:33,PGDN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLK:144,META:157,INSERT:155,ARROW:"default",CROSS:"crosshair",HAND:"pointer",MOVE:"move",TEXT:"text",WAIT:"wait",NOCURSOR:"url('data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=='), auto",DISABLE_OPENGL_2X_SMOOTH:1,ENABLE_OPENGL_2X_SMOOTH:-1,ENABLE_OPENGL_4X_SMOOTH:2,ENABLE_NATIVE_FONTS:3,DISABLE_DEPTH_TEST:4,ENABLE_DEPTH_TEST:-4,ENABLE_DEPTH_SORT:5,DISABLE_DEPTH_SORT:-5,DISABLE_OPENGL_ERROR_REPORT:6,ENABLE_OPENGL_ERROR_REPORT:-6,ENABLE_ACCURATE_TEXTURES:7,DISABLE_ACCURATE_TEXTURES:-7,HINT_COUNT:10,SINCOS_LENGTH:parseInt(360/0.5,10),PRECISIONB:15,PRECISIONF:1<<15,PREC_MAXVAL:(1<<15)-1,PREC_ALPHA_SHIFT:24-15,PREC_RED_SHIFT:16-15,NORMAL_MODE_AUTO:0,NORMAL_MODE_SHAPE:1,NORMAL_MODE_VERTEX:2,MAX_LIGHTS:8};function a(L){if(L.constructor===String){var K=0;for(var J=0;J<L.length;++J){K=(K*31+L.charCodeAt(J))&4294967295}return K}else{if(typeof(L)!=="object"){return L&4294967295}else{if(L.hashCode instanceof Function){return L.hashCode()}else{if(L.$id===c){L.$id=((o.floor(o.random()*65536)-32768)<<16)|o.floor(o.random()*65536)}return L.$id}}}}function v(K,J){if(K===null||J===null){return(K===null)&&(J===null)}else{if(K.constructor===String){return K===J}else{if(typeof(K)!=="object"){return K===J}else{if(K.equals instanceof Function){return K.equals(J)}else{return K===J}}}}}var e=function(K){if(K.iterator instanceof Function){return K.iterator()}else{if(K instanceof Array){var J=-1;this.hasNext=function(){return ++J<K.length};this.next=function(){return K[J]}}else{throw"Unable to iterate: "+K}}};var n=(function(){function K(M){var L=0;this.hasNext=function(){return L<M.length};this.next=function(){return M[L++]};this.remove=function(){M.splice(L,1)}}function J(){var L;if(arguments.length===0){L=[]}else{if(arguments.length>0&&typeof arguments[0]!=="number"){L=arguments[0].toArray()}else{L=[];L.length=0|arguments[0]}}this.get=function(M){return L[M]};this.contains=function(M){return this.indexOf(M)>-1};this.indexOf=function(O){for(var N=0,M=L.length;N<M;++N){if(v(O,L[N])){return N}}return -1};this.add=function(){if(arguments.length===1){L.push(arguments[0])}else{if(arguments.length===2){var M=arguments[0];if(typeof M==="number"){if(M>=0&&M<=L.length){L.splice(M,0,arguments[1])}else{throw (M+" is not a valid index")}}else{throw (typeof M+" is not a number")}}else{throw ("Please use the proper number of parameters.")}}};this.addAll=function(N,M){var O;if(typeof N==="number"){if(N<0||N>L.length){throw ("Index out of bounds for addAll: "+N+" greater or equal than "+L.length)}O=new e(M);while(O.hasNext()){L.splice(N++,0,O.next())}}else{O=new e(N);while(O.hasNext()){L.push(O.next())}}};this.set=function(){if(arguments.length===2){var M=arguments[0];if(typeof M==="number"){if(M>=0&&M<L.length){L.splice(M,1,arguments[1])}else{throw (M+" is not a valid index.")}}else{throw (typeof M+" is not a number")}}else{throw ("Please use the proper number of parameters.")}};this.size=function(){return L.length};this.clear=function(){L.length=0};this.remove=function(M){if(typeof M==="number"){return L.splice(M,1)[0]}else{M=this.indexOf(M);if(M>-1){L.splice(M,1);return true}return false}};this.isEmpty=function(){return !L.length};this.clone=function(){return new J(this)};this.toArray=function(){return L.slice(0)};this.iterator=function(){return new K(L)}}return J}());var F=(function(){function J(){if(arguments.length===1&&arguments[0].constructor===J){return arguments[0].clone()}var S=arguments.length>0?arguments[0]:16;var T=arguments.length>1?arguments[1]:0.75;var M=[];M.length=S;var O=0;var K=this;function Q(V){var U=a(V)%M.length;return U<0?M.length+U:U}function N(){if(O<=T*M.length){return}var X=[];for(var W=0;W<M.length;++W){if(M[W]!==c){X=X.concat(M[W])}}var Y=M.length*2;M=[];M.length=Y;for(var V=0;V<X.length;++V){var U=Q(X[V].key);var Z=M[U];if(Z===c){M[U]=Z=[]}Z.push(X[V])}}function L(Y,Z){var U=0;var X=-1;var W=false;function V(){while(!W){++X;if(U>=M.length){W=true}else{if(M[U]===c||X>=M[U].length){X=-1;++U}else{return}}}}this.hasNext=function(){return !W};this.next=function(){var aa=Y(M[U][X]);V();return aa};this.remove=function(){Z(this.next());--X};V()}function R(U,V,W){this.clear=function(){K.clear()};this.contains=function(X){return V(X)};this.containsAll=function(Y){var X=Y.iterator();while(X.hasNext()){if(!this.contains(X.next())){return false}}return true};this.isEmpty=function(){return K.isEmpty()};this.iterator=function(){return new L(U,W)};this.remove=function(X){if(this.contains(X)){W(X);return true}return false};this.removeAll=function(aa){var X=aa.iterator();var Z=false;while(X.hasNext()){var Y=X.next();if(this.contains(Y)){W(Y);Z=true}}return true};this.retainAll=function(ab){var Z=this.iterator();var Y=[];while(Z.hasNext()){var aa=Z.next();if(!ab.contains(aa)){Y.push(aa)}}for(var X=0;X<Y.length;++X){W(Y[X])}return Y.length>0};this.size=function(){return K.size()};this.toArray=function(){var X=[];var Y=this.iterator();while(Y.hasNext()){X.push(Y.next())}return X}}function P(U){this._isIn=function(V){return V===K&&(U.removed===c)};this.equals=function(V){return v(U.key,V.getKey())};this.getKey=function(){return U.key};this.getValue=function(){return U.value};this.hashCode=function(V){return a(U.key)};this.setValue=function(W){var V=U.value;U.value=W;return V}}this.clear=function(){O=0;M=[];M.length=S};this.clone=function(){var U=new J();U.putAll(this);return U};this.containsKey=function(W){var U=Q(W);var X=M[U];if(X===c){return false}for(var V=0;V<X.length;++V){if(v(X[V].key,W)){return true}}return false};this.containsValue=function(W){for(var V=0;V<M.length;++V){var X=M[V];if(X===c){continue}for(var U=0;U<X.length;++U){if(v(X[U].value,W)){return true}}}return false};this.entrySet=function(){return new R(function(U){return new P(U)},function(U){return U.constructor===P&&U._isIn(K)},function(U){return K.remove(U.getKey())})};this.get=function(W){var U=Q(W);var X=M[U];if(X===c){return null}for(var V=0;V<X.length;++V){if(v(X[V].key,W)){return X[V].value}}return null};this.isEmpty=function(){return O===0};this.keySet=function(){return new R(function(U){return U.key},function(U){return K.containsKey(U)},function(U){return K.remove(U)})};this.put=function(W,Y){var U=Q(W);var Z=M[U];if(Z===c){++O;M[U]=[{key:W,value:Y}];N();return null}for(var V=0;V<Z.length;++V){if(v(Z[V].key,W)){var X=Z[V].value;Z[V].value=Y;return X}}++O;Z.push({key:W,value:Y});N();return null};this.putAll=function(U){var V=U.entrySet().iterator();while(V.hasNext()){var W=V.next();this.put(W.getKey(),W.getValue())}};this.remove=function(W){var U=Q(W);var Y=M[U];if(Y===c){return null}for(var V=0;V<Y.length;++V){if(v(Y[V].key,W)){--O;var X=Y[V].value;Y[V].removed=true;if(Y.length>1){Y.splice(V,1)}else{M[U]=c}return X}}return null};this.size=function(){return O};this.values=function(){var U=[];var V=this.entrySet().iterator();while(V.hasNext()){var W=V.next();U.push(W.getValue())}return U}}return J}());var k=(function(){function J(O,Q,P){this.x=O||0;this.y=Q||0;this.z=P||0}function L(O){return function(R,Q){var P=R.get();P[O](Q);return P}}function N(O){return function(Q,P){return Q[O](P)}}var K="dist dot cross".split(" ");var M=K.length;J.angleBetween=function(P,O){return o.acos(P.dot(O)/(P.mag()*O.mag()))};J.prototype={set:function(O,Q,P){if(arguments.length===1){this.set(O.x||O[0]||0,O.y||O[1]||0,O.z||O[2]||0)}else{this.x=O;this.y=Q;this.z=P}},get:function(){return new J(this.x,this.y,this.z)},mag:function(){return o.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},add:function(O,Q,P){if(arguments.length===3){this.x+=O;this.y+=Q;this.z+=P}else{if(arguments.length===1){this.x+=O.x;this.y+=O.y;this.z+=O.z}}},sub:function(O,Q,P){if(arguments.length===3){this.x-=O;this.y-=Q;this.z-=P}else{if(arguments.length===1){this.x-=O.x;this.y-=O.y;this.z-=O.z}}},mult:function(O){if(typeof O==="number"){this.x*=O;this.y*=O;this.z*=O}else{if(typeof O==="object"){this.x*=O.x;this.y*=O.y;this.z*=O.z}}},div:function(O){if(typeof O==="number"){this.x/=O;this.y/=O;this.z/=O}else{if(typeof O==="object"){this.x/=O.x;this.y/=O.y;this.z/=O.z}}},dist:function(R){var Q=this.x-R.x,P=this.y-R.y,O=this.z-R.z;return o.sqrt(Q*Q+P*P+O*O)},dot:function(O,Q,P){if(arguments.length===3){return(this.x*O+this.y*Q+this.z*P)}else{if(arguments.length===1){return(this.x*O.x+this.y*O.y+this.z*O.z)}}},cross:function(O){return new J(this.y*O.z-O.y*this.z,this.z*O.x-O.z*this.x,this.x*O.y-O.x*this.y)},normalize:function(){var O=this.mag();if(O>0){this.div(O)}},limit:function(O){if(this.mag()>O){this.normalize();this.mult(O)}},heading2D:function(){return(-o.atan2(-this.y,this.x))},toString:function(){return"["+this.x+", "+this.y+", "+this.z+"]"},array:function(){return[this.x,this.y,this.z]}};while(M--){J[K[M]]=N(K[M])}for(M in J.prototype){if(J.prototype.hasOwnProperty(M)&&!J.hasOwnProperty(M)){J[M]=L(M)}}return J}());function D(){}D.prototype=j;var b=new D();b.ArrayList=n;b.HashMap=F;b.PVector=k;b.ObjectIterator=e;b.defineProperty=function(K,J,L){if("defineProperty" in Object){Object.defineProperty(K,J,L)}else{if(L.hasOwnProperty("get")){K.__defineGetter__(J,L.get)}if(L.hasOwnProperty("set")){K.__defineSetter__(J,L.set)}}};function A(M,L){function N(O){b.defineProperty(M,O,{get:function(){return L[O]},set:function(P){L[O]=P},enumerable:true})}var K=[];for(var J in L){if(typeof L[J]==="function"){if(!M.hasOwnProperty(J)){M[J]=L[J]}}else{if(J.charAt(0)!=="$"&&!(J in M)){K.push(J)}}}while(K.length>0){N(K.shift())}}b.extendClassChain=function(K){var L=[K];for(var J=K.$upcast;J;J=J.$upcast){A(J,K);L.push(J);K=J}while(L.length>0){L.pop().$self=K}};b.extendStaticMembers=function(J,K){A(J,K)};b.extendInterfaceMembers=function(J,K){A(J,K)};b.addMethod=function(M,L,O,N){if(M[L]){var K=O.length,J=M[L];M[L]=function(){if(arguments.length===K){return O.apply(this,arguments)}else{return J.apply(this,arguments)}}}else{M[L]=O}};b.createJavaArray=function(N,O){var K=null;if(typeof O[0]==="number"){var J=0|O[0];if(O.length<=1){K=[];K.length=J;for(var M=0;M<J;++M){K[M]=0}}else{K=[];var P=O.slice(1);for(var L=0;L<J;++L){K.push(b.createJavaArray(N,P))}}}return K};var p={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};var C=[];var f={};var G=function(J){C.splice(f[J],1);delete f[J]};var y=function(J){if(J.externals.canvas.id===c||!J.externals.canvas.id.length){J.externals.canvas.id="__processing"+C.length}f[J.externals.canvas.id]=C.length;C.push(J)};var E=this.Processing=function(Z,a3){if(!(this instanceof E)){throw ("called Processing constructor as if it were a function: missing 'new'.")}function dv(d6){E.debug("Unimplemented - "+d6)}var cU=this;var cT=(arguments.length===0);if(cT){Z=w.createElement("canvas")}cU.externals={canvas:Z,context:c,sketch:c};cU.name="Processing.js Instance";cU.use3DContext=false;cU.focused=false;cU.breakShape=false;cU.glyphTable={};cU.pmouseX=0;cU.pmouseY=0;cU.mouseX=0;cU.mouseY=0;cU.mouseButton=0;cU.mouseScroll=0;cU.mouseClicked=c;cU.mouseDragged=c;cU.mouseMoved=c;cU.mousePressed=c;cU.mouseReleased=c;cU.mouseScrolled=c;cU.mouseOver=c;cU.mouseOut=c;cU.touchStart=c;cU.touchEnd=c;cU.touchMove=c;cU.touchCancel=c;cU.key=c;cU.keyCode=c;cU.keyPressed=function(){};cU.keyReleased=function(){};cU.keyTyped=function(){};cU.draw=c;cU.setup=c;cU.__mousePressed=false;cU.__keyPressed=false;cU.__frameRate=60;cU.frameCount=0;cU.width=100;cU.height=100;var d3,cP,dU,bw=true,aD=true,bh=[1,1,1,1],aU=4294967295,an=true,b9=true,cY=[0.8,0.8,0.8,1],ct=4294835709,bY=true,dS=1,au=false,az=true,bZ=0,bE=j.CORNER,cL=j.CENTER,a1=0,a0=0,aY=0,aV=j.NORMAL_MODE_AUTO,cm=false,dQ=60,aw=1000/dQ,U=j.ARROW,ch=Z.style.cursor,dO=j.POLYGON,cg=0,d1=[],aF=0,M=20,cK=false,aW=-3355444,cw=20,bN=255,bC=255,bB=255,bz=255,cX=false,aG=false,cW=j.RGB,a7=null,dW=12,S={name:'"Arial", sans-serif',origName:"Arial"},d2=14,aX=false,dn=new Date().getTime(),dr=dn,L=0,cD,c2,aL,aH,br,b8,Q,cf=true,cM=true,bS=true,bJ=true,cB=true,ca=false,dz={attributes:{},locations:{}},dw,dN,bM,a9,cH,dj,ay,bX,a8,b3,ap,aC,bv,at,ab,c6,bL,cq={width:0,height:0},d0=j.IMAGE,dP=false,cG,X,O,J=j.LEFT,cZ=j.BASELINE,cr=0.2,al=j.MODEL,af,ck=null,dR=false,dZ,bV=1000,ac=[],dE=null,dT=[j.SHIFT,j.CONTROL,j.ALT,j.CAPSLK,j.PGUP,j.PGDN,j.END,j.HOME,j.LEFT,j.UP,j.RIGHT,j.DOWN,j.NUMLK,j.INSERT,j.F1,j.F2,j.F3,j.F4,j.F5,j.F6,j.F7,j.F8,j.F9,j.F10,j.F11,j.F12,j.META];var Y,dm,aO,bR;if(w.defaultView&&w.defaultView.getComputedStyle){Y=parseInt(w.defaultView.getComputedStyle(Z,null)["paddingLeft"],10)||0;dm=parseInt(w.defaultView.getComputedStyle(Z,null)["paddingTop"],10)||0;aO=parseInt(w.defaultView.getComputedStyle(Z,null)["borderLeftWidth"],10)||0;bR=parseInt(w.defaultView.getComputedStyle(Z,null)["borderTopWidth"],10)||0}var dI=0;var bF=0,bG=0,bm=[],bl=[],bk=[],ad=new d(j.SINCOS_LENGTH),bf=new d(j.SINCOS_LENGTH),cE,cy;var bP,cd,dL,du,dG,aN,ai,c9,W,db,am=false,ce=false,cI=60*(o.PI/180),dk=cU.width/2,di=cU.height/2,dh=di/o.tan(cI/2),aT=dh/10,ar=dh*10,b0=cU.width/cU.height;var a4=[],b6=[],c1=0,dM=false,V=false,ds=true;var N=j.CORNER;var be=[];var dg=new d([0.5,0.5,-0.5,0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,0.5,0.5,0.5,0.5,-0.5,0.5,0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,-0.5,0.5,0.5,-0.5,0.5,-0.5,-0.5,0.5,-0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,-0.5,0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,0.5,-0.5,-0.5,-0.5,-0.5,0.5,0.5,0.5,0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,0.5,0.5,0.5,0.5]);var bA=new d([0.5,0.5,0.5,0.5,-0.5,0.5,0.5,0.5,-0.5,0.5,-0.5,-0.5,-0.5,0.5,-0.5,-0.5,-0.5,-0.5,-0.5,0.5,0.5,-0.5,-0.5,0.5,0.5,0.5,0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,0.5,0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,0.5,-0.5,0.5]);var df=new d([0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0]);var ag=new d([0,0,0,0,1,0,1,1,0,1,0,0]);var ae=new d([0,0,1,0,0,1,0,0,1,0,0,1]);var bO="varying vec4 frontColor;attribute vec3 aVertex;attribute vec4 aColor;uniform mat4 uView;uniform mat4 uProjection;uniform float pointSize;void main(void) {  frontColor = aColor;  gl_PointSize = pointSize;  gl_Position = uProjection * uView * vec4(aVertex, 1.0);}";var bb="#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 frontColor;void main(void){  gl_FragColor = frontColor;}";var aa="varying vec4 frontColor;attribute vec3 Vertex;attribute vec2 aTextureCoord;uniform vec4 color;uniform mat4 model;uniform mat4 view;uniform mat4 projection;uniform float pointSize;varying vec2 vTextureCoord;void main(void) {  gl_PointSize = pointSize;  frontColor = color;  gl_Position = projection * view * model * vec4(Vertex, 1.0);  vTextureCoord = aTextureCoord;}";var bU="#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 frontColor;varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform int picktype;void main(void){  if(picktype == 0){    gl_FragColor = frontColor;  }  else if(picktype == 1){    float alpha = texture2D(uSampler, vTextureCoord).a;    gl_FragColor = vec4(frontColor.rgb*alpha, alpha);\n  }}";var bs=/Windows/.test(navigator.userAgent);var d4="varying vec4 frontColor;attribute vec3 Vertex;attribute vec3 Normal;attribute vec4 aColor;attribute vec2 aTexture;varying   vec2 vTexture;uniform vec4 color;uniform bool usingMat;uniform vec3 specular;uniform vec3 mat_emissive;uniform vec3 mat_ambient;uniform vec3 mat_specular;uniform float shininess;uniform mat4 model;uniform mat4 view;uniform mat4 projection;uniform mat4 normalTransform;uniform int lightCount;uniform vec3 falloff;struct Light {  int type;  vec3 color;  vec3 position;  vec3 direction;  float angle;  vec3 halfVector;  float concentration;};uniform Light lights0;uniform Light lights1;uniform Light lights2;uniform Light lights3;uniform Light lights4;uniform Light lights5;uniform Light lights6;uniform Light lights7;Light getLight(int index){  if(index == 0) return lights0;  if(index == 1) return lights1;  if(index == 2) return lights2;  if(index == 3) return lights3;  if(index == 4) return lights4;  if(index == 5) return lights5;  if(index == 6) return lights6;  return lights7;}void AmbientLight( inout vec3 totalAmbient, in vec3 ecPos, in Light light ) {  float d = length( light.position - ecPos );  float attenuation = 1.0 / ( falloff[0] + ( falloff[1] * d ) + ( falloff[2] * d * d ));  totalAmbient += light.color * attenuation;}void DirectionalLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float powerfactor = 0.0;  float nDotVP = max(0.0, dot( vertNormal, normalize(-light.position) ));  float nDotVH = max(0.0, dot( vertNormal, normalize(-light.position-normalize(ecPos) )));  if( nDotVP != 0.0 ){    powerfactor = pow( nDotVH, shininess );  }  col += light.color * nDotVP;  spec += specular * powerfactor;}void PointLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float powerfactor;   vec3 VP = light.position - ecPos;  float d = length( VP );   VP = normalize( VP );  float attenuation = 1.0 / ( falloff[0] + ( falloff[1] * d ) + ( falloff[2] * d * d ));  float nDotVP = max( 0.0, dot( vertNormal, VP ));  vec3 halfVector = normalize( VP - normalize(ecPos) );  float nDotHV = max( 0.0, dot( vertNormal, halfVector ));  if( nDotVP == 0.0) {    powerfactor = 0.0;  }  else{    powerfactor = pow( nDotHV, shininess );  }  spec += specular * powerfactor * attenuation;  col += light.color * nDotVP * attenuation;}void SpotLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float spotAttenuation;  float powerfactor;  vec3 VP = light.position - ecPos;   vec3 ldir = normalize( -light.direction );  float d = length( VP );  VP = normalize( VP );  float attenuation = 1.0 / ( falloff[0] + ( falloff[1] * d ) + ( falloff[2] * d * d ) );  float spotDot = dot( VP, ldir );"+(bs?"  spotAttenuation = 1.0; ":"  if( spotDot > cos( light.angle ) ) {    spotAttenuation = pow( spotDot, light.concentration );  }  else{    spotAttenuation = 0.0;  }  attenuation *= spotAttenuation;")+"  float nDotVP = max( 0.0, dot( vertNormal, VP ));  vec3 halfVector = normalize( VP - normalize(ecPos) );  float nDotHV = max( 0.0, dot( vertNormal, halfVector ));  if( nDotVP == 0.0 ) {    powerfactor = 0.0;  }  else {    powerfactor = pow( nDotHV, shininess );  }  spec += specular * powerfactor * attenuation;  col += light.color * nDotVP * attenuation;}void main(void) {  vec3 finalAmbient = vec3( 0.0, 0.0, 0.0 );  vec3 finalDiffuse = vec3( 0.0, 0.0, 0.0 );  vec3 finalSpecular = vec3( 0.0, 0.0, 0.0 );  vec4 col = color;  if(color[0] == -1.0){    col = aColor;  }  vec3 norm = normalize(vec3( normalTransform * vec4( Normal, 0.0 ) ));  vec4 ecPos4 = view * model * vec4(Vertex,1.0);  vec3 ecPos = (vec3(ecPos4))/ecPos4.w;  if( lightCount == 0 ) {    frontColor = col + vec4(mat_specular,1.0);  }  else {    for( int i = 0; i < 8; i++ ) {      Light l = getLight(i);      if( i >= lightCount ){        break;      }      if( l.type == 0 ) {        AmbientLight( finalAmbient, ecPos, l );      }      else if( l.type == 1 ) {        DirectionalLight( finalDiffuse, finalSpecular, norm, ecPos, l );      }      else if( l.type == 2 ) {        PointLight( finalDiffuse, finalSpecular, norm, ecPos, l );      }      else {        SpotLight( finalDiffuse, finalSpecular, norm, ecPos, l );      }    }   if( usingMat == false ) {     frontColor = vec4(       vec3(col) * finalAmbient +       vec3(col) * finalDiffuse +       vec3(col) * finalSpecular,       col[3] );   }   else{     frontColor = vec4(        mat_emissive +        (vec3(col) * mat_ambient * finalAmbient) +        (vec3(col) * finalDiffuse) +        (mat_specular * finalSpecular),        col[3] );    }  }  vTexture.xy = aTexture.xy;  gl_Position = projection * view * model * vec4( Vertex, 1.0 );}";var bD="#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 frontColor;uniform sampler2D sampler;uniform bool usingTexture;varying vec2 vTexture;void main(void){  if(usingTexture){    gl_FragColor =  vec4(texture2D(sampler, vTexture.xy));  }  else{    gl_FragColor = frontColor;  }}";function dY(d8,d7,ea,d9){var d6=dz.locations[d8];if(d6===c){d6=d3.getUniformLocation(d7,ea);dz.locations[d8]=d6}if(d6!==-1){if(d9.length===4){d3.uniform4fv(d6,d9)}else{if(d9.length===3){d3.uniform3fv(d6,d9)}else{if(d9.length===2){d3.uniform2fv(d6,d9)}else{d3.uniform1f(d6,d9)}}}}}function dV(d8,d7,ea,d9){var d6=dz.locations[d8];if(d6===c){d6=d3.getUniformLocation(d7,ea);dz.locations[d8]=d6}if(d6!==-1){if(d9.length===4){d3.uniform4iv(d6,d9)}else{if(d9.length===3){d3.uniform3iv(d6,d9)}else{if(d9.length===2){d3.uniform2iv(d6,d9)}else{d3.uniform1i(d6,d9)}}}}}function dc(ea,d8,eb,d7,d9){var d6=dz.attributes[ea];if(d6===c){d6=d3.getAttribLocation(d8,eb);dz.attributes[ea]=d6}if(d6!==-1){d3.bindBuffer(d3.ARRAY_BUFFER,d9);d3.vertexAttribPointer(d6,d7,d3.FLOAT,false,0,0);d3.enableVertexAttribArray(d6)}}function cc(d8,d7,d9){var d6=dz.attributes[d8];if(d6===c){d6=d3.getAttribLocation(d7,d9);dz.attributes[d8]=d6}if(d6!==-1){d3.disableVertexAttribArray(d6)}}function a2(ea,d8,eb,d9,d7){var d6=dz.locations[ea];if(d6===c){d6=d3.getUniformLocation(d8,eb);dz.locations[ea]=d6}if(d6!==-1){if(d7.length===16){d3.uniformMatrix4fv(d6,d9,d7)}else{if(d7.length===9){d3.uniformMatrix3fv(d6,d9,d7)}else{d3.uniformMatrix2fv(d6,d9,d7)}}}}var aS=function(d6,ea,d7,d9,d8){return{x:d6,y:ea,w:d7,h:d9}};var bd=aS;var bW=function(d6,ea,d7,d9,d8){return{x:d6,y:ea,w:d8?d7:d7-d6,h:d8?d9:d9-ea}};var aJ=function(d6,ea,d7,d9,d8){return{x:d6-d7/2,y:ea-d9/2,w:d7,h:d9}};var by=function(d8,ea,d7){var eb=d8.createShader(d8.VERTEX_SHADER);d8.shaderSource(eb,ea);d8.compileShader(eb);if(!d8.getShaderParameter(eb,d8.COMPILE_STATUS)){throw d8.getShaderInfoLog(eb)}var d9=d8.createShader(d8.FRAGMENT_SHADER);d8.shaderSource(d9,d7);d8.compileShader(d9);if(!d8.getShaderParameter(d9,d8.COMPILE_STATUS)){throw d8.getShaderInfoLog(d9)}var d6=d8.createProgram();d8.attachShader(d6,eb);d8.attachShader(d6,d9);d8.linkProgram(d6);if(!d8.getProgramParameter(d6,d8.LINK_STATUS)){throw"Error linking shaders."}return d6};var dq=function(){};var bK=function(){};var bu=function(){};var b5=function(){};bK.prototype=new dq();bK.prototype.constructor=bK;bu.prototype=new dq();bu.prototype.constructor=bu;b5.prototype=new dq();b5.prototype.constructor=b5;dq.prototype.a3DOnlyFunction=function(){};var ci={};var bI=cU.Character=function(d6){if(typeof d6==="string"&&d6.length===1){this.code=d6.charCodeAt(0)}else{if(typeof d6==="number"){this.code=d6}else{if(d6 instanceof bI){this.code=d6}else{this.code=NaN}}}return(ci[this.code]===c)?ci[this.code]=this:ci[this.code]};bI.prototype.toString=function(){return String.fromCharCode(this.code)};bI.prototype.valueOf=function(){return this.code};var K=cU.PShape=function(d6){this.family=d6||j.GROUP;this.visible=true;this.style=true;this.children=[];this.nameTable=[];this.params=[];this.name="";this.image=null;this.matrix=null;this.kind=null;this.close=null;this.width=null;this.height=null;this.parent=null};K.prototype={isVisible:function(){return this.visible},setVisible:function(d6){this.visible=d6},disableStyle:function(){this.style=false;for(var d7=0,d6=this.children.length;d7<d6;d7++){this.children[d7].disableStyle()}},enableStyle:function(){this.style=true;for(var d7=0,d6=this.children.length;d7<d6;d7++){this.children[d7].enableStyle()}},getFamily:function(){return this.family},getWidth:function(){return this.width},getHeight:function(){return this.height},setName:function(d6){this.name=d6},getName:function(){return this.name},draw:function(){if(this.visible){this.pre();this.drawImpl();this.post()}},drawImpl:function(){if(this.family===j.GROUP){this.drawGroup()}else{if(this.family===j.PRIMITIVE){this.drawPrimitive()}else{if(this.family===j.GEOMETRY){this.drawGeometry()}else{if(this.family===j.PATH){this.drawPath()}}}}},drawPath:function(){var d8,d7;if(this.vertices.length===0){return}cU.beginShape();if(this.vertexCodes.length===0){if(this.vertices[0].length===2){for(d8=0,d7=this.vertices.length;d8<d7;d8++){cU.vertex(this.vertices[d8][0],this.vertices[d8][1])}}else{for(d8=0,d7=this.vertices.length;d8<d7;d8++){cU.vertex(this.vertices[d8][0],this.vertices[d8][1],this.vertices[d8][2])}}}else{var d6=0;if(this.vertices[0].length===2){for(d8=0,d7=this.vertexCodes.length;d8<d7;d8++){if(this.vertexCodes[d8]===j.VERTEX){cU.vertex(this.vertices[d6][0],this.vertices[d6][1]);if(this.vertices[d6]["moveTo"]===true){a4[a4.length-1]["moveTo"]=true}else{if(this.vertices[d6]["moveTo"]===false){a4[a4.length-1]["moveTo"]=false}}cU.breakShape=false;d6++}else{if(this.vertexCodes[d8]===j.BEZIER_VERTEX){cU.bezierVertex(this.vertices[d6+0][0],this.vertices[d6+0][1],this.vertices[d6+1][0],this.vertices[d6+1][1],this.vertices[d6+2][0],this.vertices[d6+2][1]);d6+=3}else{if(this.vertexCodes[d8]===j.CURVE_VERTEX){cU.curveVertex(this.vertices[d6][0],this.vertices[d6][1]);d6++}else{if(this.vertexCodes[d8]===j.BREAK){cU.breakShape=true}}}}}}else{for(d8=0,d7=this.vertexCodes.length;d8<d7;d8++){if(this.vertexCodes[d8]===j.VERTEX){cU.vertex(this.vertices[d6][0],this.vertices[d6][1],this.vertices[d6][2]);if(this.vertices[d6]["moveTo"]===true){a4[a4.length-1]["moveTo"]=true}else{if(this.vertices[d6]["moveTo"]===false){a4[a4.length-1]["moveTo"]=false}}cU.breakShape=false}else{if(this.vertexCodes[d8]===j.BEZIER_VERTEX){cU.bezierVertex(this.vertices[d6+0][0],this.vertices[d6+0][1],this.vertices[d6+0][2],this.vertices[d6+1][0],this.vertices[d6+1][1],this.vertices[d6+1][2],this.vertices[d6+2][0],this.vertices[d6+2][1],this.vertices[d6+2][2]);d6+=3}else{if(this.vertexCodes[d8]===j.CURVE_VERTEX){cU.curveVertex(this.vertices[d6][0],this.vertices[d6][1],this.vertices[d6][2]);d6++}else{if(this.vertexCodes[d8]===j.BREAK){cU.breakShape=true}}}}}}}cU.endShape(this.close?j.CLOSE:j.OPEN)},drawGeometry:function(){var d8,d7;cU.beginShape(this.kind);if(this.style){for(d8=0,d7=this.vertices.length;d8<d7;d8++){cU.vertex(this.vertices[d8])}}else{for(d8=0,d7=this.vertices.length;d8<d7;d8++){var d6=this.vertices[d8];if(d6[2]===0){cU.vertex(d6[0],d6[1])}else{cU.vertex(d6[0],d6[1],d6[2])}}}cU.endShape()},drawGroup:function(){for(var d7=0,d6=this.children.length;d7<d6;d7++){this.children[d7].draw()}},drawPrimitive:function(){if(this.kind===j.POINT){cU.point(this.params[0],this.params[1])}else{if(this.kind===j.LINE){if(this.params.length===4){cU.line(this.params[0],this.params[1],this.params[2],this.params[3])}else{cU.line(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5])}}else{if(this.kind===j.TRIANGLE){cU.triangle(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5])}else{if(this.kind===j.QUAD){cU.quad(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5],this.params[6],this.params[7])}else{if(this.kind===j.RECT){if(this.image!==null){cU.imageMode(j.CORNER);cU.image(this.image,this.params[0],this.params[1],this.params[2],this.params[3])}else{cU.rectMode(j.CORNER);cU.rect(this.params[0],this.params[1],this.params[2],this.params[3])}}else{if(this.kind===j.ELLIPSE){cU.ellipseMode(j.CORNER);cU.ellipse(this.params[0],this.params[1],this.params[2],this.params[3])}else{if(this.kind===j.ARC){cU.ellipseMode(j.CORNER);cU.arc(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5])}else{if(this.kind===j.BOX){if(this.params.length===1){cU.box(this.params[0])}else{cU.box(this.params[0],this.params[1],this.params[2])}}else{if(this.kind===j.SPHERE){cU.sphere(this.params[0])}}}}}}}}}},pre:function(){if(this.matrix){cU.pushMatrix();d3.transform(this.matrix.elements[0],this.matrix.elements[3],this.matrix.elements[1],this.matrix.elements[4],this.matrix.elements[2],this.matrix.elements[5])}if(this.style){cU.pushStyle();this.styles()}},post:function(){if(this.matrix){cU.popMatrix()}if(this.style){cU.popStyle()}},styles:function(){if(this.stroke){cU.stroke(this.strokeColor);cU.strokeWeight(this.strokeWeight);cU.strokeCap(this.strokeCap);cU.strokeJoin(this.strokeJoin)}else{cU.noStroke()}if(this.fill){cU.fill(this.fillColor)}else{cU.noFill()}},getChild:function(d9){var d7,d6;if(typeof d9==="number"){return this.children[d9]}else{var d8;if(d9===""||this.name===d9){return this}else{if(this.nameTable.length>0){for(d7=0,d6=this.nameTable.length;d7<d6||d8;d7++){if(this.nameTable[d7].getName===d9){d8=this.nameTable[d7]}}if(d8){return d8}}for(d7=0,d6=this.children.length;d7<d6;d7++){d8=this.children[d7].getChild(d9);if(d8){return d8}}}return null}},getChildCount:function(){return this.children.length},addChild:function(d6){this.children.push(d6);d6.parent=this;if(d6.getName()!==null){this.addName(d6.getName(),d6)}},addName:function(d7,d6){if(this.parent!==null){this.parent.addName(d7,d6)}else{this.nameTable.push([d7,d6])}},translate:function(){if(arguments.length===2){this.checkMatrix(2);this.matrix.translate(arguments[0],arguments[1])}else{this.checkMatrix(3);this.matrix.translate(arguments[0],arguments[1],0)}},checkMatrix:function(d6){if(this.matrix===null){if(d6===2){this.matrix=new cU.PMatrix2D()}else{this.matrix=new cU.PMatrix3D()}}else{if(d6===3&&this.matrix instanceof cU.PMatrix2D){this.matrix=new cU.PMatrix3D()}}},rotateX:function(d6){this.rotate(d6,1,0,0)},rotateY:function(d6){this.rotate(d6,0,1,0)},rotateZ:function(d6){this.rotate(d6,0,0,1)},rotate:function(){if(arguments.length===1){this.checkMatrix(2);this.matrix.rotate(arguments[0])}else{this.checkMatrix(3);this.matrix.rotate(arguments[0],arguments[1],arguments[2],arguments[3])}},scale:function(){if(arguments.length===2){this.checkMatrix(2);this.matrix.scale(arguments[0],arguments[1])}else{if(arguments.length===3){this.checkMatrix(2);this.matrix.scale(arguments[0],arguments[1],arguments[2])}else{this.checkMatrix(2);this.matrix.scale(arguments[0])}}},resetMatrix:function(){this.checkMatrix(2);this.matrix.reset()},applyMatrix:function(d6){if(arguments.length===1){this.applyMatrix(d6.elements[0],d6.elements[1],0,d6.elements[2],d6.elements[3],d6.elements[4],0,d6.elements[5],0,0,1,0,0,0,0,1)}else{if(arguments.length===6){this.checkMatrix(2);this.matrix.apply(arguments[0],arguments[1],arguments[2],0,arguments[3],arguments[4],arguments[5],0,0,0,1,0,0,0,0,1)}else{if(arguments.length===16){this.checkMatrix(3);this.matrix.apply(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15])}}}}};var cp=cU.PShapeSVG=function(){cU.PShape.call(this);if(arguments.length===1){this.element=arguments[0];this.vertexCodes=[];this.vertices=[];this.opacity=1;this.stroke=false;this.strokeColor=j.ALPHA_MASK;this.strokeWeight=1;this.strokeCap=j.SQUARE;this.strokeJoin=j.MITER;this.strokeGradient=null;this.strokeGradientPaint=null;this.strokeName=null;this.strokeOpacity=1;this.fill=true;this.fillColor=j.ALPHA_MASK;this.fillGradient=null;this.fillGradientPaint=null;this.fillName=null;this.fillOpacity=1;if(this.element.getName()!=="svg"){throw ("root is not <svg>, it's <"+this.element.getName()+">")}}else{if(arguments.length===2){if(typeof arguments[1]==="string"){if(arguments[1].indexOf(".svg")>-1){this.element=new cU.XMLElement(null,arguments[1]);this.vertexCodes=[];this.vertices=[];this.opacity=1;this.stroke=false;this.strokeColor=j.ALPHA_MASK;this.strokeWeight=1;this.strokeCap=j.SQUARE;this.strokeJoin=j.MITER;this.strokeGradient="";this.strokeGradientPaint="";this.strokeName="";this.strokeOpacity=1;this.fill=true;this.fillColor=j.ALPHA_MASK;this.fillGradient=null;this.fillGradientPaint=null;this.fillOpacity=1}}else{if(arguments[0]){this.element=arguments[1];this.vertexCodes=arguments[0].vertexCodes.slice();this.vertices=arguments[0].vertices.slice();this.stroke=arguments[0].stroke;this.strokeColor=arguments[0].strokeColor;this.strokeWeight=arguments[0].strokeWeight;this.strokeCap=arguments[0].strokeCap;this.strokeJoin=arguments[0].strokeJoin;this.strokeGradient=arguments[0].strokeGradient;this.strokeGradientPaint=arguments[0].strokeGradientPaint;this.strokeName=arguments[0].strokeName;this.fill=arguments[0].fill;this.fillColor=arguments[0].fillColor;this.fillGradient=arguments[0].fillGradient;this.fillGradientPaint=arguments[0].fillGradientPaint;this.fillName=arguments[0].fillName;this.strokeOpacity=arguments[0].strokeOpacity;this.fillOpacity=arguments[0].fillOpacity;this.opacity=arguments[0].opacity}}}}this.name=this.element.getStringAttribute("id");var d6=this.element.getStringAttribute("display","inline");this.visible=d6!=="none";var eb=this.element.getAttribute("transform");if(eb){this.matrix=this.parseMatrix(eb)}var d8=this.element.getStringAttribute("viewBox");if(d8!==null){var ea=d8.split(" ");this.width=ea[2];this.height=ea[3]}var d7=this.element.getStringAttribute("width");var d9=this.element.getStringAttribute("height");if(d7!==null){this.width=this.parseUnitSize(d7);this.height=this.parseUnitSize(d9)}else{if((this.width===0)||(this.height===0)){this.width=1;this.height=1;throw ("The width and/or height is not readable in the <svg> tag of this file.")}}this.parseColors(this.element);this.parseChildren(this.element)};cp.prototype=new K();cp.prototype.parseMatrix=(function(){function d6(d8){var d7=[];d8.replace(/\((.*?)\)/,(function(){return function(d9,ea){d7=ea.replace(/,+/g," ").split(/\s+/)}}()));return d7}return function(ee){this.checkMatrix(2);var d7=[];ee.replace(/\s*(\w+)\((.*?)\)/g,function(eh){d7.push(cU.trim(eh))});if(d7.length===0){return null}for(var ec=0,ea=d7.length;ec<ea;ec++){var d8=d6(d7[ec]);if(d7[ec].indexOf("matrix")!==-1){this.matrix.set(d8[0],d8[2],d8[4],d8[1],d8[3],d8[5])}else{if(d7[ec].indexOf("translate")!==-1){var ed=d8[0];var eb=(d8.length===2)?d8[1]:0;this.matrix.translate(ed,eb)}else{if(d7[ec].indexOf("scale")!==-1){var eg=d8[0];var ef=(d8.length===2)?d8[1]:d8[0];this.matrix.scale(eg,ef)}else{if(d7[ec].indexOf("rotate")!==-1){var d9=d8[0];if(d8.length===1){this.matrix.rotate(cU.radians(d9))}else{if(d8.length===3){this.matrix.translate(d8[1],d8[2]);this.matrix.rotate(cU.radians(d8[0]));this.matrix.translate(-d8[1],-d8[2])}}}else{if(d7[ec].indexOf("skewX")!==-1){this.matrix.skewX(parseFloat(d8[0]))}else{if(d7[ec].indexOf("skewY")!==-1){this.matrix.skewY(d8[0])}}}}}}}return this.matrix}}());cp.prototype.parseChildren=function(eb){var d7=eb.getChildren();var ea=new cU.PShape();for(var d9=0,d8=d7.length;d9<d8;d9++){var d6=this.parseChild(d7[d9]);if(d6){ea.addChild(d6)}}this.children.push(ea)};cp.prototype.getName=function(){return this.name};cp.prototype.parseChild=function(d8){var d7=d8.getName();var d6;if(d7==="g"){d6=new cp(this,d8)}else{if(d7==="defs"){d6=new cp(this,d8)}else{if(d7==="line"){d6=new cp(this,d8);d6.parseLine()}else{if(d7==="circle"){d6=new cp(this,d8);d6.parseEllipse(true)}else{if(d7==="ellipse"){d6=new cp(this,d8);d6.parseEllipse(false)}else{if(d7==="rect"){d6=new cp(this,d8);d6.parseRect()}else{if(d7==="polygon"){d6=new cp(this,d8);d6.parsePoly(true)}else{if(d7==="polyline"){d6=new cp(this,d8);d6.parsePoly(false)}else{if(d7==="path"){d6=new cp(this,d8);d6.parsePath()}else{if(d7==="radialGradient"){dv("PShapeSVG.prototype.parseChild, name = radialGradient")}else{if(d7==="linearGradient"){dv("PShapeSVG.prototype.parseChild, name = linearGradient")}else{if(d7==="text"){dv("PShapeSVG.prototype.parseChild, name = text")}else{if(d7==="filter"){dv("PShapeSVG.prototype.parseChild, name = filter")}else{if(d7==="mask"){dv("PShapeSVG.prototype.parseChild, name = mask")}else{g()}}}}}}}}}}}}}}return d6};cp.prototype.parsePath=function(){this.family=j.PATH;this.kind=0;var eb=[];var ev;var eu=cU.trim(this.element.getStringAttribute("d").replace(/[\s,]+/g," "));if(eu===null){return}eu=cU.__toCharArray(eu);var d9=0,d8=0,eg=0,ee=0,ef=0,ed=0,em=0,el=0,d7=0,d6=0,ei=0,eh=0,ek=0,ej=0,et=0,ep=0;var en="";var er=[];var es=false;var ec;var ea;var eq,eo;while(et<eu.length){ep=eu[et].valueOf();if((ep>=65&&ep<=90)||(ep>=97&&ep<=122)){eq=et;et++;if(et<eu.length){er=[];ep=eu[et].valueOf();while(!((ep>=65&&ep<=90)||(ep>=97&&ep<=100)||(ep>=102&&ep<=122))&&es===false){if(ep===32){if(en!==""){er.push(parseFloat(en));en=""}et++}else{if(ep===45){if(eu[et-1].valueOf()===101){en+=eu[et].toString();et++}else{if(en!==""){er.push(parseFloat(en))}en=eu[et].toString();et++}}else{en+=eu[et].toString();et++}}if(et===eu.length){es=true}else{ep=eu[et].valueOf()}}}if(en!==""){er.push(parseFloat(en));en=""}ea=eu[eq];ep=ea.valueOf();if(ep===77){if(er.length>=2&&er.length%2===0){d9=er[0];d8=er[1];this.parsePathMoveto(d9,d8);if(er.length>2){for(eq=2,eo=er.length;eq<eo;eq+=2){d9=er[eq];d8=er[eq+1];this.parsePathLineto(d9,d8)}}}}else{if(ep===109){if(er.length>=2&&er.length%2===0){d9+=er[0];d8+=er[1];this.parsePathMoveto(d9,d8);if(er.length>2){for(eq=2,eo=er.length;eq<eo;eq+=2){d9+=er[eq];d8+=er[eq+1];this.parsePathLineto(d9,d8)}}}}else{if(ep===76){if(er.length>=2&&er.length%2===0){for(eq=0,eo=er.length;eq<eo;eq+=2){d9=er[eq];d8=er[eq+1];this.parsePathLineto(d9,d8)}}}else{if(ep===108){if(er.length>=2&&er.length%2===0){for(eq=0,eo=er.length;eq<eo;eq+=2){d9+=er[eq];d8+=er[eq+1];this.parsePathLineto(d9,d8)}}}else{if(ep===72){for(eq=0,eo=er.length;eq<eo;eq++){d9=er[eq];this.parsePathLineto(d9,d8)}}else{if(ep===104){for(eq=0,eo=er.length;eq<eo;eq++){d9+=er[eq];this.parsePathLineto(d9,d8)}}else{if(ep===86){for(eq=0,eo=er.length;eq<eo;eq++){d8=er[eq];this.parsePathLineto(d9,d8)}}else{if(ep===118){for(eq=0,eo=er.length;eq<eo;eq++){d8+=er[eq];this.parsePathLineto(d9,d8)}}else{if(ep===67){if(er.length>=6&&er.length%6===0){for(eq=0,eo=er.length;eq<eo;eq+=6){ef=er[eq];em=er[eq+1];ed=er[eq+2];el=er[eq+3];d7=er[eq+4];d6=er[eq+5];this.parsePathCurveto(ef,em,ed,el,d7,d6);d9=d7;d8=d6}}}else{if(ep===99){if(er.length>=6&&er.length%6===0){for(eq=0,eo=er.length;eq<eo;eq+=6){ef=d9+er[eq];em=d8+er[eq+1];ed=d9+er[eq+2];el=d8+er[eq+3];d7=d9+er[eq+4];d6=d8+er[eq+5];this.parsePathCurveto(ef,em,ed,el,d7,d6);d9=d7;d8=d6}}}else{if(ep===83){if(er.length>=4&&er.length%4===0){for(eq=0,eo=er.length;eq<eo;eq+=4){if(ec.toLowerCase()==="c"||ec.toLowerCase()==="s"){ei=this.vertices[this.vertices.length-2][0];eh=this.vertices[this.vertices.length-2][1];ek=this.vertices[this.vertices.length-1][0];ej=this.vertices[this.vertices.length-1][1];ef=ek+(ek-ei);em=ej+(ej-eh)}else{ef=this.vertices[this.vertices.length-1][0];em=this.vertices[this.vertices.length-1][1]}ed=er[eq];el=er[eq+1];d7=er[eq+2];d6=er[eq+3];this.parsePathCurveto(ef,em,ed,el,d7,d6);d9=d7;d8=d6}}}else{if(ep===115){if(er.length>=4&&er.length%4===0){for(eq=0,eo=er.length;eq<eo;eq+=4){if(ec.toLowerCase()==="c"||ec.toLowerCase()==="s"){ei=this.vertices[this.vertices.length-2][0];eh=this.vertices[this.vertices.length-2][1];ek=this.vertices[this.vertices.length-1][0];ej=this.vertices[this.vertices.length-1][1];ef=ek+(ek-ei);em=ej+(ej-eh)}else{ef=this.vertices[this.vertices.length-1][0];em=this.vertices[this.vertices.length-1][1]}ed=d9+er[eq];el=d8+er[eq+1];d7=d9+er[eq+2];d6=d8+er[eq+3];this.parsePathCurveto(ef,em,ed,el,d7,d6);d9=d7;d8=d6}}}else{if(ep===81){if(er.length>=4&&er.length%4===0){for(eq=0,eo=er.length;eq<eo;eq+=4){eg=er[eq];ee=er[eq+1];d7=er[eq+2];d6=er[eq+3];this.parsePathQuadto(d9,d8,eg,ee,d7,d6);d9=d7;d8=d6}}}else{if(ep===113){if(er.length>=4&&er.length%4===0){for(eq=0,eo=er.length;eq<eo;eq+=4){eg=d9+er[eq];ee=d8+er[eq+1];d7=d9+er[eq+2];d6=d8+er[eq+3];this.parsePathQuadto(d9,d8,eg,ee,d7,d6);d9=d7;d8=d6}}}else{if(ep===84){if(er.length>=2&&er.length%2===0){for(eq=0,eo=er.length;eq<eo;eq+=2){if(ec.toLowerCase()==="q"||ec.toLowerCase()==="t"){ei=this.vertices[this.vertices.length-2][0];eh=this.vertices[this.vertices.length-2][1];ek=this.vertices[this.vertices.length-1][0];ej=this.vertices[this.vertices.length-1][1];eg=ek+(ek-ei);ee=ej+(ej-eh)}else{eg=d9;ee=d8}d7=er[eq];d6=er[eq+1];this.parsePathQuadto(d9,d8,eg,ee,d7,d6);d9=d7;d8=d6}}}else{if(ep===116){if(er.length>=2&&er.length%2===0){for(eq=0,eo=er.length;eq<eo;eq+=2){if(ec.toLowerCase()==="q"||ec.toLowerCase()==="t"){ei=this.vertices[this.vertices.length-2][0];eh=this.vertices[this.vertices.length-2][1];ek=this.vertices[this.vertices.length-1][0];ej=this.vertices[this.vertices.length-1][1];eg=ek+(ek-ei);ee=ej+(ej-eh)}else{eg=d9;ee=d8}d7=d9+er[eq];d6=d8+er[eq+1];this.parsePathQuadto(d9,d8,eg,ee,d7,d6);d9=d7;d8=d6}}}else{if(ep===90){g()}else{if(ep===122){this.close=true}}}}}}}}}}}}}}}}}}ec=ea.toString()}else{et++}}};cp.prototype.parsePathQuadto=function(d8,ea,d6,eb,d7,d9){if(this.vertices.length>0){this.parsePathCode(j.BEZIER_VERTEX);this.parsePathVertex(d8+((d6-d8)*2/3),ea+((eb-ea)*2/3));this.parsePathVertex(d7+((d6-d7)*2/3),d9+((eb-d9)*2/3));this.parsePathVertex(d7,d9)}else{throw ("Path must start with M/m")}};cp.prototype.parsePathCurveto=function(d9,eb,d7,ea,d6,d8){if(this.vertices.length>0){this.parsePathCode(j.BEZIER_VERTEX);this.parsePathVertex(d9,eb);this.parsePathVertex(d7,ea);this.parsePathVertex(d6,d8)}else{throw ("Path must start with M/m")}};cp.prototype.parsePathLineto=function(d7,d6){if(this.vertices.length>0){this.parsePathCode(j.VERTEX);this.parsePathVertex(d7,d6);this.vertices[this.vertices.length-1]["moveTo"]=false}else{throw ("Path must start with M/m")}};cp.prototype.parsePathMoveto=function(d7,d6){if(this.vertices.length>0){this.parsePathCode(j.BREAK)}this.parsePathCode(j.VERTEX);this.parsePathVertex(d7,d6);this.vertices[this.vertices.length-1]["moveTo"]=true};cp.prototype.parsePathVertex=function(d6,d8){var d7=[];d7[0]=d6;d7[1]=d8;this.vertices.push(d7)};cp.prototype.parsePathCode=function(d6){this.vertexCodes.push(d6)};cp.prototype.parsePoly=function(ea){this.family=j.PATH;this.close=ea;var d7=cU.trim(this.element.getStringAttribute("points").replace(/[,\s]+/g," "));if(d7!==null){var d6=d7.split(" ");if(d6.length%2===0){for(var d9=0,d8=d6.length;d9<d8;d9++){var eb=[];eb[0]=d6[d9];eb[1]=d6[++d9];this.vertices.push(eb)}}else{throw ("Error parsing polygon points: odd number of coordinates provided")}}};cp.prototype.parseRect=function(){this.kind=j.RECT;this.family=j.PRIMITIVE;this.params=[];this.params[0]=this.element.getFloatAttribute("x");this.params[1]=this.element.getFloatAttribute("y");this.params[2]=this.element.getFloatAttribute("width");this.params[3]=this.element.getFloatAttribute("height");if(this.params[2]<0||this.params[3]<0){throw ("svg error: negative width or height found while parsing <rect>")}};cp.prototype.parseEllipse=function(d8){this.kind=j.ELLIPSE;this.family=j.PRIMITIVE;this.params=[];this.params[0]=this.element.getFloatAttribute("cx")|0;this.params[1]=this.element.getFloatAttribute("cy")|0;var d7,d6;if(d8){d7=d6=this.element.getFloatAttribute("r");if(d7<0){throw ("svg error: negative radius found while parsing <circle>")}}else{d7=this.element.getFloatAttribute("rx");d6=this.element.getFloatAttribute("ry");if(d7<0||d6<0){throw ("svg error: negative x-axis radius or y-axis radius found while parsing <ellipse>")}}this.params[0]-=d7;this.params[1]-=d6;this.params[2]=d7*2;this.params[3]=d6*2};cp.prototype.parseLine=function(){this.kind=j.LINE;this.family=j.PRIMITIVE;this.params=[];this.params[0]=this.element.getFloatAttribute("x1");this.params[1]=this.element.getFloatAttribute("y1");this.params[2]=this.element.getFloatAttribute("x2");this.params[3]=this.element.getFloatAttribute("y2")};cp.prototype.parseColors=function(d8){if(d8.hasAttribute("opacity")){this.setOpacity(d8.getAttribute("opacity"))}if(d8.hasAttribute("stroke")){this.setStroke(d8.getAttribute("stroke"))}if(d8.hasAttribute("stroke-width")){this.setStrokeWeight(d8.getAttribute("stroke-width"))}if(d8.hasAttribute("stroke-linejoin")){this.setStrokeJoin(d8.getAttribute("stroke-linejoin"))}if(d8.hasAttribute("stroke-linecap")){this.setStrokeCap(d8.getStringAttribute("stroke-linecap"))}if(d8.hasAttribute("fill")){this.setFill(d8.getStringAttribute("fill"))}if(d8.hasAttribute("style")){var eb=d8.getStringAttribute("style");var d9=eb.toString().split(";");for(var d7=0,d6=d9.length;d7<d6;d7++){var ea=cU.trim(d9[d7].split(":"));if(ea[0]==="fill"){this.setFill(ea[1])}else{if(ea[0]==="fill-opacity"){this.setFillOpacity(ea[1])}else{if(ea[0]==="stroke"){this.setStroke(ea[1])}else{if(ea[0]==="stroke-width"){this.setStrokeWeight(ea[1])}else{if(ea[0]==="stroke-linecap"){this.setStrokeCap(ea[1])}else{if(ea[0]==="stroke-linejoin"){this.setStrokeJoin(ea[1])}else{if(ea[0]==="stroke-opacity"){this.setStrokeOpacity(ea[1])}else{if(ea[0]==="opacity"){this.setOpacity(ea[1])}}}}}}}}}}};cp.prototype.setFillOpacity=function(d6){this.fillOpacity=parseFloat(d6);this.fillColor=this.fillOpacity*255<<24|this.fillColor&16777215};cp.prototype.setFill=function(d6){var d7=this.fillColor&4278190080;if(d6==="none"){this.fill=false}else{if(d6.indexOf("#")===0){this.fill=true;if(d6.length===4){d6=d6.replace(/#(.)(.)(.)/,"#$1$1$2$2$3$3")}this.fillColor=d7|(parseInt(d6.substring(1),16))&16777215}else{if(d6.indexOf("rgb")===0){this.fill=true;this.fillColor=d7|this.parseRGB(d6)}else{if(d6.indexOf("url(#")===0){this.fillName=d6.substring(5,d6.length-1)}else{if(p[d6]){this.fill=true;this.fillColor=d7|(parseInt(p[d6].substring(1),16))&16777215}}}}}};cp.prototype.setOpacity=function(d6){this.strokeColor=parseFloat(d6)*255<<24|this.strokeColor&16777215;this.fillColor=parseFloat(d6)*255<<24|this.fillColor&16777215};cp.prototype.setStroke=function(d6){var d7=this.strokeColor&4278190080;if(d6==="none"){this.stroke=false}else{if(d6.charAt(0)==="#"){this.stroke=true;if(d6.length===4){d6=d6.replace(/#(.)(.)(.)/,"#$1$1$2$2$3$3")}this.strokeColor=d7|(parseInt(d6.substring(1),16))&16777215}else{if(d6.indexOf("rgb")===0){this.stroke=true;this.strokeColor=d7|this.parseRGB(d6)}else{if(d6.indexOf("url(#")===0){this.strokeName=d6.substring(5,d6.length-1)}else{if(p[d6]){this.stroke=true;this.strokeColor=d7|(parseInt(p[d6].substring(1),16))&16777215}}}}}};cp.prototype.setStrokeWeight=function(d6){this.strokeWeight=this.parseUnitSize(d6)};cp.prototype.setStrokeJoin=function(d6){if(d6==="miter"){this.strokeJoin=j.MITER}else{if(d6==="round"){this.strokeJoin=j.ROUND}else{if(d6==="bevel"){this.strokeJoin=j.BEVEL}}}};cp.prototype.setStrokeCap=function(d6){if(d6==="butt"){this.strokeCap=j.SQUARE}else{if(d6==="round"){this.strokeCap=j.ROUND}else{if(d6==="square"){this.strokeCap=j.PROJECT}}}};cp.prototype.setStrokeOpacity=function(d6){this.strokeOpacity=parseFloat(d6);this.strokeColor=this.strokeOpacity*255<<24|this.strokeColor&16777215};cp.prototype.parseRGB=function(d7){var d8=d7.substring(d7.indexOf("(")+1,d7.indexOf(")"));var d6=d8.split(", ");return(d6[0]<<16)|(d6[1]<<8)|(d6[2])};cp.prototype.parseUnitSize=function(d7){var d6=d7.length-2;if(d6<0){return d7}if(d7.indexOf("pt")===d6){return parseFloat(d7.substring(0,d6))*1.25}else{if(d7.indexOf("pc")===d6){return parseFloat(d7.substring(0,d6))*15}else{if(d7.indexOf("mm")===d6){return parseFloat(d7.substring(0,d6))*3.543307}else{if(d7.indexOf("cm")===d6){return parseFloat(d7.substring(0,d6))*35.43307}else{if(d7.indexOf("in")===d6){return parseFloat(d7.substring(0,d6))*90}else{if(d7.indexOf("px")===d6){return parseFloat(d7.substring(0,d6))}else{return parseFloat(d7)}}}}}}};cU.shape=function(d8,d7,ea,d9,d6){if(arguments.length>=1&&arguments[0]!==null){if(d8.isVisible()){cU.pushMatrix();if(N===j.CENTER){if(arguments.length===5){cU.translate(d7-d9/2,ea-d6/2);cU.scale(d9/d8.getWidth(),d6/d8.getHeight())}else{if(arguments.length===3){cU.translate(d7-d8.getWidth()/2,-d8.getHeight()/2)}else{cU.translate(-d8.getWidth()/2,-d8.getHeight()/2)}}}else{if(N===j.CORNER){if(arguments.length===5){cU.translate(d7,ea);cU.scale(d9/d8.getWidth(),d6/d8.getHeight())}else{if(arguments.length===3){cU.translate(d7,ea)}}}else{if(N===j.CORNERS){if(arguments.length===5){d9-=d7;d6-=ea;cU.translate(d7,ea);cU.scale(d9/d8.getWidth(),d6/d8.getHeight())}else{if(arguments.length===3){cU.translate(d7,ea)}}}}}d8.draw();if((arguments.length===1&&N===j.CENTER)||arguments.length>1){cU.popMatrix()}}}};cU.shapeMode=function(d6){N=d6};cU.loadShape=function(d6){if(arguments.length===1){if(d6.indexOf(".svg")>-1){return new cp(null,d6)}}return null};var cR=function(ea,d9,d6,d7,d8){this.fullName=ea||"";this.name=d9||"";this.namespace=d6||"";this.value=d7;this.type=d8};cR.prototype={getName:function(){return this.name},getFullName:function(){return this.fullName},getNamespace:function(){return this.namespace},getValue:function(){return this.value},getType:function(){return this.type},setValue:function(d6){this.value=d6}};var b4=cU.XMLElement=function(){this.attributes=[];this.children=[];this.fullName=null;this.name=null;this.namespace="";this.content=null;this.parent=null;this.lineNr="";this.systemID="";this.type="ELEMENT";if(arguments.length===4){this.fullName=arguments[0]||"";if(arguments[1]){this.name=arguments[1]}else{var d6=this.fullName.indexOf(":");if(d6>=0){this.name=this.fullName.substring(d6+1)}else{this.name=this.fullName}}this.namespace=arguments[1];this.lineNr=arguments[3];this.systemID=arguments[2]}else{if((arguments.length===2&&arguments[1].indexOf(".")>-1)){this.parse(arguments[arguments.length-1])}else{if(arguments.length===1&&typeof arguments[0]==="string"){this.parse(arguments[0])}}}};b4.prototype={parse:function(d6){var d8;try{if(d6.indexOf(".xml")>-1||d6.indexOf(".svg")>-1){d6=s(d6)}d8=new DOMParser().parseFromString(d6,"text/xml");var d7=d8.documentElement;if(d7){this.parseChildrenRecursive(null,d7)}else{throw ("Error loading document")}return this}catch(d9){throw (d9)}},parseChildrenRecursive:function(ee,ec){var eb,d7,ed,ea,d9,d6;if(!ee){this.fullName=ec.localName;this.name=ec.nodeName;eb=this}else{eb=new b4(ec.localName,ec.nodeName,"","");eb.parent=ee}if(ec.nodeType===3&&ec.textContent!==""){return this.createPCDataElement(ec.textContent)}for(ea=0,d9=ec.attributes.length;ea<d9;ea++){ed=ec.attributes[ea];d7=new cR(ed.getname,ed.nodeName,ed.namespaceURI,ed.nodeValue,ed.nodeType);eb.attributes.push(d7)}for(ea=0,d9=ec.childNodes.length;ea<d9;ea++){var d8=ec.childNodes[ea];if(d8.nodeType===1||d8.nodeType===3){d6=eb.parseChildrenRecursive(eb,d8);if(d6!==null){eb.children.push(d6)}}}return eb},createElement:function(){if(arguments.length===2){return new b4(arguments[0],arguments[1],null,null)}else{return new b4(arguments[0],arguments[1],arguments[2],arguments[3])}},createPCDataElement:function(d6){if(d6.replace(/^\s+$/g,"")===""){return null}var d7=new b4();d7.content=d6;d7.type="TEXT";return d7},hasAttribute:function(){if(arguments.length===1){return this.getAttribute(arguments[0])!==null}else{if(arguments.length===2){return this.getAttribute(arguments[0],arguments[1])!==null}}},equals:function(eb){if(!(eb instanceof b4)){return false}var d8,d7;if(this.name!==eb.getLocalName()){return false}if(this.attributes.length!==eb.getAttributeCount()){return false}if(this.attributes.length!==eb.attributes.length){return false}var ef,ed,d6,ec,ee;for(d8=0,d7=this.attributes.length;d8<d7;d8++){ef=this.attributes[d8].getName();ed=this.attributes[d8].getNamespace();ee=eb.findAttribute(ef,ed);if(ee===null){return false}if(this.attributes[d8].getValue()!==ee.getValue()){return false}if(this.attributes[d8].getType()!==ee.getType()){return false}}if(this.children.length!==eb.getChildCount()){return false}if(this.children.length>0){var ea,d9;for(d8=0,d7=this.children.length;d8<d7;d8++){ea=this.getChild(d8);d9=eb.getChild(d8);if(!ea.equals(d9)){return false}}return true}else{return(this.content===eb.content)}},getContent:function(){if(this.type==="TEXT"){return this.content}else{if(this.children.length===1&&this.children[0].type==="TEXT"){return this.children[0].content}}return null},getAttribute:function(){var d6;if(arguments.length===2){d6=this.findAttribute(arguments[0]);if(d6){return d6.getValue()}else{return arguments[1]}}else{if(arguments.length===1){d6=this.findAttribute(arguments[0]);if(d6){return d6.getValue()}else{return null}}else{if(arguments.length===3){d6=this.findAttribute(arguments[0],arguments[1]);if(d6){return d6.getValue()}else{return arguments[2]}}}}},getStringAttribute:function(){if(arguments.length===1){return this.getAttribute(arguments[0])}else{if(arguments.length===2){return this.getAttribute(arguments[0],arguments[1])}else{return this.getAttribute(arguments[0],arguments[1],arguments[2])}}},getString:function(d6){return this.getStringAttribute(d6)},getFloatAttribute:function(){if(arguments.length===1){return parseFloat(this.getAttribute(arguments[0],0))}else{if(arguments.length===2){return this.getAttribute(arguments[0],arguments[1])}else{return this.getAttribute(arguments[0],arguments[1],arguments[2])}}},getFloat:function(d6){return this.getFloatAttribute(d6)},getIntAttribute:function(){if(arguments.length===1){return this.getAttribute(arguments[0],0)}else{if(arguments.length===2){return this.getAttribute(arguments[0],arguments[1])}else{return this.getAttribute(arguments[0],arguments[1],arguments[2])}}},getInt:function(d6){return this.getIntAttribute(d6)},hasChildren:function(){return this.children.length>0},addChild:function(d6){if(d6!==null){d6.parent=this;this.children.push(d6)}},insertChild:function(d8,d6){if(d8){if((d8.getLocalName()===null)&&(!this.hasChildren())){var d7=this.children[this.children.length-1];if(d7.getLocalName()===null){d7.setContent(d7.getContent()+d8.getContent());return}}d8.parent=this;this.children.splice(d6,0,d8)}},getChild:function(){if(typeof arguments[0]==="number"){return this.children[arguments[0]]}else{if(arguments[0].indexOf("/")!==-1){this.getChildRecursive(arguments[0].split("/"),0)}else{var d6,d9;for(var d8=0,d7=this.getChildCount();d8<d7;d8++){d6=this.getChild(d8);d9=d6.getName();if(d9!==null&&d9===arguments[0]){return d6}}return null}}},getChildren:function(){if(arguments.length===1){if(typeof arguments[0]==="number"){return this.getChild(arguments[0])}else{if(arguments[0].indexOf("/")!==-1){return this.getChildrenRecursive(arguments[0].split("/"),0)}else{var ea=[];var d6,d9;for(var d8=0,d7=this.getChildCount();d8<d7;d8++){d6=this.getChild(d8);d9=d6.getName();if(d9!==null&&d9===arguments[0]){ea.push(d6)}}return ea}}}else{return this.children}},getChildCount:function(){return this.children.length},getChildRecursive:function(d7,eb){var d6,ea;for(var d9=0,d8=this.getChildCount();d9<d8;d9++){d6=this.getChild(d9);ea=d6.getName();if(ea!==null&&ea===d7[eb]){if(eb===d7.length-1){return d6}else{eb+=1;return d6.getChildRecursive(d7,eb)}}}return null},getChildrenRecursive:function(d6,ea){if(ea===d6.length-1){return this.getChildren(d6[ea])}var d9=this.getChildren(d6[ea]);var d8=[];for(var d7=0;d7<d9.length;d7++){d8=d8.concat(d9[d7].getChildrenRecursive(d6,ea+1))}return d8},isLeaf:function(){return !this.hasChildren()},listChildren:function(){var d6=[];for(var d8=0,d7=this.children.length;d8<d7;d8++){d6.push(this.getChild(d8).getName())}return d6},removeAttribute:function(d7,d9){this.namespace=d9||"";for(var d8=0,d6=this.attributes.length;d8<d6;d8++){if(this.attributes[d8].getName()===d7&&this.attributes[d8].getNamespace()===this.namespace){this.attributes.splice(d8,1);break}}},removeChild:function(d8){if(d8){for(var d7=0,d6=this.children.length;d7<d6;d7++){if(this.children[d7].equals(d8)){this.children.splice(d7,1);break}}}},removeChildAtIndex:function(d6){if(this.children.length>d6){this.children.splice(d6,1)}},findAttribute:function(d7,d9){this.namespace=d9||"";for(var d8=0,d6=this.attributes.length;d8<d6;d8++){if(this.attributes[d8].getName()===d7&&this.attributes[d8].getNamespace()===this.namespace){return this.attributes[d8]}}return null},setAttribute:function(){var d6;if(arguments.length===3){var d8=arguments[0].indexOf(":");var d7=arguments[0].substring(d8+1);d6=this.findAttribute(d7,arguments[1]);if(d6){d6.setValue(arguments[2])}else{d6=new cR(arguments[0],d7,arguments[1],arguments[2],"CDATA");this.attributes.push(d6)}}else{d6=this.findAttribute(arguments[0]);if(d6){d6.setValue(arguments[1])}else{d6=new cR(arguments[0],arguments[0],null,arguments[1],"CDATA");this.attributes.push(d6)}}},setString:function(d6,d7){this.setAttribute(d6,d7)},setInt:function(d6,d7){this.setAttribute(d6,d7)},setFloat:function(d6,d7){this.setAttribute(d6,d7)},setContent:function(d6){if(this.children.length>0){E.debug("Tried to set content for XMLElement with children")}this.content=d6},setName:function(){if(arguments.length===1){this.name=arguments[0];this.fullName=arguments[0];this.namespace=null}else{var d6=arguments[0].indexOf(":");if((arguments[1]===null)||(d6<0)){this.name=arguments[0]}else{this.name=arguments[0].substring(d6+1)}this.fullName=arguments[0];this.namespace=arguments[1]}},getName:function(){return this.fullName},getLocalName:function(){return this.name},getAttributeCount:function(){return this.attributes.length},toString:function(){if(this.type==="TEXT"){return this.content}var d8=(this.namespace!==""&&this.namespace!==this.name?this.namespace+":":"")+this.name;var d9="<"+d8;var d7,ea;for(d7=0;d7<this.attributes.length;d7++){var d6=this.attributes[d7];d9+=" "+d6.getName()+'="'+d6.getValue()+'"'}if(this.children.length===0){if(this.content===""){d9+="/>"}else{d9+=">"+this.content+"</"+d8+">"}}else{d9+=">";for(ea=0;ea<this.children.length;ea++){d9+=this.children[ea].toString()}d9+="</"+d8+">"}return d9}};b4.parse=function(d7){var d6=new b4();d6.parse(d7);return d6};var cj=function(d9){var d6=0;for(var d7=0;d7<d9.length;d7++){if(d7!==0){d6=o.max(d6,o.abs(d9[d7]))}else{d6=o.abs(d9[d7])}}var d8=(d6+"").indexOf(".");if(d8===0){d8=1}else{if(d8===-1){d8=(d6+"").length}}return d8};var aQ=cU.PMatrix2D=function(){if(arguments.length===0){this.reset()}else{if(arguments.length===1&&arguments[0] instanceof aQ){this.set(arguments[0].array())}else{if(arguments.length===6){this.set(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}}}};aQ.prototype={set:function(){if(arguments.length===6){var d6=arguments;this.set([d6[0],d6[1],d6[2],d6[3],d6[4],d6[5]])}else{if(arguments.length===1&&arguments[0] instanceof aQ){this.elements=arguments[0].array()}else{if(arguments.length===1&&arguments[0] instanceof Array){this.elements=arguments[0].slice()}}}},get:function(){var d6=new aQ();d6.set(this.elements);return d6},reset:function(){this.set([1,0,0,0,1,0])},array:function aB(){return this.elements.slice()},translate:function(d7,d6){this.elements[2]=d7*this.elements[0]+d6*this.elements[1]+this.elements[2];this.elements[5]=d7*this.elements[3]+d6*this.elements[4]+this.elements[5]},invTranslate:function(d7,d6){this.translate(-d7,-d6)},transpose:function(){},mult:function(d7,d8){var d6,d9;if(d7 instanceof k){d6=d7.x;d9=d7.y;if(!d8){d8=new k()}}else{if(d7 instanceof Array){d6=d7[0];d9=d7[1];if(!d8){d8=[]}}}if(d8 instanceof Array){d8[0]=this.elements[0]*d6+this.elements[1]*d9+this.elements[2];d8[1]=this.elements[3]*d6+this.elements[4]*d9+this.elements[5]}else{if(d8 instanceof k){d8.x=this.elements[0]*d6+this.elements[1]*d9+this.elements[2];d8.y=this.elements[3]*d6+this.elements[4]*d9+this.elements[5];d8.z=0}}return d8},multX:function(d6,d7){return(d6*this.elements[0]+d7*this.elements[1]+this.elements[2])},multY:function(d6,d7){return(d6*this.elements[3]+d7*this.elements[4]+this.elements[5])},skewX:function(d6){this.apply(1,0,1,d6,0,0)},skewY:function(d6){this.apply(1,0,1,0,d6,0)},determinant:function(){return(this.elements[0]*this.elements[4]-this.elements[1]*this.elements[3])},invert:function(){var eb=this.determinant();if(o.abs(eb)>j.MIN_INT){var d7=this.elements[0];var ec=this.elements[1];var ea=this.elements[2];var d9=this.elements[3];var d8=this.elements[4];var d6=this.elements[5];this.elements[0]=d8/eb;this.elements[3]=-d9/eb;this.elements[1]=-ec/eb;this.elements[4]=d7/eb;this.elements[2]=(ec*d6-d8*ea)/eb;this.elements[5]=(d9*ea-d7*d6)/eb;return true}return false},scale:function(d7,d6){if(d7&&!d6){d6=d7}if(d7&&d6){this.elements[0]*=d7;this.elements[1]*=d6;this.elements[3]*=d7;this.elements[4]*=d6}},invScale:function(d7,d6){if(d7&&!d6){d6=d7}this.scale(1/d7,1/d6)},apply:function(){var d8;if(arguments.length===1&&arguments[0] instanceof aQ){d8=arguments[0].array()}else{if(arguments.length===6){d8=Array.prototype.slice.call(arguments)}else{if(arguments.length===1&&arguments[0] instanceof Array){d8=arguments[0]}}}var d6=[0,0,this.elements[2],0,0,this.elements[5]];var d9=0;for(var ea=0;ea<2;ea++){for(var d7=0;d7<3;d7++,d9++){d6[d9]+=this.elements[ea*3+0]*d8[d7+0]+this.elements[ea*3+1]*d8[d7+3]}}this.elements=d6.slice()},preApply:function(){var d7;if(arguments.length===1&&arguments[0] instanceof aQ){d7=arguments[0].array()}else{if(arguments.length===6){d7=Array.prototype.slice.call(arguments)}else{if(arguments.length===1&&arguments[0] instanceof Array){d7=arguments[0]}}}var d6=[0,0,d7[2],0,0,d7[5]];d6[2]=d7[2]+this.elements[2]*d7[0]+this.elements[5]*d7[1];d6[5]=d7[5]+this.elements[2]*d7[3]+this.elements[5]*d7[4];d6[0]=this.elements[0]*d7[0]+this.elements[3]*d7[1];d6[3]=this.elements[0]*d7[3]+this.elements[3]*d7[4];d6[1]=this.elements[1]*d7[0]+this.elements[4]*d7[1];d6[4]=this.elements[1]*d7[3]+this.elements[4]*d7[4];this.elements=d6.slice()},rotate:function(d8){var ea=o.cos(d8);var d6=o.sin(d8);var d9=this.elements[0];var d7=this.elements[1];this.elements[0]=ea*d9+d6*d7;this.elements[1]=-d6*d9+ea*d7;d9=this.elements[3];d7=this.elements[4];this.elements[3]=ea*d9+d6*d7;this.elements[4]=-d6*d9+ea*d7},rotateZ:function(d6){this.rotate(d6)},invRotateZ:function(d6){this.rotateZ(d6-o.PI)},print:function(){var d7=cj(this.elements);var d6=""+cU.nfs(this.elements[0],d7,4)+" "+cU.nfs(this.elements[1],d7,4)+" "+cU.nfs(this.elements[2],d7,4)+"\n"+cU.nfs(this.elements[3],d7,4)+" "+cU.nfs(this.elements[4],d7,4)+" "+cU.nfs(this.elements[5],d7,4)+"\n\n";cU.println(d6)}};var aK=cU.PMatrix3D=function(){this.reset()};aK.prototype={set:function(){if(arguments.length===16){this.elements=Array.prototype.slice.call(arguments)}else{if(arguments.length===1&&arguments[0] instanceof aK){this.elements=arguments[0].array()}else{if(arguments.length===1&&arguments[0] instanceof Array){this.elements=arguments[0].slice()}}}},get:function(){var d6=new aK();d6.set(this.elements);return d6},reset:function(){this.set([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])},array:function aB(){return this.elements.slice()},translate:function(d7,d6,d8){if(d8===c){d8=0}this.elements[3]+=d7*this.elements[0]+d6*this.elements[1]+d8*this.elements[2];this.elements[7]+=d7*this.elements[4]+d6*this.elements[5]+d8*this.elements[6];this.elements[11]+=d7*this.elements[8]+d6*this.elements[9]+d8*this.elements[10];this.elements[15]+=d7*this.elements[12]+d6*this.elements[13]+d8*this.elements[14]},transpose:function(){var d6=this.elements.slice();this.elements[0]=d6[0];this.elements[1]=d6[4];this.elements[2]=d6[8];this.elements[3]=d6[12];this.elements[4]=d6[1];this.elements[5]=d6[5];this.elements[6]=d6[9];this.elements[7]=d6[13];this.elements[8]=d6[2];this.elements[9]=d6[6];this.elements[10]=d6[10];this.elements[11]=d6[14];this.elements[12]=d6[3];this.elements[13]=d6[7];this.elements[14]=d6[11];this.elements[15]=d6[15]},mult:function(d8,d9){var d6,eb,ea,d7;if(d8 instanceof k){d6=d8.x;eb=d8.y;ea=d8.z;d7=1;if(!d9){d9=new k()}}else{if(d8 instanceof Array){d6=d8[0];eb=d8[1];ea=d8[2];d7=d8[3]||1;if(!d9||(d9.length!==3&&d9.length!==4)){d9=[0,0,0]}}}if(d9 instanceof Array){if(d9.length===3){d9[0]=this.elements[0]*d6+this.elements[1]*eb+this.elements[2]*ea+this.elements[3];d9[1]=this.elements[4]*d6+this.elements[5]*eb+this.elements[6]*ea+this.elements[7];d9[2]=this.elements[8]*d6+this.elements[9]*eb+this.elements[10]*ea+this.elements[11]}else{if(d9.length===4){d9[0]=this.elements[0]*d6+this.elements[1]*eb+this.elements[2]*ea+this.elements[3]*d7;d9[1]=this.elements[4]*d6+this.elements[5]*eb+this.elements[6]*ea+this.elements[7]*d7;d9[2]=this.elements[8]*d6+this.elements[9]*eb+this.elements[10]*ea+this.elements[11]*d7;d9[3]=this.elements[12]*d6+this.elements[13]*eb+this.elements[14]*ea+this.elements[15]*d7}}}if(d9 instanceof k){d9.x=this.elements[0]*d6+this.elements[1]*eb+this.elements[2]*ea+this.elements[3];d9.y=this.elements[4]*d6+this.elements[5]*eb+this.elements[6]*ea+this.elements[7];d9.z=this.elements[8]*d6+this.elements[9]*eb+this.elements[10]*ea+this.elements[11]}return d9},preApply:function(){var d8;if(arguments.length===1&&arguments[0] instanceof aK){d8=arguments[0].array()}else{if(arguments.length===16){d8=Array.prototype.slice.call(arguments)}else{if(arguments.length===1&&arguments[0] instanceof Array){d8=arguments[0]}}}var d6=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var d9=0;for(var ea=0;ea<4;ea++){for(var d7=0;d7<4;d7++,d9++){d6[d9]+=this.elements[d7+0]*d8[ea*4+0]+this.elements[d7+4]*d8[ea*4+1]+this.elements[d7+8]*d8[ea*4+2]+this.elements[d7+12]*d8[ea*4+3]}}this.elements=d6.slice()},apply:function(){var d8;if(arguments.length===1&&arguments[0] instanceof aK){d8=arguments[0].array()}else{if(arguments.length===16){d8=Array.prototype.slice.call(arguments)}else{if(arguments.length===1&&arguments[0] instanceof Array){d8=arguments[0]}}}var d6=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var d9=0;for(var ea=0;ea<4;ea++){for(var d7=0;d7<4;d7++,d9++){d6[d9]+=this.elements[ea*4+0]*d8[d7+0]+this.elements[ea*4+1]*d8[d7+4]+this.elements[ea*4+2]*d8[d7+8]+this.elements[ea*4+3]*d8[d7+12]}}this.elements=d6.slice()},rotate:function(ea,d6,ec,d9){if(!ec){this.rotateZ(ea)}else{var eb=cU.cos(ea);var d8=cU.sin(ea);var d7=1-eb;this.apply((d7*d6*d6)+eb,(d7*d6*ec)-(d8*d9),(d7*d6*d9)+(d8*ec),0,(d7*d6*ec)+(d8*d9),(d7*ec*ec)+eb,(d7*ec*d9)-(d8*d6),0,(d7*d6*d9)-(d8*ec),(d7*ec*d9)+(d8*d6),(d7*d9*d9)+eb,0,0,0,0,1)}},invApply:function(){if(W===c){W=new aK()}var d6=arguments;W.set(d6[0],d6[1],d6[2],d6[3],d6[4],d6[5],d6[6],d6[7],d6[8],d6[9],d6[10],d6[11],d6[12],d6[13],d6[14],d6[15]);if(!W.invert()){return false}this.preApply(W);return true},rotateX:function(d7){var d8=cU.cos(d7);var d6=cU.sin(d7);this.apply([1,0,0,0,0,d8,-d6,0,0,d6,d8,0,0,0,0,1])},rotateY:function(d7){var d8=cU.cos(d7);var d6=cU.sin(d7);this.apply([d8,0,d6,0,0,1,0,0,-d6,0,d8,0,0,0,0,1])},rotateZ:function(d7){var d8=o.cos(d7);var d6=o.sin(d7);this.apply([d8,-d6,0,0,d6,d8,0,0,0,0,1,0,0,0,0,1])},scale:function(d8,d7,d6){if(d8&&!d7&&!d6){d7=d6=d8}else{if(d8&&d7&&!d6){d6=1}}if(d8&&d7&&d6){this.elements[0]*=d8;this.elements[1]*=d7;this.elements[2]*=d6;this.elements[4]*=d8;this.elements[5]*=d7;this.elements[6]*=d6;this.elements[8]*=d8;this.elements[9]*=d7;this.elements[10]*=d6;this.elements[12]*=d8;this.elements[13]*=d7;this.elements[14]*=d6}},skewX:function(d7){var d6=o.tan(d7);this.apply(1,d6,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},skewY:function(d7){var d6=o.tan(d7);this.apply(1,0,0,0,d6,1,0,0,0,0,1,0,0,0,0,1)},multX:function(d6,d9,d8,d7){if(!d8){return this.elements[0]*d6+this.elements[1]*d9+this.elements[3]}else{if(!d7){return this.elements[0]*d6+this.elements[1]*d9+this.elements[2]*d8+this.elements[3]}else{return this.elements[0]*d6+this.elements[1]*d9+this.elements[2]*d8+this.elements[3]*d7}}},multY:function(d6,d9,d8,d7){if(!d8){return this.elements[4]*d6+this.elements[5]*d9+this.elements[7]}else{if(!d7){return this.elements[4]*d6+this.elements[5]*d9+this.elements[6]*d8+this.elements[7]}else{return this.elements[4]*d6+this.elements[5]*d9+this.elements[6]*d8+this.elements[7]*d7}}},multZ:function(d6,d9,d8,d7){if(!d7){return this.elements[8]*d6+this.elements[9]*d9+this.elements[10]*d8+this.elements[11]}else{return this.elements[8]*d6+this.elements[9]*d9+this.elements[10]*d8+this.elements[11]*d7}},multW:function(d6,d9,d8,d7){if(!d7){return this.elements[12]*d6+this.elements[13]*d9+this.elements[14]*d8+this.elements[15]}else{return this.elements[12]*d6+this.elements[13]*d9+this.elements[14]*d8+this.elements[15]*d7}},invert:function(){var ef=this.elements[0]*this.elements[5]-this.elements[1]*this.elements[4];var ee=this.elements[0]*this.elements[6]-this.elements[2]*this.elements[4];var ed=this.elements[0]*this.elements[7]-this.elements[3]*this.elements[4];var ec=this.elements[1]*this.elements[6]-this.elements[2]*this.elements[5];var eb=this.elements[1]*this.elements[7]-this.elements[3]*this.elements[5];var ea=this.elements[2]*this.elements[7]-this.elements[3]*this.elements[6];var d9=this.elements[8]*this.elements[13]-this.elements[9]*this.elements[12];var d8=this.elements[8]*this.elements[14]-this.elements[10]*this.elements[12];var d7=this.elements[8]*this.elements[15]-this.elements[11]*this.elements[12];var ek=this.elements[9]*this.elements[14]-this.elements[10]*this.elements[13];var ei=this.elements[9]*this.elements[15]-this.elements[11]*this.elements[13];var eh=this.elements[10]*this.elements[15]-this.elements[11]*this.elements[14];var ej=ef*eh-ee*ei+ed*ek+ec*d7-eb*d8+ea*d9;if(o.abs(ej)<=1e-9){return false}var eg=[];eg[0]=+this.elements[5]*eh-this.elements[6]*ei+this.elements[7]*ek;eg[4]=-this.elements[4]*eh+this.elements[6]*d7-this.elements[7]*d8;eg[8]=+this.elements[4]*ei-this.elements[5]*d7+this.elements[7]*d9;eg[12]=-this.elements[4]*ek+this.elements[5]*d8-this.elements[6]*d9;eg[1]=-this.elements[1]*eh+this.elements[2]*ei-this.elements[3]*ek;eg[5]=+this.elements[0]*eh-this.elements[2]*d7+this.elements[3]*d8;eg[9]=-this.elements[0]*ei+this.elements[1]*d7-this.elements[3]*d9;eg[13]=+this.elements[0]*ek-this.elements[1]*d8+this.elements[2]*d9;eg[2]=+this.elements[13]*ea-this.elements[14]*eb+this.elements[15]*ec;eg[6]=-this.elements[12]*ea+this.elements[14]*ed-this.elements[15]*ee;eg[10]=+this.elements[12]*eb-this.elements[13]*ed+this.elements[15]*ef;eg[14]=-this.elements[12]*ec+this.elements[13]*ee-this.elements[14]*ef;eg[3]=-this.elements[9]*ea+this.elements[10]*eb-this.elements[11]*ec;eg[7]=+this.elements[8]*ea-this.elements[10]*ed+this.elements[11]*ee;eg[11]=-this.elements[8]*eb+this.elements[9]*ed-this.elements[11]*ef;eg[15]=+this.elements[8]*ec-this.elements[9]*ee+this.elements[10]*ef;var d6=1/ej;eg[0]*=d6;eg[1]*=d6;eg[2]*=d6;eg[3]*=d6;eg[4]*=d6;eg[5]*=d6;eg[6]*=d6;eg[7]*=d6;eg[8]*=d6;eg[9]*=d6;eg[10]*=d6;eg[11]*=d6;eg[12]*=d6;eg[13]*=d6;eg[14]*=d6;eg[15]*=d6;this.elements=eg.slice();return true},toString:function(){var d7="";for(var d6=0;d6<15;d6++){d7+=this.elements[d6]+", "}d7+=this.elements[15];return d7},print:function(){var d7=cj(this.elements);var d6=""+cU.nfs(this.elements[0],d7,4)+" "+cU.nfs(this.elements[1],d7,4)+" "+cU.nfs(this.elements[2],d7,4)+" "+cU.nfs(this.elements[3],d7,4)+"\n"+cU.nfs(this.elements[4],d7,4)+" "+cU.nfs(this.elements[5],d7,4)+" "+cU.nfs(this.elements[6],d7,4)+" "+cU.nfs(this.elements[7],d7,4)+"\n"+cU.nfs(this.elements[8],d7,4)+" "+cU.nfs(this.elements[9],d7,4)+" "+cU.nfs(this.elements[10],d7,4)+" "+cU.nfs(this.elements[11],d7,4)+"\n"+cU.nfs(this.elements[12],d7,4)+" "+cU.nfs(this.elements[13],d7,4)+" "+cU.nfs(this.elements[14],d7,4)+" "+cU.nfs(this.elements[15],d7,4)+"\n\n";cU.println(d6)},invTranslate:function(d7,d6,d8){this.preApply(1,0,0,-d7,0,1,0,-d6,0,0,1,-d8,0,0,0,1)},invRotateX:function(d7){var d8=o.cos(-d7);var d6=o.sin(-d7);this.preApply([1,0,0,0,0,d8,-d6,0,0,d6,d8,0,0,0,0,1])},invRotateY:function(d7){var d8=o.cos(-d7);var d6=o.sin(-d7);this.preApply([d8,0,d6,0,0,1,0,0,-d6,0,d8,0,0,0,0,1])},invRotateZ:function(d7){var d8=o.cos(-d7);var d6=o.sin(-d7);this.preApply([d8,-d6,0,0,d6,d8,0,0,0,0,1,0,0,0,0,1])},invScale:function(d6,d8,d7){this.preApply([1/d6,0,0,0,0,1/d8,0,0,0,0,1/d7,0,0,0,0,1])}};var R=cU.PMatrixStack=function(){this.matrixStack=[]};R.prototype.load=function(){var d6=dU.$newPMatrix();if(arguments.length===1){d6.set(arguments[0])}else{d6.set(arguments)}this.matrixStack.push(d6)};bK.prototype.$newPMatrix=function(){return new aQ()};bu.prototype.$newPMatrix=function(){return new aK()};R.prototype.push=function(){this.matrixStack.push(this.peek())};R.prototype.pop=function(){return this.matrixStack.pop()};R.prototype.peek=function(){var d6=dU.$newPMatrix();d6.set(this.matrixStack[this.matrixStack.length-1]);return d6};R.prototype.mult=function(d6){this.matrixStack[this.matrixStack.length-1].apply(d6)};cU.split=function(d7,d6){return d7.split(d6)};cU.splitTokens=function(d9,d8){if(arguments.length===1){d8="\n\t\r\f "}d8="["+d8+"]";var d7=[];var d6=0;var ea=d9.search(d8);while(ea>=0){if(ea===0){d9=d9.substring(1)}else{d7[d6]=d9.substring(0,ea);d6++;d9=d9.substring(ea)}ea=d9.search(d8)}if(d9.length>0){d7[d6]=d9}if(d7.length===0){d7=c}return d7};cU.append=function(d7,d6){d7[d7.length]=d6;return d7};cU.concat=function(d7,d6){return d7.concat(d6)};cU.sort=function(eb,d9){var d7=[];if(eb.length>0){var ea=d9>0?d9:eb.length;for(var d8=0;d8<ea;d8++){d7.push(eb[d8])}if(typeof eb[0]==="string"){d7.sort()}else{d7.sort(function(ed,ec){return ed-ec})}if(d9>0){for(var d6=d7.length;d6<eb.length;d6++){d7.push(eb[d6])}}}return d7};cU.splice=function(ea,d9,d7){if(d9.length===0){return ea}if(d9 instanceof Array){for(var d8=0,d6=d7;d8<d9.length;d6++,d8++){ea.splice(d6,0,d9[d8])}}else{ea.splice(d7,0,d9)}return ea};cU.subset=function(d8,d7,d6){if(arguments.length===2){return d8.slice(d7,d8.length)}else{if(arguments.length===3){return d8.slice(d7,d7+d6)}}};cU.join=function(d7,d6){return d7.join(d6)};cU.shorten=function(d9){var d7=[];var d6=d9.length;for(var d8=0;d8<d6;d8++){d7[d8]=d9[d8]}d7.pop();return d7};cU.expand=function(d8,d7){var d6=d8.slice(0);if(arguments.length===1){d6.length=d8.length*2;return d6}else{if(arguments.length===2){d6.length=d7;return d6}}};cU.arrayCopy=function(){var ec,ea=0,d8,d7=0,eb;if(arguments.length===2){ec=arguments[0];d8=arguments[1];eb=ec.length}else{if(arguments.length===3){ec=arguments[0];d8=arguments[1];eb=arguments[2]}else{if(arguments.length===5){ec=arguments[0];ea=arguments[1];d8=arguments[2];d7=arguments[3];eb=arguments[4]}}}for(var d9=ea,d6=d7;d9<eb+ea;d9++,d6++){if(d8[d6]!==c){d8[d6]=ec[d9]}else{throw"array index out of bounds exception"}}};cU.reverse=function(d6){return d6.reverse()};cU.mix=function(d7,d6,d8){return d7+(((d6-d7)*d8)>>8)};cU.peg=function(d6){return(d6<0)?0:((d6>255)?255:d6)};cU.modes={replace:function(d7,d6){return d6},blend:function(d7,d6){var d8=(d6&j.ALPHA_MASK)>>>24;return(o.min(((d7&j.ALPHA_MASK)>>>24)+d8,255)<<24|cU.mix(d7&j.RED_MASK,d6&j.RED_MASK,d8)&j.RED_MASK|cU.mix(d7&j.GREEN_MASK,d6&j.GREEN_MASK,d8)&j.GREEN_MASK|cU.mix(d7&j.BLUE_MASK,d6&j.BLUE_MASK,d8))},add:function(d7,d6){var d8=(d6&j.ALPHA_MASK)>>>24;return(o.min(((d7&j.ALPHA_MASK)>>>24)+d8,255)<<24|o.min(((d7&j.RED_MASK)+((d6&j.RED_MASK)>>8)*d8),j.RED_MASK)&j.RED_MASK|o.min(((d7&j.GREEN_MASK)+((d6&j.GREEN_MASK)>>8)*d8),j.GREEN_MASK)&j.GREEN_MASK|o.min((d7&j.BLUE_MASK)+(((d6&j.BLUE_MASK)*d8)>>8),j.BLUE_MASK))},subtract:function(d7,d6){var d8=(d6&j.ALPHA_MASK)>>>24;return(o.min(((d7&j.ALPHA_MASK)>>>24)+d8,255)<<24|o.max(((d7&j.RED_MASK)-((d6&j.RED_MASK)>>8)*d8),j.GREEN_MASK)&j.RED_MASK|o.max(((d7&j.GREEN_MASK)-((d6&j.GREEN_MASK)>>8)*d8),j.BLUE_MASK)&j.GREEN_MASK|o.max((d7&j.BLUE_MASK)-(((d6&j.BLUE_MASK)*d8)>>8),0))},lightest:function(d7,d6){var d8=(d6&j.ALPHA_MASK)>>>24;return(o.min(((d7&j.ALPHA_MASK)>>>24)+d8,255)<<24|o.max(d7&j.RED_MASK,((d6&j.RED_MASK)>>8)*d8)&j.RED_MASK|o.max(d7&j.GREEN_MASK,((d6&j.GREEN_MASK)>>8)*d8)&j.GREEN_MASK|o.max(d7&j.BLUE_MASK,((d6&j.BLUE_MASK)*d8)>>8))},darkest:function(d7,d6){var d8=(d6&j.ALPHA_MASK)>>>24;return(o.min(((d7&j.ALPHA_MASK)>>>24)+d8,255)<<24|cU.mix(d7&j.RED_MASK,o.min(d7&j.RED_MASK,((d6&j.RED_MASK)>>8)*d8),d8)&j.RED_MASK|cU.mix(d7&j.GREEN_MASK,o.min(d7&j.GREEN_MASK,((d6&j.GREEN_MASK)>>8)*d8),d8)&j.GREEN_MASK|cU.mix(d7&j.BLUE_MASK,o.min(d7&j.BLUE_MASK,((d6&j.BLUE_MASK)*d8)>>8),d8))},difference:function(ea,d9){var ec=(d9&j.ALPHA_MASK)>>>24;var d8=(ea&j.RED_MASK)>>16;var ef=(ea&j.GREEN_MASK)>>8;var eh=(ea&j.BLUE_MASK);var eg=(d9&j.RED_MASK)>>16;var eb=(d9&j.GREEN_MASK)>>8;var ee=(d9&j.BLUE_MASK);var ed=(d8>eg)?(d8-eg):(eg-d8);var d6=(ef>eb)?(ef-eb):(eb-ef);var d7=(eh>ee)?(eh-ee):(ee-eh);return(o.min(((ea&j.ALPHA_MASK)>>>24)+ec,255)<<24|(cU.peg(d8+(((ed-d8)*ec)>>8))<<16)|(cU.peg(ef+(((d6-ef)*ec)>>8))<<8)|(cU.peg(eh+(((d7-eh)*ec)>>8))))},exclusion:function(ea,d9){var ec=(d9&j.ALPHA_MASK)>>>24;var d8=(ea&j.RED_MASK)>>16;var ef=(ea&j.GREEN_MASK)>>8;var eh=(ea&j.BLUE_MASK);var eg=(d9&j.RED_MASK)>>16;var eb=(d9&j.GREEN_MASK)>>8;var ee=(d9&j.BLUE_MASK);var ed=d8+eg-((d8*eg)>>7);var d6=ef+eb-((ef*eb)>>7);var d7=eh+ee-((eh*ee)>>7);return(o.min(((ea&j.ALPHA_MASK)>>>24)+ec,255)<<24|(cU.peg(d8+(((ed-d8)*ec)>>8))<<16)|(cU.peg(ef+(((d6-ef)*ec)>>8))<<8)|(cU.peg(eh+(((d7-eh)*ec)>>8))))},multiply:function(ea,d9){var ec=(d9&j.ALPHA_MASK)>>>24;var d8=(ea&j.RED_MASK)>>16;var ef=(ea&j.GREEN_MASK)>>8;var eh=(ea&j.BLUE_MASK);var eg=(d9&j.RED_MASK)>>16;var eb=(d9&j.GREEN_MASK)>>8;var ee=(d9&j.BLUE_MASK);var ed=(d8*eg)>>8;var d6=(ef*eb)>>8;var d7=(eh*ee)>>8;return(o.min(((ea&j.ALPHA_MASK)>>>24)+ec,255)<<24|(cU.peg(d8+(((ed-d8)*ec)>>8))<<16)|(cU.peg(ef+(((d6-ef)*ec)>>8))<<8)|(cU.peg(eh+(((d7-eh)*ec)>>8))))},screen:function(ea,d9){var ec=(d9&j.ALPHA_MASK)>>>24;var d8=(ea&j.RED_MASK)>>16;var ef=(ea&j.GREEN_MASK)>>8;var eh=(ea&j.BLUE_MASK);var eg=(d9&j.RED_MASK)>>16;var eb=(d9&j.GREEN_MASK)>>8;var ee=(d9&j.BLUE_MASK);var ed=255-(((255-d8)*(255-eg))>>8);var d6=255-(((255-ef)*(255-eb))>>8);var d7=255-(((255-eh)*(255-ee))>>8);return(o.min(((ea&j.ALPHA_MASK)>>>24)+ec,255)<<24|(cU.peg(d8+(((ed-d8)*ec)>>8))<<16)|(cU.peg(ef+(((d6-ef)*ec)>>8))<<8)|(cU.peg(eh+(((d7-eh)*ec)>>8))))},hard_light:function(ea,d9){var ec=(d9&j.ALPHA_MASK)>>>24;var d8=(ea&j.RED_MASK)>>16;var ef=(ea&j.GREEN_MASK)>>8;var eh=(ea&j.BLUE_MASK);var eg=(d9&j.RED_MASK)>>16;var eb=(d9&j.GREEN_MASK)>>8;var ee=(d9&j.BLUE_MASK);var ed=(eg<128)?((d8*eg)>>7):(255-(((255-d8)*(255-eg))>>7));var d6=(eb<128)?((ef*eb)>>7):(255-(((255-ef)*(255-eb))>>7));var d7=(ee<128)?((eh*ee)>>7):(255-(((255-eh)*(255-ee))>>7));return(o.min(((ea&j.ALPHA_MASK)>>>24)+ec,255)<<24|(cU.peg(d8+(((ed-d8)*ec)>>8))<<16)|(cU.peg(ef+(((d6-ef)*ec)>>8))<<8)|(cU.peg(eh+(((d7-eh)*ec)>>8))))},soft_light:function(ea,d9){var ec=(d9&j.ALPHA_MASK)>>>24;var d8=(ea&j.RED_MASK)>>16;var ef=(ea&j.GREEN_MASK)>>8;var eh=(ea&j.BLUE_MASK);var eg=(d9&j.RED_MASK)>>16;var eb=(d9&j.GREEN_MASK)>>8;var ee=(d9&j.BLUE_MASK);var ed=((d8*eg)>>7)+((d8*d8)>>8)-((d8*d8*eg)>>15);var d6=((ef*eb)>>7)+((ef*ef)>>8)-((ef*ef*eb)>>15);var d7=((eh*ee)>>7)+((eh*eh)>>8)-((eh*eh*ee)>>15);return(o.min(((ea&j.ALPHA_MASK)>>>24)+ec,255)<<24|(cU.peg(d8+(((ed-d8)*ec)>>8))<<16)|(cU.peg(ef+(((d6-ef)*ec)>>8))<<8)|(cU.peg(eh+(((d7-eh)*ec)>>8))))},overlay:function(ea,d9){var ec=(d9&j.ALPHA_MASK)>>>24;var d8=(ea&j.RED_MASK)>>16;var ef=(ea&j.GREEN_MASK)>>8;var eh=(ea&j.BLUE_MASK);var eg=(d9&j.RED_MASK)>>16;var eb=(d9&j.GREEN_MASK)>>8;var ee=(d9&j.BLUE_MASK);var ed=(d8<128)?((d8*eg)>>7):(255-(((255-d8)*(255-eg))>>7));var d6=(ef<128)?((ef*eb)>>7):(255-(((255-ef)*(255-eb))>>7));var d7=(eh<128)?((eh*ee)>>7):(255-(((255-eh)*(255-ee))>>7));return(o.min(((ea&j.ALPHA_MASK)>>>24)+ec,255)<<24|(cU.peg(d8+(((ed-d8)*ec)>>8))<<16)|(cU.peg(ef+(((d6-ef)*ec)>>8))<<8)|(cU.peg(eh+(((d7-eh)*ec)>>8))))},dodge:function(ea,d9){var ec=(d9&j.ALPHA_MASK)>>>24;var d8=(ea&j.RED_MASK)>>16;var ef=(ea&j.GREEN_MASK)>>8;var eh=(ea&j.BLUE_MASK);var eg=(d9&j.RED_MASK)>>16;var eb=(d9&j.GREEN_MASK)>>8;var ee=(d9&j.BLUE_MASK);var ed=(eg===255)?255:cU.peg((d8<<8)/(255-eg));var d6=(eb===255)?255:cU.peg((ef<<8)/(255-eb));var d7=(ee===255)?255:cU.peg((eh<<8)/(255-ee));return(o.min(((ea&j.ALPHA_MASK)>>>24)+ec,255)<<24|(cU.peg(d8+(((ed-d8)*ec)>>8))<<16)|(cU.peg(ef+(((d6-ef)*ec)>>8))<<8)|(cU.peg(eh+(((d7-eh)*ec)>>8))))},burn:function(ea,d9){var ec=(d9&j.ALPHA_MASK)>>>24;var d8=(ea&j.RED_MASK)>>16;var ef=(ea&j.GREEN_MASK)>>8;var eh=(ea&j.BLUE_MASK);var eg=(d9&j.RED_MASK)>>16;var eb=(d9&j.GREEN_MASK)>>8;var ee=(d9&j.BLUE_MASK);var ed=(eg===0)?0:255-cU.peg(((255-d8)<<8)/eg);var d6=(eb===0)?0:255-cU.peg(((255-ef)<<8)/eb);var d7=(ee===0)?0:255-cU.peg(((255-eh)<<8)/ee);return(o.min(((ea&j.ALPHA_MASK)>>>24)+ec,255)<<24|(cU.peg(d8+(((ed-d8)*ec)>>8))<<16)|(cU.peg(ef+(((d6-ef)*ec)>>8))<<8)|(cU.peg(eh+(((d7-eh)*ec)>>8))))}};function dD(eb,ea,d8,d7){var d6,d9,ed,ee;if(cW===j.HSB){var ec=cU.color.toRGB(eb,ea,d8);d6=ec[0];d9=ec[1];ed=ec[2]}else{d6=o.round(255*(eb/bC));d9=o.round(255*(ea/bB));ed=o.round(255*(d8/bz))}ee=o.round(255*(d7/bN));d6=(d6>255)?255:d6;d9=(d9>255)?255:d9;ed=(ed>255)?255:ed;ee=(ee>255)?255:ee;return(ee<<24)&j.ALPHA_MASK|(d6<<16)&j.RED_MASK|(d9<<8)&j.GREEN_MASK|ed&j.BLUE_MASK}function dH(d6,d8){var d7;if(d6&j.ALPHA_MASK){d7=o.round(255*(d8/bN));d7=(d7>255)?255:d7;return d6-(d6&j.ALPHA_MASK)+((d7<<24)&j.ALPHA_MASK)}else{if(cW===j.RGB){return dD(d6,d6,d6,d8)}else{if(cW===j.HSB){return dD(0,0,(d6/bC)*bz,d8)}}}}function dJ(d6){if(d6<=bC&&d6>=0){if(cW===j.RGB){return dD(d6,d6,d6,bN)}else{if(cW===j.HSB){return dD(0,0,(d6/bC)*bz,bN)}}}else{if(d6){return d6}}}cU.color=function(d6,d9,d8,d7){if(d6!==c&&d9!==c&&d8!==c&&d7!==c){return dD(d6,d9,d8,d7)}if(d6!==c&&d9!==c&&d8!==c){return dD(d6,d9,d8,bN)}if(d6!==c&&d9!==c){return dH(d6,d9)}if(typeof d6==="number"){return dJ(d6)}return dD(bC,bB,bz,bN)};cU.color.toString=function(d6){return"rgba("+((d6&j.RED_MASK)>>>16)+","+((d6&j.GREEN_MASK)>>>8)+","+((d6&j.BLUE_MASK))+","+((d6&j.ALPHA_MASK)>>>24)/255+")"};cU.color.toInt=function(d9,d8,d6,d7){return(d7<<24)&j.ALPHA_MASK|(d9<<16)&j.RED_MASK|(d8<<8)&j.GREEN_MASK|d6&j.BLUE_MASK};cU.color.toArray=function(d6){return[(d6&j.RED_MASK)>>>16,(d6&j.GREEN_MASK)>>>8,d6&j.BLUE_MASK,(d6&j.ALPHA_MASK)>>>24]};cU.color.toGLArray=function(d6){return[((d6&j.RED_MASK)>>>16)/255,((d6&j.GREEN_MASK)>>>8)/255,(d6&j.BLUE_MASK)/255,((d6&j.ALPHA_MASK)>>>24)/255]};cU.color.toRGB=function(d8,ee,eb){d8=(d8>bC)?bC:d8;ee=(ee>bB)?bB:ee;eb=(eb>bz)?bz:eb;d8=(d8/bC)*360;ee=(ee/bB)*100;eb=(eb/bz)*100;var ed=o.round(eb/100*255);if(ee===0){return[ed,ed,ed]}else{var d9=d8%360;var ea=d9%60;var d7=o.round((eb*(100-ee))/10000*255);var d6=o.round((eb*(6000-ee*ea))/600000*255);var ec=o.round((eb*(6000-ee*(60-ea)))/600000*255);switch(o.floor(d9/60)){case 0:return[ed,ec,d7];case 1:return[d6,ed,d7];case 2:return[d7,ed,ec];case 3:return[d7,d6,ed];case 4:return[ec,d7,ed];case 5:return[ed,d7,d6]}}};cU.color.toHSB=function(ed){var ec,eb,d7;ec=((ed&j.RED_MASK)>>>16)/255;eb=((ed&j.GREEN_MASK)>>>8)/255;d7=(ed&j.BLUE_MASK)/255;var d6=cU.max(cU.max(ec,eb),d7),d9=cU.min(cU.min(ec,eb),d7),d8,ea;if(d9===d6){return[0,0,d6]}else{ea=(d6-d9)/d6;if(ec===d6){d8=(eb-d7)/(d6-d9)}else{if(eb===d6){d8=2+((d7-ec)/(d6-d9))}else{d8=4+((ec-eb)/(d6-d9))}}d8/=6;if(d8<0){d8+=1}else{if(d8>1){d8-=1}}}return[d8*bC,ea*bB,d6*bz]};cU.brightness=function(d6){return cU.color.toHSB(d6)[2]};cU.saturation=function(d6){return cU.color.toHSB(d6)[1]};cU.hue=function(d6){return cU.color.toHSB(d6)[0]};cU.red=function(d6){return((d6&j.RED_MASK)>>>16)/255*bC};cU.green=function(d6){return((d6&j.GREEN_MASK)>>>8)/255*bB};cU.blue=function(d6){return(d6&j.BLUE_MASK)/255*bz};cU.alpha=function(d6){return((d6&j.ALPHA_MASK)>>>24)/255*bN};cU.lerpColor=function(eg,ee,d9){var ef=cU.color(eg);var ec=(ef&j.RED_MASK)>>>16;var d7=(ef&j.GREEN_MASK)>>>8;var el=(ef&j.BLUE_MASK);var ea=((ef&j.ALPHA_MASK)>>>24)/bN;var ed=cU.color(ee);var eb=(ed&j.RED_MASK)>>>16;var em=(ed&j.GREEN_MASK)>>>8;var ej=(ed&j.BLUE_MASK);var d8=((ed&j.ALPHA_MASK)>>>24)/bN;var d6=parseInt(cU.lerp(ec,eb,d9),10);var eh=parseInt(cU.lerp(d7,em,d9),10);var ei=parseInt(cU.lerp(el,ej,d9),10);var ek=parseFloat(cU.lerp(ea,d8,d9)*bN);return cU.color.toInt(d6,eh,ei,ek)};cU.colorMode=function(){cW=arguments[0];if(arguments.length>1){bC=arguments[1];bB=arguments[2]||arguments[1];bz=arguments[3]||arguments[1];bN=arguments[4]||arguments[1]}};cU.blendColor=function(d8,d7,d9){var d6=0;switch(d9){case j.REPLACE:d6=cU.modes.replace(d8,d7);break;case j.BLEND:d6=cU.modes.blend(d8,d7);break;case j.ADD:d6=cU.modes.add(d8,d7);break;case j.SUBTRACT:d6=cU.modes.subtract(d8,d7);break;case j.LIGHTEST:d6=cU.modes.lightest(d8,d7);break;case j.DARKEST:d6=cU.modes.darkest(d8,d7);break;case j.DIFFERENCE:d6=cU.modes.difference(d8,d7);break;case j.EXCLUSION:d6=cU.modes.exclusion(d8,d7);break;case j.MULTIPLY:d6=cU.modes.multiply(d8,d7);break;case j.SCREEN:d6=cU.modes.screen(d8,d7);break;case j.HARD_LIGHT:d6=cU.modes.hard_light(d8,d7);break;case j.SOFT_LIGHT:d6=cU.modes.soft_light(d8,d7);break;case j.OVERLAY:d6=cU.modes.overlay(d8,d7);break;case j.DODGE:d6=cU.modes.dodge(d8,d7);break;case j.BURN:d6=cU.modes.burn(d8,d7);break}return d6};function aA(){d3.save()}function cO(){d3.restore();bY=true;an=true}cU.printMatrix=function(){dG.print()};bK.prototype.translate=function(d6,d7){dL.translate(d6,d7);du.invTranslate(d6,d7);d3.translate(d6,d7)};bu.prototype.translate=function(d6,d8,d7){dL.translate(d6,d8,d7);du.invTranslate(d6,d8,d7)};bK.prototype.scale=function(d6,d7){dL.scale(d6,d7);du.invScale(d6,d7);d3.scale(d6,d7||d6)};bu.prototype.scale=function(d6,d8,d7){dL.scale(d6,d8,d7);du.invScale(d6,d8,d7)};bK.prototype.pushMatrix=function(){ai.load(dG);c9.load(aN);aA()};bu.prototype.pushMatrix=function(){ai.load(dG);c9.load(aN)};bK.prototype.popMatrix=function(){dG.set(ai.pop());aN.set(c9.pop());cO()};bu.prototype.popMatrix=function(){dG.set(ai.pop());aN.set(c9.pop())};bK.prototype.resetMatrix=function(){dL.reset();du.reset();d3.setTransform(1,0,0,1,0,0)};bu.prototype.resetMatrix=function(){dL.reset();du.reset()};dq.prototype.applyMatrix=function(){var d6=arguments;dL.apply(d6[0],d6[1],d6[2],d6[3],d6[4],d6[5],d6[6],d6[7],d6[8],d6[9],d6[10],d6[11],d6[12],d6[13],d6[14],d6[15]);du.invApply(d6[0],d6[1],d6[2],d6[3],d6[4],d6[5],d6[6],d6[7],d6[8],d6[9],d6[10],d6[11],d6[12],d6[13],d6[14],d6[15])};bK.prototype.applyMatrix=function(){var d6=arguments;for(var d7=d6.length;d7<16;d7++){d6[d7]=0}d6[10]=d6[15]=1;dq.prototype.applyMatrix.apply(this,d6)};cU.rotateX=function(d6){dL.rotateX(d6);du.invRotateX(d6)};bK.prototype.rotateZ=function(){throw"rotateZ() is not supported in 2D mode. Use rotate(float) instead."};bu.prototype.rotateZ=function(d6){dL.rotateZ(d6);du.invRotateZ(d6)};cU.rotateY=function(d6){dL.rotateY(d6);du.invRotateY(d6)};bK.prototype.rotate=function(d6){dL.rotateZ(d6);du.invRotateZ(d6);d3.rotate(d6)};bu.prototype.rotate=function(d6){cU.rotateZ(d6)};cU.pushStyle=function(){aA();cU.pushMatrix();var d6={doFill:aD,currentFillColor:aU,doStroke:b9,currentStrokeColor:ct,curTint:a7,curRectMode:bE,curColorMode:cW,colorModeX:bC,colorModeZ:bz,colorModeY:bB,colorModeA:bN,curTextFont:S,curTextSize:dW};be.push(d6)};cU.popStyle=function(){var d6=be.pop();if(d6){cO();cU.popMatrix();aD=d6.doFill;aU=d6.currentFillColor;b9=d6.doStroke;ct=d6.currentStrokeColor;a7=d6.curTint;bE=d6.curRectmode;cW=d6.curColorMode;bC=d6.colorModeX;bz=d6.colorModeZ;bB=d6.colorModeY;bN=d6.colorModeA;S=d6.curTextFont;dW=d6.curTextSize}else{throw"Too many popStyle() without enough pushStyle()"}};cU.year=function(){return new Date().getFullYear()};cU.month=function(){return new Date().getMonth()+1};cU.day=function(){return new Date().getDate()};cU.hour=function(){return new Date().getHours()};cU.minute=function(){return new Date().getMinutes()};cU.second=function(){return new Date().getSeconds()};cU.millis=function(){return new Date().getTime()-dn};dq.prototype.redraw=function(){var d6=(new Date().getTime()-dr)/1000;L++;var d7=L/d6;if(d6>0.5){dr=new Date().getTime();L=0;cU.__frameRate=d7}cU.frameCount++};bK.prototype.redraw=function(){dq.prototype.redraw.apply(this,arguments);d3.lineWidth=dS;cm=true;aA();cU.draw();cO();cm=false};bu.prototype.redraw=function(){dq.prototype.redraw.apply(this,arguments);cm=true;d3.clear(d3.DEPTH_BUFFER_BIT);dz={attributes:{},locations:{}};cU.noLights();cU.lightFalloff(1,0,0);cU.shininess(1);cU.ambient(255,255,255);cU.specular(0,0,0);cU.emissive(0,0,0);cU.camera();cU.draw();cm=false};cU.noLoop=function(){az=false;au=false;clearInterval(bZ);cP.onPause()};cU.loop=function(){if(au){return}dr=new Date().getTime();L=0;bZ=l.setInterval(function(){try{cP.onFrameStart();cU.redraw();cP.onFrameEnd()}catch(d6){l.clearInterval(bZ);throw d6}},aw);az=true;au=true;cP.onLoop()};cU.frameRate=function(d6){dQ=d6;aw=1000/dQ;if(az){cU.noLoop();cU.loop()}};var aq=[];function bH(d8,d7,d6){if(d8.addEventListener){d8.addEventListener(d7,d6,false)}else{d8.attachEvent("on"+d7,d6)}aq.push({elem:d8,type:d7,fn:d6})}function de(d6){var d9=d6.elem,d8=d6.type,d7=d6.fn;if(d9.removeEventListener){d9.removeEventListener(d8,d7,false)}else{if(d9.detachEvent){d9.detachEvent("on"+d8,d7)}}}cU.exit=function(){l.clearInterval(bZ);G(cU.externals.canvas.id);for(var d7 in E.lib){if(E.lib.hasOwnProperty(d7)){if(E.lib[d7].hasOwnProperty("detach")){E.lib[d7].detach(cU)}}}var d6=aq.length;while(d6--){de(aq[d6])}cP.onExit()};cU.cursor=function(){if(arguments.length>1||(arguments.length===1&&arguments[0] instanceof cU.PImage)){var d9=arguments[0],d6,eb;if(arguments.length>=3){d6=arguments[1];eb=arguments[2];if(d6<0||eb<0||eb>=d9.height||d6>=d9.width){throw"x and y must be non-negative and less than the dimensions of the image"}}else{d6=d9.width>>>1;eb=d9.height>>>1}var d7=d9.toDataURL();var d8='url("'+d7+'") '+d6+" "+eb+", default";U=Z.style.cursor=d8}else{if(arguments.length===1){var ea=arguments[0];U=Z.style.cursor=ea}else{U=Z.style.cursor=ch}}};cU.noCursor=function(){U=Z.style.cursor=j.NOCURSOR};cU.link=function(d6,d7){if(d7!==c){l.open(d6,d7)}else{l.location=d6}};cU.beginDraw=g;cU.endDraw=g;cU.Import=function(d6){};cU.status=function(d6){l.status=d6};function aZ(d9,d8){var d6=1;d6=d6<<(d8-1);var ea="";for(var d7=0;d7<d8;d7++){ea+=(d6&d9)?"1":"0";d6=d6>>>1}return ea}cU.binary=function(d6,d8){var d7=32;if(typeof d6==="number"){if(d8){d7=d8}return aZ(d6,d7)}if(d6 instanceof bI){d6=d6.toString().charCodeAt(0);if(d8){d7=32}else{d7=16}}var d9=aZ(d6,d7);if(d8){d9=d9.substr(-d8)}return d9};cU.unbinary=function(d6){var ea=new RegExp("^[0|1]{8}$");var d9=0;var d8;if(d6 instanceof Array){var d7=[];for(d8=0;d8<d6.length;d8++){d7[d8]=cU.unbinary(d6[d8])}return d7}else{if(isNaN(d6)){throw"NaN_Err"}else{if(arguments.length===1||d6.length===8){if(ea.test(d6)){for(d8=0;d8<8;d8++){d9+=(o.pow(2,d8)*parseInt(d6.charAt(7-d8),10))}return d9+""}else{throw"notBinary: the value passed into unbinary was not an 8 bit binary number"}}else{throw"longErr"}}}};function cV(ei,eg,ea,el,ec,ej){var d8=(ei<0)?ea:eg;var d7=ec===0;var eh=(ec===c||ec<0)?0:ec;var ef=o.abs(ei);if(d7){eh=1;ef*=10;while(o.abs(o.round(ef)-ef)>0.000001&&eh<7){++eh;ef*=10}}else{if(eh!==0){ef*=o.pow(10,eh)}}var d9,ee=ef*2;if(o.floor(ef)===ef){d9=ef}else{if(o.floor(ee)===ee){var d6=o.floor(ef);d9=d6+(d6%2)}else{d9=o.round(ef)}}var eb="";var ek=el+eh;while(ek>0||d9>0){ek--;eb=""+(d9%10)+eb;d9=o.floor(d9/10)}if(ej!==c){var ed=eb.length-3-eh;while(ed>0){eb=eb.substring(0,ed)+ej+eb.substring(ed);ed-=3}}if(eh>0){return d8+eb.substring(0,eb.length-eh)+"."+eb.substring(eb.length-eh,eb.length)}else{return d8+eb}}function ak(ec,eb,d6,ee,d7,ed){if(ec instanceof Array){var d9=[];for(var d8=0,ea=ec.length;d8<ea;d8++){d9.push(cV(ec[d8],eb,d6,ee,d7,ed))}return d9}else{return cV(ec,eb,d6,ee,d7,ed)}}cU.nf=function(d8,d6,d7){return ak(d8,"","-",d6,d7)};cU.nfs=function(d8,d6,d7){return ak(d8," ","-",d6,d7)};cU.nfp=function(d8,d6,d7){return ak(d8,"+","-",d6,d7)};cU.nfc=function(d8,d6,d7){return ak(d8,"","-",d6,d7,",")};var aI=function(d8,d7){d7=(d7===c||d7===null)?d7=8:d7;if(d8<0){d8=4294967295+d8+1}var d6=Number(d8).toString(16).toUpperCase();while(d6.length<d7){d6="0"+d6}if(d6.length>=d7){d6=d6.substring(d6.length-d7,d6.length)}return d6};cU.hex=function(d7,d6){if(arguments.length===1){if(d7 instanceof bI){d6=4}else{d6=8}}return aI(d7,d6)};function dB(d6){var d7=parseInt("0x"+d6,16);if(d7>2147483647){d7-=4294967296}return d7}cU.unhex=function(d8){if(d8 instanceof Array){var d6=[];for(var d7=0;d7<d8.length;d7++){d6.push(dB(d8[d7]))}return d6}else{return dB(d8)}};cU.loadStrings=function(d7){if(localStorage[d7]){return localStorage[d7].split("\n")}var d6=s(d7);if(typeof d6!=="string"||d6===""){return[]}d6=d6.replace(/(\r\n?)/g,"\n").replace(/\n$/,"");return d6.split("\n")};cU.saveStrings=function(d7,d6){localStorage[d7]=d6.join("\n")};cU.loadBytes=function(d8){var d7=s(d8);var d6=[];for(var d9=0;d9<d7.length;d9++){d6.push(d7.charCodeAt(d9))}return d6};function a5(d6){return Array.prototype.slice.call(d6,1)}cU.matchAll=function(d7,d6){var d9=[],d8;var ea=new RegExp(d6,"g");while((d8=ea.exec(d7))!==null){d9.push(d8);if(d8[0].length===0){++ea.lastIndex}}return d9.length>0?d9:null};cU.__contains=function(d7,d6){if(typeof d7!=="string"){return d7.contains.apply(d7,a5(arguments))}return((d7!==null)&&(d6!==null)&&(typeof d6==="string")&&(d7.indexOf(d6)>-1))};cU.__replaceAll=function(d6,d8,d7){if(typeof d6!=="string"){return d6.replaceAll.apply(d6,a5(arguments))}return d6.replace(new RegExp(d8,"g"),d7)};cU.__replaceFirst=function(d6,d8,d7){if(typeof d6!=="string"){return d6.replaceFirst.apply(d6,a5(arguments))}return d6.replace(new RegExp(d8,""),d7)};cU.__replace=function(d9,eb,ea){if(typeof d9!=="string"){return d9.replace.apply(d9,a5(arguments))}if(eb instanceof RegExp){return d9.replace(eb,ea)}if(typeof eb!=="string"){eb=eb.toString()}if(eb===""){return d9}var d8=d9.indexOf(eb);if(d8<0){return d9}var d7=0,d6="";do{d6+=d9.substring(d7,d8)+ea;d7=d8+eb.length}while((d8=d9.indexOf(eb,d7))>=0);return d6+d9.substring(d7)};cU.__equals=function(d7,d6){if(d7.equals instanceof Function){return d7.equals.apply(d7,a5(arguments))}return d7.valueOf()===d6.valueOf()};cU.__toCharArray=function(d8){if(typeof d8!=="string"){return d8.toCharArray.apply(d8,a5(arguments))}var d9=[];for(var d7=0,d6=d8.length;d7<d6;++d7){d9[d7]=new bI(d8.charAt(d7))}return d9};cU.__split=function(d9,ea,d7){if(typeof d9!=="string"){return d9.split.apply(d9,a5(arguments))}var ec=new RegExp(ea);if((d7===c)||(d7<1)){return d9.split(ec)}var d6=[],eb=d9,ed;while(((ed=eb.search(ec))!==-1)&&(d6.length<(d7-1))){var d8=ec.exec(eb).toString();d6.push(eb.substring(0,ed));eb=eb.substring(ed+d8.length)}if((ed!==-1)||(eb!=="")){d6.push(eb)}return d6};cU.match=function(d7,d6){return d7.match(d6)};cU.__hashCode=function(d6){if(d6.hashCode instanceof Function){return d6.hashCode.apply(d6,a5(arguments))}return a(d6)};cU.__printStackTrace=function(d6){cU.println("Exception: "+d6.toString())};var d5=[];cU.console=l.console||E.logger;cU.println=function(d6){var d7=d5.length;if(d7){E.logger.log(d5.join(""));d5.length=0}if(arguments.length===0&&d7===0){E.logger.log("")}else{if(arguments.length!==0){E.logger.log(d6)}}};cU.print=function(d6){d5.push(d6)};cU.str=function(d8){if(d8 instanceof Array){var d6=[];for(var d7=0;d7<d8.length;d7++){d6.push(d8[d7].toString()+"")}return d6}else{return(d8.toString()+"")}};cU.trim=function(d8){if(d8 instanceof Array){var d6=[];for(var d7=0;d7<d8.length;d7++){d6.push(d8[d7].replace(/^\s*/,"").replace(/\s*$/,"").replace(/\r*$/,""))}return d6}else{return d8.replace(/^\s*/,"").replace(/\s*$/,"").replace(/\r*$/,"")}};function aM(d6){if(typeof d6==="number"){return d6!==0}else{if(typeof d6==="boolean"){return d6}else{if(typeof d6==="string"){return d6.toLowerCase()==="true"}else{if(d6 instanceof bI){return d6.code===49||d6.code===84||d6.code===116}}}}}cU.parseBoolean=function(d8){if(d8 instanceof Array){var d6=[];for(var d7=0;d7<d8.length;d7++){d6.push(aM(d8[d7]))}return d6}else{return aM(d8)}};cU.parseByte=function(d8){if(d8 instanceof Array){var d6=[];for(var d7=0;d7<d8.length;d7++){d6.push((0-(d8[d7]&128))|(d8[d7]&127))}return d6}else{return(0-(d8&128))|(d8&127)}};cU.parseChar=function(d8){if(typeof d8==="number"){return new bI(String.fromCharCode(d8&65535))}else{if(d8 instanceof Array){var d6=[];for(var d7=0;d7<d8.length;d7++){d6.push(new bI(String.fromCharCode(d8[d7]&65535)))}return d6}else{throw"char() may receive only one argument of type int, byte, int[], or byte[]."}}};function cN(d6){if(typeof d6==="number"){return d6}else{if(typeof d6==="boolean"){return d6?1:0}else{if(typeof d6==="string"){return parseFloat(d6)}else{if(d6 instanceof bI){return d6.code}}}}}cU.parseFloat=function(d8){if(d8 instanceof Array){var d6=[];for(var d7=0;d7<d8.length;d7++){d6.push(cN(d8[d7]))}return d6}else{return cN(d8)}};function ah(d8,d6){if(typeof d8==="number"){return d8&4294967295}else{if(typeof d8==="boolean"){return d8?1:0}else{if(typeof d8==="string"){var d7=parseInt(d8,d6||10);return d7&4294967295}else{if(d8 instanceof bI){return d8.code}}}}}cU.parseInt=function(d9,d8){if(d9 instanceof Array){var d6=[];for(var d7=0;d7<d9.length;d7++){if(typeof d9[d7]==="string"&&!/^\s*[+\-]?\d+\s*$/.test(d9[d7])){d6.push(0)}else{d6.push(ah(d9[d7],d8))}}return d6}else{return ah(d9,d8)}};cU.__int_cast=function(d6){return 0|d6};cU.__instanceof=function(d8,d7){if(typeof d7!=="function"){throw"Function is expected as type argument for instanceof operator"}if(typeof d8==="string"){return d7===Object||d7===String}if(d8 instanceof d7){return true}if(typeof d8!=="object"||d8===null){return false}var ea=d8.constructor;if(d7.$isInterface){var d9=[];while(ea){if(ea.$interfaces){d9=d9.concat(ea.$interfaces)}ea=ea.$base}while(d9.length>0){var d6=d9.shift();if(d6===d7){return true}if(d6.$interfaces){d9=d9.concat(d6.$interfaces)}}return false}while(ea.hasOwnProperty("$base")){ea=ea.$base;if(ea===d7){return true}}return false};cU.abs=o.abs;cU.ceil=o.ceil;cU.constrain=function(d7,d8,d6){return d7>d6?d6:d7<d8?d8:d7};cU.dist=function(){var d8,d7,d6;if(arguments.length===4){d8=arguments[0]-arguments[2];d7=arguments[1]-arguments[3];return o.sqrt(d8*d8+d7*d7)}else{if(arguments.length===6){d8=arguments[0]-arguments[3];d7=arguments[1]-arguments[4];d6=arguments[2]-arguments[5];return o.sqrt(d8*d8+d7*d7+d6*d6)}}};cU.exp=o.exp;cU.floor=o.floor;cU.lerp=function(d7,d6,d8){return((d6-d7)*d8)+d7};cU.log=o.log;cU.mag=function(d7,d6,d8){if(d8){return o.sqrt(d7*d7+d6*d6+d8*d8)}return o.sqrt(d7*d7+d6*d6)};cU.map=function(d9,d7,d8,d6,ea){return d6+(ea-d6)*((d9-d7)/(d8-d7))};cU.max=function(){if(arguments.length===2){return arguments[0]<arguments[1]?arguments[1]:arguments[0]}else{var d7=arguments.length===1?arguments[0]:arguments;if(!("length" in d7&&d7.length>0)){throw"Non-empty array is expected"}var d6=d7[0],d9=d7.length;for(var d8=1;d8<d9;++d8){if(d6<d7[d8]){d6=d7[d8]}}return d6}};cU.min=function(){if(arguments.length===2){return arguments[0]<arguments[1]?arguments[0]:arguments[1]}else{var d6=arguments.length===1?arguments[0]:arguments;if(!("length" in d6&&d6.length>0)){throw"Non-empty array is expected"}var d8=d6[0],d9=d6.length;for(var d7=1;d7<d9;++d7){if(d8>d6[d7]){d8=d6[d7]}}return d8}};cU.norm=function(d7,d6,d8){return(d7-d6)/(d8-d6)};cU.pow=o.pow;cU.round=o.round;cU.sq=function(d6){return d6*d6};cU.sqrt=o.sqrt;cU.acos=o.acos;cU.asin=o.asin;cU.atan=o.atan;cU.atan2=o.atan2;cU.cos=o.cos;cU.degrees=function(d6){return(d6*180)/o.PI};cU.radians=function(d6){return(d6/180)*o.PI};cU.sin=o.sin;cU.tan=o.tan;var bT=o.random;cU.random=function(){if(arguments.length===0){return bT()}else{if(arguments.length===1){return bT()*arguments[0]}else{var d7=arguments[0],d6=arguments[1];return bT()*(d6-d7)+d7}}};function cl(d8,d7){var ea=d8||362436069,d6=d7||521288629;var d9=function(){ea=(36969*(ea&65535)+(ea>>>16))&4294967295;d6=(18000*(d6&65535)+(d6>>>16))&4294967295;return(((ea&65535)<<16)|(d6&65535))&4294967295};this.nextDouble=function(){var eb=d9()/4294967296;return eb<0?1+eb:eb};this.nextInt=d9}cl.createRandomized=function(){var d6=new Date();return new cl((d6/60000)&4294967295,d6&4294967295)};cU.randomSeed=function(d6){bT=(new cl(d6)).nextDouble};cU.Random=function(d6){var d9=false,d7,d8;this.nextGaussian=function(){if(d9){d9=false;return d7}else{var ed,eb,ea;do{ed=2*d8()-1;eb=2*d8()-1;ea=ed*ed+eb*eb}while(ea>=1||ea===0);var ec=o.sqrt(-2*o.log(ea)/ea);d7=eb*ec;d9=true;return ed*ec}};d8=(d6===c)?o.random:(new cl(d6)).nextDouble};function dy(ed){var d7=ed!==c?new cl(ed):cl.createRandomized();var ec,ea;var d9=new q(512);for(ec=0;ec<256;++ec){d9[ec]=ec}for(ec=0;ec<256;++ec){var ef=d9[ea=d7.nextInt()&255];d9[ea]=d9[ec];d9[ec]=ef}for(ec=0;ec<256;++ec){d9[ec+256]=d9[ec]}function d6(ej,eg,em,el){var ek=ej&15;var ei=ek<8?eg:em,eh=ek<4?em:ek===12||ek===14?eg:el;return((ek&1)===0?ei:-ei)+((ek&2)===0?eh:-eh)}function eb(ei,eg,ej){var eh=(ei&1)===0?eg:ej;return(ei&2)===0?-eh:eh}function ee(eh,eg){return(eh&1)===0?-eg:eg}function d8(ei,eh,eg){return eh+ei*(eg-eh)}this.noise3d=function(es,er,eq){var ej=o.floor(es)&255,eh=o.floor(er)&255,eg=o.floor(eq)&255;es-=o.floor(es);er-=o.floor(er);eq-=o.floor(eq);var en=(3-2*es)*es*es,em=(3-2*er)*er*er,el=(3-2*eq)*eq*eq;var eu=d9[ej]+eh,ep=d9[eu]+eg,eo=d9[eu+1]+eg,et=d9[ej+1]+eh,ek=d9[et]+eg,ei=d9[et+1]+eg;return d8(el,d8(em,d8(en,d6(d9[ep],es,er,eq),d6(d9[ek],es-1,er,eq)),d8(en,d6(d9[eo],es,er-1,eq),d6(d9[ei],es-1,er-1,eq))),d8(em,d8(en,d6(d9[ep+1],es,er,eq-1),d6(d9[ek+1],es-1,er,eq-1)),d8(en,d6(d9[eo+1],es,er-1,eq-1),d6(d9[ei+1],es-1,er-1,eq-1))))};this.noise2d=function(eg,en){var em=o.floor(eg)&255,ek=o.floor(en)&255;eg-=o.floor(eg);en-=o.floor(en);var ei=(3-2*eg)*eg*eg,eh=(3-2*en)*en*en;var el=d9[em]+ek,ej=d9[em+1]+ek;return d8(eh,d8(ei,eb(d9[el],eg,en),eb(d9[ej],eg-1,en)),d8(ei,eb(d9[el+1],eg,en-1),eb(d9[ej+1],eg-1,en-1)))};this.noise1d=function(eg){var ei=o.floor(eg)&255;eg-=o.floor(eg);var eh=(3-2*eg)*eg*eg;return d8(eh,ee(d9[ei],eg),ee(d9[ei+1],eg-1))}}var bQ={generator:c,octaves:4,fallout:0.5,seed:c};cU.noise=function(d6,ed,ec){if(bQ.generator===c){bQ.generator=new dy(bQ.seed)}var eb=bQ.generator;var ea=1,d7=1,d9=0;for(var d8=0;d8<bQ.octaves;++d8){ea*=bQ.fallout;switch(arguments.length){case 1:d9+=ea*(1+eb.noise1d(d7*d6))/2;break;case 2:d9+=ea*(1+eb.noise2d(d7*d6,d7*ed))/2;break;case 3:d9+=ea*(1+eb.noise3d(d7*d6,d7*ed,d7*ec))/2;break}d7*=2}return d9};cU.noiseDetail=function(d7,d6){bQ.octaves=d7;if(d6!==c){bQ.fallout=d6}};cU.noiseSeed=function(d6){bQ.seed=d6;bQ.generator=c};dq.prototype.size=function(d7,ea,d9){cU.stroke(0);cU.fill(255);var d8={fillStyle:d3.fillStyle,strokeStyle:d3.strokeStyle,lineCap:d3.lineCap,lineJoin:d3.lineJoin};if(Z.style.length>0){Z.style.removeProperty("width");Z.style.removeProperty("height")}Z.width=cU.width=d7||100;Z.height=cU.height=ea||100;for(var eb in d8){if(d8.hasOwnProperty(eb)){d3[eb]=d8[eb]}}cU.textSize(dW);cU.background();bV=o.max(1000,d7*ea*0.05);cU.externals.context=d3;for(var d6=0;d6<j.SINCOS_LENGTH;d6++){ad[d6]=cU.sin(d6*(j.PI/180)*0.5);bf[d6]=cU.cos(d6*(j.PI/180)*0.5)}};bK.prototype.size=function(d6,d8,d7){if(d3===c){d3=Z.getContext("2d");ai=new R();c9=new R();dL=new aQ();du=new aQ();dG=dL;aN=du}dq.prototype.size.apply(this,arguments)};bu.prototype.size=(function(){var d7=false;return function d6(d9,eb,ea){if(d7){throw"Multiple calls to size() for 3D renders are not allowed."}d7=true;function ec(ee){var eh=["experimental-webgl","webgl","webkit-3d"],eg;for(var ef=0,ed=eh.length;ef<ed;ef++){eg=ee.getContext(eh[ef]);if(eg){break}}return eg}try{if(Z.width!==d9||Z.height!==eb){Z.setAttribute("width",d9);Z.setAttribute("height",eb)}d3=ec(Z);c6=d3.createTexture();bL=d3.createTexture()}catch(d8){E.debug(d8)}if(!d3){throw"WebGL context is not supported on this browser."}d3.viewport(0,0,Z.width,Z.height);d3.enable(d3.DEPTH_TEST);d3.enable(d3.BLEND);d3.blendFunc(d3.SRC_ALPHA,d3.ONE_MINUS_SRC_ALPHA);dN=by(d3,aa,bU);bM=by(d3,bO,bb);cU.strokeWeight(1);dw=by(d3,d4,bD);d3.useProgram(dw);dV("usingTexture3d",dw,"usingTexture",dP);cU.lightFalloff(1,0,0);cU.shininess(1);cU.ambient(255,255,255);cU.specular(0,0,0);cU.emissive(0,0,0);a9=d3.createBuffer();d3.bindBuffer(d3.ARRAY_BUFFER,a9);d3.bufferData(d3.ARRAY_BUFFER,dg,d3.STATIC_DRAW);cH=d3.createBuffer();d3.bindBuffer(d3.ARRAY_BUFFER,cH);d3.bufferData(d3.ARRAY_BUFFER,df,d3.STATIC_DRAW);dj=d3.createBuffer();d3.bindBuffer(d3.ARRAY_BUFFER,dj);d3.bufferData(d3.ARRAY_BUFFER,bA,d3.STATIC_DRAW);ay=d3.createBuffer();d3.bindBuffer(d3.ARRAY_BUFFER,ay);d3.bufferData(d3.ARRAY_BUFFER,ag,d3.STATIC_DRAW);bX=d3.createBuffer();d3.bindBuffer(d3.ARRAY_BUFFER,bX);d3.bufferData(d3.ARRAY_BUFFER,ae,d3.STATIC_DRAW);a8=d3.createBuffer();b3=d3.createBuffer();ap=d3.createBuffer();aC=d3.createBuffer();bv=d3.createBuffer();ab=d3.createBuffer();at=d3.createBuffer();d3.bindBuffer(d3.ARRAY_BUFFER,at);d3.bufferData(d3.ARRAY_BUFFER,new d([0,0,0]),d3.STATIC_DRAW);cG=d3.createBuffer();d3.bindBuffer(d3.ARRAY_BUFFER,cG);d3.bufferData(d3.ARRAY_BUFFER,new d([1,1,0,-1,1,0,-1,-1,0,1,-1,0]),d3.STATIC_DRAW);X=d3.createBuffer();d3.bindBuffer(d3.ARRAY_BUFFER,X);d3.bufferData(d3.ARRAY_BUFFER,new d([0,0,1,0,1,1,0,1]),d3.STATIC_DRAW);O=d3.createBuffer();d3.bindBuffer(d3.ELEMENT_ARRAY_BUFFER,O);d3.bufferData(d3.ELEMENT_ARRAY_BUFFER,new z([0,1,2,2,3,0]),d3.STATIC_DRAW);bP=new aK();cd=new aK();dG=new aK();aN=new aK();db=new aK();cU.camera();cU.perspective();dL=dG;du=aN;ai=new R();c9=new R();c2=new aK();aL=new aK();aH=new aK();br=new aK();b8=new aK();Q=new aK();Q.set(-1,3,-3,1,3,-6,3,0,-3,3,0,0,1,0,0,0);dq.prototype.size.apply(this,arguments)}}());bK.prototype.ambientLight=dq.prototype.a3DOnlyFunction;bu.prototype.ambientLight=function(ea,d9,d7,d6,ed,eb){if(dI===j.MAX_LIGHTS){throw"can only create "+j.MAX_LIGHTS+" lights"}var ec=new k(d6,ed,eb);var d8=new aK();d8.scale(1,-1,1);d8.apply(dG.array());d8.mult(ec,ec);d3.useProgram(dw);dY("lights.color.3d."+dI,dw,"lights"+dI+".color",[ea/255,d9/255,d7/255]);dY("lights.position.3d."+dI,dw,"lights"+dI+".position",ec.array());dV("lights.type.3d."+dI,dw,"lights"+dI+".type",0);dV("lightCount3d",dw,"lightCount",++dI)};bK.prototype.directionalLight=dq.prototype.a3DOnlyFunction;bu.prototype.directionalLight=function(ea,d9,d7,d6,ed,ec){if(dI===j.MAX_LIGHTS){throw"can only create "+j.MAX_LIGHTS+" lights"}d3.useProgram(dw);var eb=new aK();eb.scale(1,-1,1);eb.apply(dG.array());eb=eb.array();var d8=[eb[0]*d6+eb[4]*ed+eb[8]*ec,eb[1]*d6+eb[5]*ed+eb[9]*ec,eb[2]*d6+eb[6]*ed+eb[10]*ec];dY("lights.color.3d."+dI,dw,"lights"+dI+".color",[ea/255,d9/255,d7/255]);dY("lights.position.3d."+dI,dw,"lights"+dI+".position",d8);dV("lights.type.3d."+dI,dw,"lights"+dI+".type",1);dV("lightCount3d",dw,"lightCount",++dI)};bK.prototype.lightFalloff=dq.prototype.a3DOnlyFunction;bu.prototype.lightFalloff=function(d7,d6,d8){d3.useProgram(dw);dY("falloff3d",dw,"falloff",[d7,d6,d8])};bK.prototype.lightSpecular=dq.prototype.a3DOnlyFunction;bu.prototype.lightSpecular=function(d8,d7,d6){d3.useProgram(dw);dY("specular3d",dw,"specular",[d8/255,d7/255,d6/255])};cU.lights=function(){cU.ambientLight(128,128,128);cU.directionalLight(128,128,128,0,0,-1);cU.lightFalloff(1,0,0);cU.lightSpecular(0,0,0)};bK.prototype.pointLight=dq.prototype.a3DOnlyFunction;bu.prototype.pointLight=function(ea,d9,d7,d6,ed,eb){if(dI===j.MAX_LIGHTS){throw"can only create "+j.MAX_LIGHTS+" lights"}var ec=new k(d6,ed,eb);var d8=new aK();d8.scale(1,-1,1);d8.apply(dG.array());d8.mult(ec,ec);d3.useProgram(dw);dY("lights.color.3d."+dI,dw,"lights"+dI+".color",[ea/255,d9/255,d7/255]);dY("lights.position.3d."+dI,dw,"lights"+dI+".position",ec.array());dV("lights.type.3d."+dI,dw,"lights"+dI+".type",2);dV("lightCount3d",dw,"lightCount",++dI)};bK.prototype.noLights=dq.prototype.a3DOnlyFunction;bu.prototype.noLights=function(){dI=0;d3.useProgram(dw);dV("lightCount3d",dw,"lightCount",dI)};bK.prototype.spotLight=dq.prototype.a3DOnlyFunction;bu.prototype.spotLight=function(d6,ec,eh,ei,eg,ee,ed,eb,d9,d8,ea){if(dI===j.MAX_LIGHTS){throw"can only create "+j.MAX_LIGHTS+" lights"}d3.useProgram(dw);var ef=new k(ei,eg,ee);var ej=new aK();ej.scale(1,-1,1);ej.apply(dG.array());ej.mult(ef,ef);ej=ej.array();var d7=[ej[0]*ed+ej[4]*eb+ej[8]*d9,ej[1]*ed+ej[5]*eb+ej[9]*d9,ej[2]*ed+ej[6]*eb+ej[10]*d9];dY("lights.color.3d."+dI,dw,"lights"+dI+".color",[d6/255,ec/255,eh/255]);dY("lights.position.3d."+dI,dw,"lights"+dI+".position",ef.array());dY("lights.direction.3d."+dI,dw,"lights"+dI+".direction",d7);dY("lights.concentration.3d."+dI,dw,"lights"+dI+".concentration",ea);dY("lights.angle.3d."+dI,dw,"lights"+dI+".angle",d8);dV("lights.type.3d."+dI,dw,"lights"+dI+".type",3);dV("lightCount3d",dw,"lightCount",++dI)};cU.beginCamera=function(){if(am){throw ("You cannot call beginCamera() again before calling endCamera()")}else{am=true;dL=cd;du=bP}};cU.endCamera=function(){if(!am){throw ("You cannot call endCamera() before calling beginCamera()")}else{dG.set(bP);aN.set(cd);dL=dG;du=aN;am=false}};cU.camera=function(ek,ej,ei,ea,d8,d6,ee,ed,ec){if(arguments.length===0){dk=Z.width/2;di=Z.height/2;dh=di/o.tan(cI/2);ek=dk;ej=di;ei=dh;ea=dk;d8=di;d6=0;ee=0;ed=1;ec=0}var ef=new k(ek-ea,ej-d8,ei-d6);var eg=new k(ee,ed,ec);var eb,d9,d7;ef.normalize();var eh=k.cross(eg,ef);eg=k.cross(ef,eh);eh.normalize();eg.normalize();bP.set(eh.x,eh.y,eh.z,0,eg.x,eg.y,eg.z,0,ef.x,ef.y,ef.z,0,0,0,0,1);bP.translate(-ek,-ej,-ei);cd.reset();cd.invApply(eh.x,eh.y,eh.z,0,eg.x,eg.y,eg.z,0,ef.x,ef.y,ef.z,0,0,0,0,1);cd.translate(ek,ej,ei);dG.set(bP);aN.set(cd)};cU.perspective=function(ea,d8,eb,d7){if(arguments.length===0){di=Z.height/2;dh=di/o.tan(cI/2);aT=dh/10;ar=dh*10;b0=Z.width/Z.height;ea=cI;d8=b0;eb=aT;d7=ar}var ec,d6,ed,d9;ec=eb*o.tan(ea/2);d6=-ec;ed=ec*d8;d9=d6*d8;cU.frustum(d9,ed,d6,ec,eb,d7)};cU.frustum=function(ec,d8,d7,eb,ea,d6){ce=true;db=new aK();db.set((2*ea)/(d8-ec),0,(d8+ec)/(d8-ec),0,0,(2*ea)/(eb-d7),(eb+d7)/(eb-d7),0,0,0,-(d6+ea)/(d6-ea),-(2*d6*ea)/(d6-ea),0,0,-1,0);var d9=new aK();d9.set(db);d9.transpose();d3.useProgram(dN);a2("projection2d",dN,"projection",false,d9.array());d3.useProgram(dw);a2("projection3d",dw,"projection",false,d9.array());d3.useProgram(bM);a2("uProjectionUS",bM,"uProjection",false,d9.array())};cU.ortho=function(d7,ei,d6,eg,ed,ec){if(arguments.length===0){d7=0;ei=cU.width;d6=0;eg=cU.height;ed=-10;ec=10}var eh=2/(ei-d7);var ef=2/(eg-d6);var ee=-2/(ec-ed);var eb=-(ei+d7)/(ei-d7);var ea=-(eg+d6)/(eg-d6);var d9=-(ec+ed)/(ec-ed);db=new aK();db.set(eh,0,0,eb,0,ef,0,ea,0,0,ee,d9,0,0,0,1);var d8=new aK();d8.set(db);d8.transpose();d3.useProgram(dN);a2("projection2d",dN,"projection",false,d8.array());d3.useProgram(dw);a2("projection3d",dw,"projection",false,d8.array());d3.useProgram(bM);a2("uProjectionUS",bM,"uProjection",false,d8.array());ce=false};cU.printProjection=function(){db.print()};cU.printCamera=function(){bP.print()};bK.prototype.box=dq.prototype.a3DOnlyFunction;bu.prototype.box=function(d8,eb,ed){if(!eb||!ed){eb=ed=d8}var ea=new aK();ea.scale(d8,eb,ed);var d7=new aK();d7.scale(1,-1,1);d7.apply(dG.array());d7.transpose();if(aD){d3.useProgram(dw);a2("model3d",dw,"model",false,ea.array());a2("view3d",dw,"view",false,d7.array());d3.enable(d3.POLYGON_OFFSET_FILL);d3.polygonOffset(1,1);dY("color3d",dw,"color",bh);if(dI>0){var d9=new aK();d9.set(d7);var d6=new aK();d6.set(ea);d9.mult(d6);var ec=new aK();ec.set(d9);ec.invert();ec.transpose();a2("normalTransform3d",dw,"normalTransform",false,ec.array());dc("normal3d",dw,"Normal",3,cH)}else{cc("normal3d",dw,"Normal")}dc("vertex3d",dw,"Vertex",3,a9);cc("aColor3d",dw,"aColor");cc("aTexture3d",dw,"aTexture");d3.drawArrays(d3.TRIANGLES,0,dg.length/3);d3.disable(d3.POLYGON_OFFSET_FILL)}if(dS>0&&b9){d3.useProgram(dN);a2("model2d",dN,"model",false,ea.array());a2("view2d",dN,"view",false,d7.array());dY("color2d",dN,"color",cY);dV("picktype2d",dN,"picktype",0);dc("vertex2d",dN,"Vertex",3,dj);cc("aTextureCoord2d",dN,"aTextureCoord");d3.drawArrays(d3.LINES,0,bA.length/3)}};var cC=function(){var d7;cE=[];for(d7=0;d7<bG;d7++){cE.push(0);cE.push(-1);cE.push(0);cE.push(bm[d7]);cE.push(bl[d7]);cE.push(bk[d7])}cE.push(0);cE.push(-1);cE.push(0);cE.push(bm[0]);cE.push(bl[0]);cE.push(bk[0]);var eb,d8,ea;var d9=0;for(d7=2;d7<bF;d7++){eb=d8=d9;d9+=bG;ea=d9;for(var d6=0;d6<bG;d6++){cE.push(parseFloat(bm[eb]));cE.push(parseFloat(bl[eb]));cE.push(parseFloat(bk[eb++]));cE.push(parseFloat(bm[ea]));cE.push(parseFloat(bl[ea]));cE.push(parseFloat(bk[ea++]))}eb=d8;ea=d9;cE.push(parseFloat(bm[eb]));cE.push(parseFloat(bl[eb]));cE.push(parseFloat(bk[eb]));cE.push(parseFloat(bm[ea]));cE.push(parseFloat(bl[ea]));cE.push(parseFloat(bk[ea]))}for(d7=0;d7<bG;d7++){ea=d9+d7;cE.push(parseFloat(bm[ea]));cE.push(parseFloat(bl[ea]));cE.push(parseFloat(bk[ea]));cE.push(0);cE.push(1);cE.push(0)}cE.push(parseFloat(bm[d9]));cE.push(parseFloat(bl[d9]));cE.push(parseFloat(bk[d9]));cE.push(0);cE.push(1);cE.push(0);d3.bindBuffer(d3.ARRAY_BUFFER,a8);d3.bufferData(d3.ARRAY_BUFFER,new d(cE),d3.STATIC_DRAW)};cU.sphereDetail=function(d7,ei){var ed;if(arguments.length===1){d7=ei=arguments[0]}if(d7<3){d7=3}if(ei<2){ei=2}if((d7===bG)&&(ei===bF)){return}var eh=j.SINCOS_LENGTH/d7;var eb=new d(d7);var d8=new d(d7);for(ed=0;ed<d7;ed++){eb[ed]=bf[parseInt((ed*eh)%j.SINCOS_LENGTH,10)];d8[ed]=ad[parseInt((ed*eh)%j.SINCOS_LENGTH,10)]}var eg=d7*(ei-1)+2;var ef=0;bm=new d(eg);bl=new d(eg);bk=new d(eg);var ee=(j.SINCOS_LENGTH*0.5)/ei;var ea=ee;for(ed=1;ed<ei;ed++){var d9=ad[parseInt(ea%j.SINCOS_LENGTH,10)];var d6=-bf[parseInt(ea%j.SINCOS_LENGTH,10)];for(var ec=0;ec<d7;ec++){bm[ef]=eb[ec]*d9;bl[ef]=d6;bk[ef++]=d8[ec]*d9}ea+=ee}bG=d7;bF=ei;cC()};bK.prototype.sphere=dq.prototype.a3DOnlyFunction;bu.prototype.sphere=function(){var ea=arguments[0];if((bG<3)||(bF<2)){cU.sphereDetail(30)}var d9=new aK();d9.scale(ea,ea,ea);var d7=new aK();d7.scale(1,-1,1);d7.apply(dG.array());d7.transpose();if(aD){if(dI>0){var d8=new aK();d8.set(d7);var d6=new aK();d6.set(d9);d8.mult(d6);var eb=new aK();eb.set(d8);eb.invert();eb.transpose();a2("normalTransform3d",dw,"normalTransform",false,eb.array());dc("normal3d",dw,"Normal",3,a8)}else{cc("normal3d",dw,"Normal")}d3.useProgram(dw);cc("aTexture3d",dw,"aTexture");a2("model3d",dw,"model",false,d9.array());a2("view3d",dw,"view",false,d7.array());dc("vertex3d",dw,"Vertex",3,a8);cc("aColor3d",dw,"aColor");d3.enable(d3.POLYGON_OFFSET_FILL);d3.polygonOffset(1,1);dY("color3d",dw,"color",bh);d3.drawArrays(d3.TRIANGLE_STRIP,0,cE.length/3);d3.disable(d3.POLYGON_OFFSET_FILL)}if(dS>0&&b9){d3.useProgram(dN);a2("model2d",dN,"model",false,d9.array());a2("view2d",dN,"view",false,d7.array());dc("vertex2d",dN,"Vertex",3,a8);cc("aTextureCoord2d",dN,"aTextureCoord");dY("color2d",dN,"color",cY);dV("picktype2d",dN,"picktype",0);d3.drawArrays(d3.LINE_STRIP,0,cE.length/3)}};cU.modelX=function(ec,eb,ea){var ee=dG.array();var eg=cd.array();var d6=ee[0]*ec+ee[1]*eb+ee[2]*ea+ee[3];var ef=ee[4]*ec+ee[5]*eb+ee[6]*ea+ee[7];var ed=ee[8]*ec+ee[9]*eb+ee[10]*ea+ee[11];var d7=ee[12]*ec+ee[13]*eb+ee[14]*ea+ee[15];var d8=eg[0]*d6+eg[1]*ef+eg[2]*ed+eg[3]*d7;var d9=eg[12]*d6+eg[13]*ef+eg[14]*ed+eg[15]*d7;return(d9!==0)?d8/d9:d8};cU.modelY=function(ec,eb,ea){var ee=dG.array();var eg=cd.array();var d6=ee[0]*ec+ee[1]*eb+ee[2]*ea+ee[3];var ef=ee[4]*ec+ee[5]*eb+ee[6]*ea+ee[7];var ed=ee[8]*ec+ee[9]*eb+ee[10]*ea+ee[11];var d7=ee[12]*ec+ee[13]*eb+ee[14]*ea+ee[15];var d8=eg[4]*d6+eg[5]*ef+eg[6]*ed+eg[7]*d7;var d9=eg[12]*d6+eg[13]*ef+eg[14]*ed+eg[15]*d7;return(d9!==0)?d8/d9:d8};cU.modelZ=function(ec,eb,ea){var ee=dG.array();var eg=cd.array();var d6=ee[0]*ec+ee[1]*eb+ee[2]*ea+ee[3];var ef=ee[4]*ec+ee[5]*eb+ee[6]*ea+ee[7];var ed=ee[8]*ec+ee[9]*eb+ee[10]*ea+ee[11];var d8=ee[12]*ec+ee[13]*eb+ee[14]*ea+ee[15];var d7=eg[8]*d6+eg[9]*ef+eg[10]*ed+eg[11]*d8;var d9=eg[12]*d6+eg[13]*ef+eg[14]*ed+eg[15]*d8;return(d9!==0)?d7/d9:d7};bK.prototype.ambient=dq.prototype.a3DOnlyFunction;bu.prototype.ambient=function(){var d6=arguments;d3.useProgram(dw);dV("usingMat3d",dw,"usingMat",true);if(d6.length===1){if(typeof d6[0]==="string"){var d7=d6[0].slice(5,-1).split(",");dY("mat_ambient3d",dw,"mat_ambient",[d7[0]/255,d7[1]/255,d7[2]/255])}else{dY("mat_ambient3d",dw,"mat_ambient",[d6[0]/255,d6[0]/255,d6[0]/255])}}else{dY("mat_ambient3d",dw,"mat_ambient",[d6[0]/255,d6[1]/255,d6[2]/255])}};bK.prototype.emissive=dq.prototype.a3DOnlyFunction;bu.prototype.emissive=function(){var d6=arguments;d3.useProgram(dw);dV("usingMat3d",dw,"usingMat",true);if(d6.length===1){if(typeof d6[0]==="string"){var d7=d6[0].slice(5,-1).split(",");dY("mat_emissive3d",dw,"mat_emissive",[d7[0]/255,d7[1]/255,d7[2]/255])}else{dY("mat_emissive3d",dw,"mat_emissive",[d6[0]/255,d6[0]/255,d6[0]/255])}}else{dY("mat_emissive3d",dw,"mat_emissive",[d6[0]/255,d6[1]/255,d6[2]/255])}};bK.prototype.shininess=dq.prototype.a3DOnlyFunction;bu.prototype.shininess=function(d6){d3.useProgram(dw);dV("usingMat3d",dw,"usingMat",true);dY("shininess3d",dw,"shininess",d6)};bK.prototype.specular=dq.prototype.a3DOnlyFunction;bu.prototype.specular=function(){var d6=cU.color.apply(this,arguments);d3.useProgram(dw);dV("usingMat3d",dw,"usingMat",true);dY("mat_specular3d",dw,"mat_specular",cU.color.toGLArray(d6).slice(0,3))};cU.screenX=function(ed,ec,eb){var ef=dG.array();if(ef.length===16){var d6=ef[0]*ed+ef[1]*ec+ef[2]*eb+ef[3];var eg=ef[4]*ed+ef[5]*ec+ef[6]*eb+ef[7];var ee=ef[8]*ed+ef[9]*ec+ef[10]*eb+ef[11];var d7=ef[12]*ed+ef[13]*ec+ef[14]*eb+ef[15];var ea=db.array();var d8=ea[0]*d6+ea[1]*eg+ea[2]*ee+ea[3]*d7;var d9=ea[12]*d6+ea[13]*eg+ea[14]*ee+ea[15]*d7;if(d9!==0){d8/=d9}return cU.width*(1+d8)/2}else{return dG.multX(ed,ec)}};cU.screenY=function ax(ed,ec,eb){var ef=dG.array();if(ef.length===16){var d6=ef[0]*ed+ef[1]*ec+ef[2]*eb+ef[3];var eg=ef[4]*ed+ef[5]*ec+ef[6]*eb+ef[7];var ee=ef[8]*ed+ef[9]*ec+ef[10]*eb+ef[11];var d7=ef[12]*ed+ef[13]*ec+ef[14]*eb+ef[15];var ea=db.array();var d8=ea[4]*d6+ea[5]*eg+ea[6]*ee+ea[7]*d7;var d9=ea[12]*d6+ea[13]*eg+ea[14]*ee+ea[15]*d7;if(d9!==0){d8/=d9}return cU.height*(1+d8)/2}else{return dG.multY(ed,ec)}};cU.screenZ=function av(ed,ec,eb){var ef=dG.array();if(ef.length!==16){return 0}var ea=db.array();var d6=ef[0]*ed+ef[1]*ec+ef[2]*eb+ef[3];var eg=ef[4]*ed+ef[5]*ec+ef[6]*eb+ef[7];var ee=ef[8]*ed+ef[9]*ec+ef[10]*eb+ef[11];var d8=ef[12]*ed+ef[13]*ec+ef[14]*eb+ef[15];var d7=ea[8]*d6+ea[9]*eg+ea[10]*ee+ea[11]*d8;var d9=ea[12]*d6+ea[13]*eg+ea[14]*ee+ea[15]*d8;if(d9!==0){d7/=d9}return(d7+1)/2};dq.prototype.fill=function(){var d6=cU.color(arguments[0],arguments[1],arguments[2],arguments[3]);if(d6===aU&&aD){return}aD=true;aU=d6};bK.prototype.fill=function(){dq.prototype.fill.apply(this,arguments);an=true};bu.prototype.fill=function(){dq.prototype.fill.apply(this,arguments);bh=cU.color.toGLArray(aU)};function bg(){if(aD){if(an){d3.fillStyle=cU.color.toString(aU);an=false}d3.fill()}}cU.noFill=function(){aD=false};dq.prototype.stroke=function(){var d6=cU.color(arguments[0],arguments[1],arguments[2],arguments[3]);if(d6===ct&&b9){return}b9=true;ct=d6};bK.prototype.stroke=function(){dq.prototype.stroke.apply(this,arguments);bY=true};bu.prototype.stroke=function(){dq.prototype.stroke.apply(this,arguments);cY=cU.color.toGLArray(ct)};function dd(){if(b9){if(bY){d3.strokeStyle=cU.color.toString(ct);bY=false}d3.stroke()}}cU.noStroke=function(){b9=false};dq.prototype.strokeWeight=function(d6){dS=d6};bK.prototype.strokeWeight=function(d6){dq.prototype.strokeWeight.apply(this,arguments);d3.lineWidth=d6};bu.prototype.strokeWeight=function(d6){dq.prototype.strokeWeight.apply(this,arguments);d3.useProgram(dN);dY("pointSize2d",dN,"pointSize",d6);d3.useProgram(bM);dY("pointSizeUnlitShape",bM,"pointSize",d6);d3.lineWidth(d6)};cU.strokeCap=function(d6){dU.$ensureContext().lineCap=d6};cU.strokeJoin=function(d6){dU.$ensureContext().lineJoin=d6};dq.prototype.smooth=function(){Z.style.setProperty("image-rendering","optimizeQuality","important")};bK.prototype.smooth=function(){dq.prototype.smooth.apply(this,arguments);if("mozImageSmoothingEnabled" in d3){d3.mozImageSmoothingEnabled=true}};dq.prototype.noSmooth=function(){Z.style.setProperty("image-rendering","optimizeSpeed","important")};bK.prototype.noSmooth=function(){dq.prototype.noSmooth.apply(this,arguments);if("mozImageSmoothingEnabled" in d3){d3.mozImageSmoothingEnabled=false}};function c0(d8,d7,d6){var d9=0|(d6*((d7&j.ALPHA_MASK)>>>24));return(o.min(((d8&j.ALPHA_MASK)>>>24)+d9,255)<<24|cU.mix(d8&j.RED_MASK,d7&j.RED_MASK,d9)&j.RED_MASK|cU.mix(d8&j.GREEN_MASK,d7&j.GREEN_MASK,d9)&j.GREEN_MASK|cU.mix(d8&j.BLUE_MASK,d7&j.BLUE_MASK,d9))}bK.prototype.point=function(d6,d9){if(b9){if(cP.options.crispLines){var d7=o.PI/4;var d8=cU.get(d6,d9);cU.set(d6,d9,c0(d8,ct,d7))}else{if(dS>1){d3.fillStyle=cU.color.toString(ct);an=true;d3.beginPath();d3.arc(d6,d9,dS/2,0,j.TWO_PI,false);d3.fill();d3.closePath()}else{d3.fillStyle=cU.color.toString(ct);d3.fillRect(o.round(d6),o.round(d9),1,1);an=true}}}};bu.prototype.point=function(d6,ea,d9){var d8=new aK();d8.translate(d6,ea,d9||0);d8.transpose();var d7=new aK();d7.scale(1,-1,1);d7.apply(dG.array());d7.transpose();d3.useProgram(dN);a2("model2d",dN,"model",false,d8.array());a2("view2d",dN,"view",false,d7.array());if(dS>0&&b9){dY("color2d",dN,"color",cY);dV("picktype2d",dN,"picktype",0);dc("vertex2d",dN,"Vertex",3,at);cc("aTextureCoord2d",dN,"aTextureCoord");d3.drawArrays(d3.POINTS,0,1)}};cU.beginShape=function(d6){dO=d6;d1=[];a4=[]};bK.prototype.vertex=function(d6,ea,d9,d8){var d7=[];if(ds){ds=false}d7.isVert=true;d7[0]=d6;d7[1]=ea;d7[2]=0;d7[3]=d9;d7[4]=d8;d7[5]=aU;d7[6]=ct;a4.push(d7)};bu.prototype.vertex=function(d6,eb,ea,d9,d8){var d7=[];if(ds){ds=false}d7.isVert=true;d7[0]=d6;d7[1]=eb;d7[2]=ea||0;d7[3]=d9||0;d7[4]=d8||0;d7[5]=bh[0];d7[6]=bh[1];d7[7]=bh[2];d7[8]=bh[3];d7[9]=cY[0];d7[10]=cY[1];d7[11]=cY[2];d7[12]=cY[3];d7[13]=a1;d7[14]=a0;d7[15]=aY;a4.push(d7)};var dX=function(d8,d7){var d6=new aK();d6.scale(1,-1,1);d6.apply(dG.array());d6.transpose();d3.useProgram(bM);a2("uViewUS",bM,"uView",false,d6.array());dc("aVertexUS",bM,"aVertex",3,at);d3.bufferData(d3.ARRAY_BUFFER,new d(d8),d3.STREAM_DRAW);dc("aColorUS",bM,"aColor",4,aC);d3.bufferData(d3.ARRAY_BUFFER,new d(d7),d3.STREAM_DRAW);d3.drawArrays(d3.POINTS,0,d8.length/3)};var bc=function(ea,d9,d8){var d7;if(d9==="LINES"){d7=d3.LINES}else{if(d9==="LINE_LOOP"){d7=d3.LINE_LOOP}else{d7=d3.LINE_STRIP}}var d6=new aK();d6.scale(1,-1,1);d6.apply(dG.array());d6.transpose();d3.useProgram(bM);a2("uViewUS",bM,"uView",false,d6.array());dc("aVertexUS",bM,"aVertex",3,b3);d3.bufferData(d3.ARRAY_BUFFER,new d(ea),d3.STREAM_DRAW);dc("aColorUS",bM,"aColor",4,bv);d3.bufferData(d3.ARRAY_BUFFER,new d(d8),d3.STREAM_DRAW);d3.drawArrays(d7,0,ea.length/3)};var dl=function(ec,eb,ea,d8){var d7;if(eb==="TRIANGLES"){d7=d3.TRIANGLES}else{if(eb==="TRIANGLE_FAN"){d7=d3.TRIANGLE_FAN}else{d7=d3.TRIANGLE_STRIP}}var d6=new aK();d6.scale(1,-1,1);d6.apply(dG.array());d6.transpose();d3.useProgram(dw);a2("model3d",dw,"model",false,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);a2("view3d",dw,"view",false,d6.array());d3.enable(d3.POLYGON_OFFSET_FILL);d3.polygonOffset(1,1);dY("color3d",dw,"color",[-1,0,0,0]);dc("vertex3d",dw,"Vertex",3,ap);d3.bufferData(d3.ARRAY_BUFFER,new d(ec),d3.STREAM_DRAW);dc("aColor3d",dw,"aColor",4,aC);d3.bufferData(d3.ARRAY_BUFFER,new d(ea),d3.STREAM_DRAW);cc("normal3d",dw,"Normal");var d9;if(dP){if(d0===j.IMAGE){for(d9=0;d9<d8.length;d9+=2){d8[d9]=d8[d9]/cq.width;d8[d9+1]/=cq.height}}for(d9=0;d9<d8.length;d9+=2){if(d8[d9+0]>1){d8[d9+0]-=(d8[d9+0]-1)}if(d8[d9+1]>1){d8[d9+1]-=(d8[d9+1]-1)}}dV("usingTexture3d",dw,"usingTexture",dP);dc("aTexture3d",dw,"aTexture",2,ab);d3.bufferData(d3.ARRAY_BUFFER,new d(d8),d3.STREAM_DRAW)}d3.drawArrays(d7,0,ec.length/3);d3.disable(d3.POLYGON_OFFSET_FILL)};bK.prototype.endShape=function(ed){if(a4.length===0){return}var d9=ed===j.CLOSE;var d8=[];var d6=[];var ef=[];var ei=[];var eb=[];var ee;ds=true;var ec,ea,d7;var eh=a4.length;for(ec=0;ec<eh;ec++){ee=a4[ec];for(ea=0;ea<3;ea++){d6.push(ee[ea])}}for(ec=0;ec<eh;ec++){ee=a4[ec];for(ea=5;ea<9;ea++){ef.push(ee[ea])}}for(ec=0;ec<eh;ec++){ee=a4[ec];for(ea=9;ea<13;ea++){ei.push(ee[ea])}}for(ec=0;ec<eh;ec++){ee=a4[ec];eb.push(ee[3]);eb.push(ee[4])}if(d9){d6.push(a4[0][0]);d6.push(a4[0][1]);d6.push(a4[0][2]);for(ec=5;ec<9;ec++){ef.push(a4[0][ec])}for(ec=9;ec<13;ec++){ei.push(a4[0][ec])}eb.push(a4[0][3]);eb.push(a4[0][4])}if(dM&&(dO===j.POLYGON||dO===c)){if(eh>3){var eg=[],ej=1-aF;d3.beginPath();d3.moveTo(a4[1][0],a4[1][1]);for(ec=1;(ec+2)<eh;ec++){ee=a4[ec];eg[0]=[ee[0],ee[1]];eg[1]=[ee[0]+(ej*a4[ec+1][0]-ej*a4[ec-1][0])/6,ee[1]+(ej*a4[ec+1][1]-ej*a4[ec-1][1])/6];eg[2]=[a4[ec+1][0]+(ej*a4[ec][0]-ej*a4[ec+2][0])/6,a4[ec+1][1]+(ej*a4[ec][1]-ej*a4[ec+2][1])/6];eg[3]=[a4[ec+1][0],a4[ec+1][1]];d3.bezierCurveTo(eg[1][0],eg[1][1],eg[2][0],eg[2][1],eg[3][0],eg[3][1])}if(d9){d3.lineTo(a4[0][0],a4[0][1])}bg();dd();d3.closePath()}}else{if(V&&(dO===j.POLYGON||dO===c)){d3.beginPath();for(ec=0;ec<eh;ec++){ee=a4[ec];if(a4[ec]["isVert"]){if(a4[ec]["moveTo"]){d3.moveTo(ee[0],ee[1])}else{d3.lineTo(ee[0],ee[1])}}else{d3.bezierCurveTo(a4[ec][0],a4[ec][1],a4[ec][2],a4[ec][3],a4[ec][4],a4[ec][5])}}if(d9){d3.lineTo(a4[0][0],a4[0][1])}bg();dd();d3.closePath()}else{if(dO===j.POINTS){for(ec=0;ec<eh;ec++){ee=a4[ec];if(b9){cU.stroke(ee[6])}cU.point(ee[0],ee[1])}}else{if(dO===j.LINES){for(ec=0;(ec+1)<eh;ec+=2){ee=a4[ec];if(b9){cU.stroke(a4[ec+1][6])}cU.line(ee[0],ee[1],a4[ec+1][0],a4[ec+1][1])}}else{if(dO===j.TRIANGLES){for(ec=0;(ec+2)<eh;ec+=3){ee=a4[ec];d3.beginPath();d3.moveTo(ee[0],ee[1]);d3.lineTo(a4[ec+1][0],a4[ec+1][1]);d3.lineTo(a4[ec+2][0],a4[ec+2][1]);d3.lineTo(ee[0],ee[1]);if(aD){cU.fill(a4[ec+2][5]);bg()}if(b9){cU.stroke(a4[ec+2][6]);dd()}d3.closePath()}}else{if(dO===j.TRIANGLE_STRIP){for(ec=0;(ec+1)<eh;ec++){ee=a4[ec];d3.beginPath();d3.moveTo(a4[ec+1][0],a4[ec+1][1]);d3.lineTo(ee[0],ee[1]);if(b9){cU.stroke(a4[ec+1][6])}if(aD){cU.fill(a4[ec+1][5])}if(ec+2<eh){d3.lineTo(a4[ec+2][0],a4[ec+2][1]);if(b9){cU.stroke(a4[ec+2][6])}if(aD){cU.fill(a4[ec+2][5])}}bg();dd();d3.closePath()}}else{if(dO===j.TRIANGLE_FAN){if(eh>2){d3.beginPath();d3.moveTo(a4[0][0],a4[0][1]);d3.lineTo(a4[1][0],a4[1][1]);d3.lineTo(a4[2][0],a4[2][1]);if(aD){cU.fill(a4[2][5]);bg()}if(b9){cU.stroke(a4[2][6]);dd()}d3.closePath();for(ec=3;ec<eh;ec++){ee=a4[ec];d3.beginPath();d3.moveTo(a4[0][0],a4[0][1]);d3.lineTo(a4[ec-1][0],a4[ec-1][1]);d3.lineTo(ee[0],ee[1]);if(aD){cU.fill(ee[5]);bg()}if(b9){cU.stroke(ee[6]);dd()}d3.closePath()}}}else{if(dO===j.QUADS){for(ec=0;(ec+3)<eh;ec+=4){ee=a4[ec];d3.beginPath();d3.moveTo(ee[0],ee[1]);for(ea=1;ea<4;ea++){d3.lineTo(a4[ec+ea][0],a4[ec+ea][1])}d3.lineTo(ee[0],ee[1]);if(aD){cU.fill(a4[ec+3][5]);bg()}if(b9){cU.stroke(a4[ec+3][6]);dd()}d3.closePath()}}else{if(dO===j.QUAD_STRIP){if(eh>3){for(ec=0;(ec+1)<eh;ec+=2){ee=a4[ec];d3.beginPath();if(ec+3<eh){d3.moveTo(a4[ec+2][0],a4[ec+2][1]);d3.lineTo(ee[0],ee[1]);d3.lineTo(a4[ec+1][0],a4[ec+1][1]);d3.lineTo(a4[ec+3][0],a4[ec+3][1]);if(aD){cU.fill(a4[ec+3][5])}if(b9){cU.stroke(a4[ec+3][6])}}else{d3.moveTo(ee[0],ee[1]);d3.lineTo(a4[ec+1][0],a4[ec+1][1])}bg();dd();d3.closePath()}}}else{d3.beginPath();d3.moveTo(a4[0][0],a4[0][1]);for(ec=1;ec<eh;ec++){ee=a4[ec];if(ee.isVert){if(ee.moveTo){d3.moveTo(ee[0],ee[1])}else{d3.lineTo(ee[0],ee[1])}}}if(d9){d3.lineTo(a4[0][0],a4[0][1])}bg();dd();d3.closePath()}}}}}}}}}dM=false;V=false;b6=[];c1=0};bu.prototype.endShape=function(ed){if(a4.length===0){return}var d9=ed===j.CLOSE;var d8=[];var d6=[];var ef=[];var ei=[];var eb=[];var ee;ds=true;var ec,ea,d7;var eh=a4.length;for(ec=0;ec<eh;ec++){ee=a4[ec];for(ea=0;ea<3;ea++){d6.push(ee[ea])}}for(ec=0;ec<eh;ec++){ee=a4[ec];for(ea=5;ea<9;ea++){ef.push(ee[ea])}}for(ec=0;ec<eh;ec++){ee=a4[ec];for(ea=9;ea<13;ea++){ei.push(ee[ea])}}for(ec=0;ec<eh;ec++){ee=a4[ec];eb.push(ee[3]);eb.push(ee[4])}if(d9){d6.push(a4[0][0]);d6.push(a4[0][1]);d6.push(a4[0][2]);for(ec=5;ec<9;ec++){ef.push(a4[0][ec])}for(ec=9;ec<13;ec++){ei.push(a4[0][ec])}eb.push(a4[0][3]);eb.push(a4[0][4])}if(dM&&(dO===j.POLYGON||dO===c)){d8=d6;if(b9){bc(d8,null,ei)}if(aD){dl(d6,null,ef)}}else{if(V&&(dO===j.POLYGON||dO===c)){d8=d6;d8.splice(d8.length-3);ei.splice(ei.length-4);if(b9){bc(d8,null,ei)}if(aD){dl(d6,"TRIANGLES",ef)}}else{if(dO===j.POINTS){for(ec=0;ec<eh;ec++){ee=a4[ec];for(ea=0;ea<3;ea++){d8.push(ee[ea])}}dX(d8,ei)}else{if(dO===j.LINES){for(ec=0;ec<eh;ec++){ee=a4[ec];for(ea=0;ea<3;ea++){d8.push(ee[ea])}}for(ec=0;ec<eh;ec++){ee=a4[ec];for(ea=5;ea<9;ea++){ef.push(ee[ea])}}bc(d8,"LINES",ei)}else{if(dO===j.TRIANGLES){if(eh>2){for(ec=0;(ec+2)<eh;ec+=3){d6=[];eb=[];d8=[];ef=[];ei=[];for(ea=0;ea<3;ea++){for(d7=0;d7<3;d7++){d8.push(a4[ec+ea][d7]);d6.push(a4[ec+ea][d7])}}for(ea=0;ea<3;ea++){for(d7=3;d7<5;d7++){eb.push(a4[ec+ea][d7])}}for(ea=0;ea<3;ea++){for(d7=5;d7<9;d7++){ef.push(a4[ec+ea][d7]);ei.push(a4[ec+ea][d7+4])}}if(b9){bc(d8,"LINE_LOOP",ei)}if(aD||dP){dl(d6,"TRIANGLES",ef,eb)}}}}else{if(dO===j.TRIANGLE_STRIP){if(eh>2){for(ec=0;(ec+2)<eh;ec++){d8=[];d6=[];ei=[];ef=[];eb=[];for(ea=0;ea<3;ea++){for(d7=0;d7<3;d7++){d8.push(a4[ec+ea][d7]);d6.push(a4[ec+ea][d7])}}for(ea=0;ea<3;ea++){for(d7=3;d7<5;d7++){eb.push(a4[ec+ea][d7])}}for(ea=0;ea<3;ea++){for(d7=5;d7<9;d7++){ei.push(a4[ec+ea][d7+4]);ef.push(a4[ec+ea][d7])}}if(aD||dP){dl(d6,"TRIANGLE_STRIP",ef,eb)}if(b9){bc(d8,"LINE_LOOP",ei)}}}}else{if(dO===j.TRIANGLE_FAN){if(eh>2){for(ec=0;ec<3;ec++){ee=a4[ec];for(ea=0;ea<3;ea++){d8.push(ee[ea])}}for(ec=0;ec<3;ec++){ee=a4[ec];for(ea=9;ea<13;ea++){ei.push(ee[ea])}}if(b9){bc(d8,"LINE_LOOP",ei)}for(ec=2;(ec+1)<eh;ec++){d8=[];ei=[];d8.push(a4[0][0]);d8.push(a4[0][1]);d8.push(a4[0][2]);ei.push(a4[0][9]);ei.push(a4[0][10]);ei.push(a4[0][11]);ei.push(a4[0][12]);for(ea=0;ea<2;ea++){for(d7=0;d7<3;d7++){d8.push(a4[ec+ea][d7])}}for(ea=0;ea<2;ea++){for(d7=9;d7<13;d7++){ei.push(a4[ec+ea][d7])}}if(b9){bc(d8,"LINE_STRIP",ei)}}if(aD||dP){dl(d6,"TRIANGLE_FAN",ef,eb)}}}else{if(dO===j.QUADS){for(ec=0;(ec+3)<eh;ec+=4){d8=[];for(ea=0;ea<4;ea++){ee=a4[ec+ea];for(d7=0;d7<3;d7++){d8.push(ee[d7])}}if(b9){bc(d8,"LINE_LOOP",ei)}if(aD){d6=[];ef=[];eb=[];for(ea=0;ea<3;ea++){d6.push(a4[ec][ea])}for(ea=5;ea<9;ea++){ef.push(a4[ec][ea])}for(ea=0;ea<3;ea++){d6.push(a4[ec+1][ea])}for(ea=5;ea<9;ea++){ef.push(a4[ec+1][ea])}for(ea=0;ea<3;ea++){d6.push(a4[ec+3][ea])}for(ea=5;ea<9;ea++){ef.push(a4[ec+3][ea])}for(ea=0;ea<3;ea++){d6.push(a4[ec+2][ea])}for(ea=5;ea<9;ea++){ef.push(a4[ec+2][ea])}if(dP){eb.push(a4[ec+0][3]);eb.push(a4[ec+0][4]);eb.push(a4[ec+1][3]);eb.push(a4[ec+1][4]);eb.push(a4[ec+3][3]);eb.push(a4[ec+3][4]);eb.push(a4[ec+2][3]);eb.push(a4[ec+2][4])}dl(d6,"TRIANGLE_STRIP",ef,eb)}}}else{if(dO===j.QUAD_STRIP){var eg=[];if(eh>3){for(ec=0;ec<2;ec++){ee=a4[ec];for(ea=0;ea<3;ea++){d8.push(ee[ea])}}for(ec=0;ec<2;ec++){ee=a4[ec];for(ea=9;ea<13;ea++){ei.push(ee[ea])}}bc(d8,"LINE_STRIP",ei);if(eh>4&&eh%2>0){eg=d6.splice(d6.length-3);a4.pop()}for(ec=0;(ec+3)<eh;ec+=2){d8=[];ei=[];for(ea=0;ea<3;ea++){d8.push(a4[ec+1][ea])}for(ea=0;ea<3;ea++){d8.push(a4[ec+3][ea])}for(ea=0;ea<3;ea++){d8.push(a4[ec+2][ea])}for(ea=0;ea<3;ea++){d8.push(a4[ec+0][ea])}for(ea=9;ea<13;ea++){ei.push(a4[ec+1][ea])}for(ea=9;ea<13;ea++){ei.push(a4[ec+3][ea])}for(ea=9;ea<13;ea++){ei.push(a4[ec+2][ea])}for(ea=9;ea<13;ea++){ei.push(a4[ec+0][ea])}if(b9){bc(d8,"LINE_STRIP",ei)}}if(aD||dP){dl(d6,"TRIANGLE_LIST",ef,eb)}}}else{if(eh===1){for(ea=0;ea<3;ea++){d8.push(a4[0][ea])}for(ea=9;ea<13;ea++){ei.push(a4[0][ea])}dX(d8,ei)}else{for(ec=0;ec<eh;ec++){ee=a4[ec];for(ea=0;ea<3;ea++){d8.push(ee[ea])}for(ea=5;ea<9;ea++){ei.push(ee[ea])}}if(b9&&d9){bc(d8,"LINE_LOOP",ei)}else{if(b9&&!d9){bc(d8,"LINE_STRIP",ei)}}if(aD||dP){dl(d6,"TRIANGLE_FAN",ef,eb)}}}}}}}}}dP=false;d3.useProgram(dw);dV("usingTexture3d",dw,"usingTexture",dP)}}dM=false;V=false;b6=[];c1=0};var aR=function(d9,d8){var ea=1/d9;var d7=ea*ea;var d6=d7*ea;d8.set(0,0,0,1,d6,d7,ea,0,6*d6,2*d7,0,0,6*d6,0,0,0)};var dp=function(){if(!aH){c2=new aK();aH=new aK();cK=true}var d6=aF;c2.set((d6-1)/2,(d6+3)/2,(-3-d6)/2,(1-d6)/2,(1-d6),(-5-d6)/2,(d6+2),(d6-1)/2,(d6-1)/2,0,(1-d6)/2,0,0,1,0,0);aR(M,aH);if(!b8){aL=new aK()}aL.set(c2);aL.preApply(b8);aH.apply(c2)};bK.prototype.bezierVertex=function(){V=true;var d6=[];if(ds){throw ("vertex() must be used at least once before calling bezierVertex()")}for(var d7=0;d7<arguments.length;d7++){d6[d7]=arguments[d7]}a4.push(d6);a4[a4.length-1]["isVert"]=false};bu.prototype.bezierVertex=function(){V=true;var ed=[];if(ds){throw ("vertex() must be used at least once before calling bezierVertex()")}if(arguments.length===9){if(br===c){br=new aK()}var ei=a4.length-1;aR(cw,br);br.apply(Q);var ek=br.array();var d9=a4[ei][0],ej=a4[ei][1],ec=a4[ei][2];var ef=ek[4]*d9+ek[5]*arguments[0]+ek[6]*arguments[3]+ek[7]*arguments[6];var ee=ek[8]*d9+ek[9]*arguments[0]+ek[10]*arguments[3]+ek[11]*arguments[6];var eb=ek[12]*d9+ek[13]*arguments[0]+ek[14]*arguments[3]+ek[15]*arguments[6];var el=ek[4]*ej+ek[5]*arguments[1]+ek[6]*arguments[4]+ek[7]*arguments[7];var eh=ek[8]*ej+ek[9]*arguments[1]+ek[10]*arguments[4]+ek[11]*arguments[7];var eg=ek[12]*ej+ek[13]*arguments[1]+ek[14]*arguments[4]+ek[15]*arguments[7];var d8=ek[4]*ec+ek[5]*arguments[2]+ek[6]*arguments[5]+ek[7]*arguments[8];var d7=ek[8]*ec+ek[9]*arguments[2]+ek[10]*arguments[5]+ek[11]*arguments[8];var d6=ek[12]*ec+ek[13]*arguments[2]+ek[14]*arguments[5]+ek[15]*arguments[8];for(var ea=0;ea<cw;ea++){d9+=ef;ef+=ee;ee+=eb;ej+=el;el+=eh;eh+=eg;ec+=d8;d8+=d7;d7+=d6;cU.vertex(d9,ej,ec)}cU.vertex(arguments[6],arguments[7],arguments[8])}};var dF=function(){var d6=w.createElement("canvas");try{d3.texImage2D(d3.TEXTURE_2D,0,d3.RGBA,d3.RGBA,d3.UNSIGNED_BYTE,d6);dF=function(d8){d3.texImage2D(d3.TEXTURE_2D,0,d3.RGBA,d3.RGBA,d3.UNSIGNED_BYTE,d8)}}catch(d7){dF=function(d8){d3.texImage2D(d3.TEXTURE_2D,0,d8,false)}}dF.apply(this,arguments)};cU.texture=function(eb){var ed=dU.$ensureContext();if(eb.localName==="canvas"){ed.bindTexture(ed.TEXTURE_2D,c6);dF(eb);ed.texParameteri(ed.TEXTURE_2D,ed.TEXTURE_MAG_FILTER,ed.LINEAR);ed.texParameteri(ed.TEXTURE_2D,ed.TEXTURE_MIN_FILTER,ed.LINEAR);ed.generateMipmap(ed.TEXTURE_2D)}else{if(!eb.__texture){var ec=ed.createTexture();eb.__texture=ec;var d9=w.createElement("canvas");var ee;if(eb.width&(eb.width-1)===0){d9.width=eb.width}else{ee=1;while(ee<eb.width){ee*=2}d9.width=ee}if(eb.height&(eb.height-1)===0){d9.height=eb.height}else{ee=1;while(ee<eb.height){ee*=2}d9.height=ee}var eg=d9.getContext("2d");var ef=eg.createImageData(d9.width,d9.height);var d6=eb.toImageData();for(var d8=0;d8<d9.width;d8+=1){for(var d7=0;d7<d9.height;d7+=1){var ea=(d7*d9.width+d8)*4;ef.data[ea+0]=d6.data[ea+0];ef.data[ea+1]=d6.data[ea+1];ef.data[ea+2]=d6.data[ea+2];ef.data[ea+3]=255}}eg.putImageData(ef,0,0);eb.__cvs=d9;ed.bindTexture(ed.TEXTURE_2D,eb.__texture);ed.texParameteri(ed.TEXTURE_2D,ed.TEXTURE_MIN_FILTER,ed.LINEAR_MIPMAP_LINEAR);ed.texParameteri(ed.TEXTURE_2D,ed.TEXTURE_MAG_FILTER,ed.LINEAR);ed.texParameteri(ed.TEXTURE_2D,ed.TEXTURE_WRAP_T,ed.CLAMP_TO_EDGE);ed.texParameteri(ed.TEXTURE_2D,ed.TEXTURE_WRAP_S,ed.CLAMP_TO_EDGE);dF(eb.__cvs);ed.generateMipmap(ed.TEXTURE_2D)}else{ed.bindTexture(ed.TEXTURE_2D,eb.__texture)}}cq.width=eb.width;cq.height=eb.height;dP=true;ed.useProgram(dw);dV("usingTexture3d",dw,"usingTexture",dP)};cU.textureMode=function(d6){d0=d6};var ao=function(er,ec,ei,ep,eb,eh,en,ea,eg,el,d9,ee){var es=ep;var ed=eb;var ej=eh;var ef=aH.array();var eq=ef[4]*er+ef[5]*ep+ef[6]*en+ef[7]*el;var eo=ef[8]*er+ef[9]*ep+ef[10]*en+ef[11]*el;var em=ef[12]*er+ef[13]*ep+ef[14]*en+ef[15]*el;var ev=ef[4]*ec+ef[5]*eb+ef[6]*ea+ef[7]*d9;var eu=ef[8]*ec+ef[9]*eb+ef[10]*ea+ef[11]*d9;var et=ef[12]*ec+ef[13]*eb+ef[14]*ea+ef[15]*d9;var d8=ef[4]*ei+ef[5]*eh+ef[6]*eg+ef[7]*ee;var d7=ef[8]*ei+ef[9]*eh+ef[10]*eg+ef[11]*ee;var d6=ef[12]*ei+ef[13]*eh+ef[14]*eg+ef[15]*ee;cU.vertex(es,ed,ej);for(var ek=0;ek<M;ek++){es+=eq;eq+=eo;eo+=em;ed+=ev;ev+=eu;eu+=et;ej+=d8;d8+=d7;d7+=d6;cU.vertex(es,ed,ej)}};bK.prototype.curveVertex=function(d6,d7){dM=true;cU.vertex(d6,d7)};bu.prototype.curveVertex=function(d6,d9,d8){dM=true;if(!cK){dp()}var d7=[];d7[0]=d6;d7[1]=d9;d7[2]=d8;b6.push(d7);c1++;if(c1>3){ao(b6[c1-4][0],b6[c1-4][1],b6[c1-4][2],b6[c1-3][0],b6[c1-3][1],b6[c1-3][2],b6[c1-2][0],b6[c1-2][1],b6[c1-2][2],b6[c1-1][0],b6[c1-1][1],b6[c1-1][2])}};bK.prototype.curve=function(){if(arguments.length===8){cU.beginShape();cU.curveVertex(arguments[0],arguments[1]);cU.curveVertex(arguments[2],arguments[3]);cU.curveVertex(arguments[4],arguments[5]);cU.curveVertex(arguments[6],arguments[7]);cU.endShape()}};bu.prototype.curve=function(){if(arguments.length===12){cU.beginShape();cU.curveVertex(arguments[0],arguments[1],arguments[2]);cU.curveVertex(arguments[3],arguments[4],arguments[5]);cU.curveVertex(arguments[6],arguments[7],arguments[8]);cU.curveVertex(arguments[9],arguments[10],arguments[11]);cU.endShape()}};cU.curveTightness=function(d6){aF=d6};cU.curveDetail=function(d6){M=d6;dp()};cU.rectMode=function(d6){bE=d6};cU.imageMode=function(d6){switch(d6){case j.CORNER:bd=aS;break;case j.CORNERS:bd=bW;break;case j.CENTER:bd=aJ;break;default:throw"Invalid imageMode"}};cU.ellipseMode=function(d6){cL=d6};cU.arc=function(ei,eg,d9,ek,d8,eh){if(d9<=0||eh<d8){return}if(cL===j.CORNERS){d9=d9-ei;ek=ek-eg}else{if(cL===j.RADIUS){ei=ei-d9;eg=eg-ek;d9=d9*2;ek=ek*2}else{if(cL===j.CENTER){ei=ei-d9/2;eg=eg-ek/2}}}while(d8<0){d8+=j.TWO_PI;eh+=j.TWO_PI}if(eh-d8>j.TWO_PI){d8=0;eh=j.TWO_PI}var ej=d9/2;var el=ek/2;var ed=ei+ej;var eb=eg+el;var d7=0|(-0.5+(d8/j.TWO_PI)*j.SINCOS_LENGTH);var ef=0|(0.5+(eh/j.TWO_PI)*j.SINCOS_LENGTH);var ee,ec;if(aD){var ea=b9;b9=false;cU.beginShape();cU.vertex(ed,eb);for(ee=d7,ec=d7;ee<ef;ee++,ec++){if(ec>=j.SINCOS_LENGTH){ec=ec-j.SINCOS_LENGTH}cU.vertex(ed+bf[ec]*ej,eb+ad[ec]*el)}cU.endShape(j.CLOSE);b9=ea}if(b9){var d6=aD;aD=false;cU.beginShape();for(ee=d7,ec=d7;ee<ef;ee++,ec++){if(ec>=j.SINCOS_LENGTH){ec=ec-j.SINCOS_LENGTH}cU.vertex(ed+bf[ec]*ej,eb+ad[ec]*el)}ec=ef%j.SINCOS_LENGTH;cU.vertex(ed+bf[ec]*ej,eb+ad[ec]*el);cU.endShape();aD=d6}};bK.prototype.line=function(d9,eb,d8,ea){if(d9===d8&&eb===ea){cU.point(d9,eb)}else{if((d9===d8||eb===ea)&&dS<=1&&b9&&cP.options.crispLines){var d7;if(d9===d8){if(eb>ea){d7=eb;eb=ea;ea=d7}for(var ec=eb;ec<=ea;++ec){cU.set(d9,ec,ct)}}else{if(d9>d8){d7=d9;d9=d8;d8=d7}for(var d6=d9;d6<=d8;++d6){cU.set(d6,eb,ct)}}return}else{if(b9){d3.beginPath();d3.moveTo(d9||0,eb||0);d3.lineTo(d8||0,ea||0);dd();d3.closePath()}}}};bu.prototype.line=function(d8,eb,ed,d7,d9,ec){if(d9===c||ec===c){ec=0;d9=d7;d7=ed;ed=0}if(d8===d7&&eb===d9&&ed===ec){cU.point(d8,eb,ed);return}var ea=[d8,eb,ed,d7,d9,ec];var d6=new aK();d6.scale(1,-1,1);d6.apply(dG.array());d6.transpose();if(dS>0&&b9){d3.useProgram(dN);a2("model2d",dN,"model",false,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);a2("view2d",dN,"view",false,d6.array());dY("color2d",dN,"color",cY);dV("picktype2d",dN,"picktype",0);dc("vertex2d",dN,"Vertex",3,b3);cc("aTextureCoord2d",dN,"aTextureCoord");d3.bufferData(d3.ARRAY_BUFFER,new d(ea),d3.STREAM_DRAW);d3.drawArrays(d3.LINES,0,2)}};bK.prototype.bezier=function(){if(arguments.length!==8){throw ("You must use 8 parameters for bezier() in 2D mode")}cU.beginShape();cU.vertex(arguments[0],arguments[1]);cU.bezierVertex(arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);cU.endShape()};bu.prototype.bezier=function(){if(arguments.length!==12){throw ("You must use 12 parameters for bezier() in 3D mode")}cU.beginShape();cU.vertex(arguments[0],arguments[1],arguments[2]);cU.bezierVertex(arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);cU.endShape()};cU.bezierDetail=function(d6){cw=d6};cU.bezierPoint=function(d7,d6,ea,d9,d8){return(1-d8)*(1-d8)*(1-d8)*d7+3*(1-d8)*(1-d8)*d8*d6+3*(1-d8)*d8*d8*ea+d8*d8*d8*d9};cU.bezierTangent=function(d7,d6,ea,d9,d8){return(3*d8*d8*(-d7+3*d6-3*ea+d9)+6*d8*(d7-2*d6+ea)+3*(-d7+d6))};cU.curvePoint=function(d7,d6,ea,d9,d8){return 0.5*((2*d6)+(-d7+ea)*d8+(2*d7-5*d6+4*ea-d9)*d8*d8+(-d7+3*d6-3*ea+d9)*d8*d8*d8)};cU.curveTangent=function(d7,d6,ea,d9,d8){return 0.5*((-d7+ea)+2*(2*d7-5*d6+4*ea-d9)*d8+3*(-d7+3*d6-3*ea+d9)*d8*d8)};cU.triangle=function(d9,eb,d7,ea,d6,d8){cU.beginShape(j.TRIANGLES);cU.vertex(d9,eb,0);cU.vertex(d7,ea,0);cU.vertex(d6,d8,0);cU.endShape()};cU.quad=function(eb,ed,d9,ec,d7,ea,d6,d8){cU.beginShape(j.QUADS);cU.vertex(eb,ed,0);cU.vertex(d9,ec,0);cU.vertex(d7,ea,0);cU.vertex(d6,d8,0);cU.endShape()};bK.prototype.rect=function(ed,ea,d7,ee){if(!d7&&!ee){return}if(b9&&!aD&&dS<=1&&cP.options.crispLines){var d8,d6=ed+d7-1,eb=ea+ee-1;for(d8=0;d8<d7;++d8){cU.set(ed+d8,ea,ct);cU.set(ed+d8,eb,ct)}for(d8=0;d8<ee;++d8){cU.set(ed,ea+d8,ct);cU.set(d6,ea+d8,ct)}return}d3.beginPath();var d9=0;var ec=0;if(bE===j.CORNERS){d7-=ed;ee-=ea}if(bE===j.RADIUS){d7*=2;ee*=2}if(bE===j.CENTER||bE===j.RADIUS){ed-=d7/2;ea-=ee/2}d3.rect(o.round(ed)-d9,o.round(ea)-d9,o.round(d7)+ec,o.round(ee)+ec);bg();dd();d3.closePath()};bu.prototype.rect=function(ec,ea,d6,ee){var d9=new aK();d9.translate(ec,ea,0);d9.scale(d6,ee,1);d9.transpose();var eb=new aK();eb.scale(1,-1,1);eb.apply(dG.array());eb.transpose();if(dS>0&&b9){d3.useProgram(dN);a2("model2d",dN,"model",false,d9.array());a2("view2d",dN,"view",false,eb.array());dY("color2d",dN,"color",cY);dV("picktype2d",dN,"picktype",0);dc("vertex2d",dN,"Vertex",3,ay);cc("aTextureCoord2d",dN,"aTextureCoord");d3.drawArrays(d3.LINE_LOOP,0,ag.length/3)}if(aD){d3.useProgram(dw);a2("model3d",dw,"model",false,d9.array());a2("view3d",dw,"view",false,eb.array());d3.enable(d3.POLYGON_OFFSET_FILL);d3.polygonOffset(1,1);dY("color3d",dw,"color",bh);if(dI>0){var ed=new aK();ed.set(eb);var d7=new aK();d7.set(d9);ed.mult(d7);var d8=new aK();d8.set(ed);d8.invert();d8.transpose();a2("normalTransform3d",dw,"normalTransform",false,d8.array());dc("normal3d",dw,"Normal",3,bX)}else{cc("normal3d",dw,"Normal")}dc("vertex3d",dw,"Vertex",3,ay);d3.drawArrays(d3.TRIANGLE_FAN,0,ag.length/3);d3.disable(d3.POLYGON_OFFSET_FILL)}};dq.prototype.ellipse=function(d7,d9,d8,d6){d7=d7||0;d9=d9||0;if(d8<=0&&d6<=0){return}if(cL===j.RADIUS){d8*=2;d6*=2}if(cL===j.CORNERS){d8=d8-d7;d6=d6-d9}if(cL===j.CORNER||cL===j.CORNERS){d7+=d8/2;d9+=d6/2}return{x:d7,y:d9,width:d8,height:d6}};bK.prototype.ellipse=function(ee,ed,d7,eg){var ea=dq.prototype.ellipse.apply(this,arguments),ec=0;if(!ea){return}ee=ea.x;ed=ea.y;d7=ea.width;eg=ea.height;if(d7===eg){d3.beginPath();d3.arc(ee-ec,ed-ec,d7/2,0,j.TWO_PI,false);bg();dd();d3.closePath()}else{var ef=d7/2,eb=eg/2,d6=0.5522847498307933;var d9=d6*ef,d8=d6*eb;cU.beginShape();cU.vertex(ee+ef,ed);cU.bezierVertex(ee+ef,ed-d8,ee+d9,ed-eb,ee,ed-eb);cU.bezierVertex(ee-d9,ed-eb,ee-ef,ed-d8,ee-ef,ed);cU.bezierVertex(ee-ef,ed+d8,ee-d9,ed+eb,ee,ed+eb);cU.bezierVertex(ee+d9,ed+eb,ee+ef,ed+d8,ee+ef,ed);cU.endShape()}};bu.prototype.ellipse=function(d9,d8,eg,ef){var em=dq.prototype.ellipse.apply(this,arguments),d7=0;if(!em){return}d9=em.x;d8=em.y;eg=em.width;ef=em.height;var ea=eg/2,ej=ef/2,ee=0.5522847498307933;var ed=ee*ea,eb=ee*ej;cU.beginShape();cU.vertex(d9+ea,d8);cU.bezierVertex(d9+ea,d8-eb,0,d9+ed,d8-ej,0,d9,d8-ej,0);cU.bezierVertex(d9-ed,d8-ej,0,d9-ea,d8-eb,0,d9-ea,d8,0);cU.bezierVertex(d9-ea,d8+eb,0,d9-ed,d8+ej,0,d9,d8+ej,0);cU.bezierVertex(d9+ed,d8+ej,0,d9+ea,d8+eb,0,d9+ea,d8,0);cU.endShape();if(aD){var en=0,ec=0,ei,eh;for(ei=0;ei<a4.length;ei++){en+=a4[ei][0];ec+=a4[ei][1]}en/=a4.length;ec/=a4.length;var ek=[],el=[],d6=[];ek[0]=en;ek[1]=ec;ek[2]=0;ek[3]=0;ek[4]=0;ek[5]=bh[0];ek[6]=bh[1];ek[7]=bh[2];ek[8]=bh[3];ek[9]=cY[0];ek[10]=cY[1];ek[11]=cY[2];ek[12]=cY[3];ek[13]=a1;ek[14]=a0;ek[15]=aY;a4.unshift(ek);for(ei=0;ei<a4.length;ei++){for(eh=0;eh<3;eh++){el.push(a4[ei][eh])}for(eh=5;eh<9;eh++){d6.push(a4[ei][eh])}}dl(el,"TRIANGLE_FAN",d6)}};cU.normal=function(d6,d8,d7){if(arguments.length!==3||!(typeof d6==="number"&&typeof d8==="number"&&typeof d7==="number")){throw"normal() requires three numeric arguments."}a1=d6;a0=d8;aY=d7;if(dO!==0){if(aV===j.NORMAL_MODE_AUTO){aV=j.NORMAL_MODE_SHAPE}else{if(aV===j.NORMAL_MODE_SHAPE){aV=j.NORMAL_MODE_VERTEX}}}};cU.save=function(d7,d6){if(d6!==c){return l.open(d6.toDataURL(),"_blank")}else{return l.open(cU.externals.canvas.toDataURL(),"_blank")}};var cu=0;cU.saveFrame=function(d6){if(d6===c){d6="screen-####.png"}var d7=d6.replace(/#+/,function(d9){var d8=""+(cu++);while(d8.length<d9.length){d8="0"+d8}return d8});cU.save(d7)};var b7=w.createElement("canvas").getContext("2d");var T=[c,c,c];function bq(ed,d7,ec){var d9=T.shift();if(d9===c){d9={};d9.canvas=w.createElement("canvas");d9.context=d9.canvas.getContext("2d")}T.push(d9);var d8=d9.canvas,ea=d9.context,eb=d7||ed.width,d6=ec||ed.height;d8.width=eb;d8.height=d6;if(!ed){ea.clearRect(0,0,eb,d6)}else{if("data" in ed){ea.putImageData(ed,0,0)}else{ea.clearRect(0,0,eb,d6);ea.drawImage(ed,0,0,eb,d6)}}return d9}var cF=function(d8,eb,d9){this.get=function(ec,ef,ed,ee){if(!arguments.length){return cU.get(this)}else{if(arguments.length===2){return cU.get(ec,ef,this)}else{if(arguments.length===4){return cU.get(ec,ef,ed,ee,this)}}}};this.set=function(ec,ee,ed){cU.set(ec,ee,ed,this)};this.blend=function(ek,eg,ef,ed,ei,el,ej,eh,ec,ee){if(arguments.length===9){cU.blend(this,ek,eg,ef,ed,ei,el,ej,eh,ec,this)}else{if(arguments.length===10){cU.blend(ek,eg,ef,ed,ei,el,ej,eh,ec,ee,this)}}delete this.sourceImg};this.copy=function(ej,eg,ef,ee,ed,ek,ei,eh,ec){if(arguments.length===8){cU.blend(this,ej,eg,ef,ee,ed,ek,ei,eh,j.REPLACE,this)}else{if(arguments.length===9){cU.blend(ej,eg,ef,ee,ed,ek,ei,eh,ec,j.REPLACE,this)}}delete this.sourceImg};this.filter=function(ed,ec){if(arguments.length===2){cU.filter(ed,ec,this)}else{if(arguments.length===1){cU.filter(ed,null,this)}}delete this.sourceImg};this.save=function(ec){cU.save(ec,this)};this.resize=function(ec,ee){if(this.isRemote){throw"Image is loaded remotely. Cannot resize."}else{if(this.width!==0||this.height!==0){if(ec===0&&ee!==0){ec=o.floor(this.width/this.height*ee)}else{if(ee===0&&ec!==0){ee=o.floor(this.height/this.width*ec)}}var ed=bq(this.imageData).canvas;var ef=bq(ed,ec,ee).context.getImageData(0,0,ec,ee);this.fromImageData(ef)}}};this.mask=function(ec){this.__mask=c;if(ec instanceof cF){if(ec.width===this.width&&ec.height===this.height){this.__mask=ec}else{throw"mask must have the same dimensions as PImage."}}else{if(ec instanceof Array){if(this.pixels.length===ec.length){this.__mask=ec}else{throw"mask array must be the same length as PImage pixels array."}}}};this.pixels={getLength:(function(ec){if(ec.isRemote){throw"Image is loaded remotely. Cannot get length."}else{return function(){return ec.imageData.data.length?ec.imageData.data.length/4:0}}}(this)),getPixel:(function(ec){if(ec.isRemote){throw"Image is loaded remotely. Cannot get pixels."}else{return function(ed){var ee=ed*4;return cU.color.toInt(ec.imageData.data[ee],ec.imageData.data[ee+1],ec.imageData.data[ee+2],ec.imageData.data[ee+3])}}}(this)),setPixel:(function(ec){if(ec.isRemote){throw"Image is loaded remotely. Cannot set pixel."}else{return function(ed,ef){var ee=ed*4;ec.imageData.data[ee+0]=(ef&j.RED_MASK)>>>16;ec.imageData.data[ee+1]=(ef&j.GREEN_MASK)>>>8;ec.imageData.data[ee+2]=(ef&j.BLUE_MASK);ec.imageData.data[ee+3]=(ef&j.ALPHA_MASK)>>>24}}}(this)),set:function(ec){if(this.isRemote){throw"Image is loaded remotely. Cannot set pixels."}else{for(var ed=0,ee=ec.length;ed<ee;ed++){this.setPixel(ed,ec[ed])}}}};this.loadPixels=function(){};this.updatePixels=function(){};this.toImageData=function(){if(this.isRemote){return this.sourceImg}else{var ec=bq(this.imageData);return ec.context.getImageData(0,0,this.width,this.height)}};this.toDataURL=function(){if(this.isRemote){throw"Image is loaded remotely. Cannot create dataURI."}else{var ec=bq(this.imageData);return ec.canvas.toDataURL()}};this.fromImageData=function(ec){this.width=ec.width;this.height=ec.height;this.imageData=ec;this.format=j.ARGB};this.fromHTMLImageData=function(ec){var ed=bq(ec);try{var ef=ed.context.getImageData(0,0,ec.width,ec.height);this.fromImageData(ef)}catch(ee){if(ec.width&&ec.height){this.isRemote=true;this.width=ec.width;this.height=ec.height}}this.sourceImg=ec};if(arguments.length===1){this.fromHTMLImageData(arguments[0])}else{if(arguments.length===2||arguments.length===3){this.width=d8||1;this.height=eb||1;this.imageData=b7.createImageData(this.width,this.height);this.format=(d9===j.ARGB||d9===j.ALPHA)?d9:j.RGB;if(this.format===j.RGB){for(var d7=3,ea=this.imageData.data,d6=ea.length;d7<d6;d7+=4){ea[d7]=255}}}else{this.width=0;this.height=0;this.imageData=b7.createImageData(1,1);this.format=j.ARGB}}};cU.PImage=cF;cU.createImage=function(d6,d7,d8){return new cF(d6,d7,d8)};cU.loadImage=function(d7,d8,ea){if(d8){d7=d7+"."+d8}var d9;if(cP.imageCache.images[d7]){d9=new cF(cP.imageCache.images[d7]);d9.loaded=true;return d9}else{d9=new cF();var d6=w.createElement("img");d9.sourceImg=d6;d6.onload=(function(ee,ec,eb){var ef=ee;var ed=ec;var eg=eb;return function(){ed.fromHTMLImageData(ef);ed.loaded=true;if(eg){eg()}}}(d6,d9,ea));d6.src=d7;return d9}};cU.requestImage=cU.loadImage;function da(){var d6=new cF(cU.width,cU.height,j.RGB);d6.fromImageData(d3.getImageData(0,0,cU.width,cU.height));return d6}function c8(d6,d9){var d7;if(d6<cU.width&&d6>=0&&d9>=0&&d9<cU.height){if(dR){var d8=((0|d6)+cU.width*(0|d9))*4;d7=cU.imageData.data;return cU.color.toInt(d7[d8],d7[d8+1],d7[d8+2],d7[d8+3])}d7=d3.getImageData(0|d6,0|d9,1,1).data;return cU.color.toInt(d7[0],d7[1],d7[2],d7[3])}else{return 0}}function c7(d6,d9,d7){if(d7.isRemote){throw"Image is loaded remotely. Cannot get x,y."}else{var d8=d9*d7.width*4+(d6*4);return cU.color.toInt(d7.imageData.data[d8],d7.imageData.data[d8+1],d7.imageData.data[d8+2],d7.imageData.data[d8+3])}}function c5(d6,ea,d7,d8){var d9=new cF(d7,d8,j.RGB);d9.fromImageData(d3.getImageData(d6,ea,d7,d8));return d9}function c4(eb,ea,ec,eh,en){if(en.isRemote){throw"Image is loaded remotely. Cannot get x,y,w,h."}else{var el=new cF(ec,eh,j.RGB),d8=el.imageData.data,d9=en.width,ei=en.height,ek=en.imageData.data;var d6=o.max(0,-ea),d7=o.max(0,-eb),ed=o.min(eh,ei-ea),ee=o.min(ec,d9-eb);for(var eg=d6;eg<ed;++eg){var ej=((ea+eg)*d9+(eb+d7))*4;var em=(eg*ec+d7)*4;for(var ef=d7;ef<ee;++ef){d8[em++]=ek[ej++];d8[em++]=ek[ej++];d8[em++]=ek[ej++];d8[em++]=ek[ej++]}}return el}}cU.get=function(d6,ea,d7,d9,d8){if(arguments.length===2){return c8(d6,ea)}else{if(arguments.length===0){return da()}else{if(arguments.length===5){return c4(d6,ea,d7,d9,d8)}else{if(arguments.length===4){return c5(d6,ea,d7,d9)}else{if(arguments.length===3){return c7(d6,ea,d7)}else{if(arguments.length===1){return d6}}}}}}};cU.createGraphics=function(d6,d8,d7){var d9=new E();d9.size(d6,d8,d7);return d9};function P(){if(dR){d3=af;dR=false;cU.updatePixels()}}function co(){function d7(eb,d9){function ea(){P();d3[d9].apply(d3,arguments)}eb[d9]=ea}function d6(ec,ea){function d9(){P();return d3[ea]}function eb(ed){P();d3[ea]=ed}cU.defineProperty(ec,ea,{get:d9,set:eb})}for(var d8 in d3){if(typeof d3[d8]==="function"){d7(this,d8)}else{d6(this,d8)}}}function cA(){if(dR){return}cU.loadPixels();if(ck===null){af=d3;ck=new co()}dR=true;d3=ck;dZ=0}function bp(d6,d8,d7){if(d6<cU.width&&d6>=0&&d8>=0&&d8<cU.height){cA();cU.pixels.setPixel((0|d6)+cU.width*(0|d8),d7);if(++dZ>bV){P()}}}function bo(d6,ec,d9,d7){if(d7.isRemote){throw"Image is loaded remotely. Cannot set x,y."}else{var eb=cU.color.toArray(d9);var ea=ec*d7.width*4+(d6*4);var d8=d7.imageData.data;d8[ea]=eb[0];d8[ea+1]=eb[1];d8[ea+2]=eb[2];d8[ea+3]=eb[3]}}cU.set=function(d6,eb,d9,d8){var d7,ea;if(arguments.length===3){if(typeof d9==="number"){bp(d6,eb,d9)}else{if(d9 instanceof cF){cU.image(d9,d6,eb)}}}else{if(arguments.length===4){bo(d6,eb,d9,d8)}}};cU.imageData={};cU.pixels={getLength:function(){return cU.imageData.data.length?cU.imageData.data.length/4:0},getPixel:function(d6){var d7=d6*4;return(cU.imageData.data[d7+3]<<24)&4278190080|(cU.imageData.data[d7+0]<<16)&16711680|(cU.imageData.data[d7+1]<<8)&65280|cU.imageData.data[d7+2]&255},setPixel:function(d6,d8){var d7=d6*4;cU.imageData.data[d7+0]=(d8&16711680)>>>16;cU.imageData.data[d7+1]=(d8&65280)>>>8;cU.imageData.data[d7+2]=(d8&255);cU.imageData.data[d7+3]=(d8&4278190080)>>>24},set:function(d6){for(var d7=0,d8=d6.length;d7<d8;d7++){this.setPixel(d7,d6[d7])}}};cU.loadPixels=function(){cU.imageData=dU.$ensureContext().getImageData(0,0,cU.width,cU.height)};cU.updatePixels=function(){if(cU.imageData){dU.$ensureContext().putImageData(cU.imageData,0,0)}};cU.hint=function(d7){var d6=dU.$ensureContext();if(d7===j.DISABLE_DEPTH_TEST){d6.disable(d6.DEPTH_TEST);d6.depthMask(false);d6.clear(d6.DEPTH_BUFFER_BIT)}else{if(d7===j.ENABLE_DEPTH_TEST){d6.enable(d6.DEPTH_TEST);d6.depthMask(true)}}};var bx=function(d9,d8,d7,d6){var ea;if(d9 instanceof cF){ea=d9;if(!ea.loaded){throw"Error using image in background(): PImage not loaded."}else{if(ea.width!==cU.width||ea.height!==cU.height){throw"Background image must be the same dimensions as the canvas."}}}else{ea=cU.color(d9,d8,d7,d6)}aW=ea};bK.prototype.background=function(d9,d8,d7,d6){if(d9!==c){bx(d9,d8,d7,d6)}if(aW instanceof cF){aA();d3.setTransform(1,0,0,1,0,0);cU.image(aW,0,0);cO()}else{aA();d3.setTransform(1,0,0,1,0,0);if(cU.alpha(aW)!==bN){d3.clearRect(0,0,cU.width,cU.height)}d3.fillStyle=cU.color.toString(aW);d3.fillRect(0,0,cU.width,cU.height);an=true;cO()}};bu.prototype.background=function(d9,d8,d7,d6){if(arguments.length>0){bx(d9,d8,d7,d6)}var ea=cU.color.toGLArray(aW);d3.clearColor(ea[0],ea[1],ea[2],ea[3]);d3.clear(d3.COLOR_BUFFER_BIT|d3.DEPTH_BUFFER_BIT)};bK.prototype.image=function(ea,eg,ee,eh,ec){if(ea.width>0){var ej=eh||ea.width;var ef=ec||ea.height;var d6=bd(eg||0,ee||0,eh||ea.width,ec||ea.height,arguments.length<4);var ed=!!ea.sourceImg&&a7===null&&!ea.__mask;if(ed){var d7=ea.sourceImg;d3.drawImage(d7,0,0,d7.width,d7.height,d6.x,d6.y,d6.w,d6.h)}else{var d9=ea.toImageData();if(ea.__mask){var d8,ei;if(ea.__mask instanceof cF){var eb=ea.__mask.toImageData();for(d8=2,ei=ea.width*ea.height*4;d8<ei;d8+=4){d9.data[d8+1]=eb.data[d8]}}else{for(d8=0,ei=ea.__mask.length;d8<ei;++d8){d9.data[(d8<<2)+3]=ea.__mask[d8]}}}if(a7!==null){a7(d9)}d3.drawImage(bq(d9).canvas,0,0,ea.width,ea.height,d6.x,d6.y,d6.w,d6.h)}}};bu.prototype.image=function(d8,d6,ec,d7,ea){if(d8.width>0){var eb=d7||d8.width;var d9=ea||d8.height;cU.beginShape(cU.QUADS);cU.texture(d8.externals.canvas);cU.vertex(d6,ec,0,0,0);cU.vertex(d6,ec+d9,0,0,d9);cU.vertex(d6+eb,ec+d9,0,eb,d9);cU.vertex(d6+eb,ec,0,eb,0);cU.endShape()}};cU.tint=function(){var ea=cU.color.apply(this,arguments);var d9=cU.red(ea)/bC;var d8=cU.green(ea)/bB;var d6=cU.blue(ea)/bz;var d7=cU.alpha(ea)/bN;a7=function(ee){var ed=ee.data,ec=4*ee.width*ee.height;for(var eb=0;eb<ec;){ed[eb++]*=d9;ed[eb++]*=d8;ed[eb++]*=d6;ed[eb++]*=d7}}};cU.noTint=function(){a7=null};cU.copy=function(d6,eb,ea,ec,d8,ee,ed,d7,d9){if(arguments.length===8){d9=d7;d7=ed;ed=ee;ee=d8;d8=ec;ec=ea;ea=eb;eb=d6;d6=cU}cU.blend(d6,eb,ea,ec,d8,ee,ed,d7,d9,j.REPLACE)};cU.blend=function(d6,eg,ef,ej,eb,el,ek,d7,ed,ec,d9){if(arguments.length===9){ec=ed;ed=d7;d7=ek;ek=el;el=eb;eb=ej;ej=ef;ef=eg;eg=d6;d6=cU}var d8=eg+ej;var ee=ef+eb;var ei=el+d7;var ea=ek+ed;var eh;if(d6.isRemote){throw"Image is loaded remotely. Cannot blend image."}else{if(arguments.length===10||arguments.length===9){cU.loadPixels();eh=cU}else{if(arguments.length===11&&d9&&d9.imageData){eh=d9}}if(d6===cU){if(cU.intersect(eg,ef,d8,ee,el,ek,ei,ea)){cU.blit_resize(cU.get(eg,ef,d8-eg,ee-ef),0,0,d8-eg-1,ee-ef-1,eh.imageData.data,eh.width,eh.height,el,ek,ei,ea,ec)}else{cU.blit_resize(d6,eg,ef,d8,ee,eh.imageData.data,eh.width,eh.height,el,ek,ei,ea,ec)}}else{d6.loadPixels();cU.blit_resize(d6,eg,ef,d8,ee,eh.imageData.data,eh.width,eh.height,el,ek,ei,ea,ec)}if(arguments.length===10){cU.updatePixels()}}};var bi=function(ea){var d6=cU.floor(ea*3.5),d8,d7;d6=(d6<1)?1:((d6<248)?d6:248);if(cU.shared.blurRadius!==d6){cU.shared.blurRadius=d6;cU.shared.blurKernelSize=1+(cU.shared.blurRadius<<1);cU.shared.blurKernel=new d(cU.shared.blurKernelSize);var ec=cU.shared.blurKernel;var eb=cU.shared.blurKernelSize;var d9=cU.shared.blurRadius;for(d8=0;d8<eb;d8++){ec[d8]=0}var ed=(d6-1)*(d6-1);for(d8=1;d8<d6;d8++){ec[d6+d8]=ec[d7]=ed}ec[d6]=d6*d6}};var b2=function(ek,ep){var d8,eb,eh,em,en,ew,eo;var er,ej,ev,eu,el;var ee=ep.pixels.getLength();var eq=new d(ee);var ez=new d(ee);var ed=new d(ee);var ey=new d(ee);var ex=0;var eg,ef,et,ea;bi(ek);var d7=ep.height;var d6=ep.width;var es=cU.shared.blurKernelSize;var ei=cU.shared.blurRadius;var ec=cU.shared.blurKernel;var d9=ep.imageData.data;for(ef=0;ef<d7;ef++){for(eg=0;eg<d6;eg++){em=eh=eb=en=d8=0;er=eg-ei;if(er<0){el=-er;er=0}else{if(er>=d6){break}el=0}for(et=el;et<es;et++){if(er>=d6){break}ea=(er+ex)*4;eo=ec[et];en+=eo*d9[ea+3];eb+=eo*d9[ea];eh+=eo*d9[ea+1];em+=eo*d9[ea+2];d8+=eo;er++}ej=ex+eg;ey[ej]=en/d8;eq[ej]=eb/d8;ez[ej]=eh/d8;ed[ej]=em/d8}ex+=d6}ex=0;ev=-ei;eu=ev*d6;for(ef=0;ef<d7;ef++){for(eg=0;eg<d6;eg++){em=eh=eb=en=d8=0;if(ev<0){el=ej=-ev;er=eg}else{if(ev>=d7){break}el=0;ej=ev;er=eg+eu}for(et=el;et<es;et++){if(ej>=d7){break}eo=ec[et];en+=eo*ey[er];eb+=eo*eq[er];eh+=eo*ez[er];em+=eo*ed[er];d8+=eo;ej++;er+=d6}ea=(eg+ex)*4;d9[ea]=eb/d8;d9[ea+1]=eh/d8;d9[ea+2]=em/d8;d9[ea+3]=en/d8}ex+=d6;eu+=d6;ev++}};var cb=function(en,eh){var ed=0;var er=eh.pixels.getLength();var ei=new m(er);var el,d7,eg,ef,d9;var em,ea,ec,ee,d8,ej,eq,d6,eo,eb,ep,ek;if(!en){while(ed<er){el=ed;d7=ed+eh.width;while(ed<d7){eg=ef=eh.pixels.getPixel(ed);ea=ed-1;em=ed+1;ec=ed-eh.width;ee=ed+eh.width;if(ea<el){ea=ed}if(em>=d7){em=ed}if(ec<0){ec=0}if(ee>=er){ee=ed}eq=eh.pixels.getPixel(ec);ej=eh.pixels.getPixel(ea);d6=eh.pixels.getPixel(ee);d8=eh.pixels.getPixel(em);d9=77*(eg>>16&255)+151*(eg>>8&255)+28*(eg&255);eb=77*(ej>>16&255)+151*(ej>>8&255)+28*(ej&255);eo=77*(d8>>16&255)+151*(d8>>8&255)+28*(d8&255);ep=77*(eq>>16&255)+151*(eq>>8&255)+28*(eq&255);ek=77*(d6>>16&255)+151*(d6>>8&255)+28*(d6&255);if(eb>d9){ef=ej;d9=eb}if(eo>d9){ef=d8;d9=eo}if(ep>d9){ef=eq;d9=ep}if(ek>d9){ef=d6;d9=ek}ei[ed++]=ef}}}else{while(ed<er){el=ed;d7=ed+eh.width;while(ed<d7){eg=ef=eh.pixels.getPixel(ed);ea=ed-1;em=ed+1;ec=ed-eh.width;ee=ed+eh.width;if(ea<el){ea=ed}if(em>=d7){em=ed}if(ec<0){ec=0}if(ee>=er){ee=ed}eq=eh.pixels.getPixel(ec);ej=eh.pixels.getPixel(ea);d6=eh.pixels.getPixel(ee);d8=eh.pixels.getPixel(em);d9=77*(eg>>16&255)+151*(eg>>8&255)+28*(eg&255);eb=77*(ej>>16&255)+151*(ej>>8&255)+28*(ej&255);eo=77*(d8>>16&255)+151*(d8>>8&255)+28*(d8&255);ep=77*(eq>>16&255)+151*(eq>>8&255)+28*(eq&255);ek=77*(d6>>16&255)+151*(d6>>8&255)+28*(d6&255);if(eb<d9){ef=ej;d9=eb}if(eo<d9){ef=d8;d9=eo}if(ep<d9){ef=eq;d9=ep}if(ek<d9){ef=d6;d9=ek}ei[ed++]=ef}}}eh.pixels.set(ei)};cU.filter=function(ed,ec,d9){var eg,eb,d7,ef;if(arguments.length===3){d9.loadPixels();eg=d9}else{cU.loadPixels();eg=cU}if(ec===c){ec=null}if(eg.isRemote){throw"Image is loaded remotely. Cannot filter image."}else{var eh=eg.pixels.getLength();switch(ed){case j.BLUR:var ei=ec||1;b2(ei,eg);break;case j.GRAY:if(eg.format===j.ALPHA){for(ef=0;ef<eh;ef++){eb=255-eg.pixels.getPixel(ef);eg.pixels.setPixel(ef,(4278190080|(eb<<16)|(eb<<8)|eb))}eg.format=j.RGB}else{for(ef=0;ef<eh;ef++){eb=eg.pixels.getPixel(ef);d7=(77*(eb>>16&255)+151*(eb>>8&255)+28*(eb&255))>>8;eg.pixels.setPixel(ef,((eb&j.ALPHA_MASK)|d7<<16|d7<<8|d7))}}break;case j.INVERT:for(ef=0;ef<eh;ef++){eg.pixels.setPixel(ef,(eg.pixels.getPixel(ef)^16777215))}break;case j.POSTERIZE:if(ec===null){throw"Use filter(POSTERIZE, int levels) instead of filter(POSTERIZE)"}var el=cU.floor(ec);if((el<2)||(el>255)){throw"Levels must be between 2 and 255 for filter(POSTERIZE, levels)"}var ee=el-1;for(ef=0;ef<eh;ef++){var d6=(eg.pixels.getPixel(ef)>>16)&255;var ej=(eg.pixels.getPixel(ef)>>8)&255;var d8=eg.pixels.getPixel(ef)&255;d6=(((d6*el)>>8)*255)/ee;ej=(((ej*el)>>8)*255)/ee;d8=(((d8*el)>>8)*255)/ee;eg.pixels.setPixel(ef,((4278190080&eg.pixels.getPixel(ef))|(d6<<16)|(ej<<8)|d8))}break;case j.OPAQUE:for(ef=0;ef<eh;ef++){eg.pixels.setPixel(ef,(eg.pixels.getPixel(ef)|4278190080))}eg.format=j.RGB;break;case j.THRESHOLD:if(ec===null){ec=0.5}if((ec<0)||(ec>1)){throw"Level must be between 0 and 1 for filter(THRESHOLD, level)"}var ea=cU.floor(ec*255);for(ef=0;ef<eh;ef++){var ek=cU.max((eg.pixels.getPixel(ef)&j.RED_MASK)>>16,cU.max((eg.pixels.getPixel(ef)&j.GREEN_MASK)>>8,(eg.pixels.getPixel(ef)&j.BLUE_MASK)));eg.pixels.setPixel(ef,((eg.pixels.getPixel(ef)&j.ALPHA_MASK)|((ek<ea)?0:16777215)))}break;case j.ERODE:cb(true,eg);break;case j.DILATE:cb(false,eg);break}eg.updatePixels()}};cU.shared={fracU:0,ifU:0,fracV:0,ifV:0,u1:0,u2:0,v1:0,v2:0,sX:0,sY:0,iw:0,iw1:0,ih1:0,ul:0,ll:0,ur:0,lr:0,cUL:0,cLL:0,cUR:0,cLR:0,srcXOffset:0,srcYOffset:0,r:0,g:0,b:0,a:0,srcBuffer:null,blurRadius:0,blurKernelSize:0,blurKernel:null};cU.intersect=function(d8,ef,d7,ee,ej,ec,ei,eb){var eh=d7-d8+1;var ea=ee-ef+1;var d6=ei-ej+1;var ed=eb-ec+1;if(ej<d8){d6+=ej-d8;if(d6>eh){d6=eh}}else{var eg=eh+d8-ej;if(d6>eg){d6=eg}}if(ec<ef){ed+=ec-ef;if(ed>ea){ed=ea}}else{var d9=ea+ef-ec;if(ed>d9){ed=d9}}return !(d6<=0||ed<=0)};cU.filter_new_scanline=function(){cU.shared.sX=cU.shared.srcXOffset;cU.shared.fracV=cU.shared.srcYOffset&j.PREC_MAXVAL;cU.shared.ifV=j.PREC_MAXVAL-cU.shared.fracV;cU.shared.v1=(cU.shared.srcYOffset>>j.PRECISIONB)*cU.shared.iw;cU.shared.v2=o.min((cU.shared.srcYOffset>>j.PRECISIONB)+1,cU.shared.ih1)*cU.shared.iw};cU.filter_bilinear=function(){cU.shared.fracU=cU.shared.sX&j.PREC_MAXVAL;cU.shared.ifU=j.PREC_MAXVAL-cU.shared.fracU;cU.shared.ul=(cU.shared.ifU*cU.shared.ifV)>>j.PRECISIONB;cU.shared.ll=(cU.shared.ifU*cU.shared.fracV)>>j.PRECISIONB;cU.shared.ur=(cU.shared.fracU*cU.shared.ifV)>>j.PRECISIONB;cU.shared.lr=(cU.shared.fracU*cU.shared.fracV)>>j.PRECISIONB;cU.shared.u1=(cU.shared.sX>>j.PRECISIONB);cU.shared.u2=o.min(cU.shared.u1+1,cU.shared.iw1);var d7=(cU.shared.v1+cU.shared.u1)*4;var d9=(cU.shared.v1+cU.shared.u2)*4;var d8=(cU.shared.v2+cU.shared.u1)*4;var d6=(cU.shared.v2+cU.shared.u2)*4;cU.shared.cUL=cU.color.toInt(cU.shared.srcBuffer[d7],cU.shared.srcBuffer[d7+1],cU.shared.srcBuffer[d7+2],cU.shared.srcBuffer[d7+3]);cU.shared.cUR=cU.color.toInt(cU.shared.srcBuffer[d9],cU.shared.srcBuffer[d9+1],cU.shared.srcBuffer[d9+2],cU.shared.srcBuffer[d9+3]);cU.shared.cLL=cU.color.toInt(cU.shared.srcBuffer[d8],cU.shared.srcBuffer[d8+1],cU.shared.srcBuffer[d8+2],cU.shared.srcBuffer[d8+3]);cU.shared.cLR=cU.color.toInt(cU.shared.srcBuffer[d6],cU.shared.srcBuffer[d6+1],cU.shared.srcBuffer[d6+2],cU.shared.srcBuffer[d6+3]);cU.shared.r=((cU.shared.ul*((cU.shared.cUL&j.RED_MASK)>>16)+cU.shared.ll*((cU.shared.cLL&j.RED_MASK)>>16)+cU.shared.ur*((cU.shared.cUR&j.RED_MASK)>>16)+cU.shared.lr*((cU.shared.cLR&j.RED_MASK)>>16))<<j.PREC_RED_SHIFT)&j.RED_MASK;cU.shared.g=((cU.shared.ul*(cU.shared.cUL&j.GREEN_MASK)+cU.shared.ll*(cU.shared.cLL&j.GREEN_MASK)+cU.shared.ur*(cU.shared.cUR&j.GREEN_MASK)+cU.shared.lr*(cU.shared.cLR&j.GREEN_MASK))>>>j.PRECISIONB)&j.GREEN_MASK;cU.shared.b=(cU.shared.ul*(cU.shared.cUL&j.BLUE_MASK)+cU.shared.ll*(cU.shared.cLL&j.BLUE_MASK)+cU.shared.ur*(cU.shared.cUR&j.BLUE_MASK)+cU.shared.lr*(cU.shared.cLR&j.BLUE_MASK))>>>j.PRECISIONB;cU.shared.a=((cU.shared.ul*((cU.shared.cUL&j.ALPHA_MASK)>>>24)+cU.shared.ll*((cU.shared.cLL&j.ALPHA_MASK)>>>24)+cU.shared.ur*((cU.shared.cUR&j.ALPHA_MASK)>>>24)+cU.shared.lr*((cU.shared.cLR&j.ALPHA_MASK)>>>24))<<j.PREC_ALPHA_SHIFT)&j.ALPHA_MASK;return cU.shared.a|cU.shared.r|cU.shared.g|cU.shared.b};cU.blit_resize=function(et,en,er,em,eq,eh,d7,ed,ep,d9,eo,d8,ek){var eg,ef;if(en<0){en=0}if(er<0){er=0}if(em>=et.width){em=et.width-1}if(eq>=et.height){eq=et.height-1}var d6=em-en;var ee=eq-er;var es=eo-ep;var eb=d8-d9;var el=true;if(!el){d6++;ee++}if(es<=0||eb<=0||d6<=0||ee<=0||ep>=d7||d9>=ed||en>=et.width||er>=et.height){return}var ej=o.floor(d6/es*j.PRECISIONF);var ei=o.floor(ee/eb*j.PRECISIONF);cU.shared.srcXOffset=o.floor(ep<0?-ep*ej:en*j.PRECISIONF);cU.shared.srcYOffset=o.floor(d9<0?-d9*ei:er*j.PRECISIONF);if(ep<0){es+=ep;ep=0}if(d9<0){eb+=d9;d9=0}es=o.min(es,d7-ep);eb=o.min(eb,ed-d9);var ea=d9*d7+ep;var ec;cU.shared.srcBuffer=et.imageData.data;if(el){cU.shared.iw=et.width;cU.shared.iw1=et.width-1;cU.shared.ih1=et.height-1;switch(ek){case j.BLEND:for(ef=0;ef<eb;ef++){cU.filter_new_scanline();for(eg=0;eg<es;eg++){ec=cU.color.toInt(eh[(ea+eg)*4],eh[((ea+eg)*4)+1],eh[((ea+eg)*4)+2],eh[((ea+eg)*4)+3]);ec=cU.color.toArray(cU.modes.blend(ec,cU.filter_bilinear()));eh[(ea+eg)*4]=ec[0];eh[(ea+eg)*4+1]=ec[1];eh[(ea+eg)*4+2]=ec[2];eh[(ea+eg)*4+3]=ec[3];cU.shared.sX+=ej}ea+=d7;cU.shared.srcYOffset+=ei}break;case j.ADD:for(ef=0;ef<eb;ef++){cU.filter_new_scanline();for(eg=0;eg<es;eg++){ec=cU.color.toInt(eh[(ea+eg)*4],eh[((ea+eg)*4)+1],eh[((ea+eg)*4)+2],eh[((ea+eg)*4)+3]);ec=cU.color.toArray(cU.modes.add(ec,cU.filter_bilinear()));eh[(ea+eg)*4]=ec[0];eh[(ea+eg)*4+1]=ec[1];eh[(ea+eg)*4+2]=ec[2];eh[(ea+eg)*4+3]=ec[3];cU.shared.sX+=ej}ea+=d7;cU.shared.srcYOffset+=ei}break;case j.SUBTRACT:for(ef=0;ef<eb;ef++){cU.filter_new_scanline();for(eg=0;eg<es;eg++){ec=cU.color.toInt(eh[(ea+eg)*4],eh[((ea+eg)*4)+1],eh[((ea+eg)*4)+2],eh[((ea+eg)*4)+3]);ec=cU.color.toArray(cU.modes.subtract(ec,cU.filter_bilinear()));eh[(ea+eg)*4]=ec[0];eh[(ea+eg)*4+1]=ec[1];eh[(ea+eg)*4+2]=ec[2];eh[(ea+eg)*4+3]=ec[3];cU.shared.sX+=ej}ea+=d7;cU.shared.srcYOffset+=ei}break;case j.LIGHTEST:for(ef=0;ef<eb;ef++){cU.filter_new_scanline();for(eg=0;eg<es;eg++){ec=cU.color.toInt(eh[(ea+eg)*4],eh[((ea+eg)*4)+1],eh[((ea+eg)*4)+2],eh[((ea+eg)*4)+3]);ec=cU.color.toArray(cU.modes.lightest(ec,cU.filter_bilinear()));eh[(ea+eg)*4]=ec[0];eh[(ea+eg)*4+1]=ec[1];eh[(ea+eg)*4+2]=ec[2];eh[(ea+eg)*4+3]=ec[3];cU.shared.sX+=ej}ea+=d7;cU.shared.srcYOffset+=ei}break;case j.DARKEST:for(ef=0;ef<eb;ef++){cU.filter_new_scanline();for(eg=0;eg<es;eg++){ec=cU.color.toInt(eh[(ea+eg)*4],eh[((ea+eg)*4)+1],eh[((ea+eg)*4)+2],eh[((ea+eg)*4)+3]);ec=cU.color.toArray(cU.modes.darkest(ec,cU.filter_bilinear()));eh[(ea+eg)*4]=ec[0];eh[(ea+eg)*4+1]=ec[1];eh[(ea+eg)*4+2]=ec[2];eh[(ea+eg)*4+3]=ec[3];cU.shared.sX+=ej}ea+=d7;cU.shared.srcYOffset+=ei}break;case j.REPLACE:for(ef=0;ef<eb;ef++){cU.filter_new_scanline();for(eg=0;eg<es;eg++){ec=cU.color.toInt(eh[(ea+eg)*4],eh[((ea+eg)*4)+1],eh[((ea+eg)*4)+2],eh[((ea+eg)*4)+3]);if(et.format!==j.RGB&&eh[(ea+eg)*4]!==255){ec=cU.color.toArray(cU.modes.blend(ec,cU.filter_bilinear()))}else{ec=cU.color.toArray(cU.filter_bilinear())}eh[(ea+eg)*4]=ec[0];eh[(ea+eg)*4+1]=ec[1];eh[(ea+eg)*4+2]=ec[2];eh[(ea+eg)*4+3]=ec[3];cU.shared.sX+=ej}ea+=d7;cU.shared.srcYOffset+=ei}break;case j.DIFFERENCE:for(ef=0;ef<eb;ef++){cU.filter_new_scanline();for(eg=0;eg<es;eg++){ec=cU.color.toInt(eh[(ea+eg)*4],eh[((ea+eg)*4)+1],eh[((ea+eg)*4)+2],eh[((ea+eg)*4)+3]);ec=cU.color.toArray(cU.modes.difference(ec,cU.filter_bilinear()));eh[(ea+eg)*4]=ec[0];eh[(ea+eg)*4+1]=ec[1];eh[(ea+eg)*4+2]=ec[2];eh[(ea+eg)*4+3]=ec[3];cU.shared.sX+=ej}ea+=d7;cU.shared.srcYOffset+=ei}break;case j.EXCLUSION:for(ef=0;ef<eb;ef++){cU.filter_new_scanline();for(eg=0;eg<es;eg++){ec=cU.color.toInt(eh[(ea+eg)*4],eh[((ea+eg)*4)+1],eh[((ea+eg)*4)+2],eh[((ea+eg)*4)+3]);ec=cU.color.toArray(cU.modes.exclusion(ec,cU.filter_bilinear()));eh[(ea+eg)*4]=ec[0];eh[(ea+eg)*4+1]=ec[1];eh[(ea+eg)*4+2]=ec[2];eh[(ea+eg)*4+3]=ec[3];cU.shared.sX+=ej}ea+=d7;cU.shared.srcYOffset+=ei}break;case j.MULTIPLY:for(ef=0;ef<eb;ef++){cU.filter_new_scanline();for(eg=0;eg<es;eg++){ec=cU.color.toInt(eh[(ea+eg)*4],eh[((ea+eg)*4)+1],eh[((ea+eg)*4)+2],eh[((ea+eg)*4)+3]);ec=cU.color.toArray(cU.modes.multiply(ec,cU.filter_bilinear()));eh[(ea+eg)*4]=ec[0];eh[(ea+eg)*4+1]=ec[1];eh[(ea+eg)*4+2]=ec[2];eh[(ea+eg)*4+3]=ec[3];cU.shared.sX+=ej}ea+=d7;cU.shared.srcYOffset+=ei}break;case j.SCREEN:for(ef=0;ef<eb;ef++){cU.filter_new_scanline();for(eg=0;eg<es;eg++){ec=cU.color.toInt(eh[(ea+eg)*4],eh[((ea+eg)*4)+1],eh[((ea+eg)*4)+2],eh[((ea+eg)*4)+3]);ec=cU.color.toArray(cU.modes.screen(ec,cU.filter_bilinear()));eh[(ea+eg)*4]=ec[0];eh[(ea+eg)*4+1]=ec[1];eh[(ea+eg)*4+2]=ec[2];eh[(ea+eg)*4+3]=ec[3];cU.shared.sX+=ej}ea+=d7;cU.shared.srcYOffset+=ei}break;case j.OVERLAY:for(ef=0;ef<eb;ef++){cU.filter_new_scanline();for(eg=0;eg<es;eg++){ec=cU.color.toInt(eh[(ea+eg)*4],eh[((ea+eg)*4)+1],eh[((ea+eg)*4)+2],eh[((ea+eg)*4)+3]);ec=cU.color.toArray(cU.modes.overlay(ec,cU.filter_bilinear()));eh[(ea+eg)*4]=ec[0];eh[(ea+eg)*4+1]=ec[1];eh[(ea+eg)*4+2]=ec[2];eh[(ea+eg)*4+3]=ec[3];cU.shared.sX+=ej}ea+=d7;cU.shared.srcYOffset+=ei}break;case j.HARD_LIGHT:for(ef=0;ef<eb;ef++){cU.filter_new_scanline();for(eg=0;eg<es;eg++){ec=cU.color.toInt(eh[(ea+eg)*4],eh[((ea+eg)*4)+1],eh[((ea+eg)*4)+2],eh[((ea+eg)*4)+3]);ec=cU.color.toArray(cU.modes.hard_light(ec,cU.filter_bilinear()));eh[(ea+eg)*4]=ec[0];eh[(ea+eg)*4+1]=ec[1];eh[(ea+eg)*4+2]=ec[2];eh[(ea+eg)*4+3]=ec[3];cU.shared.sX+=ej}ea+=d7;cU.shared.srcYOffset+=ei}break;case j.SOFT_LIGHT:for(ef=0;ef<eb;ef++){cU.filter_new_scanline();for(eg=0;eg<es;eg++){ec=cU.color.toInt(eh[(ea+eg)*4],eh[((ea+eg)*4)+1],eh[((ea+eg)*4)+2],eh[((ea+eg)*4)+3]);ec=cU.color.toArray(cU.modes.soft_light(ec,cU.filter_bilinear()));eh[(ea+eg)*4]=ec[0];eh[(ea+eg)*4+1]=ec[1];eh[(ea+eg)*4+2]=ec[2];eh[(ea+eg)*4+3]=ec[3];cU.shared.sX+=ej}ea+=d7;cU.shared.srcYOffset+=ei}break;case j.DODGE:for(ef=0;ef<eb;ef++){cU.filter_new_scanline();for(eg=0;eg<es;eg++){ec=cU.color.toInt(eh[(ea+eg)*4],eh[((ea+eg)*4)+1],eh[((ea+eg)*4)+2],eh[((ea+eg)*4)+3]);ec=cU.color.toArray(cU.modes.dodge(ec,cU.filter_bilinear()));eh[(ea+eg)*4]=ec[0];eh[(ea+eg)*4+1]=ec[1];eh[(ea+eg)*4+2]=ec[2];eh[(ea+eg)*4+3]=ec[3];cU.shared.sX+=ej}ea+=d7;cU.shared.srcYOffset+=ei}break;case j.BURN:for(ef=0;ef<eb;ef++){cU.filter_new_scanline();for(eg=0;eg<es;eg++){ec=cU.color.toInt(eh[(ea+eg)*4],eh[((ea+eg)*4)+1],eh[((ea+eg)*4)+2],eh[((ea+eg)*4)+3]);ec=cU.color.toArray(cU.modes.burn(ec,cU.filter_bilinear()));eh[(ea+eg)*4]=ec[0];eh[(ea+eg)*4+1]=ec[1];eh[(ea+eg)*4+2]=ec[2];eh[(ea+eg)*4+3]=ec[3];cU.shared.sX+=ej}ea+=d7;cU.shared.srcYOffset+=ei}break}}};function dK(d6){this.name="sans-serif";if(d6!==c){switch(d6){case"sans-serif":case"serif":case"monospace":case"fantasy":case"cursive":this.name=d6;break;default:this.name='"'+d6+'", sans-serif';break}}this.origName=d6}dK.prototype.width=function(d6){if("measureText" in d3){return d3.measureText(typeof d6==="number"?String.fromCharCode(d6):d6).width/dW}else{return 0}};dK.list=function(){return["sans-serif","serif","monospace","fantasy","cursive"]};cU.PFont=dK;cU.loadFont=function(d7){if(d7===c||d7.indexOf(".svg")===-1){return new dK(d7)}else{var d6=cU.loadGlyphs(d7);return{name:d7,glyph:true,units_per_em:d6.units_per_em,horiz_adv_x:1/d6.units_per_em*d6.horiz_adv_x,ascent:d6.ascent,descent:d6.descent,width:function(ec){var ea=0;var d8=ec.length;for(var d9=0;d9<d8;d9++){try{ea+=parseFloat(cU.glyphLook(cU.glyphTable[d7],ec[d9]).horiz_adv_x)}catch(eb){E.debug(eb)}}return ea/cU.glyphTable[d7].units_per_em}}}};cU.createFont=function(d7,d8,d6,d9){if(arguments.length===2){cU.textSize(d8);return cU.loadFont(d7)}else{if(arguments.length===3){cU.textSize(d8);return cU.loadFont(d7)}else{if(arguments.length===4){cU.textSize(d8);return cU.loadFont(d7)}else{throw ("incorrent number of parameters for createFont")}}}};cU.textFont=function(d6,d8){S=d6;if(d8){cU.textSize(d8)}else{var d7=dU.$ensureContext();d7.font=dW+"px "+S.name}};cU.textSize=function(d7){if(d7){dW=d7;var d6=dU.$ensureContext();d6.font=dW+"px "+S.name}};cU.textAlign=function(){if(arguments.length===1){J=arguments[0]}else{if(arguments.length===2){J=arguments[0];cZ=arguments[1]}}};function bn(d6){if(d6 instanceof String){return d6}else{if(typeof d6==="number"){if(d6===(0|d6)){return d6.toString()}else{return cU.nf(d6,0,3)}}else{if(d6===null||d6===c){return""}else{return d6.toString()}}}}bK.prototype.textWidth=function(ea){var d6=bn(ea).split(/\r?\n/g),d8=0;var d7,d9=d6.length;d3.font=dW+"px "+S.name;for(d7=0;d7<d9;++d7){d8=o.max(d8,d3.measureText(d6[d7]).width)}return d8};bu.prototype.textWidth=function(eb){var d6=bn(eb).split(/\r?\n/g),d9=0;var d8,ea=d6.length;if(cD===c){cD=w.createElement("canvas")}var d7=cD.getContext("2d");d7.font=dW+"px "+S.name;for(d8=0;d8<ea;++d8){d9=o.max(d9,d7.measureText(d6[d8]).width)}return d9};cU.textLeading=function(d6){d2=d6};function bt(d9,d7,d6,d8){this.canvas=w.createElement("canvas");this.canvas.setAttribute("width",d7+"px");this.canvas.setAttribute("height",d7+"px");this.ctx=this.canvas.getContext("2d");this.ctx.font=d7+"pt "+d9;this.ctx.fillStyle="black";this.ctx.fillRect(0,0,d7,d7);this.ctx.fillStyle="white";this.ctx.fillText(d8,0,d6);this.imageData=this.ctx.getImageData(0,0,d7,d7);this.get=function(ea,eb){return this.imageData.data[((eb*(this.imageData.width*4))+(ea*4))]}}cU.textAscent=(function(){var d6=c,ea=c,d9=c,d7=c;return function d8(){if(ea!==S||d6!==dW){ea=S;d6=dW;var ee=false,ed="k",eh=cU.color(0),eg=0,eb=dW,ec=dW/2;d7=new bt(S.name,dW,dW,ed);while(ec!==eb){for(var ef=0;ef<dW;ef++){if(d7.get(ef,ec)!==eh){ee=true;ef=dW}}if(ee){eb=ec;ee=false}else{eg=ec}ec=o.ceil((eb+eg)/2)}d9=((dW-1)-ec)+1;return d9}else{return d9}}}());cU.textDescent=(function(){var d8=c,ea=c,d7=c,d9=c;return function d6(){if(ea!==S||d8!==dW){ea=S;d8=dW;var ee=false,ed="p",eh=cU.color(0),eg=0,eb=dW,ec=dW/2;d9=new bt(S.name,dW,0,ed);while(ec!==eb){for(var ef=0;ef<dW;ef++){if(d9.get(ef,ec)!==eh){ee=true;ef=dW}}if(ee){eg=ec;ee=false}else{eb=ec}ec=o.ceil((eb+eg)/2)}d7=ec+1;return d7}else{return d7}}}());cU.glyphLook=function(d6,d7){try{switch(d7){case"1":return d6.one;case"2":return d6.two;case"3":return d6.three;case"4":return d6.four;case"5":return d6.five;case"6":return d6.six;case"7":return d6.seven;case"8":return d6.eight;case"9":return d6.nine;case"0":return d6.zero;case" ":return d6.space;case"$":return d6.dollar;case"!":return d6.exclam;case'"':return d6.quotedbl;case"#":return d6.numbersign;case"%":return d6.percent;case"&":return d6.ampersand;case"'":return d6.quotesingle;case"(":return d6.parenleft;case")":return d6.parenright;case"*":return d6.asterisk;case"+":return d6.plus;case",":return d6.comma;case"-":return d6.hyphen;case".":return d6.period;case"/":return d6.slash;case"_":return d6.underscore;case":":return d6.colon;case";":return d6.semicolon;case"<":return d6.less;case"=":return d6.equal;case">":return d6.greater;case"?":return d6.question;case"@":return d6.at;case"[":return d6.bracketleft;case"\\":return d6.backslash;case"]":return d6.bracketright;case"^":return d6.asciicircum;case"`":return d6.grave;case"{":return d6.braceleft;case"|":return d6.bar;case"}":return d6.braceright;case"~":return d6.asciitilde;default:return d6[d7]}}catch(d8){E.debug(d8)}};bK.prototype.text$line=function(ee,eh,eg,ef,eb){var ed=0,ec=0;if(!S.glyph){if(ee&&("fillText" in d3)){if(an){d3.fillStyle=cU.color.toString(aU);an=false}if(eb===j.RIGHT||eb===j.CENTER){ed=d3.measureText(ee).width;if(eb===j.RIGHT){ec=-ed}else{ec=-ed/2}}d3.fillText(ee,eh+ec,eg)}}else{var d6=cU.glyphTable[S.name];aA();d3.translate(eh,eg+dW);if(eb===j.RIGHT||eb===j.CENTER){ed=d6.width(ee);if(eb===j.RIGHT){ec=-ed}else{ec=-ed/2}}var ei=d6.units_per_em,ea=1/ei*dW;d3.scale(ea,ea);for(var d7=0,d8=ee.length;d7<d8;d7++){try{cU.glyphLook(d6,ee[d7]).draw()}catch(d9){E.debug(d9)}}cO()}};bu.prototype.text$line=function(ed,eh,eg,ee,eb){if(cD===c){cD=w.createElement("canvas")}var d7=d3;d3=cD.getContext("2d");d3.font=dW+"px "+S.name;var ec=d3.measureText(ed).width;cD.width=ec;cD.height=dW;d3=cD.getContext("2d");d3.font=dW+"px "+S.name;d3.textBaseline="top";bK.prototype.text$line(ed,0,0,0,j.LEFT);var d6=cD.width/cD.height;d3=d7;d3.bindTexture(d3.TEXTURE_2D,bL);dF(cD);d3.texParameteri(d3.TEXTURE_2D,d3.TEXTURE_MAG_FILTER,d3.LINEAR);d3.texParameteri(d3.TEXTURE_2D,d3.TEXTURE_MIN_FILTER,d3.LINEAR);d3.texParameteri(d3.TEXTURE_2D,d3.TEXTURE_WRAP_T,d3.CLAMP_TO_EDGE);d3.texParameteri(d3.TEXTURE_2D,d3.TEXTURE_WRAP_S,d3.CLAMP_TO_EDGE);var ea=0;if(eb===j.RIGHT){ea=-ec}else{if(eb===j.CENTER){ea=-ec/2}}var d8=new aK();var d9=dW*0.5;d8.translate(eh+ea-d9/2,eg-d9,ee);d8.scale(-d6*d9,-d9,d9);d8.translate(-1,-1,-1);d8.transpose();var ef=new aK();ef.scale(1,-1,1);ef.apply(dG.array());ef.transpose();d3.useProgram(dN);dc("vertex2d",dN,"Vertex",3,cG);dc("aTextureCoord2d",dN,"aTextureCoord",2,X);dV("uSampler2d",dN,"uSampler",[0]);dV("picktype2d",dN,"picktype",1);a2("model2d",dN,"model",false,d8.array());a2("view2d",dN,"view",false,ef.array());dY("color2d",dN,"color",bh);d3.bindBuffer(d3.ELEMENT_ARRAY_BUFFER,O);d3.drawElements(d3.TRIANGLES,6,d3.UNSIGNED_SHORT,0)};function ba(d9,ec,eb,ea){var ee,d8;if(d9.indexOf("\n")<0){ee=[d9];d8=1}else{ee=d9.split(/\r?\n/g);d8=ee.length}var d6;if(cZ===j.TOP){d6=(1-cr)*d2}else{if(cZ===j.CENTER){d6=(1-cr-d8/2)*d2}else{if(cZ===j.BOTTOM){d6=(1-cr-d8)*d2}else{d6=0}}}for(var d7=0;d7<d8;++d7){var ed=ee[d7];dU.text$line(ed,ec,eb+d6,ea,J);d6+=d2}}function a6(en,ei,eh,em,ek,eg){if(en.length===0||em===0||ek===0){return}if(dW>ek){return}var ej=-1;var eb=0;var d6=0;var d9=em;var ef=0;d3.font=dW+"px "+S.name;var ed=[];for(var ec=0,eq=en.length;ec<eq;ec++){var ee=en[ec];var es=(ee===" ");var el=d3.measureText(ee).width;if(ee!=="\n"&&(d6+el<d9)){if(es){ej=ec}d6+=el}else{if(ej+1===eb){if(ec>0){ej=ec}else{return}}if(ee==="\n"){ed.push({text:en.substring(eb,ec),width:d6,offset:ef});eb=ec+1}else{ed.push({text:en.substring(eb,ej),width:d6,offset:ef});eb=ej+1}ef+=d2;d6=0;ec=eb-1}}if(eb<eq){ed.push({text:en.substring(eb),width:d6,offset:ef});ef+=dW}var er=0;if(J===j.CENTER){er=em/2}else{if(J===j.RIGHT){er=em}}var ep=(1-cr)*dW,eo=0;if(cZ===j.BOTTOM){eo=ek-(ed.length*d2)}else{if(cZ===j.CENTER){eo=(ek-(ed.length*d2))/2}}for(var d8=0,d7=ed.length;d8<d7;d8++){var ea=ed[d8];if(ea.offset+eo<0){continue}if(ea.offset+eo+dW>ek){break}dU.text$line(ea.text,ei+er,eh+ea.offset+ep+eo,eg,J)}}cU.text=function(){if(al===j.SCREEN){cU.pushMatrix();cU.resetMatrix();var ea=cU.textAscent();var d8=cU.textDescent();var eb=cU.textWidth(arguments[0]);var d9=ea+d8;var d6=cU.loadFont(S.origName);var d7=cU.createGraphics(eb,d9);d7.beginDraw();d7.fill(aU);d7.opaque=false;d7.background(0,0,0,0);d7.textFont(d6);d7.textSize(dW);d7.text(arguments[0],0,ea);d7.endDraw();if(arguments.length===5||arguments.length===6){cU.image(d7,arguments[1],arguments[2]-ea,arguments[3],arguments[4])}else{cU.image(d7,arguments[1],arguments[2]-ea)}cU.popMatrix()}else{if(al===j.SHAPE){return}else{if(arguments.length===3){ba(bn(arguments[0]),arguments[1],arguments[2],0)}else{if(arguments.length===4){ba(bn(arguments[0]),arguments[1],arguments[2],arguments[3])}else{if(arguments.length===5){a6(bn(arguments[0]),arguments[1],arguments[2],arguments[3],arguments[4],0)}else{if(arguments.length===6){a6(bn(arguments[0]),arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}}}}}}};cU.textMode=function(d6){al=d6};cU.loadGlyphs=function(ec){var ee,ed,ea,d8,el,ek,ej,em,eg,en,eh,ei="[0-9\\-]+",ef;var eb=function(et,es){var eq=0,ep=[],eo,er=new RegExp(et,"g");eo=ep[eq]=er.exec(es);while(eo){eq++;eo=ep[eq]=er.exec(es)}return ep};var d7=function(et){var eu=eb("[A-Za-z][0-9\\- ]+|Z",et);var es=function(){aA();return dU.$ensureContext()};var eq=function(){bg();dd();cO()};ef="return {draw:function(){var curContext=beforePathDraw();curContext.beginPath();";ee=0;ed=0;ea=0;d8=0;el=0;ek=0;et=0;em=0;eg="";en=eu.length-1;for(var ep=0;ep<en;ep++){var eo=eu[ep][0],er=eb(ei,eo);switch(eo[0]){case"M":ee=parseFloat(er[0][0]);ed=parseFloat(er[1][0]);ef+="curContext.moveTo("+ee+","+(-ed)+");";break;case"L":ee=parseFloat(er[0][0]);ed=parseFloat(er[1][0]);ef+="curContext.lineTo("+ee+","+(-ed)+");";break;case"H":ee=parseFloat(er[0][0]);ef+="curContext.lineTo("+ee+","+(-ed)+");";break;case"V":ed=parseFloat(er[0][0]);ef+="curContext.lineTo("+ee+","+(-ed)+");";break;case"T":el=parseFloat(er[0][0]);ek=parseFloat(er[1][0]);if(eg==="Q"||eg==="T"){et=o.sqrt(o.pow(ee-ea,2)+o.pow(d8-ed,2));em=o.PI+o.atan2(ea-ee,d8-ed);ea=ee+(o.sin(em)*(et));d8=ed+(o.cos(em)*(et))}else{ea=ee;d8=ed}ef+="curContext.quadraticCurveTo("+ea+","+(-d8)+","+el+","+(-ek)+");";ee=el;ed=ek;break;case"Q":ea=parseFloat(er[0][0]);d8=parseFloat(er[1][0]);el=parseFloat(er[2][0]);ek=parseFloat(er[3][0]);ef+="curContext.quadraticCurveTo("+ea+","+(-d8)+","+el+","+(-ek)+");";ee=el;ed=ek;break;case"Z":ef+="curContext.closePath();";break}eg=eo[0]}ef+="afterPathDraw();";ef+="curContext.translate("+eh+",0);";ef+="}}";return((new Function("beforePathDraw","afterPathDraw",ef))(es,eq))};var d6=function(er){var eq=er.getElementsByTagName("font");cU.glyphTable[ec].horiz_adv_x=eq[0].getAttribute("horiz-adv-x");var et=er.getElementsByTagName("font-face")[0];cU.glyphTable[ec].units_per_em=parseFloat(et.getAttribute("units-per-em"));cU.glyphTable[ec].ascent=parseFloat(et.getAttribute("ascent"));cU.glyphTable[ec].descent=parseFloat(et.getAttribute("descent"));var ev=er.getElementsByTagName("glyph"),ep=ev.length;for(var eu=0;eu<ep;eu++){var eo=ev[eu].getAttribute("unicode");var es=ev[eu].getAttribute("glyph-name");eh=ev[eu].getAttribute("horiz-adv-x");if(eh===null){eh=cU.glyphTable[ec].horiz_adv_x}ej=ev[eu].getAttribute("d");if(ej!==c){ef=d7(ej);cU.glyphTable[ec][es]={name:es,unicode:eo,horiz_adv_x:eh,draw:ef.draw}}}};var d9=function(){var eq;try{eq=w.implementation.createDocument("","",null)}catch(es){E.debug(es.message);return}try{eq.async=false;eq.load(ec);d6(eq.getElementsByTagName("svg")[0])}catch(ep){E.debug(ep);try{var eo=new l.XMLHttpRequest();eo.open("GET",ec,false);eo.send(null);d6(eo.responseXML.documentElement)}catch(er){E.debug(ep)}}};cU.glyphTable[ec]={};d9(ec);return cU.glyphTable[ec]};cU.param=function(d8){var d7="data-processing-"+d8;if(Z.hasAttribute(d7)){return Z.getAttribute(d7)}for(var d9=0,d6=Z.childNodes.length;d9<d6;++d9){var ea=Z.childNodes.item(d9);if(ea.nodeType!==1||ea.tagName.toLowerCase()!=="param"){continue}if(ea.getAttribute("name")===d8){return ea.getAttribute("value")}}if(cP.params.hasOwnProperty(d8)){return cP.params[d8]}return null};function cJ(d7){if(d7==="3D"){dU=new bu()}else{if(d7==="2D"){dU=new bK()}else{dU=new b5()}}for(var d6 in b5.prototype){if(b5.prototype.hasOwnProperty(d6)&&d6.indexOf("$")<0){cU[d6]=dU[d6]}}dU.$init()}function cS(d6){return function(){cJ("2D");return dU[d6].apply(this,arguments)}}b5.prototype.translate=cS("translate");b5.prototype.scale=cS("scale");b5.prototype.pushMatrix=cS("pushMatrix");b5.prototype.popMatrix=cS("popMatrix");b5.prototype.resetMatrix=cS("resetMatrix");b5.prototype.applyMatrix=cS("applyMatrix");b5.prototype.rotate=cS("rotate");b5.prototype.rotateZ=cS("rotateZ");b5.prototype.redraw=cS("redraw");b5.prototype.ambientLight=cS("ambientLight");b5.prototype.directionalLight=cS("directionalLight");b5.prototype.lightFalloff=cS("lightFalloff");b5.prototype.lightSpecular=cS("lightSpecular");b5.prototype.pointLight=cS("pointLight");b5.prototype.noLights=cS("noLights");b5.prototype.spotLight=cS("spotLight");b5.prototype.box=cS("box");b5.prototype.sphere=cS("sphere");b5.prototype.ambient=cS("ambient");b5.prototype.emissive=cS("emissive");b5.prototype.shininess=cS("shininess");b5.prototype.specular=cS("specular");b5.prototype.fill=cS("fill");b5.prototype.stroke=cS("stroke");b5.prototype.strokeWeight=cS("strokeWeight");b5.prototype.smooth=cS("smooth");b5.prototype.noSmooth=cS("noSmooth");b5.prototype.point=cS("point");b5.prototype.vertex=cS("vertex");b5.prototype.endShape=cS("endShape");b5.prototype.bezierVertex=cS("bezierVertex");b5.prototype.curveVertex=cS("curveVertex");b5.prototype.curve=cS("curve");b5.prototype.line=cS("line");b5.prototype.bezier=cS("bezier");b5.prototype.rect=cS("rect");b5.prototype.ellipse=cS("ellipse");b5.prototype.background=cS("background");b5.prototype.image=cS("image");b5.prototype.textWidth=cS("textWidth");b5.prototype.text$line=cS("text$line");b5.prototype.$ensureContext=cS("$ensureContext");b5.prototype.$newPMatrix=cS("$newPMatrix");b5.prototype.size=function(d6,d8,d7){cJ(d7===j.WEBGL?"3D":"2D");cU.size(d6,d8,d7)};b5.prototype.$init=function(){};bK.prototype.$init=function(){cU.size(cU.width,cU.height);d3.translate(0.5,0.5);d3.lineCap="round";cU.noSmooth();cU.disableContextMenu()};bu.prototype.$init=function(){cU.use3DContext=true};dq.prototype.$ensureContext=function(){return d3};function dx(d7,d9){var d8=d7,d6=0,ea=0;cU.pmouseX=cU.mouseX;cU.pmouseY=cU.mouseY;if(d8.offsetParent){do{d6+=d8.offsetLeft;ea+=d8.offsetTop}while(!!(d8=d8.offsetParent))}d8=d7;do{d6-=d8.scrollLeft||0;ea-=d8.scrollTop||0}while(!!(d8=d8.parentNode));d6+=Y;ea+=dm;d6+=aO;ea+=bR;d6+=l.pageXOffset;ea+=l.pageYOffset;return{X:d6,Y:ea}}function aE(d6,d7){var d8=dx(d6,d7);cU.mouseX=d7.pageX-d8.X;cU.mouseY=d7.pageY-d8.Y}function cs(d7){var d9=dx(d7.changedTouches[0].target,d7.changedTouches[0]),d6;for(d6=0;d6<d7.touches.length;d6++){var eb=d7.touches[d6];eb.offsetX=eb.pageX-d9.X;eb.offsetY=eb.pageY-d9.Y}for(d6=0;d6<d7.targetTouches.length;d6++){var d8=d7.targetTouches[d6];d8.offsetX=d8.pageX-d9.X;d8.offsetY=d8.pageY-d9.Y}for(d6=0;d6<d7.changedTouches.length;d6++){var ea=d7.changedTouches[d6];ea.offsetX=ea.pageX-d9.X;ea.offsetY=ea.pageY-d9.Y}return d7}bH(Z,"touchstart",function(d8){Z.setAttribute("style","-webkit-user-select: none");Z.setAttribute("onclick","void(0)");Z.setAttribute("style","-webkit-tap-highlight-color:rgba(0,0,0,0)");for(var d7=0,d6=aq.length;d7<d6;d7++){var d9=aq[d7].type;if(d9==="mouseout"||d9==="mousemove"||d9==="mousedown"||d9==="mouseup"||d9==="DOMMouseScroll"||d9==="mousewheel"||d9==="touchstart"){de(aq[d7])}}if(cU.touchStart!==c||cU.touchMove!==c||cU.touchEnd!==c||cU.touchCancel!==c){bH(Z,"touchstart",function(ea){if(cU.touchStart!==c){ea=cs(ea);cU.touchStart(ea)}});bH(Z,"touchmove",function(ea){if(cU.touchMove!==c){ea.preventDefault();ea=cs(ea);cU.touchMove(ea)}});bH(Z,"touchend",function(ea){if(cU.touchEnd!==c){ea=cs(ea);cU.touchEnd(ea)}});bH(Z,"touchcancel",function(ea){if(cU.touchCancel!==c){ea=cs(ea);cU.touchCancel(ea)}})}else{bH(Z,"touchstart",function(ea){aE(Z,ea.touches[0]);cU.__mousePressed=true;cU.mouseDragging=false;cU.mouseButton=j.LEFT;if(typeof cU.mousePressed==="function"){cU.mousePressed()}});bH(Z,"touchmove",function(ea){ea.preventDefault();aE(Z,ea.touches[0]);if(typeof cU.mouseMoved==="function"&&!cU.__mousePressed){cU.mouseMoved()}if(typeof cU.mouseDragged==="function"&&cU.__mousePressed){cU.mouseDragged();cU.mouseDragging=true}});bH(Z,"touchend",function(ea){cU.__mousePressed=false;if(typeof cU.mouseClicked==="function"&&!cU.mouseDragging){cU.mouseClicked()}if(typeof cU.mouseReleased==="function"){cU.mouseReleased()}})}Z.dispatchEvent(d8)});(function(){var d6=true,d7=function(d8){d8.preventDefault();d8.stopPropagation()};cU.disableContextMenu=function(){if(!d6){return}bH(Z,"contextmenu",d7);d6=false};cU.enableContextMenu=function(){if(d6){return}de({elem:Z,type:"contextmenu",fn:d7});d6=true}}());bH(Z,"mousemove",function(d6){aE(Z,d6);if(typeof cU.mouseMoved==="function"&&!cU.__mousePressed){cU.mouseMoved()}if(typeof cU.mouseDragged==="function"&&cU.__mousePressed){cU.mouseDragged();cU.mouseDragging=true}});bH(Z,"mouseout",function(d6){if(typeof cU.mouseOut==="function"){cU.mouseOut()}});bH(Z,"mouseover",function(d6){aE(Z,d6);if(typeof cU.mouseOver==="function"){cU.mouseOver()}});bH(Z,"mousedown",function(d6){cU.__mousePressed=true;cU.mouseDragging=false;switch(d6.which){case 1:cU.mouseButton=j.LEFT;break;case 2:cU.mouseButton=j.CENTER;break;case 3:cU.mouseButton=j.RIGHT;break}if(typeof cU.mousePressed==="function"){cU.mousePressed()}});bH(Z,"mouseup",function(d6){cU.__mousePressed=false;if(typeof cU.mouseClicked==="function"&&!cU.mouseDragging){cU.mouseClicked()}if(typeof cU.mouseReleased==="function"){cU.mouseReleased()}});var aj=function(d6){var d7=0;if(d6.wheelDelta){d7=d6.wheelDelta/120;if(l.opera){d7=-d7}}else{if(d6.detail){d7=-d6.detail/3}}cU.mouseScroll=d7;if(d7&&typeof cU.mouseScrolled==="function"){cU.mouseScrolled()}};bH(w,"DOMMouseScroll",aj);bH(w,"mousewheel",aj);if(typeof Z==="string"){Z=w.getElementById(Z)}if(!Z.getAttribute("tabindex")){Z.setAttribute("tabindex",0)}function dA(d7){var d6=d7.which||d7.keyCode;switch(d6){case 13:return 10;case 91:case 93:case 224:return 157;case 57392:return 17;case 46:return 127;case 45:return 155}return d6}function cz(d7){var d8=d7.which||d7.keyCode;var d6=d7.shiftKey||d7.ctrlKey||d7.altKey||d7.metaKey;switch(d8){case 13:d8=d6?13:10;break;case 8:d8=d6?127:8;break}return new bI(d8)}function cQ(d6){if(typeof d6.preventDefault==="function"){d6.preventDefault()}else{if(typeof d6.stopPropagation==="function"){d6.stopPropagation()}}return false}function dC(){var d6;for(d6 in ac){if(ac.hasOwnProperty(d6)){cU.__keyPressed=true;return}}cU.__keyPressed=false}function cv(){cU.__keyPressed=false;ac=[];dE=null}function bj(d6,d7){ac[d6]=d7;dE=null;cU.key=d7;cU.keyCode=d6;cU.keyPressed();cU.keyCode=0;cU.keyTyped();dC()}function cx(d7){var d6=dA(d7);if(d6===j.DELETE){bj(d6,new bI(127));return}if(dT.indexOf(d6)<0){dE=d6;return}var d8=new bI(j.CODED);cU.key=d8;cU.keyCode=d6;ac[d6]=d8;cU.keyPressed();dE=null;dC();return cQ(d7)}function dt(d7){if(dE===null){return}var d6=dE,d8=cz(d7);bj(d6,d8);return cQ(d7)}function cn(d7){var d6=dA(d7),d8=ac[d6];if(d8===c){return}cU.key=d8;cU.keyCode=d6;cU.keyReleased();delete ac[d6];dC()}if(!cT){if(a3 instanceof E.Sketch){cP=a3}else{if(typeof a3==="function"){cP=new E.Sketch(a3)}else{if(!a3){cP=new E.Sketch(function(){})}else{cP=E.compile(a3)}}}cU.externals.sketch=cP;cJ();Z.onfocus=function(){cU.focused=true};Z.onblur=function(){cU.focused=false;if(!cP.options.globalKeyEvents){cv()}};if(cP.options.pauseOnBlur){bH(l,"focus",function(){if(az){cU.loop()}});bH(l,"blur",function(){if(az&&au){cU.noLoop();az=true}cv()})}var aP=cP.options.globalKeyEvents?l:Z;bH(aP,"keydown",cx);bH(aP,"keypress",dt);bH(aP,"keyup",cn);for(var c3 in E.lib){if(E.lib.hasOwnProperty(c3)){if(E.lib[c3].hasOwnProperty("attach")){E.lib[c3].attach(cU)}else{if(E.lib[c3] instanceof Function){E.lib[c3].call(this)}}}}var b1=function(d6){if(!cP.imageCache.pending&&cP.fonts.pending()){cP.attach(d6,b);cP.onLoad();if(d6.setup){d6.setup();if(d3&&!cU.use3DContext){d3.setTransform(1,0,0,1,0,0)}cP.onSetup()}P();if(d6.draw){if(!az){d6.redraw()}else{d6.loop()}}}else{l.setTimeout(function(){b1(d6)},10)}};y(this);b1(cU)}else{cP=new E.Sketch();cJ();cU.size=function(d6,d8,d7){if(d7&&d7===j.WEBGL){cJ("3D")}else{cJ("2D")}if(d7===j.WEBGL){cU.toImageData=function(){var ef=w.createElement("canvas");var eh=ef.getContext("2d");var eb=eh.createImageData(this.width,this.height);var ea=new q(this.width*this.height*4);d3.readPixels(0,0,this.width,this.height,d3.RGBA,d3.UNSIGNED_BYTE,ea);for(var ec=0,ee=ea.length,ed=this.height,eg=this.width,d9=eb.data;ec<ee;ec++){d9[ec]=ea[(ed-1-o.floor(ec/4/eg))*eg*4+(ec%(eg*4))]}return eb}}else{cU.toImageData=function(){return d3.getImageData(0,0,this.width,this.height)}}cU.size(d6,d8,d7)}}};E.debug=u;E.prototype=b;function x(){var N=["abs","acos","alpha","ambient","ambientLight","append","applyMatrix","arc","arrayCopy","asin","atan","atan2","background","beginCamera","beginDraw","beginShape","bezier","bezierDetail","bezierPoint","bezierTangent","bezierVertex","binary","blend","blendColor","blit_resize","blue","box","breakShape","brightness","camera","ceil","Character","color","colorMode","concat","console","constrain","copy","cos","createFont","createGraphics","createImage","cursor","curve","curveDetail","curvePoint","curveTangent","curveTightness","curveVertex","day","degrees","directionalLight","disableContextMenu","dist","draw","ellipse","ellipseMode","emissive","enableContextMenu","endCamera","endDraw","endShape","exit","exp","expand","externals","fill","filter","filter_bilinear","filter_new_scanline","floor","focused","frameCount","frameRate","frustum","get","glyphLook","glyphTable","green","height","hex","hint","hour","hue","image","imageMode","Import","intersect","join","key","keyCode","keyPressed","keyReleased","keyTyped","lerp","lerpColor","lightFalloff","lights","lightSpecular","line","link","loadBytes","loadFont","loadGlyphs","loadImage","loadPixels","loadShape","loadStrings","log","loop","mag","map","match","matchAll","max","millis","min","minute","mix","modelX","modelY","modelZ","modes","month","mouseButton","mouseClicked","mouseDragged","mouseMoved","mouseOut","mouseOver","mousePressed","mouseReleased","mouseScroll","mouseScrolled","mouseX","mouseY","name","nf","nfc","nfp","nfs","noCursor","noFill","noise","noiseDetail","noiseSeed","noLights","noLoop","norm","normal","noSmooth","noStroke","noTint","ortho","param","parseBoolean","parseByte","parseChar","parseFloat","parseInt","peg","perspective","PFont","PImage","pixels","PMatrix2D","PMatrix3D","PMatrixStack","pmouseX","pmouseY","point","pointLight","popMatrix","popStyle","pow","print","printCamera","println","printMatrix","printProjection","PShape","PShapeSVG","pushMatrix","pushStyle","quad","radians","random","Random","randomSeed","rect","rectMode","red","redraw","requestImage","resetMatrix","reverse","rotate","rotateX","rotateY","rotateZ","round","saturation","save","saveFrame","saveStrings","scale","screenX","screenY","screenZ","second","set","setup","shape","shapeMode","shared","shininess","shorten","sin","size","smooth","sort","specular","sphere","sphereDetail","splice","split","splitTokens","spotLight","sq","sqrt","status","str","stroke","strokeCap","strokeJoin","strokeWeight","subset","tan","text","textAlign","textAscent","textDescent","textFont","textLeading","textMode","textSize","texture","textureMode","textWidth","tint","touchCancel","touchEnd","touchMove","touchStart","translate","triangle","trim","unbinary","unhex","updatePixels","use3DContext","vertex","width","XMLElement","year","__contains","__equals","__frameRate","__hashCode","__int_cast","__instanceof","__keyPressed","__mousePressed","__printStackTrace","__replace","__replaceAll","__replaceFirst","__toCharArray","__split"];var L={};var M,K;for(M=0,K=N.length;M<K;++M){L[N[M]]=null}for(var O in E.lib){if(E.lib.hasOwnProperty(O)){if(E.lib[O].exports){var J=E.lib[O].exports;for(M=0,K=J.length;M<K;++M){L[J[M]]=null}}}}return L}function r(an){var aT=x();function aA(bm){var bp=[];var br=bm.split(/([\{\[\(\)\]\}])/);var bu=br[0];var bs=[];for(var bo=1;bo<br.length;bo+=2){var bt=br[bo];if(bt==="["||bt==="{"||bt==="("){bs.push(bu);bu=bt}else{if(bt==="]"||bt==="}"||bt===")"){var bn=bt==="}"?"A":bt===")"?"B":"C";var bq=bp.length;bp.push(bu+bt);bu=bs.pop()+'"'+bn+(bq+1)+'"'}}bu+=br[bo+1]}bp.unshift(bu);return bp}function af(bn,bm){return bn.replace(/'(\d+)'/g,function(bp,bo){var bq=bm[bo];if(bq.charAt(0)==="/"){return bq}else{return(/^'((?:[^'\\\n])|(?:\\.[0-9A-Fa-f]*))'$/).test(bq)?"(new $p.Character("+bq+"))":bq}})}function aL(bp){var bo=/^\s*/.exec(bp),bm;if(bo[0].length===bp.length){bm={left:bo[0],middle:"",right:""}}else{var bn=/\s*$/.exec(bp);bm={left:bo[0],middle:bp.substring(bo[0].length,bn.index),right:bn[0]}}bm.untrim=function(bq){return this.left+bq+this.right};return bm}function a2(bm){return bm.replace(/^\s+/,"").replace(/\s+$/,"")}function aq(bo,bp){for(var bn=0,bm=bp.length;bn<bm;++bn){bo[bp[bn]]=null}return bo}function a6(bn){for(var bm in bn){if(bn.hasOwnProperty(bm)){return false}}return true}function aM(bm){return bm.substring(2,bm.length-1)}var bc=an.replace(/\r\n?|\n\r/g,"\n");var J=[];var aZ=bc.replace(/("(?:[^"\\\n]|\\.)*")|('(?:[^'\\\n]|\\.)*')|(([\[\(=|&!\^:?]\s*)(\/(?![*\/])(?:[^\/\\\n]|\\.)*\/[gim]*)\b)|(\/\/[^\n]*\n)|(\/\*(?:(?!\*\/)(?:.|\n))*\*\/)/g,function(bu,bn,br,bs,bp,bt,bm,bo){var bq;if(bn||br){bq=J.length;J.push(bu);return"'"+bq+"'"}else{if(bs){bq=J.length;J.push(bt);return bp+"'"+bq+"'"}else{return bo!==""?" ":"\n"}}});var V;var aw=aZ;var W=function(bn,bo,bm,bp){if(!!bo||!!bp){return bn}V=true;return""};do{V=false;aw=aw.replace(/([<]?)<\s*((?:\?|[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\s+(?:extends|super)\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)?(?:\s*,\s*(?:\?|[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\s+(?:extends|super)\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)?)*)\s*>([=]?)/g,W)}while(V);var bg=aA(aw);var ah;var aF={},a5,av=0;function a8(bn,bm){var bo=bg.length;bg.push(bn);return'"'+bm+bo+'"'}function a3(){return"class"+(++av)}function bh(bn,bo,bm){bn.classId=bo;bn.scopeId=bm;aF[bo]=bn}var R,O,al,aR,be,aV;var K=/\b((?:(?:public|private|final|protected|static|abstract)\s+)*)(class|interface)\s+([A-Za-z_$][\w$]*\b)(\s+extends\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\b)*)?(\s+implements\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\b)*)?\s*("A\d+")/g;var a7=/\b((?:(?:public|private|final|protected|static|abstract|synchronized)\s+)*)((?!(?:else|new|return|throw|function|public|private|protected)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*([A-Za-z_$][\w$]*\b)\s*("B\d+")(\s*throws\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)*)?\s*("A\d+"|;)/g;var aI=/^((?:(?:public|private|final|protected|static)\s+)*)((?!(?:else|new|return|throw)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*([A-Za-z_$][\w$]*\b)\s*(?:"C\d+"\s*)*([=,]|$)/;var bi=/\b((?:(?:public|private|final|protected|static|abstract)\s+)*)((?!(?:new|return|throw)\b)[A-Za-z_$][\w$]*\b)\s*("B\d+")(\s*throws\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)*)?\s*("A\d+")/g;var S=/^((?:(?:public|private|final|protected|static)\s+)*)((?!(?:new|return|throw)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*/;var ap=/\bfunction(?:\s+([A-Za-z_$][\w$]*))?\s*("B\d+")\s*("A\d+")/g;function aa(bn){var bm=bn;bm=bm.replace(K,function(bo){return a8(bo,"E")});bm=bm.replace(a7,function(bo){return a8(bo,"D")});bm=bm.replace(ap,function(bo){return a8(bo,"H")});return bm}function a9(bo,bn){var bm=bo.replace(bi,function(bt,bq,br,bu,bs,bp){if(br!==bn){return bt}else{return a8(bt,"G")}});return bm}function aD(bm){this.name=bm}aD.prototype.toString=function(){return this.name};function ak(bm){this.params=bm}ak.prototype.getNames=function(){var bo=[];for(var bn=0,bm=this.params.length;bn<bm;++bn){bo.push(this.params[bn].name)}return bo};ak.prototype.toString=function(){if(this.params.length===0){return"()"}var bm="(";for(var bo=0,bn=this.params.length;bo<bn;++bo){bm+=this.params[bo]+", "}return bm.substring(0,bm.length-2)+")"};function az(br){var bp=a2(br.substring(1,br.length-1));var bm=[];if(bp!==""){var bn=bp.split(",");for(var bo=0;bo<bn.length;++bo){var bq=/\b([A-Za-z_$][\w$]*\b)(\s*"[ABC][\d]*")*\s*$/.exec(bn[bo]);bm.push(new aD(bq[1]))}}return new ak(bm)}function am(bq){var bp=bq;bp=bp.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\s*"C\d+")+\s*("A\d+")/g,function(bs,br,bt){return bt});bp=bp.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\s*"B\d+")\s*("A\d+")/g,function(bs,br,bt){return a8(bs,"F")});bp=bp.replace(ap,function(br){return a8(br,"H")});bp=bp.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)\s*("C\d+"(?:\s*"C\d+")*)/g,function(bw,bv,bt){var bs=bt.replace(/"C(\d+)"/g,function(by,bx){return bg[bx]}).replace(/\[\s*\]/g,"[null]").replace(/\s*\]\s*\[\s*/g,", ");var bu="{"+bs.substring(1,bs.length-1)+"}";var br="('"+bv+"', "+a8(bu,"A")+")";return"$p.createJavaArray"+a8(br,"B")});bp=bp.replace(/(\.\s*length)\s*"B\d+"/g,"$1");bp=bp.replace(/#([0-9A-Fa-f]{6})\b/g,function(br,bs){return"0xFF"+bs});bp=bp.replace(/"B(\d+)"(\s*(?:[\w$']|"B))/g,function(bu,bs,bt){var bv=bg[bs];if(!/^\(\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\s*(?:"C\d+"\s*)*\)$/.test(bv)){return bu}else{if(/^\(\s*int\s*\)$/.test(bv)){return"(int)"+bt}else{var br=bv.split(/"C(\d+)"/g);if(br.length>1){if(!/^\[\s*\]$/.test(bg[br[1]])){return bu}}return""+bt}}});bp=bp.replace(/\(int\)([^,\]\)\}\?\:\*\+\-\/\^\|\%\&\~<\>\=]+)/g,function(bs,br){var bt=aL(br);return bt.untrim("__int_cast("+bt.middle+")")});bp=bp.replace(/\bsuper(\s*"B\d+")/g,"$$superCstr$1").replace(/\bsuper(\s*\.)/g,"$$super$1");bp=bp.replace(/\b0+((\d*)(?:\.[\d*])?(?:[eE][\-\+]?\d+)?[fF]?)\b/,function(bt,bs,br){if(bs===br){return bt}return br===""?"0"+bs:bs});bp=bp.replace(/\b(\.?\d+\.?)[fF]\b/g,"$1");bp=bp.replace(/([^\s])%([^=\s])/g,"$1 % $2");bp=bp.replace(/\b(frameRate|keyPressed|mousePressed)\b(?!\s*"B)/g,"__$1");bp=bp.replace(/\b(boolean|byte|char|float|int)\s*"B/g,function(bs,br){return"parse"+br.substring(0,1).toUpperCase()+br.substring(1)+'"B'});bp=bp.replace(/\bpixels\s*(("C(\d+)")|\.length)?(\s*=(?!=)([^,\]\)\}]+))?/g,function(bs,bw,br,bv,bu,bx){if(br){var bt=bg[bv];if(bu){return"pixels.setPixel"+a8("("+bt.substring(1,bt.length-1)+","+bx+")","B")}else{return"pixels.getPixel"+a8("("+bt.substring(1,bt.length-1)+")","B")}}else{if(bw){return"pixels.getLength"+a8("()","B")}else{if(bu){return"pixels.set"+a8("("+bx+")","B")}else{return"pixels.toArray"+a8("()","B")}}}});var bo;function bn(bs,br,bw,bu){var bt=bg[bu];bo=true;var bv=aL(bt.substring(1,bt.length-1));return"__"+bw+(bv.middle===""?a8("("+br.replace(/\.\s*$/,"")+")","B"):a8("("+br.replace(/\.\s*$/,"")+","+bv.middle+")","B"))}do{bo=false;bp=bp.replace(/((?:'\d+'|\b[A-Za-z_$][\w$]*\s*(?:"[BC]\d+")*)\s*\.\s*(?:[A-Za-z_$][\w$]*\s*(?:"[BC]\d+"\s*)*\.\s*)*)(replace|replaceAll|replaceFirst|contains|equals|hashCode|toCharArray|printStackTrace|split)\s*"B(\d+)"/g,bn)}while(bo);function bm(bt,br,bs){bo=true;return"__instanceof"+a8("("+br+", "+bs+")","B")}do{bo=false;bp=bp.replace(/((?:'\d+'|\b[A-Za-z_$][\w$]*\s*(?:"[BC]\d+")*)\s*(?:\.\s*[A-Za-z_$][\w$]*\s*(?:"[BC]\d+"\s*)*)*)instanceof\s+([A-Za-z_$][\w$]*\s*(?:\.\s*[A-Za-z_$][\w$]*)*)/g,bm)}while(bo);bp=bp.replace(/\bthis(\s*"B\d+")/g,"$$constr$1");return bp}function ay(bn,bm){this.baseInterfaceName=bn;this.body=bm;bm.owner=this}ay.prototype.toString=function(){return"new ("+this.body+")"};function ae(bo){var bn=new RegExp(/\bnew\s*([A-Za-z_$][\w$]*\s*(?:\.\s*[A-Za-z_$][\w$]*)*)\s*"B\d+"\s*"A(\d+)"/).exec(bo);var br=a5,bq=a3();a5=bq;var bm=bn[1]+"$"+bq;var bp=new ay(bm,R(bg[bn[2]],bm,"","implements "+bn[1]));bh(bp,bq,br);a5=br;return bp}function ab(bn,bo,bm){this.name=bn;this.params=bo;this.body=bm}ab.prototype.toString=function(){var bn=ah;var bo=aq({"this":null},this.params.getNames());ah=function(bp){return bo.hasOwnProperty(bp.name)?bp.name:bn(bp)};var bm="function";if(this.name){bm+=" "+this.name}bm+=this.params+" "+this.body;ah=bn;return bm};function aG(bn){var bm=new RegExp(/\b([A-Za-z_$][\w$]*)\s*"B(\d+)"\s*"A(\d+)"/).exec(bn);return new ab(bm[1]!=="function"?bm[1]:null,az(bg[bm[2]]),al(bg[bm[3]]))}function Z(bm){this.members=bm}Z.prototype.toString=function(){var bo=ah;ah=function(bq){return bq.name==="this"?"this":bo(bq)};var bm="";for(var bp=0,bn=this.members.length;bp<bn;++bp){if(this.members[bp].label){bm+=this.members[bp].label+": "}bm+=this.members[bp].value.toString()+", "}ah=bo;return bm.substring(0,bm.length-2)};function aB(bp){var bm=bp.split(",");for(var bo=0;bo<bm.length;++bo){var bn=bm[bo].indexOf(":");if(bn<0){bm[bo]={value:aV(bm[bo])}}else{bm[bo]={label:a2(bm[bo].substring(0,bn)),value:aV(a2(bm[bo].substring(bn+1)))}}}return new Z(bm)}function au(bo){if(bo.charAt(0)==="("||bo.charAt(0)==="["){return bo.charAt(0)+au(bo.substring(1,bo.length-1))+bo.charAt(bo.length-1)}else{if(bo.charAt(0)==="{"){if(/^\{\s*(?:[A-Za-z_$][\w$]*|'\d+')\s*:/.test(bo)){return"{"+a8(bo.substring(1,bo.length-1),"I")+"}"}else{return"["+au(bo.substring(1,bo.length-1))+"]"}}else{var bn=aL(bo);var bm=am(bn.middle);bm=bm.replace(/"[ABC](\d+)"/g,function(bq,bp){return au(bg[bp])});return bn.untrim(bm)}}}function N(bm){return bm.replace(/(\.\s*)?(\b[A-Za-z_$][\w$]*\b)(\s*\.\s*(\b[A-Za-z_$][\w$]*\b)(\s*\()?)?/g,function(bp,br,bn,bt,bs,bq){if(br){return bp}else{var bo={name:bn,member:bs,callSign:!!bq};return ah(bo)+(bt===c?"":bt)}})}function bl(bn,bm){this.expr=bn;this.transforms=bm}bl.prototype.toString=function(){var bm=this.transforms;var bn=N(this.expr);return bn.replace(/"!(\d+)"/g,function(bp,bo){return bm[bo].toString()})};aV=function(bo){var bn=[];var bm=au(bo);bm=bm.replace(/"H(\d+)"/g,function(bq,bp){bn.push(aG(bg[bp]));return'"!'+(bn.length-1)+'"'});bm=bm.replace(/"F(\d+)"/g,function(bq,bp){bn.push(ae(bg[bp]));return'"!'+(bn.length-1)+'"'});bm=bm.replace(/"I(\d+)"/g,function(bq,bp){bn.push(aB(bg[bp]));return'"!'+(bn.length-1)+'"'});return new bl(bm,bn)};function a0(bm,bo,bn){this.name=bm;this.value=bo;this.isDefault=bn}a0.prototype.toString=function(){return this.name+" = "+this.value};function ag(bq,bn){var br=bq.indexOf("=");var bm,bp,bo;if(br<0){bm=bq;bp=bn;bo=true}else{bm=bq.substring(0,br);bp=aV(bq.substring(br+1));bo=false}return new a0(a2(bm.replace(/(\s*"C\d+")+/g,"")),bp,bo)}function aP(bm){if(bm==="int"||bm==="float"){return"0"}else{if(bm==="boolean"){return"false"}else{if(bm==="color"){return"0x00000000"}else{return"null"}}}}function aE(bn,bm){this.definitions=bn;this.varType=bm}aE.prototype.getNames=function(){var bo=[];for(var bn=0,bm=this.definitions.length;bn<bm;++bn){bo.push(this.definitions[bn].name)}return bo};aE.prototype.toString=function(){return"var "+this.definitions.join(",")};function ad(bm){this.expression=bm}ad.prototype.toString=function(){return this.expression.toString()};function bj(bq){if(aI.test(bq)){var bp=S.exec(bq);var bo=bq.substring(bp[0].length).split(",");var bm=aP(bp[2]);for(var bn=0;bn<bo.length;++bn){bo[bn]=ag(bo[bn],bm)}return new aE(bo,bp[2])}else{return new ad(aV(bq))}}function aX(bm,bo,bn){this.initStatement=bm;this.condition=bo;this.step=bn}aX.prototype.toString=function(){return"("+this.initStatement+"; "+this.condition+"; "+this.step+")"};function aO(bn,bm){this.initStatement=bn;this.container=bm}aO.prototype.toString=function(){var bm=this.initStatement.toString();if(bm.indexOf("=")>=0){bm=bm.substring(0,bm.indexOf("="))}return"("+bm+" in "+this.container+")"};function aU(bn,bm){this.initStatement=bn;this.container=bm}aU.iteratorId=0;aU.prototype.toString=function(){var bq=this.initStatement.toString();var bn="$it"+(aU.iteratorId++);var bp=bq.replace(/^\s*var\s*/,"").split("=")[0];var bo="var "+bn+" = new $p.ObjectIterator("+this.container+"), "+bp+" = void(0)";var bm=bn+".hasNext() && (("+bp+" = "+bn+".next()) || true)";return"("+bo+"; "+bm+";)"};function U(bn){var bm;if(/\bin\b/.test(bn)){bm=bn.substring(1,bn.length-1).split(/\bin\b/g);return new aO(bj(a2(bm[0])),aV(bm[1]))}else{if(bn.indexOf(":")>=0&&bn.indexOf(";")<0){bm=bn.substring(1,bn.length-1).split(":");return new aU(bj(a2(bm[0])),aV(bm[1]))}else{bm=bn.substring(1,bn.length-1).split(";");return new aX(bj(a2(bm[0])),aV(bm[1]),aV(bm[2]))}}}function aY(bm){bm.sort(function(bo,bn){return bn.weight-bo.weight})}function X(bo,bm,bn){this.name=bo;this.body=bm;this.isStatic=bn;bm.owner=this}X.prototype.toString=function(){return""+this.body};function aj(bo,bm,bn){this.name=bo;this.body=bm;this.isStatic=bn;bm.owner=this}aj.prototype.toString=function(){return""+this.body};function P(bo){var bn=K.exec(bo);K.lastIndex=0;var bp=bn[1].indexOf("static")>=0;var bm=bg[aM(bn[6])],br;var bs=a5,bq=a3();a5=bq;if(bn[2]==="interface"){br=new X(bn[3],O(bm,bn[3],bn[4]),bp)}else{br=new aj(bn[3],R(bm,bn[3],bn[4],bn[5]),bp)}bh(br,bq,bs);a5=bs;return br}function Y(bo,bp,bm,bn){this.name=bo;this.params=bp;this.body=bm;this.isStatic=bn}Y.prototype.toString=function(){var bo=aq({},this.params.getNames());var bn=ah;ah=function(bp){return bo.hasOwnProperty(bp.name)?bp.name:bn(bp)};var bm="function "+this.methodId+this.params+" "+this.body+"\n";ah=bn;return bm};function L(bp){var bn=a7.exec(bp);a7.lastIndex=0;var bo=bn[1].indexOf("static")>=0;var bm=bn[6]!==";"?bg[aM(bn[6])]:"{}";return new Y(bn[3],az(bg[aM(bn[4])]),al(bm),bo)}function ai(bo,bn,bm){this.definitions=bo;this.fieldType=bn;this.isStatic=bm}ai.prototype.getNames=function(){var bo=[];for(var bn=0,bm=this.definitions.length;bn<bm;++bn){bo.push(this.definitions[bn].name)}return bo};ai.prototype.toString=function(){var bt=ah({name:"[this]"});if(this.isStatic){var bs=this.owner.name;var bq=[];for(var br=0,bp=this.definitions.length;br<bp;++br){var bo=this.definitions[br];var bm=bo.name,bu=bs+"."+bm;var bn="if("+bu+" === void(0)) {\n "+bu+" = "+bo.value+"; }\n$p.defineProperty("+bt+", '"+bm+"', { get: function(){return "+bu+";}, set: function(val){"+bu+" = val;} });\n";bq.push(bn)}return bq.join("")}else{return bt+"."+this.definitions.join("; "+bt+".")}};function bb(br){var bq=S.exec(br);var bm=bq[1].indexOf("static")>=0;var bp=br.substring(bq[0].length).split(/,\s*/g);var bn=aP(bq[2]);for(var bo=0;bo<bp.length;++bo){bp[bo]=ag(bp[bo],bn)}return new ai(bp,bq[2],bm)}function aJ(bn,bm){this.params=bn;this.body=bm}aJ.prototype.toString=function(){var bp=aq({},this.params.getNames());var bn=ah;ah=function(bq){return bp.hasOwnProperty(bq.name)?bq.name:bn(bq)};var bo="function $constr_"+this.params.params.length+this.params.toString();var bm=this.body.toString();if(!/\$(superCstr|constr)\b/.test(bm)){bm="{\n$superCstr();\n"+bm.substring(1)}ah=bn;return bo+bm+"\n"};function ao(bo){var bm=new RegExp(/"B(\d+)"\s*"A(\d+)"/).exec(bo);var bn=az(bg[bm[1]]);return new aJ(bn,al(bg[bm[2]]))}function aK(bo,br,bq,bm,bs,bt){var bp,bn;this.name=bo;this.interfacesNames=br;this.methodsNames=bq;this.fields=bm;this.innerClasses=bs;this.misc=bt;for(bp=0,bn=bm.length;bp<bn;++bp){bm[bp].owner=this}}aK.prototype.getMembers=function(bt,bm,br){if(this.owner.base){this.owner.base.body.getMembers(bt,bm,br)}var bq,bp,bo,bn;for(bq=0,bo=this.fields.length;bq<bo;++bq){var bv=this.fields[bq].getNames();for(bp=0,bn=bv.length;bp<bn;++bp){bt[bv[bp]]=this.fields[bq]}}for(bq=0,bo=this.methodsNames.length;bq<bo;++bq){var bs=this.methodsNames[bq];bm[bs]=true}for(bq=0,bo=this.innerClasses.length;bq<bo;++bq){var bu=this.innerClasses[bq];br[bu.name]=bu}};aK.prototype.toString=function(){function bn(bD){var bC=0;while(bD){++bC;bD=bD.scope}return bC}var bw=bn(this.owner);var bx=this.name;var bt="";var by="";var bA={},bv={},bu={};this.getMembers(bA,bv,bu);var bs,bq,br,bp;if(this.owner.interfaces){var bm=[],bo;for(bs=0,bq=this.interfacesNames.length;bs<bq;++bs){if(!this.owner.interfaces[bs]){continue}bo=ah({name:this.interfacesNames[bs]});bm.push(bo);bt+="$p.extendInterfaceMembers("+bx+", "+bo+");\n"}by+=bx+".$interfaces = ["+bm.join(", ")+"];\n"}by+=bx+".$isInterface = true;\n";by+=bx+".$methods = ['"+this.methodsNames.join("', '")+"'];\n";aY(this.innerClasses);for(bs=0,bq=this.innerClasses.length;bs<bq;++bs){var bB=this.innerClasses[bs];if(bB.isStatic){bt+=bx+"."+bB.name+" = "+bB+";\n"}}for(bs=0,bq=this.fields.length;bs<bq;++bs){var bz=this.fields[bs];if(bz.isStatic){bt+=bx+"."+bz.definitions.join(";\n"+bx+".")+";\n"}}return"(function() {\nfunction "+bx+"() { throw 'Unable to create the interface'; }\n"+bt+by+"return "+bx+";\n})()"};O=function(bs,bn,bx){var by=bs.substring(1,bs.length-1);by=aa(by);by=a9(by,bn);var bv=[],bp=[];by=by.replace(/"([DE])(\d+)"/g,function(bB,bA,bz){if(bA==="D"){bv.push(bz)}else{if(bA==="E"){bp.push(bz)}}return""});var bt=by.split(/;(?:\s*;)*/g);var bq;var br,bo;if(bx!==c){bq=bx.replace(/^\s*extends\s+(.+?)\s*$/g,"$1").split(/\s*,\s*/g)}for(br=0,bo=bv.length;br<bo;++br){var bm=L(bg[bv[br]]);bv[br]=bm.name}for(br=0,bo=bt.length-1;br<bo;++br){var bw=aL(bt[br]);bt[br]=bb(bw.middle)}var bu=bt.pop();for(br=0,bo=bp.length;br<bo;++br){bp[br]=P(bg[bp[br]])}return new aK(bn,bq,bv,bt,bp,{tail:bu})};function ax(bn,bu,bt,bs,bo,bv,bw,bq,bm){var br,bp;this.name=bn;this.baseClassName=bu;this.interfacesNames=bt;this.functions=bs;this.methods=bo;this.fields=bv;this.cstrs=bw;this.innerClasses=bq;this.misc=bm;for(br=0,bp=bv.length;br<bp;++br){bv[br].owner=this}}ax.prototype.getMembers=function(bt,bn,bs){if(this.owner.base){this.owner.base.body.getMembers(bt,bn,bs)}var br,bq,bp,bo;for(br=0,bp=this.fields.length;br<bp;++br){var bv=this.fields[br].getNames();for(bq=0,bo=bv.length;bq<bo;++bq){bt[bv[bq]]=this.fields[br]}}for(br=0,bp=this.methods.length;br<bp;++br){var bm=this.methods[br];bn[bm.name]=bm}for(br=0,bp=this.innerClasses.length;br<bp;++br){var bu=this.innerClasses[br];bs[bu.name]=bu}};ax.prototype.toString=function(){function bH(bP){var bO=0;while(bP){++bO;bP=bP.scope}return bO}var bx=bH(this.owner);var bA="$this_"+bx;var bo=this.name;var bt="var "+bA+" = this;\n";var bB="";var bv="";var bM={},bN={},bD={};this.getMembers(bM,bN,bD);var bL=ah;ah=function(bP){var bO=bP.name;if(bO==="this"){return bP.callSign||!bP.member?bA+".$self":bA}else{if(bM.hasOwnProperty(bO)){return bM[bO].isStatic?bo+"."+bO:bA+"."+bO}else{if(bD.hasOwnProperty(bO)){return bA+"."+bO}else{if(bN.hasOwnProperty(bO)){return bN[bO].isStatic?bo+"."+bO:bA+".$self."+bO}}}}return bL(bP)};var bw;if(this.baseClassName){bw=bL({name:this.baseClassName});bt+="var $super = { $upcast: "+bA+" };\n";bt+="function $superCstr(){"+bw+".apply($super,arguments);if(!('$self' in $super)) $p.extendClassChain($super)}\n";bv+=bo+".$base = "+bw+";\n"}else{bt+="function $superCstr(){$p.extendClassChain("+bA+")}\n"}if(this.owner.base){bB+="$p.extendStaticMembers("+bo+", "+bw+");\n"}var bG,bE,bF,bC;if(this.owner.interfaces){var bs=[],bm;for(bG=0,bE=this.interfacesNames.length;bG<bE;++bG){if(!this.owner.interfaces[bG]){continue}bm=bL({name:this.interfacesNames[bG]});bs.push(bm);bB+="$p.extendInterfaceMembers("+bo+", "+bm+");\n"}bv+=bo+".$interfaces = ["+bs.join(", ")+"];\n"}if(this.functions.length>0){bt+=this.functions.join("\n")+"\n"}aY(this.innerClasses);for(bG=0,bE=this.innerClasses.length;bG<bE;++bG){var bz=this.innerClasses[bG];if(bz.isStatic){bB+=bo+"."+bz.name+" = "+bz+";\n";bt+=bA+"."+bz.name+" = "+bo+"."+bz.name+";\n"}else{bt+=bA+"."+bz.name+" = "+bz+";\n"}}for(bG=0,bE=this.fields.length;bG<bE;++bG){var bn=this.fields[bG];if(bn.isStatic){bB+=bo+"."+bn.definitions.join(";\n"+bo+".")+";\n";for(bF=0,bC=bn.definitions.length;bF<bC;++bF){var bq=bn.definitions[bF].name,bu=bo+"."+bq;bt+="$p.defineProperty("+bA+", '"+bq+"', {get: function(){return "+bu+"}, set: function(val){"+bu+" = val}});\n"}}else{bt+=bA+"."+bn.definitions.join(";\n"+bA+".")+";\n"}}var by={};for(bG=0,bE=this.methods.length;bG<bE;++bG){var bp=this.methods[bG];var bJ=by[bp.name];var br=bp.name+"$"+bp.params.params.length;if(bJ){++bJ;br+="_"+bJ}else{bJ=1}bp.methodId=br;by[bp.name]=bJ;if(bp.isStatic){bB+=bp;bB+="$p.addMethod("+bo+", '"+bp.name+"', "+br+");\n";bt+="$p.addMethod("+bA+", '"+bp.name+"', "+br+");\n"}else{bt+=bp;bt+="$p.addMethod("+bA+", '"+bp.name+"', "+br+");\n"}}bt+=a2(this.misc.tail);if(this.cstrs.length>0){bt+=this.cstrs.join("\n")+"\n"}bt+="function $constr() {\n";var bK=[];for(bG=0,bE=this.cstrs.length;bG<bE;++bG){var bI=this.cstrs[bG].params.params.length;bK.push("if(arguments.length === "+bI+") { $constr_"+bI+".apply("+bA+", arguments); }")}if(bK.length>0){bt+=bK.join(" else ")+" else "}bt+="$superCstr();\n}\n";bt+="$constr.apply(null, arguments);\n";ah=bL;return"(function() {\nfunction "+bo+"() {\n"+bt+"}\n"+bB+bv+"return "+bo+";\n})()"};R=function(bv,bn,bm,by){var bA=bv.substring(1,bv.length-1);bA=aa(bA);bA=a9(bA,bn);var bo=[],bp=[],bz=[],bs=[];bA=bA.replace(/"([DEGH])(\d+)"/g,function(bD,bC,bB){if(bC==="D"){bo.push(bB)}else{if(bC==="E"){bp.push(bB)}else{if(bC==="H"){bs.push(bB)}else{bz.push(bB)}}}return""});var bu=bA.replace(/^(?:\s*;)+/,"").split(/;(?:\s*;)*/g);var bt,br;var bq;if(bm!==c){bt=bm.replace(/^\s*extends\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)\s*$/g,"$1")}if(by!==c){br=by.replace(/^\s*implements\s+(.+?)\s*$/g,"$1").split(/\s*,\s*/g)}for(bq=0;bq<bs.length;++bq){bs[bq]=aG(bg[bs[bq]])}for(bq=0;bq<bo.length;++bq){bo[bq]=L(bg[bo[bq]])}for(bq=0;bq<bu.length-1;++bq){var bx=aL(bu[bq]);bu[bq]=bb(bx.middle)}var bw=bu.pop();for(bq=0;bq<bz.length;++bq){bz[bq]=ao(bg[bz[bq]])}for(bq=0;bq<bp.length;++bq){bp[bq]=P(bg[bp[bq]])}return new ax(bn,bt,br,bs,bo,bu,bz,bp,{tail:bw})};function ar(bn,bm){this.name=bn;this.body=bm;bm.owner=this}ar.prototype.toString=function(){return"var "+this.name+" = "+this.body+";\n$p."+this.name+" = "+this.name+";\n"};function a1(bn,bm){this.name=bn;this.body=bm;bm.owner=this}a1.prototype.toString=function(){return"var "+this.name+" = "+this.body+";\n$p."+this.name+" = "+this.name+";\n"};function bk(bo){var bn=K.exec(bo);K.lastIndex=0;var bm=bg[aM(bn[6])];var br=a5,bp=a3();a5=bp;var bq;if(bn[2]==="interface"){bq=new ar(bn[3],O(bm,bn[3],bn[4]))}else{bq=new a1(bn[3],R(bm,bn[3],bn[4],bn[5]))}bh(bq,bp,br);a5=br;return bq}function aN(bn,bo,bm){this.name=bn;this.params=bo;this.body=bm}aN.prototype.toString=function(){var bo=aq({},this.params.getNames());var bn=ah;ah=function(bp){return bo.hasOwnProperty(bp.name)?bp.name:bn(bp)};var bm="function "+this.name+this.params+" "+this.body+"\n$p."+this.name+" = "+this.name+";";ah=bn;return bm};function aS(bo){var bn=a7.exec(bo);var bm=a7.lastIndex=0;return new aN(bn[3],az(bg[aM(bn[4])]),al(bg[aM(bn[6])]))}function ac(bm){var bn=bm;bn=bn.replace(/\b(catch\s*"B\d+"\s*"A\d+")(\s*catch\s*"B\d+"\s*"A\d+")+/g,"$1");return bn}function aQ(bm,bn){this.argument=bm;this.misc=bn}aQ.prototype.toString=function(){return this.misc.prefix+this.argument.toString()};function M(bm,bn){this.argument=bm;this.misc=bn}M.prototype.toString=function(){return this.misc.prefix+this.argument.toString()};function at(bm,bn,bo){this.name=bm;this.argument=bn;this.misc=bo}at.prototype.toString=function(){var bm=this.misc.prefix;if(this.argument!==c){bm+=this.argument.toString()}return bm};function aH(bm){this.expr=bm}aH.prototype.toString=function(){return"case "+this.expr+":"};function T(bm){this.label=bm}T.prototype.toString=function(){return this.label};aR=function(bu,bv,bo){var bz=new RegExp(/\b(catch|for|if|switch|while|with)\s*"B(\d+)"|\b(do|else|finally|return|throw|try|break|continue)\b|("[ADEH](\d+)")|\b(case)\s+([^:]+):|\b([A-Za-z_$][\w$]*\s*:)|(;)/g);var bw=[];bu=ac(bu);var bt=0,bp,bn;while((bp=bz.exec(bu))!==null){if(bp[1]!==c){var bs=bu.lastIndexOf('"B',bz.lastIndex);var by=bu.substring(bt,bs);if(bp[1]==="for"){bw.push(new aQ(U(bg[bp[2]]),{prefix:by}))}else{if(bp[1]==="catch"){bw.push(new M(az(bg[bp[2]]),{prefix:by}))}else{bw.push(new at(bp[1],aV(bg[bp[2]]),{prefix:by}))}}}else{if(bp[3]!==c){bw.push(new at(bp[3],c,{prefix:bu.substring(bt,bz.lastIndex)}))}else{if(bp[4]!==c){bn=bu.substring(bt,bz.lastIndex-bp[4].length);if(a2(bn).length!==0){continue}bw.push(bn);var bq=bp[4].charAt(1),bm=bp[5];if(bq==="D"){bw.push(bv(bg[bm]))}else{if(bq==="E"){bw.push(bo(bg[bm]))}else{if(bq==="H"){bw.push(aG(bg[bm]))}else{bw.push(al(bg[bm]))}}}}else{if(bp[6]!==c){bw.push(new aH(aV(a2(bp[7]))))}else{if(bp[8]!==c){bn=bu.substring(bt,bz.lastIndex-bp[8].length);if(a2(bn).length!==0){continue}bw.push(new T(bu.substring(bt,bz.lastIndex)))}else{var bx=aL(bu.substring(bt,bz.lastIndex-1));bw.push(bx.left);bw.push(bj(bx.middle));bw.push(bx.right+";")}}}}}bt=bz.lastIndex}var br=aL(bu.substring(bt));bw.push(br.left);if(br.middle!==""){bw.push(bj(br.middle));bw.push(";"+br.right)}return bw};function ba(bn){var bo=[];for(var bp=0,bm=bn.length;bp<bm;++bp){var bq=bn[bp];if(bq instanceof aE){bo=bo.concat(bq.getNames())}else{if(bq instanceof aQ&&bq.argument.initStatement instanceof aE){bo=bo.concat(bq.argument.initStatement.getNames())}else{if(bq instanceof X||bq instanceof aj||bq instanceof ar||bq instanceof a1||bq instanceof aN||bq instanceof ab){bo.push(bq.name)}}}}return aq({},bo)}function Q(bm){this.statements=bm}Q.prototype.toString=function(){var bo=ba(this.statements);var bn=ah;if(!a6(bo)){ah=function(bp){return bo.hasOwnProperty(bp.name)?bp.name:bn(bp)}}var bm="{\n"+this.statements.join("")+"\n}";ah=bn;return bm};al=function(bn){var bm=aL(bn.substring(1,bn.length-1));return new Q(aR(bm.middle))};function aC(bm){this.statements=bm}aC.prototype.toString=function(){var bq=[],br=[],bs;for(var bp=0,bn=this.statements.length;bp<bn;++bp){bs=this.statements[bp];if(bs instanceof a1||bs instanceof ar){bq.push(bs)}else{br.push(bs)}}aY(bq);var bo=ba(this.statements);ah=function(bu){var bt=bu.name;if(bo.hasOwnProperty(bt)){return bt}else{if(aT.hasOwnProperty(bt)||j.hasOwnProperty(bt)||b.hasOwnProperty(bt)){return"$p."+bt}}return bt};var bm="// this code was autogenerated from PJS\n(function($p) {\n"+bq.join("")+"\n"+br.join("")+"\n})";ah=null;return bm};be=function(){var bm=aa(bg[0]);bm=bm.replace(/\bimport\s+[^;]+;/g,"");return new aC(aR(bm,aS,bk))};function bf(bm){var bq={};var bo,bu;for(bo in aF){if(aF.hasOwnProperty(bo)){bu=aF[bo];var bA=bu.scopeId,bn=bu.name;if(bA){var bz=aF[bA];bu.scope=bz;if(bz.inScope===c){bz.inScope={}}bz.inScope[bn]=bu}else{bq[bn]=bu}}}function bx(bB,bE){var bH=bE.split(".");var bD=bB.scope,bG;while(bD){if(bD.hasOwnProperty(bH[0])){bG=bD[bH[0]];break}bD=bD.scope}if(bG===c){bG=bq[bH[0]]}for(var bF=1,bC=bH.length;bF<bC&&bG;++bF){bG=bG.inScope[bH[bF]]}return bG}for(bo in aF){if(aF.hasOwnProperty(bo)){bu=aF[bo];var bt=bu.body.baseClassName;if(bt){var bw=bx(bu,bt);if(bw){bu.base=bw;if(!bw.derived){bw.derived=[]}bw.derived.push(bu)}}var bs=bu.body.interfacesNames,by=[],br,bp;if(bs&&bs.length>0){for(br=0,bp=bs.length;br<bp;++br){var bv=bx(bu,bs[br]);by.push(bv);if(!bv){continue}if(!bv.derived){bv.derived=[]}bv.derived.push(bu)}if(by.length>0){bu.interfaces=by}}}}}function a4(bm){var br=[],bo={};var bn,bu,bs;for(bn in aF){if(aF.hasOwnProperty(bn)){bs=aF[bn];if(!bs.inScope&&!bs.derived){br.push(bn);bs.weight=0}else{var bt=[];if(bs.inScope){for(bu in bs.inScope){if(bs.inScope.hasOwnProperty(bu)){bt.push(bs.inScope[bu])}}}if(bs.derived){bt=bt.concat(bs.derived)}bo[bn]=bt}}}function bv(bx,bz){var bw=bo[bx];if(!bw){return false}var by=bw.indexOf(bz);if(by<0){return false}bw.splice(by,1);if(bw.length>0){return false}delete bo[bx];return true}while(br.length>0){bn=br.shift();bs=aF[bn];if(bs.scopeId&&bv(bs.scopeId,bs)){br.push(bs.scopeId);aF[bs.scopeId].weight=bs.weight+1}if(bs.base&&bv(bs.base.classId,bs)){br.push(bs.base.classId);bs.base.weight=bs.weight+1}if(bs.interfaces){var bq,bp;for(bq=0,bp=bs.interfaces.length;bq<bp;++bq){if(!bs.interfaces[bq]||!bv(bs.interfaces[bq].classId,bs)){continue}br.push(bs.interfaces[bq].classId);bs.interfaces[bq].weight=bs.weight+1}}}}var bd=be();bf(bd);a4(bd);var aW=bd.toString();aW=aW.replace(/\s*\n(?:[\t ]*\n)+/g,"\n\n");return af(aW,J)}function t(K,Z){var T=new RegExp(/\/\*\s*@pjs\s+((?:[^\*]|\*+[^\*\/])*)\*\//g).exec(K);if(T&&T.length===2){var J=[],M=T.splice(1,2)[0].replace(/\{([\s\S]*?)\}/g,(function(){return function(ac,ad){J.push(ad);return"{"+(J.length-1)+"}"}}())).replace("\n","").replace("\r","").split(";");var S=function(ac){return ac.replace(/^\s*["']?/,"").replace(/["']?\s*$/,"")};for(var W=0,U=M.length;W<U;W++){var Q=M[W].split("=");if(Q&&Q.length===2){var ab=S(Q[0]),R=S(Q[1]),aa=[];if(ab==="preload"){aa=R.split(",");for(var V=0,X=aa.length;V<X;V++){var Y=S(aa[V]);Z.imageCache.add(Y)}}else{if(ab==="font"){aa=R.split(",");for(var N=0,P=aa.length;N<P;N++){var O=S(aa[N]),L=/^\{(\d*?)\}$/.exec(O);Z.fonts.add(L?JSON.parse("{"+J[L[1]]+"}"):O)}}else{if(ab==="crisp"){Z.options.crispLines=R==="true"}else{if(ab==="pauseOnBlur"){Z.options.pauseOnBlur=R==="true"}else{if(ab==="globalKeyEvents"){Z.options.globalKeyEvents=R==="true"}else{if(ab.substring(0,6)==="param-"){Z.params[ab.substring(6)]=R}else{Z.options[ab]=R}}}}}}}}}return K}E.compile=function(J){var M=new E.Sketch();var K=t(J,M);var L=r(K);M.sourceCode=L;return M};var H=(function(){var P={},M="undefined",N="function",J=!1,O=!0,K=512,L="log";if(typeof tinylog!==M&&typeof tinylog[L]===N){P[L]=tinylog[L]}else{if(typeof w!==M&&!w.fake){(function(){var ak=w,ai="div",Y="style",ac="title",X={zIndex:10000,position:"fixed",bottom:"0px",width:"100%",height:"15%",fontFamily:"sans-serif",color:"#ccc",backgroundColor:"black"},aa={position:"relative",fontFamily:"monospace",overflow:"auto",height:"100%",paddingTop:"5px"},ae={height:"5px",marginTop:"-5px",cursor:"n-resize",backgroundColor:"darkgrey"},aj={position:"absolute",top:"5px",right:"20px",color:"#111",MozBorderRadius:"4px",webkitBorderRadius:"4px",borderRadius:"4px",cursor:"pointer",fontWeight:"normal",textAlign:"center",padding:"3px 5px",backgroundColor:"#333",fontSize:"12px"},U={minHeight:"16px"},ab={fontSize:"12px",margin:"0 8px 0 8px",maxWidth:"100%",whiteSpace:"pre-wrap",overflow:"auto"},Z=ak.defaultView,ah=ak.documentElement,Q=ah[Y],S=function(){var am=arguments.length,al,ao,an;while(am--){ao=arguments[am--];al=arguments[am][Y];for(an in ao){if(ao.hasOwnProperty(an)){al[an]=ao[an]}}}},af=function(an,am,al){if(an.addEventListener){an.addEventListener(am,al,J)}else{if(an.attachEvent){an.attachEvent("on"+am,al)}}return[an,am,al]},R=function(an,am,al){if(an.removeEventListener){an.removeEventListener(am,al,J)}else{if(an.detachEvent){an.detachEvent("on"+am,al)}}},W=function(am){var al=am.childNodes,an=al.length;while(an--){am.removeChild(al.item(0))}},ag=function(am,al){return am.appendChild(al)},ad=function(al){return ak.createElement(al)},V=function(al){return ak.createTextNode(al)},T=P[L]=function(aA){var ar,at=Q.paddingBottom,an=ad(ai),ax=an[Y],ay=ag(an,ad(ai)),ap=ag(an,ad(ai)),ao=ag(an,ad(ai)),az=J,aq=J,am=J,au=0,al=function(){Q.paddingBottom=an.clientHeight+"px"},aw=function(aB){var aC=Z.innerHeight,aD=ay.clientHeight;if(aB<0){aB=0}else{if(aB+aD>aC){aB=aC-aD}}ax.height=aB/aC*100+"%";al()},av=[af(ak,"mousemove",function(aB){if(az){aw(Z.innerHeight-aB.clientY);ap.scrollTop=am}}),af(ak,"mouseup",function(){if(az){az=am=J}}),af(ay,"dblclick",function(aB){aB.preventDefault();if(aq){aw(aq);aq=J}else{aq=an.clientHeight;ax.height="0px"}}),af(ay,"mousedown",function(aB){aB.preventDefault();az=O;am=ap.scrollTop}),af(ay,"contextmenu",function(){az=J}),af(ao,"click",function(){ar()})];ar=function(){var aB=av.length;while(aB--){R.apply(P,av[aB])}ah.removeChild(an);Q.paddingBottom=at;W(ap);W(an);P[L]=T};S(an,X,ap,aa,ay,ae,ao,aj);ao[ac]="Close Log";ag(ao,V("\u2716"));ay[ac]="Double-click to toggle log minimization";ah.insertBefore(an,ah.firstChild);P[L]=function(aD){if(au===K){ap.removeChild(ap.firstChild)}else{au++}var aC=ag(ap,ad(ai)),aB=ag(aC,ad(ai));aC[ac]=(new Date()).toLocaleTimeString();S(aC,U,aB,ab);ag(aB,V(aD));ap.scrollTop=ap.scrollHeight};P[L](aA);al()}}())}else{if(typeof print===N){P[L]=print}}}return P}());E.logger=H;E.version="@VERSION@";E.lib={};E.registerLibrary=function(J,K){E.lib[J]=K;if(K.hasOwnProperty("init")){K.init(b)}};E.instances=C;E.getInstanceById=function(J){return C[f[J]]};E.Sketch=function(J){this.attachFunction=J;this.options={crispLines:false,pauseOnBlur:false,globalKeyEvents:false};this.onLoad=g;this.onSetup=g;this.onPause=g;this.onLoop=g;this.onFrameStart=g;this.onFrameEnd=g;this.onExit=g;this.params={};this.imageCache={pending:0,images:{},add:function(L){if(I){var K=new Image();K.onload=(function(M){return function(){M.pending--}}(this));this.pending++;this.images[L]=K;K.src=L}else{this.images[L]=null}}};this.fonts={template:(function(){if(!I){return null}var K=w.createElement("p");K.style.fontFamily="serif";K.style.fontSize="72px";K.style.visibility="hidden";K.innerHTML="This element is a text block for font loading";w.getElementsByTagName("body")[0].appendChild(K);return K}()),attempt:0,pending:function(){var M=true;for(var L=0;L<this.fontList.length;L++){if(this.fontList[L].offsetWidth===this.template.offsetWidth&&this.fontList[L].offsetHeight===this.template.offsetHeight){M=false;this.attempt++}else{w.getElementsByTagName("body")[0].removeChild(this.fontList[L]);this.fontList.splice(L--,1);this.attempt=0}}if(this.attempt>=30){M=true;for(var K=0;K<this.fontList.length;K++){w.getElementsByTagName("body")[0].removeChild(this.fontList[K]);this.fontList.splice(K--,1)}}if(M){w.getElementsByTagName("body")[0].removeChild(this.template)}return M},fontList:[],fontFamily:"",style:(I?w.createElement("style"):null),add:function(L){var N=(typeof L==="object"?L.fontFace:L),M=(typeof L==="object"?L.url:L);this.fontFamily+="@font-face{\n  font-family: '"+N+"';\n  src:  url('"+M+"');\n}\n";this.style.innerHTML=this.fontFamily;w.getElementsByTagName("head")[0].appendChild(this.style);var K=w.createElement("p");K.style.fontFamily="'"+N+"', serif";K.style.fontSize="72px";K.style.visibility="hidden";K.innerHTML="This element is a text block for font loading";w.getElementsByTagName("body")[0].appendChild(K);this.fontList.push(K)}};this.sourceCode=undefined;this.attach=function(L){if(typeof this.attachFunction==="function"){this.attachFunction(L)}else{if(this.sourceCode){var K=((new Function("return ("+this.sourceCode+");"))());K(L);this.attachFunction=K}else{throw"Unable to attach sketch to the processing instance"}}};this.toString=function(){var K;var L="((function(Sketch) {\n";L+="var sketch = new Sketch(\n"+this.sourceCode+");\n";for(K in this.options){if(this.options.hasOwnProperty(K)){var M=this.options[K];L+="sketch.options."+K+" = "+(typeof M==="string"?'"'+M+'"':""+M)+";\n"}}for(K in this.imageCache){if(this.options.hasOwnProperty(K)){L+='sketch.imageCache.add("'+K+'");\n'}}L+="return sketch;\n})(Processing.Sketch))";return L}};var h=function(M,J){var K=[],Q=[],R=J.length,O=0;function P(S,U){var T=new XMLHttpRequest();T.onreadystatechange=function(){if(T.readyState===4){var V;if(T.status!==200&&T.status!==0){V="Invalid XHR status "+T.status}else{if(T.responseText===""){if(("withCredentials" in new XMLHttpRequest())&&(new XMLHttpRequest()).withCredentials===false&&l.location.protocol==="file:"){V="XMLHttpRequest failure, possibly due to a same-origin policy violation. You can try loading this page in another browser, or load it from http://localhost using a local webserver. See the Processing.js README for a more detailed explanation of this problem and solutions."}else{V="File is empty."}}}U(T.responseText,V)}};T.open("GET",S,true);if(T.overrideMimeType){T.overrideMimeType("application/json")}T.setRequestHeader("If-Modified-Since","Fri, 01 Jan 1960 00:00:00 GMT");T.send(null)}function L(T,S){function V(Y,W){K[T]=Y;++O;if(W){Q.push(S+" ==> "+W)}if(O===R){if(Q.length===0){try{return new E(M,K.join("\n"))}catch(X){E.logger.log("Unable to execute pjs sketch: "+X)}}else{E.logger.log("Unable to load pjs sketch files: "+Q.join("\n"))}}}if(S.charAt(0)==="#"){var U=w.getElementById(S.substring(1));if(U){V(U.text||U.textContent)}else{V("","Unable to load pjs sketch: element with id '"+S.substring(1)+"' was not found")}return}P(S,V)}for(var N=0;N<R;++N){L(N,J[N])}};var B=function(){w.removeEventListener("DOMContentLoaded",B,false);var K=w.getElementsByTagName("canvas"),Q;for(var P=0,L=K.length;P<L;P++){var S=K[P].getAttribute("data-processing-sources");if(S===null){S=K[P].getAttribute("data-src");if(S===null){S=K[P].getAttribute("datasrc")}}if(S){Q=S.split(" ");for(var O=0;O<Q.length;){if(Q[O]){O++}else{Q.splice(O,1)}}h(K[P],Q)}}var M=w.getElementsByTagName("script");var W,J,V;for(W=0;W<M.length;W++){var U=M[W];if(!U.getAttribute){continue}var T=U.getAttribute("type");if(T&&(T.toLowerCase()==="text/processing"||T.toLowerCase()==="application/processing")){var R=U.getAttribute("data-target");K=c;if(R){K=w.getElementById(R)}else{var N=U.nextSibling;while(N&&N.nodeType!==1){N=N.nextSibling}if(N.nodeName.toLowerCase()==="canvas"){K=N}}if(K){if(U.getAttribute("src")){Q=U.getAttribute("src").split(/\s+/);h(K,Q);continue}J=U.innerText||U.textContent;V=new E(K,J)}}}};E.loadSketchFromSources=h;E.disableInit=function(){if(I){w.removeEventListener("DOMContentLoaded",B,false)}};if(I){l.Processing=E;w.addEventListener("DOMContentLoaded",B,false)}else{this.Processing=E}}(window,window.document,Math));