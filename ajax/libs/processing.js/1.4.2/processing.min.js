(function(D,d,q,t){var G=function(){};var s=(function(){if("console" in D){return function(N){D.console.log("Processing.js: "+N)}}return G}());var w=function(N){var O=new XMLHttpRequest();O.open("GET",N,false);if(O.overrideMimeType){O.overrideMimeType("text/plain")}O.setRequestHeader("If-Modified-Since","Fri, 01 Jan 1960 00:00:00 GMT");O.send(null);if(O.status!==200&&O.status!==0){throw ("XMLHttpRequest failed, status code "+O.status)}return O.responseText};var n=("document" in this)&&!("fake" in this.document);if(!d.head){d.head=d.getElementsByTagName("head")[0]}function C(N,O){if(N in D){return D[N]}if(typeof D[O]==="function"){return D[O]}return function(Q){if(Q instanceof Array){return Q}if(typeof Q==="number"){var P=[];P.length=Q;return P}}}if(d.documentMode>=9&&!d.doctype){throw ("The doctype directive is missing. The recommended doctype in Internet Explorer is the HTML5 doctype: <!DOCTYPE html>")}var e=C("Float32Array","WebGLFloatArray"),K=C("Int32Array","WebGLIntArray"),y=C("Uint16Array","WebGLUnsignedShortArray"),b=C("Uint8Array","WebGLUnsignedByteArray");var B={X:0,Y:1,Z:2,R:3,G:4,B:5,A:6,U:7,V:8,NX:9,NY:10,NZ:11,EDGE:12,SR:13,SG:14,SB:15,SA:16,SW:17,TX:18,TY:19,TZ:20,VX:21,VY:22,VZ:23,VW:24,AR:25,AG:26,AB:27,DR:3,DG:4,DB:5,DA:6,SPR:28,SPG:29,SPB:30,SHINE:31,ER:32,EG:33,EB:34,BEEN_LIT:35,VERTEX_FIELD_COUNT:36,P2D:1,JAVA2D:1,WEBGL:2,P3D:2,OPENGL:2,PDF:0,DXF:0,OTHER:0,WINDOWS:1,MAXOSX:2,LINUX:3,EPSILON:0.0001,MAX_FLOAT:3.4028235e+38,MIN_FLOAT:-3.4028235e+38,MAX_INT:2147483647,MIN_INT:-2147483648,PI:q.PI,TWO_PI:2*q.PI,HALF_PI:q.PI/2,THIRD_PI:q.PI/3,QUARTER_PI:q.PI/4,DEG_TO_RAD:q.PI/180,RAD_TO_DEG:180/q.PI,WHITESPACE:" \t\n\r\f\u00A0",RGB:1,ARGB:2,HSB:3,ALPHA:4,CMYK:5,TIFF:0,TARGA:1,JPEG:2,GIF:3,BLUR:11,GRAY:12,INVERT:13,OPAQUE:14,POSTERIZE:15,THRESHOLD:16,ERODE:17,DILATE:18,REPLACE:0,BLEND:1<<0,ADD:1<<1,SUBTRACT:1<<2,LIGHTEST:1<<3,DARKEST:1<<4,DIFFERENCE:1<<5,EXCLUSION:1<<6,MULTIPLY:1<<7,SCREEN:1<<8,OVERLAY:1<<9,HARD_LIGHT:1<<10,SOFT_LIGHT:1<<11,DODGE:1<<12,BURN:1<<13,ALPHA_MASK:4278190080,RED_MASK:16711680,GREEN_MASK:65280,BLUE_MASK:255,CUSTOM:0,ORTHOGRAPHIC:2,PERSPECTIVE:3,POINT:2,POINTS:2,LINE:4,LINES:4,TRIANGLE:8,TRIANGLES:9,TRIANGLE_STRIP:10,TRIANGLE_FAN:11,QUAD:16,QUADS:16,QUAD_STRIP:17,POLYGON:20,PATH:21,RECT:30,ELLIPSE:31,ARC:32,SPHERE:40,BOX:41,GROUP:0,PRIMITIVE:1,GEOMETRY:3,VERTEX:0,BEZIER_VERTEX:1,CURVE_VERTEX:2,BREAK:3,CLOSESHAPE:4,OPEN:1,CLOSE:2,CORNER:0,CORNERS:1,RADIUS:2,CENTER_RADIUS:2,CENTER:3,DIAMETER:3,CENTER_DIAMETER:3,BASELINE:0,TOP:101,BOTTOM:102,NORMAL:1,NORMALIZED:1,IMAGE:2,MODEL:4,SHAPE:5,SQUARE:"butt",ROUND:"round",PROJECT:"square",MITER:"miter",BEVEL:"bevel",AMBIENT:0,DIRECTIONAL:1,SPOT:3,BACKSPACE:8,TAB:9,ENTER:10,RETURN:13,ESC:27,DELETE:127,CODED:65535,SHIFT:16,CONTROL:17,ALT:18,CAPSLK:20,PGUP:33,PGDN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLK:144,META:157,INSERT:155,ARROW:"default",CROSS:"crosshair",HAND:"pointer",MOVE:"move",TEXT:"text",WAIT:"wait",NOCURSOR:"url('data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=='), auto",DISABLE_OPENGL_2X_SMOOTH:1,ENABLE_OPENGL_2X_SMOOTH:-1,ENABLE_OPENGL_4X_SMOOTH:2,ENABLE_NATIVE_FONTS:3,DISABLE_DEPTH_TEST:4,ENABLE_DEPTH_TEST:-4,ENABLE_DEPTH_SORT:5,DISABLE_DEPTH_SORT:-5,DISABLE_OPENGL_ERROR_REPORT:6,ENABLE_OPENGL_ERROR_REPORT:-6,ENABLE_ACCURATE_TEXTURES:7,DISABLE_ACCURATE_TEXTURES:-7,HINT_COUNT:10,SINCOS_LENGTH:720,PRECISIONB:15,PRECISIONF:1<<15,PREC_MAXVAL:(1<<15)-1,PREC_ALPHA_SHIFT:24-15,PREC_RED_SHIFT:16-15,NORMAL_MODE_AUTO:0,NORMAL_MODE_SHAPE:1,NORMAL_MODE_VERTEX:2,MAX_LIGHTS:8};function h(P){if(typeof(P)==="string"){var O=0;for(var N=0;N<P.length;++N){O=(O*31+P.charCodeAt(N))&4294967295}return O}if(typeof(P)!=="object"){return P&4294967295}if(P.hashCode instanceof Function){return P.hashCode()}if(P.$id===t){P.$id=((q.floor(q.random()*65536)-32768)<<16)|q.floor(q.random()*65536)}return P.$id}function r(O,N){if(O===null||N===null){return(O===null)&&(N===null)}if(typeof(O)==="string"){return O===N}if(typeof(O)!=="object"){return O===N}if(O.equals instanceof Function){return O.equals(N)}return O===N}var o=function(O){if(O instanceof Array){var N=-1;this.hasNext=function(){return ++N<O.length};this.next=function(){return O[N]}}else{if(O.iterator instanceof Function){return O.iterator()}else{throw"Unable to iterate: "+O}}};var f=(function(){function O(Q){var P=-1;this.hasNext=function(){return(P+1)<Q.length};this.next=function(){return Q[++P]};this.remove=function(){Q.splice(P--,1)}}function N(P){var Q=[];if(P&&P.toArray){Q=P.toArray()}this.get=function(R){return Q[R]};this.contains=function(R){return this.indexOf(R)>-1};this.indexOf=function(T){for(var S=0,R=Q.length;S<R;++S){if(r(T,Q[S])){return S}}return -1};this.lastIndexOf=function(S){for(var R=Q.length-1;R>=0;--R){if(r(S,Q[R])){return R}}return -1};this.add=function(){if(arguments.length===1){Q.push(arguments[0])}else{if(arguments.length===2){var R=arguments[0];if(typeof R==="number"){if(R>=0&&R<=Q.length){Q.splice(R,0,arguments[1])}else{throw (R+" is not a valid index")}}else{throw (typeof R+" is not a number")}}else{throw ("Please use the proper number of parameters.")}}};this.addAll=function(S,R){var T;if(typeof S==="number"){if(S<0||S>Q.length){throw ("Index out of bounds for addAll: "+S+" greater or equal than "+Q.length)}T=new o(R);while(T.hasNext()){Q.splice(S++,0,T.next())}}else{T=new o(S);while(T.hasNext()){Q.push(T.next())}}};this.set=function(){if(arguments.length===2){var R=arguments[0];if(typeof R==="number"){if(R>=0&&R<Q.length){Q.splice(R,1,arguments[1])}else{throw (R+" is not a valid index.")}}else{throw (typeof R+" is not a number")}}else{throw ("Please use the proper number of parameters.")}};this.size=function(){return Q.length};this.clear=function(){Q.length=0};this.remove=function(R){if(typeof R==="number"){return Q.splice(R,1)[0]}R=this.indexOf(R);if(R>-1){Q.splice(R,1);return true}return false};this.removeAll=function(V){var S,R,U,T=new N();T.addAll(this);this.clear();for(S=0,R=0;S<T.size();S++){U=T.get(S);if(!V.contains(U)){this.add(R++,U)}}if(this.size()<T.size()){return true}return false};this.isEmpty=function(){return !Q.length};this.clone=function(){return new N(this)};this.toArray=function(){return Q.slice(0)};this.iterator=function(){return new O(Q)}}return N}());var x=(function(){function N(){if(arguments.length===1&&arguments[0] instanceof N){return arguments[0].clone()}var W=arguments.length>0?arguments[0]:16;var X=arguments.length>1?arguments[1]:0.75;var Q=[];Q.length=W;var S=0;var O=this;function U(Z){var Y=h(Z)%Q.length;return Y<0?Q.length+Y:Y}function R(){if(S<=X*Q.length){return}var ab=[];for(var aa=0;aa<Q.length;++aa){if(Q[aa]!==t){ab=ab.concat(Q[aa])}}var ac=Q.length*2;Q=[];Q.length=ac;for(var Z=0;Z<ab.length;++Z){var Y=U(ab[Z].key);var ad=Q[Y];if(ad===t){Q[Y]=ad=[]}ad.push(ab[Z])}}function P(ad,ae){var Y=0;var ac=-1;var ab=false;var aa;function Z(){while(!ab){++ac;if(Y>=Q.length){ab=true}else{if(Q[Y]===t||ac>=Q[Y].length){ac=-1;++Y}else{return}}}}this.hasNext=function(){return !ab};this.next=function(){aa=ad(Q[Y][ac]);Z();return aa};this.remove=function(){if(aa!==t){ae(aa);--ac;Z()}};Z()}function V(Y,Z,aa){this.clear=function(){O.clear()};this.contains=function(ab){return Z(ab)};this.containsAll=function(ac){var ab=ac.iterator();while(ab.hasNext()){if(!this.contains(ab.next())){return false}}return true};this.isEmpty=function(){return O.isEmpty()};this.iterator=function(){return new P(Y,aa)};this.remove=function(ab){if(this.contains(ab)){aa(ab);return true}return false};this.removeAll=function(ae){var ab=ae.iterator();var ad=false;while(ab.hasNext()){var ac=ab.next();if(this.contains(ac)){aa(ac);ad=true}}return true};this.retainAll=function(af){var ad=this.iterator();var ac=[];while(ad.hasNext()){var ae=ad.next();if(!af.contains(ae)){ac.push(ae)}}for(var ab=0;ab<ac.length;++ab){aa(ac[ab])}return ac.length>0};this.size=function(){return O.size()};this.toArray=function(){var ab=[];var ac=this.iterator();while(ac.hasNext()){ab.push(ac.next())}return ab}}function T(Y){this._isIn=function(Z){return Z===O&&(Y.removed===t)};this.equals=function(Z){return r(Y.key,Z.getKey())};this.getKey=function(){return Y.key};this.getValue=function(){return Y.value};this.hashCode=function(Z){return h(Y.key)};this.setValue=function(aa){var Z=Y.value;Y.value=aa;return Z}}this.clear=function(){S=0;Q=[];Q.length=W};this.clone=function(){var Y=new N();Y.putAll(this);return Y};this.containsKey=function(aa){var Y=U(aa);var ab=Q[Y];if(ab===t){return false}for(var Z=0;Z<ab.length;++Z){if(r(ab[Z].key,aa)){return true}}return false};this.containsValue=function(aa){for(var Z=0;Z<Q.length;++Z){var ab=Q[Z];if(ab===t){continue}for(var Y=0;Y<ab.length;++Y){if(r(ab[Y].value,aa)){return true}}}return false};this.entrySet=function(){return new V(function(Y){return new T(Y)},function(Y){return(Y instanceof T)&&Y._isIn(O)},function(Y){return O.remove(Y.getKey())})};this.get=function(aa){var Y=U(aa);var ab=Q[Y];if(ab===t){return null}for(var Z=0;Z<ab.length;++Z){if(r(ab[Z].key,aa)){return ab[Z].value}}return null};this.isEmpty=function(){return S===0};this.keySet=function(){return new V(function(Y){return Y.key},function(Y){return O.containsKey(Y)},function(Y){return O.remove(Y)})};this.values=function(){return new V(function(Y){return Y.value},function(Y){return O.containsValue(Y)},function(Y){return O.removeByValue(Y)})};this.put=function(aa,ac){var Y=U(aa);var ad=Q[Y];if(ad===t){++S;Q[Y]=[{key:aa,value:ac}];R();return null}for(var Z=0;Z<ad.length;++Z){if(r(ad[Z].key,aa)){var ab=ad[Z].value;ad[Z].value=ac;return ab}}++S;ad.push({key:aa,value:ac});R();return null};this.putAll=function(Y){var Z=Y.entrySet().iterator();while(Z.hasNext()){var aa=Z.next();this.put(aa.getKey(),aa.getValue())}};this.remove=function(aa){var Y=U(aa);var ac=Q[Y];if(ac===t){return null}for(var Z=0;Z<ac.length;++Z){if(r(ac[Z].key,aa)){--S;var ab=ac[Z].value;ac[Z].removed=true;if(ac.length>1){ac.splice(Z,1)}else{Q[Y]=t}return ab}}return null};this.removeByValue=function(aa){var ac,Z,Y,ab;for(ac in Q){if(Q.hasOwnProperty(ac)){for(Z=0,Y=Q[ac].length;Z<Y;Z++){ab=Q[ac][Z];if(ab.value===aa){Q[ac].splice(Z,1);return true}}}}return false};this.size=function(){return S}}return N}());var A=(function(){function N(Q,S,R){this.x=Q||0;this.y=S||0;this.z=R||0}N.fromAngle=function(R,Q){if(Q===t||Q===null){Q=new N()}Q.x=q.cos(R);Q.y=q.sin(R);return Q};N.random2D=function(Q){return N.fromAngle(q.random()*B.TWO_PI,Q)};N.random3D=function(Q){var V=q.random()*B.TWO_PI;var R=q.random()*2-1;var U=q.sqrt(1-R*R);var T=U*q.cos(V);var S=U*q.sin(V);if(Q===t||Q===null){Q=new N(T,S,R)}else{Q.set(T,S,R)}return Q};N.dist=function(R,Q){return R.dist(Q)};N.dot=function(R,Q){return R.dot(Q)};N.cross=function(R,Q){return R.cross(Q)};N.sub=function(R,Q){return new N(R.x-Q.x,R.y-Q.y,R.z-Q.z)};N.angleBetween=function(R,Q){return q.acos(R.dot(Q)/(R.mag()*Q.mag()))};N.lerp=function(T,R,S){var Q=new N(T.x,T.y,T.z);Q.lerp(R,S);return Q};N.prototype={set:function(Q,S,R){if(arguments.length===1){this.set(Q.x||Q[0]||0,Q.y||Q[1]||0,Q.z||Q[2]||0)}else{this.x=Q;this.y=S;this.z=R}},get:function(){return new N(this.x,this.y,this.z)},mag:function(){var Q=this.x,S=this.y,R=this.z;return q.sqrt(Q*Q+S*S+R*R)},magSq:function(){var Q=this.x,S=this.y,R=this.z;return(Q*Q+S*S+R*R)},setMag:function(S,Q){if(Q===t){Q=S;this.normalize();this.mult(Q)}else{var R=S;R.normalize();R.mult(Q);return R}},add:function(Q,S,R){if(arguments.length===1){this.x+=Q.x;this.y+=Q.y;this.z+=Q.z}else{this.x+=Q;this.y+=S;this.z+=R}},sub:function(Q,S,R){if(arguments.length===1){this.x-=Q.x;this.y-=Q.y;this.z-=Q.z}else{this.x-=Q;this.y-=S;this.z-=R}},mult:function(Q){if(typeof Q==="number"){this.x*=Q;this.y*=Q;this.z*=Q}else{this.x*=Q.x;this.y*=Q.y;this.z*=Q.z}},div:function(Q){if(typeof Q==="number"){this.x/=Q;this.y/=Q;this.z/=Q}else{this.x/=Q.x;this.y/=Q.y;this.z/=Q.z}},rotate:function(S){var Q=this.x;var T=q.cos(S);var R=q.sin(S);this.x=T*this.x-R*this.y;this.y=R*Q+T*this.y},dist:function(T){var S=this.x-T.x,R=this.y-T.y,Q=this.z-T.z;return q.sqrt(S*S+R*R+Q*Q)},dot:function(Q,S,R){if(arguments.length===1){return(this.x*Q.x+this.y*Q.y+this.z*Q.z)}return(this.x*Q+this.y*S+this.z*R)},cross:function(R){var Q=this.x,T=this.y,S=this.z;return new N(T*R.z-R.y*S,S*R.x-R.z*Q,Q*R.y-R.x*T)},lerp:function(U,S,T,W){var R=function(Z,X,Y){return Z+(X-Z)*Y};var Q,V;if(arguments.length===2){W=S;Q=U.x;V=U.y;T=U.z}else{Q=U;V=S}this.x=R(this.x,Q,W);this.y=R(this.y,V,W);this.z=R(this.z,T,W)},normalize:function(){var Q=this.mag();if(Q>0){this.div(Q)}},limit:function(Q){if(this.mag()>Q){this.normalize();this.mult(Q)}},heading:function(){return(-q.atan2(-this.y,this.x))},heading2D:function(){return this.heading()},toString:function(){return"["+this.x+", "+this.y+", "+this.z+"]"},array:function(){return[this.x,this.y,this.z]}};function O(Q){return function(T,S){var R=T.get();R[Q](S);return R}}for(var P in N.prototype){if(N.prototype.hasOwnProperty(P)&&!N.hasOwnProperty(P)){N[P]=O(P)}}return N}());function M(){}M.prototype=B;var g=new M();g.ArrayList=f;g.HashMap=x;g.PVector=A;g.ObjectIterator=o;g.PConstants=B;g.defineProperty=function(O,N,P){if("defineProperty" in Object){Object.defineProperty(O,N,P)}else{if(P.hasOwnProperty("get")){O.__defineGetter__(N,P.get)}if(P.hasOwnProperty("set")){O.__defineSetter__(N,P.set)}}};function m(O,N,R){if(!O.hasOwnProperty(N)||typeof O[N]!=="function"){O[N]=R;return}var Q=O[N];if("$overloads" in Q){Q.$defaultOverload=R;return}if(!("$overloads" in R)&&Q.length===R.length){return}var T,P;if("$overloads" in R){T=R.$overloads.slice(0);T[Q.length]=Q;P=R.$defaultOverload}else{T=[];T[R.length]=R;T[Q.length]=Q;P=Q}var S=function(){var U=S.$overloads[arguments.length]||("$methodArgsIndex" in S&&arguments.length>S.$methodArgsIndex?S.$overloads[S.$methodArgsIndex]:null)||S.$defaultOverload;return U.apply(this,arguments)};S.$overloads=T;if("$methodArgsIndex" in R){S.$methodArgsIndex=R.$methodArgsIndex}S.$defaultOverload=P;S.name=N;O[N]=S}function i(Q,P){function R(S){g.defineProperty(Q,S,{get:function(){return P[S]},set:function(T){P[S]=T},enumerable:true})}var O=[];for(var N in P){if(typeof P[N]==="function"){m(Q,N,P[N])}else{if(N.charAt(0)!=="$"&&!(N in Q)){O.push(N)}}}while(O.length>0){R(O.shift())}Q.$super=P}g.extendClassChain=function(O){var P=[O];for(var N=O.$upcast;N;N=N.$upcast){i(N,O);P.push(N);O=N}while(P.length>0){P.pop().$self=O}};g.extendStaticMembers=function(N,O){i(N,O)};g.extendInterfaceMembers=function(N,O){i(N,O)};g.addMethod=function(Q,P,S,R){var N=Q[P];if(N||R){var O=S.length;if("$overloads" in N){N.$overloads[O]=S}else{var T=function(){var V=T.$overloads[arguments.length]||("$methodArgsIndex" in T&&arguments.length>T.$methodArgsIndex?T.$overloads[T.$methodArgsIndex]:null)||T.$defaultOverload;return V.apply(this,arguments)};var U=[];if(N){U[N.length]=N}U[O]=S;T.$overloads=U;T.$defaultOverload=N||S;if(R){T.$methodArgsIndex=O}T.name=P;Q[P]=T}}else{Q[P]=S}};function l(N){if(typeof N!=="string"){return false}return["byte","int","char","color","float","long","double"].indexOf(N)!==-1}g.createJavaArray=function(S,T){var O=null,P=null;if(typeof S==="string"){if(S==="boolean"){P=false}else{if(l(S)){P=0}}}if(typeof T[0]==="number"){var N=0|T[0];if(T.length<=1){O=[];O.length=N;for(var R=0;R<N;++R){O[R]=P}}else{O=[];var U=T.slice(1);for(var Q=0;Q<N;++Q){O.push(g.createJavaArray(S,U))}}}return O};var E={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};(function(O){var R=("open() createOutput() createInput() BufferedReader selectFolder() dataPath() createWriter() selectOutput() beginRecord() saveStream() endRecord() selectInput() saveBytes() createReader() beginRaw() endRaw() PrintWriter delay()").split(" "),Q=R.length,N,S;function P(T){return function(){throw"Processing.js does not support "+T+"."}}while(Q--){N=R[Q];S=N.replace("()","");O[S]=P(N)}}(g));g.defineProperty(g,"screenWidth",{get:function(){return D.innerWidth}});g.defineProperty(g,"screenHeight",{get:function(){return D.innerHeight}});var k=[];var J={};var L=function(N){k.splice(J[N],1);delete J[N]};var a=function(N){if(N.externals.canvas.id===t||!N.externals.canvas.id.length){N.externals.canvas.id="__processing"+k.length}J[N.externals.canvas.id]=k.length;k.push(N)};function p(X){var Q=250,ae=X.size/Q,N=d.createElement("canvas");N.width=2*Q;N.height=2*Q;N.style.opacity=0;var W=X.getCSSDefinition(Q+"px","normal"),Y=N.getContext("2d");Y.font=W;var ac="dbflkhyjqpg";N.width=Y.measureText(ac).width;Y.font=W;var T=d.createElement("div");T.style.position="absolute";T.style.opacity=0;T.style.fontFamily='"'+X.name+'"';T.style.fontSize=Q+"px";T.innerHTML=ac+"<br/>"+ac;d.body.appendChild(T);var U=N.width,ab=N.height,V=ab/2;Y.fillStyle="white";Y.fillRect(0,0,U,ab);Y.fillStyle="black";Y.fillText(ac,0,V);var P=Y.getImageData(0,0,U,ab).data;var Z=0,S=U*4,aa=P.length;while(++Z<aa&&P[Z]===255){G()}var R=q.round(Z/S);Z=aa-1;while(--Z>0&&P[Z]===255){G()}var ad=q.round(Z/S);X.ascent=ae*(V-R);X.descent=ae*(ad-V);if(d.defaultView.getComputedStyle){var O=d.defaultView.getComputedStyle(T,null).getPropertyValue("height");O=ae*O.replace("px","");if(O>=X.size*2){X.leading=q.round(O/2)}}d.body.removeChild(T);if(X.caching){return Y}}function H(N,O){if(N===t){N=""}this.name=N;if(O===t){O=0}this.size=O;this.glyph=false;this.ascent=0;this.descent=0;this.leading=1.2*O;var R=N.indexOf(" Italic Bold");if(R!==-1){N=N.substring(0,R)}this.style="normal";var Q=N.indexOf(" Italic");if(Q!==-1){N=N.substring(0,Q);this.style="italic"}this.weight="normal";var P=N.indexOf(" Bold");if(P!==-1){N=N.substring(0,P);this.weight="bold"}this.family="sans-serif";if(N!==t){switch(N){case"sans-serif":case"serif":case"monospace":case"fantasy":case"cursive":this.family=N;break;default:this.family='"'+N+'", sans-serif';break}}this.context2d=p(this);this.css=this.getCSSDefinition();if(this.context2d){this.context2d.font=this.css}}H.prototype.caching=true;H.prototype.getCSSDefinition=function(P,N){if(P===t){P=this.size+"px"}if(N===t){N=this.leading+"px"}var O=[this.style,"normal",this.weight,P+"/"+N,this.family];return O.join(" ")};H.prototype.measureTextWidth=function(N){return this.context2d.measureText(N).width};H.prototype.measureTextWidthFallback=function(P){var O=d.createElement("canvas"),N=O.getContext("2d");N.font=this.css;return N.measureText(P).width};H.PFontCache={length:0};H.get=function(Q,R){R=((R*10)+0.5|0)/10;var O=H.PFontCache,N=Q+"/"+R;if(!O[N]){O[N]=new H(Q,R);O.length++;if(O.length===50){H.prototype.measureTextWidth=H.prototype.measureTextWidthFallback;H.prototype.caching=false;var P;for(P in O){if(P!=="length"){O[P].context2d=null}}return new H(Q,R)}if(O.length===400){H.PFontCache={};H.get=H.getFallback;return new H(Q,R)}}return O[N]};H.getFallback=function(N,O){return new H(N,O)};H.list=function(){return["sans-serif","serif","monospace","fantasy","cursive"]};H.preloading={template:{},initialized:false,initialize:function(){var P=function(){var R="#E3KAI2wAgT1MvMg7Eo3VmNtYX7ABi3CxnbHlm7Abw3kaGVhZ7ACs3OGhoZWE7A53CRobXR47AY3AGbG9jYQ7G03Bm1heH7ABC3CBuYW1l7Ae3AgcG9zd7AI3AE#B3AQ2kgTY18PPPUACwAg3ALSRoo3#yld0xg32QAB77#E777773B#E3C#I#Q77773E#Q7777777772CMAIw7AB77732B#M#Q3wAB#g3B#E#E2BB//82BB////w#B7#gAEg3E77x2B32B#E#Q#MTcBAQ32gAe#M#QQJ#E32M#QQJ#I#g32Q77#";var Q=function(S){return"AAAAAAAA".substr(~~S?7-S:6)};return R.replace(/[#237]/g,Q)};var N=d.createElement("style");N.setAttribute("type","text/css");N.innerHTML='@font-face {\n  font-family: "PjsEmptyFont";\n  src: url(\'data:application/x-font-ttf;base64,'+P()+"')\n       format('truetype');\n}";d.head.appendChild(N);var O=d.createElement("span");O.style.cssText='position: absolute; top: 0; left: 0; opacity: 0; font-family: "PjsEmptyFont", fantasy;';O.innerHTML="AAAAAAAA";d.body.appendChild(O);this.template=O;this.initialized=true},getElementWidth:function(N){return d.defaultView.getComputedStyle(N,"").getPropertyValue("width")},timeAttempted:0,pending:function(R){if(!this.initialized){this.initialize()}var P,N,Q=this.getElementWidth(this.template);for(var O=0;O<this.fontList.length;O++){P=this.fontList[O];N=this.getElementWidth(P);if(this.timeAttempted<4000&&N===Q){this.timeAttempted+=R;return true}else{d.body.removeChild(P);this.fontList.splice(O--,1);this.timeAttempted=0}}if(this.fontList.length===0){return false}return true},fontList:[],addedList:{},add:function(N){if(!this.initialized){this.initialize()}var R=(typeof N==="object"?N.fontFace:N),Q=(typeof N==="object"?N.url:N);if(this.addedList[R]){return}var P=d.createElement("style");P.setAttribute("type","text/css");P.innerHTML="@font-face{\n  font-family: '"+R+"';\n  src:  url('"+Q+"');\n}\n";d.head.appendChild(P);this.addedList[R]=true;var O=d.createElement("span");O.style.cssText="position: absolute; top: 0; left: 0; opacity: 0;";O.style.fontFamily='"'+R+'", "PjsEmptyFont", fantasy';O.innerHTML="AAAAAAAA";d.body.appendChild(O);this.fontList.push(O)}};g.PFont=H;var F=this.Processing=function(be,ba){if(!(this instanceof F)){throw ("called Processing constructor as if it were a function: missing 'new'.")}var ae,cU=(be===t&&ba===t);if(cU){ae=d.createElement("canvas")}else{ae=typeof be==="string"?d.getElementById(be):be}if(!("getContext" in ae)){throw ("called Processing constructor without passing canvas element reference or id.")}function dv(d9){F.debug("Unimplemented - "+d9)}var cV=this;cV.externals={canvas:ae,context:t,sketch:t};cV.name="Processing.js Instance";cV.use3DContext=false;cV.focused=false;cV.breakShape=false;cV.glyphTable={};cV.pmouseX=0;cV.pmouseY=0;cV.mouseX=0;cV.mouseY=0;cV.mouseButton=0;cV.mouseScroll=0;cV.mouseClicked=t;cV.mouseDragged=t;cV.mouseMoved=t;cV.mousePressed=t;cV.mouseReleased=t;cV.mouseScrolled=t;cV.mouseOver=t;cV.mouseOut=t;cV.touchStart=t;cV.touchEnd=t;cV.touchMove=t;cV.touchCancel=t;cV.key=t;cV.keyCode=t;cV.keyPressed=G;cV.keyReleased=G;cV.keyTyped=G;cV.draw=t;cV.setup=t;cV.__mousePressed=false;cV.__keyPressed=false;cV.__frameRate=60;cV.frameCount=0;cV.width=100;cV.height=100;var d7,cP,dX,aH=true,bo=[1,1,1,1],a1=4294967295,aq=true,cd=true,cZ=[0,0,0,1],cu=4278190080,b2=true,dV=1,ax=false,dN=false,aC=true,b3=0,bJ=B.CORNER,cM=B.CENTER,a8=0,a7=0,a6=0,a2=B.NORMAL_MODE_AUTO,dT=60,az=1000/dT,Z=B.ARROW,cj=ae.style.cursor,dQ=B.POLYGON,ci=0,d5=[],aJ=0,Q=20,cL=false,a4=-3355444,cx=20,bT=255,bI=255,bH=255,bF=255,cY=false,aK=false,dM=0,d4=0,cX=B.RGB,bf=null,bw=null,a5=false,dp=Date.now(),ds=dp,P=0,cD,c2,aQ,aL,bz,cc,U,dB={attributes:{},locations:{}},dw,dP,bS,bh,cI,dj,aB,b1,bg,b7,at,aG,bC,aw,af,c6,bR,cr={width:0,height:0},d3=B.IMAGE,dS=false,cG,ac,R,N=B.LEFT,c0=B.BASELINE,cH=B.MODEL,Y="Arial",dZ=12,a3=9,dz=2,d6=14,W=H.get(Y,dZ),aj,cm=null,dU=false,d2,bY=1000,ag=[],dH=null,dW=[B.SHIFT,B.CONTROL,B.ALT,B.CAPSLK,B.PGUP,B.PGDN,B.END,B.HOME,B.LEFT,B.UP,B.RIGHT,B.DOWN,B.NUMLK,B.INSERT,B.F1,B.F2,B.F3,B.F4,B.F5,B.F6,B.F7,B.F8,B.F9,B.F10,B.F11,B.F12,B.META];var ad,dn,aU,bW;if(d.defaultView&&d.defaultView.getComputedStyle){ad=parseInt(d.defaultView.getComputedStyle(ae,null)["paddingLeft"],10)||0;dn=parseInt(d.defaultView.getComputedStyle(ae,null)["paddingTop"],10)||0;aU=parseInt(d.defaultView.getComputedStyle(ae,null)["borderLeftWidth"],10)||0;bW=parseInt(d.defaultView.getComputedStyle(ae,null)["borderTopWidth"],10)||0}var dK=0;var bK=0,bL=0,bt=[],bs=[],br=[],ah=new e(B.SINCOS_LENGTH),bl=new e(B.SINCOS_LENGTH),cE,cz;var bU,cg,dI,aT,am,c9,ab,da,ap=false,ch=false,cJ=60*(q.PI/180),dk=cV.width/2,di=cV.height/2,dh=di/q.tan(cJ/2),a0=dh/10,av=dh*10,b4=cV.width/cV.height;var bb=[],ca=[],c1=0,dO=false,aa=false,dt=true;var S=B.CORNER;var bm=[];var dg=new e([0.5,0.5,-0.5,0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,0.5,0.5,0.5,0.5,-0.5,0.5,0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,-0.5,0.5,0.5,-0.5,0.5,-0.5,-0.5,0.5,-0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,-0.5,0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,0.5,-0.5,-0.5,-0.5,-0.5,0.5,0.5,0.5,0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,0.5,0.5,0.5,0.5]);var bG=new e([0.5,0.5,0.5,0.5,-0.5,0.5,0.5,0.5,-0.5,0.5,-0.5,-0.5,-0.5,0.5,-0.5,-0.5,-0.5,-0.5,-0.5,0.5,0.5,-0.5,-0.5,0.5,0.5,0.5,0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,0.5,0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,0.5,-0.5,0.5]);var de=new e([0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0]);var ak=new e([0,0,0,0,1,0,1,1,0,1,0,0]);var ai=new e([0,0,1,0,0,1,0,0,1,0,0,1]);var aO="varying vec4 vFrontColor;attribute vec3 aVertex;attribute vec4 aColor;uniform mat4 uView;uniform mat4 uProjection;uniform float uPointSize;void main(void) {  vFrontColor = aColor;  gl_PointSize = uPointSize;  gl_Position = uProjection * uView * vec4(aVertex, 1.0);}";var bP="#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 vFrontColor;uniform bool uSmooth;void main(void){  if(uSmooth == true){    float dist = distance(gl_PointCoord, vec2(0.5));    if(dist > 0.5){      discard;    }  }  gl_FragColor = vFrontColor;}";var dD="varying vec4 vFrontColor;attribute vec3 aVertex;attribute vec2 aTextureCoord;uniform vec4 uColor;uniform mat4 uModel;uniform mat4 uView;uniform mat4 uProjection;uniform float uPointSize;varying vec2 vTextureCoord;void main(void) {  gl_PointSize = uPointSize;  vFrontColor = uColor;  gl_Position = uProjection * uView * uModel * vec4(aVertex, 1.0);  vTextureCoord = aTextureCoord;}";var aW="#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 vFrontColor;varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform int uIsDrawingText;uniform bool uSmooth;void main(void){  if(uSmooth == true){    float dist = distance(gl_PointCoord, vec2(0.5));    if(dist > 0.5){      discard;    }  }  if(uIsDrawingText == 1){    float alpha = texture2D(uSampler, vTextureCoord).a;    gl_FragColor = vec4(vFrontColor.rgb * alpha, alpha);  }  else{    gl_FragColor = vFrontColor;  }}";var bA=/Windows/.test(navigator.userAgent);var dm="varying vec4 vFrontColor;attribute vec3 aVertex;attribute vec3 aNormal;attribute vec4 aColor;attribute vec2 aTexture;varying   vec2 vTexture;uniform vec4 uColor;uniform bool uUsingMat;uniform vec3 uSpecular;uniform vec3 uMaterialEmissive;uniform vec3 uMaterialAmbient;uniform vec3 uMaterialSpecular;uniform float uShininess;uniform mat4 uModel;uniform mat4 uView;uniform mat4 uProjection;uniform mat4 uNormalTransform;uniform int uLightCount;uniform vec3 uFalloff;struct Light {  int type;  vec3 color;  vec3 position;  vec3 direction;  float angle;  vec3 halfVector;  float concentration;};uniform Light uLights0;uniform Light uLights1;uniform Light uLights2;uniform Light uLights3;uniform Light uLights4;uniform Light uLights5;uniform Light uLights6;uniform Light uLights7;Light getLight(int index){  if(index == 0) return uLights0;  if(index == 1) return uLights1;  if(index == 2) return uLights2;  if(index == 3) return uLights3;  if(index == 4) return uLights4;  if(index == 5) return uLights5;  if(index == 6) return uLights6;  return uLights7;}void AmbientLight( inout vec3 totalAmbient, in vec3 ecPos, in Light light ) {  float d = length( light.position - ecPos );  float attenuation = 1.0 / ( uFalloff[0] + ( uFalloff[1] * d ) + ( uFalloff[2] * d * d ));  totalAmbient += light.color * attenuation;}void DirectionalLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float powerFactor = 0.0;  float nDotVP = max(0.0, dot( vertNormal, normalize(-light.position) ));  float nDotVH = max(0.0, dot( vertNormal, normalize(-light.position-normalize(ecPos) )));  if( nDotVP != 0.0 ){    powerFactor = pow( nDotVH, uShininess );  }  col += light.color * nDotVP;  spec += uSpecular * powerFactor;}void PointLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float powerFactor;   vec3 VP = light.position - ecPos;  float d = length( VP );   VP = normalize( VP );  float attenuation = 1.0 / ( uFalloff[0] + ( uFalloff[1] * d ) + ( uFalloff[2] * d * d ));  float nDotVP = max( 0.0, dot( vertNormal, VP ));  vec3 halfVector = normalize( VP - normalize(ecPos) );  float nDotHV = max( 0.0, dot( vertNormal, halfVector ));  if( nDotVP == 0.0 ) {    powerFactor = 0.0;  }  else {    powerFactor = pow( nDotHV, uShininess );  }  spec += uSpecular * powerFactor * attenuation;  col += light.color * nDotVP * attenuation;}void SpotLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float spotAttenuation;  float powerFactor = 0.0;  vec3 VP = light.position - ecPos;  vec3 ldir = normalize( -light.direction );  float d = length( VP );  VP = normalize( VP );  float attenuation = 1.0 / ( uFalloff[0] + ( uFalloff[1] * d ) + ( uFalloff[2] * d * d ) );  float spotDot = dot( VP, ldir );"+(bA?"  spotAttenuation = 1.0; ":"  if( spotDot > cos( light.angle ) ) {    spotAttenuation = pow( spotDot, light.concentration );  }  else{    spotAttenuation = 0.0;  }  attenuation *= spotAttenuation;")+"  float nDotVP = max( 0.0, dot( vertNormal, VP ) );  vec3 halfVector = normalize( VP - normalize(ecPos) );  float nDotHV = max( 0.0, dot( vertNormal, halfVector ) );  if( nDotVP != 0.0 ) {    powerFactor = pow( nDotHV, uShininess );  }  spec += uSpecular * powerFactor * attenuation;  col += light.color * nDotVP * attenuation;}void main(void) {  vec3 finalAmbient = vec3( 0.0 );  vec3 finalDiffuse = vec3( 0.0 );  vec3 finalSpecular = vec3( 0.0 );  vec4 col = uColor;  if ( uColor[0] == -1.0 ){    col = aColor;  }  vec3 norm = normalize(vec3( uNormalTransform * vec4( aNormal, 0.0 ) ));  vec4 ecPos4 = uView * uModel * vec4(aVertex, 1.0);  vec3 ecPos = (vec3(ecPos4))/ecPos4.w;  if( uLightCount == 0 ) {    vFrontColor = col + vec4(uMaterialSpecular, 1.0);  }  else {    for( int i = 0; i < 8; i++ ) {      Light l = getLight(i);      if( i >= uLightCount ){        break;      }      if( l.type == 0 ) {        AmbientLight( finalAmbient, ecPos, l );      }      else if( l.type == 1 ) {        DirectionalLight( finalDiffuse, finalSpecular, norm, ecPos, l );      }      else if( l.type == 2 ) {        PointLight( finalDiffuse, finalSpecular, norm, ecPos, l );      }      else {        SpotLight( finalDiffuse, finalSpecular, norm, ecPos, l );      }    }   if( uUsingMat == false ) {     vFrontColor = vec4(       vec3( col ) * finalAmbient +       vec3( col ) * finalDiffuse +       vec3( col ) * finalSpecular,       col[3] );   }   else{     vFrontColor = vec4(        uMaterialEmissive +        (vec3(col) * uMaterialAmbient * finalAmbient ) +        (vec3(col) * finalDiffuse) +        (uMaterialSpecular * finalSpecular),        col[3] );    }  }  vTexture.xy = aTexture.xy;  gl_Position = uProjection * uView * uModel * vec4( aVertex, 1.0 );}";var aF="#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 vFrontColor;uniform sampler2D uSampler;uniform bool uUsingTexture;varying vec2 vTexture;void main(void){  if( uUsingTexture ){    gl_FragColor = vec4(texture2D(uSampler, vTexture.xy)) * vFrontColor;  }  else{    gl_FragColor = vFrontColor;  }}";function d1(eb,ea,ed,ec){var d9=dB.locations[eb];if(d9===t){d9=d7.getUniformLocation(ea,ed);dB.locations[eb]=d9}if(d9!==null){if(ec.length===4){d7.uniform4fv(d9,ec)}else{if(ec.length===3){d7.uniform3fv(d9,ec)}else{if(ec.length===2){d7.uniform2fv(d9,ec)}else{d7.uniform1f(d9,ec)}}}}}function dY(eb,ea,ed,ec){var d9=dB.locations[eb];if(d9===t){d9=d7.getUniformLocation(ea,ed);dB.locations[eb]=d9}if(d9!==null){if(ec.length===4){d7.uniform4iv(d9,ec)}else{if(ec.length===3){d7.uniform3iv(d9,ec)}else{if(ec.length===2){d7.uniform2iv(d9,ec)}else{d7.uniform1i(d9,ec)}}}}}function a9(ed,eb,ee,ec,ea){var d9=dB.locations[ed];if(d9===t){d9=d7.getUniformLocation(eb,ee);dB.locations[ed]=d9}if(d9!==-1){if(ea.length===16){d7.uniformMatrix4fv(d9,ec,ea)}else{if(ea.length===9){d7.uniformMatrix3fv(d9,ec,ea)}else{d7.uniformMatrix2fv(d9,ec,ea)}}}}function db(ed,eb,ee,ea,ec){var d9=dB.attributes[ed];if(d9===t){d9=d7.getAttribLocation(eb,ee);dB.attributes[ed]=d9}if(d9!==-1){d7.bindBuffer(d7.ARRAY_BUFFER,ec);d7.vertexAttribPointer(d9,ea,d7.FLOAT,false,0,0);d7.enableVertexAttribArray(d9)}}function cf(eb,ea,ec){var d9=dB.attributes[eb];if(d9===t){d9=d7.getAttribLocation(ea,ec);dB.attributes[eb]=d9}if(d9!==-1){d7.disableVertexAttribArray(d9)}}var bE=function(eb,ed,ea){var ee=eb.createShader(eb.VERTEX_SHADER);eb.shaderSource(ee,ed);eb.compileShader(ee);if(!eb.getShaderParameter(ee,eb.COMPILE_STATUS)){throw eb.getShaderInfoLog(ee)}var ec=eb.createShader(eb.FRAGMENT_SHADER);eb.shaderSource(ec,ea);eb.compileShader(ec);if(!eb.getShaderParameter(ec,eb.COMPILE_STATUS)){throw eb.getShaderInfoLog(ec)}var d9=eb.createProgram();eb.attachShader(d9,ee);eb.attachShader(d9,ec);eb.linkProgram(d9);if(!eb.getProgramParameter(d9,eb.LINK_STATUS)){throw"Error linking shaders."}return d9};var aZ=function(d9,ed,ea,ec,eb){return{x:d9,y:ed,w:ea,h:ec}};var bk=aZ;var b0=function(d9,ed,ea,ec,eb){return{x:d9,y:ed,w:eb?ea:ea-d9,h:eb?ec:ec-ed}};var aN=function(d9,ed,ea,ec,eb){return{x:d9-ea/2,y:ed-ec/2,w:ea,h:ec}};var dr=function(){};var bQ=function(){};var bB=function(){};var b9=function(){};bQ.prototype=new dr();bQ.prototype.constructor=bQ;bB.prototype=new dr();bB.prototype.constructor=bB;b9.prototype=new dr();b9.prototype.constructor=b9;dr.prototype.a3DOnlyFunction=G;var ck={};var bO=cV.Character=function(d9){if(typeof d9==="string"&&d9.length===1){this.code=d9.charCodeAt(0)}else{if(typeof d9==="number"){this.code=d9}else{if(d9 instanceof bO){this.code=d9}else{this.code=NaN}}}return(ck[this.code]===t)?ck[this.code]=this:ck[this.code]};bO.prototype.toString=function(){return String.fromCharCode(this.code)};bO.prototype.valueOf=function(){return this.code};var O=cV.PShape=function(d9){this.family=d9||B.GROUP;this.visible=true;this.style=true;this.children=[];this.nameTable=[];this.params=[];this.name="";this.image=null;this.matrix=null;this.kind=null;this.close=null;this.width=null;this.height=null;this.parent=null};O.prototype={isVisible:function(){return this.visible},setVisible:function(d9){this.visible=d9},disableStyle:function(){this.style=false;for(var ea=0,d9=this.children.length;ea<d9;ea++){this.children[ea].disableStyle()}},enableStyle:function(){this.style=true;for(var ea=0,d9=this.children.length;ea<d9;ea++){this.children[ea].enableStyle()}},getFamily:function(){return this.family},getWidth:function(){return this.width},getHeight:function(){return this.height},setName:function(d9){this.name=d9},getName:function(){return this.name},draw:function(d9){d9=d9||cV;if(this.visible){this.pre(d9);this.drawImpl(d9);this.post(d9)}},drawImpl:function(d9){if(this.family===B.GROUP){this.drawGroup(d9)}else{if(this.family===B.PRIMITIVE){this.drawPrimitive(d9)}else{if(this.family===B.GEOMETRY){this.drawGeometry(d9)}else{if(this.family===B.PATH){this.drawPath(d9)}}}}},drawPath:function(eb){var ec,ea;if(this.vertices.length===0){return}eb.beginShape();if(this.vertexCodes.length===0){if(this.vertices[0].length===2){for(ec=0,ea=this.vertices.length;ec<ea;ec++){eb.vertex(this.vertices[ec][0],this.vertices[ec][1])}}else{for(ec=0,ea=this.vertices.length;ec<ea;ec++){eb.vertex(this.vertices[ec][0],this.vertices[ec][1],this.vertices[ec][2])}}}else{var d9=0;if(this.vertices[0].length===2){for(ec=0,ea=this.vertexCodes.length;ec<ea;ec++){if(this.vertexCodes[ec]===B.VERTEX){eb.vertex(this.vertices[d9][0],this.vertices[d9][1],this.vertices[d9]["moveTo"]);eb.breakShape=false;d9++}else{if(this.vertexCodes[ec]===B.BEZIER_VERTEX){eb.bezierVertex(this.vertices[d9+0][0],this.vertices[d9+0][1],this.vertices[d9+1][0],this.vertices[d9+1][1],this.vertices[d9+2][0],this.vertices[d9+2][1]);d9+=3}else{if(this.vertexCodes[ec]===B.CURVE_VERTEX){eb.curveVertex(this.vertices[d9][0],this.vertices[d9][1]);d9++}else{if(this.vertexCodes[ec]===B.BREAK){eb.breakShape=true}}}}}}else{for(ec=0,ea=this.vertexCodes.length;ec<ea;ec++){if(this.vertexCodes[ec]===B.VERTEX){eb.vertex(this.vertices[d9][0],this.vertices[d9][1],this.vertices[d9][2]);if(this.vertices[d9]["moveTo"]===true){bb[bb.length-1]["moveTo"]=true}else{if(this.vertices[d9]["moveTo"]===false){bb[bb.length-1]["moveTo"]=false}}eb.breakShape=false}else{if(this.vertexCodes[ec]===B.BEZIER_VERTEX){eb.bezierVertex(this.vertices[d9+0][0],this.vertices[d9+0][1],this.vertices[d9+0][2],this.vertices[d9+1][0],this.vertices[d9+1][1],this.vertices[d9+1][2],this.vertices[d9+2][0],this.vertices[d9+2][1],this.vertices[d9+2][2]);d9+=3}else{if(this.vertexCodes[ec]===B.CURVE_VERTEX){eb.curveVertex(this.vertices[d9][0],this.vertices[d9][1],this.vertices[d9][2]);d9++}else{if(this.vertexCodes[ec]===B.BREAK){eb.breakShape=true}}}}}}}eb.endShape(this.close?B.CLOSE:B.OPEN)},drawGeometry:function(eb){var ec,ea;eb.beginShape(this.kind);if(this.style){for(ec=0,ea=this.vertices.length;ec<ea;ec++){eb.vertex(this.vertices[ec])}}else{for(ec=0,ea=this.vertices.length;ec<ea;ec++){var d9=this.vertices[ec];if(d9[2]===0){eb.vertex(d9[0],d9[1])}else{eb.vertex(d9[0],d9[1],d9[2])}}}eb.endShape()},drawGroup:function(ea){for(var eb=0,d9=this.children.length;eb<d9;eb++){this.children[eb].draw(ea)}},drawPrimitive:function(d9){if(this.kind===B.POINT){d9.point(this.params[0],this.params[1])}else{if(this.kind===B.LINE){if(this.params.length===4){d9.line(this.params[0],this.params[1],this.params[2],this.params[3])}else{d9.line(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5])}}else{if(this.kind===B.TRIANGLE){d9.triangle(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5])}else{if(this.kind===B.QUAD){d9.quad(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5],this.params[6],this.params[7])}else{if(this.kind===B.RECT){if(this.image!==null){var ed=bk;d9.imageMode(B.CORNER);d9.image(this.image,this.params[0],this.params[1],this.params[2],this.params[3]);bk=ed}else{var ea=bJ;d9.rectMode(B.CORNER);d9.rect(this.params[0],this.params[1],this.params[2],this.params[3]);bJ=ea}}else{if(this.kind===B.ELLIPSE){var eb=cM;d9.ellipseMode(B.CORNER);d9.ellipse(this.params[0],this.params[1],this.params[2],this.params[3]);cM=eb}else{if(this.kind===B.ARC){var ec=cM;d9.ellipseMode(B.CORNER);d9.arc(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5]);cM=ec}else{if(this.kind===B.BOX){if(this.params.length===1){d9.box(this.params[0])}else{d9.box(this.params[0],this.params[1],this.params[2])}}else{if(this.kind===B.SPHERE){d9.sphere(this.params[0])}}}}}}}}}},pre:function(d9){if(this.matrix){d9.pushMatrix();d9.transform(this.matrix)}if(this.style){d9.pushStyle();this.styles(d9)}},post:function(d9){if(this.matrix){d9.popMatrix()}if(this.style){d9.popStyle()}},styles:function(d9){if(this.stroke){d9.stroke(this.strokeColor);d9.strokeWeight(this.strokeWeight);d9.strokeCap(this.strokeCap);d9.strokeJoin(this.strokeJoin)}else{d9.noStroke()}if(this.fill){d9.fill(this.fillColor)}else{d9.noFill()}},getChild:function(ec){var ea,d9;if(typeof ec==="number"){return this.children[ec]}var eb;if(ec===""||this.name===ec){return this}if(this.nameTable.length>0){for(ea=0,d9=this.nameTable.length;ea<d9||eb;ea++){if(this.nameTable[ea].getName===ec){eb=this.nameTable[ea];break}}if(eb){return eb}}for(ea=0,d9=this.children.length;ea<d9;ea++){eb=this.children[ea].getChild(ec);if(eb){return eb}}return null},getChildCount:function(){return this.children.length},addChild:function(d9){this.children.push(d9);d9.parent=this;if(d9.getName()!==null){this.addName(d9.getName(),d9)}},addName:function(ea,d9){if(this.parent!==null){this.parent.addName(ea,d9)}else{this.nameTable.push([ea,d9])}},translate:function(){if(arguments.length===2){this.checkMatrix(2);this.matrix.translate(arguments[0],arguments[1])}else{this.checkMatrix(3);this.matrix.translate(arguments[0],arguments[1],0)}},checkMatrix:function(d9){if(this.matrix===null){if(d9===2){this.matrix=new cV.PMatrix2D()}else{this.matrix=new cV.PMatrix3D()}}else{if(d9===3&&this.matrix instanceof cV.PMatrix2D){this.matrix=new cV.PMatrix3D()}}},rotateX:function(d9){this.rotate(d9,1,0,0)},rotateY:function(d9){this.rotate(d9,0,1,0)},rotateZ:function(d9){this.rotate(d9,0,0,1)},rotate:function(){if(arguments.length===1){this.checkMatrix(2);this.matrix.rotate(arguments[0])}else{this.checkMatrix(3);this.matrix.rotate(arguments[0],arguments[1],arguments[2],arguments[3])}},scale:function(){if(arguments.length===2){this.checkMatrix(2);this.matrix.scale(arguments[0],arguments[1])}else{if(arguments.length===3){this.checkMatrix(2);this.matrix.scale(arguments[0],arguments[1],arguments[2])}else{this.checkMatrix(2);this.matrix.scale(arguments[0])}}},resetMatrix:function(){this.checkMatrix(2);this.matrix.reset()},applyMatrix:function(d9){if(arguments.length===1){this.applyMatrix(d9.elements[0],d9.elements[1],0,d9.elements[2],d9.elements[3],d9.elements[4],0,d9.elements[5],0,0,1,0,0,0,0,1)}else{if(arguments.length===6){this.checkMatrix(2);this.matrix.apply(arguments[0],arguments[1],arguments[2],0,arguments[3],arguments[4],arguments[5],0,0,0,1,0,0,0,0,1)}else{if(arguments.length===16){this.checkMatrix(3);this.matrix.apply(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15])}}}}};var cq=cV.PShapeSVG=function(){cV.PShape.call(this);if(arguments.length===1){this.element=arguments[0];this.vertexCodes=[];this.vertices=[];this.opacity=1;this.stroke=false;this.strokeColor=B.ALPHA_MASK;this.strokeWeight=1;this.strokeCap=B.SQUARE;this.strokeJoin=B.MITER;this.strokeGradient=null;this.strokeGradientPaint=null;this.strokeName=null;this.strokeOpacity=1;this.fill=true;this.fillColor=B.ALPHA_MASK;this.fillGradient=null;this.fillGradientPaint=null;this.fillName=null;this.fillOpacity=1;if(this.element.getName()!=="svg"){throw ("root is not <svg>, it's <"+this.element.getName()+">")}}else{if(arguments.length===2){if(typeof arguments[1]==="string"){if(arguments[1].indexOf(".svg")>-1){this.element=new cV.XMLElement(cV,arguments[1]);this.vertexCodes=[];this.vertices=[];this.opacity=1;this.stroke=false;this.strokeColor=B.ALPHA_MASK;this.strokeWeight=1;this.strokeCap=B.SQUARE;this.strokeJoin=B.MITER;this.strokeGradient="";this.strokeGradientPaint="";this.strokeName="";this.strokeOpacity=1;this.fill=true;this.fillColor=B.ALPHA_MASK;this.fillGradient=null;this.fillGradientPaint=null;this.fillOpacity=1}}else{if(arguments[0]){this.element=arguments[1];this.vertexCodes=arguments[0].vertexCodes.slice();this.vertices=arguments[0].vertices.slice();this.stroke=arguments[0].stroke;this.strokeColor=arguments[0].strokeColor;this.strokeWeight=arguments[0].strokeWeight;this.strokeCap=arguments[0].strokeCap;this.strokeJoin=arguments[0].strokeJoin;this.strokeGradient=arguments[0].strokeGradient;this.strokeGradientPaint=arguments[0].strokeGradientPaint;this.strokeName=arguments[0].strokeName;this.fill=arguments[0].fill;this.fillColor=arguments[0].fillColor;this.fillGradient=arguments[0].fillGradient;this.fillGradientPaint=arguments[0].fillGradientPaint;this.fillName=arguments[0].fillName;this.strokeOpacity=arguments[0].strokeOpacity;this.fillOpacity=arguments[0].fillOpacity;this.opacity=arguments[0].opacity}}}}this.name=this.element.getStringAttribute("id");var d9=this.element.getStringAttribute("display","inline");this.visible=d9!=="none";var ee=this.element.getAttribute("transform");if(ee){this.matrix=this.parseMatrix(ee)}var eb=this.element.getStringAttribute("viewBox");if(eb!==null){var ed=eb.split(" ");this.width=ed[2];this.height=ed[3]}var ea=this.element.getStringAttribute("width");var ec=this.element.getStringAttribute("height");if(ea!==null){this.width=this.parseUnitSize(ea);this.height=this.parseUnitSize(ec)}else{if((this.width===0)||(this.height===0)){this.width=1;this.height=1;throw ("The width and/or height is not readable in the <svg> tag of this file.")}}this.parseColors(this.element);this.parseChildren(this.element)};cq.prototype=new O();cq.prototype.parseMatrix=(function(){function d9(eb){var ea=[];eb.replace(/\((.*?)\)/,(function(){return function(ec,ed){ea=ed.replace(/,+/g," ").split(/\s+/)}}()));return ea}return function(eh){this.checkMatrix(2);var ea=[];eh.replace(/\s*(\w+)\((.*?)\)/g,function(ek){ea.push(cV.trim(ek))});if(ea.length===0){return null}for(var ef=0,ed=ea.length;ef<ed;ef++){var eb=d9(ea[ef]);if(ea[ef].indexOf("matrix")!==-1){this.matrix.set(eb[0],eb[2],eb[4],eb[1],eb[3],eb[5])}else{if(ea[ef].indexOf("translate")!==-1){var eg=eb[0];var ee=(eb.length===2)?eb[1]:0;this.matrix.translate(eg,ee)}else{if(ea[ef].indexOf("scale")!==-1){var ej=eb[0];var ei=(eb.length===2)?eb[1]:eb[0];this.matrix.scale(ej,ei)}else{if(ea[ef].indexOf("rotate")!==-1){var ec=eb[0];if(eb.length===1){this.matrix.rotate(cV.radians(ec))}else{if(eb.length===3){this.matrix.translate(eb[1],eb[2]);this.matrix.rotate(cV.radians(eb[0]));this.matrix.translate(-eb[1],-eb[2])}}}else{if(ea[ef].indexOf("skewX")!==-1){this.matrix.skewX(parseFloat(eb[0]))}else{if(ea[ef].indexOf("skewY")!==-1){this.matrix.skewY(eb[0])}else{if(ea[ef].indexOf("shearX")!==-1){this.matrix.shearX(eb[0])}else{if(ea[ef].indexOf("shearY")!==-1){this.matrix.shearY(eb[0])}}}}}}}}}return this.matrix}}());cq.prototype.parseChildren=function(ed){var ea=ed.getChildren();var ee=new cV.PShape();var ec,eb;for(ec=0,eb=ea.length;ec<eb;ec++){var d9=this.parseChild(ea[ec]);if(d9){ee.addChild(d9)}}for(ec=0,eb=ee.children.length;ec<eb;ec++){this.children.push(ee.children[ec])}};cq.prototype.getName=function(){return this.name};cq.prototype.parseChild=function(eb){var ea=eb.getName();var d9;if(ea==="g"){d9=new cq(this,eb)}else{if(ea==="defs"){d9=new cq(this,eb)}else{if(ea==="line"){d9=new cq(this,eb);d9.parseLine()}else{if(ea==="circle"){d9=new cq(this,eb);d9.parseEllipse(true)}else{if(ea==="ellipse"){d9=new cq(this,eb);d9.parseEllipse(false)}else{if(ea==="rect"){d9=new cq(this,eb);d9.parseRect()}else{if(ea==="polygon"){d9=new cq(this,eb);d9.parsePoly(true)}else{if(ea==="polyline"){d9=new cq(this,eb);d9.parsePoly(false)}else{if(ea==="path"){d9=new cq(this,eb);d9.parsePath()}else{if(ea==="radialGradient"){dv("PShapeSVG.prototype.parseChild, name = radialGradient")}else{if(ea==="linearGradient"){dv("PShapeSVG.prototype.parseChild, name = linearGradient")}else{if(ea==="text"){dv("PShapeSVG.prototype.parseChild, name = text")}else{if(ea==="filter"){dv("PShapeSVG.prototype.parseChild, name = filter")}else{if(ea==="mask"){dv("PShapeSVG.prototype.parseChild, name = mask")}else{G()}}}}}}}}}}}}}}return d9};cq.prototype.parsePath=function(){this.family=B.PATH;this.kind=0;var ee=[];var ey;var ex=cV.trim(this.element.getStringAttribute("d").replace(/[\s,]+/g," "));if(ex===null){return}ex=cV.__toCharArray(ex);var ec=0,eb=0,ej=0,eh=0,ei=0,eg=0,ep=0,eo=0,ea=0,d9=0,el=0,ek=0,en=0,em=0,ew=0,es=0;var eq="";var eu=[];var ev=false;var ef;var ed;var et,er;while(ew<ex.length){es=ex[ew].valueOf();if((es>=65&&es<=90)||(es>=97&&es<=122)){et=ew;ew++;if(ew<ex.length){eu=[];es=ex[ew].valueOf();while(!((es>=65&&es<=90)||(es>=97&&es<=100)||(es>=102&&es<=122))&&ev===false){if(es===32){if(eq!==""){eu.push(parseFloat(eq));eq=""}ew++}else{if(es===45){if(ex[ew-1].valueOf()===101){eq+=ex[ew].toString();ew++}else{if(eq!==""){eu.push(parseFloat(eq))}eq=ex[ew].toString();ew++}}else{eq+=ex[ew].toString();ew++}}if(ew===ex.length){ev=true}else{es=ex[ew].valueOf()}}}if(eq!==""){eu.push(parseFloat(eq));eq=""}ed=ex[et];es=ed.valueOf();if(es===77){if(eu.length>=2&&eu.length%2===0){ec=eu[0];eb=eu[1];this.parsePathMoveto(ec,eb);if(eu.length>2){for(et=2,er=eu.length;et<er;et+=2){ec=eu[et];eb=eu[et+1];this.parsePathLineto(ec,eb)}}}}else{if(es===109){if(eu.length>=2&&eu.length%2===0){ec+=eu[0];eb+=eu[1];this.parsePathMoveto(ec,eb);if(eu.length>2){for(et=2,er=eu.length;et<er;et+=2){ec+=eu[et];eb+=eu[et+1];this.parsePathLineto(ec,eb)}}}}else{if(es===76){if(eu.length>=2&&eu.length%2===0){for(et=0,er=eu.length;et<er;et+=2){ec=eu[et];eb=eu[et+1];this.parsePathLineto(ec,eb)}}}else{if(es===108){if(eu.length>=2&&eu.length%2===0){for(et=0,er=eu.length;et<er;et+=2){ec+=eu[et];eb+=eu[et+1];this.parsePathLineto(ec,eb)}}}else{if(es===72){for(et=0,er=eu.length;et<er;et++){ec=eu[et];this.parsePathLineto(ec,eb)}}else{if(es===104){for(et=0,er=eu.length;et<er;et++){ec+=eu[et];this.parsePathLineto(ec,eb)}}else{if(es===86){for(et=0,er=eu.length;et<er;et++){eb=eu[et];this.parsePathLineto(ec,eb)}}else{if(es===118){for(et=0,er=eu.length;et<er;et++){eb+=eu[et];this.parsePathLineto(ec,eb)}}else{if(es===67){if(eu.length>=6&&eu.length%6===0){for(et=0,er=eu.length;et<er;et+=6){ei=eu[et];ep=eu[et+1];eg=eu[et+2];eo=eu[et+3];ea=eu[et+4];d9=eu[et+5];this.parsePathCurveto(ei,ep,eg,eo,ea,d9);ec=ea;eb=d9}}}else{if(es===99){if(eu.length>=6&&eu.length%6===0){for(et=0,er=eu.length;et<er;et+=6){ei=ec+eu[et];ep=eb+eu[et+1];eg=ec+eu[et+2];eo=eb+eu[et+3];ea=ec+eu[et+4];d9=eb+eu[et+5];this.parsePathCurveto(ei,ep,eg,eo,ea,d9);ec=ea;eb=d9}}}else{if(es===83){if(eu.length>=4&&eu.length%4===0){for(et=0,er=eu.length;et<er;et+=4){if(ef.toLowerCase()==="c"||ef.toLowerCase()==="s"){el=this.vertices[this.vertices.length-2][0];ek=this.vertices[this.vertices.length-2][1];en=this.vertices[this.vertices.length-1][0];em=this.vertices[this.vertices.length-1][1];ei=en+(en-el);ep=em+(em-ek)}else{ei=this.vertices[this.vertices.length-1][0];ep=this.vertices[this.vertices.length-1][1]}eg=eu[et];eo=eu[et+1];ea=eu[et+2];d9=eu[et+3];this.parsePathCurveto(ei,ep,eg,eo,ea,d9);ec=ea;eb=d9}}}else{if(es===115){if(eu.length>=4&&eu.length%4===0){for(et=0,er=eu.length;et<er;et+=4){if(ef.toLowerCase()==="c"||ef.toLowerCase()==="s"){el=this.vertices[this.vertices.length-2][0];ek=this.vertices[this.vertices.length-2][1];en=this.vertices[this.vertices.length-1][0];em=this.vertices[this.vertices.length-1][1];ei=en+(en-el);ep=em+(em-ek)}else{ei=this.vertices[this.vertices.length-1][0];ep=this.vertices[this.vertices.length-1][1]}eg=ec+eu[et];eo=eb+eu[et+1];ea=ec+eu[et+2];d9=eb+eu[et+3];this.parsePathCurveto(ei,ep,eg,eo,ea,d9);ec=ea;eb=d9}}}else{if(es===81){if(eu.length>=4&&eu.length%4===0){for(et=0,er=eu.length;et<er;et+=4){ej=eu[et];eh=eu[et+1];ea=eu[et+2];d9=eu[et+3];this.parsePathQuadto(ec,eb,ej,eh,ea,d9);ec=ea;eb=d9}}}else{if(es===113){if(eu.length>=4&&eu.length%4===0){for(et=0,er=eu.length;et<er;et+=4){ej=ec+eu[et];eh=eb+eu[et+1];ea=ec+eu[et+2];d9=eb+eu[et+3];this.parsePathQuadto(ec,eb,ej,eh,ea,d9);ec=ea;eb=d9}}}else{if(es===84){if(eu.length>=2&&eu.length%2===0){for(et=0,er=eu.length;et<er;et+=2){if(ef.toLowerCase()==="q"||ef.toLowerCase()==="t"){el=this.vertices[this.vertices.length-2][0];ek=this.vertices[this.vertices.length-2][1];en=this.vertices[this.vertices.length-1][0];em=this.vertices[this.vertices.length-1][1];ej=en+(en-el);eh=em+(em-ek)}else{ej=ec;eh=eb}ea=eu[et];d9=eu[et+1];this.parsePathQuadto(ec,eb,ej,eh,ea,d9);ec=ea;eb=d9}}}else{if(es===116){if(eu.length>=2&&eu.length%2===0){for(et=0,er=eu.length;et<er;et+=2){if(ef.toLowerCase()==="q"||ef.toLowerCase()==="t"){el=this.vertices[this.vertices.length-2][0];ek=this.vertices[this.vertices.length-2][1];en=this.vertices[this.vertices.length-1][0];em=this.vertices[this.vertices.length-1][1];ej=en+(en-el);eh=em+(em-ek)}else{ej=ec;eh=eb}ea=ec+eu[et];d9=eb+eu[et+1];this.parsePathQuadto(ec,eb,ej,eh,ea,d9);ec=ea;eb=d9}}}else{if(es===90||es===122){this.close=true}}}}}}}}}}}}}}}}}ef=ed.toString()}else{ew++}}};cq.prototype.parsePathQuadto=function(eb,ed,d9,ee,ea,ec){if(this.vertices.length>0){this.parsePathCode(B.BEZIER_VERTEX);this.parsePathVertex(eb+((d9-eb)*2/3),ed+((ee-ed)*2/3));this.parsePathVertex(ea+((d9-ea)*2/3),ec+((ee-ec)*2/3));this.parsePathVertex(ea,ec)}else{throw ("Path must start with M/m")}};cq.prototype.parsePathCurveto=function(ec,ee,ea,ed,d9,eb){if(this.vertices.length>0){this.parsePathCode(B.BEZIER_VERTEX);this.parsePathVertex(ec,ee);this.parsePathVertex(ea,ed);this.parsePathVertex(d9,eb)}else{throw ("Path must start with M/m")}};cq.prototype.parsePathLineto=function(ea,d9){if(this.vertices.length>0){this.parsePathCode(B.VERTEX);this.parsePathVertex(ea,d9);this.vertices[this.vertices.length-1]["moveTo"]=false}else{throw ("Path must start with M/m")}};cq.prototype.parsePathMoveto=function(ea,d9){if(this.vertices.length>0){this.parsePathCode(B.BREAK)}this.parsePathCode(B.VERTEX);this.parsePathVertex(ea,d9);this.vertices[this.vertices.length-1]["moveTo"]=true};cq.prototype.parsePathVertex=function(d9,eb){var ea=[];ea[0]=d9;ea[1]=eb;this.vertices.push(ea)};cq.prototype.parsePathCode=function(d9){this.vertexCodes.push(d9)};cq.prototype.parsePoly=function(ed){this.family=B.PATH;this.close=ed;var ea=cV.trim(this.element.getStringAttribute("points").replace(/[,\s]+/g," "));if(ea!==null){var d9=ea.split(" ");if(d9.length%2===0){for(var ec=0,eb=d9.length;ec<eb;ec++){var ee=[];ee[0]=d9[ec];ee[1]=d9[++ec];this.vertices.push(ee)}}else{throw ("Error parsing polygon points: odd number of coordinates provided")}}};cq.prototype.parseRect=function(){this.kind=B.RECT;this.family=B.PRIMITIVE;this.params=[];this.params[0]=this.element.getFloatAttribute("x");this.params[1]=this.element.getFloatAttribute("y");this.params[2]=this.element.getFloatAttribute("width");this.params[3]=this.element.getFloatAttribute("height");if(this.params[2]<0||this.params[3]<0){throw ("svg error: negative width or height found while parsing <rect>")}};cq.prototype.parseEllipse=function(eb){this.kind=B.ELLIPSE;this.family=B.PRIMITIVE;this.params=[];this.params[0]=this.element.getFloatAttribute("cx")|0;this.params[1]=this.element.getFloatAttribute("cy")|0;var ea,d9;if(eb){ea=d9=this.element.getFloatAttribute("r");if(ea<0){throw ("svg error: negative radius found while parsing <circle>")}}else{ea=this.element.getFloatAttribute("rx");d9=this.element.getFloatAttribute("ry");if(ea<0||d9<0){throw ("svg error: negative x-axis radius or y-axis radius found while parsing <ellipse>")}}this.params[0]-=ea;this.params[1]-=d9;this.params[2]=ea*2;this.params[3]=d9*2};cq.prototype.parseLine=function(){this.kind=B.LINE;this.family=B.PRIMITIVE;this.params=[];this.params[0]=this.element.getFloatAttribute("x1");this.params[1]=this.element.getFloatAttribute("y1");this.params[2]=this.element.getFloatAttribute("x2");this.params[3]=this.element.getFloatAttribute("y2")};cq.prototype.parseColors=function(eb){if(eb.hasAttribute("opacity")){this.setOpacity(eb.getAttribute("opacity"))}if(eb.hasAttribute("stroke")){this.setStroke(eb.getAttribute("stroke"))}if(eb.hasAttribute("stroke-width")){this.setStrokeWeight(eb.getAttribute("stroke-width"))}if(eb.hasAttribute("stroke-linejoin")){this.setStrokeJoin(eb.getAttribute("stroke-linejoin"))}if(eb.hasAttribute("stroke-linecap")){this.setStrokeCap(eb.getStringAttribute("stroke-linecap"))}if(eb.hasAttribute("fill")){this.setFill(eb.getStringAttribute("fill"))}if(eb.hasAttribute("style")){var ee=eb.getStringAttribute("style");var ec=ee.toString().split(";");for(var ea=0,d9=ec.length;ea<d9;ea++){var ed=cV.trim(ec[ea].split(":"));if(ed[0]==="fill"){this.setFill(ed[1])}else{if(ed[0]==="fill-opacity"){this.setFillOpacity(ed[1])}else{if(ed[0]==="stroke"){this.setStroke(ed[1])}else{if(ed[0]==="stroke-width"){this.setStrokeWeight(ed[1])}else{if(ed[0]==="stroke-linecap"){this.setStrokeCap(ed[1])}else{if(ed[0]==="stroke-linejoin"){this.setStrokeJoin(ed[1])}else{if(ed[0]==="stroke-opacity"){this.setStrokeOpacity(ed[1])}else{if(ed[0]==="opacity"){this.setOpacity(ed[1])}}}}}}}}}}};cq.prototype.setFillOpacity=function(d9){this.fillOpacity=parseFloat(d9);this.fillColor=this.fillOpacity*255<<24|this.fillColor&16777215};cq.prototype.setFill=function(d9){var ea=this.fillColor&4278190080;if(d9==="none"){this.fill=false}else{if(d9.indexOf("#")===0){this.fill=true;if(d9.length===4){d9=d9.replace(/#(.)(.)(.)/,"#$1$1$2$2$3$3")}this.fillColor=ea|(parseInt(d9.substring(1),16))&16777215}else{if(d9.indexOf("rgb")===0){this.fill=true;this.fillColor=ea|this.parseRGB(d9)}else{if(d9.indexOf("url(#")===0){this.fillName=d9.substring(5,d9.length-1)}else{if(E[d9]){this.fill=true;this.fillColor=ea|(parseInt(E[d9].substring(1),16))&16777215}}}}}};cq.prototype.setOpacity=function(d9){this.strokeColor=parseFloat(d9)*255<<24|this.strokeColor&16777215;this.fillColor=parseFloat(d9)*255<<24|this.fillColor&16777215};cq.prototype.setStroke=function(d9){var ea=this.strokeColor&4278190080;if(d9==="none"){this.stroke=false}else{if(d9.charAt(0)==="#"){this.stroke=true;if(d9.length===4){d9=d9.replace(/#(.)(.)(.)/,"#$1$1$2$2$3$3")}this.strokeColor=ea|(parseInt(d9.substring(1),16))&16777215}else{if(d9.indexOf("rgb")===0){this.stroke=true;this.strokeColor=ea|this.parseRGB(d9)}else{if(d9.indexOf("url(#")===0){this.strokeName=d9.substring(5,d9.length-1)}else{if(E[d9]){this.stroke=true;this.strokeColor=ea|(parseInt(E[d9].substring(1),16))&16777215}}}}}};cq.prototype.setStrokeWeight=function(d9){this.strokeWeight=this.parseUnitSize(d9)};cq.prototype.setStrokeJoin=function(d9){if(d9==="miter"){this.strokeJoin=B.MITER}else{if(d9==="round"){this.strokeJoin=B.ROUND}else{if(d9==="bevel"){this.strokeJoin=B.BEVEL}}}};cq.prototype.setStrokeCap=function(d9){if(d9==="butt"){this.strokeCap=B.SQUARE}else{if(d9==="round"){this.strokeCap=B.ROUND}else{if(d9==="square"){this.strokeCap=B.PROJECT}}}};cq.prototype.setStrokeOpacity=function(d9){this.strokeOpacity=parseFloat(d9);this.strokeColor=this.strokeOpacity*255<<24|this.strokeColor&16777215};cq.prototype.parseRGB=function(ea){var eb=ea.substring(ea.indexOf("(")+1,ea.indexOf(")"));var d9=eb.split(", ");return(d9[0]<<16)|(d9[1]<<8)|(d9[2])};cq.prototype.parseUnitSize=function(ea){var d9=ea.length-2;if(d9<0){return ea}if(ea.indexOf("pt")===d9){return parseFloat(ea.substring(0,d9))*1.25}if(ea.indexOf("pc")===d9){return parseFloat(ea.substring(0,d9))*15}if(ea.indexOf("mm")===d9){return parseFloat(ea.substring(0,d9))*3.543307}if(ea.indexOf("cm")===d9){return parseFloat(ea.substring(0,d9))*35.43307}if(ea.indexOf("in")===d9){return parseFloat(ea.substring(0,d9))*90}if(ea.indexOf("px")===d9){return parseFloat(ea.substring(0,d9))}return parseFloat(ea)};cV.shape=function(eb,ea,ed,ec,d9){if(arguments.length>=1&&arguments[0]!==null){if(eb.isVisible()){cV.pushMatrix();if(S===B.CENTER){if(arguments.length===5){cV.translate(ea-ec/2,ed-d9/2);cV.scale(ec/eb.getWidth(),d9/eb.getHeight())}else{if(arguments.length===3){cV.translate(ea-eb.getWidth()/2,-eb.getHeight()/2)}else{cV.translate(-eb.getWidth()/2,-eb.getHeight()/2)}}}else{if(S===B.CORNER){if(arguments.length===5){cV.translate(ea,ed);cV.scale(ec/eb.getWidth(),d9/eb.getHeight())}else{if(arguments.length===3){cV.translate(ea,ed)}}}else{if(S===B.CORNERS){if(arguments.length===5){ec-=ea;d9-=ed;cV.translate(ea,ed);cV.scale(ec/eb.getWidth(),d9/eb.getHeight())}else{if(arguments.length===3){cV.translate(ea,ed)}}}}}eb.draw(cV);if((arguments.length===1&&S===B.CENTER)||arguments.length>1){cV.popMatrix()}}}};cV.shapeMode=function(d9){S=d9};cV.loadShape=function(d9){if(arguments.length===1){if(d9.indexOf(".svg")>-1){return new cq(null,d9)}}return null};var cS=function(ed,ec,d9,ea,eb){this.fullName=ed||"";this.name=ec||"";this.namespace=d9||"";this.value=ea;this.type=eb};cS.prototype={getName:function(){return this.name},getFullName:function(){return this.fullName},getNamespace:function(){return this.namespace},getValue:function(){return this.value},getType:function(){return this.type},setValue:function(d9){this.value=d9}};var b8=cV.XMLElement=function(d9,eb,ec,ea){this.attributes=[];this.children=[];this.fullName=null;this.name=null;this.namespace="";this.content=null;this.parent=null;this.lineNr="";this.systemID="";this.type="ELEMENT";if(d9){if(typeof d9==="string"){if(eb===t&&d9.indexOf("<")>-1){this.parse(d9)}else{this.fullName=d9;this.namespace=eb;this.systemId=ec;this.lineNr=ea}}else{this.parse(eb)}}};b8.prototype={parse:function(d9){var eb;try{var ed=d9.substring(d9.length-4);if(ed===".xml"||ed===".svg"){d9=w(d9)}eb=new DOMParser().parseFromString(d9,"text/xml");var ea=eb.documentElement;if(ea){this.parseChildrenRecursive(null,ea)}else{throw ("Error loading document")}return this}catch(ec){throw (ec)}},parseChildrenRecursive:function(eh,ef){var ee,ea,eg,ed,ec,d9;if(!eh){this.fullName=ef.localName;this.name=ef.nodeName;ee=this}else{ee=new b8(ef.nodeName);ee.parent=eh}if(ef.nodeType===3&&ef.textContent!==""){return this.createPCDataElement(ef.textContent)}if(ef.nodeType===4){return this.createCDataElement(ef.textContent)}if(ef.attributes){for(ed=0,ec=ef.attributes.length;ed<ec;ed++){eg=ef.attributes[ed];ea=new cS(eg.getname,eg.nodeName,eg.namespaceURI,eg.nodeValue,eg.nodeType);ee.attributes.push(ea)}}if(ef.childNodes){for(ed=0,ec=ef.childNodes.length;ed<ec;ed++){var eb=ef.childNodes[ed];d9=ee.parseChildrenRecursive(ee,eb);if(d9!==null){ee.children.push(d9)}}}return ee},createElement:function(ea,eb,ec,d9){if(ec===t){return new b8(ea,eb)}return new b8(ea,eb,ec,d9)},createPCDataElement:function(ea,d9){if(ea.replace(/^\s+$/g,"")===""){return null}var eb=new b8();eb.type="TEXT";eb.content=ea;return eb},createCDataElement:function(eb){var ec=this.createPCDataElement(eb);if(ec===null){return null}ec.type="CDATA";var ea={"<":"&lt;",">":"&gt;","'":"&apos;",'"':"&quot;"},d9;for(d9 in ea){if(!Object.hasOwnProperty(ea,d9)){eb=eb.replace(new RegExp(d9,"g"),ea[d9])}}ec.cdata=eb;return ec},hasAttribute:function(){if(arguments.length===1){return this.getAttribute(arguments[0])!==null}if(arguments.length===2){return this.getAttribute(arguments[0],arguments[1])!==null}},equals:function(ee){if(!(ee instanceof b8)){return false}var eb,ea;if(this.fullName!==ee.fullName){return false}if(this.attributes.length!==ee.getAttributeCount()){return false}if(this.attributes.length!==ee.attributes.length){return false}var ei,eg,d9,ef,eh;for(eb=0,ea=this.attributes.length;eb<ea;eb++){ei=this.attributes[eb].getName();eg=this.attributes[eb].getNamespace();eh=ee.findAttribute(ei,eg);if(eh===null){return false}if(this.attributes[eb].getValue()!==eh.getValue()){return false}if(this.attributes[eb].getType()!==eh.getType()){return false}}if(this.children.length!==ee.getChildCount()){return false}if(this.children.length>0){var ed,ec;for(eb=0,ea=this.children.length;eb<ea;eb++){ed=this.getChild(eb);ec=ee.getChild(eb);if(!ed.equals(ec)){return false}}return true}return(this.content===ee.content)},getContent:function(){if(this.type==="TEXT"||this.type==="CDATA"){return this.content}var d9=this.children;if(d9.length===1&&(d9[0].type==="TEXT"||d9[0].type==="CDATA")){return d9[0].content}return null},getAttribute:function(){var d9;if(arguments.length===2){d9=this.findAttribute(arguments[0]);if(d9){return d9.getValue()}return arguments[1]}else{if(arguments.length===1){d9=this.findAttribute(arguments[0]);if(d9){return d9.getValue()}return null}else{if(arguments.length===3){d9=this.findAttribute(arguments[0],arguments[1]);if(d9){return d9.getValue()}return arguments[2]}}}},getStringAttribute:function(){if(arguments.length===1){return this.getAttribute(arguments[0])}if(arguments.length===2){return this.getAttribute(arguments[0],arguments[1])}return this.getAttribute(arguments[0],arguments[1],arguments[2])},getString:function(d9){return this.getStringAttribute(d9)},getFloatAttribute:function(){if(arguments.length===1){return parseFloat(this.getAttribute(arguments[0],0))}if(arguments.length===2){return this.getAttribute(arguments[0],arguments[1])}return this.getAttribute(arguments[0],arguments[1],arguments[2])},getFloat:function(d9){return this.getFloatAttribute(d9)},getIntAttribute:function(){if(arguments.length===1){return this.getAttribute(arguments[0],0)}if(arguments.length===2){return this.getAttribute(arguments[0],arguments[1])}return this.getAttribute(arguments[0],arguments[1],arguments[2])},getInt:function(d9){return this.getIntAttribute(d9)},hasChildren:function(){return this.children.length>0},addChild:function(d9){if(d9!==null){d9.parent=this;this.children.push(d9)}},insertChild:function(eb,d9){if(eb){if((eb.getLocalName()===null)&&(!this.hasChildren())){var ea=this.children[this.children.length-1];if(ea.getLocalName()===null){ea.setContent(ea.getContent()+eb.getContent());return}}eb.parent=this;this.children.splice(d9,0,eb)}},getChild:function(ea){if(typeof ea==="number"){return this.children[ea]}if(ea.indexOf("/")!==-1){return this.getChildRecursive(ea.split("/"),0)}var d9,ed;for(var ec=0,eb=this.getChildCount();ec<eb;ec++){d9=this.getChild(ec);ed=d9.getName();if(ed!==null&&ed===ea){return d9}}return null},getChildren:function(){if(arguments.length===1){if(typeof arguments[0]==="number"){return this.getChild(arguments[0])}if(arguments[0].indexOf("/")!==-1){return this.getChildrenRecursive(arguments[0].split("/"),0)}var ed=[];var d9,ec;for(var eb=0,ea=this.getChildCount();eb<ea;eb++){d9=this.getChild(eb);ec=d9.getName();if(ec!==null&&ec===arguments[0]){ed.push(d9)}}return ed}return this.children},getChildCount:function(){return this.children.length},getChildRecursive:function(ea,ef){if(ef===ea.length){return this}var d9,ee,ed=ea[ef];for(var ec=0,eb=this.getChildCount();ec<eb;ec++){d9=this.getChild(ec);ee=d9.getName();if(ee!==null&&ee===ed){return d9.getChildRecursive(ea,ef+1)}}return null},getChildrenRecursive:function(d9,ed){if(ed===d9.length-1){return this.getChildren(d9[ed])}var ec=this.getChildren(d9[ed]);var eb=[];for(var ea=0;ea<ec.length;ea++){eb=eb.concat(ec[ea].getChildrenRecursive(d9,ed+1))}return eb},isLeaf:function(){return !this.hasChildren()},listChildren:function(){var d9=[];for(var eb=0,ea=this.children.length;eb<ea;eb++){d9.push(this.getChild(eb).getName())}return d9},removeAttribute:function(ea,ec){this.namespace=ec||"";for(var eb=0,d9=this.attributes.length;eb<d9;eb++){if(this.attributes[eb].getName()===ea&&this.attributes[eb].getNamespace()===this.namespace){this.attributes.splice(eb,1);break}}},removeChild:function(eb){if(eb){for(var ea=0,d9=this.children.length;ea<d9;ea++){if(this.children[ea].equals(eb)){this.children.splice(ea,1);break}}}},removeChildAtIndex:function(d9){if(this.children.length>d9){this.children.splice(d9,1)}},findAttribute:function(ea,ec){this.namespace=ec||"";for(var eb=0,d9=this.attributes.length;eb<d9;eb++){if(this.attributes[eb].getName()===ea&&this.attributes[eb].getNamespace()===this.namespace){return this.attributes[eb]}}return null},setAttribute:function(){var d9;if(arguments.length===3){var eb=arguments[0].indexOf(":");var ea=arguments[0].substring(eb+1);d9=this.findAttribute(ea,arguments[1]);if(d9){d9.setValue(arguments[2])}else{d9=new cS(arguments[0],ea,arguments[1],arguments[2],"CDATA");this.attributes.push(d9)}}else{d9=this.findAttribute(arguments[0]);if(d9){d9.setValue(arguments[1])}else{d9=new cS(arguments[0],arguments[0],null,arguments[1],"CDATA");this.attributes.push(d9)}}},setString:function(d9,ea){this.setAttribute(d9,ea)},setInt:function(d9,ea){this.setAttribute(d9,ea)},setFloat:function(d9,ea){this.setAttribute(d9,ea)},setContent:function(d9){if(this.children.length>0){F.debug("Tried to set content for XMLElement with children")}this.content=d9},setName:function(){if(arguments.length===1){this.name=arguments[0];this.fullName=arguments[0];this.namespace=null}else{var d9=arguments[0].indexOf(":");if((arguments[1]===null)||(d9<0)){this.name=arguments[0]}else{this.name=arguments[0].substring(d9+1)}this.fullName=arguments[0];this.namespace=arguments[1]}},getName:function(){return this.fullName},getLocalName:function(){return this.name},getAttributeCount:function(){return this.attributes.length},toString:function(){if(this.type==="TEXT"){return this.content}if(this.type==="CDATA"){return this.cdata}var eb=this.fullName;var ec="<"+eb;var ea,ed;for(ea=0;ea<this.attributes.length;ea++){var d9=this.attributes[ea];ec+=" "+d9.getName()+'="'+d9.getValue()+'"'}if(this.children.length===0){if(this.content===""){ec+="/>"}else{ec+=">"+this.content+"</"+eb+">"}}else{ec+=">";for(ed=0;ed<this.children.length;ed++){ec+=this.children[ed].toString()}ec+="</"+eb+">"}return ec}};b8.parse=function(ea){var d9=new b8();d9.parse(ea);return d9};var df=cV.XML=cV.XMLElement;cV.loadXML=function(d9){return new df(cV,d9)};var cl=function(ec){var d9=0;for(var ea=0;ea<ec.length;ea++){if(ea!==0){d9=q.max(d9,q.abs(ec[ea]))}else{d9=q.abs(ec[ea])}}var eb=(d9+"").indexOf(".");if(eb===0){eb=1}else{if(eb===-1){eb=(d9+"").length}}return eb};var aX=cV.PMatrix2D=function(){if(arguments.length===0){this.reset()}else{if(arguments.length===1&&arguments[0] instanceof aX){this.set(arguments[0].array())}else{if(arguments.length===6){this.set(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}}}};aX.prototype={set:function(){if(arguments.length===6){var d9=arguments;this.set([d9[0],d9[1],d9[2],d9[3],d9[4],d9[5]])}else{if(arguments.length===1&&arguments[0] instanceof aX){this.elements=arguments[0].array()}else{if(arguments.length===1&&arguments[0] instanceof Array){this.elements=arguments[0].slice()}}}},get:function(){var d9=new aX();d9.set(this.elements);return d9},reset:function(){this.set([1,0,0,0,1,0])},array:function aE(){return this.elements.slice()},translate:function(ea,d9){this.elements[2]=ea*this.elements[0]+d9*this.elements[1]+this.elements[2];this.elements[5]=ea*this.elements[3]+d9*this.elements[4]+this.elements[5]},invTranslate:function(ea,d9){this.translate(-ea,-d9)},transpose:function(){},mult:function(ea,eb){var d9,ec;if(ea instanceof A){d9=ea.x;ec=ea.y;if(!eb){eb=new A()}}else{if(ea instanceof Array){d9=ea[0];ec=ea[1];if(!eb){eb=[]}}}if(eb instanceof Array){eb[0]=this.elements[0]*d9+this.elements[1]*ec+this.elements[2];eb[1]=this.elements[3]*d9+this.elements[4]*ec+this.elements[5]}else{if(eb instanceof A){eb.x=this.elements[0]*d9+this.elements[1]*ec+this.elements[2];eb.y=this.elements[3]*d9+this.elements[4]*ec+this.elements[5];eb.z=0}}return eb},multX:function(d9,ea){return(d9*this.elements[0]+ea*this.elements[1]+this.elements[2])},multY:function(d9,ea){return(d9*this.elements[3]+ea*this.elements[4]+this.elements[5])},skewX:function(d9){this.apply(1,0,1,d9,0,0)},skewY:function(d9){this.apply(1,0,1,0,d9,0)},shearX:function(d9){this.apply(1,0,1,q.tan(d9),0,0)},shearY:function(d9){this.apply(1,0,1,0,q.tan(d9),0)},determinant:function(){return(this.elements[0]*this.elements[4]-this.elements[1]*this.elements[3])},invert:function(){var ee=this.determinant();if(q.abs(ee)>B.MIN_INT){var ea=this.elements[0];var ef=this.elements[1];var ed=this.elements[2];var ec=this.elements[3];var eb=this.elements[4];var d9=this.elements[5];this.elements[0]=eb/ee;this.elements[3]=-ec/ee;this.elements[1]=-ef/ee;this.elements[4]=ea/ee;this.elements[2]=(ef*d9-eb*ed)/ee;this.elements[5]=(ec*ed-ea*d9)/ee;return true}return false},scale:function(ea,d9){if(ea&&!d9){d9=ea}if(ea&&d9){this.elements[0]*=ea;this.elements[1]*=d9;this.elements[3]*=ea;this.elements[4]*=d9}},invScale:function(ea,d9){if(ea&&!d9){d9=ea}this.scale(1/ea,1/d9)},apply:function(){var eb;if(arguments.length===1&&arguments[0] instanceof aX){eb=arguments[0].array()}else{if(arguments.length===6){eb=Array.prototype.slice.call(arguments)}else{if(arguments.length===1&&arguments[0] instanceof Array){eb=arguments[0]}}}var d9=[0,0,this.elements[2],0,0,this.elements[5]];var ec=0;for(var ed=0;ed<2;ed++){for(var ea=0;ea<3;ea++,ec++){d9[ec]+=this.elements[ed*3+0]*eb[ea+0]+this.elements[ed*3+1]*eb[ea+3]}}this.elements=d9.slice()},preApply:function(){var ea;if(arguments.length===1&&arguments[0] instanceof aX){ea=arguments[0].array()}else{if(arguments.length===6){ea=Array.prototype.slice.call(arguments)}else{if(arguments.length===1&&arguments[0] instanceof Array){ea=arguments[0]}}}var d9=[0,0,ea[2],0,0,ea[5]];d9[2]=ea[2]+this.elements[2]*ea[0]+this.elements[5]*ea[1];d9[5]=ea[5]+this.elements[2]*ea[3]+this.elements[5]*ea[4];d9[0]=this.elements[0]*ea[0]+this.elements[3]*ea[1];d9[3]=this.elements[0]*ea[3]+this.elements[3]*ea[4];d9[1]=this.elements[1]*ea[0]+this.elements[4]*ea[1];d9[4]=this.elements[1]*ea[3]+this.elements[4]*ea[4];this.elements=d9.slice()},rotate:function(eb){var ed=q.cos(eb);var d9=q.sin(eb);var ec=this.elements[0];var ea=this.elements[1];this.elements[0]=ed*ec+d9*ea;this.elements[1]=-d9*ec+ed*ea;ec=this.elements[3];ea=this.elements[4];this.elements[3]=ed*ec+d9*ea;this.elements[4]=-d9*ec+ed*ea},rotateZ:function(d9){this.rotate(d9)},invRotateZ:function(d9){this.rotateZ(d9-q.PI)},print:function(){var ea=cl(this.elements);var d9=""+cV.nfs(this.elements[0],ea,4)+" "+cV.nfs(this.elements[1],ea,4)+" "+cV.nfs(this.elements[2],ea,4)+"\n"+cV.nfs(this.elements[3],ea,4)+" "+cV.nfs(this.elements[4],ea,4)+" "+cV.nfs(this.elements[5],ea,4)+"\n\n";cV.println(d9)}};var aP=cV.PMatrix3D=function(){this.reset()};aP.prototype={set:function(){if(arguments.length===16){this.elements=Array.prototype.slice.call(arguments)}else{if(arguments.length===1&&arguments[0] instanceof aP){this.elements=arguments[0].array()}else{if(arguments.length===1&&arguments[0] instanceof Array){this.elements=arguments[0].slice()}}}},get:function(){var d9=new aP();d9.set(this.elements);return d9},reset:function(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},array:function aE(){return this.elements.slice()},translate:function(ea,d9,eb){if(eb===t){eb=0}this.elements[3]+=ea*this.elements[0]+d9*this.elements[1]+eb*this.elements[2];this.elements[7]+=ea*this.elements[4]+d9*this.elements[5]+eb*this.elements[6];this.elements[11]+=ea*this.elements[8]+d9*this.elements[9]+eb*this.elements[10];this.elements[15]+=ea*this.elements[12]+d9*this.elements[13]+eb*this.elements[14]},transpose:function(){var d9=this.elements[4];this.elements[4]=this.elements[1];this.elements[1]=d9;d9=this.elements[8];this.elements[8]=this.elements[2];this.elements[2]=d9;d9=this.elements[6];this.elements[6]=this.elements[9];this.elements[9]=d9;d9=this.elements[3];this.elements[3]=this.elements[12];this.elements[12]=d9;d9=this.elements[7];this.elements[7]=this.elements[13];this.elements[13]=d9;d9=this.elements[11];this.elements[11]=this.elements[14];this.elements[14]=d9},mult:function(eb,ec){var d9,ee,ed,ea;if(eb instanceof A){d9=eb.x;ee=eb.y;ed=eb.z;ea=1;if(!ec){ec=new A()}}else{if(eb instanceof Array){d9=eb[0];ee=eb[1];ed=eb[2];ea=eb[3]||1;if(!ec||(ec.length!==3&&ec.length!==4)){ec=[0,0,0]}}}if(ec instanceof Array){if(ec.length===3){ec[0]=this.elements[0]*d9+this.elements[1]*ee+this.elements[2]*ed+this.elements[3];ec[1]=this.elements[4]*d9+this.elements[5]*ee+this.elements[6]*ed+this.elements[7];ec[2]=this.elements[8]*d9+this.elements[9]*ee+this.elements[10]*ed+this.elements[11]}else{if(ec.length===4){ec[0]=this.elements[0]*d9+this.elements[1]*ee+this.elements[2]*ed+this.elements[3]*ea;ec[1]=this.elements[4]*d9+this.elements[5]*ee+this.elements[6]*ed+this.elements[7]*ea;ec[2]=this.elements[8]*d9+this.elements[9]*ee+this.elements[10]*ed+this.elements[11]*ea;ec[3]=this.elements[12]*d9+this.elements[13]*ee+this.elements[14]*ed+this.elements[15]*ea}}}if(ec instanceof A){ec.x=this.elements[0]*d9+this.elements[1]*ee+this.elements[2]*ed+this.elements[3];ec.y=this.elements[4]*d9+this.elements[5]*ee+this.elements[6]*ed+this.elements[7];ec.z=this.elements[8]*d9+this.elements[9]*ee+this.elements[10]*ed+this.elements[11]}return ec},preApply:function(){var eb;if(arguments.length===1&&arguments[0] instanceof aP){eb=arguments[0].array()}else{if(arguments.length===16){eb=Array.prototype.slice.call(arguments)}else{if(arguments.length===1&&arguments[0] instanceof Array){eb=arguments[0]}}}var d9=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var ec=0;for(var ed=0;ed<4;ed++){for(var ea=0;ea<4;ea++,ec++){d9[ec]+=this.elements[ea+0]*eb[ed*4+0]+this.elements[ea+4]*eb[ed*4+1]+this.elements[ea+8]*eb[ed*4+2]+this.elements[ea+12]*eb[ed*4+3]}}this.elements=d9.slice()},apply:function(){var eb;if(arguments.length===1&&arguments[0] instanceof aP){eb=arguments[0].array()}else{if(arguments.length===16){eb=Array.prototype.slice.call(arguments)}else{if(arguments.length===1&&arguments[0] instanceof Array){eb=arguments[0]}}}var d9=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var ec=0;for(var ed=0;ed<4;ed++){for(var ea=0;ea<4;ea++,ec++){d9[ec]+=this.elements[ed*4+0]*eb[ea+0]+this.elements[ed*4+1]*eb[ea+4]+this.elements[ed*4+2]*eb[ea+8]+this.elements[ed*4+3]*eb[ea+12]}}this.elements=d9.slice()},rotate:function(ed,d9,ef,ec){if(!ef){this.rotateZ(ed)}else{var ee=cV.cos(ed);var eb=cV.sin(ed);var ea=1-ee;this.apply((ea*d9*d9)+ee,(ea*d9*ef)-(eb*ec),(ea*d9*ec)+(eb*ef),0,(ea*d9*ef)+(eb*ec),(ea*ef*ef)+ee,(ea*ef*ec)-(eb*d9),0,(ea*d9*ec)-(eb*ef),(ea*ef*ec)+(eb*d9),(ea*ec*ec)+ee,0,0,0,0,1)}},invApply:function(){if(ab===t){ab=new aP()}var d9=arguments;ab.set(d9[0],d9[1],d9[2],d9[3],d9[4],d9[5],d9[6],d9[7],d9[8],d9[9],d9[10],d9[11],d9[12],d9[13],d9[14],d9[15]);if(!ab.invert()){return false}this.preApply(ab);return true},rotateX:function(ea){var eb=cV.cos(ea);var d9=cV.sin(ea);this.apply([1,0,0,0,0,eb,-d9,0,0,d9,eb,0,0,0,0,1])},rotateY:function(ea){var eb=cV.cos(ea);var d9=cV.sin(ea);this.apply([eb,0,d9,0,0,1,0,0,-d9,0,eb,0,0,0,0,1])},rotateZ:function(ea){var eb=q.cos(ea);var d9=q.sin(ea);this.apply([eb,-d9,0,0,d9,eb,0,0,0,0,1,0,0,0,0,1])},scale:function(eb,ea,d9){if(eb&&!ea&&!d9){ea=d9=eb}else{if(eb&&ea&&!d9){d9=1}}if(eb&&ea&&d9){this.elements[0]*=eb;this.elements[1]*=ea;this.elements[2]*=d9;this.elements[4]*=eb;this.elements[5]*=ea;this.elements[6]*=d9;this.elements[8]*=eb;this.elements[9]*=ea;this.elements[10]*=d9;this.elements[12]*=eb;this.elements[13]*=ea;this.elements[14]*=d9}},skewX:function(ea){var d9=q.tan(ea);this.apply(1,d9,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},skewY:function(ea){var d9=q.tan(ea);this.apply(1,0,0,0,d9,1,0,0,0,0,1,0,0,0,0,1)},shearX:function(ea){var d9=q.tan(ea);this.apply(1,d9,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},shearY:function(ea){var d9=q.tan(ea);this.apply(1,0,0,0,d9,1,0,0,0,0,1,0,0,0,0,1)},multX:function(d9,ec,eb,ea){if(!eb){return this.elements[0]*d9+this.elements[1]*ec+this.elements[3]}if(!ea){return this.elements[0]*d9+this.elements[1]*ec+this.elements[2]*eb+this.elements[3]}return this.elements[0]*d9+this.elements[1]*ec+this.elements[2]*eb+this.elements[3]*ea},multY:function(d9,ec,eb,ea){if(!eb){return this.elements[4]*d9+this.elements[5]*ec+this.elements[7]}if(!ea){return this.elements[4]*d9+this.elements[5]*ec+this.elements[6]*eb+this.elements[7]}return this.elements[4]*d9+this.elements[5]*ec+this.elements[6]*eb+this.elements[7]*ea},multZ:function(d9,ec,eb,ea){if(!ea){return this.elements[8]*d9+this.elements[9]*ec+this.elements[10]*eb+this.elements[11]}return this.elements[8]*d9+this.elements[9]*ec+this.elements[10]*eb+this.elements[11]*ea},multW:function(d9,ec,eb,ea){if(!ea){return this.elements[12]*d9+this.elements[13]*ec+this.elements[14]*eb+this.elements[15]}return this.elements[12]*d9+this.elements[13]*ec+this.elements[14]*eb+this.elements[15]*ea},invert:function(){var ei=this.elements[0]*this.elements[5]-this.elements[1]*this.elements[4];var eh=this.elements[0]*this.elements[6]-this.elements[2]*this.elements[4];var eg=this.elements[0]*this.elements[7]-this.elements[3]*this.elements[4];var ef=this.elements[1]*this.elements[6]-this.elements[2]*this.elements[5];var ee=this.elements[1]*this.elements[7]-this.elements[3]*this.elements[5];var ed=this.elements[2]*this.elements[7]-this.elements[3]*this.elements[6];var ec=this.elements[8]*this.elements[13]-this.elements[9]*this.elements[12];var eb=this.elements[8]*this.elements[14]-this.elements[10]*this.elements[12];var ea=this.elements[8]*this.elements[15]-this.elements[11]*this.elements[12];var en=this.elements[9]*this.elements[14]-this.elements[10]*this.elements[13];var el=this.elements[9]*this.elements[15]-this.elements[11]*this.elements[13];var ek=this.elements[10]*this.elements[15]-this.elements[11]*this.elements[14];var em=ei*ek-eh*el+eg*en+ef*ea-ee*eb+ed*ec;if(q.abs(em)<=1e-9){return false}var ej=[];ej[0]=+this.elements[5]*ek-this.elements[6]*el+this.elements[7]*en;ej[4]=-this.elements[4]*ek+this.elements[6]*ea-this.elements[7]*eb;ej[8]=+this.elements[4]*el-this.elements[5]*ea+this.elements[7]*ec;ej[12]=-this.elements[4]*en+this.elements[5]*eb-this.elements[6]*ec;ej[1]=-this.elements[1]*ek+this.elements[2]*el-this.elements[3]*en;ej[5]=+this.elements[0]*ek-this.elements[2]*ea+this.elements[3]*eb;ej[9]=-this.elements[0]*el+this.elements[1]*ea-this.elements[3]*ec;ej[13]=+this.elements[0]*en-this.elements[1]*eb+this.elements[2]*ec;ej[2]=+this.elements[13]*ed-this.elements[14]*ee+this.elements[15]*ef;ej[6]=-this.elements[12]*ed+this.elements[14]*eg-this.elements[15]*eh;ej[10]=+this.elements[12]*ee-this.elements[13]*eg+this.elements[15]*ei;ej[14]=-this.elements[12]*ef+this.elements[13]*eh-this.elements[14]*ei;ej[3]=-this.elements[9]*ed+this.elements[10]*ee-this.elements[11]*ef;ej[7]=+this.elements[8]*ed-this.elements[10]*eg+this.elements[11]*eh;ej[11]=-this.elements[8]*ee+this.elements[9]*eg-this.elements[11]*ei;ej[15]=+this.elements[8]*ef-this.elements[9]*eh+this.elements[10]*ei;var d9=1/em;ej[0]*=d9;ej[1]*=d9;ej[2]*=d9;ej[3]*=d9;ej[4]*=d9;ej[5]*=d9;ej[6]*=d9;ej[7]*=d9;ej[8]*=d9;ej[9]*=d9;ej[10]*=d9;ej[11]*=d9;ej[12]*=d9;ej[13]*=d9;ej[14]*=d9;ej[15]*=d9;this.elements=ej.slice();return true},toString:function(){var ea="";for(var d9=0;d9<15;d9++){ea+=this.elements[d9]+", "}ea+=this.elements[15];return ea},print:function(){var ea=cl(this.elements);var d9=""+cV.nfs(this.elements[0],ea,4)+" "+cV.nfs(this.elements[1],ea,4)+" "+cV.nfs(this.elements[2],ea,4)+" "+cV.nfs(this.elements[3],ea,4)+"\n"+cV.nfs(this.elements[4],ea,4)+" "+cV.nfs(this.elements[5],ea,4)+" "+cV.nfs(this.elements[6],ea,4)+" "+cV.nfs(this.elements[7],ea,4)+"\n"+cV.nfs(this.elements[8],ea,4)+" "+cV.nfs(this.elements[9],ea,4)+" "+cV.nfs(this.elements[10],ea,4)+" "+cV.nfs(this.elements[11],ea,4)+"\n"+cV.nfs(this.elements[12],ea,4)+" "+cV.nfs(this.elements[13],ea,4)+" "+cV.nfs(this.elements[14],ea,4)+" "+cV.nfs(this.elements[15],ea,4)+"\n\n";cV.println(d9)},invTranslate:function(ea,d9,eb){this.preApply(1,0,0,-ea,0,1,0,-d9,0,0,1,-eb,0,0,0,1)},invRotateX:function(ea){var eb=q.cos(-ea);var d9=q.sin(-ea);this.preApply([1,0,0,0,0,eb,-d9,0,0,d9,eb,0,0,0,0,1])},invRotateY:function(ea){var eb=q.cos(-ea);var d9=q.sin(-ea);this.preApply([eb,0,d9,0,0,1,0,0,-d9,0,eb,0,0,0,0,1])},invRotateZ:function(ea){var eb=q.cos(-ea);var d9=q.sin(-ea);this.preApply([eb,-d9,0,0,d9,eb,0,0,0,0,1,0,0,0,0,1])},invScale:function(d9,eb,ea){this.preApply([1/d9,0,0,0,0,1/eb,0,0,0,0,1/ea,0,0,0,0,1])}};var V=cV.PMatrixStack=function(){this.matrixStack=[]};V.prototype.load=function(){var d9=dX.$newPMatrix();if(arguments.length===1){d9.set(arguments[0])}else{d9.set(arguments)}this.matrixStack.push(d9)};bQ.prototype.$newPMatrix=function(){return new aX()};bB.prototype.$newPMatrix=function(){return new aP()};V.prototype.push=function(){this.matrixStack.push(this.peek())};V.prototype.pop=function(){return this.matrixStack.pop()};V.prototype.peek=function(){var d9=dX.$newPMatrix();d9.set(this.matrixStack[this.matrixStack.length-1]);return d9};V.prototype.mult=function(d9){this.matrixStack[this.matrixStack.length-1].apply(d9)};cV.split=function(ea,d9){return ea.split(d9)};cV.splitTokens=function(ef,ee){if(ee===t){return ef.split(/\s+/g)}var ec=ee.split(/()/g),ea="",d9=ef.length,eb,eg,ed=[];for(eb=0;eb<d9;eb++){eg=ef[eb];if(ec.indexOf(eg)>-1){if(ea!==""){ed.push(ea)}ea=""}else{ea+=eg}}if(ea!==""){ed.push(ea)}return ed};cV.append=function(ea,d9){ea[ea.length]=d9;return ea};cV.concat=function(ea,d9){return ea.concat(d9)};cV.sort=function(ee,ec){var ea=[];if(ee.length>0){var ed=ec>0?ec:ee.length;for(var eb=0;eb<ed;eb++){ea.push(ee[eb])}if(typeof ee[0]==="string"){ea.sort()}else{ea.sort(function(eg,ef){return eg-ef})}if(ec>0){for(var d9=ea.length;d9<ee.length;d9++){ea.push(ee[d9])}}}return ea};cV.splice=function(ed,ec,ea){if(ec.length===0){return ed}if(ec instanceof Array){for(var eb=0,d9=ea;eb<ec.length;d9++,eb++){ed.splice(d9,0,ec[eb])}}else{ed.splice(ea,0,ec)}return ed};cV.subset=function(ec,eb,ea){var d9=(ea!==t)?eb+ea:ec.length;return ec.slice(eb,d9)};cV.join=function(ea,d9){return ea.join(d9)};cV.shorten=function(ec){var ea=[];var d9=ec.length;for(var eb=0;eb<d9;eb++){ea[eb]=ec[eb]}ea.pop();return ea};cV.expand=function(eb,ec){var ea=eb.slice(0),d9=ec||eb.length*2;ea.length=d9;return ea};cV.arrayCopy=function(){var ef,ed=0,eb,ea=0,ee;if(arguments.length===2){ef=arguments[0];eb=arguments[1];ee=ef.length}else{if(arguments.length===3){ef=arguments[0];eb=arguments[1];ee=arguments[2]}else{if(arguments.length===5){ef=arguments[0];ed=arguments[1];eb=arguments[2];ea=arguments[3];ee=arguments[4]}}}for(var ec=ed,d9=ea;ec<ee+ed;ec++,d9++){if(eb[d9]!==t){eb[d9]=ef[ec]}else{throw"array index out of bounds exception"}}};cV.reverse=function(d9){return d9.reverse()};cV.mix=function(ea,d9,eb){return ea+(((d9-ea)*eb)>>8)};cV.peg=function(d9){return(d9<0)?0:((d9>255)?255:d9)};cV.modes=(function(){var ee=B.ALPHA_MASK,eb=B.RED_MASK,ea=B.GREEN_MASK,ed=B.BLUE_MASK,ec=q.min,d9=q.max;function ef(ek,en,ej,es,eu,et,el,ep,eo,eh,ei){var er=ec(((ek&4278190080)>>>24)+en,255)<<24;var eg=(ej+(((eo-ej)*en)>>8));eg=((eg<0)?0:((eg>255)?255:eg))<<16;var em=(es+(((eh-es)*en)>>8));em=((em<0)?0:((em>255)?255:em))<<8;var eq=eu+(((ei-eu)*en)>>8);eq=(eq<0)?0:((eq>255)?255:eq);return(er|eg|em|eq)}return{replace:function(eh,eg){return eg},blend:function(ei,eh){var ek=(eh&ee)>>>24,eg=(ei&eb),em=(ei&ea),eo=(ei&ed),en=(eh&eb),ej=(eh&ea),el=(eh&ed);return(ec(((ei&ee)>>>24)+ek,255)<<24|(eg+(((en-eg)*ek)>>8))&eb|(em+(((ej-em)*ek)>>8))&ea|(eo+(((el-eo)*ek)>>8))&ed)},add:function(eh,eg){var ei=(eg&ee)>>>24;return(ec(((eh&ee)>>>24)+ei,255)<<24|ec(((eh&eb)+((eg&eb)>>8)*ei),eb)&eb|ec(((eh&ea)+((eg&ea)>>8)*ei),ea)&ea|ec((eh&ed)+(((eg&ed)*ei)>>8),ed))},subtract:function(eh,eg){var ei=(eg&ee)>>>24;return(ec(((eh&ee)>>>24)+ei,255)<<24|d9(((eh&eb)-((eg&eb)>>8)*ei),ea)&eb|d9(((eh&ea)-((eg&ea)>>8)*ei),ed)&ea|d9((eh&ed)-(((eg&ed)*ei)>>8),0))},lightest:function(eh,eg){var ei=(eg&ee)>>>24;return(ec(((eh&ee)>>>24)+ei,255)<<24|d9(eh&eb,((eg&eb)>>8)*ei)&eb|d9(eh&ea,((eg&ea)>>8)*ei)&ea|d9(eh&ed,((eg&ed)*ei)>>8))},darkest:function(ei,eh){var ek=(eh&ee)>>>24,eg=(ei&eb),em=(ei&ea),eo=(ei&ed),en=ec(ei&eb,((eh&eb)>>8)*ek),ej=ec(ei&ea,((eh&ea)>>8)*ek),el=ec(ei&ed,((eh&ed)*ek)>>8);return(ec(((ei&ee)>>>24)+ek,255)<<24|(eg+(((en-eg)*ek)>>8))&eb|(em+(((ej-em)*ek)>>8))&ea|(eo+(((el-eo)*ek)>>8))&ed)},difference:function(ek,ej){var em=(ej&ee)>>>24,ei=(ek&eb)>>16,ep=(ek&ea)>>8,er=(ek&ed),eq=(ej&eb)>>16,el=(ej&ea)>>8,eo=(ej&ed),en=(ei>eq)?(ei-eq):(eq-ei),eg=(ep>el)?(ep-el):(el-ep),eh=(er>eo)?(er-eo):(eo-er);return ef(ek,em,ei,ep,er,eq,el,eo,en,eg,eh)},exclusion:function(ek,ej){var em=(ej&ee)>>>24,ei=(ek&eb)>>16,ep=(ek&ea)>>8,er=(ek&ed),eq=(ej&eb)>>16,el=(ej&ea)>>8,eo=(ej&ed),en=ei+eq-((ei*eq)>>7),eg=ep+el-((ep*el)>>7),eh=er+eo-((er*eo)>>7);return ef(ek,em,ei,ep,er,eq,el,eo,en,eg,eh)},multiply:function(ek,ej){var em=(ej&ee)>>>24,ei=(ek&eb)>>16,ep=(ek&ea)>>8,er=(ek&ed),eq=(ej&eb)>>16,el=(ej&ea)>>8,eo=(ej&ed),en=(ei*eq)>>8,eg=(ep*el)>>8,eh=(er*eo)>>8;return ef(ek,em,ei,ep,er,eq,el,eo,en,eg,eh)},screen:function(ek,ej){var em=(ej&ee)>>>24,ei=(ek&eb)>>16,ep=(ek&ea)>>8,er=(ek&ed),eq=(ej&eb)>>16,el=(ej&ea)>>8,eo=(ej&ed),en=255-(((255-ei)*(255-eq))>>8),eg=255-(((255-ep)*(255-el))>>8),eh=255-(((255-er)*(255-eo))>>8);return ef(ek,em,ei,ep,er,eq,el,eo,en,eg,eh)},hard_light:function(ek,ej){var em=(ej&ee)>>>24,ei=(ek&eb)>>16,ep=(ek&ea)>>8,er=(ek&ed),eq=(ej&eb)>>16,el=(ej&ea)>>8,eo=(ej&ed),en=(eq<128)?((ei*eq)>>7):(255-(((255-ei)*(255-eq))>>7)),eg=(el<128)?((ep*el)>>7):(255-(((255-ep)*(255-el))>>7)),eh=(eo<128)?((er*eo)>>7):(255-(((255-er)*(255-eo))>>7));return ef(ek,em,ei,ep,er,eq,el,eo,en,eg,eh)},soft_light:function(ek,ej){var em=(ej&ee)>>>24,ei=(ek&eb)>>16,ep=(ek&ea)>>8,er=(ek&ed),eq=(ej&eb)>>16,el=(ej&ea)>>8,eo=(ej&ed),en=((ei*eq)>>7)+((ei*ei)>>8)-((ei*ei*eq)>>15),eg=((ep*el)>>7)+((ep*ep)>>8)-((ep*ep*el)>>15),eh=((er*eo)>>7)+((er*er)>>8)-((er*er*eo)>>15);return ef(ek,em,ei,ep,er,eq,el,eo,en,eg,eh)},overlay:function(ek,ej){var em=(ej&ee)>>>24,ei=(ek&eb)>>16,ep=(ek&ea)>>8,er=(ek&ed),eq=(ej&eb)>>16,el=(ej&ea)>>8,eo=(ej&ed),en=(ei<128)?((ei*eq)>>7):(255-(((255-ei)*(255-eq))>>7)),eg=(ep<128)?((ep*el)>>7):(255-(((255-ep)*(255-el))>>7)),eh=(er<128)?((er*eo)>>7):(255-(((255-er)*(255-eo))>>7));return ef(ek,em,ei,ep,er,eq,el,eo,en,eg,eh)},dodge:function(ek,ej){var em=(ej&ee)>>>24,ei=(ek&eb)>>16,ep=(ek&ea)>>8,er=(ek&ed),eq=(ej&eb)>>16,el=(ej&ea)>>8,eo=(ej&ed);var en=255;if(eq!==255){en=(ei<<8)/(255-eq);en=(en<0)?0:((en>255)?255:en)}var eg=255;if(el!==255){eg=(ep<<8)/(255-el);eg=(eg<0)?0:((eg>255)?255:eg)}var eh=255;if(eo!==255){eh=(er<<8)/(255-eo);eh=(eh<0)?0:((eh>255)?255:eh)}return ef(ek,em,ei,ep,er,eq,el,eo,en,eg,eh)},burn:function(ek,ej){var em=(ej&ee)>>>24,ei=(ek&eb)>>16,ep=(ek&ea)>>8,er=(ek&ed),eq=(ej&eb)>>16,el=(ej&ea)>>8,eo=(ej&ed);var en=0;if(eq!==0){en=((255-ei)<<8)/eq;en=255-((en<0)?0:((en>255)?255:en))}var eg=0;if(el!==0){eg=((255-ep)<<8)/el;eg=255-((eg<0)?0:((eg>255)?255:eg))}var eh=0;if(eo!==0){eh=((255-er)<<8)/eo;eh=255-((eh<0)?0:((eh>255)?255:eh))}return ef(ek,em,ei,ep,er,eq,el,eo,en,eg,eh)}}}());function dG(ee,ed,eb,ea){var d9,ec,eg,eh;if(cX===B.HSB){var ef=cV.color.toRGB(ee,ed,eb);d9=ef[0];ec=ef[1];eg=ef[2]}else{d9=q.round(255*(ee/bI));ec=q.round(255*(ed/bH));eg=q.round(255*(eb/bF))}eh=q.round(255*(ea/bT));d9=(d9<0)?0:d9;ec=(ec<0)?0:ec;eg=(eg<0)?0:eg;eh=(eh<0)?0:eh;d9=(d9>255)?255:d9;ec=(ec>255)?255:ec;eg=(eg>255)?255:eg;eh=(eh>255)?255:eh;return(eh<<24)&B.ALPHA_MASK|(d9<<16)&B.RED_MASK|(ec<<8)&B.GREEN_MASK|eg&B.BLUE_MASK}function dJ(d9,eb){var ea;if(d9&B.ALPHA_MASK){ea=q.round(255*(eb/bT));ea=(ea>255)?255:ea;ea=(ea<0)?0:ea;return d9-(d9&B.ALPHA_MASK)+((ea<<24)&B.ALPHA_MASK)}if(cX===B.RGB){return dG(d9,d9,d9,eb)}if(cX===B.HSB){return dG(0,0,(d9/bI)*bF,eb)}}function dL(d9){if(d9<=bI&&d9>=0){if(cX===B.RGB){return dG(d9,d9,d9,bT)}if(cX===B.HSB){return dG(0,0,(d9/bI)*bF,bT)}}if(d9){if(d9>2147483647){d9-=4294967296}return d9}}cV.color=function(d9,ec,eb,ea){if(d9!==t&&ec!==t&&eb!==t&&ea!==t){return dG(d9,ec,eb,ea)}if(d9!==t&&ec!==t&&eb!==t){return dG(d9,ec,eb,bT)}if(d9!==t&&ec!==t){return dJ(d9,ec)}if(typeof d9==="number"){return dL(d9)}return dG(bI,bH,bF,bT)};cV.color.toString=function(d9){return"rgba("+((d9&B.RED_MASK)>>>16)+","+((d9&B.GREEN_MASK)>>>8)+","+((d9&B.BLUE_MASK))+","+((d9&B.ALPHA_MASK)>>>24)/255+")"};cV.color.toInt=function(ec,eb,d9,ea){return(ea<<24)&B.ALPHA_MASK|(ec<<16)&B.RED_MASK|(eb<<8)&B.GREEN_MASK|d9&B.BLUE_MASK};cV.color.toArray=function(d9){return[(d9&B.RED_MASK)>>>16,(d9&B.GREEN_MASK)>>>8,d9&B.BLUE_MASK,(d9&B.ALPHA_MASK)>>>24]};cV.color.toGLArray=function(d9){return[((d9&B.RED_MASK)>>>16)/255,((d9&B.GREEN_MASK)>>>8)/255,(d9&B.BLUE_MASK)/255,((d9&B.ALPHA_MASK)>>>24)/255]};cV.color.toRGB=function(eb,eh,ee){eb=(eb>bI)?bI:eb;eh=(eh>bH)?bH:eh;ee=(ee>bF)?bF:ee;eb=(eb/bI)*360;eh=(eh/bH)*100;ee=(ee/bF)*100;var eg=q.round(ee/100*255);if(eh===0){return[eg,eg,eg]}var ec=eb%360;var ed=ec%60;var ea=q.round((ee*(100-eh))/10000*255);var d9=q.round((ee*(6000-eh*ed))/600000*255);var ef=q.round((ee*(6000-eh*(60-ed)))/600000*255);switch(q.floor(ec/60)){case 0:return[eg,ef,ea];case 1:return[d9,eg,ea];case 2:return[ea,eg,ef];case 3:return[ea,d9,eg];case 4:return[ef,ea,eg];case 5:return[eg,ea,d9]}};function aS(eg){var ef,ee,ea;ef=((eg&B.RED_MASK)>>>16)/255;ee=((eg&B.GREEN_MASK)>>>8)/255;ea=(eg&B.BLUE_MASK)/255;var d9=cV.max(cV.max(ef,ee),ea),ec=cV.min(cV.min(ef,ee),ea),eb,ed;if(ec===d9){return[0,0,d9*bF]}ed=(d9-ec)/d9;if(ef===d9){eb=(ee-ea)/(d9-ec)}else{if(ee===d9){eb=2+((ea-ef)/(d9-ec))}else{eb=4+((ef-ee)/(d9-ec))}}eb/=6;if(eb<0){eb+=1}else{if(eb>1){eb-=1}}return[eb*bI,ed*bH,d9*bF]}cV.brightness=function(d9){return aS(d9)[2]};cV.saturation=function(d9){return aS(d9)[1]};cV.hue=function(d9){return aS(d9)[0]};cV.red=function(d9){return((d9&B.RED_MASK)>>>16)/255*bI};cV.green=function(d9){return((d9&B.GREEN_MASK)>>>8)/255*bH};cV.blue=function(d9){return(d9&B.BLUE_MASK)/255*bF};cV.alpha=function(d9){return((d9&B.ALPHA_MASK)>>>24)/255*bT};cV.lerpColor=function(el,ek,ee){var ej,ep,eq,er,en,d9,ef,et,em,eu,ed,es;var eh,eg,ea,eo,ei;var ec=cV.color(el);var eb=cV.color(ek);if(cX===B.HSB){eh=aS(ec);et=((ec&B.ALPHA_MASK)>>>24)/bT;eg=aS(eb);es=((eb&B.ALPHA_MASK)>>>24)/bT;eo=cV.lerp(eh[0],eg[0],ee);ei=cV.lerp(eh[1],eg[1],ee);eq=cV.lerp(eh[2],eg[2],ee);ea=cV.color.toRGB(eo,ei,eq);er=cV.lerp(et,es,ee)*bT;return(er<<24)&B.ALPHA_MASK|(ea[0]<<16)&B.RED_MASK|(ea[1]<<8)&B.GREEN_MASK|ea[2]&B.BLUE_MASK}en=(ec&B.RED_MASK)>>>16;d9=(ec&B.GREEN_MASK)>>>8;ef=(ec&B.BLUE_MASK);et=((ec&B.ALPHA_MASK)>>>24)/bT;em=(eb&B.RED_MASK)>>>16;eu=(eb&B.GREEN_MASK)>>>8;ed=(eb&B.BLUE_MASK);es=((eb&B.ALPHA_MASK)>>>24)/bT;ej=cV.lerp(en,em,ee)|0;ep=cV.lerp(d9,eu,ee)|0;eq=cV.lerp(ef,ed,ee)|0;er=cV.lerp(et,es,ee)*bT;return(er<<24)&B.ALPHA_MASK|(ej<<16)&B.RED_MASK|(ep<<8)&B.GREEN_MASK|eq&B.BLUE_MASK};cV.colorMode=function(){cX=arguments[0];if(arguments.length>1){bI=arguments[1];bH=arguments[2]||arguments[1];bF=arguments[3]||arguments[1];bT=arguments[4]||arguments[1]}};cV.blendColor=function(ea,d9,eb){if(eb===B.REPLACE){return cV.modes.replace(ea,d9)}else{if(eb===B.BLEND){return cV.modes.blend(ea,d9)}else{if(eb===B.ADD){return cV.modes.add(ea,d9)}else{if(eb===B.SUBTRACT){return cV.modes.subtract(ea,d9)}else{if(eb===B.LIGHTEST){return cV.modes.lightest(ea,d9)}else{if(eb===B.DARKEST){return cV.modes.darkest(ea,d9)}else{if(eb===B.DIFFERENCE){return cV.modes.difference(ea,d9)}else{if(eb===B.EXCLUSION){return cV.modes.exclusion(ea,d9)}else{if(eb===B.MULTIPLY){return cV.modes.multiply(ea,d9)}else{if(eb===B.SCREEN){return cV.modes.screen(ea,d9)}else{if(eb===B.HARD_LIGHT){return cV.modes.hard_light(ea,d9)}else{if(eb===B.SOFT_LIGHT){return cV.modes.soft_light(ea,d9)}else{if(eb===B.OVERLAY){return cV.modes.overlay(ea,d9)}else{if(eb===B.DODGE){return cV.modes.dodge(ea,d9)}else{if(eb===B.BURN){return cV.modes.burn(ea,d9)}}}}}}}}}}}}}}}};function aD(){d7.save()}function cO(){d7.restore();b2=true;aq=true}cV.printMatrix=function(){dI.print()};bQ.prototype.translate=function(d9,ea){dI.translate(d9,ea);aT.invTranslate(d9,ea);d7.translate(d9,ea)};bB.prototype.translate=function(d9,eb,ea){dI.translate(d9,eb,ea);aT.invTranslate(d9,eb,ea)};bQ.prototype.scale=function(d9,ea){dI.scale(d9,ea);aT.invScale(d9,ea);d7.scale(d9,ea||d9)};bB.prototype.scale=function(d9,eb,ea){dI.scale(d9,eb,ea);aT.invScale(d9,eb,ea)};bQ.prototype.transform=function(ea){var d9=ea.array();d7.transform(d9[0],d9[3],d9[1],d9[4],d9[2],d9[5])};bB.prototype.transformm=function(d9){throw ("p.transform is currently not supported in 3D mode")};bQ.prototype.pushMatrix=function(){am.load(dI);c9.load(aT);aD()};bB.prototype.pushMatrix=function(){am.load(dI);c9.load(aT)};bQ.prototype.popMatrix=function(){dI.set(am.pop());aT.set(c9.pop());cO()};bB.prototype.popMatrix=function(){dI.set(am.pop());aT.set(c9.pop())};bQ.prototype.resetMatrix=function(){dI.reset();aT.reset();d7.setTransform(1,0,0,1,0,0)};bB.prototype.resetMatrix=function(){dI.reset();aT.reset()};dr.prototype.applyMatrix=function(){var d9=arguments;dI.apply(d9[0],d9[1],d9[2],d9[3],d9[4],d9[5],d9[6],d9[7],d9[8],d9[9],d9[10],d9[11],d9[12],d9[13],d9[14],d9[15]);aT.invApply(d9[0],d9[1],d9[2],d9[3],d9[4],d9[5],d9[6],d9[7],d9[8],d9[9],d9[10],d9[11],d9[12],d9[13],d9[14],d9[15])};bQ.prototype.applyMatrix=function(){var d9=arguments;for(var ea=d9.length;ea<16;ea++){d9[ea]=0}d9[10]=d9[15]=1;dr.prototype.applyMatrix.apply(this,d9)};cV.rotateX=function(d9){dI.rotateX(d9);aT.invRotateX(d9)};bQ.prototype.rotateZ=function(){throw"rotateZ() is not supported in 2D mode. Use rotate(float) instead."};bB.prototype.rotateZ=function(d9){dI.rotateZ(d9);aT.invRotateZ(d9)};cV.rotateY=function(d9){dI.rotateY(d9);aT.invRotateY(d9)};bQ.prototype.rotate=function(d9){dI.rotateZ(d9);aT.invRotateZ(d9);d7.rotate(d9)};bB.prototype.rotate=function(d9){cV.rotateZ(d9)};bQ.prototype.shearX=function(d9){dI.shearX(d9);d7.transform(1,0,d9,1,0,0)};bB.prototype.shearX=function(d9){dI.shearX(d9)};bQ.prototype.shearY=function(d9){dI.shearY(d9);d7.transform(1,d9,0,1,0,0)};bB.prototype.shearY=function(d9){dI.shearY(d9)};cV.pushStyle=function(){aD();cV.pushMatrix();var d9={doFill:aH,currentFillColor:a1,doStroke:cd,currentStrokeColor:cu,curTint:bf,curRectMode:bJ,curColorMode:cX,colorModeX:bI,colorModeZ:bF,colorModeY:bH,colorModeA:bT,curTextFont:W,horizontalTextAlignment:N,verticalTextAlignment:c0,textMode:cH,curFontName:Y,curTextSize:dZ,curTextAscent:a3,curTextDescent:dz,curTextLeading:d6};bm.push(d9)};cV.popStyle=function(){var d9=bm.pop();if(d9){cO();cV.popMatrix();aH=d9.doFill;a1=d9.currentFillColor;cd=d9.doStroke;cu=d9.currentStrokeColor;bf=d9.curTint;bJ=d9.curRectMode;cX=d9.curColorMode;bI=d9.colorModeX;bF=d9.colorModeZ;bH=d9.colorModeY;bT=d9.colorModeA;W=d9.curTextFont;Y=d9.curFontName;dZ=d9.curTextSize;N=d9.horizontalTextAlignment;c0=d9.verticalTextAlignment;cH=d9.textMode;a3=d9.curTextAscent;dz=d9.curTextDescent;d6=d9.curTextLeading}else{throw"Too many popStyle() without enough pushStyle()"}};cV.year=function(){return new Date().getFullYear()};cV.month=function(){return new Date().getMonth()+1};cV.day=function(){return new Date().getDate()};cV.hour=function(){return new Date().getHours()};cV.minute=function(){return new Date().getMinutes()};cV.second=function(){return new Date().getSeconds()};cV.millis=function(){return Date.now()-dp};function cs(){var d9=(Date.now()-ds)/1000;P++;var ea=P/d9;if(d9>0.5){ds=Date.now();P=0;cV.__frameRate=ea}cV.frameCount++}bQ.prototype.redraw=function(){cs();d7.lineWidth=dV;var d9=cV.pmouseX,ea=cV.pmouseY;cV.pmouseX=dM;cV.pmouseY=d4;aD();cV.draw();cO();dM=cV.mouseX;d4=cV.mouseY;cV.pmouseX=d9;cV.pmouseY=ea};bB.prototype.redraw=function(){cs();var d9=cV.pmouseX,ea=cV.pmouseY;cV.pmouseX=dM;cV.pmouseY=d4;d7.clear(d7.DEPTH_BUFFER_BIT);dB={attributes:{},locations:{}};cV.noLights();cV.lightFalloff(1,0,0);cV.shininess(1);cV.ambient(255,255,255);cV.specular(0,0,0);cV.emissive(0,0,0);cV.camera();cV.draw();dM=cV.mouseX;d4=cV.mouseY;cV.pmouseX=d9;cV.pmouseY=ea};cV.noLoop=function(){aC=false;ax=false;clearInterval(b3);cP.onPause()};cV.loop=function(){if(ax){return}ds=Date.now();P=0;b3=D.setInterval(function(){try{cP.onFrameStart();cV.redraw();cP.onFrameEnd()}catch(d9){D.clearInterval(b3);throw d9}},az);aC=true;ax=true;cP.onLoop()};cV.frameRate=function(d9){dT=d9;az=1000/dT;if(aC){cV.noLoop();cV.loop()}};var au=[];function bN(eb,ea,d9){if(eb.addEventListener){eb.addEventListener(ea,d9,false)}else{eb.attachEvent("on"+ea,d9)}au.push({elem:eb,type:ea,fn:d9})}function dd(d9){var ec=d9.elem,eb=d9.type,ea=d9.fn;if(ec.removeEventListener){ec.removeEventListener(eb,ea,false)}else{if(ec.detachEvent){ec.detachEvent("on"+eb,ea)}}}cV.exit=function(){D.clearInterval(b3);L(cV.externals.canvas.id);delete (ae.onmousedown);for(var ea in F.lib){if(F.lib.hasOwnProperty(ea)){if(F.lib[ea].hasOwnProperty("detach")){F.lib[ea].detach(cV)}}}var d9=au.length;while(d9--){dd(au[d9])}cP.onExit()};cV.cursor=function(){if(arguments.length>1||(arguments.length===1&&arguments[0] instanceof cV.PImage)){var ec=arguments[0],d9,ee;if(arguments.length>=3){d9=arguments[1];ee=arguments[2];if(d9<0||ee<0||ee>=ec.height||d9>=ec.width){throw"x and y must be non-negative and less than the dimensions of the image"}}else{d9=ec.width>>>1;ee=ec.height>>>1}var ea=ec.toDataURL();var eb='url("'+ea+'") '+d9+" "+ee+", default";Z=ae.style.cursor=eb}else{if(arguments.length===1){var ed=arguments[0];Z=ae.style.cursor=ed}else{Z=ae.style.cursor=cj}}};cV.noCursor=function(){Z=ae.style.cursor=B.NOCURSOR};cV.link=function(d9,ea){if(ea!==t){D.open(d9,ea)}else{D.location=d9}};cV.beginDraw=G;cV.endDraw=G;bQ.prototype.toImageData=function(d9,ec,ea,eb){d9=d9!==t?d9:0;ec=ec!==t?ec:0;ea=ea!==t?ea:cV.width;eb=eb!==t?eb:cV.height;return d7.getImageData(d9,ec,ea,eb)};bB.prototype.toImageData=function(eh,eg,ei,ed){eh=eh!==t?eh:0;eg=eg!==t?eg:0;ei=ei!==t?ei:cV.width;ed=ed!==t?ed:cV.height;var ef=d.createElement("canvas"),ej=ef.getContext("2d"),ec=ej.createImageData(ei,ed),ea=new b(ei*ed*4);d7.readPixels(eh,eg,ei,ed,d7.RGBA,d7.UNSIGNED_BYTE,ea);for(var eb=0,ee=ea.length,d9=ec.data;eb<ee;eb++){d9[eb]=ea[(ed-1-q.floor(eb/4/ei))*ei*4+(eb%(ei*4))]}return ec};cV.status=function(d9){D.status=d9};cV.binary=function(ea,eb){var ec;if(eb>0){ec=eb}else{if(ea instanceof bO){ec=16;ea|=0}else{ec=32;while(ec>1&&!((ea>>>(ec-1))&1)){ec--}}}var d9="";while(ec>0){d9+=((ea>>>(--ec))&1)?"1":"0"}return d9};cV.unbinary=function(ea){var ec=ea.length-1,eb=1,d9=0;while(ec>=0){var ed=ea[ec--];if(ed!=="0"&&ed!=="1"){throw"the value passed into unbinary was not an 8 bit binary number"}if(ed==="1"){d9+=eb}eb<<=1}return d9};function cW(el,ej,ed,eo,ef,em){var eb=(el<0)?ed:ej;var ea=ef===0;var ek=(ef===t||ef<0)?0:ef;var ei=q.abs(el);if(ea){ek=1;ei*=10;while(q.abs(q.round(ei)-ei)>0.000001&&ek<7){++ek;ei*=10}}else{if(ek!==0){ei*=q.pow(10,ek)}}var ec,eh=ei*2;if(q.floor(ei)===ei){ec=ei}else{if(q.floor(eh)===eh){var d9=q.floor(ei);ec=d9+(d9%2)}else{ec=q.round(ei)}}var ee="";var en=eo+ek;while(en>0||ec>0){en--;ee=""+(ec%10)+ee;ec=q.floor(ec/10)}if(em!==t){var eg=ee.length-3-ek;while(eg>0){ee=ee.substring(0,eg)+em+ee.substring(eg);eg-=3}}if(ek>0){return eb+ee.substring(0,ee.length-ek)+"."+ee.substring(ee.length-ek,ee.length)}return eb+ee}function ao(ef,ee,d9,eh,ea,eg){if(ef instanceof Array){var ec=[];for(var eb=0,ed=ef.length;eb<ed;eb++){ec.push(cW(ef[eb],ee,d9,eh,ea,eg))}return ec}return cW(ef,ee,d9,eh,ea,eg)}cV.nf=function(eb,d9,ea){return ao(eb,"","-",d9,ea)};cV.nfs=function(eb,d9,ea){return ao(eb," ","-",d9,ea)};cV.nfp=function(eb,d9,ea){return ao(eb,"+","-",d9,ea)};cV.nfc=function(ea,d9){return ao(ea,"","-",0,d9,",")};var aM=function(eb,ea){ea=(ea===t||ea===null)?ea=8:ea;if(eb<0){eb=4294967295+eb+1}var d9=Number(eb).toString(16).toUpperCase();while(d9.length<ea){d9="0"+d9}if(d9.length>=ea){d9=d9.substring(d9.length-ea,d9.length)}return d9};cV.hex=function(ea,d9){if(arguments.length===1){if(ea instanceof bO){d9=4}else{d9=8}}return aM(ea,d9)};function dE(d9){var ea=parseInt("0x"+d9,16);if(ea>2147483647){ea-=4294967296}return ea}cV.unhex=function(eb){if(eb instanceof Array){var d9=[];for(var ea=0;ea<eb.length;ea++){d9.push(dE(eb[ea]))}return d9}return dE(eb)};cV.loadStrings=function(ea){if(localStorage[ea]){return localStorage[ea].split("\n")}var d9=w(ea);if(typeof d9!=="string"||d9===""){return[]}d9=d9.replace(/(\r\n?)/g,"\n").replace(/\n$/,"");return d9.split("\n")};cV.saveStrings=function(ea,d9){localStorage[ea]=d9.join("\n")};cV.loadBytes=function(eb){var ea=w(eb);var d9=[];for(var ec=0;ec<ea.length;ec++){d9.push(ea.charCodeAt(ec))}return d9};function bc(d9){return Array.prototype.slice.call(d9,1)}cV.matchAll=function(ea,d9){var ec=[],eb;var ed=new RegExp(d9,"g");while((eb=ed.exec(ea))!==null){ec.push(eb);if(eb[0].length===0){++ed.lastIndex}}return ec.length>0?ec:null};cV.__contains=function(ea,d9){if(typeof ea!=="string"){return ea.contains.apply(ea,bc(arguments))}return((ea!==null)&&(d9!==null)&&(typeof d9==="string")&&(ea.indexOf(d9)>-1))};cV.__replaceAll=function(d9,eb,ea){if(typeof d9!=="string"){return d9.replaceAll.apply(d9,bc(arguments))}return d9.replace(new RegExp(eb,"g"),ea)};cV.__replaceFirst=function(d9,eb,ea){if(typeof d9!=="string"){return d9.replaceFirst.apply(d9,bc(arguments))}return d9.replace(new RegExp(eb,""),ea)};cV.__replace=function(ec,ee,ed){if(typeof ec!=="string"){return ec.replace.apply(ec,bc(arguments))}if(ee instanceof RegExp){return ec.replace(ee,ed)}if(typeof ee!=="string"){ee=ee.toString()}if(ee===""){return ec}var eb=ec.indexOf(ee);if(eb<0){return ec}var ea=0,d9="";do{d9+=ec.substring(ea,eb)+ed;ea=eb+ee.length}while((eb=ec.indexOf(ee,ea))>=0);return d9+ec.substring(ea)};cV.__equals=function(ea,d9){if(ea.equals instanceof Function){return ea.equals.apply(ea,bc(arguments))}return r(ea,d9)};cV.__equalsIgnoreCase=function(ea,d9){if(typeof ea!=="string"){return ea.equalsIgnoreCase.apply(ea,bc(arguments))}return ea.toLowerCase()===d9.toLowerCase()};cV.__toCharArray=function(eb){if(typeof eb!=="string"){return eb.toCharArray.apply(eb,bc(arguments))}var ec=[];for(var ea=0,d9=eb.length;ea<d9;++ea){ec[ea]=new bO(eb.charAt(ea))}return ec};cV.__split=function(ec,ed,ea){if(typeof ec!=="string"){return ec.split.apply(ec,bc(arguments))}var ef=new RegExp(ed);if((ea===t)||(ea<1)){return ec.split(ef)}var d9=[],ee=ec,eg;while(((eg=ee.search(ef))!==-1)&&(d9.length<(ea-1))){var eb=ef.exec(ee).toString();d9.push(ee.substring(0,eg));ee=ee.substring(eg+eb.length)}if((eg!==-1)||(ee!=="")){d9.push(ee)}return d9};cV.__codePointAt=function(ec,ea){var ed=ec.charCodeAt(ea),eb,d9;if(55296<=ed&&ed<=56319){eb=ed;d9=ec.charCodeAt(ea+1);return((eb-55296)*1024)+(d9-56320)+65536}return ed};cV.match=function(ea,d9){return ea.match(d9)};cV.__matches=function(ea,d9){return(new RegExp(d9)).test(ea)};cV.__startsWith=function(d9,eb,ea){if(typeof d9!=="string"){return d9.startsWith.apply(d9,bc(arguments))}ea=ea||0;if(ea<0||ea>d9.length){return false}return(eb===""||eb===d9)?true:(d9.indexOf(eb)===ea)};cV.__endsWith=function(ea,eb){if(typeof ea!=="string"){return ea.endsWith.apply(ea,bc(arguments))}var d9=eb?eb.length:0;return(eb===""||eb===ea)?true:(ea.indexOf(eb)===ea.length-d9)};cV.__hashCode=function(d9){if(d9.hashCode instanceof Function){return d9.hashCode.apply(d9,bc(arguments))}return h(d9)};cV.__printStackTrace=function(d9){cV.println("Exception: "+d9.toString())};var d8=[];cV.println=function(ea){var eb=d8.length;var d9="";if(eb){d9=d8.join("");d8.length=0}if(arguments.length===0&&eb===0){F.logger.log(d9+"")}else{if(arguments.length!==0){F.logger.log(d9+ea)}}};cV.print=function(d9){d8.push(d9)};cV.str=function(eb){if(eb instanceof Array){var d9=[];for(var ea=0;ea<eb.length;ea++){d9.push(eb[ea].toString()+"")}return d9}return(eb.toString()+"")};cV.trim=function(eb){if(eb instanceof Array){var d9=[];for(var ea=0;ea<eb.length;ea++){d9.push(eb[ea].replace(/^\s*/,"").replace(/\s*$/,"").replace(/\r*$/,""))}return d9}return eb.replace(/^\s*/,"").replace(/\s*$/,"").replace(/\r*$/,"")};function aR(d9){if(typeof d9==="number"){return d9!==0}if(typeof d9==="boolean"){return d9}if(typeof d9==="string"){return d9.toLowerCase()==="true"}if(d9 instanceof bO){return d9.code===49||d9.code===84||d9.code===116}}cV.parseBoolean=function(eb){if(eb instanceof Array){var d9=[];for(var ea=0;ea<eb.length;ea++){d9.push(aR(eb[ea]))}return d9}return aR(eb)};cV.parseByte=function(eb){if(eb instanceof Array){var d9=[];for(var ea=0;ea<eb.length;ea++){d9.push((0-(eb[ea]&128))|(eb[ea]&127))}return d9}return(0-(eb&128))|(eb&127)};cV.parseChar=function(eb){if(typeof eb==="number"){return new bO(String.fromCharCode(eb&65535))}if(eb instanceof Array){var d9=[];for(var ea=0;ea<eb.length;ea++){d9.push(new bO(String.fromCharCode(eb[ea]&65535)))}return d9}throw"char() may receive only one argument of type int, byte, int[], or byte[]."};function cN(d9){if(typeof d9==="number"){return d9}if(typeof d9==="boolean"){return d9?1:0}if(typeof d9==="string"){return parseFloat(d9)}if(d9 instanceof bO){return d9.code}}cV.parseFloat=function(eb){if(eb instanceof Array){var d9=[];for(var ea=0;ea<eb.length;ea++){d9.push(cN(eb[ea]))}return d9}return cN(eb)};function al(eb,d9){if(typeof eb==="number"){return eb&4294967295}if(typeof eb==="boolean"){return eb?1:0}if(typeof eb==="string"){var ea=parseInt(eb,d9||10);return ea&4294967295}if(eb instanceof bO){return eb.code}}cV.parseInt=function(ec,eb){if(ec instanceof Array){var d9=[];for(var ea=0;ea<ec.length;ea++){if(typeof ec[ea]==="string"&&!/^\s*[+\-]?\d+\s*$/.test(ec[ea])){d9.push(0)}else{d9.push(al(ec[ea],eb))}}return d9}return al(ec,eb)};cV.__int_cast=function(d9){return 0|d9};cV.__instanceof=function(eb,ea){if(typeof ea!=="function"){throw"Function is expected as type argument for instanceof operator"}if(typeof eb==="string"){return ea===Object||ea===String}if(eb instanceof ea){return true}if(typeof eb!=="object"||eb===null){return false}var ed=eb.constructor;if(ea.$isInterface){var ec=[];while(ed){if(ed.$interfaces){ec=ec.concat(ed.$interfaces)}ed=ed.$base}while(ec.length>0){var d9=ec.shift();if(d9===ea){return true}if(d9.$interfaces){ec=ec.concat(d9.$interfaces)}}return false}while(ed.hasOwnProperty("$base")){ed=ed.$base;if(ed===ea){return true}}return false};cV.abs=q.abs;cV.ceil=q.ceil;cV.constrain=function(ea,eb,d9){return ea>d9?d9:ea<eb?eb:ea};cV.dist=function(){var eb,ea,d9;if(arguments.length===4){eb=arguments[0]-arguments[2];ea=arguments[1]-arguments[3];return q.sqrt(eb*eb+ea*ea)}if(arguments.length===6){eb=arguments[0]-arguments[3];ea=arguments[1]-arguments[4];d9=arguments[2]-arguments[5];return q.sqrt(eb*eb+ea*ea+d9*d9)}};cV.exp=q.exp;cV.floor=q.floor;cV.lerp=function(ea,d9,eb){return((d9-ea)*eb)+ea};cV.log=q.log;cV.mag=function(ea,d9,eb){if(eb){return q.sqrt(ea*ea+d9*d9+eb*eb)}return q.sqrt(ea*ea+d9*d9)};cV.map=function(ec,ea,eb,d9,ed){return d9+(ed-d9)*((ec-ea)/(eb-ea))};cV.max=function(){if(arguments.length===2){return arguments[0]<arguments[1]?arguments[1]:arguments[0]}var ea=arguments.length===1?arguments[0]:arguments;if(!("length" in ea&&ea.length>0)){throw"Non-empty array is expected"}var d9=ea[0],ec=ea.length;for(var eb=1;eb<ec;++eb){if(d9<ea[eb]){d9=ea[eb]}}return d9};cV.min=function(){if(arguments.length===2){return arguments[0]<arguments[1]?arguments[0]:arguments[1]}var d9=arguments.length===1?arguments[0]:arguments;if(!("length" in d9&&d9.length>0)){throw"Non-empty array is expected"}var eb=d9[0],ec=d9.length;for(var ea=1;ea<ec;++ea){if(eb>d9[ea]){eb=d9[ea]}}return eb};cV.norm=function(ea,d9,eb){return(ea-d9)/(eb-d9)};cV.pow=q.pow;cV.round=q.round;cV.sq=function(d9){return d9*d9};cV.sqrt=q.sqrt;cV.acos=q.acos;cV.asin=q.asin;cV.atan=q.atan;cV.atan2=q.atan2;cV.cos=q.cos;cV.degrees=function(d9){return(d9*180)/q.PI};cV.radians=function(d9){return(d9/180)*q.PI};cV.sin=q.sin;cV.tan=q.tan;var bX=q.random;cV.random=function(){if(arguments.length===0){return bX()}if(arguments.length===1){return bX()*arguments[0]}var ea=arguments[0],d9=arguments[1];return bX()*(d9-ea)+ea};function cn(eb,ea){var ed=eb||362436069,d9=ea||521288629;var ec=function(){ed=(36969*(ed&65535)+(ed>>>16))&4294967295;d9=(18000*(d9&65535)+(d9>>>16))&4294967295;return(((ed&65535)<<16)|(d9&65535))&4294967295};this.nextDouble=function(){var ee=ec()/4294967296;return ee<0?1+ee:ee};this.nextInt=ec}cn.createRandomized=function(){var d9=new Date();return new cn((d9/60000)&4294967295,d9&4294967295)};cV.randomSeed=function(d9){bX=(new cn(d9)).nextDouble};cV.Random=function(d9){var ec=false,ea,eb;this.nextGaussian=function(){if(ec){ec=false;return ea}var eg,ee,ed;do{eg=2*eb()-1;ee=2*eb()-1;ed=eg*eg+ee*ee}while(ed>=1||ed===0);var ef=q.sqrt(-2*q.log(ed)/ed);ea=ee*ef;ec=true;return eg*ef};eb=(d9===t)?q.random:(new cn(d9)).nextDouble};function dy(eg){var ea=eg!==t?new cn(eg):cn.createRandomized();var ef,ed;var ec=new b(512);for(ef=0;ef<256;++ef){ec[ef]=ef}for(ef=0;ef<256;++ef){var ei=ec[ed=ea.nextInt()&255];ec[ed]=ec[ef];ec[ef]=ei}for(ef=0;ef<256;++ef){ec[ef+256]=ec[ef]}function d9(em,ej,ep,eo){var en=em&15;var el=en<8?ej:ep,ek=en<4?ep:en===12||en===14?ej:eo;return((en&1)===0?el:-el)+((en&2)===0?ek:-ek)}function ee(el,ej,em){var ek=(el&1)===0?ej:em;return(el&2)===0?-ek:ek}function eh(ek,ej){return(ek&1)===0?-ej:ej}function eb(el,ek,ej){return ek+el*(ej-ek)}this.noise3d=function(ev,eu,et){var em=q.floor(ev)&255,ek=q.floor(eu)&255,ej=q.floor(et)&255;ev-=q.floor(ev);eu-=q.floor(eu);et-=q.floor(et);var eq=(3-2*ev)*ev*ev,ep=(3-2*eu)*eu*eu,eo=(3-2*et)*et*et;var ex=ec[em]+ek,es=ec[ex]+ej,er=ec[ex+1]+ej,ew=ec[em+1]+ek,en=ec[ew]+ej,el=ec[ew+1]+ej;return eb(eo,eb(ep,eb(eq,d9(ec[es],ev,eu,et),d9(ec[en],ev-1,eu,et)),eb(eq,d9(ec[er],ev,eu-1,et),d9(ec[el],ev-1,eu-1,et))),eb(ep,eb(eq,d9(ec[es+1],ev,eu,et-1),d9(ec[en+1],ev-1,eu,et-1)),eb(eq,d9(ec[er+1],ev,eu-1,et-1),d9(ec[el+1],ev-1,eu-1,et-1))))};this.noise2d=function(ej,eq){var ep=q.floor(ej)&255,en=q.floor(eq)&255;ej-=q.floor(ej);eq-=q.floor(eq);var el=(3-2*ej)*ej*ej,ek=(3-2*eq)*eq*eq;var eo=ec[ep]+en,em=ec[ep+1]+en;return eb(ek,eb(el,ee(ec[eo],ej,eq),ee(ec[em],ej-1,eq)),eb(el,ee(ec[eo+1],ej,eq-1),ee(ec[em+1],ej-1,eq-1)))};this.noise1d=function(ej){var el=q.floor(ej)&255;ej-=q.floor(ej);var ek=(3-2*ej)*ej*ej;return eb(ek,eh(ec[el],ej),eh(ec[el+1],ej-1))}}var bV={generator:t,octaves:4,fallout:0.5,seed:t};cV.noise=function(d9,eg,ef){if(bV.generator===t){bV.generator=new dy(bV.seed)}var ee=bV.generator;var ed=1,ea=1,ec=0;for(var eb=0;eb<bV.octaves;++eb){ed*=bV.fallout;switch(arguments.length){case 1:ec+=ed*(1+ee.noise1d(ea*d9))/2;break;case 2:ec+=ed*(1+ee.noise2d(ea*d9,ea*eg))/2;break;case 3:ec+=ed*(1+ee.noise3d(ea*d9,ea*eg,ea*ef))/2;break}ea*=2}return ec};cV.noiseDetail=function(ea,d9){bV.octaves=ea;if(d9!==t){bV.fallout=d9}};cV.noiseSeed=function(d9){bV.seed=d9;bV.generator=t};dr.prototype.size=function(ea,ed,ec){if(cd){cV.stroke(0)}if(aH){cV.fill(255)}var eb={fillStyle:d7.fillStyle,strokeStyle:d7.strokeStyle,lineCap:d7.lineCap,lineJoin:d7.lineJoin};if(ae.style.length>0){ae.style.removeProperty("width");ae.style.removeProperty("height")}ae.width=cV.width=ea||100;ae.height=cV.height=ed||100;for(var ee in eb){if(eb.hasOwnProperty(ee)){d7[ee]=eb[ee]}}cV.textFont(W);cV.background();bY=q.max(1000,ea*ed*0.05);cV.externals.context=d7;for(var d9=0;d9<B.SINCOS_LENGTH;d9++){ah[d9]=cV.sin(d9*(B.PI/180)*0.5);bl[d9]=cV.cos(d9*(B.PI/180)*0.5)}};bQ.prototype.size=function(d9,eb,ea){if(d7===t){d7=ae.getContext("2d");am=new V();c9=new V();dI=new aX();aT=new aX()}dr.prototype.size.apply(this,arguments)};bB.prototype.size=(function(){var ea=false;return function d9(ec,ee,ed){if(ea){throw"Multiple calls to size() for 3D renders are not allowed."}ea=true;function ef(eh){var ek=["experimental-webgl","webgl","webkit-3d"],ej;for(var ei=0,eg=ek.length;ei<eg;ei++){ej=eh.getContext(ek[ei],{antialias:false,preserveDrawingBuffer:true});if(ej){break}}return ej}try{ae.width=cV.width=ec||100;ae.height=cV.height=ee||100;d7=ef(ae);c6=d7.createTexture();bR=d7.createTexture()}catch(eb){F.debug(eb)}if(!d7){throw"WebGL context is not supported on this browser."}d7.viewport(0,0,ae.width,ae.height);d7.enable(d7.DEPTH_TEST);d7.enable(d7.BLEND);d7.blendFunc(d7.SRC_ALPHA,d7.ONE_MINUS_SRC_ALPHA);dP=bE(d7,dD,aW);bS=bE(d7,aO,bP);cV.strokeWeight(1);dw=bE(d7,dm,aF);d7.useProgram(dw);dY("usingTexture3d",dw,"usingTexture",dS);cV.lightFalloff(1,0,0);cV.shininess(1);cV.ambient(255,255,255);cV.specular(0,0,0);cV.emissive(0,0,0);bh=d7.createBuffer();d7.bindBuffer(d7.ARRAY_BUFFER,bh);d7.bufferData(d7.ARRAY_BUFFER,dg,d7.STATIC_DRAW);cI=d7.createBuffer();d7.bindBuffer(d7.ARRAY_BUFFER,cI);d7.bufferData(d7.ARRAY_BUFFER,de,d7.STATIC_DRAW);dj=d7.createBuffer();d7.bindBuffer(d7.ARRAY_BUFFER,dj);d7.bufferData(d7.ARRAY_BUFFER,bG,d7.STATIC_DRAW);aB=d7.createBuffer();d7.bindBuffer(d7.ARRAY_BUFFER,aB);d7.bufferData(d7.ARRAY_BUFFER,ak,d7.STATIC_DRAW);b1=d7.createBuffer();d7.bindBuffer(d7.ARRAY_BUFFER,b1);d7.bufferData(d7.ARRAY_BUFFER,ai,d7.STATIC_DRAW);bg=d7.createBuffer();b7=d7.createBuffer();at=d7.createBuffer();aG=d7.createBuffer();bC=d7.createBuffer();af=d7.createBuffer();aw=d7.createBuffer();d7.bindBuffer(d7.ARRAY_BUFFER,aw);d7.bufferData(d7.ARRAY_BUFFER,new e([0,0,0]),d7.STATIC_DRAW);cG=d7.createBuffer();d7.bindBuffer(d7.ARRAY_BUFFER,cG);d7.bufferData(d7.ARRAY_BUFFER,new e([1,1,0,-1,1,0,-1,-1,0,1,-1,0]),d7.STATIC_DRAW);ac=d7.createBuffer();d7.bindBuffer(d7.ARRAY_BUFFER,ac);d7.bufferData(d7.ARRAY_BUFFER,new e([0,0,1,0,1,1,0,1]),d7.STATIC_DRAW);R=d7.createBuffer();d7.bindBuffer(d7.ELEMENT_ARRAY_BUFFER,R);d7.bufferData(d7.ELEMENT_ARRAY_BUFFER,new y([0,1,2,2,3,0]),d7.STATIC_DRAW);bU=new aP();cg=new aP();dI=new aP();aT=new aP();da=new aP();cV.camera();cV.perspective();am=new V();c9=new V();c2=new aP();aQ=new aP();aL=new aP();bz=new aP();cc=new aP();U=new aP();U.set(-1,3,-3,1,3,-6,3,0,-3,3,0,0,1,0,0,0);dr.prototype.size.apply(this,arguments)}}());bQ.prototype.ambientLight=dr.prototype.a3DOnlyFunction;bB.prototype.ambientLight=function(d9,ec,eh,ei,ee,ed){if(dK===B.MAX_LIGHTS){throw"can only create "+B.MAX_LIGHTS+" lights"}var ef=new A(ei,ee,ed);var eg=new aP();eg.scale(1,-1,1);eg.apply(dI.array());eg.mult(ef,ef);var ea=dG(d9,ec,eh,0);var eb=[((ea&B.RED_MASK)>>>16)/255,((ea&B.GREEN_MASK)>>>8)/255,(ea&B.BLUE_MASK)/255];d7.useProgram(dw);d1("uLights.color.3d."+dK,dw,"uLights"+dK+".color",eb);d1("uLights.position.3d."+dK,dw,"uLights"+dK+".position",ef.array());dY("uLights.type.3d."+dK,dw,"uLights"+dK+".type",0);dY("uLightCount3d",dw,"uLightCount",++dK)};bQ.prototype.directionalLight=dr.prototype.a3DOnlyFunction;bB.prototype.directionalLight=function(d9,ef,eh,eg,ee,ed){if(dK===B.MAX_LIGHTS){throw"can only create "+B.MAX_LIGHTS+" lights"}d7.useProgram(dw);var ei=new aP();ei.scale(1,-1,1);ei.apply(dI.array());ei=ei.array();var eb=[ei[0]*eg+ei[4]*ee+ei[8]*ed,ei[1]*eg+ei[5]*ee+ei[9]*ed,ei[2]*eg+ei[6]*ee+ei[10]*ed];var ea=dG(d9,ef,eh,0);var ec=[((ea&B.RED_MASK)>>>16)/255,((ea&B.GREEN_MASK)>>>8)/255,(ea&B.BLUE_MASK)/255];d1("uLights.color.3d."+dK,dw,"uLights"+dK+".color",ec);d1("uLights.position.3d."+dK,dw,"uLights"+dK+".position",eb);dY("uLights.type.3d."+dK,dw,"uLights"+dK+".type",1);dY("uLightCount3d",dw,"uLightCount",++dK)};bQ.prototype.lightFalloff=dr.prototype.a3DOnlyFunction;bB.prototype.lightFalloff=function(ea,d9,eb){d7.useProgram(dw);d1("uFalloff3d",dw,"uFalloff",[ea,d9,eb])};bQ.prototype.lightSpecular=dr.prototype.a3DOnlyFunction;bB.prototype.lightSpecular=function(ed,ec,d9){var ea=dG(ed,ec,d9,0);var eb=[((ea&B.RED_MASK)>>>16)/255,((ea&B.GREEN_MASK)>>>8)/255,(ea&B.BLUE_MASK)/255];d7.useProgram(dw);d1("uSpecular3d",dw,"uSpecular",eb)};cV.lights=function(){cV.ambientLight(128,128,128);cV.directionalLight(128,128,128,0,0,-1);cV.lightFalloff(1,0,0);cV.lightSpecular(0,0,0)};bQ.prototype.pointLight=dr.prototype.a3DOnlyFunction;bB.prototype.pointLight=function(d9,ec,eh,ei,ee,ed){if(dK===B.MAX_LIGHTS){throw"can only create "+B.MAX_LIGHTS+" lights"}var ef=new A(ei,ee,ed);var eg=new aP();eg.scale(1,-1,1);eg.apply(dI.array());eg.mult(ef,ef);var ea=dG(d9,ec,eh,0);var eb=[((ea&B.RED_MASK)>>>16)/255,((ea&B.GREEN_MASK)>>>8)/255,(ea&B.BLUE_MASK)/255];d7.useProgram(dw);d1("uLights.color.3d."+dK,dw,"uLights"+dK+".color",eb);d1("uLights.position.3d."+dK,dw,"uLights"+dK+".position",ef.array());dY("uLights.type.3d."+dK,dw,"uLights"+dK+".type",2);dY("uLightCount3d",dw,"uLightCount",++dK)};bQ.prototype.noLights=dr.prototype.a3DOnlyFunction;bB.prototype.noLights=function(){dK=0;d7.useProgram(dw);dY("uLightCount3d",dw,"uLightCount",dK)};bQ.prototype.spotLight=dr.prototype.a3DOnlyFunction;bB.prototype.spotLight=function(d9,eh,em,en,el,ej,ei,eg,ee,ed,ef){if(dK===B.MAX_LIGHTS){throw"can only create "+B.MAX_LIGHTS+" lights"}d7.useProgram(dw);var ek=new A(en,el,ej);var eo=new aP();eo.scale(1,-1,1);eo.apply(dI.array());eo.mult(ek,ek);eo=eo.array();var eb=[eo[0]*ei+eo[4]*eg+eo[8]*ee,eo[1]*ei+eo[5]*eg+eo[9]*ee,eo[2]*ei+eo[6]*eg+eo[10]*ee];var ea=dG(d9,eh,em,0);var ec=[((ea&B.RED_MASK)>>>16)/255,((ea&B.GREEN_MASK)>>>8)/255,(ea&B.BLUE_MASK)/255];d1("uLights.color.3d."+dK,dw,"uLights"+dK+".color",ec);d1("uLights.position.3d."+dK,dw,"uLights"+dK+".position",ek.array());d1("uLights.direction.3d."+dK,dw,"uLights"+dK+".direction",eb);d1("uLights.concentration.3d."+dK,dw,"uLights"+dK+".concentration",ef);d1("uLights.angle.3d."+dK,dw,"uLights"+dK+".angle",ed);dY("uLights.type.3d."+dK,dw,"uLights"+dK+".type",3);dY("uLightCount3d",dw,"uLightCount",++dK)};bQ.prototype.beginCamera=function(){throw ("beginCamera() is not available in 2D mode")};bB.prototype.beginCamera=function(){if(ap){throw ("You cannot call beginCamera() again before calling endCamera()")}ap=true;dI=cg;aT=bU};bQ.prototype.endCamera=function(){throw ("endCamera() is not available in 2D mode")};bB.prototype.endCamera=function(){if(!ap){throw ("You cannot call endCamera() before calling beginCamera()")}dI.set(bU);aT.set(cg);ap=false};cV.camera=function(ek,ej,eh,ef,ed,ec,es,eq,eo){if(ek===t){dk=cV.width/2;di=cV.height/2;dh=di/q.tan(cJ/2);ek=dk;ej=di;eh=dh;ef=dk;ed=di;ec=0;es=0;eq=1;eo=0}var ee=new A(ek-ef,ej-ed,eh-ec);var eg=new A(es,eq,eo);ee.normalize();var ei=A.cross(eg,ee);eg=A.cross(ee,ei);ei.normalize();eg.normalize();var et=ei.x,er=ei.y,ep=ei.z;var eb=eg.x,ea=eg.y,d9=eg.z;var en=ee.x,em=ee.y,el=ee.z;bU.set(et,er,ep,0,eb,ea,d9,0,en,em,el,0,0,0,0,1);bU.translate(-ek,-ej,-eh);cg.reset();cg.invApply(et,er,ep,0,eb,ea,d9,0,en,em,el,0,0,0,0,1);cg.translate(ek,ej,eh);dI.set(bU);aT.set(cg)};cV.perspective=function(ed,eb,ee,ea){if(arguments.length===0){di=ae.height/2;dh=di/q.tan(cJ/2);a0=dh/10;av=dh*10;b4=cV.width/cV.height;ed=cJ;eb=b4;ee=a0;ea=av}var ef,d9,eg,ec;ef=ee*q.tan(ed/2);d9=-ef;eg=ef*eb;ec=d9*eb;cV.frustum(ec,eg,d9,ef,ee,ea)};bQ.prototype.frustum=function(){throw ("Processing.js: frustum() is not supported in 2D mode")};bB.prototype.frustum=function(ef,eb,ea,ee,ed,d9){ch=true;da=new aP();da.set((2*ed)/(eb-ef),0,(eb+ef)/(eb-ef),0,0,(2*ed)/(ee-ea),(ee+ea)/(ee-ea),0,0,0,-(d9+ed)/(d9-ed),-(2*d9*ed)/(d9-ed),0,0,-1,0);var ec=new aP();ec.set(da);ec.transpose();d7.useProgram(dP);a9("projection2d",dP,"uProjection",false,ec.array());d7.useProgram(dw);a9("projection3d",dw,"uProjection",false,ec.array());d7.useProgram(bS);a9("uProjectionUS",bS,"uProjection",false,ec.array())};cV.ortho=function(ea,el,d9,ej,eg,ef){if(arguments.length===0){ea=0;el=cV.width;d9=0;ej=cV.height;eg=-10;ef=10}var ek=2/(el-ea);var ei=2/(ej-d9);var eh=-2/(ef-eg);var ee=-(el+ea)/(el-ea);var ed=-(ej+d9)/(ej-d9);var ec=-(ef+eg)/(ef-eg);da=new aP();da.set(ek,0,0,ee,0,ei,0,ed,0,0,eh,ec,0,0,0,1);var eb=new aP();eb.set(da);eb.transpose();d7.useProgram(dP);a9("projection2d",dP,"uProjection",false,eb.array());d7.useProgram(dw);a9("projection3d",dw,"uProjection",false,eb.array());d7.useProgram(bS);a9("uProjectionUS",bS,"uProjection",false,eb.array());ch=false};cV.printProjection=function(){da.print()};cV.printCamera=function(){bU.print()};bQ.prototype.box=dr.prototype.a3DOnlyFunction;bB.prototype.box=function(eb,ee,eg){if(!ee||!eg){ee=eg=eb}var ed=new aP();ed.scale(eb,ee,eg);var ea=new aP();ea.scale(1,-1,1);ea.apply(dI.array());ea.transpose();if(aH){d7.useProgram(dw);a9("model3d",dw,"uModel",false,ed.array());a9("view3d",dw,"uView",false,ea.array());d7.enable(d7.POLYGON_OFFSET_FILL);d7.polygonOffset(1,1);d1("color3d",dw,"uColor",bo);if(dK>0){var ec=new aP();ec.set(ea);var d9=new aP();d9.set(ed);ec.mult(d9);var ef=new aP();ef.set(ec);ef.invert();ef.transpose();a9("uNormalTransform3d",dw,"uNormalTransform",false,ef.array());db("aNormal3d",dw,"aNormal",3,cI)}else{cf("aNormal3d",dw,"aNormal")}db("aVertex3d",dw,"aVertex",3,bh);cf("aColor3d",dw,"aColor");cf("aTexture3d",dw,"aTexture");d7.drawArrays(d7.TRIANGLES,0,dg.length/3);d7.disable(d7.POLYGON_OFFSET_FILL)}if(dV>0&&cd){d7.useProgram(dP);a9("uModel2d",dP,"uModel",false,ed.array());a9("uView2d",dP,"uView",false,ea.array());d1("uColor2d",dP,"uColor",cZ);dY("uIsDrawingText2d",dP,"uIsDrawingText",false);db("vertex2d",dP,"aVertex",3,dj);cf("aTextureCoord2d",dP,"aTextureCoord");d7.drawArrays(d7.LINES,0,bG.length/3)}};var cC=function(){var ea;cE=[];for(ea=0;ea<bL;ea++){cE.push(0);cE.push(-1);cE.push(0);cE.push(bt[ea]);cE.push(bs[ea]);cE.push(br[ea])}cE.push(0);cE.push(-1);cE.push(0);cE.push(bt[0]);cE.push(bs[0]);cE.push(br[0]);var ee,eb,ed;var ec=0;for(ea=2;ea<bK;ea++){ee=eb=ec;ec+=bL;ed=ec;for(var d9=0;d9<bL;d9++){cE.push(bt[ee]);cE.push(bs[ee]);cE.push(br[ee++]);cE.push(bt[ed]);cE.push(bs[ed]);cE.push(br[ed++])}ee=eb;ed=ec;cE.push(bt[ee]);cE.push(bs[ee]);cE.push(br[ee]);cE.push(bt[ed]);cE.push(bs[ed]);cE.push(br[ed])}for(ea=0;ea<bL;ea++){ed=ec+ea;cE.push(bt[ed]);cE.push(bs[ed]);cE.push(br[ed]);cE.push(0);cE.push(1);cE.push(0)}cE.push(bt[ec]);cE.push(bs[ec]);cE.push(br[ec]);cE.push(0);cE.push(1);cE.push(0);d7.bindBuffer(d7.ARRAY_BUFFER,bg);d7.bufferData(d7.ARRAY_BUFFER,new e(cE),d7.STATIC_DRAW)};cV.sphereDetail=function(ea,el){var eg;if(arguments.length===1){ea=el=arguments[0]}if(ea<3){ea=3}if(el<2){el=2}if((ea===bL)&&(el===bK)){return}var ek=B.SINCOS_LENGTH/ea;var ee=new e(ea);var eb=new e(ea);for(eg=0;eg<ea;eg++){ee[eg]=bl[((eg*ek)%B.SINCOS_LENGTH)|0];eb[eg]=ah[((eg*ek)%B.SINCOS_LENGTH)|0]}var ej=ea*(el-1)+2;var ei=0;bt=new e(ej);bs=new e(ej);br=new e(ej);var eh=(B.SINCOS_LENGTH*0.5)/el;var ed=eh;for(eg=1;eg<el;eg++){var ec=ah[(ed%B.SINCOS_LENGTH)|0];var d9=-bl[(ed%B.SINCOS_LENGTH)|0];for(var ef=0;ef<ea;ef++){bt[ei]=ee[ef]*ec;bs[ei]=d9;br[ei++]=eb[ef]*ec}ed+=eh}bL=ea;bK=el;cC()};bQ.prototype.sphere=dr.prototype.a3DOnlyFunction;bB.prototype.sphere=function(){var ed=arguments[0];if((bL<3)||(bK<2)){cV.sphereDetail(30)}var ec=new aP();ec.scale(ed,ed,ed);var ea=new aP();ea.scale(1,-1,1);ea.apply(dI.array());ea.transpose();if(aH){if(dK>0){var eb=new aP();eb.set(ea);var d9=new aP();d9.set(ec);eb.mult(d9);var ee=new aP();ee.set(eb);ee.invert();ee.transpose();a9("uNormalTransform3d",dw,"uNormalTransform",false,ee.array());db("aNormal3d",dw,"aNormal",3,bg)}else{cf("aNormal3d",dw,"aNormal")}d7.useProgram(dw);cf("aTexture3d",dw,"aTexture");a9("uModel3d",dw,"uModel",false,ec.array());a9("uView3d",dw,"uView",false,ea.array());db("aVertex3d",dw,"aVertex",3,bg);cf("aColor3d",dw,"aColor");d7.enable(d7.POLYGON_OFFSET_FILL);d7.polygonOffset(1,1);d1("uColor3d",dw,"uColor",bo);d7.drawArrays(d7.TRIANGLE_STRIP,0,cE.length/3);d7.disable(d7.POLYGON_OFFSET_FILL)}if(dV>0&&cd){d7.useProgram(dP);a9("uModel2d",dP,"uModel",false,ec.array());a9("uView2d",dP,"uView",false,ea.array());db("aVertex2d",dP,"aVertex",3,bg);cf("aTextureCoord2d",dP,"aTextureCoord");d1("uColor2d",dP,"uColor",cZ);dY("uIsDrawingText",dP,"uIsDrawingText",false);d7.drawArrays(d7.LINE_STRIP,0,cE.length/3)}};cV.modelX=function(ef,ee,ed){var eh=dI.array();var ej=cg.array();var d9=eh[0]*ef+eh[1]*ee+eh[2]*ed+eh[3];var ei=eh[4]*ef+eh[5]*ee+eh[6]*ed+eh[7];var eg=eh[8]*ef+eh[9]*ee+eh[10]*ed+eh[11];var ea=eh[12]*ef+eh[13]*ee+eh[14]*ed+eh[15];var eb=ej[0]*d9+ej[1]*ei+ej[2]*eg+ej[3]*ea;var ec=ej[12]*d9+ej[13]*ei+ej[14]*eg+ej[15]*ea;return(ec!==0)?eb/ec:eb};cV.modelY=function(ef,ee,ed){var eh=dI.array();var ej=cg.array();var d9=eh[0]*ef+eh[1]*ee+eh[2]*ed+eh[3];var ei=eh[4]*ef+eh[5]*ee+eh[6]*ed+eh[7];var eg=eh[8]*ef+eh[9]*ee+eh[10]*ed+eh[11];var ea=eh[12]*ef+eh[13]*ee+eh[14]*ed+eh[15];var eb=ej[4]*d9+ej[5]*ei+ej[6]*eg+ej[7]*ea;var ec=ej[12]*d9+ej[13]*ei+ej[14]*eg+ej[15]*ea;return(ec!==0)?eb/ec:eb};cV.modelZ=function(ef,ee,ed){var eh=dI.array();var ej=cg.array();var d9=eh[0]*ef+eh[1]*ee+eh[2]*ed+eh[3];var ei=eh[4]*ef+eh[5]*ee+eh[6]*ed+eh[7];var eg=eh[8]*ef+eh[9]*ee+eh[10]*ed+eh[11];var eb=eh[12]*ef+eh[13]*ee+eh[14]*ed+eh[15];var ea=ej[8]*d9+ej[9]*ei+ej[10]*eg+ej[11]*eb;var ec=ej[12]*d9+ej[13]*ei+ej[14]*eg+ej[15]*eb;return(ec!==0)?ea/ec:ea};bQ.prototype.ambient=dr.prototype.a3DOnlyFunction;bB.prototype.ambient=function(ec,eb,ea){d7.useProgram(dw);dY("uUsingMat3d",dw,"uUsingMat",true);var d9=cV.color(ec,eb,ea);d1("uMaterialAmbient3d",dw,"uMaterialAmbient",cV.color.toGLArray(d9).slice(0,3))};bQ.prototype.emissive=dr.prototype.a3DOnlyFunction;bB.prototype.emissive=function(ec,eb,ea){d7.useProgram(dw);dY("uUsingMat3d",dw,"uUsingMat",true);var d9=cV.color(ec,eb,ea);d1("uMaterialEmissive3d",dw,"uMaterialEmissive",cV.color.toGLArray(d9).slice(0,3))};bQ.prototype.shininess=dr.prototype.a3DOnlyFunction;bB.prototype.shininess=function(d9){d7.useProgram(dw);dY("uUsingMat3d",dw,"uUsingMat",true);d1("uShininess3d",dw,"uShininess",d9)};bQ.prototype.specular=dr.prototype.a3DOnlyFunction;bB.prototype.specular=function(ec,eb,ea){d7.useProgram(dw);dY("uUsingMat3d",dw,"uUsingMat",true);var d9=cV.color(ec,eb,ea);d1("uMaterialSpecular3d",dw,"uMaterialSpecular",cV.color.toGLArray(d9).slice(0,3))};cV.screenX=function(eg,ef,ee){var ei=dI.array();if(ei.length===16){var d9=ei[0]*eg+ei[1]*ef+ei[2]*ee+ei[3];var ej=ei[4]*eg+ei[5]*ef+ei[6]*ee+ei[7];var eh=ei[8]*eg+ei[9]*ef+ei[10]*ee+ei[11];var ea=ei[12]*eg+ei[13]*ef+ei[14]*ee+ei[15];var ed=da.array();var eb=ed[0]*d9+ed[1]*ej+ed[2]*eh+ed[3]*ea;var ec=ed[12]*d9+ed[13]*ej+ed[14]*eh+ed[15]*ea;if(ec!==0){eb/=ec}return cV.width*(1+eb)/2}return dI.multX(eg,ef)};cV.screenY=function aA(eg,ef,ee){var ei=dI.array();if(ei.length===16){var d9=ei[0]*eg+ei[1]*ef+ei[2]*ee+ei[3];var ej=ei[4]*eg+ei[5]*ef+ei[6]*ee+ei[7];var eh=ei[8]*eg+ei[9]*ef+ei[10]*ee+ei[11];var ea=ei[12]*eg+ei[13]*ef+ei[14]*ee+ei[15];var ed=da.array();var eb=ed[4]*d9+ed[5]*ej+ed[6]*eh+ed[7]*ea;var ec=ed[12]*d9+ed[13]*ej+ed[14]*eh+ed[15]*ea;if(ec!==0){eb/=ec}return cV.height*(1+eb)/2}return dI.multY(eg,ef)};cV.screenZ=function ay(eg,ef,ee){var ei=dI.array();if(ei.length!==16){return 0}var ed=da.array();var d9=ei[0]*eg+ei[1]*ef+ei[2]*ee+ei[3];var ej=ei[4]*eg+ei[5]*ef+ei[6]*ee+ei[7];var eh=ei[8]*eg+ei[9]*ef+ei[10]*ee+ei[11];var eb=ei[12]*eg+ei[13]*ef+ei[14]*ee+ei[15];var ea=ed[8]*d9+ed[9]*ej+ed[10]*eh+ed[11]*eb;var ec=ed[12]*d9+ed[13]*ej+ed[14]*eh+ed[15]*eb;if(ec!==0){ea/=ec}return(ea+1)/2};dr.prototype.fill=function(){var d9=cV.color(arguments[0],arguments[1],arguments[2],arguments[3]);if(d9===a1&&aH){return}aH=true;a1=d9};bQ.prototype.fill=function(){dr.prototype.fill.apply(this,arguments);aq=true};bB.prototype.fill=function(){dr.prototype.fill.apply(this,arguments);bo=cV.color.toGLArray(a1)};function bn(){if(aH){if(aq){d7.fillStyle=cV.color.toString(a1);aq=false}d7.fill()}}cV.noFill=function(){aH=false};dr.prototype.stroke=function(){var d9=cV.color(arguments[0],arguments[1],arguments[2],arguments[3]);if(d9===cu&&cd){return}cd=true;cu=d9};bQ.prototype.stroke=function(){dr.prototype.stroke.apply(this,arguments);b2=true};bB.prototype.stroke=function(){dr.prototype.stroke.apply(this,arguments);cZ=cV.color.toGLArray(cu)};function dc(){if(cd){if(b2){d7.strokeStyle=cV.color.toString(cu);b2=false}d7.stroke()}}cV.noStroke=function(){cd=false};dr.prototype.strokeWeight=function(d9){dV=d9};bQ.prototype.strokeWeight=function(d9){dr.prototype.strokeWeight.apply(this,arguments);d7.lineWidth=d9};bB.prototype.strokeWeight=function(d9){dr.prototype.strokeWeight.apply(this,arguments);d7.useProgram(dP);d1("pointSize2d",dP,"uPointSize",d9);d7.useProgram(bS);d1("pointSizeUnlitShape",bS,"uPointSize",d9);d7.lineWidth(d9)};cV.strokeCap=function(d9){dX.$ensureContext().lineCap=d9};cV.strokeJoin=function(d9){dX.$ensureContext().lineJoin=d9};bQ.prototype.smooth=function(){dN=true;var d9=ae.style;d9.setProperty("image-rendering","optimizeQuality","important");d9.setProperty("-ms-interpolation-mode","bicubic","important");if(d7.hasOwnProperty("mozImageSmoothingEnabled")){d7.mozImageSmoothingEnabled=true}};bB.prototype.smooth=function(){dN=true};bQ.prototype.noSmooth=function(){dN=false;var d9=ae.style;d9.setProperty("image-rendering","optimizeSpeed","important");d9.setProperty("image-rendering","-moz-crisp-edges","important");d9.setProperty("image-rendering","-webkit-optimize-contrast","important");d9.setProperty("image-rendering","optimize-contrast","important");d9.setProperty("-ms-interpolation-mode","nearest-neighbor","important");if(d7.hasOwnProperty("mozImageSmoothingEnabled")){d7.mozImageSmoothingEnabled=false}};bB.prototype.noSmooth=function(){dN=false};bQ.prototype.point=function(d9,ea){if(!cd){return}d9=q.round(d9);ea=q.round(ea);d7.fillStyle=cV.color.toString(cu);aq=true;if(dV>1){d7.beginPath();d7.arc(d9,ea,dV/2,0,B.TWO_PI,false);d7.fill()}else{d7.fillRect(d9,ea,1,1)}};bB.prototype.point=function(d9,ed,ec){var eb=new aP();eb.translate(d9,ed,ec||0);eb.transpose();var ea=new aP();ea.scale(1,-1,1);ea.apply(dI.array());ea.transpose();d7.useProgram(dP);a9("uModel2d",dP,"uModel",false,eb.array());a9("uView2d",dP,"uView",false,ea.array());if(dV>0&&cd){d1("uColor2d",dP,"uColor",cZ);dY("uIsDrawingText2d",dP,"uIsDrawingText",false);dY("uSmooth2d",dP,"uSmooth",dN);db("aVertex2d",dP,"aVertex",3,aw);cf("aTextureCoord2d",dP,"aTextureCoord");d7.drawArrays(d7.POINTS,0,1)}};cV.beginShape=function(d9){dQ=d9;d5=[];bb=[]};bQ.prototype.vertex=function(ea,ec,d9){var eb=[];if(dt){dt=false}eb.isVert=true;eb[0]=ea;eb[1]=ec;eb[2]=0;eb[3]=0;eb[4]=0;eb[5]=a1;eb[6]=cu;bb.push(eb);if(d9){bb[bb.length-1]["moveTo"]=d9}};bB.prototype.vertex=function(d9,ee,ed,ec,eb){var ea=[];if(dt){dt=false}ea.isVert=true;if(eb===t&&dS){eb=ec;ec=ed;ed=0}if(ec!==t&&eb!==t){if(d3===B.IMAGE){ec/=cr.width;eb/=cr.height}ec=ec>1?1:ec;ec=ec<0?0:ec;eb=eb>1?1:eb;eb=eb<0?0:eb}ea[0]=d9;ea[1]=ee;ea[2]=ed||0;ea[3]=ec||0;ea[4]=eb||0;ea[5]=bo[0];ea[6]=bo[1];ea[7]=bo[2];ea[8]=bo[3];ea[9]=cZ[0];ea[10]=cZ[1];ea[11]=cZ[2];ea[12]=cZ[3];ea[13]=a8;ea[14]=a7;ea[15]=a6;bb.push(ea)};var d0=function(eb,ea){var d9=new aP();d9.scale(1,-1,1);d9.apply(dI.array());d9.transpose();d7.useProgram(bS);a9("uViewUS",bS,"uView",false,d9.array());dY("uSmoothUS",bS,"uSmooth",dN);db("aVertexUS",bS,"aVertex",3,aw);d7.bufferData(d7.ARRAY_BUFFER,new e(eb),d7.STREAM_DRAW);db("aColorUS",bS,"aColor",4,aG);d7.bufferData(d7.ARRAY_BUFFER,new e(ea),d7.STREAM_DRAW);d7.drawArrays(d7.POINTS,0,eb.length/3)};var bj=function(ed,ec,eb){var ea;if(ec==="LINES"){ea=d7.LINES}else{if(ec==="LINE_LOOP"){ea=d7.LINE_LOOP}else{ea=d7.LINE_STRIP}}var d9=new aP();d9.scale(1,-1,1);d9.apply(dI.array());d9.transpose();d7.useProgram(bS);a9("uViewUS",bS,"uView",false,d9.array());db("aVertexUS",bS,"aVertex",3,b7);d7.bufferData(d7.ARRAY_BUFFER,new e(ed),d7.STREAM_DRAW);db("aColorUS",bS,"aColor",4,bC);d7.bufferData(d7.ARRAY_BUFFER,new e(eb),d7.STREAM_DRAW);d7.drawArrays(ea,0,ed.length/3)};var dl=function(ee,ed,ec,eb){var ea;if(ed==="TRIANGLES"){ea=d7.TRIANGLES}else{if(ed==="TRIANGLE_FAN"){ea=d7.TRIANGLE_FAN}else{ea=d7.TRIANGLE_STRIP}}var d9=new aP();d9.scale(1,-1,1);d9.apply(dI.array());d9.transpose();d7.useProgram(dw);a9("model3d",dw,"uModel",false,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);a9("view3d",dw,"uView",false,d9.array());d7.enable(d7.POLYGON_OFFSET_FILL);d7.polygonOffset(1,1);d1("color3d",dw,"uColor",[-1,0,0,0]);db("vertex3d",dw,"aVertex",3,at);d7.bufferData(d7.ARRAY_BUFFER,new e(ee),d7.STREAM_DRAW);if(dS&&bf!==null){bw(ec)}db("aColor3d",dw,"aColor",4,aG);d7.bufferData(d7.ARRAY_BUFFER,new e(ec),d7.STREAM_DRAW);cf("aNormal3d",dw,"aNormal");if(dS){dY("uUsingTexture3d",dw,"uUsingTexture",dS);db("aTexture3d",dw,"aTexture",2,af);d7.bufferData(d7.ARRAY_BUFFER,new e(eb),d7.STREAM_DRAW)}d7.drawArrays(ea,0,ee.length/3);d7.disable(d7.POLYGON_OFFSET_FILL)};function cR(){bn();dc();d7.closePath()}bQ.prototype.endShape=function(eg){if(bb.length===0){return}var ec=eg===B.CLOSE;if(ec){bb.push(bb[0])}var eb=[];var d9=[];var ei=[];var el=[];var ee=[];var eh;dt=true;var ef,ed,ea;var ek=bb.length;for(ef=0;ef<ek;ef++){eh=bb[ef];for(ed=0;ed<3;ed++){d9.push(eh[ed])}}for(ef=0;ef<ek;ef++){eh=bb[ef];for(ed=5;ed<9;ed++){ei.push(eh[ed])}}for(ef=0;ef<ek;ef++){eh=bb[ef];for(ed=9;ed<13;ed++){el.push(eh[ed])}}for(ef=0;ef<ek;ef++){eh=bb[ef];ee.push(eh[3]);ee.push(eh[4])}if(dO&&(dQ===B.POLYGON||dQ===t)){if(ek>3){var ej=[],em=1-aJ;d7.beginPath();d7.moveTo(bb[1][0],bb[1][1]);for(ef=1;(ef+2)<ek;ef++){eh=bb[ef];ej[0]=[eh[0],eh[1]];ej[1]=[eh[0]+(em*bb[ef+1][0]-em*bb[ef-1][0])/6,eh[1]+(em*bb[ef+1][1]-em*bb[ef-1][1])/6];ej[2]=[bb[ef+1][0]+(em*bb[ef][0]-em*bb[ef+2][0])/6,bb[ef+1][1]+(em*bb[ef][1]-em*bb[ef+2][1])/6];ej[3]=[bb[ef+1][0],bb[ef+1][1]];d7.bezierCurveTo(ej[1][0],ej[1][1],ej[2][0],ej[2][1],ej[3][0],ej[3][1])}cR()}}else{if(aa&&(dQ===B.POLYGON||dQ===t)){d7.beginPath();for(ef=0;ef<ek;ef++){eh=bb[ef];if(bb[ef]["isVert"]){if(bb[ef]["moveTo"]){d7.moveTo(eh[0],eh[1])}else{d7.lineTo(eh[0],eh[1])}}else{d7.bezierCurveTo(bb[ef][0],bb[ef][1],bb[ef][2],bb[ef][3],bb[ef][4],bb[ef][5])}}cR()}else{if(dQ===B.POINTS){for(ef=0;ef<ek;ef++){eh=bb[ef];if(cd){cV.stroke(eh[6])}cV.point(eh[0],eh[1])}}else{if(dQ===B.LINES){for(ef=0;(ef+1)<ek;ef+=2){eh=bb[ef];if(cd){cV.stroke(bb[ef+1][6])}cV.line(eh[0],eh[1],bb[ef+1][0],bb[ef+1][1])}}else{if(dQ===B.TRIANGLES){for(ef=0;(ef+2)<ek;ef+=3){eh=bb[ef];d7.beginPath();d7.moveTo(eh[0],eh[1]);d7.lineTo(bb[ef+1][0],bb[ef+1][1]);d7.lineTo(bb[ef+2][0],bb[ef+2][1]);d7.lineTo(eh[0],eh[1]);if(aH){cV.fill(bb[ef+2][5]);bn()}if(cd){cV.stroke(bb[ef+2][6]);dc()}d7.closePath()}}else{if(dQ===B.TRIANGLE_STRIP){for(ef=0;(ef+1)<ek;ef++){eh=bb[ef];d7.beginPath();d7.moveTo(bb[ef+1][0],bb[ef+1][1]);d7.lineTo(eh[0],eh[1]);if(cd){cV.stroke(bb[ef+1][6])}if(aH){cV.fill(bb[ef+1][5])}if(ef+2<ek){d7.lineTo(bb[ef+2][0],bb[ef+2][1]);if(cd){cV.stroke(bb[ef+2][6])}if(aH){cV.fill(bb[ef+2][5])}}cR()}}else{if(dQ===B.TRIANGLE_FAN){if(ek>2){d7.beginPath();d7.moveTo(bb[0][0],bb[0][1]);d7.lineTo(bb[1][0],bb[1][1]);d7.lineTo(bb[2][0],bb[2][1]);if(aH){cV.fill(bb[2][5]);bn()}if(cd){cV.stroke(bb[2][6]);dc()}d7.closePath();for(ef=3;ef<ek;ef++){eh=bb[ef];d7.beginPath();d7.moveTo(bb[0][0],bb[0][1]);d7.lineTo(bb[ef-1][0],bb[ef-1][1]);d7.lineTo(eh[0],eh[1]);if(aH){cV.fill(eh[5]);bn()}if(cd){cV.stroke(eh[6]);dc()}d7.closePath()}}}else{if(dQ===B.QUADS){for(ef=0;(ef+3)<ek;ef+=4){eh=bb[ef];d7.beginPath();d7.moveTo(eh[0],eh[1]);for(ed=1;ed<4;ed++){d7.lineTo(bb[ef+ed][0],bb[ef+ed][1])}d7.lineTo(eh[0],eh[1]);if(aH){cV.fill(bb[ef+3][5]);bn()}if(cd){cV.stroke(bb[ef+3][6]);dc()}d7.closePath()}}else{if(dQ===B.QUAD_STRIP){if(ek>3){for(ef=0;(ef+1)<ek;ef+=2){eh=bb[ef];d7.beginPath();if(ef+3<ek){d7.moveTo(bb[ef+2][0],bb[ef+2][1]);d7.lineTo(eh[0],eh[1]);d7.lineTo(bb[ef+1][0],bb[ef+1][1]);d7.lineTo(bb[ef+3][0],bb[ef+3][1]);if(aH){cV.fill(bb[ef+3][5])}if(cd){cV.stroke(bb[ef+3][6])}}else{d7.moveTo(eh[0],eh[1]);d7.lineTo(bb[ef+1][0],bb[ef+1][1])}cR()}}}else{d7.beginPath();d7.moveTo(bb[0][0],bb[0][1]);for(ef=1;ef<ek;ef++){eh=bb[ef];if(eh.isVert){if(eh.moveTo){d7.moveTo(eh[0],eh[1])}else{d7.lineTo(eh[0],eh[1])}}}cR()}}}}}}}}}dO=false;aa=false;ca=[];c1=0;if(ec){bb.pop()}};bB.prototype.endShape=function(eg){if(bb.length===0){return}var ec=eg===B.CLOSE;var eb=[];var d9=[];var ei=[];var el=[];var ee=[];var eh;dt=true;var ef,ed,ea;var ek=bb.length;for(ef=0;ef<ek;ef++){eh=bb[ef];for(ed=0;ed<3;ed++){d9.push(eh[ed])}}for(ef=0;ef<ek;ef++){eh=bb[ef];for(ed=5;ed<9;ed++){ei.push(eh[ed])}}for(ef=0;ef<ek;ef++){eh=bb[ef];for(ed=9;ed<13;ed++){el.push(eh[ed])}}for(ef=0;ef<ek;ef++){eh=bb[ef];ee.push(eh[3]);ee.push(eh[4])}if(ec){d9.push(bb[0][0]);d9.push(bb[0][1]);d9.push(bb[0][2]);for(ef=5;ef<9;ef++){ei.push(bb[0][ef])}for(ef=9;ef<13;ef++){el.push(bb[0][ef])}ee.push(bb[0][3]);ee.push(bb[0][4])}if(dO&&(dQ===B.POLYGON||dQ===t)){eb=d9;if(cd){bj(eb,null,el)}if(aH){dl(d9,null,ei)}}else{if(aa&&(dQ===B.POLYGON||dQ===t)){eb=d9;eb.splice(eb.length-3);el.splice(el.length-4);if(cd){bj(eb,null,el)}if(aH){dl(d9,"TRIANGLES",ei)}}else{if(dQ===B.POINTS){for(ef=0;ef<ek;ef++){eh=bb[ef];for(ed=0;ed<3;ed++){eb.push(eh[ed])}}d0(eb,el)}else{if(dQ===B.LINES){for(ef=0;ef<ek;ef++){eh=bb[ef];for(ed=0;ed<3;ed++){eb.push(eh[ed])}}for(ef=0;ef<ek;ef++){eh=bb[ef];for(ed=5;ed<9;ed++){ei.push(eh[ed])}}bj(eb,"LINES",el)}else{if(dQ===B.TRIANGLES){if(ek>2){for(ef=0;(ef+2)<ek;ef+=3){d9=[];ee=[];eb=[];ei=[];el=[];for(ed=0;ed<3;ed++){for(ea=0;ea<3;ea++){eb.push(bb[ef+ed][ea]);d9.push(bb[ef+ed][ea])}}for(ed=0;ed<3;ed++){for(ea=3;ea<5;ea++){ee.push(bb[ef+ed][ea])}}for(ed=0;ed<3;ed++){for(ea=5;ea<9;ea++){ei.push(bb[ef+ed][ea]);el.push(bb[ef+ed][ea+4])}}if(cd){bj(eb,"LINE_LOOP",el)}if(aH||dS){dl(d9,"TRIANGLES",ei,ee)}}}}else{if(dQ===B.TRIANGLE_STRIP){if(ek>2){for(ef=0;(ef+2)<ek;ef++){eb=[];d9=[];el=[];ei=[];ee=[];for(ed=0;ed<3;ed++){for(ea=0;ea<3;ea++){eb.push(bb[ef+ed][ea]);d9.push(bb[ef+ed][ea])}}for(ed=0;ed<3;ed++){for(ea=3;ea<5;ea++){ee.push(bb[ef+ed][ea])}}for(ed=0;ed<3;ed++){for(ea=5;ea<9;ea++){el.push(bb[ef+ed][ea+4]);ei.push(bb[ef+ed][ea])}}if(aH||dS){dl(d9,"TRIANGLE_STRIP",ei,ee)}if(cd){bj(eb,"LINE_LOOP",el)}}}}else{if(dQ===B.TRIANGLE_FAN){if(ek>2){for(ef=0;ef<3;ef++){eh=bb[ef];for(ed=0;ed<3;ed++){eb.push(eh[ed])}}for(ef=0;ef<3;ef++){eh=bb[ef];for(ed=9;ed<13;ed++){el.push(eh[ed])}}if(cd){bj(eb,"LINE_LOOP",el)}for(ef=2;(ef+1)<ek;ef++){eb=[];el=[];eb.push(bb[0][0]);eb.push(bb[0][1]);eb.push(bb[0][2]);el.push(bb[0][9]);el.push(bb[0][10]);el.push(bb[0][11]);el.push(bb[0][12]);for(ed=0;ed<2;ed++){for(ea=0;ea<3;ea++){eb.push(bb[ef+ed][ea])}}for(ed=0;ed<2;ed++){for(ea=9;ea<13;ea++){el.push(bb[ef+ed][ea])}}if(cd){bj(eb,"LINE_STRIP",el)}}if(aH||dS){dl(d9,"TRIANGLE_FAN",ei,ee)}}}else{if(dQ===B.QUADS){for(ef=0;(ef+3)<ek;ef+=4){eb=[];for(ed=0;ed<4;ed++){eh=bb[ef+ed];for(ea=0;ea<3;ea++){eb.push(eh[ea])}}if(cd){bj(eb,"LINE_LOOP",el)}if(aH){d9=[];ei=[];ee=[];for(ed=0;ed<3;ed++){d9.push(bb[ef][ed])}for(ed=5;ed<9;ed++){ei.push(bb[ef][ed])}for(ed=0;ed<3;ed++){d9.push(bb[ef+1][ed])}for(ed=5;ed<9;ed++){ei.push(bb[ef+1][ed])}for(ed=0;ed<3;ed++){d9.push(bb[ef+3][ed])}for(ed=5;ed<9;ed++){ei.push(bb[ef+3][ed])}for(ed=0;ed<3;ed++){d9.push(bb[ef+2][ed])}for(ed=5;ed<9;ed++){ei.push(bb[ef+2][ed])}if(dS){ee.push(bb[ef+0][3]);ee.push(bb[ef+0][4]);ee.push(bb[ef+1][3]);ee.push(bb[ef+1][4]);ee.push(bb[ef+3][3]);ee.push(bb[ef+3][4]);ee.push(bb[ef+2][3]);ee.push(bb[ef+2][4])}dl(d9,"TRIANGLE_STRIP",ei,ee)}}}else{if(dQ===B.QUAD_STRIP){var ej=[];if(ek>3){for(ef=0;ef<2;ef++){eh=bb[ef];for(ed=0;ed<3;ed++){eb.push(eh[ed])}}for(ef=0;ef<2;ef++){eh=bb[ef];for(ed=9;ed<13;ed++){el.push(eh[ed])}}bj(eb,"LINE_STRIP",el);if(ek>4&&ek%2>0){ej=d9.splice(d9.length-3);bb.pop()}for(ef=0;(ef+3)<ek;ef+=2){eb=[];el=[];for(ed=0;ed<3;ed++){eb.push(bb[ef+1][ed])}for(ed=0;ed<3;ed++){eb.push(bb[ef+3][ed])}for(ed=0;ed<3;ed++){eb.push(bb[ef+2][ed])}for(ed=0;ed<3;ed++){eb.push(bb[ef+0][ed])}for(ed=9;ed<13;ed++){el.push(bb[ef+1][ed])}for(ed=9;ed<13;ed++){el.push(bb[ef+3][ed])}for(ed=9;ed<13;ed++){el.push(bb[ef+2][ed])}for(ed=9;ed<13;ed++){el.push(bb[ef+0][ed])}if(cd){bj(eb,"LINE_STRIP",el)}}if(aH||dS){dl(d9,"TRIANGLE_LIST",ei,ee)}}}else{if(ek===1){for(ed=0;ed<3;ed++){eb.push(bb[0][ed])}for(ed=9;ed<13;ed++){el.push(bb[0][ed])}d0(eb,el)}else{for(ef=0;ef<ek;ef++){eh=bb[ef];for(ed=0;ed<3;ed++){eb.push(eh[ed])}for(ed=5;ed<9;ed++){el.push(eh[ed])}}if(cd&&ec){bj(eb,"LINE_LOOP",el)}else{if(cd&&!ec){bj(eb,"LINE_STRIP",el)}}if(aH||dS){dl(d9,"TRIANGLE_FAN",ei,ee)}}}}}}}}}dS=false;d7.useProgram(dw);dY("usingTexture3d",dw,"uUsingTexture",dS)}}dO=false;aa=false;ca=[];c1=0};var aY=function(ec,eb){var ed=1/ec;var ea=ed*ed;var d9=ea*ed;eb.set(0,0,0,1,d9,ea,ed,0,6*d9,2*ea,0,0,6*d9,0,0,0)};var dq=function(){if(!aL){c2=new aP();aL=new aP();cL=true}var d9=aJ;c2.set((d9-1)/2,(d9+3)/2,(-3-d9)/2,(1-d9)/2,(1-d9),(-5-d9)/2,(d9+2),(d9-1)/2,(d9-1)/2,0,(1-d9)/2,0,0,1,0,0);aY(Q,aL);if(!cc){aQ=new aP()}aQ.set(c2);aQ.preApply(cc);aL.apply(c2)};bQ.prototype.bezierVertex=function(){aa=true;var d9=[];if(dt){throw ("vertex() must be used at least once before calling bezierVertex()")}for(var ea=0;ea<arguments.length;ea++){d9[ea]=arguments[ea]}bb.push(d9);bb[bb.length-1]["isVert"]=false};bB.prototype.bezierVertex=function(){aa=true;var eg=[];if(dt){throw ("vertex() must be used at least once before calling bezierVertex()")}if(arguments.length===9){if(bz===t){bz=new aP()}var el=bb.length-1;aY(cx,bz);bz.apply(U);var en=bz.array();var ec=bb[el][0],em=bb[el][1],ef=bb[el][2];var ei=en[4]*ec+en[5]*arguments[0]+en[6]*arguments[3]+en[7]*arguments[6];var eh=en[8]*ec+en[9]*arguments[0]+en[10]*arguments[3]+en[11]*arguments[6];var ee=en[12]*ec+en[13]*arguments[0]+en[14]*arguments[3]+en[15]*arguments[6];var eo=en[4]*em+en[5]*arguments[1]+en[6]*arguments[4]+en[7]*arguments[7];var ek=en[8]*em+en[9]*arguments[1]+en[10]*arguments[4]+en[11]*arguments[7];var ej=en[12]*em+en[13]*arguments[1]+en[14]*arguments[4]+en[15]*arguments[7];var eb=en[4]*ef+en[5]*arguments[2]+en[6]*arguments[5]+en[7]*arguments[8];var ea=en[8]*ef+en[9]*arguments[2]+en[10]*arguments[5]+en[11]*arguments[8];var d9=en[12]*ef+en[13]*arguments[2]+en[14]*arguments[5]+en[15]*arguments[8];for(var ed=0;ed<cx;ed++){ec+=ei;ei+=eh;eh+=ee;em+=eo;eo+=ek;ek+=ej;ef+=eb;eb+=ea;ea+=d9;cV.vertex(ec,em,ef)}cV.vertex(arguments[6],arguments[7],arguments[8])}};cV.texture=function(ec){var ea=dX.$ensureContext();if(ec.__texture){ea.bindTexture(ea.TEXTURE_2D,ec.__texture)}else{if(ec.localName==="canvas"){ea.bindTexture(ea.TEXTURE_2D,c6);ea.texImage2D(ea.TEXTURE_2D,0,ea.RGBA,ea.RGBA,ea.UNSIGNED_BYTE,ec);ea.texParameteri(ea.TEXTURE_2D,ea.TEXTURE_MAG_FILTER,ea.LINEAR);ea.texParameteri(ea.TEXTURE_2D,ea.TEXTURE_MIN_FILTER,ea.LINEAR);ea.generateMipmap(ea.TEXTURE_2D);cr.width=ec.width;cr.height=ec.height}else{var eb=ea.createTexture(),ee=d.createElement("canvas"),d9=ee.getContext("2d"),ed;if(ec.width&(ec.width-1)===0){ee.width=ec.width}else{ed=1;while(ed<ec.width){ed*=2}ee.width=ed}if(ec.height&(ec.height-1)===0){ee.height=ec.height}else{ed=1;while(ed<ec.height){ed*=2}ee.height=ed}d9.drawImage(ec.sourceImg,0,0,ec.width,ec.height,0,0,ee.width,ee.height);ea.bindTexture(ea.TEXTURE_2D,eb);ea.texParameteri(ea.TEXTURE_2D,ea.TEXTURE_MIN_FILTER,ea.LINEAR_MIPMAP_LINEAR);ea.texParameteri(ea.TEXTURE_2D,ea.TEXTURE_MAG_FILTER,ea.LINEAR);ea.texParameteri(ea.TEXTURE_2D,ea.TEXTURE_WRAP_T,ea.CLAMP_TO_EDGE);ea.texParameteri(ea.TEXTURE_2D,ea.TEXTURE_WRAP_S,ea.CLAMP_TO_EDGE);ea.texImage2D(ea.TEXTURE_2D,0,ea.RGBA,ea.RGBA,ea.UNSIGNED_BYTE,ee);ea.generateMipmap(ea.TEXTURE_2D);ec.__texture=eb;cr.width=ec.width;cr.height=ec.height}}dS=true;ea.useProgram(dw);dY("usingTexture3d",dw,"uUsingTexture",dS)};cV.textureMode=function(d9){d3=d9};var ar=function(eu,ef,el,es,ee,ek,eq,ed,ej,eo,ec,eh){var ev=es;var eg=ee;var em=ek;var ei=aL.array();var et=ei[4]*eu+ei[5]*es+ei[6]*eq+ei[7]*eo;var er=ei[8]*eu+ei[9]*es+ei[10]*eq+ei[11]*eo;var ep=ei[12]*eu+ei[13]*es+ei[14]*eq+ei[15]*eo;var ey=ei[4]*ef+ei[5]*ee+ei[6]*ed+ei[7]*ec;var ex=ei[8]*ef+ei[9]*ee+ei[10]*ed+ei[11]*ec;var ew=ei[12]*ef+ei[13]*ee+ei[14]*ed+ei[15]*ec;var eb=ei[4]*el+ei[5]*ek+ei[6]*ej+ei[7]*eh;var ea=ei[8]*el+ei[9]*ek+ei[10]*ej+ei[11]*eh;var d9=ei[12]*el+ei[13]*ek+ei[14]*ej+ei[15]*eh;cV.vertex(ev,eg,em);for(var en=0;en<Q;en++){ev+=et;et+=er;er+=ep;eg+=ey;ey+=ex;ex+=ew;em+=eb;eb+=ea;ea+=d9;cV.vertex(ev,eg,em)}};bQ.prototype.curveVertex=function(d9,ea){dO=true;cV.vertex(d9,ea)};bB.prototype.curveVertex=function(d9,ec,eb){dO=true;if(!cL){dq()}var ea=[];ea[0]=d9;ea[1]=ec;ea[2]=eb;ca.push(ea);c1++;if(c1>3){ar(ca[c1-4][0],ca[c1-4][1],ca[c1-4][2],ca[c1-3][0],ca[c1-3][1],ca[c1-3][2],ca[c1-2][0],ca[c1-2][1],ca[c1-2][2],ca[c1-1][0],ca[c1-1][1],ca[c1-1][2])}};bQ.prototype.curve=function(ee,eg,ec,ef,ea,ed,d9,eb){cV.beginShape();cV.curveVertex(ee,eg);cV.curveVertex(ec,ef);cV.curveVertex(ea,ed);cV.curveVertex(d9,eb);cV.endShape()};bB.prototype.curve=function(eb,ej,ef,ea,ei,ee,d9,eh,ed,ek,eg,ec){if(ec!==t){cV.beginShape();cV.curveVertex(eb,ej,ef);cV.curveVertex(ea,ei,ee);cV.curveVertex(d9,eh,ed);cV.curveVertex(ek,eg,ec);cV.endShape();return}cV.beginShape();cV.curveVertex(eb,ej);cV.curveVertex(ef,ea);cV.curveVertex(ei,ee);cV.curveVertex(d9,eh);cV.endShape()};cV.curveTightness=function(d9){aJ=d9};cV.curveDetail=function(d9){Q=d9;dq()};cV.rectMode=function(d9){bJ=d9};cV.imageMode=function(d9){switch(d9){case B.CORNER:bk=aZ;break;case B.CORNERS:bk=b0;break;case B.CENTER:bk=aN;break;default:throw"Invalid imageMode"}};cV.ellipseMode=function(d9){cM=d9};cV.arc=function(el,ej,ec,en,eb,ek){if(ec<=0||ek<eb){return}if(cM===B.CORNERS){ec=ec-el;en=en-ej}else{if(cM===B.RADIUS){el=el-ec;ej=ej-en;ec=ec*2;en=en*2}else{if(cM===B.CENTER){el=el-ec/2;ej=ej-en/2}}}while(eb<0){eb+=B.TWO_PI;ek+=B.TWO_PI}if(ek-eb>B.TWO_PI){eb=0;ek=B.TWO_PI}var em=ec/2,eo=en/2,eg=el+em,ee=ej+eo,ea=0|(0.5+eb*cV.RAD_TO_DEG*2),ei=0|(0.5+ek*cV.RAD_TO_DEG*2),eh,ef;if(aH){var ed=cd;cd=false;cV.beginShape();cV.vertex(eg,ee);for(eh=ea;eh<=ei;eh++){ef=eh%B.SINCOS_LENGTH;cV.vertex(eg+bl[ef]*em,ee+ah[ef]*eo)}cV.endShape(B.CLOSE);cd=ed}if(cd){var d9=aH;aH=false;cV.beginShape();for(eh=ea;eh<=ei;eh++){ef=eh%B.SINCOS_LENGTH;cV.vertex(eg+bl[ef]*em,ee+ah[ef]*eo)}cV.endShape();aH=d9}};bQ.prototype.line=function(ea,eh,d9,ef){if(!cd){return}ea=q.round(ea);d9=q.round(d9);eh=q.round(eh);ef=q.round(ef);if(ea===d9&&eh===ef){cV.point(ea,eh);return}var eb=t,ei=t,ee=true,eg=dI.array(),ec=[1,0,0,0,1,0];for(var ed=0;ed<6&&ee;ed++){ee=eg[ed]===ec[ed]}if(ee){if(ea===d9){if(eh>ef){eb=eh;eh=ef;ef=eb}ef++;if(dV%2===1){d7.translate(0.5,0)}}else{if(eh===ef){if(ea>d9){eb=ea;ea=d9;d9=eb}d9++;if(dV%2===1){d7.translate(0,0.5)}}}if(dV===1){ei=d7.lineCap;d7.lineCap="butt"}}d7.beginPath();d7.moveTo(ea||0,eh||0);d7.lineTo(d9||0,ef||0);dc();if(ee){if(ea===d9&&dV%2===1){d7.translate(-0.5,0)}else{if(eh===ef&&dV%2===1){d7.translate(0,-0.5)}}if(dV===1){d7.lineCap=ei}}};bB.prototype.line=function(eb,ee,eg,ea,ec,ef){if(ec===t||ef===t){ef=0;ec=ea;ea=eg;eg=0}if(eb===ea&&ee===ec&&eg===ef){cV.point(eb,ee,eg);return}var ed=[eb,ee,eg,ea,ec,ef];var d9=new aP();d9.scale(1,-1,1);d9.apply(dI.array());d9.transpose();if(dV>0&&cd){d7.useProgram(dP);a9("uModel2d",dP,"uModel",false,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);a9("uView2d",dP,"uView",false,d9.array());d1("uColor2d",dP,"uColor",cZ);dY("uIsDrawingText",dP,"uIsDrawingText",false);db("aVertex2d",dP,"aVertex",3,b7);cf("aTextureCoord2d",dP,"aTextureCoord");d7.bufferData(d7.ARRAY_BUFFER,new e(ed),d7.STREAM_DRAW);d7.drawArrays(d7.LINES,0,2)}};bQ.prototype.bezier=function(){if(arguments.length!==8){throw ("You must use 8 parameters for bezier() in 2D mode")}cV.beginShape();cV.vertex(arguments[0],arguments[1]);cV.bezierVertex(arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);cV.endShape()};bB.prototype.bezier=function(){if(arguments.length!==12){throw ("You must use 12 parameters for bezier() in 3D mode")}cV.beginShape();cV.vertex(arguments[0],arguments[1],arguments[2]);cV.bezierVertex(arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);cV.endShape()};cV.bezierDetail=function(d9){cx=d9};cV.bezierPoint=function(ea,d9,ed,ec,eb){return(1-eb)*(1-eb)*(1-eb)*ea+3*(1-eb)*(1-eb)*eb*d9+3*(1-eb)*eb*eb*ed+eb*eb*eb*ec};cV.bezierTangent=function(ea,d9,ed,ec,eb){return(3*eb*eb*(-ea+3*d9-3*ed+ec)+6*eb*(ea-2*d9+ed)+3*(-ea+d9))};cV.curvePoint=function(ea,d9,ed,ec,eb){return 0.5*((2*d9)+(-ea+ed)*eb+(2*ea-5*d9+4*ed-ec)*eb*eb+(-ea+3*d9-3*ed+ec)*eb*eb*eb)};cV.curveTangent=function(ea,d9,ed,ec,eb){return 0.5*((-ea+ed)+2*(2*ea-5*d9+4*ed-ec)*eb+3*(-ea+3*d9-3*ed+ec)*eb*eb)};cV.triangle=function(ec,ee,ea,ed,d9,eb){cV.beginShape(B.TRIANGLES);cV.vertex(ec,ee,0);cV.vertex(ea,ed,0);cV.vertex(d9,eb,0);cV.endShape()};cV.quad=function(ee,eg,ec,ef,ea,ed,d9,eb){cV.beginShape(B.QUADS);cV.vertex(ee,eg,0);cV.vertex(ec,ef,0);cV.vertex(ea,ed,0);cV.vertex(d9,eb,0);cV.endShape()};var bM=function(ef,ee,d9,eg,ei,ed,eh,ea){if(ea===t){ed=ei;eh=ei;ea=ei}var eb=d9/2,ec=eg/2;if(ei>eb||ei>ec){ei=q.min(eb,ec)}if(ed>eb||ed>ec){ed=q.min(eb,ec)}if(eh>eb||eh>ec){eh=q.min(eb,ec)}if(ea>eb||ea>ec){ea=q.min(eb,ec)}if(!aH||cd){d7.translate(0.5,0.5)}d7.beginPath();d7.moveTo(ef+ei,ee);d7.lineTo(ef+d9-ed,ee);d7.quadraticCurveTo(ef+d9,ee,ef+d9,ee+ed);d7.lineTo(ef+d9,ee+eg-eh);d7.quadraticCurveTo(ef+d9,ee+eg,ef+d9-eh,ee+eg);d7.lineTo(ef+ea,ee+eg);d7.quadraticCurveTo(ef,ee+eg,ef,ee+eg-ea);d7.lineTo(ef,ee+ei);d7.quadraticCurveTo(ef,ee,ef+ei,ee);if(!aH||cd){d7.translate(-0.5,-0.5)}bn();dc()};bQ.prototype.rect=function(ea,eg,ed,d9,eb,ee,ec,ef){if(!ed&&!d9){return}if(bJ===B.CORNERS){ed-=ea;d9-=eg}else{if(bJ===B.RADIUS){ed*=2;d9*=2;ea-=ed/2;eg-=d9/2}else{if(bJ===B.CENTER){ea-=ed/2;eg-=d9/2}}}ea=q.round(ea);eg=q.round(eg);ed=q.round(ed);d9=q.round(d9);if(eb!==t){bM(ea,eg,ed,d9,eb,ee,ec,ef);return}if(cd&&dV%2===1){d7.translate(0.5,0.5)}d7.beginPath();d7.rect(ea,eg,ed,d9);bn();dc();if(cd&&dV%2===1){d7.translate(-0.5,-0.5)}};bB.prototype.rect=function(eh,eg,d9,ej,el,ee,ek,ea){if(el!==t){throw"rect() with rounded corners is not supported in 3D mode"}if(bJ===B.CORNERS){d9-=eh;ej-=eg}else{if(bJ===B.RADIUS){d9*=2;ej*=2;eh-=d9/2;eg-=ej/2}else{if(bJ===B.CENTER){eh-=d9/2;eg-=ej/2}}}var ed=new aP();ed.translate(eh,eg,0);ed.scale(d9,ej,1);ed.transpose();var ef=new aP();ef.scale(1,-1,1);ef.apply(dI.array());ef.transpose();if(dV>0&&cd){d7.useProgram(dP);a9("uModel2d",dP,"uModel",false,ed.array());a9("uView2d",dP,"uView",false,ef.array());d1("uColor2d",dP,"uColor",cZ);dY("uIsDrawingText2d",dP,"uIsDrawingText",false);db("aVertex2d",dP,"aVertex",3,aB);cf("aTextureCoord2d",dP,"aTextureCoord");d7.drawArrays(d7.LINE_LOOP,0,ak.length/3)}if(aH){d7.useProgram(dw);a9("uModel3d",dw,"uModel",false,ed.array());a9("uView3d",dw,"uView",false,ef.array());d7.enable(d7.POLYGON_OFFSET_FILL);d7.polygonOffset(1,1);d1("color3d",dw,"uColor",bo);if(dK>0){var ei=new aP();ei.set(ef);var eb=new aP();eb.set(ed);ei.mult(eb);var ec=new aP();ec.set(ei);ec.invert();ec.transpose();a9("uNormalTransform3d",dw,"uNormalTransform",false,ec.array());db("aNormal3d",dw,"aNormal",3,b1)}else{cf("normal3d",dw,"aNormal")}db("vertex3d",dw,"aVertex",3,aB);d7.drawArrays(d7.TRIANGLE_FAN,0,ak.length/3);d7.disable(d7.POLYGON_OFFSET_FILL)}};bQ.prototype.ellipse=function(ef,ee,ea,eh){ef=ef||0;ee=ee||0;if(ea<=0&&eh<=0){return}if(cM===B.RADIUS){ea*=2;eh*=2}else{if(cM===B.CORNERS){ea=ea-ef;eh=eh-ee;ef+=ea/2;ee+=eh/2}else{if(cM===B.CORNER){ef+=ea/2;ee+=eh/2}}}if(ea===eh){d7.beginPath();d7.arc(ef,ee,ea/2,0,B.TWO_PI,false);bn();dc()}else{var eg=ea/2,ed=eh/2,d9=0.5522847498307933,ec=d9*eg,eb=d9*ed;cV.beginShape();cV.vertex(ef+eg,ee);cV.bezierVertex(ef+eg,ee-eb,ef+ec,ee-ed,ef,ee-ed);cV.bezierVertex(ef-ec,ee-ed,ef-eg,ee-eb,ef-eg,ee);cV.bezierVertex(ef-eg,ee+eb,ef-ec,ee+ed,ef,ee+ed);cV.bezierVertex(ef+ec,ee+ed,ef+eg,ee+eb,ef+eg,ee);cV.endShape()}};bB.prototype.ellipse=function(em,el,eb,eo){em=em||0;el=el||0;if(eb<=0&&eo<=0){return}if(cM===B.RADIUS){eb*=2;eo*=2}else{if(cM===B.CORNERS){eb=eb-em;eo=eo-el;em+=eb/2;el+=eo/2}else{if(cM===B.CORNER){em+=eb/2;el+=eo/2}}}var en=eb/2,ei=eo/2,d9=0.5522847498307933,ed=d9*en,ec=d9*ei;cV.beginShape();cV.vertex(em+en,el);cV.bezierVertex(em+en,el-ec,0,em+ed,el-ei,0,em,el-ei,0);cV.bezierVertex(em-ed,el-ei,0,em-en,el-ec,0,em-en,el,0);cV.bezierVertex(em-en,el+ec,0,em-ed,el+ei,0,em,el+ei,0);cV.bezierVertex(em+ed,el+ei,0,em+en,el+ec,0,em+en,el,0);cV.endShape();if(aH){var ee=0,ej=0,eg,ef;for(eg=0;eg<bb.length;eg++){ee+=bb[eg][0];ej+=bb[eg][1]}ee/=bb.length;ej/=bb.length;var eh=[],ea=[],ek=[];eh[0]=ee;eh[1]=ej;eh[2]=0;eh[3]=0;eh[4]=0;eh[5]=bo[0];eh[6]=bo[1];eh[7]=bo[2];eh[8]=bo[3];eh[9]=cZ[0];eh[10]=cZ[1];eh[11]=cZ[2];eh[12]=cZ[3];eh[13]=a8;eh[14]=a7;eh[15]=a6;bb.unshift(eh);for(eg=0;eg<bb.length;eg++){for(ef=0;ef<3;ef++){ea.push(bb[eg][ef])}for(ef=5;ef<9;ef++){ek.push(bb[eg][ef])}}dl(ea,"TRIANGLE_FAN",ek)}};cV.normal=function(d9,eb,ea){if(arguments.length!==3||!(typeof d9==="number"&&typeof eb==="number"&&typeof ea==="number")){throw"normal() requires three numeric arguments."}a8=d9;a7=eb;a6=ea;if(dQ!==0){if(a2===B.NORMAL_MODE_AUTO){a2=B.NORMAL_MODE_SHAPE}else{if(a2===B.NORMAL_MODE_SHAPE){a2=B.NORMAL_MODE_VERTEX}}}};cV.save=function(ea,d9){if(d9!==t){return D.open(d9.toDataURL(),"_blank")}return D.open(cV.externals.canvas.toDataURL(),"_blank")};var cv=0;cV.saveFrame=function(d9){if(d9===t){d9="screen-####.png"}var ea=d9.replace(/#+/,function(ec){var eb=""+(cv++);while(eb.length<ec.length){eb="0"+eb}return eb});cV.save(ea)};var cb=d.createElement("canvas").getContext("2d");var X=[t,t,t];function by(eg,ea,ef){var ec=X.shift();if(ec===t){ec={};ec.canvas=d.createElement("canvas");ec.context=ec.canvas.getContext("2d")}X.push(ec);var eb=ec.canvas,ed=ec.context,ee=ea||eg.width,d9=ef||eg.height;eb.width=ee;eb.height=d9;if(!eg){ed.clearRect(0,0,ee,d9)}else{if("data" in eg){ed.putImageData(eg,0,0)}else{ed.clearRect(0,0,ee,d9);ed.drawImage(eg,0,0,ee,d9)}}return ec}function bZ(d9){return{getLength:(function(ea){return function(){if(ea.isRemote){throw"Image is loaded remotely. Cannot get length."}else{return ea.imageData.data.length?ea.imageData.data.length/4:0}}}(d9)),getPixel:(function(ea){return function(eb){var ed=eb*4,ec=ea.imageData.data;if(ea.isRemote){throw"Image is loaded remotely. Cannot get pixels."}return(ec[ed+3]<<24)&B.ALPHA_MASK|(ec[ed]<<16)&B.RED_MASK|(ec[ed+1]<<8)&B.GREEN_MASK|ec[ed+2]&B.BLUE_MASK}}(d9)),setPixel:(function(ea){return function(eb,ee){var ed=eb*4,ec=ea.imageData.data;if(ea.isRemote){throw"Image is loaded remotely. Cannot set pixel."}ec[ed+0]=(ee&B.RED_MASK)>>>16;ec[ed+1]=(ee&B.GREEN_MASK)>>>8;ec[ed+2]=(ee&B.BLUE_MASK);ec[ed+3]=(ee&B.ALPHA_MASK)>>>24;ea.__isDirty=true}}(d9)),toArray:(function(ea){return function(){var eb=[],ee=ea.imageData.data,ed=ea.width*ea.height;if(ea.isRemote){throw"Image is loaded remotely. Cannot get pixels."}for(var ec=0,ef=0;ec<ed;ec++,ef+=4){eb.push((ee[ef+3]<<24)&B.ALPHA_MASK|(ee[ef]<<16)&B.RED_MASK|(ee[ef+1]<<8)&B.GREEN_MASK|ee[ef+2]&B.BLUE_MASK)}return eb}}(d9)),set:(function(ea){return function(eb){var ef,ee,eg;if(this.isRemote){throw"Image is loaded remotely. Cannot set pixels."}ee=ea.imageData.data;for(var ec=0,ed=eb.length;ec<ed;ec++){eg=eb[ec];ef=ec*4;ee[ef+0]=(eg&B.RED_MASK)>>>16;ee[ef+1]=(eg&B.GREEN_MASK)>>>8;ee[ef+2]=(eg&B.BLUE_MASK);ee[ef+3]=(eg&B.ALPHA_MASK)>>>24}ea.__isDirty=true}}(d9))}}var cF=function(ec,ef,ed){this.__isDirty=false;if(ec instanceof HTMLImageElement){this.fromHTMLImageData(ec)}else{if(ef||ed){this.width=ec||1;this.height=ef||1;var ea=this.sourceImg=d.createElement("canvas");ea.width=this.width;ea.height=this.height;var eg=this.imageData=ea.getContext("2d").createImageData(this.width,this.height);this.format=(ed===B.ARGB||ed===B.ALPHA)?ed:B.RGB;if(this.format===B.RGB){for(var eb=3,ee=this.imageData.data,d9=ee.length;eb<d9;eb+=4){ee[eb]=255}}this.__isDirty=true;this.updatePixels()}else{this.width=0;this.height=0;this.imageData=cb.createImageData(1,1);this.format=B.ARGB}}this.pixels=bZ(this)};cF.prototype={__isPImage:true,updatePixels:function(){var d9=this.sourceImg;if(d9&&d9 instanceof HTMLCanvasElement&&this.__isDirty){d9.getContext("2d").putImageData(this.imageData,0,0)}this.__isDirty=false},fromHTMLImageData:function(d9){var ea=by(d9);try{var ec=ea.context.getImageData(0,0,d9.width,d9.height);this.fromImageData(ec)}catch(eb){if(d9.width&&d9.height){this.isRemote=true;this.width=d9.width;this.height=d9.height}}this.sourceImg=d9},get:function(d9,ec,ea,eb){if(!arguments.length){return cV.get(this)}if(arguments.length===2){return cV.get(d9,ec,this)}if(arguments.length===4){return cV.get(d9,ec,ea,eb,this)}},set:function(d9,eb,ea){cV.set(d9,eb,ea,this);this.__isDirty=true},blend:function(eh,ed,ec,ea,ef,ei,eg,ee,d9,eb){if(arguments.length===9){cV.blend(this,eh,ed,ec,ea,ef,ei,eg,ee,d9,this)}else{if(arguments.length===10){cV.blend(eh,ed,ec,ea,ef,ei,eg,ee,d9,eb,this)}}delete this.sourceImg},copy:function(eg,ed,ec,eb,ea,eh,ef,ee,d9){if(arguments.length===8){cV.blend(this,eg,ed,ec,eb,ea,eh,ef,ee,B.REPLACE,this)}else{if(arguments.length===9){cV.blend(eg,ed,ec,eb,ea,eh,ef,ee,d9,B.REPLACE,this)}}delete this.sourceImg},filter:function(ea,d9){if(arguments.length===2){cV.filter(ea,d9,this)}else{if(arguments.length===1){cV.filter(ea,null,this)}}delete this.sourceImg},save:function(d9){cV.save(d9,this)},resize:function(d9,eb){if(this.isRemote){throw"Image is loaded remotely. Cannot resize."}if(this.width!==0||this.height!==0){if(d9===0&&eb!==0){d9=q.floor(this.width/this.height*eb)}else{if(eb===0&&d9!==0){eb=q.floor(this.height/this.width*d9)}}var ea=by(this.imageData).canvas;var ec=by(ea,d9,eb).context.getImageData(0,0,d9,eb);this.fromImageData(ec)}},mask:function(d9){var ec=this.toImageData(),eb,ea;if(d9 instanceof cF||d9.__isPImage){if(d9.width===this.width&&d9.height===this.height){d9=d9.toImageData();for(eb=2,ea=this.width*this.height*4;eb<ea;eb+=4){ec.data[eb+1]=d9.data[eb]}}else{throw"mask must have the same dimensions as PImage."}}else{if(d9 instanceof Array){if(this.width*this.height===d9.length){for(eb=0,ea=d9.length;eb<ea;++eb){ec.data[eb*4+3]=d9[eb]}}else{throw"mask array must be the same length as PImage pixels array."}}}this.fromImageData(ec)},loadPixels:G,toImageData:function(){if(this.isRemote){return this.sourceImg}if(!this.__isDirty){return this.imageData}var d9=by(this.sourceImg);return d9.context.getImageData(0,0,this.width,this.height)},toDataURL:function(){if(this.isRemote){throw"Image is loaded remotely. Cannot create dataURI."}var d9=by(this.imageData);return d9.canvas.toDataURL()},fromImageData:function(ed){var ea=ed.width,ec=ed.height,eb=d.createElement("canvas"),d9=eb.getContext("2d");this.width=eb.width=ea;this.height=eb.height=ec;d9.putImageData(ed,0,0);this.format=B.ARGB;this.imageData=ed;this.sourceImg=eb}};cV.PImage=cF;cV.createImage=function(d9,ea,eb){return new cF(d9,ea,eb)};cV.loadImage=function(ea,eb,ed){var ec;if(cP.imageCache.images[ea]){ec=new cF(cP.imageCache.images[ea]);ec.loaded=true;return ec}ec=new cF();var d9=d.createElement("img");ec.sourceImg=d9;d9.onload=(function(eh,ef,ee){var ei=eh;var eg=ef;var ej=ee;return function(){eg.fromHTMLImageData(ei);eg.loaded=true;if(ej){ej()}}}(d9,ec,ed));d9.src=ea;return ec};cV.requestImage=cV.loadImage;function c8(d9,ec){var ea;if(d9>=cV.width||d9<0||ec<0||ec>=cV.height){return 0}if(dU){var eb=((0|d9)+cV.width*(0|ec))*4;ea=cV.imageData.data;return(ea[eb+3]<<24)&B.ALPHA_MASK|(ea[eb]<<16)&B.RED_MASK|(ea[eb+1]<<8)&B.GREEN_MASK|ea[eb+2]&B.BLUE_MASK}ea=cV.toImageData(0|d9,0|ec,1,1).data;return(ea[3]<<24)&B.ALPHA_MASK|(ea[0]<<16)&B.RED_MASK|(ea[1]<<8)&B.GREEN_MASK|ea[2]&B.BLUE_MASK}function c7(d9,ed,ea){if(ea.isRemote){throw"Image is loaded remotely. Cannot get x,y."}var ec=ed*ea.width*4+(d9*4),eb=ea.imageData.data;return(eb[ec+3]<<24)&B.ALPHA_MASK|(eb[ec]<<16)&B.RED_MASK|(eb[ec+1]<<8)&B.GREEN_MASK|eb[ec+2]&B.BLUE_MASK}function c5(d9,ed,ea,eb){var ec=new cF(ea,eb,B.ARGB);ec.fromImageData(cV.toImageData(d9,ed,ea,eb));return ec}function c4(ee,ed,ef,ek,eq){if(eq.isRemote){throw"Image is loaded remotely. Cannot get x,y,w,h."}var eo=new cF(ef,ek,B.ARGB),eb=eo.imageData.data,ec=eq.width,el=eq.height,en=eq.imageData.data;var d9=q.max(0,-ed),ea=q.max(0,-ee),eg=q.min(ek,el-ed),eh=q.min(ef,ec-ee);for(var ej=d9;ej<eg;++ej){var em=((ed+ej)*ec+(ee+ea))*4;var ep=(ej*ef+ea)*4;for(var ei=ea;ei<eh;++ei){eb[ep++]=en[em++];eb[ep++]=en[em++];eb[ep++]=en[em++];eb[ep++]=en[em++]}}eo.__isDirty=true;return eo}cV.get=function(d9,ed,ea,ec,eb){if(eb!==undefined){return c4(d9,ed,ea,ec,eb)}if(ec!==undefined){return c5(d9,ed,ea,ec)}if(ea!==undefined){return c7(d9,ed,ea)}if(ed!==undefined){return c8(d9,ed)}if(d9!==undefined){return c4(0,0,d9.width,d9.height,d9)}return c5(0,0,cV.width,cV.height)};cV.createGraphics=function(d9,eb,ea){var ec=new F();ec.size(d9,eb,ea);ec.background(0,0);return ec};function T(){if(dU){d7=aj;dU=false;cV.updatePixels()}}function cp(){function ea(ee,ec){function ed(){T();d7[ec].apply(d7,arguments)}ee[ec]=ed}function d9(ef,ed){function ec(){T();return d7[ed]}function ee(eg){T();d7[ed]=eg}cV.defineProperty(ef,ed,{get:ec,set:ee})}for(var eb in d7){if(typeof d7[eb]==="function"){ea(this,eb)}else{d9(this,eb)}}}function cB(){if(dU){return}cV.loadPixels();if(cm===null){aj=d7;cm=new cp()}dU=true;d7=cm;d2=0}function bx(d9,eb,ea){if(d9<cV.width&&d9>=0&&eb>=0&&eb<cV.height){cB();cV.pixels.setPixel((0|d9)+cV.width*(0|eb),ea);if(++d2>bY){T()}}}function bv(d9,ef,ec,ea){if(ea.isRemote){throw"Image is loaded remotely. Cannot set x,y."}var ee=cV.color.toArray(ec);var ed=ef*ea.width*4+(d9*4);var eb=ea.imageData.data;eb[ed]=ee[0];eb[ed+1]=ee[1];eb[ed+2]=ee[2];eb[ed+3]=ee[3]}cV.set=function(d9,ee,ec,eb){var ea,ed;if(arguments.length===3){if(typeof ec==="number"){bx(d9,ee,ec)}else{if(ec instanceof cF||ec.__isPImage){cV.image(ec,d9,ee)}}}else{if(arguments.length===4){bv(d9,ee,ec,eb)}}};cV.imageData={};cV.pixels={getLength:function(){return cV.imageData.data.length?cV.imageData.data.length/4:0},getPixel:function(d9){var eb=d9*4,ea=cV.imageData.data;return(ea[eb+3]<<24)&4278190080|(ea[eb+0]<<16)&16711680|(ea[eb+1]<<8)&65280|ea[eb+2]&255},setPixel:function(d9,ec){var eb=d9*4,ea=cV.imageData.data;ea[eb+0]=(ec&16711680)>>>16;ea[eb+1]=(ec&65280)>>>8;ea[eb+2]=(ec&255);ea[eb+3]=(ec&4278190080)>>>24},toArray:function(){var d9=[],eb=cV.imageData.width*cV.imageData.height,ec=cV.imageData.data;for(var ea=0,ed=0;ea<eb;ea++,ed+=4){d9.push((ec[ed+3]<<24)&4278190080|(ec[ed+0]<<16)&16711680|(ec[ed+1]<<8)&65280|ec[ed+2]&255)}return d9},set:function(d9){for(var ea=0,eb=d9.length;ea<eb;ea++){this.setPixel(ea,d9[ea])}}};cV.loadPixels=function(){cV.imageData=dX.$ensureContext().getImageData(0,0,cV.width,cV.height)};cV.updatePixels=function(){if(cV.imageData){dX.$ensureContext().putImageData(cV.imageData,0,0)}};cV.hint=function(ea){var d9=dX.$ensureContext();if(ea===B.DISABLE_DEPTH_TEST){d9.disable(d9.DEPTH_TEST);d9.depthMask(false);d9.clear(d9.DEPTH_BUFFER_BIT)}else{if(ea===B.ENABLE_DEPTH_TEST){d9.enable(d9.DEPTH_TEST);d9.depthMask(true)}else{if(ea===B.ENABLE_OPENGL_2X_SMOOTH||ea===B.ENABLE_OPENGL_4X_SMOOTH){dN=true}else{if(ea===B.DISABLE_OPENGL_2X_SMOOTH){dN=false}}}}};var bD=function(ec,eb,ea,d9){var ed;if(ec instanceof cF||ec.__isPImage){ed=ec;if(!ed.loaded){throw"Error using image in background(): PImage not loaded."}if(ed.width!==cV.width||ed.height!==cV.height){throw"Background image must be the same dimensions as the canvas."}}else{ed=cV.color(ec,eb,ea,d9)}a4=ed};bQ.prototype.background=function(ec,eb,ea,d9){if(ec!==t){bD(ec,eb,ea,d9)}if(a4 instanceof cF||a4.__isPImage){aD();d7.setTransform(1,0,0,1,0,0);cV.image(a4,0,0);cO()}else{aD();d7.setTransform(1,0,0,1,0,0);if(cV.alpha(a4)!==bT){d7.clearRect(0,0,cV.width,cV.height)}d7.fillStyle=cV.color.toString(a4);d7.fillRect(0,0,cV.width,cV.height);aq=true;cO()}};bB.prototype.background=function(ec,eb,ea,d9){if(arguments.length>0){bD(ec,eb,ea,d9)}var ed=cV.color.toGLArray(a4);d7.clearColor(ed[0],ed[1],ed[2],ed[3]);d7.clear(d7.COLOR_BUFFER_BIT|d7.DEPTH_BUFFER_BIT)};bQ.prototype.image=function(ec,eh,ef,ei,ed){eh=q.round(eh);ef=q.round(ef);if(ec.width>0){var ej=ei||ec.width;var eg=ed||ec.height;var d9=bk(eh||0,ef||0,ei||ec.width,ed||ec.height,arguments.length<4);var ee=!!ec.sourceImg&&bf===null;if(ee){var ea=ec.sourceImg;if(ec.__isDirty){ec.updatePixels()}d7.drawImage(ea,0,0,ea.width,ea.height,d9.x,d9.y,d9.w,d9.h)}else{var eb=ec.toImageData();if(bf!==null){bf(eb);ec.__isDirty=true}d7.drawImage(by(eb).canvas,0,0,ec.width,ec.height,d9.x,d9.y,d9.w,d9.h)}}};bB.prototype.image=function(eb,d9,ed,ea,ec){if(eb.width>0){d9=q.round(d9);ed=q.round(ed);ea=ea||eb.width;ec=ec||eb.height;cV.beginShape(cV.QUADS);cV.texture(eb);cV.vertex(d9,ed,0,0,0);cV.vertex(d9,ed+ec,0,0,ec);cV.vertex(d9+ea,ed+ec,0,ea,ec);cV.vertex(d9+ea,ed,0,ea,0);cV.endShape()}};cV.tint=function(ec,eb,d9,eh){var ee=cV.color(ec,eb,d9,eh);var ea=cV.red(ee)/bI;var ed=cV.green(ee)/bH;var ef=cV.blue(ee)/bF;var eg=cV.alpha(ee)/bT;bf=function(el){var ek=el.data,ej=4*el.width*el.height;for(var ei=0;ei<ej;){ek[ei++]*=ea;ek[ei++]*=ed;ek[ei++]*=ef;ek[ei++]*=eg}};bw=function(ej){for(var ei=0;ei<ej.length;){ej[ei++]=ea;ej[ei++]=ed;ej[ei++]=ef;ej[ei++]=eg}}};cV.noTint=function(){bf=null;bw=null};cV.copy=function(d9,ee,ed,ef,eb,eh,eg,ea,ec){if(ec===t){ec=ea;ea=eg;eg=eh;eh=eb;eb=ef;ef=ed;ed=ee;ee=d9;d9=cV}cV.blend(d9,ee,ed,ef,eb,eh,eg,ea,ec,B.REPLACE)};cV.blend=function(d9,ej,ei,em,ee,eo,en,ea,eg,ef,ec){if(d9.isRemote){throw"Image is loaded remotely. Cannot blend image."}if(ef===t){ef=eg;eg=ea;ea=en;en=eo;eo=ee;ee=em;em=ei;ei=ej;ej=d9;d9=cV}var eb=ej+em,eh=ei+ee,el=eo+ea,ed=en+eg,ek=ec||cV;if(ec===t||ef===t){cV.loadPixels()}d9.loadPixels();if(d9===cV&&cV.intersect(ej,ei,eb,eh,eo,en,el,ed)){cV.blit_resize(cV.get(ej,ei,eb-ej,eh-ei),0,0,eb-ej-1,eh-ei-1,ek.imageData.data,ek.width,ek.height,eo,en,el,ed,ef)}else{cV.blit_resize(d9,ej,ei,eb,eh,ek.imageData.data,ek.width,ek.height,eo,en,el,ed,ef)}if(ec===t){cV.updatePixels()}};var bp=function(ed){var d9=cV.floor(ed*3.5),eb,ea;d9=(d9<1)?1:((d9<248)?d9:248);if(cV.shared.blurRadius!==d9){cV.shared.blurRadius=d9;cV.shared.blurKernelSize=1+(cV.shared.blurRadius<<1);cV.shared.blurKernel=new e(cV.shared.blurKernelSize);var ef=cV.shared.blurKernel;var ee=cV.shared.blurKernelSize;var ec=cV.shared.blurRadius;for(eb=0;eb<ee;eb++){ef[eb]=0}var eg=(d9-1)*(d9-1);for(eb=1;eb<d9;eb++){ef[d9+eb]=ef[ea]=eg}ef[d9]=d9*d9}};var b6=function(en,es){var eb,ee,ek,ep,eq,ez,er;var eu,em,ey,ex,eo;var eh=es.pixels.getLength();var et=new e(eh);var eC=new e(eh);var eg=new e(eh);var eB=new e(eh);var eA=0;var ej,ei,ew,ed;bp(en);var ea=es.height;var d9=es.width;var ev=cV.shared.blurKernelSize;var el=cV.shared.blurRadius;var ef=cV.shared.blurKernel;var ec=es.imageData.data;for(ei=0;ei<ea;ei++){for(ej=0;ej<d9;ej++){ep=ek=ee=eq=eb=0;eu=ej-el;if(eu<0){eo=-eu;eu=0}else{if(eu>=d9){break}eo=0}for(ew=eo;ew<ev;ew++){if(eu>=d9){break}ed=(eu+eA)*4;er=ef[ew];eq+=er*ec[ed+3];ee+=er*ec[ed];ek+=er*ec[ed+1];ep+=er*ec[ed+2];eb+=er;eu++}em=eA+ej;eB[em]=eq/eb;et[em]=ee/eb;eC[em]=ek/eb;eg[em]=ep/eb}eA+=d9}eA=0;ey=-el;ex=ey*d9;for(ei=0;ei<ea;ei++){for(ej=0;ej<d9;ej++){ep=ek=ee=eq=eb=0;if(ey<0){eo=em=-ey;eu=ej}else{if(ey>=ea){break}eo=0;em=ey;eu=ej+ex}for(ew=eo;ew<ev;ew++){if(em>=ea){break}er=ef[ew];eq+=er*eB[eu];ee+=er*et[eu];ek+=er*eC[eu];ep+=er*eg[eu];eb+=er;em++;eu+=d9}ed=(ej+eA)*4;ec[ed]=ee/eb;ec[ed+1]=ek/eb;ec[ed+2]=ep/eb;ec[ed+3]=eq/eb}eA+=d9;ex+=d9;ey++}};var ce=function(eq,ek){var eg=0;var eu=ek.pixels.getLength();var el=new K(eu);var eo,ea,ej,ei,ec;var ep,ed,ef,eh,eb,em,et,d9,er,ee,es,en;if(!eq){while(eg<eu){eo=eg;ea=eg+ek.width;while(eg<ea){ej=ei=ek.pixels.getPixel(eg);ed=eg-1;ep=eg+1;ef=eg-ek.width;eh=eg+ek.width;if(ed<eo){ed=eg}if(ep>=ea){ep=eg}if(ef<0){ef=0}if(eh>=eu){eh=eg}et=ek.pixels.getPixel(ef);em=ek.pixels.getPixel(ed);d9=ek.pixels.getPixel(eh);eb=ek.pixels.getPixel(ep);ec=77*(ej>>16&255)+151*(ej>>8&255)+28*(ej&255);ee=77*(em>>16&255)+151*(em>>8&255)+28*(em&255);er=77*(eb>>16&255)+151*(eb>>8&255)+28*(eb&255);es=77*(et>>16&255)+151*(et>>8&255)+28*(et&255);en=77*(d9>>16&255)+151*(d9>>8&255)+28*(d9&255);if(ee>ec){ei=em;ec=ee}if(er>ec){ei=eb;ec=er}if(es>ec){ei=et;ec=es}if(en>ec){ei=d9;ec=en}el[eg++]=ei}}}else{while(eg<eu){eo=eg;ea=eg+ek.width;while(eg<ea){ej=ei=ek.pixels.getPixel(eg);ed=eg-1;ep=eg+1;ef=eg-ek.width;eh=eg+ek.width;if(ed<eo){ed=eg}if(ep>=ea){ep=eg}if(ef<0){ef=0}if(eh>=eu){eh=eg}et=ek.pixels.getPixel(ef);em=ek.pixels.getPixel(ed);d9=ek.pixels.getPixel(eh);eb=ek.pixels.getPixel(ep);ec=77*(ej>>16&255)+151*(ej>>8&255)+28*(ej&255);ee=77*(em>>16&255)+151*(em>>8&255)+28*(em&255);er=77*(eb>>16&255)+151*(eb>>8&255)+28*(eb&255);es=77*(et>>16&255)+151*(et>>8&255)+28*(et&255);en=77*(d9>>16&255)+151*(d9>>8&255)+28*(d9&255);if(ee<ec){ei=em;ec=ee}if(er<ec){ei=eb;ec=er}if(es<ec){ei=et;ec=es}if(en<ec){ei=d9;ec=en}el[eg++]=ei}}}ek.pixels.set(el)};cV.filter=function(eg,ef,ec){var ej,ee,ea,ei;if(arguments.length===3){ec.loadPixels();ej=ec}else{cV.loadPixels();ej=cV}if(ef===t){ef=null}if(ej.isRemote){throw"Image is loaded remotely. Cannot filter image."}var ek=ej.pixels.getLength();switch(eg){case B.BLUR:var el=ef||1;b6(el,ej);break;case B.GRAY:if(ej.format===B.ALPHA){for(ei=0;ei<ek;ei++){ee=255-ej.pixels.getPixel(ei);ej.pixels.setPixel(ei,(4278190080|(ee<<16)|(ee<<8)|ee))}ej.format=B.RGB}else{for(ei=0;ei<ek;ei++){ee=ej.pixels.getPixel(ei);ea=(77*(ee>>16&255)+151*(ee>>8&255)+28*(ee&255))>>8;ej.pixels.setPixel(ei,((ee&B.ALPHA_MASK)|ea<<16|ea<<8|ea))}}break;case B.INVERT:for(ei=0;ei<ek;ei++){ej.pixels.setPixel(ei,(ej.pixels.getPixel(ei)^16777215))}break;case B.POSTERIZE:if(ef===null){throw"Use filter(POSTERIZE, int levels) instead of filter(POSTERIZE)"}var eo=cV.floor(ef);if((eo<2)||(eo>255)){throw"Levels must be between 2 and 255 for filter(POSTERIZE, levels)"}var eh=eo-1;for(ei=0;ei<ek;ei++){var d9=(ej.pixels.getPixel(ei)>>16)&255;var em=(ej.pixels.getPixel(ei)>>8)&255;var eb=ej.pixels.getPixel(ei)&255;d9=(((d9*eo)>>8)*255)/eh;em=(((em*eo)>>8)*255)/eh;eb=(((eb*eo)>>8)*255)/eh;ej.pixels.setPixel(ei,((4278190080&ej.pixels.getPixel(ei))|(d9<<16)|(em<<8)|eb))}break;case B.OPAQUE:for(ei=0;ei<ek;ei++){ej.pixels.setPixel(ei,(ej.pixels.getPixel(ei)|4278190080))}ej.format=B.RGB;break;case B.THRESHOLD:if(ef===null){ef=0.5}if((ef<0)||(ef>1)){throw"Level must be between 0 and 1 for filter(THRESHOLD, level)"}var ed=cV.floor(ef*255);for(ei=0;ei<ek;ei++){var en=cV.max((ej.pixels.getPixel(ei)&B.RED_MASK)>>16,cV.max((ej.pixels.getPixel(ei)&B.GREEN_MASK)>>8,(ej.pixels.getPixel(ei)&B.BLUE_MASK)));ej.pixels.setPixel(ei,((ej.pixels.getPixel(ei)&B.ALPHA_MASK)|((en<ed)?0:16777215)))}break;case B.ERODE:ce(true,ej);break;case B.DILATE:ce(false,ej);break}ej.updatePixels()};cV.shared={fracU:0,ifU:0,fracV:0,ifV:0,u1:0,u2:0,v1:0,v2:0,sX:0,sY:0,iw:0,iw1:0,ih1:0,ul:0,ll:0,ur:0,lr:0,cUL:0,cLL:0,cUR:0,cLR:0,srcXOffset:0,srcYOffset:0,r:0,g:0,b:0,a:0,srcBuffer:null,blurRadius:0,blurKernelSize:0,blurKernel:null};cV.intersect=function(eb,ei,ea,eh,em,ef,el,ee){var ek=ea-eb+1;var ed=eh-ei+1;var d9=el-em+1;var eg=ee-ef+1;if(em<eb){d9+=em-eb;if(d9>ek){d9=ek}}else{var ej=ek+eb-em;if(d9>ej){d9=ej}}if(ef<ei){eg+=ef-ei;if(eg>ed){eg=ed}}else{var ec=ed+ei-ef;if(eg>ec){eg=ec}}return !(d9<=0||eg<=0)};var dR={};dR[B.BLEND]=cV.modes.blend;dR[B.ADD]=cV.modes.add;dR[B.SUBTRACT]=cV.modes.subtract;dR[B.LIGHTEST]=cV.modes.lightest;dR[B.DARKEST]=cV.modes.darkest;dR[B.REPLACE]=cV.modes.replace;dR[B.DIFFERENCE]=cV.modes.difference;dR[B.EXCLUSION]=cV.modes.exclusion;dR[B.MULTIPLY]=cV.modes.multiply;dR[B.SCREEN]=cV.modes.screen;dR[B.OVERLAY]=cV.modes.overlay;dR[B.HARD_LIGHT]=cV.modes.hard_light;dR[B.SOFT_LIGHT]=cV.modes.soft_light;dR[B.DODGE]=cV.modes.dodge;dR[B.BURN]=cV.modes.burn;cV.blit_resize=function(em,ey,es,ex,er,eD,ei,eq,ew,en,ev,el,eo){var eB,eA;if(ey<0){ey=0}if(es<0){es=0}if(ex>=em.width){ex=em.width-1}if(er>=em.height){er=em.height-1}var eH=ex-ey;var eM=er-es;var d9=ev-ew;var ej=el-en;if(d9<=0||ej<=0||eH<=0||eM<=0||ew>=ei||en>=eq||ey>=em.width||es>=em.height){return}var eg=q.floor(eH/d9*B.PRECISIONF);var ed=q.floor(eM/ej*B.PRECISIONF);var eF=cV.shared;eF.srcXOffset=q.floor(ew<0?-ew*eg:ey*B.PRECISIONF);eF.srcYOffset=q.floor(en<0?-en*ed:es*B.PRECISIONF);if(ew<0){d9+=ew;ew=0}if(en<0){ej+=en;en=0}d9=q.min(d9,ei-ew);ej=q.min(ej,eq-en);var et=en*ei+ew;var eP;eF.srcBuffer=em.imageData.data;eF.iw=em.width;eF.iw1=em.width-1;eF.ih1=em.height-1;var eu=cV.filter_bilinear,eJ=cV.filter_new_scanline,eh=dR[eo],eG,eL,eE,eI,eb,ec,ea=B.ALPHA_MASK,eK=B.RED_MASK,ez=B.GREEN_MASK,ef=B.BLUE_MASK,eO=B.PREC_MAXVAL,eC=B.PRECISIONB,ek=B.PREC_RED_SHIFT,ep=B.PREC_ALPHA_SHIFT,ee=eF.srcBuffer,eN=q.min;for(eA=0;eA<ej;eA++){eF.sX=eF.srcXOffset;eF.fracV=eF.srcYOffset&eO;eF.ifV=eO-eF.fracV;eF.v1=(eF.srcYOffset>>eC)*eF.iw;eF.v2=eN((eF.srcYOffset>>eC)+1,eF.ih1)*eF.iw;for(eB=0;eB<d9;eB++){eL=(et+eB)*4;eP=(eD[eL+3]<<24)&ea|(eD[eL]<<16)&eK|(eD[eL+1]<<8)&ez|eD[eL+2]&ef;eF.fracU=eF.sX&eO;eF.ifU=eO-eF.fracU;eF.ul=(eF.ifU*eF.ifV)>>eC;eF.ll=(eF.ifU*eF.fracV)>>eC;eF.ur=(eF.fracU*eF.ifV)>>eC;eF.lr=(eF.fracU*eF.fracV)>>eC;eF.u1=(eF.sX>>eC);eF.u2=eN(eF.u1+1,eF.iw1);eE=(eF.v1+eF.u1)*4;eI=(eF.v1+eF.u2)*4;eb=(eF.v2+eF.u1)*4;ec=(eF.v2+eF.u2)*4;eF.cUL=(ee[eE+3]<<24)&ea|(ee[eE]<<16)&eK|(ee[eE+1]<<8)&ez|ee[eE+2]&ef;eF.cUR=(ee[eI+3]<<24)&ea|(ee[eI]<<16)&eK|(ee[eI+1]<<8)&ez|ee[eI+2]&ef;eF.cLL=(ee[eb+3]<<24)&ea|(ee[eb]<<16)&eK|(ee[eb+1]<<8)&ez|ee[eb+2]&ef;eF.cLR=(ee[ec+3]<<24)&ea|(ee[ec]<<16)&eK|(ee[ec+1]<<8)&ez|ee[ec+2]&ef;eF.r=((eF.ul*((eF.cUL&eK)>>16)+eF.ll*((eF.cLL&eK)>>16)+eF.ur*((eF.cUR&eK)>>16)+eF.lr*((eF.cLR&eK)>>16))<<ek)&eK;eF.g=((eF.ul*(eF.cUL&ez)+eF.ll*(eF.cLL&ez)+eF.ur*(eF.cUR&ez)+eF.lr*(eF.cLR&ez))>>>eC)&ez;eF.b=(eF.ul*(eF.cUL&ef)+eF.ll*(eF.cLL&ef)+eF.ur*(eF.cUR&ef)+eF.lr*(eF.cLR&ef))>>>eC;eF.a=((eF.ul*((eF.cUL&ea)>>>24)+eF.ll*((eF.cLL&ea)>>>24)+eF.ur*((eF.cUR&ea)>>>24)+eF.lr*((eF.cLR&ea)>>>24))<<ep)&ea;eG=eh(eP,(eF.a|eF.r|eF.g|eF.b));eD[eL]=(eG&eK)>>>16;eD[eL+1]=(eG&ez)>>>8;eD[eL+2]=(eG&ef);eD[eL+3]=(eG&ea)>>>24;eF.sX+=eg}et+=ei;eF.srcYOffset+=ed}};cV.loadFont=function(ea,eb){if(ea===t){throw ("font name required in loadFont.")}if(ea.indexOf(".svg")===-1){if(eb===t){eb=W.size}return H.get(ea,eb)}var d9=cV.loadGlyphs(ea);return{name:ea,css:"12px sans-serif",glyph:true,units_per_em:d9.units_per_em,horiz_adv_x:1/d9.units_per_em*d9.horiz_adv_x,ascent:d9.ascent,descent:d9.descent,width:function(eg){var ee=0;var ec=eg.length;for(var ed=0;ed<ec;ed++){try{ee+=parseFloat(cV.glyphLook(cV.glyphTable[ea],eg[ed]).horiz_adv_x)}catch(ef){F.debug(ef)}}return ee/cV.glyphTable[ea].units_per_em}}};cV.createFont=function(d9,ea){return cV.loadFont(d9,ea)};cV.textFont=function(d9,eb){if(eb!==t){if(!d9.glyph){d9=H.get(d9.name,eb)}dZ=eb}W=d9;Y=W.name;a3=W.ascent;dz=W.descent;d6=W.leading;var ea=dX.$ensureContext();ea.font=W.css};cV.textSize=function(ea){W=H.get(Y,ea);dZ=ea;a3=W.ascent;dz=W.descent;d6=W.leading;var d9=dX.$ensureContext();d9.font=W.css};cV.textAscent=function(){return a3};cV.textDescent=function(){return dz};cV.textLeading=function(d9){d6=d9};cV.textAlign=function(ea,d9){N=ea;c0=d9||B.BASELINE};function bu(d9){if(d9 instanceof String){return d9}if(typeof d9==="number"){if(d9===(0|d9)){return d9.toString()}return cV.nf(d9,0,3)}if(d9===null||d9===t){return""}return d9.toString()}bQ.prototype.textWidth=function(ed){var d9=bu(ed).split(/\r?\n/g),eb=0;var ea,ec=d9.length;d7.font=W.css;for(ea=0;ea<ec;++ea){eb=q.max(eb,W.measureTextWidth(d9[ea]))}return eb|0};bB.prototype.textWidth=function(ee){var d9=bu(ee).split(/\r?\n/g),ec=0;var eb,ed=d9.length;if(cD===t){cD=d.createElement("canvas")}var ea=cD.getContext("2d");ea.font=W.css;for(eb=0;eb<ed;++eb){ec=q.max(ec,ea.measureText(d9[eb]).width)}return ec|0};cV.glyphLook=function(d9,ea){try{switch(ea){case"1":return d9.one;case"2":return d9.two;case"3":return d9.three;case"4":return d9.four;case"5":return d9.five;case"6":return d9.six;case"7":return d9.seven;case"8":return d9.eight;case"9":return d9.nine;case"0":return d9.zero;case" ":return d9.space;case"$":return d9.dollar;case"!":return d9.exclam;case'"':return d9.quotedbl;case"#":return d9.numbersign;case"%":return d9.percent;case"&":return d9.ampersand;case"'":return d9.quotesingle;case"(":return d9.parenleft;case")":return d9.parenright;case"*":return d9.asterisk;case"+":return d9.plus;case",":return d9.comma;case"-":return d9.hyphen;case".":return d9.period;case"/":return d9.slash;case"_":return d9.underscore;case":":return d9.colon;case";":return d9.semicolon;case"<":return d9.less;case"=":return d9.equal;case">":return d9.greater;case"?":return d9.question;case"@":return d9.at;case"[":return d9.bracketleft;case"\\":return d9.backslash;case"]":return d9.bracketright;case"^":return d9.asciicircum;case"`":return d9.grave;case"{":return d9.braceleft;case"|":return d9.bar;case"}":return d9.braceright;case"~":return d9.asciitilde;default:return d9[ea]}}catch(eb){F.debug(eb)}};bQ.prototype.text$line=function(eh,ek,ej,ei,ee){var eg=0,ef=0;if(!W.glyph){if(eh&&("fillText" in d7)){if(aq){d7.fillStyle=cV.color.toString(a1);aq=false}if(ee===B.RIGHT||ee===B.CENTER){eg=W.measureTextWidth(eh);if(ee===B.RIGHT){ef=-eg}else{ef=-eg/2}}d7.fillText(eh,ek+ef,ej)}}else{var d9=cV.glyphTable[Y];aD();d7.translate(ek,ej+dZ);if(ee===B.RIGHT||ee===B.CENTER){eg=d9.width(eh);if(ee===B.RIGHT){ef=-eg}else{ef=-eg/2}}var el=d9.units_per_em,ed=1/el*dZ;d7.scale(ed,ed);for(var ea=0,eb=eh.length;ea<eb;ea++){try{cV.glyphLook(d9,eh[ea]).draw()}catch(ec){F.debug(ec)}}cO()}};bB.prototype.text$line=function(eg,ek,ej,eh,ee){if(cD===t){cD=d.createElement("canvas")}var ea=d7;d7=cD.getContext("2d");d7.font=W.css;var ef=W.measureTextWidth(eg);cD.width=ef;cD.height=dZ;d7=cD.getContext("2d");d7.font=W.css;d7.textBaseline="top";bQ.prototype.text$line(eg,0,0,0,B.LEFT);var d9=cD.width/cD.height;d7=ea;d7.bindTexture(d7.TEXTURE_2D,bR);d7.texImage2D(d7.TEXTURE_2D,0,d7.RGBA,d7.RGBA,d7.UNSIGNED_BYTE,cD);d7.texParameteri(d7.TEXTURE_2D,d7.TEXTURE_MAG_FILTER,d7.LINEAR);d7.texParameteri(d7.TEXTURE_2D,d7.TEXTURE_MIN_FILTER,d7.LINEAR);d7.texParameteri(d7.TEXTURE_2D,d7.TEXTURE_WRAP_T,d7.CLAMP_TO_EDGE);d7.texParameteri(d7.TEXTURE_2D,d7.TEXTURE_WRAP_S,d7.CLAMP_TO_EDGE);var ed=0;if(ee===B.RIGHT){ed=-ef}else{if(ee===B.CENTER){ed=-ef/2}}var eb=new aP();var ec=dZ*0.5;eb.translate(ek+ed-ec/2,ej-ec,eh);eb.scale(-d9*ec,-ec,ec);eb.translate(-1,-1,-1);eb.transpose();var ei=new aP();ei.scale(1,-1,1);ei.apply(dI.array());ei.transpose();d7.useProgram(dP);db("aVertex2d",dP,"aVertex",3,cG);db("aTextureCoord2d",dP,"aTextureCoord",2,ac);dY("uSampler2d",dP,"uSampler",[0]);dY("uIsDrawingText2d",dP,"uIsDrawingText",true);a9("uModel2d",dP,"uModel",false,eb.array());a9("uView2d",dP,"uView",false,ei.array());d1("uColor2d",dP,"uColor",bo);d7.bindBuffer(d7.ELEMENT_ARRAY_BUFFER,R);d7.drawElements(d7.TRIANGLES,6,d7.UNSIGNED_SHORT,0)};function bi(ec,ef,ee,ed){var eh,eb;if(ec.indexOf("\n")<0){eh=[ec];eb=1}else{eh=ec.split(/\r?\n/g);eb=eh.length}var d9=0;if(c0===B.TOP){d9=a3+dz}else{if(c0===B.CENTER){d9=a3/2-(eb-1)*d6/2}else{if(c0===B.BOTTOM){d9=-(dz+(eb-1)*d6)}}}for(var ea=0;ea<eb;++ea){var eg=eh[ea];dX.text$line(eg,ef,ee+d9,ed,N);d9+=d6}}function bd(ep,ek,ej,eo,em,ei){if(ep.length===0||eo===0||em===0){return}if(dZ>em){return}var el=-1;var ed=0;var d9=0;var ef=[];for(var ee=0,er=ep.length;ee<er;ee++){var eg=ep[ee];var eu=(eg===" ");var en=W.measureTextWidth(eg);if(eg!=="\n"&&(d9+en<=eo)){if(eu){el=ee}d9+=en}else{if(el+1===ed){if(ee>0){el=ee}else{return}}if(eg==="\n"){ef.push({text:ep.substring(ed,ee),width:d9});ed=ee+1}else{ef.push({text:ep.substring(ed,el+1),width:d9});ed=el+1}d9=0;ee=ed-1}}if(ed<er){ef.push({text:ep.substring(ed),width:d9})}var et=1,eh=a3;if(N===B.CENTER){et=eo/2}else{if(N===B.RIGHT){et=eo}}var eq=ef.length,ea=q.min(eq,q.floor(em/d6));if(c0===B.TOP){eh=a3+dz}else{if(c0===B.CENTER){eh=(em/2)-d6*(ea/2-1)}else{if(c0===B.BOTTOM){eh=dz+d6}}}var eb,ec,es;for(eb=0;eb<eq;eb++){es=eb*d6;if(eh+es>em-dz){break}ec=ef[eb];dX.text$line(ec.text,ek+et,ej+eh+es,ei,N)}}cV.text=function(){if(cH===B.SHAPE){return}if(arguments.length===3){bi(bu(arguments[0]),arguments[1],arguments[2],0)}else{if(arguments.length===4){bi(bu(arguments[0]),arguments[1],arguments[2],arguments[3])}else{if(arguments.length===5){bd(bu(arguments[0]),arguments[1],arguments[2],arguments[3],arguments[4],0)}else{if(arguments.length===6){bd(bu(arguments[0]),arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}}}}};cV.textMode=function(d9){cH=d9};cV.loadGlyphs=function(ef){var eh,eg,ed,eb,eo,en,em,ep,ej,eq,ek,el="[0-9\\-]+",ei;var ee=function(ew,ev){var et=0,es=[],er,eu=new RegExp(ew,"g");er=es[et]=eu.exec(ev);while(er){et++;er=es[et]=eu.exec(ev)}return es};var ea=function(ew){var ex=ee("[A-Za-z][0-9\\- ]+|Z",ew);var ev=function(){aD();return dX.$ensureContext()};var et=function(){bn();dc();cO()};ei="return {draw:function(){var curContext=beforePathDraw();curContext.beginPath();";eh=0;eg=0;ed=0;eb=0;eo=0;en=0;ew=0;ep=0;ej="";eq=ex.length-1;for(var es=0;es<eq;es++){var er=ex[es][0],eu=ee(el,er);switch(er[0]){case"M":eh=parseFloat(eu[0][0]);eg=parseFloat(eu[1][0]);ei+="curContext.moveTo("+eh+","+(-eg)+");";break;case"L":eh=parseFloat(eu[0][0]);eg=parseFloat(eu[1][0]);ei+="curContext.lineTo("+eh+","+(-eg)+");";break;case"H":eh=parseFloat(eu[0][0]);ei+="curContext.lineTo("+eh+","+(-eg)+");";break;case"V":eg=parseFloat(eu[0][0]);ei+="curContext.lineTo("+eh+","+(-eg)+");";break;case"T":eo=parseFloat(eu[0][0]);en=parseFloat(eu[1][0]);if(ej==="Q"||ej==="T"){ew=q.sqrt(q.pow(eh-ed,2)+q.pow(eb-eg,2));ep=q.PI+q.atan2(ed-eh,eb-eg);ed=eh+(q.sin(ep)*(ew));eb=eg+(q.cos(ep)*(ew))}else{ed=eh;eb=eg}ei+="curContext.quadraticCurveTo("+ed+","+(-eb)+","+eo+","+(-en)+");";eh=eo;eg=en;break;case"Q":ed=parseFloat(eu[0][0]);eb=parseFloat(eu[1][0]);eo=parseFloat(eu[2][0]);en=parseFloat(eu[3][0]);ei+="curContext.quadraticCurveTo("+ed+","+(-eb)+","+eo+","+(-en)+");";eh=eo;eg=en;break;case"Z":ei+="curContext.closePath();";break}ej=er[0]}ei+="afterPathDraw();";ei+="curContext.translate("+ek+",0);";ei+="}}";return((new Function("beforePathDraw","afterPathDraw",ei))(ev,et))};var d9=function(eu){var et=eu.getElementsByTagName("font");cV.glyphTable[ef].horiz_adv_x=et[0].getAttribute("horiz-adv-x");var ew=eu.getElementsByTagName("font-face")[0];cV.glyphTable[ef].units_per_em=parseFloat(ew.getAttribute("units-per-em"));cV.glyphTable[ef].ascent=parseFloat(ew.getAttribute("ascent"));cV.glyphTable[ef].descent=parseFloat(ew.getAttribute("descent"));var ey=eu.getElementsByTagName("glyph"),es=ey.length;for(var ex=0;ex<es;ex++){var er=ey[ex].getAttribute("unicode");var ev=ey[ex].getAttribute("glyph-name");ek=ey[ex].getAttribute("horiz-adv-x");if(ek===null){ek=cV.glyphTable[ef].horiz_adv_x}em=ey[ex].getAttribute("d");if(em!==t){ei=ea(em);cV.glyphTable[ef][ev]={name:ev,unicode:er,horiz_adv_x:ek,draw:ei.draw}}}};var ec=function(){var et;try{et=d.implementation.createDocument("","",null)}catch(ev){F.debug(ev.message);return}try{et.async=false;et.load(ef);d9(et.getElementsByTagName("svg")[0])}catch(es){F.debug(es);try{var er=new D.XMLHttpRequest();er.open("GET",ef,false);er.send(null);d9(er.responseXML.documentElement)}catch(eu){F.debug(es)}}};cV.glyphTable[ef]={};ec(ef);return cV.glyphTable[ef]};cV.param=function(eb){var ea="data-processing-"+eb;if(ae.hasAttribute(ea)){return ae.getAttribute(ea)}for(var ec=0,d9=ae.childNodes.length;ec<d9;++ec){var ed=ae.childNodes.item(ec);if(ed.nodeType!==1||ed.tagName.toLowerCase()!=="param"){continue}if(ed.getAttribute("name")===eb){return ed.getAttribute("value")}}if(cP.params.hasOwnProperty(eb)){return cP.params[eb]}return null};function cK(ea){if(ea==="3D"){dX=new bB()}else{if(ea==="2D"){dX=new bQ()}else{dX=new b9()}}for(var d9 in b9.prototype){if(b9.prototype.hasOwnProperty(d9)&&d9.indexOf("$")<0){cV[d9]=dX[d9]}}dX.$init()}function cT(d9){return function(){cK("2D");return dX[d9].apply(this,arguments)}}b9.prototype.translate=cT("translate");b9.prototype.transform=cT("transform");b9.prototype.scale=cT("scale");b9.prototype.pushMatrix=cT("pushMatrix");b9.prototype.popMatrix=cT("popMatrix");b9.prototype.resetMatrix=cT("resetMatrix");b9.prototype.applyMatrix=cT("applyMatrix");b9.prototype.rotate=cT("rotate");b9.prototype.rotateZ=cT("rotateZ");b9.prototype.shearX=cT("shearX");b9.prototype.shearY=cT("shearY");b9.prototype.redraw=cT("redraw");b9.prototype.toImageData=cT("toImageData");b9.prototype.ambientLight=cT("ambientLight");b9.prototype.directionalLight=cT("directionalLight");b9.prototype.lightFalloff=cT("lightFalloff");b9.prototype.lightSpecular=cT("lightSpecular");b9.prototype.pointLight=cT("pointLight");b9.prototype.noLights=cT("noLights");b9.prototype.spotLight=cT("spotLight");b9.prototype.beginCamera=cT("beginCamera");b9.prototype.endCamera=cT("endCamera");b9.prototype.frustum=cT("frustum");b9.prototype.box=cT("box");b9.prototype.sphere=cT("sphere");b9.prototype.ambient=cT("ambient");b9.prototype.emissive=cT("emissive");b9.prototype.shininess=cT("shininess");b9.prototype.specular=cT("specular");b9.prototype.fill=cT("fill");b9.prototype.stroke=cT("stroke");b9.prototype.strokeWeight=cT("strokeWeight");b9.prototype.smooth=cT("smooth");b9.prototype.noSmooth=cT("noSmooth");b9.prototype.point=cT("point");b9.prototype.vertex=cT("vertex");b9.prototype.endShape=cT("endShape");b9.prototype.bezierVertex=cT("bezierVertex");b9.prototype.curveVertex=cT("curveVertex");b9.prototype.curve=cT("curve");b9.prototype.line=cT("line");b9.prototype.bezier=cT("bezier");b9.prototype.rect=cT("rect");b9.prototype.ellipse=cT("ellipse");b9.prototype.background=cT("background");b9.prototype.image=cT("image");b9.prototype.textWidth=cT("textWidth");b9.prototype.text$line=cT("text$line");b9.prototype.$ensureContext=cT("$ensureContext");b9.prototype.$newPMatrix=cT("$newPMatrix");b9.prototype.size=function(d9,eb,ea){cK(ea===B.WEBGL?"3D":"2D");cV.size(d9,eb,ea)};b9.prototype.$init=G;bQ.prototype.$init=function(){cV.size(cV.width,cV.height);d7.lineCap="round";cV.noSmooth();cV.disableContextMenu()};bB.prototype.$init=function(){cV.use3DContext=true;cV.disableContextMenu()};dr.prototype.$ensureContext=function(){return d7};function dx(ea,ec){var eb=ea,d9=0,ed=0;cV.pmouseX=cV.mouseX;cV.pmouseY=cV.mouseY;if(eb.offsetParent){do{d9+=eb.offsetLeft;ed+=eb.offsetTop}while(!!(eb=eb.offsetParent))}eb=ea;do{d9-=eb.scrollLeft||0;ed-=eb.scrollTop||0}while(!!(eb=eb.parentNode));d9+=ad;ed+=dn;d9+=aU;ed+=bW;d9+=D.pageXOffset;ed+=D.pageYOffset;return{X:d9,Y:ed}}function aI(d9,ea){var eb=dx(d9,ea);cV.mouseX=ea.pageX-eb.X;cV.mouseY=ea.pageY-eb.Y}function ct(ea){var ec=dx(ea.changedTouches[0].target,ea.changedTouches[0]),d9;for(d9=0;d9<ea.touches.length;d9++){var ee=ea.touches[d9];ee.offsetX=ee.pageX-ec.X;ee.offsetY=ee.pageY-ec.Y}for(d9=0;d9<ea.targetTouches.length;d9++){var eb=ea.targetTouches[d9];eb.offsetX=eb.pageX-ec.X;eb.offsetY=eb.pageY-ec.Y}for(d9=0;d9<ea.changedTouches.length;d9++){var ed=ea.changedTouches[d9];ed.offsetX=ed.pageX-ec.X;ed.offsetY=ed.pageY-ec.Y}return ea}bN(ae,"touchstart",function(eb){ae.setAttribute("style","-webkit-user-select: none");ae.setAttribute("onclick","void(0)");ae.setAttribute("style","-webkit-tap-highlight-color:rgba(0,0,0,0)");for(var ea=0,d9=au.length;ea<d9;ea++){var ec=au[ea].type;if(ec==="mouseout"||ec==="mousemove"||ec==="mousedown"||ec==="mouseup"||ec==="DOMMouseScroll"||ec==="mousewheel"||ec==="touchstart"){dd(au[ea])}}if(cV.touchStart!==t||cV.touchMove!==t||cV.touchEnd!==t||cV.touchCancel!==t){bN(ae,"touchstart",function(ed){if(cV.touchStart!==t){ed=ct(ed);cV.touchStart(ed)}});bN(ae,"touchmove",function(ed){if(cV.touchMove!==t){ed.preventDefault();ed=ct(ed);cV.touchMove(ed)}});bN(ae,"touchend",function(ed){if(cV.touchEnd!==t){ed=ct(ed);cV.touchEnd(ed)}});bN(ae,"touchcancel",function(ed){if(cV.touchCancel!==t){ed=ct(ed);cV.touchCancel(ed)}})}else{bN(ae,"touchstart",function(ed){aI(ae,ed.touches[0]);cV.__mousePressed=true;cV.mouseDragging=false;cV.mouseButton=B.LEFT;if(typeof cV.mousePressed==="function"){cV.mousePressed()}});bN(ae,"touchmove",function(ed){ed.preventDefault();aI(ae,ed.touches[0]);if(typeof cV.mouseMoved==="function"&&!cV.__mousePressed){cV.mouseMoved()}if(typeof cV.mouseDragged==="function"&&cV.__mousePressed){cV.mouseDragged();cV.mouseDragging=true}});bN(ae,"touchend",function(ed){cV.__mousePressed=false;if(typeof cV.mouseClicked==="function"&&!cV.mouseDragging){cV.mouseClicked()}if(typeof cV.mouseReleased==="function"){cV.mouseReleased()}})}ae.dispatchEvent(eb)});(function(){var d9=true,ea=function(eb){eb.preventDefault();eb.stopPropagation()};cV.disableContextMenu=function(){if(!d9){return}bN(ae,"contextmenu",ea);d9=false};cV.enableContextMenu=function(){if(d9){return}dd({elem:ae,type:"contextmenu",fn:ea});d9=true}}());bN(ae,"mousemove",function(d9){aI(ae,d9);if(typeof cV.mouseMoved==="function"&&!cV.__mousePressed){cV.mouseMoved()}if(typeof cV.mouseDragged==="function"&&cV.__mousePressed){cV.mouseDragged();cV.mouseDragging=true}});bN(ae,"mouseout",function(d9){if(typeof cV.mouseOut==="function"){cV.mouseOut()}});bN(ae,"mouseover",function(d9){aI(ae,d9);if(typeof cV.mouseOver==="function"){cV.mouseOver()}});ae.onmousedown=function(){ae.focus();return false};bN(ae,"mousedown",function(d9){cV.__mousePressed=true;cV.mouseDragging=false;switch(d9.which){case 1:cV.mouseButton=B.LEFT;break;case 2:cV.mouseButton=B.CENTER;break;case 3:cV.mouseButton=B.RIGHT;break}if(typeof cV.mousePressed==="function"){cV.mousePressed()}});bN(ae,"mouseup",function(d9){cV.__mousePressed=false;if(typeof cV.mouseClicked==="function"&&!cV.mouseDragging){cV.mouseClicked()}if(typeof cV.mouseReleased==="function"){cV.mouseReleased()}});var an=function(d9){var ea=0;if(d9.wheelDelta){ea=d9.wheelDelta/120;if(D.opera){ea=-ea}}else{if(d9.detail){ea=-d9.detail/3}}cV.mouseScroll=ea;if(ea&&typeof cV.mouseScrolled==="function"){cV.mouseScrolled()}};bN(d,"DOMMouseScroll",an);bN(d,"mousewheel",an);if(!ae.getAttribute("tabindex")){ae.setAttribute("tabindex",0)}function dC(ea){var d9=ea.which||ea.keyCode;switch(d9){case 13:return 10;case 91:case 93:case 224:return 157;case 57392:return 17;case 46:return 127;case 45:return 155}return d9}function cA(ea){var eb=ea.which||ea.keyCode;var d9=ea.shiftKey||ea.ctrlKey||ea.altKey||ea.metaKey;switch(eb){case 13:eb=d9?13:10;break;case 8:eb=d9?127:8;break}return new bO(eb)}function cQ(d9){if(typeof d9.preventDefault==="function"){d9.preventDefault()}else{if(typeof d9.stopPropagation==="function"){d9.stopPropagation()}}return false}function dF(){var d9;for(d9 in ag){if(ag.hasOwnProperty(d9)){cV.__keyPressed=true;return}}cV.__keyPressed=false}function cw(){cV.__keyPressed=false;ag=[];dH=null}function bq(d9,ea){ag[d9]=ea;dH=null;cV.key=ea;cV.keyCode=d9;cV.keyPressed();cV.keyCode=0;cV.keyTyped();dF()}function cy(ea){var d9=dC(ea);if(d9===B.DELETE){bq(d9,new bO(127));return}if(dW.indexOf(d9)<0){dH=d9;return}var eb=new bO(B.CODED);cV.key=eb;cV.keyCode=d9;ag[d9]=eb;cV.keyPressed();dH=null;dF();return cQ(ea)}function du(ea){if(dH===null){return}var d9=dH,eb=cA(ea);bq(d9,eb);return cQ(ea)}function co(ea){var d9=dC(ea),eb=ag[d9];if(eb===t){return}cV.key=eb;cV.keyCode=d9;cV.keyReleased();delete ag[d9];dF()}if(!cU){if(ba instanceof F.Sketch){cP=ba}else{if(typeof ba==="function"){cP=new F.Sketch(ba)}else{if(!ba){cP=new F.Sketch(function(){})}else{cP=F.compile(ba)}}}cV.externals.sketch=cP;cK();ae.onfocus=function(){cV.focused=true};ae.onblur=function(){cV.focused=false;if(!cP.options.globalKeyEvents){cw()}};if(cP.options.pauseOnBlur){bN(D,"focus",function(){if(aC){cV.loop()}});bN(D,"blur",function(){if(aC&&ax){cV.noLoop();aC=true}cw()})}var aV=cP.options.globalKeyEvents?D:ae;bN(aV,"keydown",cy);bN(aV,"keypress",du);bN(aV,"keyup",co);for(var c3 in F.lib){if(F.lib.hasOwnProperty(c3)){if(F.lib[c3].hasOwnProperty("attach")){F.lib[c3].attach(cV)}else{if(F.lib[c3] instanceof Function){F.lib[c3].call(this)}}}}var dA=100;var b5=function(ec){if(!(cP.imageCache.pending||H.preloading.pending(dA))){if(D.opera){var eb,ea,d9=cP.imageCache.operaCache;for(eb in d9){if(d9.hasOwnProperty(eb)){ea=d9[eb];if(ea!==null){d.body.removeChild(ea)}delete (d9[eb])}}}cP.attach(ec,g);cP.onLoad(ec);if(ec.setup){ec.setup();ec.resetMatrix();cP.onSetup()}T();if(ec.draw){if(!aC){ec.redraw()}else{ec.loop()}}}else{D.setTimeout(function(){b5(ec)},dA)}};a(this);b5(cV)}else{cP=new F.Sketch();cK();cV.size=function(d9,eb,ea){if(ea&&ea===B.WEBGL){cK("3D")}else{cK("2D")}cV.size(d9,eb,ea)}}};F.debug=s;F.prototype=g;function u(){var R=["abs","acos","alpha","ambient","ambientLight","append","applyMatrix","arc","arrayCopy","asin","atan","atan2","background","beginCamera","beginDraw","beginShape","bezier","bezierDetail","bezierPoint","bezierTangent","bezierVertex","binary","blend","blendColor","blit_resize","blue","box","breakShape","brightness","camera","ceil","Character","color","colorMode","concat","constrain","copy","cos","createFont","createGraphics","createImage","cursor","curve","curveDetail","curvePoint","curveTangent","curveTightness","curveVertex","day","degrees","directionalLight","disableContextMenu","dist","draw","ellipse","ellipseMode","emissive","enableContextMenu","endCamera","endDraw","endShape","exit","exp","expand","externals","fill","filter","floor","focused","frameCount","frameRate","frustum","get","glyphLook","glyphTable","green","height","hex","hint","hour","hue","image","imageMode","intersect","join","key","keyCode","keyPressed","keyReleased","keyTyped","lerp","lerpColor","lightFalloff","lights","lightSpecular","line","link","loadBytes","loadFont","loadGlyphs","loadImage","loadPixels","loadShape","loadXML","loadStrings","log","loop","mag","map","match","matchAll","max","millis","min","minute","mix","modelX","modelY","modelZ","modes","month","mouseButton","mouseClicked","mouseDragged","mouseMoved","mouseOut","mouseOver","mousePressed","mouseReleased","mouseScroll","mouseScrolled","mouseX","mouseY","name","nf","nfc","nfp","nfs","noCursor","noFill","noise","noiseDetail","noiseSeed","noLights","noLoop","norm","normal","noSmooth","noStroke","noTint","ortho","param","parseBoolean","parseByte","parseChar","parseFloat","parseInt","peg","perspective","PImage","pixels","PMatrix2D","PMatrix3D","PMatrixStack","pmouseX","pmouseY","point","pointLight","popMatrix","popStyle","pow","print","printCamera","println","printMatrix","printProjection","PShape","PShapeSVG","pushMatrix","pushStyle","quad","radians","random","Random","randomSeed","rect","rectMode","red","redraw","requestImage","resetMatrix","reverse","rotate","rotateX","rotateY","rotateZ","round","saturation","save","saveFrame","saveStrings","scale","screenX","screenY","screenZ","second","set","setup","shape","shapeMode","shared","shearX","shearY","shininess","shorten","sin","size","smooth","sort","specular","sphere","sphereDetail","splice","split","splitTokens","spotLight","sq","sqrt","status","str","stroke","strokeCap","strokeJoin","strokeWeight","subset","tan","text","textAlign","textAscent","textDescent","textFont","textLeading","textMode","textSize","texture","textureMode","textWidth","tint","toImageData","touchCancel","touchEnd","touchMove","touchStart","translate","transform","triangle","trim","unbinary","unhex","updatePixels","use3DContext","vertex","width","XMLElement","XML","year","__contains","__equals","__equalsIgnoreCase","__frameRate","__hashCode","__int_cast","__instanceof","__keyPressed","__mousePressed","__printStackTrace","__replace","__replaceAll","__replaceFirst","__toCharArray","__split","__codePointAt","__startsWith","__endsWith","__matches"];var P={};var Q,O;for(Q=0,O=R.length;Q<O;++Q){P[R[Q]]=null}for(var S in F.lib){if(F.lib.hasOwnProperty(S)){if(F.lib[S].exports){var N=F.lib[S].exports;for(Q=0,O=N.length;Q<O;++Q){P[N[Q]]=null}}}}return P}function c(ar){var aX=u();function aE(bq){var bt=[];var bv=bq.split(/([\{\[\(\)\]\}])/);var by=bv[0];var bw=[];for(var bs=1;bs<bv.length;bs+=2){var bx=bv[bs];if(bx==="["||bx==="{"||bx==="("){bw.push(by);by=bx}else{if(bx==="]"||bx==="}"||bx===")"){var br=bx==="}"?"A":bx===")"?"B":"C";var bu=bt.length;bt.push(by+bx);by=bw.pop()+'"'+br+(bu+1)+'"'}}by+=bv[bs+1]}bt.unshift(by);return bt}function aj(br,bq){return br.replace(/'(\d+)'/g,function(bt,bs){var bu=bq[bs];if(bu.charAt(0)==="/"){return bu}return(/^'((?:[^'\\\n])|(?:\\.[0-9A-Fa-f]*))'$/).test(bu)?"(new $p.Character("+bu+"))":bu})}function aP(bt){var bs=/^\s*/.exec(bt),bq;if(bs[0].length===bt.length){bq={left:bs[0],middle:"",right:""}}else{var br=/\s*$/.exec(bt);bq={left:bs[0],middle:bt.substring(bs[0].length,br.index),right:br[0]}}bq.untrim=function(bu){return this.left+bu+this.right};return bq}function a6(bq){return bq.replace(/^\s+/,"").replace(/\s+$/,"")}function av(bs,bt){for(var br=0,bq=bt.length;br<bq;++br){bs[bt[br]]=null}return bs}function ba(br){for(var bq in br){if(br.hasOwnProperty(bq)){return false}}return true}function aQ(bq){return bq.substring(2,bq.length-1)}var bg=ar.replace(/\r\n?|\n\r/g,"\n");var N=[];var a3=bg.replace(/("(?:[^"\\\n]|\\.)*")|('(?:[^'\\\n]|\\.)*')|(([\[\(=|&!\^:?]\s*)(\/(?![*\/])(?:[^\/\\\n]|\\.)*\/[gim]*)\b)|(\/\/[^\n]*\n)|(\/\*(?:(?!\*\/)(?:.|\n))*\*\/)/g,function(by,br,bv,bw,bt,bx,bq,bs){var bu;if(br||bv){bu=N.length;N.push(by);return"'"+bu+"'"}if(bw){bu=N.length;N.push(bx);return bt+"'"+bu+"'"}return bs!==""?" ":"\n"});a3=a3.replace(/__x([0-9A-F]{4})/g,function(br,bq){return"__x005F_x"+bq});a3=a3.replace(/\$/g,"__x0024");var Z;var aA=a3;var aa=function(br,bs,bq,bt){if(!!bs||!!bt){return br}Z=true;return""};do{Z=false;aA=aA.replace(/([<]?)<\s*((?:\?|[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\[\])*(?:\s+(?:extends|super)\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)?(?:\s*,\s*(?:\?|[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\[\])*(?:\s+(?:extends|super)\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)?)*)\s*>([=]?)/g,aa)}while(Z);var bk=aE(aA);var al;var aJ={},a9,az=0;function bc(br,bq){var bs=bk.length;bk.push(br);return'"'+bq+bs+'"'}function a7(){return"class"+(++az)}function bl(br,bs,bq){br.classId=bs;br.scopeId=bq;aJ[bs]=br}var V,S,ap,aV,bi,aZ;var O=/\b((?:(?:public|private|final|protected|static|abstract)\s+)*)(class|interface)\s+([A-Za-z_$][\w$]*\b)(\s+extends\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\b)*)?(\s+implements\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\b)*)?\s*("A\d+")/g;var bb=/\b((?:(?:public|private|final|protected|static|abstract|synchronized)\s+)*)((?!(?:else|new|return|throw|function|public|private|protected)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*([A-Za-z_$][\w$]*\b)\s*("B\d+")(\s*throws\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)*)?\s*("A\d+"|;)/g;var aM=/^((?:(?:public|private|final|protected|static)\s+)*)((?!(?:else|new|return|throw)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*([A-Za-z_$][\w$]*\b)\s*(?:"C\d+"\s*)*([=,]|$)/;var bm=/\b((?:(?:public|private|final|protected|static|abstract)\s+)*)((?!(?:new|return|throw)\b)[A-Za-z_$][\w$]*\b)\s*("B\d+")(\s*throws\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)*)?\s*("A\d+")/g;var W=/^((?:(?:public|private|final|protected|static)\s+)*)((?!(?:new|return|throw)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*/;var au=/\bfunction(?:\s+([A-Za-z_$][\w$]*))?\s*("B\d+")\s*("A\d+")/g;function ae(br){var bq=br;bq=bq.replace(O,function(bs){return bc(bs,"E")});bq=bq.replace(bb,function(bs){return bc(bs,"D")});bq=bq.replace(au,function(bs){return bc(bs,"H")});return bq}function bd(bs,br){var bq=bs.replace(bm,function(bx,bu,bv,by,bw,bt){if(bv!==br){return bx}return bc(bx,"G")});return bq}function aH(bq){this.name=bq}aH.prototype.toString=function(){return this.name};function ao(br,bq){this.params=br;this.methodArgsParam=bq}ao.prototype.getNames=function(){var bs=[];for(var br=0,bq=this.params.length;br<bq;++br){bs.push(this.params[br].name)}return bs};ao.prototype.prependMethodArgs=function(bq){if(!this.methodArgsParam){return bq}return"{\nvar "+this.methodArgsParam.name+" = Array.prototype.slice.call(arguments, "+this.params.length+");\n"+bq.substring(1)};ao.prototype.toString=function(){if(this.params.length===0){return"()"}var bq="(";for(var bs=0,br=this.params.length;bs<br;++bs){bq+=this.params[bs]+", "}return bq.substring(0,bq.length-2)+")"};function aD(bw){var bt=a6(bw.substring(1,bw.length-1));var bq=[],bu=null;if(bt!==""){var br=bt.split(",");for(var bs=0;bs<br.length;++bs){var bv=/\b([A-Za-z_$][\w$]*\b)(\s*"[ABC][\d]*")*\s*$/.exec(br[bs]);if(bs===br.length-1&&br[bs].indexOf("...")>=0){bu=new aH(bv[1]);break}bq.push(new aH(bv[1]))}}return new ao(bq,bu)}function aq(bu){var bt=bu;bt=bt.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\s*"C\d+")+\s*("A\d+")/g,function(bw,bv,bx){return bx});bt=bt.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\s*"B\d+")\s*("A\d+")/g,function(bw,bv,bx){return bc(bw,"F")});bt=bt.replace(au,function(bv){return bc(bv,"H")});bt=bt.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)\s*("C\d+"(?:\s*"C\d+")*)/g,function(bA,bz,bx){var bw=bx.replace(/"C(\d+)"/g,function(bC,bB){return bk[bB]}).replace(/\[\s*\]/g,"[null]").replace(/\s*\]\s*\[\s*/g,", ");var by="{"+bw.substring(1,bw.length-1)+"}";var bv="('"+bz+"', "+bc(by,"A")+")";return"$p.createJavaArray"+bc(bv,"B")});bt=bt.replace(/(\.\s*length)\s*"B\d+"/g,"$1");bt=bt.replace(/#([0-9A-Fa-f]{6})\b/g,function(bv,bw){return"0xFF"+bw});bt=bt.replace(/"B(\d+)"(\s*(?:[\w$']|"B))/g,function(by,bw,bx){var bz=bk[bw];if(!/^\(\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\s*(?:"C\d+"\s*)*\)$/.test(bz)){return by}if(/^\(\s*int\s*\)$/.test(bz)){return"(int)"+bx}var bv=bz.split(/"C(\d+)"/g);if(bv.length>1){if(!/^\[\s*\]$/.test(bk[bv[1]])){return by}}return""+bx});bt=bt.replace(/\(int\)([^,\]\)\}\?\:\*\+\-\/\^\|\%\&\~<\>\=]+)/g,function(bw,bv){var bx=aP(bv);return bx.untrim("__int_cast("+bx.middle+")")});bt=bt.replace(/\bsuper(\s*"B\d+")/g,"$$superCstr$1").replace(/\bsuper(\s*\.)/g,"$$super$1");bt=bt.replace(/\b0+((\d*)(?:\.[\d*])?(?:[eE][\-\+]?\d+)?[fF]?)\b/,function(bx,bw,bv){if(bw===bv){return bx}return bv===""?"0"+bw:bw});bt=bt.replace(/\b(\.?\d+\.?)[fF]\b/g,"$1");bt=bt.replace(/([^\s])%([^=\s])/g,"$1 % $2");bt=bt.replace(/\b(frameRate|keyPressed|mousePressed)\b(?!\s*"B)/g,"__$1");bt=bt.replace(/\b(boolean|byte|char|float|int)\s*"B/g,function(bw,bv){return"parse"+bv.substring(0,1).toUpperCase()+bv.substring(1)+'"B'});bt=bt.replace(/\bpixels\b\s*(("C(\d+)")|\.length)?(\s*=(?!=)([^,\]\)\}]+))?/g,function(bw,bA,bv,bz,by,bB){if(bv){var bx=bk[bz];if(by){return"pixels.setPixel"+bc("("+bx.substring(1,bx.length-1)+","+bB+")","B")}return"pixels.getPixel"+bc("("+bx.substring(1,bx.length-1)+")","B")}if(bA){return"pixels.getLength"+bc("()","B")}if(by){return"pixels.set"+bc("("+bB+")","B")}return"pixels.toArray"+bc("()","B")});var bs;function br(bw,bv,bA,by){var bx=bk[by];bs=true;var bz=aP(bx.substring(1,bx.length-1));return"__"+bA+(bz.middle===""?bc("("+bv.replace(/\.\s*$/,"")+")","B"):bc("("+bv.replace(/\.\s*$/,"")+","+bz.middle+")","B"))}do{bs=false;bt=bt.replace(/((?:'\d+'|\b[A-Za-z_$][\w$]*\s*(?:"[BC]\d+")*)\s*\.\s*(?:[A-Za-z_$][\w$]*\s*(?:"[BC]\d+"\s*)*\.\s*)*)(replace|replaceAll|replaceFirst|contains|equals|equalsIgnoreCase|hashCode|toCharArray|printStackTrace|split|startsWith|endsWith|codePointAt|matches)\s*"B(\d+)"/g,br)}while(bs);function bq(bx,bv,bw){bs=true;return"__instanceof"+bc("("+bv+", "+bw+")","B")}do{bs=false;bt=bt.replace(/((?:'\d+'|\b[A-Za-z_$][\w$]*\s*(?:"[BC]\d+")*)\s*(?:\.\s*[A-Za-z_$][\w$]*\s*(?:"[BC]\d+"\s*)*)*)instanceof\s+([A-Za-z_$][\w$]*\s*(?:\.\s*[A-Za-z_$][\w$]*)*)/g,bq)}while(bs);bt=bt.replace(/\bthis(\s*"B\d+")/g,"$$constr$1");return bt}function aC(br,bq){this.baseInterfaceName=br;this.body=bq;bq.owner=this}aC.prototype.toString=function(){return"new ("+this.body+")"};function ai(bs){var br=new RegExp(/\bnew\s*([A-Za-z_$][\w$]*\s*(?:\.\s*[A-Za-z_$][\w$]*)*)\s*"B\d+"\s*"A(\d+)"/).exec(bs);var bv=a9,bu=a7();a9=bu;var bq=br[1]+"$"+bu;var bt=new aC(bq,V(bk[br[2]],bq,"","implements "+br[1]));bl(bt,bu,bv);a9=bv;return bt}function af(br,bs,bq){this.name=br;this.params=bs;this.body=bq}af.prototype.toString=function(){var bs=al;var bt=av({"this":null},this.params.getNames());al=function(bu){return bt.hasOwnProperty(bu.name)?bu.name:bs(bu)};var br="function";if(this.name){br+=" "+this.name}var bq=this.params.prependMethodArgs(this.body.toString());br+=this.params+" "+bq;al=bs;return br};function aK(br){var bq=new RegExp(/\b([A-Za-z_$][\w$]*)\s*"B(\d+)"\s*"A(\d+)"/).exec(br);return new af(bq[1]!=="function"?bq[1]:null,aD(bk[bq[2]]),ap(bk[bq[3]]))}function ad(bq){this.members=bq}ad.prototype.toString=function(){var bs=al;al=function(bu){return bu.name==="this"?"this":bs(bu)};var bq="";for(var bt=0,br=this.members.length;bt<br;++bt){if(this.members[bt].label){bq+=this.members[bt].label+": "}bq+=this.members[bt].value.toString()+", "}al=bs;return bq.substring(0,bq.length-2)};function aF(bt){var bq=bt.split(",");for(var bs=0;bs<bq.length;++bs){var br=bq[bs].indexOf(":");if(br<0){bq[bs]={value:aZ(bq[bs])}}else{bq[bs]={label:a6(bq[bs].substring(0,br)),value:aZ(a6(bq[bs].substring(br+1)))}}}return new ad(bq)}function ay(bs){if(bs.charAt(0)==="("||bs.charAt(0)==="["){return bs.charAt(0)+ay(bs.substring(1,bs.length-1))+bs.charAt(bs.length-1)}if(bs.charAt(0)==="{"){if(/^\{\s*(?:[A-Za-z_$][\w$]*|'\d+')\s*:/.test(bs)){return"{"+bc(bs.substring(1,bs.length-1),"I")+"}"}return"["+ay(bs.substring(1,bs.length-1))+"]"}var br=aP(bs);var bq=aq(br.middle);bq=bq.replace(/"[ABC](\d+)"/g,function(bu,bt){return ay(bk[bt])});return br.untrim(bq)}function R(bq){return bq.replace(/(\.\s*)?((?:\b[A-Za-z_]|\$)[\w$]*)(\s*\.\s*([A-Za-z_$][\w$]*)(\s*\()?)?/g,function(bt,bv,br,bx,bw,bu){if(bv){return bt}var bs={name:br,member:bw,callSign:!!bu};return al(bs)+(bx===t?"":bx)})}function bp(br,bq){this.expr=br;this.transforms=bq}bp.prototype.toString=function(){var bq=this.transforms;var br=R(this.expr);return br.replace(/"!(\d+)"/g,function(bt,bs){return bq[bs].toString()})};aZ=function(bs){var br=[];var bq=ay(bs);bq=bq.replace(/"H(\d+)"/g,function(bu,bt){br.push(aK(bk[bt]));return'"!'+(br.length-1)+'"'});bq=bq.replace(/"F(\d+)"/g,function(bu,bt){br.push(ai(bk[bt]));return'"!'+(br.length-1)+'"'});bq=bq.replace(/"I(\d+)"/g,function(bu,bt){br.push(aF(bk[bt]));return'"!'+(br.length-1)+'"'});return new bp(bq,br)};function a4(bq,bs,br){this.name=bq;this.value=bs;this.isDefault=br}a4.prototype.toString=function(){return this.name+" = "+this.value};function ak(bu,br){var bv=bu.indexOf("=");var bq,bt,bs;if(bv<0){bq=bu;bt=br;bs=true}else{bq=bu.substring(0,bv);bt=aZ(bu.substring(bv+1));bs=false}return new a4(a6(bq.replace(/(\s*"C\d+")+/g,"")),bt,bs)}function aT(bq){if(bq==="int"||bq==="float"){return"0"}if(bq==="boolean"){return"false"}if(bq==="color"){return"0x00000000"}return"null"}function aI(br,bq){this.definitions=br;this.varType=bq}aI.prototype.getNames=function(){var bs=[];for(var br=0,bq=this.definitions.length;br<bq;++br){bs.push(this.definitions[br].name)}return bs};aI.prototype.toString=function(){return"var "+this.definitions.join(",")};function ah(bq){this.expression=bq}ah.prototype.toString=function(){return this.expression.toString()};function bn(bu){if(aM.test(bu)){var bt=W.exec(bu);var bs=bu.substring(bt[0].length).split(",");var bq=aT(bt[2]);for(var br=0;br<bs.length;++br){bs[br]=ak(bs[br],bq)}return new aI(bs,bt[2])}return new ah(aZ(bu))}function a1(bq,bs,br){this.initStatement=bq;this.condition=bs;this.step=br}a1.prototype.toString=function(){return"("+this.initStatement+"; "+this.condition+"; "+this.step+")"};function aS(br,bq){this.initStatement=br;this.container=bq}aS.prototype.toString=function(){var bq=this.initStatement.toString();if(bq.indexOf("=")>=0){bq=bq.substring(0,bq.indexOf("="))}return"("+bq+" in "+this.container+")"};function aY(br,bq){this.initStatement=br;this.container=bq}aY.iteratorId=0;aY.prototype.toString=function(){var bu=this.initStatement.toString();var br="$it"+(aY.iteratorId++);var bt=bu.replace(/^\s*var\s*/,"").split("=")[0];var bs="var "+br+" = new $p.ObjectIterator("+this.container+"), "+bt+" = void(0)";var bq=br+".hasNext() && (("+bt+" = "+br+".next()) || true)";return"("+bs+"; "+bq+";)"};function Y(br){var bq;if(/\bin\b/.test(br)){bq=br.substring(1,br.length-1).split(/\bin\b/g);return new aS(bn(a6(bq[0])),aZ(bq[1]))}if(br.indexOf(":")>=0&&br.indexOf(";")<0){bq=br.substring(1,br.length-1).split(":");return new aY(bn(a6(bq[0])),aZ(bq[1]))}bq=br.substring(1,br.length-1).split(";");return new a1(bn(a6(bq[0])),aZ(bq[1]),aZ(bq[2]))}function a2(bq){bq.sort(function(bs,br){return br.weight-bs.weight})}function ab(bs,bq,br){this.name=bs;this.body=bq;this.isStatic=br;bq.owner=this}ab.prototype.toString=function(){return""+this.body};function an(bs,bq,br){this.name=bs;this.body=bq;this.isStatic=br;bq.owner=this}an.prototype.toString=function(){return""+this.body};function T(bs){var br=O.exec(bs);O.lastIndex=0;var bt=br[1].indexOf("static")>=0;var bq=bk[aQ(br[6])],bv;var bw=a9,bu=a7();a9=bu;if(br[2]==="interface"){bv=new ab(br[3],S(bq,br[3],br[4]),bt)}else{bv=new an(br[3],V(bq,br[3],br[4],br[5]),bt)}bl(bv,bu,bw);a9=bw;return bv}function ac(bs,bt,bq,br){this.name=bs;this.params=bt;this.body=bq;this.isStatic=br}ac.prototype.toString=function(){var bt=av({},this.params.getNames());var bs=al;al=function(bu){return bt.hasOwnProperty(bu.name)?bu.name:bs(bu)};var br=this.params.prependMethodArgs(this.body.toString());var bq="function "+this.methodId+this.params+" "+br+"\n";al=bs;return bq};function P(bt){var br=bb.exec(bt);bb.lastIndex=0;var bs=br[1].indexOf("static")>=0;var bq=br[6]!==";"?bk[aQ(br[6])]:"{}";return new ac(br[3],aD(bk[aQ(br[4])]),ap(bq),bs)}function am(bs,br,bq){this.definitions=bs;this.fieldType=br;this.isStatic=bq}am.prototype.getNames=function(){var bs=[];for(var br=0,bq=this.definitions.length;br<bq;++br){bs.push(this.definitions[br].name)}return bs};am.prototype.toString=function(){var bx=al({name:"[this]"});if(this.isStatic){var bw=this.owner.name;var bu=[];for(var bv=0,bt=this.definitions.length;bv<bt;++bv){var bs=this.definitions[bv];var bq=bs.name,by=bw+"."+bq;var br="if("+by+" === void(0)) {\n "+by+" = "+bs.value+"; }\n$p.defineProperty("+bx+", '"+bq+"', { get: function(){return "+by+";}, set: function(val){"+by+" = val;} });\n";bu.push(br)}return bu.join("")}return bx+"."+this.definitions.join("; "+bx+".")};function bf(bv){var bu=W.exec(bv);var bq=bu[1].indexOf("static")>=0;var bt=bv.substring(bu[0].length).split(/,\s*/g);var br=aT(bu[2]);for(var bs=0;bs<bt.length;++bs){bt[bs]=ak(bt[bs],br)}return new am(bt,bu[2],bq)}function aN(br,bq){this.params=br;this.body=bq}aN.prototype.toString=function(){var bt=av({},this.params.getNames());var br=al;al=function(bu){return bt.hasOwnProperty(bu.name)?bu.name:br(bu)};var bs="function $constr_"+this.params.params.length+this.params.toString();var bq=this.params.prependMethodArgs(this.body.toString());if(!/\$(superCstr|constr)\b/.test(bq)){bq="{\n$superCstr();\n"+bq.substring(1)}al=br;return bs+bq+"\n"};function at(bs){var bq=new RegExp(/"B(\d+)"\s*"A(\d+)"/).exec(bs);var br=aD(bk[bq[1]]);return new aN(br,ap(bk[bq[2]]))}function aO(bs,bv,bu,bq,bw,bx){var bt,br;this.name=bs;this.interfacesNames=bv;this.methodsNames=bu;this.fields=bq;this.innerClasses=bw;this.misc=bx;for(bt=0,br=bq.length;bt<br;++bt){bq[bt].owner=this}}aO.prototype.getMembers=function(bx,bq,bv){if(this.owner.base){this.owner.base.body.getMembers(bx,bq,bv)}var bu,bt,bs,br;for(bu=0,bs=this.fields.length;bu<bs;++bu){var bz=this.fields[bu].getNames();for(bt=0,br=bz.length;bt<br;++bt){bx[bz[bt]]=this.fields[bu]}}for(bu=0,bs=this.methodsNames.length;bu<bs;++bu){var bw=this.methodsNames[bu];bq[bw]=true}for(bu=0,bs=this.innerClasses.length;bu<bs;++bu){var by=this.innerClasses[bu];bv[by.name]=by}};aO.prototype.toString=function(){function br(bH){var bG=0;while(bH){++bG;bH=bH.scope}return bG}var bA=br(this.owner);var bB=this.name;var bx="";var bC="";var bE={},bz={},by={};this.getMembers(bE,bz,by);var bw,bu,bv,bt;if(this.owner.interfaces){var bq=[],bs;for(bw=0,bu=this.interfacesNames.length;bw<bu;++bw){if(!this.owner.interfaces[bw]){continue}bs=al({name:this.interfacesNames[bw]});bq.push(bs);bx+="$p.extendInterfaceMembers("+bB+", "+bs+");\n"}bC+=bB+".$interfaces = ["+bq.join(", ")+"];\n"}bC+=bB+".$isInterface = true;\n";bC+=bB+".$methods = ['"+this.methodsNames.join("', '")+"'];\n";a2(this.innerClasses);for(bw=0,bu=this.innerClasses.length;bw<bu;++bw){var bF=this.innerClasses[bw];if(bF.isStatic){bx+=bB+"."+bF.name+" = "+bF+";\n"}}for(bw=0,bu=this.fields.length;bw<bu;++bw){var bD=this.fields[bw];if(bD.isStatic){bx+=bB+"."+bD.definitions.join(";\n"+bB+".")+";\n"}}return"(function() {\nfunction "+bB+"() { throw 'Unable to create the interface'; }\n"+bx+bC+"return "+bB+";\n})()"};S=function(bw,br,bB){var bC=bw.substring(1,bw.length-1);bC=ae(bC);bC=bd(bC,br);var bz=[],bt=[];bC=bC.replace(/"([DE])(\d+)"/g,function(bF,bE,bD){if(bE==="D"){bz.push(bD)}else{if(bE==="E"){bt.push(bD)}}return""});var bx=bC.split(/;(?:\s*;)*/g);var bu;var bv,bs;if(bB!==t){bu=bB.replace(/^\s*extends\s+(.+?)\s*$/g,"$1").split(/\s*,\s*/g)}for(bv=0,bs=bz.length;bv<bs;++bv){var bq=P(bk[bz[bv]]);bz[bv]=bq.name}for(bv=0,bs=bx.length-1;bv<bs;++bv){var bA=aP(bx[bv]);bx[bv]=bf(bA.middle)}var by=bx.pop();for(bv=0,bs=bt.length;bv<bs;++bv){bt[bv]=T(bk[bt[bv]])}return new aO(br,bu,bz,bx,bt,{tail:by})};function aB(br,by,bx,bw,bs,bz,bA,bu,bq){var bv,bt;this.name=br;this.baseClassName=by;this.interfacesNames=bx;this.functions=bw;this.methods=bs;this.fields=bz;this.cstrs=bA;this.innerClasses=bu;this.misc=bq;for(bv=0,bt=bz.length;bv<bt;++bv){bz[bv].owner=this}}aB.prototype.getMembers=function(bx,br,bw){if(this.owner.base){this.owner.base.body.getMembers(bx,br,bw)}var bv,bu,bt,bs;for(bv=0,bt=this.fields.length;bv<bt;++bv){var bz=this.fields[bv].getNames();for(bu=0,bs=bz.length;bu<bs;++bu){bx[bz[bu]]=this.fields[bv]}}for(bv=0,bt=this.methods.length;bv<bt;++bv){var bq=this.methods[bv];br[bq.name]=bq}for(bv=0,bt=this.innerClasses.length;bv<bt;++bv){var by=this.innerClasses[bv];bw[by.name]=by}};aB.prototype.toString=function(){function bN(bV){var bU=0;while(bV){++bU;bV=bV.scope}return bU}var bB=bN(this.owner);var bG="$this_"+bB;var bs=this.name;var bx="var "+bG+" = this;\n";var bH="";var bz="";var bS={},bT={},bJ={};this.getMembers(bS,bT,bJ);var bR=al;al=function(bV){var bU=bV.name;if(bU==="this"){return bV.callSign||!bV.member?bG+".$self":bG}if(bS.hasOwnProperty(bU)){return bS[bU].isStatic?bs+"."+bU:bG+"."+bU}if(bJ.hasOwnProperty(bU)){return bG+"."+bU}if(bT.hasOwnProperty(bU)){return bT[bU].isStatic?bs+"."+bU:bG+".$self."+bU}return bR(bV)};var bA;if(this.baseClassName){bA=bR({name:this.baseClassName});bx+="var $super = { $upcast: "+bG+" };\n";bx+="function $superCstr(){"+bA+".apply($super,arguments);if(!('$self' in $super)) $p.extendClassChain($super)}\n";bz+=bs+".$base = "+bA+";\n"}else{bx+="function $superCstr(){$p.extendClassChain("+bG+")}\n"}if(this.owner.base){bH+="$p.extendStaticMembers("+bs+", "+bA+");\n"}var bM,bK,bL,bI;if(this.owner.interfaces){var bw=[],bq;for(bM=0,bK=this.interfacesNames.length;bM<bK;++bM){if(!this.owner.interfaces[bM]){continue}bq=bR({name:this.interfacesNames[bM]});bw.push(bq);bH+="$p.extendInterfaceMembers("+bs+", "+bq+");\n"}bz+=bs+".$interfaces = ["+bw.join(", ")+"];\n"}if(this.functions.length>0){bx+=this.functions.join("\n")+"\n"}a2(this.innerClasses);for(bM=0,bK=this.innerClasses.length;bM<bK;++bM){var bD=this.innerClasses[bM];if(bD.isStatic){bH+=bs+"."+bD.name+" = "+bD+";\n";bx+=bG+"."+bD.name+" = "+bs+"."+bD.name+";\n"}else{bx+=bG+"."+bD.name+" = "+bD+";\n"}}for(bM=0,bK=this.fields.length;bM<bK;++bM){var br=this.fields[bM];if(br.isStatic){bH+=bs+"."+br.definitions.join(";\n"+bs+".")+";\n";for(bL=0,bI=br.definitions.length;bL<bI;++bL){var bu=br.definitions[bL].name,by=bs+"."+bu;bx+="$p.defineProperty("+bG+", '"+bu+"', {get: function(){return "+by+"}, set: function(val){"+by+" = val}});\n"}}else{bx+=bG+"."+br.definitions.join(";\n"+bG+".")+";\n"}}var bC={};for(bM=0,bK=this.methods.length;bM<bK;++bM){var bt=this.methods[bM];var bP=bC[bt.name];var bv=bt.name+"$"+bt.params.params.length;var bF=!!bt.params.methodArgsParam;if(bP){++bP;bv+="_"+bP}else{bP=1}bt.methodId=bv;bC[bt.name]=bP;if(bt.isStatic){bH+=bt;bH+="$p.addMethod("+bs+", '"+bt.name+"', "+bv+", "+bF+");\n";bx+="$p.addMethod("+bG+", '"+bt.name+"', "+bv+", "+bF+");\n"}else{bx+=bt;bx+="$p.addMethod("+bG+", '"+bt.name+"', "+bv+", "+bF+");\n"}}bx+=a6(this.misc.tail);if(this.cstrs.length>0){bx+=this.cstrs.join("\n")+"\n"}bx+="function $constr() {\n";var bQ=[];for(bM=0,bK=this.cstrs.length;bM<bK;++bM){var bO=this.cstrs[bM].params.params.length;var bE=!!this.cstrs[bM].params.methodArgsParam;bQ.push("if(arguments.length "+(bE?">=":"===")+" "+bO+") { $constr_"+bO+".apply("+bG+", arguments); }")}if(bQ.length>0){bx+=bQ.join(" else ")+" else "}bx+="$superCstr();\n}\n";bx+="$constr.apply(null, arguments);\n";al=bR;return"(function() {\nfunction "+bs+"() {\n"+bx+"}\n"+bH+bz+"return "+bs+";\n})()"};V=function(bz,br,bq,bC){var bE=bz.substring(1,bz.length-1);bE=ae(bE);bE=bd(bE,br);var bs=[],bt=[],bD=[],bw=[];bE=bE.replace(/"([DEGH])(\d+)"/g,function(bH,bG,bF){if(bG==="D"){bs.push(bF)}else{if(bG==="E"){bt.push(bF)}else{if(bG==="H"){bw.push(bF)}else{bD.push(bF)}}}return""});var by=bE.replace(/^(?:\s*;)+/,"").split(/;(?:\s*;)*/g);var bx,bv;var bu;if(bq!==t){bx=bq.replace(/^\s*extends\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)\s*$/g,"$1")}if(bC!==t){bv=bC.replace(/^\s*implements\s+(.+?)\s*$/g,"$1").split(/\s*,\s*/g)}for(bu=0;bu<bw.length;++bu){bw[bu]=aK(bk[bw[bu]])}for(bu=0;bu<bs.length;++bu){bs[bu]=P(bk[bs[bu]])}for(bu=0;bu<by.length-1;++bu){var bB=aP(by[bu]);by[bu]=bf(bB.middle)}var bA=by.pop();for(bu=0;bu<bD.length;++bu){bD[bu]=at(bk[bD[bu]])}for(bu=0;bu<bt.length;++bu){bt[bu]=T(bk[bt[bu]])}return new aB(br,bx,bv,bw,bs,by,bD,bt,{tail:bA})};function aw(br,bq){this.name=br;this.body=bq;bq.owner=this}aw.prototype.toString=function(){return"var "+this.name+" = "+this.body+";\n$p."+this.name+" = "+this.name+";\n"};function a5(br,bq){this.name=br;this.body=bq;bq.owner=this}a5.prototype.toString=function(){return"var "+this.name+" = "+this.body+";\n$p."+this.name+" = "+this.name+";\n"};function bo(bs){var br=O.exec(bs);O.lastIndex=0;var bq=bk[aQ(br[6])];var bv=a9,bt=a7();a9=bt;var bu;if(br[2]==="interface"){bu=new aw(br[3],S(bq,br[3],br[4]))}else{bu=new a5(br[3],V(bq,br[3],br[4],br[5]))}bl(bu,bt,bv);a9=bv;return bu}function aR(br,bs,bq){this.name=br;this.params=bs;this.body=bq}aR.prototype.toString=function(){var bt=av({},this.params.getNames());var bs=al;al=function(bu){return bt.hasOwnProperty(bu.name)?bu.name:bs(bu)};var br=this.params.prependMethodArgs(this.body.toString());var bq="function "+this.name+this.params+" "+br+"\n$p."+this.name+" = "+this.name+";";al=bs;return bq};function aW(bs){var br=bb.exec(bs);var bq=bb.lastIndex=0;return new aR(br[3],aD(bk[aQ(br[4])]),ap(bk[aQ(br[6])]))}function ag(bq){var br=bq;br=br.replace(/\b(catch\s*"B\d+"\s*"A\d+")(\s*catch\s*"B\d+"\s*"A\d+")+/g,"$1");return br}function aU(bq,br){this.argument=bq;this.misc=br}aU.prototype.toString=function(){return this.misc.prefix+this.argument.toString()};function Q(bq,br){this.argument=bq;this.misc=br}Q.prototype.toString=function(){return this.misc.prefix+this.argument.toString()};function ax(bq,br,bs){this.name=bq;this.argument=br;this.misc=bs}ax.prototype.toString=function(){var bq=this.misc.prefix;if(this.argument!==t){bq+=this.argument.toString()}return bq};function aL(bq){this.expr=bq}aL.prototype.toString=function(){return"case "+this.expr+":"};function X(bq){this.label=bq}X.prototype.toString=function(){return this.label};aV=function(by,bz,bs){var bD=new RegExp(/\b(catch|for|if|switch|while|with)\s*"B(\d+)"|\b(do|else|finally|return|throw|try|break|continue)\b|("[ADEH](\d+)")|\b(case)\s+([^:]+):|\b([A-Za-z_$][\w$]*\s*:)|(;)/g);var bA=[];by=ag(by);var bx=0,bt,br;while((bt=bD.exec(by))!==null){if(bt[1]!==t){var bw=by.lastIndexOf('"B',bD.lastIndex);var bC=by.substring(bx,bw);if(bt[1]==="for"){bA.push(new aU(Y(bk[bt[2]]),{prefix:bC}))}else{if(bt[1]==="catch"){bA.push(new Q(aD(bk[bt[2]]),{prefix:bC}))}else{bA.push(new ax(bt[1],aZ(bk[bt[2]]),{prefix:bC}))}}}else{if(bt[3]!==t){bA.push(new ax(bt[3],t,{prefix:by.substring(bx,bD.lastIndex)}))}else{if(bt[4]!==t){br=by.substring(bx,bD.lastIndex-bt[4].length);if(a6(br).length!==0){continue}bA.push(br);var bu=bt[4].charAt(1),bq=bt[5];if(bu==="D"){bA.push(bz(bk[bq]))}else{if(bu==="E"){bA.push(bs(bk[bq]))}else{if(bu==="H"){bA.push(aK(bk[bq]))}else{bA.push(ap(bk[bq]))}}}}else{if(bt[6]!==t){bA.push(new aL(aZ(a6(bt[7]))))}else{if(bt[8]!==t){br=by.substring(bx,bD.lastIndex-bt[8].length);if(a6(br).length!==0){continue}bA.push(new X(by.substring(bx,bD.lastIndex)))}else{var bB=aP(by.substring(bx,bD.lastIndex-1));bA.push(bB.left);bA.push(bn(bB.middle));bA.push(bB.right+";")}}}}}bx=bD.lastIndex}var bv=aP(by.substring(bx));bA.push(bv.left);if(bv.middle!==""){bA.push(bn(bv.middle));bA.push(";"+bv.right)}return bA};function be(br){var bs=[];for(var bt=0,bq=br.length;bt<bq;++bt){var bu=br[bt];if(bu instanceof aI){bs=bs.concat(bu.getNames())}else{if(bu instanceof aU&&bu.argument.initStatement instanceof aI){bs=bs.concat(bu.argument.initStatement.getNames())}else{if(bu instanceof ab||bu instanceof an||bu instanceof aw||bu instanceof a5||bu instanceof aR||bu instanceof af){bs.push(bu.name)}}}}return av({},bs)}function U(bq){this.statements=bq}U.prototype.toString=function(){var bs=be(this.statements);var br=al;if(!ba(bs)){al=function(bt){return bs.hasOwnProperty(bt.name)?bt.name:br(bt)}}var bq="{\n"+this.statements.join("")+"\n}";al=br;return bq};ap=function(br){var bq=aP(br.substring(1,br.length-1));return new U(aV(bq.middle))};function aG(bq){this.statements=bq}aG.prototype.toString=function(){var bu=[],bv=[],bw;for(var bt=0,br=this.statements.length;bt<br;++bt){bw=this.statements[bt];if(bw instanceof a5||bw instanceof aw){bu.push(bw)}else{bv.push(bw)}}a2(bu);var bs=be(this.statements);al=function(by){var bx=by.name;if(bs.hasOwnProperty(bx)){return bx}if(aX.hasOwnProperty(bx)||B.hasOwnProperty(bx)||g.hasOwnProperty(bx)){return"$p."+bx}return bx};var bq="// this code was autogenerated from PJS\n(function($p) {\n"+bu.join("")+"\n"+bv.join("")+"\n})";al=null;return bq};bi=function(){var bq=ae(bk[0]);bq=bq.replace(/\bimport\s+[^;]+;/g,"");return new aG(aV(bq,aW,bo))};function bj(bq){var bu={};var bs,by;for(bs in aJ){if(aJ.hasOwnProperty(bs)){by=aJ[bs];var bE=by.scopeId,br=by.name;if(bE){var bD=aJ[bE];by.scope=bD;if(bD.inScope===t){bD.inScope={}}bD.inScope[br]=by}else{bu[br]=by}}}function bB(bF,bI){var bL=bI.split(".");var bH=bF.scope,bK;while(bH){if(bH.hasOwnProperty(bL[0])){bK=bH[bL[0]];break}bH=bH.scope}if(bK===t){bK=bu[bL[0]]}for(var bJ=1,bG=bL.length;bJ<bG&&bK;++bJ){bK=bK.inScope[bL[bJ]]}return bK}for(bs in aJ){if(aJ.hasOwnProperty(bs)){by=aJ[bs];var bx=by.body.baseClassName;if(bx){var bA=bB(by,bx);if(bA){by.base=bA;if(!bA.derived){bA.derived=[]}bA.derived.push(by)}}var bw=by.body.interfacesNames,bC=[],bv,bt;if(bw&&bw.length>0){for(bv=0,bt=bw.length;bv<bt;++bv){var bz=bB(by,bw[bv]);bC.push(bz);if(!bz){continue}if(!bz.derived){bz.derived=[]}bz.derived.push(by)}if(bC.length>0){by.interfaces=bC}}}}}function a8(bq){var bv=[],bs={};var br,by,bw;for(br in aJ){if(aJ.hasOwnProperty(br)){bw=aJ[br];if(!bw.inScope&&!bw.derived){bv.push(br);bw.weight=0}else{var bx=[];if(bw.inScope){for(by in bw.inScope){if(bw.inScope.hasOwnProperty(by)){bx.push(bw.inScope[by])}}}if(bw.derived){bx=bx.concat(bw.derived)}bs[br]=bx}}}function bz(bB,bD){var bA=bs[bB];if(!bA){return false}var bC=bA.indexOf(bD);if(bC<0){return false}bA.splice(bC,1);if(bA.length>0){return false}delete bs[bB];return true}while(bv.length>0){br=bv.shift();bw=aJ[br];if(bw.scopeId&&bz(bw.scopeId,bw)){bv.push(bw.scopeId);aJ[bw.scopeId].weight=bw.weight+1}if(bw.base&&bz(bw.base.classId,bw)){bv.push(bw.base.classId);bw.base.weight=bw.weight+1}if(bw.interfaces){var bu,bt;for(bu=0,bt=bw.interfaces.length;bu<bt;++bu){if(!bw.interfaces[bu]||!bz(bw.interfaces[bu].classId,bw)){continue}bv.push(bw.interfaces[bu].classId);bw.interfaces[bu].weight=bw.weight+1}}}}var bh=bi();bj(bh);a8(bh);var a0=bh.toString();a0=a0.replace(/\s*\n(?:[\t ]*\n)+/g,"\n\n");a0=a0.replace(/__x([0-9A-F]{4})/g,function(br,bq){return String.fromCharCode(parseInt(bq,16))});return aj(a0,N)}function z(O,ad){var X=new RegExp(/\/\*\s*@pjs\s+((?:[^\*]|\*+[^\*\/])*)\*\//g).exec(O);if(X&&X.length===2){var N=[],Q=X.splice(1,2)[0].replace(/\{([\s\S]*?)\}/g,(function(){return function(ag,ah){N.push(ah);return"{"+(N.length-1)+"}"}}())).replace("\n","").replace("\r","").split(";");var W=function(ag){return ag.replace(/^\s*["']?/,"").replace(/["']?\s*$/,"")};for(var aa=0,Y=Q.length;aa<Y;aa++){var U=Q[aa].split("=");if(U&&U.length===2){var af=W(U[0]),V=W(U[1]),ae=[];if(af==="preload"){ae=V.split(",");for(var Z=0,ab=ae.length;Z<ab;Z++){var ac=W(ae[Z]);ad.imageCache.add(ac)}}else{if(af==="font"){ae=V.split(",");for(var R=0,T=ae.length;R<T;R++){var S=W(ae[R]),P=/^\{(\d*?)\}$/.exec(S);H.preloading.add(P?JSON.parse("{"+N[P[1]]+"}"):S)}}else{if(af==="pauseOnBlur"){ad.options.pauseOnBlur=V==="true"}else{if(af==="globalKeyEvents"){ad.options.globalKeyEvents=V==="true"}else{if(af.substring(0,6)==="param-"){ad.params[af.substring(6)]=V}else{ad.options[af]=V}}}}}}}}return O}F.compile=function(N){var Q=new F.Sketch();var O=z(N,Q);var P=c(O);Q.sourceCode=P;return Q};var j=(function(){var T={},Q="undefined",R="function",N=!1,S=!0,O=512,P="log";if(typeof tinylog!==Q&&typeof tinylog[P]===R){T[P]=tinylog[P]}else{if(typeof d!==Q&&!d.fake){(function(){var ao=d,am="div",ac="style",ag="title",ab={zIndex:10000,position:"fixed",bottom:"0px",width:"100%",height:"15%",fontFamily:"sans-serif",color:"#ccc",backgroundColor:"black"},ae={position:"relative",fontFamily:"monospace",overflow:"auto",height:"100%",paddingTop:"5px"},ai={height:"5px",marginTop:"-5px",cursor:"n-resize",backgroundColor:"darkgrey"},an={position:"absolute",top:"5px",right:"20px",color:"#111",MozBorderRadius:"4px",webkitBorderRadius:"4px",borderRadius:"4px",cursor:"pointer",fontWeight:"normal",textAlign:"center",padding:"3px 5px",backgroundColor:"#333",fontSize:"12px"},Y={minHeight:"16px"},af={fontSize:"12px",margin:"0 8px 0 8px",maxWidth:"100%",whiteSpace:"pre-wrap",overflow:"auto"},ad=ao.defaultView,al=ao.documentElement,U=al[ac],W=function(){var aq=arguments.length,ap,at,ar;while(aq--){at=arguments[aq--];ap=arguments[aq][ac];for(ar in at){if(at.hasOwnProperty(ar)){ap[ar]=at[ar]}}}},aj=function(ar,aq,ap){if(ar.addEventListener){ar.addEventListener(aq,ap,N)}else{if(ar.attachEvent){ar.attachEvent("on"+aq,ap)}}return[ar,aq,ap]},V=function(ar,aq,ap){if(ar.removeEventListener){ar.removeEventListener(aq,ap,N)}else{if(ar.detachEvent){ar.detachEvent("on"+aq,ap)}}},aa=function(aq){var ap=aq.childNodes,ar=ap.length;while(ar--){aq.removeChild(ap.item(0))}},ak=function(aq,ap){return aq.appendChild(ap)},ah=function(ap){return ao.createElement(ap)},Z=function(ap){return ao.createTextNode(ap)},X=T[P]=function(aE){var aw,ax=U.paddingBottom,ar=ah(am),aB=ar[ac],aC=ak(ar,ah(am)),au=ak(ar,ah(am)),at=ak(ar,ah(am)),aD=N,av=N,aq=N,ay=0,ap=function(){U.paddingBottom=ar.clientHeight+"px"},aA=function(aF){var aG=ad.innerHeight,aH=aC.clientHeight;if(aF<0){aF=0}else{if(aF+aH>aG){aF=aG-aH}}aB.height=aF/aG*100+"%";ap()},az=[aj(ao,"mousemove",function(aF){if(aD){aA(ad.innerHeight-aF.clientY);au.scrollTop=aq}}),aj(ao,"mouseup",function(){if(aD){aD=aq=N}}),aj(aC,"dblclick",function(aF){aF.preventDefault();if(av){aA(av);av=N}else{av=ar.clientHeight;aB.height="0px"}}),aj(aC,"mousedown",function(aF){aF.preventDefault();aD=S;aq=au.scrollTop}),aj(aC,"contextmenu",function(){aD=N}),aj(at,"click",function(){aw()})];aw=function(){var aF=az.length;while(aF--){V.apply(T,az[aF])}al.removeChild(ar);U.paddingBottom=ax;aa(au);aa(ar);T[P]=X};W(ar,ab,au,ae,aC,ai,at,an);at[ag]="Close Log";ak(at,Z("\u2716"));aC[ag]="Double-click to toggle log minimization";al.insertBefore(ar,al.firstChild);T[P]=function(aH){if(ay===O){au.removeChild(au.firstChild)}else{ay++}var aG=ak(au,ah(am)),aF=ak(aG,ah(am));aG[ag]=(new Date()).toLocaleTimeString();W(aG,Y,aF,af);ak(aF,Z(aH));au.scrollTop=au.scrollHeight};T[P](aE);ap()}}())}else{if(typeof print===R){T[P]=print}}}return T}());F.logger=j;F.version="@VERSION@";F.lib={};F.registerLibrary=function(N,O){F.lib[N]=O;if(O.hasOwnProperty("init")){O.init(g)}};F.instances=k;F.getInstanceById=function(N){return k[J[N]]};F.Sketch=function(N){this.attachFunction=N;this.options={pauseOnBlur:false,globalKeyEvents:false};this.onLoad=G;this.onSetup=G;this.onPause=G;this.onLoop=G;this.onFrameStart=G;this.onFrameEnd=G;this.onExit=G;this.params={};this.imageCache={pending:0,images:{},operaCache:{},add:function(P,O){if(this.images[P]){return}if(!n){this.images[P]=null}if(!O){O=new Image();O.onload=(function(R){return function(){R.pending--}}(this));this.pending++;O.src=P}this.images[P]=O;if(D.opera){var Q=d.createElement("div");Q.appendChild(O);Q.style.position="absolute";Q.style.opacity=0;Q.style.width="1px";Q.style.height="1px";if(!this.operaCache[P]){d.body.appendChild(Q);this.operaCache[P]=Q}}}};this.sourceCode=undefined;this.attach=function(P){if(typeof this.attachFunction==="function"){this.attachFunction(P)}else{if(this.sourceCode){var O=((new Function("return ("+this.sourceCode+");"))());O(P);this.attachFunction=O}else{throw"Unable to attach sketch to the processing instance"}}};this.toString=function(){var O;var P="((function(Sketch) {\n";P+="var sketch = new Sketch(\n"+this.sourceCode+");\n";for(O in this.options){if(this.options.hasOwnProperty(O)){var Q=this.options[O];P+="sketch.options."+O+" = "+(typeof Q==="string"?'"'+Q+'"':""+Q)+";\n"}}for(O in this.imageCache){if(this.options.hasOwnProperty(O)){P+='sketch.imageCache.add("'+O+'");\n'}}P+="return sketch;\n})(Processing.Sketch))";return P}};var v=function(Q,N){var O=[],U=[],V=N.length,S=0;function T(W,Y){var X=new XMLHttpRequest();X.onreadystatechange=function(){if(X.readyState===4){var Z;if(X.status!==200&&X.status!==0){Z="Invalid XHR status "+X.status}else{if(X.responseText===""){if(("withCredentials" in new XMLHttpRequest())&&(new XMLHttpRequest()).withCredentials===false&&D.location.protocol==="file:"){Z="XMLHttpRequest failure, possibly due to a same-origin policy violation. You can try loading this page in another browser, or load it from http://localhost using a local webserver. See the Processing.js README for a more detailed explanation of this problem and solutions."}else{Z="File is empty."}}}Y(X.responseText,Z)}};X.open("GET",W,true);if(X.overrideMimeType){X.overrideMimeType("application/json")}X.setRequestHeader("If-Modified-Since","Fri, 01 Jan 1960 00:00:00 GMT");X.send(null)}function P(X,W){function Z(ac,aa){O[X]=ac;++S;if(aa){U.push(W+" ==> "+aa)}if(S===V){if(U.length===0){try{return new F(Q,O.join("\n"))}catch(ab){throw"Processing.js: Unable to execute pjs sketch: "+ab}}else{throw"Processing.js: Unable to load pjs sketch files: "+U.join("\n")}}}if(W.charAt(0)==="#"){var Y=d.getElementById(W.substring(1));if(Y){Z(Y.text||Y.textContent)}else{Z("","Unable to load pjs sketch: element with id '"+W.substring(1)+"' was not found")}return}T(W,Z)}for(var R=0;R<V;++R){P(R,N[R])}};var I=function(){d.removeEventListener("DOMContentLoaded",I,false);k=[];F.instances=k;var O=d.getElementsByTagName("canvas"),U;for(var T=0,P=O.length;T<P;T++){var W=O[T].getAttribute("data-processing-sources");if(W===null){W=O[T].getAttribute("data-src");if(W===null){W=O[T].getAttribute("datasrc")}}if(W){U=W.split(/\s+/g);for(var S=0;S<U.length;){if(U[S]){S++}else{U.splice(S,1)}}v(O[T],U)}}var ac,aa,N,Z,ab=d.getElementsByTagName("script"),Q=[];for(ac=ab.length-1;ac>=0;ac--){Q.push(ab[ac])}for(ac=0,aa=Q.length;ac<aa;ac++){var Y=Q[ac];if(!Y.getAttribute){continue}var X=Y.getAttribute("type");if(X&&(X.toLowerCase()==="text/processing"||X.toLowerCase()==="application/processing")){var V=Y.getAttribute("data-processing-target");O=t;if(V){O=d.getElementById(V)}else{var R=Y.nextSibling;while(R&&R.nodeType!==1){R=R.nextSibling}if(R&&R.nodeName.toLowerCase()==="canvas"){O=R}}if(O){if(Y.getAttribute("src")){U=Y.getAttribute("src").split(/\s+/);v(O,U);continue}N=Y.textContent||Y.text;Z=new F(O,N)}}}};F.reload=function(){if(k.length>0){for(var N=k.length-1;N>=0;N--){if(k[N]){k[N].exit()}}}I()};F.loadSketchFromSources=v;F.disableInit=function(){if(n){d.removeEventListener("DOMContentLoaded",I,false)}};if(n){D.Processing=F;d.addEventListener("DOMContentLoaded",I,false)}else{this.Processing=F}}(window,window.document,Math));