/*! skrollr v0.4.2 https://github.com/Prinzhorn/skrollr | free to use under terms of MIT license */
(function(ab,h,w){var f=Object.prototype.hasOwnProperty;var u=h.documentElement;var J=h.body;var l="rendered";var N="un"+l;var e="skrollable";var n="linear";var P=1000;var X="start";var B="end";var j="top";var aa="center";var Z="bottom";var O="___has_rendered_class";var v="___skrollable_id";var b=ab.requestAnimationFrame||ab.webkitRequestAnimationFrame||ab.mozRequestAnimationFrame||ab.oRequestAnimationFrame||ab.msRequestAnimationFrame||function(k){ab.setTimeout(k,1000/30)};var aj=/^\s*(.+)\s*$/m;var R=/^data-(-?\d+)?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/;var c=/:|;/g;var g=/^([a-z\-]+)\[(\w+)\]$/;var D=/-([a-z])/g;var i=function(ap,k){return k.toUpperCase()};var ah=/(:?\+|-)?[\d.]+/g;var G=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g;var S=/[a-z\-]+-gradient/g;var Q=/^O|Moz|webkit|ms/;var C;var m;if(ab.getComputedStyle){var ae=ab.getComputedStyle(J,null);for(var ak in ae){C=(ak.match(Q)||(+ak==ak&&ae[ak].match(Q)));if(C){break}}}C=(C||[""])[0];m="-"+C.toLowerCase()+"-";Q=w;var F={begin:function(){return 0},end:function(){return 1},linear:function(k){return k},quadratic:function(k){return k*k},cubic:function(k){return k*k*k},swing:function(k){return(-Math.cos(k*Math.PI)/2)+0.5},bounce:function(ap){var k;if(ap<=0.5083){k=3}else{if(ap<=0.8489){k=9}else{if(ap<=0.96208){k=27}else{if(ap<=0.99981){k=91}else{return 1}}}}return 1-Math.abs(3*Math.cos(ap*k*1.028)/k)}};function ag(k){z=this;k=k||{};if(k.easing){for(var ar in k.easing){F[ar]=k.easing[ar]}}L={beforerender:k.beforerender,render:k.render};al=k.forceHeight!==false;if(al){U=k.scale||1}if(al){var aq=h.createElement("div");var ap=aq.style;ap.width="1px";ap.position="absolute";ap.right=ap.top=ap.zIndex="0";J.appendChild(aq);x=function(){ap.height=(E+u.clientHeight)+"px";r()}}else{x=function(){E=J.scrollHeight-u.clientHeight;r();H=true}}z.refresh();V("resize",x);af();return z}ag.prototype.refresh=function(ap){var au;var k=false;if(ap===w){k=true;am=[];ai=0;ap=h.getElementsByTagName("*")}else{ap=[].concat(ap)}for(au=0;au<ap.length;au++){var at=ap[au];var ay=at;var aA=[];if(!at.attributes){continue}for(var aq=0;aq<at.attributes.length;aq++){var aB=at.attributes[aq];if(aB.name==="data-anchor-target"){ay=h.querySelector(aB.value);if(ay===null){throw'Unable to find anchor target "'+aB.value+'"'}continue}var az=aB.name.match(R);if(az!==null){var ax=(az[1]|0)*U;var aD=az[2];var aC=az[3]||aD;var aw={offset:ax,props:aB.value,element:at};aA.push(aw);if(!aD||aD===X||aD===B){aw.mode="absolute";if(aD===B){aw.isEnd=true}else{aw.frame=ax;delete aw.offset;if(aw.frame>E){E=aw.frame}}}else{aw.mode="relative";aw.anchors=[aD,aC]}}}if(aA.length){var ar;if(!k&&v in at){ar=at[v]}else{ar=(at[v]=ai++)}am[ar]={element:at,anchorTarget:ay,keyFrames:aA};o(at,[e,N],[l])}}x();for(au=0;au<ap.length;au++){var av=am[ap[au][v]];if(av===w){continue}av.keyFrames.sort(q);Y(av);W(av)}return z};ag.prototype.animateTo=function(ar,ap){ap=ap||{};var k=ac();var aq=z.getScrollTop();K={startTop:aq,topDiff:ar-aq,targetTop:ar,duration:ap.duration||P,startTime:k,endTime:k+(ap.duration||P),easing:F[ap.easing||n],done:ap.done};if(!K.topDiff){if(K.done){K.done.call(z)}K=w}return z};ag.prototype.setScrollTop=function(k){ab.scroll(0,k);return z};ag.prototype.getScrollTop=function(k){return ab.pageYOffset||u.scrollTop||J.scrollTop||0};ag.prototype.on=function(k,ap){L[k]=ap;return z};ag.prototype.off=function(k){delete L[k];return z};var r=function(){for(var k=0;k<am.length;k++){var aq=am[k];var au=aq.anchorTarget;var at=aq.keyFrames;for(var ar=0;ar<at.length;ar++){var ap=at[ar];if(ap.mode==="relative"){ap.frame=y(au,ap.anchors[0],ap.anchors[1])-ap.offset}else{if(ap.isEnd){ap.frame=E-ap.offset}}}}};var y=function(ap,aq,at){var k=u.clientHeight;var ar=ap.getBoundingClientRect();var au=ar.top;if(aq===Z){au-=k}else{if(aq===aa){au-=k/2}}if(at===Z){au+=ar.height}else{if(at===aa){au+=ar.height/2}}au+=z.getScrollTop();return(au+0.5)|0};var A=function(at){for(var av=0;av<am.length;av++){var ar=am[av];var ax=ar.keyFrames;var az=ax[0].frame;var aq=ax[ax.length-1].frame;var aw=at<=az;var aD=at>=aq;var aC;var aA;if(aw||aD){var ay=ax[aw?0:ax.length-1].props;for(aC in ay){if(f.call(ay,aC)){aA=s(ay[aC].value);p(ar.element,aC,aA)}}if(ar[O]&&(at<az||at>aq)){o(ar.element,[N],[l]);ar[O]=false}continue}if(!ar[O]){o(ar.element,[l],[N]);ar[O]=true}for(var ap=0;ap<ax.length-1;ap++){if(at>=ax[ap].frame&&at<=ax[ap+1].frame){var au=ax[ap];var aB=ax[ap+1];for(aC in au.props){if(f.call(au.props,aC)){var k=(at-au.frame)/(aB.frame-au.frame);k=au.props[aC].easing(k);aA=d(au.props[aC].value,aB.props[aC].value,k);aA=s(aA);p(ar.element,aC,aA)}}break}}}};var af=function(){var k;if(K){var aq=ac();if(aq>=K.endTime){z.setScrollTop(K.targetTop);k=K.done;K=w}else{var ap=K.easing((aq-K.startTime)/K.duration);z.setScrollTop((K.startTop+ap*K.topDiff)|0)}}ao=z.getScrollTop();if(ao<0){ao=0}if(H||ad!==ao){an=(ao>=ad)?"down":"up";H=false;var at={curTop:ao,lastTop:ad,maxTop:E,direction:an};var ar=L.beforerender&&L.beforerender.call(z,at);if(ar!==false){A(ao);ad=ao;if(L.render){L.render.call(z,at)}}if(k){k.call(z)}}b(function(){af()})};var Y=function(k){for(var ap=0;ap<k.keyFrames.length;ap++){var au=k.keyFrames[ap];var at=au.props.split(c);var aw;var aq;var av;au.props={};for(var ar=0;ar<at.length-1;ar+=2){aw=a(at[ar]);aq=a(at[ar+1]);av=aw.match(g);if(av!==null){aw=av[1];av=av[2]}else{av=n}aq=aq.indexOf("!")?t(aq):[aq.slice(1)];au.props[aw]={value:aq,easing:F[av]}}}};var t=function(ap){var k=[];G.lastIndex=0;ap=ap.replace(G,function(aq){return aq.replace(ah,function(ar){return ar/255*100+"%"})});S.lastIndex=0;ap=ap.replace(S,function(aq){return m+aq});ap=ap.replace(ah,function(aq){k.push(+aq);return"?"});k.unshift(ap);return k};var W=function(ap){var k={};var aq;for(aq=0;aq<ap.keyFrames.length;aq++){T(ap.keyFrames[aq],k)}k={};for(aq=ap.keyFrames.length-1;aq>=0;aq--){T(ap.keyFrames[aq],k)}};var T=function(aq,k){var ap;for(ap in k){if(!f.call(aq.props,ap)){aq.props[ap]=k[ap]}}for(ap in aq.props){k[ap]=aq.props[ap]}};var d=function(ar,aq,ap){if(ar.length!==aq.length){throw"Can't interpolate between \""+ar[0]+'" and "'+aq[0]+'"'}var k=[ar[0]];for(var at=1;at<ar.length;at++){k[at]=ar[at]+((aq[at]-ar[at])*ap)}return k};var s=function(ap){var k=1;return ap[0].replace(/\?/g,function(){return ap[k++]})};var p=function(aq,au,ar){var ap=aq.style;au=au.replace(D,i).replace("-","");if(au==="zIndex"){ap[au]=""+(ar|0)}else{try{ap[C+au.slice(0,1).toUpperCase()+au.slice(1)]=ar;ap[au]=ar}catch(at){}}if(I.setStyle){for(var k=0;k<I.setStyle.length;k++){I.setStyle[k].call(z,aq,au,ar)}}};var V=function(k,ap){if(ab.addEventListener){ab.addEventListener(k,ap,false)}else{ab.attachEvent("on"+k,ap)}};var o=function(aq,at,ap){var av="className";if(ab.SVGElement&&aq instanceof ab.SVGElement){aq=aq[av];av="baseVal"}var au=aq[av];for(var k=0;k<at.length;k++){if(M(au).indexOf(M(at[k]))===-1){au+=" "+at[k]}}for(var ar=0;ar<ap.length;ar++){au=M(au).replace(M(ap[ar])," ")}aq[av]=a(au)};var a=function(k){return k.replace(aj,"$1")};var M=function(k){return" "+k+" "};var ac=function(){return +new Date()};var q=function(ap,k){return ap.frame-k.frame};var z;var I={};var am=[];var L;var al;var E=0;var x;var U=1;var an="down";var ad=-1;var ao=0;var K;var H;var ai=0;ab.skrollr={init:function(k){return z||new ag(k)},plugin:function(ap,k){if(I[ap]){I[ap].push(k)}else{I[ap]=[k]}},VERSION:"0.4.2"}}(window,document));