/*! skrollr v0.4.3 https://github.com/Prinzhorn/skrollr | free to use under terms of MIT license */
(function(ac,h,w){var f=Object.prototype.hasOwnProperty;var u=h.documentElement;var J=h.body;var l="rendered";var O="un"+l;var e="skrollable";var n="linear";var Q=1000;var Y="start";var B="end";var j="top";var ab="center";var aa="bottom";var P="___has_rendered_class";var v="___skrollable_id";var b=ac.requestAnimationFrame||ac.webkitRequestAnimationFrame||ac.mozRequestAnimationFrame||ac.oRequestAnimationFrame||ac.msRequestAnimationFrame||function(k){ac.setTimeout(k,1000/30)};var ak=/^\s*(.+)\s*$/m;var S=/^data(?:-(_\w+))?(?:-?(-?\d+))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/;var c=/:|;/g;var g=/^([a-z\-]+)\[(\w+)\]$/;var D=/-([a-z])/g;var i=function(aq,k){return k.toUpperCase()};var ai=/(:?\+|-)?[\d.]+/g;var G=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g;var T=/[a-z\-]+-gradient/g;var R=/^O|Moz|webkit|ms/;var C;var m;if(ac.getComputedStyle){var af=ac.getComputedStyle(J,null);for(var al in af){C=(al.match(R)||(+al==al&&af[al].match(R)));if(C){break}}}C=(C||[""])[0];m="-"+C.toLowerCase()+"-";R=w;var F={begin:function(){return 0},end:function(){return 1},linear:function(k){return k},quadratic:function(k){return k*k},cubic:function(k){return k*k*k},swing:function(k){return(-Math.cos(k*Math.PI)/2)+0.5},bounce:function(aq){var k;if(aq<=0.5083){k=3}else{if(aq<=0.8489){k=9}else{if(aq<=0.96208){k=27}else{if(aq<=0.99981){k=91}else{return 1}}}}return 1-Math.abs(3*Math.cos(aq*k*1.028)/k)}};function ah(k){z=this;k=k||{};L=k.constants||{};if(k.easing){for(var at in k.easing){F[at]=k.easing[at]}}M={beforerender:k.beforerender,render:k.render};am=k.forceHeight!==false;if(am){V=k.scale||1}if(am){var ar=h.createElement("div");var aq=ar.style;aq.width="1px";aq.position="absolute";aq.right=aq.top=aq.zIndex="0";J.appendChild(ar);x=function(){aq.height=(E+u.clientHeight)+"px";r()}}else{x=function(){E=J.scrollHeight-u.clientHeight;r();H=true}}z.refresh();W("resize",x);ag();return z}ah.prototype.refresh=function(aq){var av;var k=false;if(aq===w){k=true;an=[];aj=0;aq=h.getElementsByTagName("*")}else{aq=[].concat(aq)}for(av=0;av<aq.length;av++){var au=aq[av];var az=au;var aB=[];if(!au.attributes){continue}for(var ar=0;ar<au.attributes.length;ar++){var aC=au.attributes[ar];if(aC.name==="data-anchor-target"){az=h.querySelector(aC.value);if(az===null){throw'Unable to find anchor target "'+aC.value+'"'}continue}var aA=aC.name.match(S);if(aA!==null){var aD=aA[1];aD=aD&&L[aD.substr(1)]||0;var ay=(aA[2]|0)*V+aD;var aF=aA[3];var aE=aA[4]||aF;var ax={offset:ay,props:aC.value,element:au};aB.push(ax);if(!aF||aF===Y||aF===B){ax.mode="absolute";if(aF===B){ax.isEnd=true}else{ax.frame=ay;delete ax.offset;if(ax.frame>E){E=ax.frame}}}else{ax.mode="relative";ax.anchors=[aF,aE]}}}if(aB.length){var at;if(!k&&v in au){at=au[v]}else{at=(au[v]=aj++)}an[at]={element:au,anchorTarget:az,keyFrames:aB};o(au,[e,O],[l])}}x();for(av=0;av<aq.length;av++){var aw=an[aq[av][v]];if(aw===w){continue}aw.keyFrames.sort(q);Z(aw);X(aw)}return z};ah.prototype.animateTo=function(at,aq){aq=aq||{};var k=ad();var ar=z.getScrollTop();K={startTop:ar,topDiff:at-ar,targetTop:at,duration:aq.duration||Q,startTime:k,endTime:k+(aq.duration||Q),easing:F[aq.easing||n],done:aq.done};if(!K.topDiff){if(K.done){K.done.call(z)}K=w}return z};ah.prototype.setScrollTop=function(k){ac.scroll(0,k);return z};ah.prototype.getScrollTop=function(k){return ac.pageYOffset||u.scrollTop||J.scrollTop||0};ah.prototype.on=function(k,aq){M[k]=aq;return z};ah.prototype.off=function(k){delete M[k];return z};var r=function(){for(var k=0;k<an.length;k++){var ar=an[k];var av=ar.anchorTarget;var au=ar.keyFrames;for(var at=0;at<au.length;at++){var aq=au[at];if(aq.mode==="relative"){aq.frame=y(av,aq.anchors[0],aq.anchors[1])-aq.offset}else{if(aq.isEnd){aq.frame=E-aq.offset}}}}};var y=function(aq,ar,au){var k=u.clientHeight;var at=aq.getBoundingClientRect();var av=at.top;if(ar===aa){av-=k}else{if(ar===ab){av-=k/2}}if(au===aa){av+=at.height}else{if(au===ab){av+=at.height/2}}av+=z.getScrollTop();return(av+0.5)|0};var A=function(au){for(var aw=0;aw<an.length;aw++){var at=an[aw];var ay=at.keyFrames;var aA=ay[0].frame;var ar=ay[ay.length-1].frame;var ax=au<=aA;var aE=au>=ar;var aD;var aB;if(ax||aE){var az=ay[ax?0:ay.length-1].props;for(aD in az){if(f.call(az,aD)){aB=s(az[aD].value);p(at.element,aD,aB)}}if(at[P]&&(au<aA||au>ar)){o(at.element,[O],[l]);at[P]=false}continue}if(!at[P]){o(at.element,[l],[O]);at[P]=true}for(var aq=0;aq<ay.length-1;aq++){if(au>=ay[aq].frame&&au<=ay[aq+1].frame){var av=ay[aq];var aC=ay[aq+1];for(aD in av.props){if(f.call(av.props,aD)){var k=(au-av.frame)/(aC.frame-av.frame);k=av.props[aD].easing(k);aB=d(av.props[aD].value,aC.props[aD].value,k);aB=s(aB);p(at.element,aD,aB)}}break}}}};var ag=function(){var k;if(K){var ar=ad();if(ar>=K.endTime){z.setScrollTop(K.targetTop);k=K.done;K=w}else{var aq=K.easing((ar-K.startTime)/K.duration);z.setScrollTop((K.startTop+aq*K.topDiff)|0)}}ap=z.getScrollTop();if(ap<0){ap=0}if(H||ae!==ap){ao=(ap>=ae)?"down":"up";H=false;var au={curTop:ap,lastTop:ae,maxTop:E,direction:ao};var at=M.beforerender&&M.beforerender.call(z,au);if(at!==false){A(ap);ae=ap;if(M.render){M.render.call(z,au)}}if(k){k.call(z)}}b(function(){ag()})};var Z=function(k){for(var aq=0;aq<k.keyFrames.length;aq++){var av=k.keyFrames[aq];var au=av.props.split(c);var ax;var ar;var aw;av.props={};for(var at=0;at<au.length-1;at+=2){ax=a(au[at]);ar=a(au[at+1]);aw=ax.match(g);if(aw!==null){ax=aw[1];aw=aw[2]}else{aw=n}ar=ar.indexOf("!")?t(ar):[ar.slice(1)];av.props[ax]={value:ar,easing:F[aw]}}}};var t=function(aq){var k=[];G.lastIndex=0;aq=aq.replace(G,function(ar){return ar.replace(ai,function(at){return at/255*100+"%"})});T.lastIndex=0;aq=aq.replace(T,function(ar){return m+ar});aq=aq.replace(ai,function(ar){k.push(+ar);return"?"});k.unshift(aq);return k};var X=function(aq){var k={};var ar;for(ar=0;ar<aq.keyFrames.length;ar++){U(aq.keyFrames[ar],k)}k={};for(ar=aq.keyFrames.length-1;ar>=0;ar--){U(aq.keyFrames[ar],k)}};var U=function(ar,k){var aq;for(aq in k){if(!f.call(ar.props,aq)){ar.props[aq]=k[aq]}}for(aq in ar.props){k[aq]=ar.props[aq]}};var d=function(at,ar,aq){if(at.length!==ar.length){throw"Can't interpolate between \""+at[0]+'" and "'+ar[0]+'"'}var k=[at[0]];for(var au=1;au<at.length;au++){k[au]=at[au]+((ar[au]-at[au])*aq)}return k};var s=function(aq){var k=1;return aq[0].replace(/\?/g,function(){return aq[k++]})};var p=function(ar,av,at){var aq=ar.style;av=av.replace(D,i).replace("-","");if(av==="zIndex"){aq[av]=""+(at|0)}else{try{aq[C+av.slice(0,1).toUpperCase()+av.slice(1)]=at;aq[av]=at}catch(au){}}if(I.setStyle){for(var k=0;k<I.setStyle.length;k++){I.setStyle[k].call(z,ar,av,at)}}};var W=function(k,aq){if(ac.addEventListener){ac.addEventListener(k,aq,false)}else{ac.attachEvent("on"+k,aq)}};var o=function(ar,au,aq){var aw="className";if(ac.SVGElement&&ar instanceof ac.SVGElement){ar=ar[aw];aw="baseVal"}var av=ar[aw];for(var k=0;k<au.length;k++){if(N(av).indexOf(N(au[k]))===-1){av+=" "+au[k]}}for(var at=0;at<aq.length;at++){av=N(av).replace(N(aq[at])," ")}ar[aw]=a(av)};var a=function(k){return k.replace(ak,"$1")};var N=function(k){return" "+k+" "};var ad=function(){return +new Date()};var q=function(aq,k){return aq.frame-k.frame};var z;var I={};var an=[];var M;var am;var E=0;var x;var V=1;var L;var ao="down";var ae=-1;var ap=0;var K;var H;var aj=0;ac.skrollr={init:function(k){return z||new ah(k)},plugin:function(aq,k){if(I[aq]){I[aq].push(k)}else{I[aq]=[k]}},VERSION:"0.4.3"}}(window,document));