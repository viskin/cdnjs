var jade=function(){function require(t){var e=require.resolve(t),s=require.modules[e];if(!s)throw new Error('failed to require "'+t+'"');return s.exports||(s.exports={},s.call(s.exports,s,s.exports,require.relative(e))),s.exports}return require.modules={},require.resolve=function(t){var e=t,s=t+".js",i=t+"/index.js";return require.modules[s]&&s||require.modules[i]&&i||e},require.register=function(t,e){require.modules[t]=e},require.relative=function(t){return function(e){if("."!=e.charAt(0))return require(e);var s=t.split("/"),i=e.split("/");s.pop();for(var n=0;n<i.length;n++){var r=i[n];".."==r?s.pop():"."!=r&&s.push(r)}return require(s.join("/"))}},require.register("compiler.js",function(module,exports,require){function isConstant(t){if(/^ *("([^"\\]*(\\.[^"\\]*)*)"|'([^'\\]*(\\.[^'\\]*)*)'|true|false|null|undefined) *$/i.test(t))return!0;if(!isNaN(Number(t)))return!0;var e;return(e=/^ *\[(.*)\] *$/.exec(t))?e[1].split(",").every(isConstant):!1}var nodes=require("./nodes"),filters=require("./filters"),doctypes=require("./doctypes"),selfClosing=require("./self-closing"),runtime=require("./runtime"),utils=require("./utils"),parseJSExpression=require("character-parser").parseMax;Object.keys||(Object.keys=function(t){var e=[];for(var s in t)t.hasOwnProperty(s)&&e.push(s);return e}),String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/,"")});var Compiler=module.exports=function(t,e){this.options=e=e||{},this.node=t,this.hasCompiledDoctype=!1,this.hasCompiledTag=!1,this.pp=e.pretty||!1,this.debug=!1!==e.compileDebug,this.indents=0,this.parentIndents=0,e.doctype&&this.setDoctype(e.doctype)};Compiler.prototype={compile:function(){return this.buf=[],this.pp&&this.buf.push("jade.indent = [];"),this.lastBufferedIdx=-1,this.visit(this.node),this.buf.join("\n")},setDoctype:function(t){t=t&&t.toLowerCase()||"default",this.doctype=doctypes[t]||"<!DOCTYPE "+t+">",this.terse="<!doctype html>"==this.doctype.toLowerCase(),this.xml=0==this.doctype.indexOf("<?xml")},buffer:function(t,e){if(e){var s=/(\\)?([#!]){((?:.|\n)*)$/.exec(t);if(s){if(this.buffer(t.substr(0,s.index),!1),s[1])return this.buffer(s[2]+"{",!1),void this.buffer(s[3],!0);try{var i=s[3],n=parseJSExpression(i),r=("!"==s[2]?"":"jade.escape")+"((jade.interp = "+n.src+") == null ? '' : jade.interp)"}catch(o){throw o}return this.bufferExpression(r),void this.buffer(i.substr(n.end+1),!0)}}t=JSON.stringify(t),t=t.substr(1,t.length-2),this.lastBufferedIdx==this.buf.length?("code"===this.lastBufferedType&&(this.lastBuffered+=' + "'),this.lastBufferedType="text",this.lastBuffered+=t,this.buf[this.lastBufferedIdx-1]="buf.push("+this.bufferStartChar+this.lastBuffered+'");'):(this.buf.push('buf.push("'+t+'");'),this.lastBufferedType="text",this.bufferStartChar='"',this.lastBuffered=t,this.lastBufferedIdx=this.buf.length)},bufferExpression:function(t){this.lastBufferedIdx==this.buf.length?("text"===this.lastBufferedType&&(this.lastBuffered+='"'),this.lastBufferedType="code",this.lastBuffered+=" + ("+t+")",this.buf[this.lastBufferedIdx-1]="buf.push("+this.bufferStartChar+this.lastBuffered+");"):(this.buf.push("buf.push("+t+");"),this.lastBufferedType="code",this.bufferStartChar="",this.lastBuffered="("+t+")",this.lastBufferedIdx=this.buf.length)},prettyIndent:function(t,e){t=t||0,e=e?"\n":"",this.buffer(e+Array(this.indents+t).join("  ")),this.parentIndents&&this.buf.push("buf.push.apply(buf, jade.indent);")},visit:function(t){var e=this.debug;e&&this.buf.push("jade.debug.unshift({ lineno: "+t.line+", filename: "+(t.filename?JSON.stringify(t.filename):"jade.debug[0].filename")+" });"),!1===t.debug&&this.debug&&(this.buf.pop(),this.buf.pop()),this.visitNode(t),e&&this.buf.push("jade.debug.shift();")},visitNode:function(t){var e=t.constructor.name||t.constructor.toString().match(/function ([^(\s]+)()/)[1];return this["visit"+e](t)},visitCase:function(t){var e=this.withinCase;this.withinCase=!0,this.buf.push("switch ("+t.expr+"){"),this.visit(t.block),this.buf.push("}"),this.withinCase=e},visitWhen:function(t){this.buf.push("default"==t.expr?"default:":"case "+t.expr+":"),this.visit(t.block),this.buf.push("  break;")},visitLiteral:function(t){this.buffer(t.str)},visitBlock:function(t){var e=t.nodes.length,s=this.escape,i=this.pp;if(this.parentIndents&&t.mode)return i&&this.buf.push("jade.indent.push('"+Array(this.indents+1).join("  ")+"');"),this.buf.push("block && block();"),void(i&&this.buf.push("jade.indent.pop();"));i&&e>1&&!s&&t.nodes[0].isText&&t.nodes[1].isText&&this.prettyIndent(1,!0);for(var n=0;e>n;++n)i&&n>0&&!s&&t.nodes[n].isText&&t.nodes[n-1].isText&&this.prettyIndent(1,!1),this.visit(t.nodes[n]),t.nodes[n+1]&&t.nodes[n].isText&&t.nodes[n+1].isText&&this.buffer("\n")},visitDoctype:function(t){!t||!t.val&&this.doctype||this.setDoctype(t.val||"default"),this.doctype&&this.buffer(this.doctype),this.hasCompiledDoctype=!0},visitMixin:function(t){var e=t.name.replace(/-/g,"_")+"_mixin",s=t.args||"",i=t.block,n=t.attrs,r=this.pp;if(t.call){if(r&&this.buf.push("jade.indent.push('"+Array(this.indents+1).join("  ")+"');"),i||n.length){if(this.buf.push(e+".call({"),i){this.buf.push("block: function(){"),this.parentIndents++;var o=this.indents;this.indents=0,this.visit(t.block),this.indents=o,this.parentIndents--,this.buf.push(n.length?"},":"}")}if(n.length){var a=this.attrs(n);this.buf.push(a.inherits?"attributes: jade.merge({"+a.buf+"}, attributes), escaped: jade.merge("+a.escaped+", escaped, true)":"attributes: {"+a.buf+"}, escaped: "+a.escaped)}this.buf.push(s?"}, "+s+");":"});")}else this.buf.push(e+"("+s+");");r&&this.buf.push("jade.indent.pop();")}else this.buf.push("var "+e+" = function("+s+"){"),this.buf.push("var block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};"),this.parentIndents++,this.visit(i),this.parentIndents--,this.buf.push("};")},visitTag:function(t){function e(){t.buffer?n.bufferExpression(s):n.buffer(s)}this.indents++;var s=t.name,i=this.pp,n=this;this.hasCompiledTag||(this.hasCompiledDoctype||"html"!=s||this.visitDoctype(),this.hasCompiledTag=!0),i&&!t.isInline()&&this.prettyIndent(0,!0),!~selfClosing.indexOf(s)&&!t.selfClosing||this.xml?(t.attrs.length?(this.buffer("<"),e(),t.attrs.length&&this.visitAttributes(t.attrs),this.buffer(">")):(this.buffer("<"),e(),this.buffer(">")),t.code&&this.visitCode(t.code),this.escape="pre"==t.name,this.visit(t.block),!i||t.isInline()||"pre"==t.name||t.canInline()||this.prettyIndent(0,!0),this.buffer("</"),e(),this.buffer(">")):(this.buffer("<"),e(),this.visitAttributes(t.attrs),this.buffer(this.terse?">":"/>")),this.indents--},visitFilter:function(t){var e=t.block.nodes.map(function(t){return t.val}).join("\n");t.attrs=t.attrs||{},t.attrs.filename=this.options.filename,this.buffer(filters(t.name,e,t.attrs),!0)},visitText:function(t){this.buffer(t.val,!0)},visitComment:function(t){t.buffer&&(this.pp&&this.prettyIndent(1,!0),this.buffer("<!--"+t.val+"-->"))},visitBlockComment:function(t){t.buffer&&(0==t.val.trim().indexOf("if")?(this.buffer("<!--["+t.val.trim()+"]>"),this.visit(t.block),this.buffer("<![endif]-->")):(this.buffer("<!--"+t.val),this.visit(t.block),this.buffer("-->")))},visitCode:function(t){if(t.buffer){var e=t.val.trimLeft();e="null == (jade.interp = "+e+') ? "" : jade.interp',t.escape&&(e="jade.escape("+e+")"),this.bufferExpression(e)}else this.buf.push(t.val);t.block&&(t.buffer||this.buf.push("{"),this.visit(t.block),t.buffer||this.buf.push("}"))},visitEach:function(t){this.buf.push("// iterate "+t.obj+"\n;(function(){\n  var $$obj = "+t.obj+";\n  if ('number' == typeof $$obj.length) {\n"),t.alternative&&this.buf.push("  if ($$obj.length) {"),this.buf.push("    for (var "+t.key+" = 0, $$l = $$obj.length; "+t.key+" < $$l; "+t.key+"++) {\n      var "+t.val+" = $$obj["+t.key+"];\n"),this.visit(t.block),this.buf.push("    }\n"),t.alternative&&(this.buf.push("  } else {"),this.visit(t.alternative),this.buf.push("  }")),this.buf.push("  } else {\n    var $$l = 0;\n    for (var "+t.key+" in $$obj) {\n      $$l++;      if ($$obj.hasOwnProperty("+t.key+")){      var "+t.val+" = $$obj["+t.key+"];\n"),this.visit(t.block),this.buf.push("      }\n"),this.buf.push("    }\n"),t.alternative&&(this.buf.push("    if ($$l === 0) {"),this.visit(t.alternative),this.buf.push("    }")),this.buf.push("  }\n}).call(this);\n")},visitAttributes:function(attrs){var val=this.attrs(attrs);val.inherits?this.bufferExpression("jade.attrs(jade.merge({ "+val.buf+" }, attributes), jade.merge("+val.escaped+", escaped, true))"):val.constant?(eval("var buf={"+val.buf+"};"),this.buffer(runtime.attrs(buf,JSON.parse(val.escaped)))):this.bufferExpression("jade.attrs({ "+val.buf+" }, "+val.escaped+")")},attrs:function(t){var e=[],s=[],i={},n=t.every(function(t){return isConstant(t.val)}),r=!1;return this.terse&&e.push("terse: true"),t.forEach(function(t){if("attributes"==t.name)return r=!0;if(i[t.name]=t.escaped,"class"==t.name)s.push("("+t.val+")");else{var n="'"+t.name+"':("+t.val+")";e.push(n)}}),s.length&&(s=s.join(" + ' ' + "),e.push('"class": '+s)),{buf:e.join(", "),escaped:JSON.stringify(i),inherits:r,constant:n}}}}),require.register("doctypes.js",function(t){t.exports={5:"<!DOCTYPE html>","default":"<!DOCTYPE html>",xml:'<?xml version="1.0" encoding="utf-8" ?>',transitional:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">',strict:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">',frameset:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">',1.1:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">',basic:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML Basic 1.1//EN" "http://www.w3.org/TR/xhtml-basic/xhtml-basic11.dtd">',mobile:'<!DOCTYPE html PUBLIC "-//WAPFORUM//DTD XHTML Mobile 1.2//EN" "http://www.openmobilealliance.org/tech/DTD/xhtml-mobile12.dtd">'}}),require.register("filters.js",function(t,e,s){function i(t,e,s){if("function"==typeof i[t])var r=i[t](e,s);else{if(!n[t])throw new Error('unknown filter ":'+t+'"');var r=n[t].renderSync(e,s);"js"===n[t].outputFormat?r='<script type="text/javascript">\n'+r+"</script>":"css"===n[t].outputFormat?r='<style type="text/css">'+r+"</style>":"xml"===n[t].outputFormat&&(r=r.replace(/'/g,"&#39;"))}return r}var n=s("transformers");t.exports=i,i.exists=function(t){return"function"==typeof i[t]||n[t]}}),require.register("inline-tags.js",function(t){t.exports=["a","abbr","acronym","b","br","code","em","font","i","img","ins","kbd","map","samp","small","span","strong","sub","sup"]}),require.register("jade.js",function(t,e,s){function i(t,e){try{var s=new r(t,e.filename,e),i=new(e.compiler||a)(s.parse(),e),n=i.compile();return e.debug&&console.error("\nCompiled Function:\n\n[90m%s[0m",n.replace(/^/gm,"  ")),"var buf = [];\n"+(e.self?"var self = locals || {};\n"+n:"with (locals || {}) {\n"+n+"\n}\n")+'return buf.join("");'}catch(o){s=s.context(),h.rethrow(o,s.filename,s.lexer.lineno)}}function n(t){return 65279==t.charCodeAt(0)?t.substring(1):t}var r=s("./parser"),o=s("./lexer"),a=s("./compiler"),h=s("./runtime");e.version="0.30.0",e.selfClosing=s("./self-closing"),e.doctypes=s("./doctypes"),e.filters=s("./filters"),e.utils=s("./utils"),e.Compiler=a,e.Parser=r,e.Lexer=o,e.nodes=s("./nodes"),e.runtime=h,e.cache={},e.compile=function(t,e){var s,e=e||{},r=e.filename?JSON.stringify(e.filename):"undefined";return t=n(String(t)),s=e.compileDebug!==!1?["jade.debug = [{ lineno: 1, filename: "+r+" }];","try {",i(t,e),"} catch (err) {","  jade.rethrow(err, jade.debug[0].filename, jade.debug[0].lineno);","}"].join("\n"):i(t,e),e.client?new Function("locals",s):(s=new Function("locals, jade",s),function(t){return s(t,Object.create(h))})},e.render=function(t,s,i){if("function"==typeof s&&(i=s,s={}),s.cache&&!s.filename)return i(new Error('the "filename" option is required for caching'));try{var n=s.filename,r=s.cache?e.cache[n]||(e.cache[n]=e.compile(t,s)):e.compile(t,s);i(null,r(s))}catch(o){i(o)}},e.renderFile=function(t,s,i){var n=t+":string";"function"==typeof s&&(i=s,s={});try{s.filename=t;var r=s.cache?e.cache[n]||(e.cache[n]=fs.readFileSync(t,"utf8")):fs.readFileSync(t,"utf8");e.render(r,s,i)}catch(o){i(o)}},e.__express=e.renderFile}),require.register("lexer.js",function(t,e,s){var i=(s("./utils"),s("character-parser").parseMax),n=t.exports=function(t,e){e=e||{},this.input=t.replace(/\r\n|\r/g,"\n"),this.colons=e.colons,this.deferredTokens=[],this.lastIndents=0,this.lineno=1,this.stash=[],this.indentStack=[],this.indentRe=null,this.pipeless=!1};n.prototype={tok:function(t,e){return{type:t,line:this.lineno,val:e}},consume:function(t){this.input=this.input.substr(t)},scan:function(t,e){var s;return(s=t.exec(this.input))?(this.consume(s[0].length),this.tok(e,s[1])):void 0},defer:function(t){this.deferredTokens.push(t)},lookahead:function(t){for(var e=t-this.stash.length;e-->0;)this.stash.push(this.next());return this.stash[--t]},bracketExpression:function(t){t=t||0;var e=this.input[t];if("("!=e&&"{"!=e&&"["!=e)throw new Error("unrecognized start character");var s={"(":")","{":"}","[":"]"}[e],n=i(this.input,{start:t+1});if(this.input[n.end]!==s)throw new Error("start character "+e+" does not match end character "+this.input[n.end]);return n},stashed:function(){return this.stash.length&&this.stash.shift()},deferred:function(){return this.deferredTokens.length&&this.deferredTokens.shift()},eos:function(){return this.input.length?void 0:this.indentStack.length?(this.indentStack.shift(),this.tok("outdent")):this.tok("eos")},blank:function(){var t;return(t=/^\n *\n/.exec(this.input))?(this.consume(t[0].length-1),++this.lineno,this.pipeless?this.tok("text",""):this.next()):void 0},comment:function(){var t;if(t=/^ *\/\/(-)?([^\n]*)/.exec(this.input)){this.consume(t[0].length);var e=this.tok("comment",t[2]);return e.buffer="-"!=t[1],e}},interpolation:function(){if(/^#\{/.test(this.input)){var t;try{t=this.bracketExpression(1)}catch(e){return}return this.consume(t.end+1),this.tok("interpolation",t.src)}},tag:function(){var t;if(t=/^(\w[-:\w]*)(\/?)/.exec(this.input)){this.consume(t[0].length);var e,s=t[1];if(":"==s[s.length-1])for(s=s.slice(0,-1),e=this.tok("tag",s),this.defer(this.tok(":"));" "==this.input[0];)this.input=this.input.substr(1);else e=this.tok("tag",s);return e.selfClosing=!!t[2],e}},filter:function(){return this.scan(/^:(\w+)/,"filter")},doctype:function(){return this.scan(/^(?:!!!|doctype) *([^\n]+)?/,"doctype")},id:function(){return this.scan(/^#([\w-]+)/,"id")},className:function(){return this.scan(/^\.([\w-]+)/,"class")},text:function(){return this.scan(/^(?:\| ?| ?)?([^\n]+)/,"text")},"extends":function(){return this.scan(/^extends? +([^\n]+)/,"extends")},prepend:function(){var t;if(t=/^prepend +([^\n]+)/.exec(this.input)){this.consume(t[0].length);var e="prepend",s=t[1],i=this.tok("block",s);return i.mode=e,i}},append:function(){var t;if(t=/^append +([^\n]+)/.exec(this.input)){this.consume(t[0].length);var e="append",s=t[1],i=this.tok("block",s);return i.mode=e,i}},block:function(){var t;if(t=/^block\b *(?:(prepend|append) +)?([^\n]*)/.exec(this.input)){this.consume(t[0].length);var e=t[1]||"replace",s=t[2],i=this.tok("block",s);return i.mode=e,i}},"yield":function(){return this.scan(/^yield */,"yield")},include:function(){return this.scan(/^include +([^\n]+)/,"include")},"case":function(){return this.scan(/^case +([^\n]+)/,"case")},when:function(){return this.scan(/^when +([^:\n]+)/,"when")},"default":function(){return this.scan(/^default */,"default")},assignment:function(){var t;if(t=/^(\w+) += *([^;\n]+)( *;? *)/.exec(this.input)){this.consume(t[0].length);var e=t[1],s=t[2];return this.tok("code","var "+e+" = ("+s+");")}},call:function(){var t;if(t=/^\+([-\w]+)/.exec(this.input)){this.consume(t[0].length);var e=this.tok("call",t[1]);if(t=/^ *\(/.exec(this.input))try{var s=this.bracketExpression(t[0].length-1);/^ *[-\w]+ *=/.test(s.src)||(this.consume(s.end+1),e.args=s.src)}catch(i){}return e}},mixin:function(){var t;if(t=/^mixin +([-\w]+)(?: *\((.*)\))?/.exec(this.input)){this.consume(t[0].length);var e=this.tok("mixin",t[1]);return e.args=t[2],e}},conditional:function(){var t;if(t=/^(if|unless|else if|else)\b([^\n]*)/.exec(this.input)){this.consume(t[0].length);var e=t[1],s=t[2];switch(e){case"if":s="if ("+s+")";break;case"unless":s="if (!("+s+"))";break;case"else if":s="else if ("+s+")";break;case"else":s="else"}return this.tok("code",s)}},"while":function(){var t;return(t=/^while +([^\n]+)/.exec(this.input))?(this.consume(t[0].length),this.tok("code","while ("+t[1]+")")):void 0},each:function(){var t;if(t=/^(?:- *)?(?:each|for) +(\w+)(?: *, *(\w+))? * in *([^\n]+)/.exec(this.input)){this.consume(t[0].length);var e=this.tok("each",t[1]);return e.key=t[2]||"$index",e.code=t[3],e}},code:function(){var t;if(t=/^(!?=|-)[ \t]*([^\n]+)/.exec(this.input)){this.consume(t[0].length);var e=t[1];t[1]=t[2];var s=this.tok("code",t[1]);return s.escape="="===e.charAt(0),s.buffer="="===e.charAt(0)||"="===e.charAt(1),s}},attrs:function(){function t(){return p[p.length-1]}function e(t){return t.replace(/(\\)?#\{(.+)/g,function(t,s,n){if(s)return t;try{var o=i(n);return"}"!==n[o.end]?t.substr(0,2)+e(t.substr(2)):r+" + ("+o.src+") + "+r+e(n.substr(o.end+1))}catch(a){return t.substr(0,2)+e(t.substr(2))}})}function s(s){var i=s;switch(l&&":"==s&&(s="="),s){case",":case"\n":switch(t()){case"expr":case"array":case"string":case"object":d+=s;break;default:if(p.push("key"),d=d.trim(),f=f.trim(),""==f)return;f=f.replace(/^['"]|['"]$/g,"").replace("!",""),c.escaped[f]=n,c.attrs[f]=""==d?!0:e(d),f=d=""}break;case"=":switch(t()){case"key char":f+=i;break;case"val":case"expr":case"array":case"string":case"object":d+=i;break;default:n="!"!=o,p.push("val")}break;case"(":("val"==t()||"expr"==t())&&p.push("expr"),d+=s;break;case")":("expr"==t()||"val"==t())&&p.pop(),d+=s;break;case"{":"val"==t()&&p.push("object"),d+=s;break;case"}":"object"==t()&&p.pop(),d+=s;break;case"[":"val"==t()&&p.push("array"),d+=s;break;case"]":"array"==t()&&p.pop(),d+=s;break;case'"':case"'":switch(t()){case"key":p.push("key char");break;case"key char":p.pop();break;case"string":s==r&&p.pop(),d+=s;break;default:p.push("string"),d+=s,r=s}break;case"":break;default:switch(t()){case"key":case"key char":f+=s;break;default:d+=s}}o=s}if("("==this.input.charAt(0)){var n,r,o,a=this.bracketExpression().end,h=this.input.substr(1,a-1),c=this.tok("attrs"),u=h.length,l=this.colons,p=["key"],f="",d="";this.consume(a+1),c.attrs={},c.escaped={};for(var b=0;u>b;++b)s(h.charAt(b));return s(","),"/"==this.input.charAt(0)&&(this.consume(1),c.selfClosing=!0),c}},indent:function(){var t,e;if(this.indentRe?t=this.indentRe.exec(this.input):(e=/^\n(\t*) */,t=e.exec(this.input),t&&!t[1].length&&(e=/^\n( *)/,t=e.exec(this.input)),t&&t[1].length&&(this.indentRe=e)),t){var s,i=t[1].length;if(++this.lineno,this.consume(i+1)," "==this.input[0]||"	"==this.input[0])throw new Error("Invalid indentation, you can use tabs or spaces but not both");if("\n"==this.input[0])return this.tok("newline");if(this.indentStack.length&&i<this.indentStack[0]){for(;this.indentStack.length&&this.indentStack[0]>i;)this.stash.push(this.tok("outdent")),this.indentStack.shift();s=this.stash.pop()}else i&&i!=this.indentStack[0]?(this.indentStack.unshift(i),s=this.tok("indent",i)):s=this.tok("newline");return s}},pipelessText:function(){if(this.pipeless){if("\n"==this.input[0])return;var t=this.input.indexOf("\n");-1==t&&(t=this.input.length);var e=this.input.substr(0,t);return this.consume(e.length),this.tok("text",e)}},colon:function(){return this.scan(/^: */,":")},advance:function(){return this.stashed()||this.next()},next:function(){return this.deferred()||this.blank()||this.eos()||this.pipelessText()||this.yield()||this.doctype()||this.interpolation()||this["case"]()||this.when()||this["default"]()||this["extends"]()||this.append()||this.prepend()||this.block()||this.include()||this.mixin()||this.call()||this.conditional()||this.each()||this["while"]()||this.assignment()||this.tag()||this.filter()||this.code()||this.id()||this.className()||this.attrs()||this.indent()||this.comment()||this.colon()||this.text()}}}),require.register("nodes/attrs.js",function(t,e,s){var i=s("./node"),n=(s("./block"),t.exports=function(){this.attrs=[]});n.prototype=new i,n.prototype.constructor=n,n.prototype.setAttribute=function(t,e,s){return this.attrs.push({name:t,val:e,escaped:s}),this},n.prototype.removeAttribute=function(t){for(var e=0,s=this.attrs.length;s>e;++e)this.attrs[e]&&this.attrs[e].name==t&&delete this.attrs[e]},n.prototype.getAttribute=function(t){for(var e=0,s=this.attrs.length;s>e;++e)if(this.attrs[e]&&this.attrs[e].name==t)return this.attrs[e].val}}),require.register("nodes/block-comment.js",function(t,e,s){var i=s("./node"),n=t.exports=function(t,e,s){this.block=e,this.val=t,this.buffer=s};n.prototype=new i,n.prototype.constructor=n}),require.register("nodes/block.js",function(t,e,s){var i=s("./node"),n=t.exports=function(t){this.nodes=[],t&&this.push(t)};n.prototype=new i,n.prototype.constructor=n,n.prototype.isBlock=!0,n.prototype.replace=function(t){t.nodes=this.nodes},n.prototype.push=function(t){return this.nodes.push(t)},n.prototype.isEmpty=function(){return 0==this.nodes.length},n.prototype.unshift=function(t){return this.nodes.unshift(t)},n.prototype.includeBlock=function(){for(var t,e=this,s=0,i=this.nodes.length;i>s;++s){if(t=this.nodes[s],t.yield)return t;if(!t.textOnly&&(t.includeBlock?e=t.includeBlock():t.block&&!t.block.isEmpty()&&(e=t.block.includeBlock()),e.yield))return e}return e},n.prototype.clone=function(){for(var t=new n,e=0,s=this.nodes.length;s>e;++e)t.push(this.nodes[e].clone());return t}}),require.register("nodes/case.js",function(t,e,s){var i=s("./node"),n=e=t.exports=function(t,e){this.expr=t,this.block=e};n.prototype=new i,n.prototype.constructor=n;var r=e.When=function(t,e){this.expr=t,this.block=e,this.debug=!1};r.prototype=new i,r.prototype.constructor=r}),require.register("nodes/code.js",function(t,e,s){var i=s("./node"),n=t.exports=function(t,e,s){this.val=t,this.buffer=e,this.escape=s,t.match(/^ *else/)&&(this.debug=!1)};n.prototype=new i,n.prototype.constructor=n}),require.register("nodes/comment.js",function(t,e,s){var i=s("./node"),n=t.exports=function(t,e){this.val=t,this.buffer=e};n.prototype=new i,n.prototype.constructor=n}),require.register("nodes/doctype.js",function(t,e,s){var i=s("./node"),n=t.exports=function(t){this.val=t};n.prototype=new i,n.prototype.constructor=n}),require.register("nodes/each.js",function(t,e,s){var i=s("./node"),n=t.exports=function(t,e,s,i){this.obj=t,this.val=e,this.key=s,this.block=i};n.prototype=new i,n.prototype.constructor=n}),require.register("nodes/filter.js",function(t,e,s){var i=s("./node"),n=(s("./block"),t.exports=function(t,e,s){this.name=t,this.block=e,this.attrs=s});n.prototype=new i,n.prototype.constructor=n}),require.register("nodes/index.js",function(t,e,s){e.Node=s("./node"),e.Tag=s("./tag"),e.Code=s("./code"),e.Each=s("./each"),e.Case=s("./case"),e.Text=s("./text"),e.Block=s("./block"),e.Mixin=s("./mixin"),e.Filter=s("./filter"),e.Comment=s("./comment"),e.Literal=s("./literal"),e.BlockComment=s("./block-comment"),e.Doctype=s("./doctype")}),require.register("nodes/literal.js",function(t,e,s){var i=s("./node"),n=t.exports=function(t){this.str=t};n.prototype=new i,n.prototype.constructor=n}),require.register("nodes/mixin.js",function(t,e,s){var i=s("./attrs"),n=t.exports=function(t,e,s,i){this.name=t,this.args=e,this.block=s,this.attrs=[],this.call=i};n.prototype=new i,n.prototype.constructor=n}),require.register("nodes/node.js",function(t){var e=t.exports=function(){};e.prototype.clone=function(){return this}}),require.register("nodes/tag.js",function(t,e,s){var i=s("./attrs"),n=s("./block"),r=s("../inline-tags"),o=t.exports=function(t,e){this.name=t,this.attrs=[],this.block=e||new n};o.prototype=new i,o.prototype.constructor=o,o.prototype.clone=function(){var t=new o(this.name,this.block.clone());return t.line=this.line,t.attrs=this.attrs,t.textOnly=this.textOnly,t},o.prototype.isInline=function(){return~r.indexOf(this.name)},o.prototype.canInline=function(){function t(e){return e.isBlock?e.nodes.every(t):e.isText||e.isInline&&e.isInline()}var e=this.block.nodes;if(!e.length)return!0;if(1==e.length)return t(e[0]);if(this.block.nodes.every(t)){for(var s=1,i=e.length;i>s;++s)if(e[s-1].isText&&e[s].isText)return!1;return!0}return!1}}),require.register("nodes/text.js",function(t,e,s){var i=s("./node"),n=t.exports=function(t){this.val="","string"==typeof t&&(this.val=t)};n.prototype=new i,n.prototype.constructor=n,n.prototype.isText=!0}),require.register("parser.js",function(t,e,s){var i=s("./lexer"),n=s("./nodes"),r=s("./utils"),o=s("./filters"),a=s("path"),h=a.extname,c=e=t.exports=function(t,e,s){this.input=t,this.lexer=new i(t,s),this.filename=e,this.blocks=[],this.mixins={},this.options=s,this.contexts=[this]},u=e.textOnly=["script","style"];c.prototype={context:function(t){return t?void this.contexts.push(t):this.contexts.pop()},advance:function(){return this.lexer.advance()},skip:function(t){for(;t--;)this.advance()},peek:function(){return this.lookahead(1)},line:function(){return this.lexer.lineno},lookahead:function(t){return this.lexer.lookahead(t)},parse:function(){var t,e=new n.Block;for(e.line=this.line();"eos"!=this.peek().type;)"newline"==this.peek().type?this.advance():e.push(this.parseExpr());if(t=this.extending){this.context(t);var s=t.parse();this.context();for(var i in this.mixins)s.unshift(this.mixins[i]);return s}return this.handleBlocks(),e},handleBlocks:function(){this.blocks.reverse();var t={};for(var e in this.blocks)if({}.hasOwnProperty.call(t,[this.blocks[e].name])){switch(this.blocks[e].mode){case"append":t[this.blocks[e].name].nodes=t[this.blocks[e].name].nodes.concat(this.blocks[e].nodes);break;case"prepend":t[this.blocks[e].name].nodes=this.blocks[e].nodes.concat(t[this.blocks[e].name].nodes);break;default:t[this.blocks[e].name].nodes=this.blocks[e].nodes}this.blocks[e]=t[this.blocks[e].name]}else t[this.blocks[e].name]=this.blocks[e]},expect:function(t){if(this.peek().type===t)return this.advance();throw new Error('expected "'+t+'", but got "'+this.peek().type+'"')},accept:function(t){return this.peek().type===t?this.advance():void 0},parseExpr:function(){switch(this.peek().type){case"tag":return this.parseTag();case"mixin":return this.parseMixin();case"block":return this.parseBlock();case"case":return this.parseCase();case"when":return this.parseWhen();case"default":return this.parseDefault();case"extends":return this.parseExtends();case"include":return this.parseInclude();case"doctype":return this.parseDoctype();case"filter":return this.parseFilter();case"comment":return this.parseComment();case"text":return this.parseText();case"each":return this.parseEach();case"code":return this.parseCode();case"call":return this.parseCall();case"interpolation":return this.parseInterpolation();case"yield":this.advance();var t=new n.Block;return t.yield=!0,t;case"id":case"class":var e=this.advance();return this.lexer.defer(this.lexer.tok("tag","div")),this.lexer.defer(e),this.parseExpr();default:throw new Error('unexpected token "'+this.peek().type+'"')}},parseText:function(){var t=this.expect("text"),e=new n.Text(t.val);return e.line=this.line(),e},parseBlockExpansion:function(){return":"==this.peek().type?(this.advance(),new n.Block(this.parseExpr())):this.block()},parseCase:function(){var t=this.expect("case").val,e=new n.Case(t);return e.line=this.line(),e.block=this.block(),e},parseWhen:function(){var t=this.expect("when").val;return new n.Case.When(t,this.parseBlockExpansion())},parseDefault:function(){return this.expect("default"),new n.Case.When("default",this.parseBlockExpansion())},parseCode:function(){var t,e=this.expect("code"),s=new n.Code(e.val,e.buffer,e.escape),i=1;for(s.line=this.line();this.lookahead(i)&&"newline"==this.lookahead(i).type;)++i;return t="indent"==this.lookahead(i).type,t&&(this.skip(i-1),s.block=this.block()),s},parseComment:function(){var t,e=this.expect("comment");return t="indent"==this.peek().type?new n.BlockComment(e.val,this.block(),e.buffer):new n.Comment(e.val,e.buffer),t.line=this.line(),t},parseDoctype:function(){var t=this.expect("doctype"),e=new n.Doctype(t.val);return e.line=this.line(),e},parseFilter:function(){var t,e=this.expect("filter"),s=this.accept("attrs");this.lexer.pipeless=!0,t=this.parseTextBlock(),this.lexer.pipeless=!1;var i=new n.Filter(e.val,t,s&&s.attrs);return i.line=this.line(),i},parseEach:function(){var t=this.expect("each"),e=new n.Each(t.code,t.val,t.key);return e.line=this.line(),e.block=this.block(),"code"==this.peek().type&&"else"==this.peek().val&&(this.advance(),e.alternative=this.block()),e},resolvePath:function(t,e){var i=s("path"),n=i.dirname,r=i.basename,o=i.join;if("/"!==t[0]&&!this.filename)throw new Error('the "filename" option is required to use "'+e+'" with "relative" paths');if("/"===t[0]&&!this.options.basedir)throw new Error('the "basedir" option is required to use "'+e+'" with "absolute" paths');return t=o("/"===t[0]?this.options.basedir:n(this.filename),t),-1===r(t).indexOf(".")&&(t+=".jade"),t},parseExtends:function(){var t=s("fs"),e=this.resolvePath(this.expect("extends").val.trim(),"extends");".jade"!=e.substr(-5)&&(e+=".jade");var i=t.readFileSync(e,"utf8"),r=new c(i,e,this.options);return r.blocks=this.blocks.reverse(),r.contexts=this.contexts,this.extending=r,new n.Literal("")},parseBlock:function(){var t=this.expect("block"),e=t.mode,s=t.val.trim();return t="indent"==this.peek().type?this.block():new n.Block(new n.Literal("")),t.mode=e,t.name=s,this.blocks.push(t),t},parseInclude:function(){var t=s("fs"),e=this.resolvePath(this.expect("include").val.trim(),"include");if(".jade"!=e.substr(-5)){var i=t.readFileSync(e,"utf8").replace(/\r/g,""),a=h(e).slice(1);return o.exists(a)&&(i=o(a,i,{filename:e})),new n.Literal(i)}var i=t.readFileSync(e,"utf8"),u=new c(i,e,this.options);u.blocks=r.merge([],this.blocks),u.mixins=this.mixins,this.context(u);var l=u.parse();return this.context(),l.filename=e,"indent"==this.peek().type&&l.includeBlock().push(this.block()),l},parseCall:function(){var t=this.expect("call"),e=t.val,s=t.args,i=new n.Mixin(e,s,new n.Block,!0);return this.tag(i),i.block.isEmpty()&&(i.block=null),i},parseMixin:function(){var t,e=this.expect("mixin"),s=e.val,i=e.args;return"indent"==this.peek().type?(t=new n.Mixin(s,i,this.block(),!1),this.mixins[s]=t,t):new n.Mixin(s,i,null,!0)},parseTextBlock:function(){var t=new n.Block;t.line=this.line();var e=this.expect("indent").val;null==this._spaces&&(this._spaces=e);for(var s=Array(e-this._spaces+1).join(" ");"outdent"!=this.peek().type;)switch(this.peek().type){case"newline":this.advance();break;case"indent":this.parseTextBlock().nodes.forEach(function(e){t.push(e)});break;default:var i=new n.Text(s+this.advance().val);i.line=this.line(),t.push(i)}return e==this._spaces&&(this._spaces=null),this.expect("outdent"),t},block:function(){var t=new n.Block;for(t.line=this.line(),this.expect("indent");"outdent"!=this.peek().type;)"newline"==this.peek().type?this.advance():t.push(this.parseExpr());return this.expect("outdent"),t},parseInterpolation:function(){var t=this.advance(),e=new n.Tag(t.val);return e.buffer=!0,this.tag(e)},parseTag:function(){var t=2;"attrs"==this.lookahead(t).type&&++t;var e=this.advance(),s=new n.Tag(e.val);return s.selfClosing=e.selfClosing,this.tag(s)},tag:function(t){var e;t.line=this.line();t:for(;;)switch(this.peek().type){case"id":case"class":var s=this.advance();t.setAttribute(s.type,"'"+s.val+"'");continue;case"attrs":var s=this.advance(),i=s.attrs,r=s.escaped,o=Object.keys(i);s.selfClosing&&(t.selfClosing=!0);for(var a=0,h=o.length;h>a;++a){var c=o[a],l=i[c];t.setAttribute(c,l,r[c])}continue;default:break t
}switch("."==this.peek().val&&(e=t.textOnly=!0,this.advance()),this.peek().type){case"text":t.block.push(this.parseText());break;case"code":t.code=this.parseCode();break;case":":this.advance(),t.block=new n.Block,t.block.push(this.parseExpr())}for(;"newline"==this.peek().type;)this.advance();if(t.textOnly=t.textOnly||~u.indexOf(t.name),"script"==t.name){var p=t.getAttribute("type");!e&&p&&"text/javascript"!=p.replace(/^['"]|['"]$/g,"")&&(t.textOnly=!1)}if("indent"==this.peek().type)if(t.textOnly)this.lexer.pipeless=!0,t.block=this.parseTextBlock(),this.lexer.pipeless=!1;else{var f=this.block();if(t.block)for(var a=0,h=f.nodes.length;h>a;++a)t.block.push(f.nodes[a]);else t.block=f}return t}}}),require.register("runtime.js",function(t,e,s){function i(t){return null!=t}Array.isArray||(Array.isArray=function(t){return"[object Array]"==Object.prototype.toString.call(t)}),Object.keys||(Object.keys=function(t){var e=[];for(var s in t)t.hasOwnProperty(s)&&e.push(s);return e}),e.merge=function(t,e){var s=t["class"],n=e["class"];(s||n)&&(s=s||[],n=n||[],Array.isArray(s)||(s=[s]),Array.isArray(n)||(n=[n]),s=s.filter(i),n=n.filter(i),t["class"]=s.concat(n).join(" "));for(var r in e)"class"!=r&&(t[r]=e[r]);return t},e.attrs=function(t,s){var i=[],n=t.terse;delete t.terse;var r=Object.keys(t),o=r.length;if(o){i.push("");for(var a=0;o>a;++a){var h=r[a],c=t[h];"boolean"==typeof c||null==c?c&&i.push(n?h:h+'="'+h+'"'):i.push(0==h.indexOf("data")&&"string"!=typeof c?h+"='"+JSON.stringify(c)+"'":"class"==h&&Array.isArray(c)?h+'="'+e.escape(c.join(" "))+'"':s&&s[h]?h+'="'+e.escape(c)+'"':h+'="'+c+'"')}}return i.join(" ")},e.escape=function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},e.rethrow=function(t,e,i){if(!e)throw t;if("undefined"!=typeof window)throw t;var n=3,r=s("fs").readFileSync(e,"utf8"),o=r.split("\n"),a=Math.max(i-n,0),h=Math.min(o.length,i+n),n=o.slice(a,h).map(function(t,e){var s=e+a+1;return(s==i?"  > ":"    ")+s+"| "+t}).join("\n");throw t.path=e,t.message=(e||"Jade")+":"+i+"\n"+n+"\n\n"+t.message,t}}),require.register("self-closing.js",function(t){t.exports=["meta","img","link","input","source","area","base","col","br","hr"]}),require.register("utils.js",function(t,e){e.merge=function(t,e){for(var s in e)t[s]=e[s];return t}}),require("jade")}();