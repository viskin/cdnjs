{"version":3,"sources":["html.sortable.js"],"names":["$","dragging","draggingHeight","placeholders","fn","sortable","options","method","String","extend","connectWith","placeholder","dragImage","this","each","index","items","children","handles","handle","find","off","test","citems","data","attr","removeData","add","soptions","startParent","newParent","tagName","addClass","not","on","dragDrop","end","e","stopImmediatePropagation","dt","originalEvent","dataTransfer","effectAllowed","setData","setDragImage","outerHeight","parent","triggerHandler","item","startparent","removeClass","show","detach","get","oldindex","endparent","is","type","stopPropagation","filter","after","trigger","preventDefault","dropEffect","thisHeight","forcePlaceholderSize","height","deadZone","offsetTop","offset","top","pageY","hide","length","append","jQuery"],"mappings":"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","file":"html.sortable.min.js","sourcesContent":["/*\n * HTML5 Sortable jQuery Plugin\n * https://github.com/voidberg/html5sortable\n *\n * Original code copyright 2012 Ali Farhadi.\n * This version is mantained by Alexandru Badiu <andu@ctrlz.ro>\n *\n * Thanks to the following contributors: andyburke, bistoco, daemianmack, drskullster, flying-sheep, OscarGodson, Parikshit N. Samant, rodolfospalenza, ssafejava\n *\n * Released under the MIT license.\n */\n(function($) {\n  'use strict';\n\n  var dragging;\n  var draggingHeight;\n  var placeholders = $();\n  $.fn.sortable = function(options) {\n    var method = String(options);\n\n    options = $.extend({\n      connectWith: false,\n      placeholder: null,\n      dragImage: null\n    }, options);\n\n    return this.each(function() {\n\n      var index;\n      var items = $(this).children(options.items);\n      var handles = options.handle ? items.find(options.handle) : items;\n\n      if (method === 'reload') {\n        $(this).children(options.items).off('dragstart.h5s dragend.h5s selectstart.h5s dragover.h5s dragenter.h5s drop.h5s');\n        $(this).off('dragover.h5s dragenter.h5s drop.h5s');\n      }\n      if (/^enable|disable|destroy$/.test(method)) {\n        var citems = $(this).children($(this).data('items')).attr('draggable', method === 'enable');\n\n        $(this).attr('aria-dropeffect', (/^disable|destroy$/.test(method) ? 'none' : 'move'));\n\n        if (method === 'destroy') {\n          $(this).off('sortstart sortupdate');\n          $(this).removeData('opts');\n          citems.add(this).removeData('connectWith items')\n            .off('dragstart.h5s dragend.h5s dragover.h5s dragenter.h5s drop.h5s').off('sortupdate');\n          handles.off('selectstart.h5s');\n        }\n        return;\n      }\n\n      var soptions = $(this).data('opts');\n\n      if (typeof soptions === 'undefined') {\n        $(this).data('opts', options);\n      } else {\n        options = soptions;\n      }\n\n      var startParent;\n      var newParent;\n      var placeholder = (options.placeholder === null) ? $('<' + (/^ul|ol$/i.test(this.tagName) ? 'li' : 'div') + ' class=\"sortable-placeholder\"/>') : $(options.placeholder).addClass('sortable-placeholder');\n\n      $(this).data('items', options.items);\n      placeholders = placeholders.add(placeholder);\n      if (options.connectWith) {\n        $(options.connectWith).add(this).data('connectWith', options.connectWith);\n      }\n\n      items.attr('role', 'option');\n      items.attr('aria-grabbed', 'false');\n\n      // Setup drag handles\n      handles.attr('draggable', 'true').not('a[href], img').on('selectstart.h5s', function() {\n        if (this.dragDrop) {\n          this.dragDrop();\n        }\n        return false;\n      }).end();\n\n      // Handle drag events on draggable items\n      items.on('dragstart.h5s', function(e) {\n        e.stopImmediatePropagation();\n        var dt = e.originalEvent.dataTransfer;\n        dt.effectAllowed = 'move';\n        dt.setData('text', '');\n\n        if (options.dragImage && dt.setDragImage) {\n          dt.setDragImage(options.dragImage, 0, 0);\n        }\n\n        index = (dragging = $(this)).addClass('sortable-dragging').attr('aria-grabbed', 'true').index();\n        draggingHeight = dragging.outerHeight();\n        startParent = $(this).parent();\n        dragging.parent().triggerHandler('sortstart', {item: dragging, startparent: startParent});\n      }).on('dragend.h5s', function() {\n          if (!dragging) {\n            return;\n          }\n          dragging.removeClass('sortable-dragging').attr('aria-grabbed', 'false').show();\n          placeholders.detach();\n          newParent = $(this).parent();\n          if (index !== dragging.index() || startParent.get(0) !== newParent.get(0)) {\n            dragging.parent().triggerHandler('sortupdate', {item: dragging, oldindex: index, startparent: startParent, endparent: newParent});\n          }\n          dragging = null;\n          draggingHeight = null;\n        }).add([this, placeholder]).on('dragover.h5s dragenter.h5s drop.h5s', function(e) {\n          if (!items.is(dragging) && options.connectWith !== $(dragging).parent().data('connectWith')) {\n            return true;\n          }\n          if (e.type === 'drop') {\n            e.stopPropagation();\n            placeholders.filter(':visible').after(dragging);\n            dragging.trigger('dragend.h5s');\n            return false;\n          }\n          e.preventDefault();\n          e.originalEvent.dataTransfer.dropEffect = 'move';\n          if (items.is(this)) {\n            var thisHeight = $(this).outerHeight();\n            if (options.forcePlaceholderSize) {\n              placeholder.height(draggingHeight);\n            }\n\n            // Check if $(this) is bigger than the draggable. If it is, we have to define a dead zone to prevent flickering\n            if (thisHeight > draggingHeight) {\n              // Dead zone?\n              var deadZone = thisHeight - draggingHeight;\n              var offsetTop = $(this).offset().top;\n              if (placeholder.index() < $(this).index() && e.originalEvent.pageY < offsetTop + deadZone) {\n                return false;\n              }\n              if (placeholder.index() > $(this).index() && e.originalEvent.pageY > offsetTop + thisHeight - deadZone) {\n                return false;\n              }\n            }\n\n            dragging.hide();\n            $(this)[placeholder.index() < $(this).index() ? 'after' : 'before'](placeholder);\n            placeholders.not(placeholder).detach();\n          } else if (!placeholders.is(this) && !$(this).children(options.items).length) {\n            placeholders.detach();\n            $(this).append(placeholder);\n          }\n          return false;\n        });\n    });\n  };\n})(jQuery);\n"],"sourceRoot":"/source/"}