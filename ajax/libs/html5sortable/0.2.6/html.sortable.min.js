!function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):e.sortable=t(e.jQuery)}(this,function(e){"use strict";var t,a,r=e(),n=function(e){e.off("dragstart.h5s"),e.off("dragend.h5s"),e.off("selectstart.h5s"),e.off("dragover.h5s"),e.off("dragenter.h5s"),e.off("drop.h5s")},i=function(e){e.off("dragover.h5s"),e.off("dragenter.h5s"),e.off("drop.h5s")},o=function(e,t){e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text",""),e.dataTransfer.setDragImage&&e.dataTransfer.setDragImage(t.item,t.x,t.y)},s=function(e,t){return t.x||(t.x=parseInt(e.pageX-t.draggedItem.offset().left)),t.y||(t.y=parseInt(e.pageY-t.draggedItem.offset().top)),t},d=function(e){return{item:e[0],draggedItem:e}},l=function(e,t){var a=d(t);a=s(e,a),o(e,a)},f=function(e,t){return"undefined"==typeof e?t:e},g=function(s){var d=String(s);return s=e.extend({connectWith:!1,placeholder:null,dragImage:null,placeholderClass:"sortable-placeholder",draggingClass:"sortable-dragging"},s),this.each(function(){var g=e(this);s=f(g.data("opts"),s),g.data("opts",s);var h,c=g.children(s.items),p=s.handle?c.find(s.handle):c;if("reload"===d&&(n(c),i(g)),g.attr("aria-dropeffect",/^disable|destroy$/.test(d)?"none":"move"),/^enable|disable|destroy$/.test(d)){var u=g.children(e(this).data("items"));return u.attr("draggable","enable"===d),void("destroy"===d&&(i(g),g.removeData("opts"),g.removeData("connectWith"),g.removeData("items"),g.removeAttr("aria-dropeffect"),n(u),u.removeAttr("aria-grabbed"),u.removeAttr("draggable"),u.removeAttr("role","option"),p.off("selectstart.h5s")))}var m,v,b=null===s.placeholder?e("<"+(/^ul|ol$/i.test(this.tagName)?"li":"div")+' class="'+s.placeholderClass+'"/>'):e(s.placeholder).addClass(s.placeholderClass);g.data("items",s.items),r=r.add(b),s.connectWith&&e(s.connectWith).add(this).data("connectWith",s.connectWith),c.attr("role","option"),c.attr("aria-grabbed","false"),p.attr("draggable","true"),"function"==typeof document.createElement("span").dragDrop&&p.on("mousedown",function(){-1!==c.index(this)?this.dragDrop():e(this).parents(s.items)[0].dragDrop()}),c.on("dragstart.h5s",function(r){r.stopImmediatePropagation(),s.dragImage?(o(r.originalEvent,{item:s.dragImage,x:0,y:0}),console.log("WARNING: dragImage option is deprecated and will be removed in the future!")):l(r.originalEvent,e(this),s.dragImage),t=e(this),t.addClass(s.draggingClass),t.attr("aria-grabbed","true"),h=t.index(),a=t.height(),m=e(this).parent(),t.parent().triggerHandler("sortstart",{item:t,startparent:m})}),c.on("dragend.h5s",function(){t&&(t.removeClass(s.draggingClass),t.attr("aria-grabbed","false"),t.show(),r.detach(),v=e(this).parent(),(h!==t.index()||m.get(0)!==v.get(0))&&t.parent().triggerHandler("sortupdate",{item:t,oldindex:h,startparent:m,endparent:v}),t=null,a=null)}),c.add([this,b]).on("dragover.h5s dragenter.h5s drop.h5s",function(n){if(!c.is(t)&&s.connectWith!==e(t).parent().data("connectWith"))return!0;if("drop"===n.type)return n.stopPropagation(),r.filter(":visible").after(t),t.trigger("dragend.h5s"),!1;if(n.preventDefault(),n.originalEvent.dataTransfer.dropEffect="move",c.is(this)){var i=e(this).height();if(s.forcePlaceholderSize&&b.height(a),i>a){var o=i-a,d=e(this).offset().top;if(b.index()<e(this).index()&&n.originalEvent.pageY<d+o)return!1;if(b.index()>e(this).index()&&n.originalEvent.pageY>d+i-o)return!1}t.hide(),b.index()<e(this).index()?e(this).after(b):e(this).before(b),r.not(b).detach()}else r.is(this)||e(this).children(s.items).length||(r.detach(),e(this).append(b));return!1})})};return e.fn.sortable=g,g});
//# sourceMappingURL=html.sortable.min.js.map