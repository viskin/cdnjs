{"version":3,"sources":["vegas.min.js"],"names":["$","defaults","slide","delay","preload","preloadImage","preloadVideo","timer","overlay","autoplay","shuffle","cover","color","align","valign","transition","transitionDuration","animation","animationDuration","init","play","pause","walk","slides","videoCache","Vegas","elmt","options","this","settings","extend","vegas","total","length","noshow","paused","$elmt","$timer","$overlay","$slide","timeout","transitions","animations","support","objectFit","document","body","style","video","isVideoCompatible","i","styleSheets","rules","sheet","cssRules","e","test","href","j","rule","matchTransition","exec","selectorText","matchAnimation","indexOf","push","_init","prototype","$wrapper","isBody","tagName","self","_preload","css","clone","children","appendTo","innerHTML","prepend","addClass","append","setTimeout","trigger","_goto","img","preloadImages","src","Image","preloadVideos","_video","_random","array","Math","floor","random","_slideShow","next","_options","_timer","state","clearTimeout","removeClass","find","srcs","source","cacheKey","toString","Array","createElement","muted","forEach","appendChild","key","undefined","nb","go","$slides","fadeIn","eq","remove","$inner","$video","videos","console","error","after","each","className","readyState","currentTime","oncanplay","_started","onload","temp","rand","toggle","playing","current","advanced","data","jump","previous","fn","params","apply","value","oldSlides","slice","returns","args","arguments","_vegas","instance","Error","call","navigator","userAgent","jQuery","Zepto"],"mappings":"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","file":"vegas.min.js","sourcesContent":["\n/* global jQuery, Zepto */\n\n(function ($) {\n    'use strict';\n\n    var defaults = {\n        slide:              0,\n        delay:              5000,\n        preload:            false,\n        preloadImage:       false,\n        preloadVideo:       false,\n        timer:              true,\n        overlay:            false,\n        autoplay:           true,\n        shuffle:            false,\n        cover:              true,\n        color:              null,\n        align:              'center',\n        valign:             'center',\n        transition:         'fade',\n        transitionDuration: 1000,\n        animation:          null,\n        animationDuration:  'auto',\n        init:  function () {},\n        play:  function () {},\n        pause: function () {},\n        walk:  function () {},\n        slides: [\n            // {   \n            //  src:                null,\n            //  color:              null,\n            //  delay:              null,\n            //  align:              null,\n            //  valign:             null,\n            //  transition:         null,\n            //  transitionDuration: null,\n            //  animation:          null,\n            //  animationDuration:  null,\n            //  cover:              true,\n            //  videos:             []\n            // }\n            // ...\n        ]\n    };\n\n    var videoCache = {};\n\n    var Vegas = function (elmt, options) {\n        this.elmt         = elmt;\n        this.settings     = $.extend({}, defaults, $.vegas.defaults, options);\n        this.slide        = this.settings.slide;\n        this.total        = this.settings.slides.length;\n        this.noshow       = this.total < 2;\n        this.paused       = !this.settings.autoplay || this.noshow;\n        this.$elmt        = $(elmt);\n        this.$timer       = null;\n        this.$overlay     = null;\n        this.$slide       = null;\n        this.timeout      = null;\n        this.transitions  = [];\n        this.animations   = [];\n\n        this.support = {\n            objectFit:  'objectFit'  in document.body.style,\n            transition: 'transition' in document.body.style || 'WebkitTransition' in document.body.style,\n            video:      $.vegas.isVideoCompatible()\n        };\n\n        for (var i = 0; i < document.styleSheets.length; i++) {\n            var sheet = document.styleSheets[i],\n                rules;\n\n            try {\n                rules = (sheet.cssRules || sheet.rules);\n            } catch(e) {\n                continue;\n            }\n            \n            if (/vegas(\\..*?)?(\\.min)?\\.css$/.test(sheet.href)) {\n                for (var j = 0; j < rules.length; j++) {\n                    var rule  = rules[j],\n                        matchTransition = /vegas\\-transition\\-([a-z0-9]*)/gi.exec(rule.selectorText),\n                        matchAnimation  = /vegas\\-animation\\-([a-z0-9]*)/gi.exec(rule.selectorText);\n                \n                    if (matchTransition && matchTransition[1]) {\n                        if (this.transitions.indexOf(matchTransition[1]) === -1) {\n                            this.transitions.push(matchTransition[1]);\n                        }\n                    }\n\n                    if (matchAnimation && matchAnimation[1]) {\n                        if (this.animations.indexOf(matchAnimation[1]) === -1) {\n                            this.animations.push(matchAnimation[1]);\n                        }\n                    }\n                }\n            }\n        }\n\n        if (this.settings.shuffle === true) {\n            this.shuffle();\n        }\n\n        this._init();\n    };\n\n    Vegas.prototype = {\n        _init: function () {\n            var $wrapper,\n                $overlay,\n                $timer,\n                isBody  = this.elmt.tagName === 'BODY',\n                timer   = this.settings.timer,\n                overlay = this.settings.overlay,\n                self    = this;\n\n            // Preloading\n            this._preload();\n\n            // Wrapper with content\n            if (!isBody) {\n                this.$elmt.css('height', this.$elmt.css('height'));\n                \n                $wrapper = $('<div class=\"vegas-wrapper\">')\n                    .css('overflow', this.$elmt.css('overflow'))\n                    .css('padding',  this.$elmt.css('padding'));\n\n                // Some browsers don't compute padding shorthand\n                if (!this.$elmt.css('padding')) {\n                    $wrapper\n                        .css('padding-top',    this.$elmt.css('padding-top'))\n                        .css('padding-bottom', this.$elmt.css('padding-bottom'))\n                        .css('padding-left',   this.$elmt.css('padding-left'))\n                        .css('padding-right',  this.$elmt.css('padding-right'));\n                }\n\n                this.$elmt.clone(true).children().appendTo($wrapper);\n                this.elmt.innerHTML = '';\n            }\n\n            // Timer\n            if (timer && this.support.transition) {\n                $timer = $('<div class=\"vegas-timer\"><div class=\"vegas-timer-progress\">');\n                this.$timer = $timer;\n                this.$elmt.prepend($timer);\n            }\n\n            // Overlay\n            if (overlay) {\n                $overlay = $('<div class=\"vegas-overlay\">');\n\n                if (typeof overlay === 'string') {\n                    $overlay.css('background-image', 'url(' + overlay + ')');\n                }\n\n                this.$overlay = $overlay;\n                this.$elmt.prepend($overlay);\n            }\n\n            // Container\n            this.$elmt.addClass('vegas-container');\n\n            if (!isBody) {\n                this.$elmt.append($wrapper);\n            }\n\n            setTimeout(function () {\n                self.trigger('init');\n                self._goto(self.slide);\n\n                if (self.settings.autoplay) {\n                    self.trigger('play');\n                }\n            }, 1);\n        },\n\n        _preload: function () {\n            var video, img, i;\n\n            for (i = 0; i < this.settings.slides.length; i++) {\n                if (this.settings.preload || this.settings.preloadImages) {\n                    if (this.settings.slides[i].src) {\n                        img = new Image();\n                        img.src = this.settings.slides[i].src;\n                    }\n                }\n\n                if (this.settings.preload || this.settings.preloadVideos) {\n                    if (this.support.video && this.settings.slides[i].video) {\n                        video = this._video(this.settings.slides[i].video);\n                    }\n                }\n            }\n        },\n\n        _random: function (array) {\n            return array[Math.floor(Math.random() * (array.length - 1))];\n        },\n\n        _slideShow: function () {\n            var self = this;\n\n            if (this.total > 1 && !this.paused && !this.noshow) {\n                this.timeout = setTimeout(function () {\n                    self.next();\n                }, this._options('delay')); \n            }\n        },\n\n        _timer: function (state) {\n            var self = this;\n\n            clearTimeout(this.timeout);\n\n            if (!this.$timer) {\n                return;\n            }\n\n            this.$timer\n                .removeClass('vegas-timer-running')\n                    .find('div')\n                        .css('transition-duration', '0ms');\n\n            if (this.paused || this.noshow) {\n                return;\n            }\n\n            if (state) {\n                setTimeout(function () {\n                   self.$timer\n                    .addClass('vegas-timer-running')\n                        .find('div')\n                            .css('transition-duration', self._options('delay') - 100 + 'ms');\n                }, 100);\n            }\n        },\n\n        _video: function (srcs) {\n            var video, \n                source,\n                cacheKey = srcs.toString();\n\n            if (videoCache[cacheKey]) {\n                return videoCache[cacheKey];\n            }\n\n            if (srcs instanceof Array === false) {\n                srcs = [ srcs ];\n            }\n\n            video = document.createElement('video');\n            video.muted = true;\n            video.preload = true;\n\n            srcs.forEach(function (src) {\n                source = document.createElement('source');\n                source.src = src;\n                video.appendChild(source);\n            });\n\n            videoCache[cacheKey] = video;\n\n            return video;\n        },\n\n        _options: function (key, i) {\n            if (i === undefined) {\n                i = this.slide;\n            }\n\n            if (this.settings.slides[i][key] !== undefined) {\n                return this.settings.slides[i][key];\n            }\n\n            return this.settings[key];\n        },\n\n        _goto: function (nb) {\n            if (typeof this.settings.slides[nb] === 'undefined') {\n                nb = 0;\n            }\n\n            this.slide = nb;\n\n            var $slide,\n                $inner,\n                $video,\n                $slides = this.$elmt.children('.vegas-slide'),\n                src     = this.settings.slides[nb].src,\n                videos  = this.settings.slides[nb].video,\n                delay   = this._options('delay'),\n                align   = this._options('align'),\n                valign  = this._options('valign'),\n                color   = this._options('color') || this.$elmt.css('background-color'),\n                cover   = this._options('cover') ? 'cover' : 'contain',\n                self    = this,\n                total   = $slides.length,\n                video,\n                img;\n\n            var transition         = this._options('transition'),\n                transitionDuration = this._options('transitionDuration'),\n                animation          = this._options('animation' ),\n                animationDuration  = this._options('animationDuration');\n\n            if (transition === 'random' || transition instanceof Array) {\n                if (transition instanceof Array) {\n                    transition = this._random(transition);\n                } else {\n                    transition = this._random(this.transitions);\n                }\n            }\n\n            if (animation === 'random' || animation instanceof Array) {\n                if (animation instanceof Array) {\n                    animation = this._random(animation);\n                } else {\n                    animation = this._random(this.animations);\n                }\n            }\n\n            if (transition && transition !== 'none' && this.transitions.indexOf(transition) < 0) {\n                console.error(\"Vegas: Transition \" + transition + \" doesn't exist.\");\n            }\n\n            if (animation && animation !== 'none' && this.animations.indexOf(animation) < 0) {\n                console.error(\"Vegas: Animation \" + animation + \" doesn't exist.\");\n            }\n\n            if (transitionDuration === 'auto' || transitionDuration > delay) {\n                transitionDuration = delay;\n            }\n\n            if (animationDuration === 'auto') {\n                animationDuration = delay;\n            }\n\n            $slide = $('<div class=\"vegas-slide\"></div>');\n            \n            if (this.support.transition && transition) {\n                $slide.addClass('vegas-transition-' + transition);\n            }\n\n            // Video ?\n\n            if (this.support.video && videos) {\n                video = this._video(videos);\n\n                $video = $(video)\n                    .addClass('vegas-video')\n                    .css('background-color', color);\n\n                if (this.support.objectFit) {\n                    $video\n                        .css('object-position', align + ' ' + valign)\n                        .css('object-fit', cover)\n                        .css('width',  '100%')\n                        .css('height', '100%');\n                } else if (cover === 'contain') {\n                    $video\n                        .css('width',  '100%')\n                        .css('height', '100%');\n                }\n\n                $slide.append($video);\n\n            // Image ?\n\n            } else {\n                img = new Image();\n\n                $inner = $('<div class=\"vegas-slide-inner\"></div>')\n                    .css('background-image',    'url(' + src + ')')\n                    .css('background-color',    color)\n                    .css('background-position', align + ' ' + valign)\n                    .css('background-size',     cover);\n\n                if (this.support.transition && animation) {\n                    $inner\n                        .addClass('vegas-animation-' + animation)\n                        .css('animation-duration',  animationDuration + 'ms');\n                }\n\n                $slide.append($inner);\n            }\n\n            if (!this.support.transition) {\n                $slide.css('display', 'none');\n            }\n\n            if (total) {\n                $slides.eq(total - 1).after($slide);\n            } else {\n                this.$elmt.prepend($slide);\n            }\n\n            $slides\n                .css('transition', 'all 0ms')\n                .each(function () {\n                    this.className  = 'vegas-slide';\n\n                    if (this.tagName === 'VIDEO') {\n                        this.className += ' vegas-video';    \n                    }\n\n                    if (transition) {\n                        this.className += ' vegas-transition-' + transition;\n                        this.className += ' vegas-transition-' + transition + '-in';\n                    }\n                }\n            );\n\n            self._timer(false);\n\n            function go () {\n                self._timer(true);\n\n                setTimeout(function () {\n                    if (transition) {\n                        if (self.support.transition) {\n                            $slides\n                                .css('transition', 'all ' + transitionDuration + 'ms')\n                                .addClass('vegas-transition-' + transition + '-out');\n\n                            $slide\n                                .css('transition', 'all ' + transitionDuration + 'ms')\n                                .addClass('vegas-transition-' + transition + '-in');\n                        } else {\n                            $slide.fadeIn(transitionDuration);\n                        }\n                    }\n\n                    for (var i = 0; i < $slides.length - 3; i++) {\n                         $slides.eq(i).remove();\n                    }\n\n                    self.trigger('walk');\n                    self._slideShow();\n                }, 100);\n            }\n\n            if (video) {\n                if (video.readyState === 4) {\n                    video.currentTime = 0;\n                    video.play();\n                    go();\n                } else {\n                    video.oncanplay = function () {\n                        video.play();\n                        if (!video._started) {\n                            video._started = true;\n                            go();\n                        }\n                    };\n                }\n            } else {\n                img.src = src;\n                img.onload = go;\n            }\n        },\n\n        shuffle: function () {\n            var temp,\n                rand;\n\n            for (var i = this.total - 1; i > 0; i--) {\n                rand = Math.floor(Math.random() * (i + 1));\n                temp = this.settings.slides[i];\n                this.settings.slides[i] = this.settings.slides[rand];\n                this.settings.slides[rand] = temp;\n            }\n        },\n\n        play: function () {\n            if (this.paused) {\n                this.paused = false;\n                this.next();\n                this.trigger('play');\n            }\n        },\n\n        pause: function () {\n            this._timer(false);\n            this.paused = true;\n            this.trigger('pause');\n        },\n\n        toggle: function () {\n            if (this.paused) {\n                this.play();\n            } else {\n                this.pause();\n            }\n        },\n\n        playing: function () {\n            return !this.paused && !this.noshow;\n        },\n\n        current: function (advanced) {\n            if (advanced) {\n                return {\n                    slide: this.slide,\n                    data:  this.settings.slides[this.slide]\n                };\n            }\n            return this.slide;\n        },\n\n        jump: function (nb) {\n            if (nb < 0 || nb > this.total - 1 || nb === this.slide) {\n                return;\n            }\n\n            this.slide = nb;\n            this._goto(this.slide);\n        },\n\n        next: function () {\n            this.slide++;\n\n            if (this.slide >= this.total) {\n                this.slide = 0;\n            }\n\n            this._goto(this.slide);\n        },\n\n        previous: function () {\n            this.slide--;\n\n            if (this.slide < 0) {\n                this.slide = this.total - 1;\n            }\n\n            this._goto(this.slide);\n        },\n\n        trigger: function (fn) {\n            var params = [];\n\n            if (fn === 'init') {\n                params = [ this.settings ];\n            } else {\n                params = [ \n                    this.slide, \n                    this.settings.slides[this.slide]\n                ];\n            }\n\n            this.$elmt.trigger('vegas' + fn, params);\n\n            if (typeof this.settings[fn] === 'function') {\n                this.settings[fn].apply(this.$elmt, params);\n            }\n        },\n\n        options: function (key, value) {\n            var oldSlides = this.settings.slides.slice();\n\n            if (typeof key === 'object') {\n                this.settings = $.extend({}, defaults, $.vegas.defaults, key);\n            } else if (typeof key === 'string') {\n                if (value === undefined) {\n                    return this.settings[key];\n                }\n                this.settings[key] = value; \n            } else {\n                return this.settings;\n            }\n\n            // In case slides have changed\n            if (this.settings.slides !== oldSlides) {\n                this.total  = this.settings.slides.length;\n                this.noshow = this.total < 2;\n                this._preload();   \n            }\n        }\n    };\n\n    $.fn.vegas = function(options) {\n        var args = arguments,\n            error = false,\n            returns;\n\n        if (options === undefined || typeof options === 'object') {\n            return this.each(function () {\n                if (!this._vegas) {\n                    this._vegas = new Vegas(this, options);\n                }\n            });\n        } else if (typeof options === 'string') {\n            this.each(function () {\n                var instance = this._vegas;\n\n                if (!instance) {\n                    throw new Error('No Vegas applied to this element.');\n                }\n\n                if (typeof instance[options] === 'function' && options[0] !== '_') {\n                    returns = instance[options].apply(instance, [].slice.call(args, 1));\n                } else {\n                    error = true;\n                }\n            });\n\n            if (error) {\n                throw new Error('No method \"' + options + '\" in Vegas.');\n            }\n\n            return returns !== undefined ? returns : this;\n        }\n    };\n\n    $.vegas = {};\n    $.vegas.defaults = defaults;\n\n    $.vegas.isVideoCompatible = function () {\n        return !/(Android|webOS|Phone|iPad|iPod|BlackBerry|Windows Phone)/i.test(navigator.userAgent);\n    };\n\n})(typeof jQuery !== 'undefined' ? jQuery :\n   typeof Zepto  !== 'undefined' ? Zepto  : null\n);\n"],"sourceRoot":"/source/"}