/*!
 * MotaJS v0.9.1
 * http://motapc.js.org/motajs
 *
 * Released under the MIT license
 * https://github.com/motapc97/MotaJS/blob/master/LICENSE.md
 *
 * Project
 * https://github.com/motapc97/MotaJS
 *
 * Date: 2015-08-18T15:56Z
 */
!function(t){if("function"==typeof define&&define.amd)define(function(){return t()});else if("undefined"!=typeof exports){var e=t();"undefined"!=typeof module&&module.exports&&(exports=module.exports=e),exports.mota=e}else window.mota=t()}(function(){function t(){}function e(t){return t>>>1&1073741824|3221225471&t}function n(t){var n,r=t.length,i=r>it,o=i&&ut[t];if(!o&&0!==o){for(o=0,n=0;r>n;n++)o=31*o+t.charCodeAt(n)|0;o=e(o),i&&(at===ot&&(at=0,ut={}),at++,ut[t]=o)}return o}function r(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}function i(t,n){return t=st(t,3432918353),t=st(t<<15|t>>>-15,461845907),t=st(t<<13|t>>>-13,5),t=(t+3864292196|0)^n,t=st(t^t>>>16,2246822507),t=st(t^t>>>13,3266489909),e(t^t>>>16)}function o(t){var e=!1,n=!0,o=e?1:0,a=t.forEach(n?e?function(t,e){o=31*o+r(u(t),u(e))|0}:function(t,e){o=o+r(u(t),u(e))|0}:e?function(t){o=31*o+u(t)|0}:function(t){o=o+u(t)|0});return i(o,a)}function a(e){return t.get(e,"hash")}function u(r){var i,u;if(!r)return 0;if("function"==typeof r.valueOf&&(r=r.valueOf(),!r))return 0;if(r===!0)return 1;if(i=typeof r,"number"===i){for(u=0|r,u!==r&&(u^=4294967295*r);r>4294967295;)r/=4294967295,u^=r;return e(u)}return"string"===i?n(r):(u=a(r),void 0!==u?u:("function"==typeof r.isImmutable&&r.isImmutable()?u=o(r):(u=rt++,1073741824&rt&&(rt=1)),t.setup(r,"hash",u),u))}function s(t,e){return function(){for(var n=0;n<t.length;n++)N(t[n],this,arguments);return N(e,this,arguments)}}function c(t,e){for(var n=e,r=n+1,i=t.length;i>r;n+=1,r+=1)t[n]=t[r];t.pop()}function h(t,e,n){for(var r=0;r<t.length;r++)e.call(n,t[r],r,t)}function l(t,e,n,r){for(var i,o=0;!(i=r.next()).done;)e.call(n,i.value,o,t),o++}function f(t,e,n,r){for(var i,o;!(i=r.next()).done;)o=i.value,e.call(n,o[1],o[0],t)}function p(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function d(t,e,n){this.owner=t,this.hash=e,this.children=n}function v(t,e,n){this.owner=t,this.count=e,this.children=n}function g(t,e,n){this.owner=t,this.bitmap=e,this.children=n}function m(t,e,n,r){this.owner=t,this.hash=e,this.key=n,this.value=r}function _(t){return this.oldValue=t,this.func&&(this.value=this.func.call(null,t),this.func=void 0),this.value}function y(t,e){return{node:t,index:0,prev:e}}function b(){return{value:void 0,done:!0}}function w(t,e,n){return{value:n===We?[t,e]:n===Fe?t:e,done:!1}}function x(t){return t===Xe?this:Ge(t)?t:this instanceof x?(this.size=0,this.__owner={},void this.merge(t,Be)):new x(t)}function E(t,e,n,r){var i,o,a,u,s,c=t.isMutable();return a=c?t:Ke(),a.__root=qe(t.__root,a.__owner,0,void 0,e,n),n.changeValue?(i=n.value,o=i===n.notSetValue,a.size=t.size+(n.changeSize?o?-1:1:0),a.size||c?(c&&r!==Be&&(u={type:o?"delete":n.changeSize?"add":"update"},u.key=u.name=e,o?u.oldValue=n.oldValue:(u.value=u.newValue=i,n.changeSize||(u.oldValue=n.oldValue)),s=t.__changes,s||(s=t.__changes=[]),s.push(u),r||t.__triggerChangeEvent()),a):Ze):t}function S(t,e){return t.charAt(0)===e?t:e+t}function j(t,e){return t.charAt(t.length-1)===e?t:t+e}function k(t){if("string"==typeof t)return t;var e,n,r,i="";for(e in t)n=encodeURIComponent(e),r=encodeURIComponent(t[e]),i+="&"+n+("true"!==r?"="+r:"");return i.substring(1)}function C(t){}function M(t){t.componentWillUnmount&&t.componentWillUnmount();var e=0,n=t.__internal__.children;for(kn.remove(t.el),t.el=t.props=t.__internal__=void 0;e<n.length;e++)M(n[e])}function z(){this.__internal__=new tr}function A(t){this.data=t}function P(t,e,n,r){Ct(e)&&(n=e,e=t,t=void 0),e||tt("mota.Router.route","Provide a non-empty path"),this.name=t,this.parent=r,this.path=(r.path||"")+"/"+e.replace(xr,""),this.params=jr(this.path),this.routes=[],n.call(this)}function T(){this.routes=[],this.location=qt.location,this.history=qt.history,this.window=br.select(qt),this._hasPushState=!(!this.history||!this.history.pushState),this.initialize&&N(this.initialize,this,arguments)}function U(){}function R(t,e,n,r){Object.defineProperty(t,e,{configurable:!1,enumerable:r,value:n,writable:!1})}var N=function(t,e,n){var r=n&&n.length;if(t){if(!r)return t.call(e);switch(r){case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2]);case 4:return t.call(e,n[0],n[1],n[2],n[3]);case 5:return t.call(e,n[0],n[1],n[2],n[3],n[4]);default:return t.apply(e,n)}}},V=Object.create,I=Array.isArray,L={}.toString,O={"[object Array]":"array","[object Boolean]":"boolean","[object Date]":"date","[object Error]":"error","[object Function]":"function","[object Number]":"number","[object Object]":"object","[object RegExp]":"regexp","[object String]":"string"},q=function(t){var e=typeof t;return"object"===e||"function"===e?null===t?"null":O[L.call(t)]||"object":e},D=function(t){return"object"===q(t)},F=function(t){var e;return!!t&&("function"==(e=typeof t)||"object"===e)},H=function(t){var e,n,r,i,o,a,u=1,s=arguments.length,c=!1;if(t===!0&&(c=t,t=arguments[u],u++),!F(t))return t;for(;s>u;u++)if(null!=(e=arguments[u]))for(n in e)r=t[n],i=e[n],t!==i&&(c&&i&&("object"===(o=q(i))||"array"===o)?(a="array"===o?r&&I(r)?r:[]:r&&D(r)?r:{},t[n]=H(c,a,i)):void 0!==i&&(t[n]=i));return t},W={}.hasOwnProperty,Y=function(t,e){return null!=t&&W.call(t,e)},$=function(t,e,n){var r,i,o=this;return i=t&&Y(t,"constructor")?t.constructor:o,r=n?function(){var t=V(r.prototype),e=N(i,t,arguments);return F(e)?e:t}:function(){return N(i,this,arguments)},r.prototype=V(o.prototype),r.prototype.constructor=r,t&&H(r.prototype,t),H(r,o,e),r.__super__=o.prototype,r},B=[],X=B.slice,Q=function(t){var e,n,r;if(t===!0&&Y(arguments,1)&&(e=t,t=arguments[1]),!F(t))return t;switch(q(t)){case"array":return e?H(e,[],t):X.call(t);case"number":case"string":case"date":case"boolean":return new(n=t.constructor)(t);case"regexp":return n=t.constructor,r=new n(t),r.lastIndex=t.lastIndex,r;default:return e?H(e,{},t):H({},t)}},G=Object.keys,K=function(t,e){if(!F(t))return[];if(e){var n,r=[];for(n in t)r.push(n);return r}return G(t)},J=function(t,e){return function(n){var r,i,o,a,u,s,c=arguments.length;if(2>c||null==n)return n;for(r=1;c>r;r++)for(i=arguments[r],o=K(i,t),a=o.length,u=0;a>u;u++)s=o[u],e&&void 0!==n[s]||(n[s]=i[s]);return n}},Z=J(!0,!0),tt=function(t,e){throw t+" ERROR: "+e},et="__mota__"+(""+Math.random()).replace(/\D/g,""),nt=Object.defineProperty;t.setup=function(e,n,r,i){var o=e[et];return o||(o=new t,i?e[et]=o:nt(e,et,{writable:!0,value:o})),n?o[n]?o[n]:o[n]=r:o},t.get=function(t,e){var n=t[et];return e?n&&n[e]:n},t.set=function(t,e,n){var r=t[et];return r?r[e]=n:void 0},t.del=function(e,n){var r=e[et];if(r){if(!n)return!!(e[et]=new t);if(null!=r[n])return!(r[n]=void 0)}return!1};var rt=1,it=16,ot=255,at=0,ut={},st=Math.imul;("function"!=typeof st||-2!==st(4294967295,2))&&(st=function(t,e){var n=t>>>16&65535,r=65535&t,i=e>>>16&65535,o=65535&e;return r*o+(n*o+r*i<<16>>>0)|0});var ct=function(t,e,n){if(t===e)return n?0!==t||1/t==1/e:!0;if(t!==t)return e!==e;if(null==t||null==e)return t===e;var r=typeof t;if("function"!==r&&"object"!==r&&"object"!=typeof e)return!1;var i=L.call(t);if(i!=L.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return t=+t,e=+e,t!==t?e!==e:t===e?n?0!==t||1/t==1/e:!0:!1;case"[object Date]":case"[object Boolean]":return+t===+e}return i},ht=function(t,e){var n=ct(t,e);if(n===!0||n===!1)return n;if(t.size!==e.size)return!1;if(t.isMutable&&e.isMutable&&!t.isMutable()&&!e.isMutable()){var r=a(t),i=a(e);if(null!=r&&null!=i&&r!==i)return!1;var o=!0,u={};return t.forEach(function(t,n){var r=e.get(n,u);return r!==u&&ht(t,r)?void 0:o=!1}),o}return!1},lt=function(t){return"[object Arguments]"===L.call(t)},ft="[object process]"===("undefined"!=typeof global&&global&&L.call(global.process)),pt="[object Window]",dt="[object global]",vt=function(t){if(!t||"object"!=typeof t)return!1;if(!ft&&t.window!==t)return!1;var e=L.call(t);return e===pt||e===dt},gt=Math.pow(2,53)-1,mt=function(t){var e,n=q(t);return"array"===n?!0:"object"!==n||vt(t)?!1:(e="length"in t&&t.length,0===e?!0:"number"==typeof e&&e>0&&gt>=e&&e-1 in t)},_t=function(t){return t===!0||t===!1||"boolean"===q(t)},yt=function(t){return"date"===q(t)},bt="[object HTMLDocument]",wt="[object Document]",xt=function(t){var e;if(!t||null!==t.parentNode||!(e=t.defaultView))return!1;if(ft)return vt(e);var n=L.call(t);return n===bt||n===wt},Et=function(t){return t&&1===t.nodeType?ft?!0:L.call(t).indexOf("Element")>-1:!1},St=function(t){return"string"===q(t)},jt=function(t){if(null==t)return!0;if(I(t)||St(t)||lt(t))return 0===t.length;for(var e in t)if(Y(t,e))return!1;return!0},kt=function(t){return"function"===q(t)};"function"!=typeof/./&&"object"!=typeof Int8Array&&(kt=function(t){return"function"==typeof t||!1});var Ct=kt,Mt=function(t){var e;return!t||"object"!=typeof t||"[object Object]"!==L.call(t)||Y(t,"constructor")?!1:(e=t.constructor)?Ct(e)&&e instanceof e:!0},zt=function(t,e,n,r){var i=ct(t,e,!0);if(i===!0||i===!1)return i;var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,u=e.constructor;if(!(a===u||Mt(t)&&Mt(e)))return!1}n=n||[],r=r||[];for(var s=n.length;s--;)if(n[s]===t)return r[s]===e;if(n.push(t),r.push(e),o){if(s=t.length,s!==e.length)return!1;for(;s--;)if(!zt(t[s],e[s],n,r))return!1}else{var c,h=K(t);if(s=h.length,K(e).length!==s)return!1;for(;s--;)if(c=h[s],!Y(e,c)||!zt(t[c],e[c],n,r))return!1}return n.pop(),r.pop(),!0},At=function(t,e){return zt(t,e)},Pt=function(t){return"error"===q(t)},Tt=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},Ut=function(t){return"number"===q(t)},Rt=function(t){return t!=+t&&Ut(t)},Nt=function(t){return null===t},Vt=function(t){return"regexp"===q(t)},It=function(t){return void 0===t},Lt=function(t,e){console.log(t+" LOG: "+e)},Ot=function(t,e){var n,r,i,o=t&&t.prototype,a={};if(!o)return t;for(var u=0;u<e.length;u++){n=e[u];for(r in n)a[r]||(a[r]=[]),a[r].push(n[r])}for(r in a)i=o[r],o[r]=s(a[r],Ct(i)&&i);return t},qt="object"==typeof self&&self.self==self&&self||"object"==typeof global&&global.global==global&&global,Dt=qt&&qt.document,Ft=function(t){qt=t,Dt=t&&t.document},Ht=qt.mota,Wt=function(){return Ht&&(qt.mota=Ht),this},Yt=function(t,e){return function(){return N(t,e,X.call(arguments))}},$t=function(t){for(var e=K(t),n=e.length,r=Array(n),i=0;n>i;i++)r[i]=[e[i],t[e[i]]];return r},Bt={},Xt=function(t){return t=t?t+"":"",Bt[t]||(Bt[t]=0),t+ ++Bt[t]},Qt=function(t,e){var n,r;for(n in e)if(r=e[n],r&&!r(t[n],n,t))return!1;return!0},Gt=function(t,e){console.warn?console.warn(t+" WARNS: "+e):console.log(t+" WARNS: "+e)},Kt={apply:N,classExtend:$,clone:Q,extend:H,defaults:Z,err:tt,has:Y,is:ht,isArguments:lt,isArray:I,isArrayLike:mt,isBoolean:_t,isDate:yt,isDocument:xt,isElement:Et,isEmpty:jt,isEqual:At,isError:Pt,isFinite:Tt,isFunction:Ct,isNaN:Rt,isNull:Nt,isNumber:Ut,isObject:D,isObjectLike:F,isPlainObject:Mt,isRegExp:Vt,isString:St,isUndefined:It,isWindow:vt,keys:K,log:Lt,mixin:Ot,noConflict:Wt,noPartial:Yt,pairs:$t,type:q,uniqueId:Xt,validate:Qt,warn:Gt},Jt=B.indexOf,Zt=function(t,e){var n,r,i;for(t.length>e.length?(n=e,r=t):(n=t,r=e),i=n.length;i--;)if(-1!==Jt.call(r,n[i]))return!0;return!1},te=function(t,e,n,r,i){var o,a,u,s="getFirst"===i,c="trigger"===i,h=n?n.length:0,l=r.type,f=r.namespaces,p=r.handler,d=r.context;for(a=0;h>a&&(o=n[a],o!==r&&(r._listener===!0||!(!l||ht(o.type,l)||c&&o.isRegExp&&(u=l.match(o.type)))||p&&o.handler!==p||!(!f||0===f.length||o.namespaces&&Zt(o.namespaces,f))||d&&o.context!==d)||(t.push([o,{index:a,match:{string:l,match:u}}]),!s));a++);return t},ee=/\S+/g,ne=/\.[^.]+/g,re=/^[^.]+/g,ie=function(t){this.type=t.type,this.namespaces=t.namespaces,this.handler=t.handler,this.context=t.context,this.isRegExp=t.isRegExp,this.once=!1,this._listener=!0},oe=function(t,e){var n,r,i,o,a,u,s,c=t.eventType,h=t.handler,l=t.context;if(t._listener)e.push(t);else if(s=q(c),a="regexp"===s)e.push({type:c,handler:h,context:l,isRegExp:a});else if("object"===s){u=c,h&&(l=h);for(c in u)oe({eventType:c,handler:u[c],context:l},e)}else for(c=(c||"").match(ee)||[""],r=c.length,n=0;r>n;n++)i=(c[n].match(re)||[])[0],o=c[n].match(ne),e.push({type:i,namespaces:o,handler:h,context:l,isRegExp:a});return e},ae=function(e,n,r,i,o){var a,u,s,c,h,l;if(e){if(s="on"===n?t.setup(e,"events",[]):t.get(e,"events"),c=oe(i,[]),"on"===n)for(a=0;a<c.length;a++)c[a].type&&c[a].handler&&r.call(e,s,new ie(c[a]),void 0,o);else{for(h=[],a=0;a<c.length;a++)te(h,e,s,c[a],n);for(u=0;u<h.length&&(l=h[u],r.call(e,s,l[0],l[1],o)!==!1);u++);}return e}},ue=function(t,e,n,r){r.push(e)},se=function(t,e,n){var r=[];return ae(this,"get",ue,{eventType:t,handler:e,context:n},r),r},ce=function(t,e,n,r){r.value=!0},he=function(t,e,n){var r={value:!1};return ae(this,"getFirst",ce,{eventType:t,handler:e,context:n},r),r.value},le=function(t,e,n,r){e.handler=void 0,c(t,n.index-r.value),r.value++},fe=function(t,e,n){return ae(this,"off",le,{eventType:t,handler:e,context:n},{value:0})},pe=function(t,e,n,r){r&&(e.once=!0),t.push(e)},de=function(t,e,n,r){return ae(this,"on",pe,{eventType:t,handler:e,context:n},r)},ve=function(t,e,n){return de.call(this,t,e,n,!0)},ge=function(t,e,n){e.once&&(e.handler=void 0,ae(this,"off",le,e,{value:0}))},me=function(t,e,n,r){var i=e.handler;ge.call(this,t,e,n),N(i,void 0!==e.context?e.context:this,r)},_e=function(t){return ae(this,"trigger",me,{eventType:t},X.call(arguments,1))},ye=function(t,e,n,r){me(t,e,n,[n.match].concat(r))},be=function(t){return ae(this,"trigger",ye,{eventType:t},X.call(arguments,1))},we={getListeners:se,hasListeners:he,off:fe,on:de,once:ve,trigger:_e,triggerMatch:be},xe="function"==typeof Symbol?Symbol:{},Ee=function(t,e){var n=xe[e];return n?t[n]:t["@@"+e]},Se=function(t,e,n){var r=xe[e];r&&(t[r]=n),t["@@"+e]=n},je=function(t,e,n){var r,i,o=void 0===n?t:n;if(t)return mt(t)?h(t,e,o):"function"==typeof t.forEach?t.forEach(e,o):(r=Ee(t,"iterator"),"function"==typeof r?(i=r.call(t),r===t.entries?f(t,e,o,i):l(t,e,o,i)):"object"==typeof t?p(t,e,o):void 0)},ke=5,Ce=32,Me=Ce-1,ze=Ce/2,Ae=Ce/4,Pe=function(t,e,n){var r,i,o,a=t.length-1;if(n&&e===a)return t.pop(),t;for(r=new Array(a),i=o=0;a>i;i++)i===e&&(o=1),r[i]=t[i+o];return r},Te=function(t,e,n,r){var i,o,a;if(r)a=t;else for(i=0,o=t.length,a=new Array(o);o>i;i++)a[i]=t[i];return void 0!==e&&(a[e]=n),a},Ue=function(t){for(var e,n=this.children,r=0,i=n.length;i>r;r++)if(e=n[r],e&&e.forEach(t)===!1)return!1},Re=function(t){return t&&this.owner===t};H(d.prototype,{isLeaf:!0,isEditable:Re,forEach:Ue,lookup:function(t,e,n,r){for(var i,o=0,a=this.children.length;a>o;o++)if(i=this.children[o],ht(i.key,n))return i.value;return r},modify:function(t,e,n,r,i){void 0===n&&(n=u(r));var o,a,s,c,h,l,f,p,v,g;if(n!==this.hash)return o=i.get(i.notSetValue),(s=o===i.notSetValue)?this:(i.changeValue=!0,i.changeSize=!0,Oe(this,t,e,new m(t,n,r,o)));for(f=this.children,c=0,h=f.length;h>c;c++)if(g=f[c],ht(g.key,r)){a=g.value;break}return l=h>c,o=i.get(l?a:i.notSetValue),s=o===i.notSetValue,(l?g.value===o:s)?this:(i.changeValue=!0,(s||!l)&&(i.changeSize=!0),s&&2===h?(g=f[1^c],new m(t,this.hash,g.key,g.value)):(p=this.isEditable(t),v=p?f:Te(f),l?s?c===h-1?v.pop():v[c]=v.pop():v[c]=new m(t,n,r,o):v.push(new m(t,n,r,o)),p?(this.children=v,this):new d(t,this.hash,v)))}});var Ne=function(t,e,n,r){var i,o,a,u=t.length+1;if(r&&e+1===u)return t[e]=n,t;for(i=new Array(u),o=a=0;u>o;o++)o===e?(i[o]=n,a=-1):i[o]=t[o+a];return i},Ve=function(t,e,n,r){for(var i,o=new Array(n),a=0,u=0,s=0,c=1,h=e.length;h>s;s++)i=e[s],i&&s!==r&&(u|=c,o[a++]=i),c<<=1;return new g(t,u,o)};H(v.prototype,{isEditable:Re,forEach:Ue,lookup:function(t,e,n,r){void 0===e&&(e=u(n));var i=this.children[(0===t?e:e>>>t)&Me];return i?i.lookup(t+ke,e,n,r):r},modify:function(t,e,n,r,i){void 0===n&&(n=u(r));var o,a,s,c,h=(0===e?n:n>>>e)&Me,l=this.children,f=l[h];if(!f&&i.get(i.notSetValue)===i.notSetValue)return this;if(o=qe(f,t,e+ke,n,r,i),o===f)return this;if(a=this.count,f){if(!o&&(a--,Ae>a))return Ve(t,l,a,h)}else a++;return s=this.isEditable(t),c=Te(l,h,o,s),s?(this.count=a,this.children=c,this):new v(t,a,c)}});var Ie=function(t){return t-=t>>1&1431655765,t=(858993459&t)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,127&t},Le=function(t,e,n,r,i){for(var o=new Array(Ce),a=0,u=0;n;a++)1&n&&(o[a]=e[u],u++),n>>>=1;return o[r]=i,new v(t,u+1,o)};H(g.prototype,{isEditable:Re,forEach:Ue,lookup:function(t,e,n,r){void 0===e&&(e=u(n));var i=1<<((0===t?e:e>>>t)&Me),o=this.bitmap;return o&i?this.children[Ie(o&i-1)].lookup(t+ke,e,n,r):r},modify:function(t,e,n,r,i){void 0===n&&(n=u(r));var o,a,s,c,h,l,f,p,d=(0===e?n:n>>>e)&Me,v=1<<d,m=this.bitmap,_=0!==(m&v);return _||i.get(i.notSetValue)!==i.notSetValue?(o=Ie(m&v-1),s=this.children,c=_?s[o]:void 0,h=qe(c,t,e+ke,n,r,i),h===c?this:(a=s.length,!_&&h&&a>=ze?Le(t,s,m,d,h):_&&!h&&2===a&&s[1^o].isLeaf?s[1^o]:_&&h&&1===a&&h.isLeaf?h:(l=this.isEditable(t),f=_?h?m:m^v:m|v,p=_?h?Te(s,o,h,l):Pe(s,o,l):Ne(s,o,h,l),l?(this.bitmap=f,this.children=p,this):new g(t,f,p)))):this}});var Oe=function(t,e,n,r){var i,o,a=t.hash,u=r.hash;return a===u?new d(e,a,[r,t]):(i=a>>>n&Me,o=u>>>n&Me,new g(e,1<<i|1<<o,i===o?[Oe(t,e,n+ke,r)]:o>i?[t,r]:[r,t]))};H(m.prototype,{isLeaf:!0,isEditable:Re,lookup:function(t,e,n,r){return ht(this.key,n)?this.value:r},modify:function(t,e,n,r,i){var o=ht(this.key,r),a=i.get(o?this.value:i.notSetValue),s=a===i.notSetValue;return(o?this.value===a:s)?this:(i.changeValue=!0,s?void(i.changeSize=!0):o?this.isEditable(t)?(this.value=a,this):new m(t,this.hash,r,a):(i.changeSize=!0,void 0===n&&(n=u(r)),Oe(this,t,e,new m(t,n,r,a))))},forEach:function(t){return t(this)}});var qe=function(t,e,n,r,i,o){var a;if(!t){if(a=o.get(o.notSetValue),a===o.notSetValue)return;return void 0===r&&(r=u(i)),o.changeValue=!0,o.changeSize=!0,new m(e,r,i,a)}return t.modify(e,n,r,i,o)},De=function(t,e){return{changeSize:!1,changeValue:!1,notSetValue:e,func:t,get:_}},Fe=0,He=1,We=2,Ye=function(t,e,n){this.__type=void 0===e?We:e,this.__reverse=n,this.__stack=t.__root&&y(t.__root)};Ye.prototype={constructor:Ye,next:function(){for(var t,e,n,r,i,o=this.__type,a=this.__reverse,u=this.__stack;u;){if(t=u.node,e=t.children,n=u.index++,e){if(r=e.length-1,r>=n){if(i=e[a?r-n:n]){if(!i.children)return w(i.key,i.value,o);u=this.__stack=y(i,u)}continue}}else if(0===n)return w(t.key,t.value,o);u=this.__stack=this.__stack.prev}return b()},toString:function(){return"[object MotaMap Iterator]"}},Se(Ye.prototype,"iterator",function(){return this});var $e={},Be={},Xe={},Qe="@@__MOTA_MAP__@@",Ge=x.isMap=function(t){return!(!t||!t[Qe])},Ke=function(t,e,n){var r=new x(Xe);return r.size=e||0,r.__root=n,t&&(r.__owner={}),r},Je=H(x.prototype,we,{get:function(t,e){var n=this.__root;return n?n.lookup(0,void 0,t,e):e},has:function(t){return $e!==this.get(t,$e)},set:function(t,e){var n=De(void 0,$e);return n.value=e,E(this,t,n)},remove:function(t){var e=De(void 0,$e);return e.value=$e,E(this,t,e)},update:function(t,e,n){return E(this,t,De(e,n))},__triggerChangeEvent:function(){if(this.isMutable()){var t=this.__changes;if(this.__changes=[],t&&t.length)return this.trigger("change",t),!0}return!1},clear:function(){if(this.isImmutable())return Ze;if(this.hasListeners()){var t=this.__changes;t||(t=this.__changes=[]),this.forEach(function(e,n){t.push({type:"delete",key:n,name:n,oldValue:e})})}return this.size=0,this.__root=void 0,this.__triggerChangeEvent(),this},count:function(){return this.size},keys:function(){return new Ye(this,Fe,!1)},values:function(){return new Ye(this,He,!1)},entries:function(){return new Ye(this,We,!1)},forEach:function(t,e){var n=this,r=0;return this.size&&this.__root.forEach(function(i){return r++,t.call(e,i.value,i.key,n)}),r},isMutable:function(){return!!this.__owner},isImmutable:function(){return!this.__owner},asMutable:function(){return this.isMutable()?this:Ke(!0,this.size,this.__root)},asImmutable:function(){return this.isMutable()?this.size?Ke(!1,this.size,this.__root):Ze:this},clone:function(){return this.isImmutable()?this:Ke(!0,this.size,this.__root)},merge:function(t,e){if(!t)return this;var n=this.asMutable(),r=!1,i=mt(t);return je(t,function(t,o){i&&(o=t[0],t=t[1]);var a=De(void 0,$e);a.value=t,e===Be?(E(n,o,a,e),a.changeValue&&(r=!0)):E(n,o,a,!0)}),r||n.__triggerChangeEvent()?n===this?n:n.asImmutable():this}}),Ze=x.EMPTY_MAP=Ke(!1);Se(Je,"get",Je.get),Se(Je,"iterator",Je.entries),Je[Qe]=!0,Je.pairs=Je.entries,Je.unset=Je["delete"]=Je.remove;var tn=/[\-{}\[\]+?.,\\\^$|#\s]/g,en=/\((.*?)\)/g,nn=/(\(\?)?:\w+/g,rn=/\*\w+/g,on=/(?:(\(\?)?:\w+)|(?:\*\w+)/g,an=/^\/+/,un=/\/+$/,sn=/#.*/,cn=/\?.*/,hn=function(t){var e,n,r="";return t.protocol&&(r+=j(t.protocol,":")+"//"),t.auth&&(r+=t.auth+"@"),t.host?r+=t.host:(t.hostname&&(r+=t.hostname),t.port&&(r+=":"+t.port)),t.pathname&&(e=t.pathname.replace(an,"/"),e=r?S(e,"/"):e,r+="/"!==e?e.replace(un,""):e),t.search?r+=S(t.search,"?"):t.query&&(n=k(t.query),n&&(r+="?"+t.query)),t.hash&&(r+=S(t.hash,"#")),r},ln=new RegExp("^(?:(?:((?:https?|ftp):)//)(?:(\\S+(?::\\S*)?)@)?((?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*)?(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))?)(?::(\\d{2,5}))?)?(/?\\S*)?$","i"),fn=function(t,e){var n,r,i,o,a,u,s,c;if(n=(t||"").match(ln)||[],r={auth:n[2]||"",hash:"",hostname:n[3]||"",port:n[4]||"",protocol:n[1]||"",search:""},r.pathname=(n[5]||"").replace(sn,function(t){return r.hash=t||"",""}).replace(cn,function(t){return r.search=t||"",""}).replace(an,"/"),r.hostname&&!r.pathname&&(r.pathname="/"),"/"!==r.pathname&&(r.pathname=r.pathname.replace(un,"")),r.path=r.pathname+r.search,r.host=r.hostname+(r.port?":"+r.port:""),r.href="",r.host&&(r.href+=r.protocol+"//",r.auth&&(r.href+=r.auth+"@"),r.href+=r.host),r.fragment=r.path+r.hash,r.href+=r.fragment,i=r.query=r.search.substring(1),e)if(i)for(o=i.split("&"),a=0,i=r.query={};a<o.length;a++)c=o[a].split("="),u=decodeURIComponent(c[0]),s=c[1]?decodeURIComponent(c[1]):!0,i[u]=s;else r.query={};return r},pn=function(t){return"/"===fn(t).pathname.charAt(0)},dn=function(t,e,n){var r,i;for(r=0;r<e.length;r++)i=e[r],i&&"."!==i&&(".."===i?t.length&&".."!==t[t.length-1]?t.pop():n&&t.push(".."):t.push(i))},vn=function(t){var e,n,r=[];return t=fn(t),e=t.pathname.split("/"),n="/"===t.pathname.charAt(0)?"/":"",dn(r,e,!n),t.pathname=n+r.join("/"),hn(t)},gn=function(){var t,e,n=[];for(t=0;t<arguments.length;t++)e=arguments[t],e&&St(e)&&n.push(e);return vn(n.join("/"))},mn=function(t,e){var n,r,i,o;return t=fn(t),e=fn(e),r=e.pathname.split("/"),i="/"===t.pathname.charAt(0)?"/":"",o="/"===e.pathname.charAt(0)?"/":"",n=o?["",""]:t.pathname.split("/"),dn(n,r),t.pathname=i+o+n.join("/"),t.search=e.search,t.hash=e.hash,hn(t)};C.format=hn,C.isAbsolute=pn,C.join=gn,C.normalize=vn,C.parse=fn,C.resolve=mn;var _n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,yn=function(){return null==this?"":(this+"").replace(_n,"")},bn=function(t){var e,n,r,i,o="",a=0;if(!t)return"";if(e=q(t),"array"===e)for(n=t.length;n>a;a++)t[a]&&(o+=" "+t[a]);else if("object"===e)for(r=K(t),n=r.length;n>a;a++)i=r[a],t[i]&&(o+=" "+i);else o=t+"";return yn.call(o)},wn=function(t,e,n){var r,i,o,a,u,s={},c=t&&t.validateProps;if(null!=e)for(r in e)Y(e,r)&&(s[r]=e[r]);if(i=arguments.length-2,1===i)s.children=I(n)?n:[n];else if(i>1){for(o=Array(i),a=0;i>a;a++)o[a]=arguments[a+2];s.children=o}return c&&(s=c(s)||{}),u={type:t,props:s}},xn={},En=1,Sn="vComp",jn=function(t){return t.nodeType&&3!==t.nodeType?1:t===t.window?2:0},kn={add:function(e){var n,r=e.el,i=jn(r);return i?(n=t.get(r,Sn),n||(n=En++,t.setup(r,Sn,n,1===i)),xn[n]=e):void 0},remove:function(e){var n=jn(e)&&t.get(e,Sn);n&&(xn[n]=null)},get:function(e){return xn[jn(e)&&t.get(e,Sn)]}},Cn=function(t,e,n,r,i,o,a,u,s){var c,h,l;if(this.dontQueue=!0,"remove"===e)return l=t.el,M(t),i.removeChild(l),void(this.queued=!1);if(c=t.props,"add"===e)t.props=n,t.initialize&&t.initialize(),t.componentWillMount&&t.componentWillMount();else if("update"===e||"forceUpdate"===e){if(n?t.componentWillReceiveProps&&t.componentWillReceiveProps(n):n=t.props,"update"===e&&t.shouldComponentUpdate&&(h=t.shouldComponentUpdate(n),h===!1))return t.props=n,this.queued=!1,void(this.dontQueue=!1);t.componentWillUpdate&&t.componentWillUpdate(n),t.props=n}this.queued=!1,this.dontQueue=!1,this.updateComponent(t,e,r,o,a,u,s),"add"===e?(kn.add(t),o!==t.el&&i.insertBefore(t.el,o)):"update"===e&&i&&o!==t.el&&i.insertBefore(t.el,o),"add"===e?this.updater.queueCallback(t,"componentDidMount"):("update"===e||"forceUpdate"===e)&&this.updater.queueCallback(t,"componentDidUpdate",c)},Mn=function(t){return t.getAttribute("data-mota")},zn=function(t,e){return t.setAttribute&&t.setAttribute("data-mota",e),t},An=function(t){for(var e,n=t.childNodes.length;n--;)e=t.childNodes.item(n),e.getAttribute&&"server"!==Mn(e)&&t.removeChild(e)},Pn=function(t,e,n){return!t||t.getAttribute&&"server"!==Mn(t)?zn(e,n):t.nodeType===e.nodeType&&t.nodeName===e.nodeName&&t.nodeValue===e.nodeValue?(("HEAD"===t.nodeName||"BODY"===t.nodeName)&&An(t),zn(t,n)):zn(e,n)},Tn=function(t,e,n,r,i){var o,a,u=e.children;return"string"==typeof t?("#text"===t?o=Dt.createTextNode(e.text):"#comment"===t?o=Dt.createComment(u.join("\n")):(e.xmlns?a=e.xmlns:"svg"===t?a="http://www.w3.org/2000/svg":"math"===t&&(a="http://www.w3.org/1998/Math/MathML"),o=a?Dt.createElementNS(a,t):Dt.createElement(t)),o=Pn(n,o,r?"server":"client"),r||n===o||"script"!==t&&"style"!==t||tt("mota.view.Component.update","For security reasons, <script> and <style> elements are not allowed to be created. "+i)):tt("mota.view.Component.update","`render` must return an object containing a `type` property with a primitive string. "+i),o},Un=/^on/,Rn=function(t){if(I(t)){var e=N(H,null,[{}].concat(t));return e}return t},Nn=["Webkit","Moz","ms"],Vn=Dt?Dt.createElement("div").style:{},In={animationIterationCount:1,boxFlex:1,boxFlexGroup:1,columnCount:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,fontWeight:1,lineClamp:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,fillOpacity:1,strokeDashoffset:1,strokeOpacity:1,strokeWidth:1},Ln=function(t){return t.charAt(0).toUpperCase()+t.substring(1)},On={},qn=function(t){var e,n,r=t;if(void 0!==On[t])return On[t];if(t in Vn)return On[t]=t,t;for(e=Ln(t),n=Nn.length;n--;)if(t=Nn[n]+e,t in Vn)return On[r]=t,t;On[r]=!1},Dn=function(t,e,n){var r,i,o;i=qn(e),i&&(r=null==n||"boolean"==typeof n?"":n,o=1!==In[i]&&Ut(r),r=o?r+"px":yn.call(r+""),t[i]!==r&&(t[i]=r))};K(In).forEach(function(t){for(var e=Nn.length;e--;)In[Nn[e]+Ln(t)]=1});var Fn,Hn=function(t,e,n,r){var i,o,a,u,s,c,h=t.el;if(n!==r)switch(e){case"key":case"data-mota":case"children":case"childNodes":case"innerHTML":case"outerHTML":return;case"daugerousInnerHTML":case"dangerouslySetInnerHTML":if(n&&r&&n.__html===r.__html)return;return void(r&&h.innerHTML!==r.__html&&(h.innerHTML=r.__html));case"style":for(u=h.style,n=Rn(n)||{},r=Rn(r)||{},c=K(r),i=c.length;i--;)s=c[i],n[s]!==r[s]&&Dn(u,s,r[s]);for(c=K(n),i=c.length;i--;)s=c[i],void 0===r[s]&&Dn(u,s,null);return;case"class":case"className":return o=bn(r),void("svg"===h.nodeName?h.getAttribute("class")!==o&&h.setAttribute("class",o):h.className!==o&&(h.className=o));default:return a=e.replace(Un,""),void(e!==a?(a=a.toLowerCase(),n&&we.off.call(t,a,n),r&&we.on.call(t,a,r)):e in h&&"list"!==e&&"form"!==e&&"type"!==e&&"width"!==e&&"height"!==e?h[e]!==r&&(h[e]=r):r?h.setAttribute(e,r+""):h.removeAttribute(e))}},Wn=function(t,e,n){var r,i,o;for(o=K(n),r=o.length;r--;)i=o[r],Hn(t,i,e[i],n[i]);for(o=K(e),r=o.length;r--;)i=o[r],void 0===n[i]&&Hn(t,i,e[i])},Yn=0,$n=function(t){function e(){z.call(this)}var n,r=[];t&&Ct(t.render)||tt("mota.view.createClass","Provide an object with a `render` property containing a function"),e.displayName=t.displayName,e.validateProps=t.validateProps;for(n in t.statics)e[n]=t.statics[n];e.prototype=new z,t=H(e.prototype,t);for(n in t)Ct(t[n])&&r.push(n);return t.constructor=e,t.__methods=r,e.__type=Yn++,e},Bn=function(t,e){var n=t.props,r=t.type,i=void 0===r.__type?r:r.__type;return void 0===e[i]&&(e[i]=0),i+(null==n.key?":noKey:"+e[i]++:":key:"+n.key)},Xn=function(t,e,n,r,i,o,a){var u,s,c,h,l,f,p=t.childNodes;for(c=e.length;c--;)s=e[c],s&&s.__internal__.update(s,"remove",null,null,t);for(c=0,h=n.length;h>c;c++)ft&&(p=t.childNodes),l=n[c],u=l.component,f=p.item(l.index),u.__internal__.update(u,"add",l.props,l.owner,t,f||null,i,o,a);for(c=0,h=r.length;h>c;c++)ft&&(p=t.childNodes),l=r[c],u=l.component,f=p.item(l.index),u.__internal__.update(u,"update",l.props,l.owner,t,f||null)},Qn=function(t,e,n,r,i,o,a,u,s,c){for(var h,l,f,p,d,v,g=0,m=e.length;m>g;g++)if(p=e[g],null!=p&&p!==!1&&""!==p){if("object"==typeof p){if(I(p)){c=Qn(t,p,n,r,i,o,a,u,s,c);continue}}else p={type:"#text",props:{text:p+""}};p.type||tt("mota.view.Component.update","Please provide a valid placeholder."),h=Bn(p,a),v=r[h],d=Ct(p.type),void 0!==v?(f=n[v],n[v]=void 0,l=f,u.push({component:l,index:c,props:d?p.props:p})):(l=d?new p.type:new Fn,s.push({component:l,index:c,props:d?p.props:p,owner:d?l:t.__internal__.owner})),i[c]=l,o[h]=c,c++}return c},Gn=function(t,e,n,r,i,o){Fn||(Fn=$n({render:function(){return this.props}}));var a=[],u={},s={},c=[],h=[],l=e.depth+1;Qn(t,n,r,i,a,u,s,c,h,0),Xn(t.el,r,h,c,o,l,e.updater),e.children=a,e.childrenMap=u},Kn=function(t,e){t.nodeValue!=e&&(t.nodeValue=e)},Jn={area:1,base:1,br:1,col:1,command:1,embed:1,hr:1,img:1,input:1,keygen:1,link:1,menuitem:1,meta:1,param:1,source:1,track:1,wbr:1},Zn=function(t,e,n,r,i,o,a){var u,s,c,h,l,f,p,d;if(u=t.render(wn)||{},s=this.cache,s!==u){if(this.cache=u,h=u.type,l=u.props||{},f=l.children||[],"add"===e?(this.owner=n,this.depth=o,this.updater=a):n=this.owner,p=n?"Please check the code for the "+n.constructor.displayName+" component.":"","add"===e){if(s.type=h,"#ignore"===h)return void(t.el=r);t.el=Tn(h,l,r,i,p)}if(c=t.el,c||tt("mota.view.Component.update","The `el` property is missing. "+p),s.type&&h!==s.type&&tt("mota.view.Component.update","You must not change the type of an component between updates. You have changed '"+s.type+"' to '"+h+"'. "+p),"#text"===h)return Kn(c,l.text);if("#comment"===h)return Kn(c,f.join("\n"));Jn[h]&&(null!=l.daugerousInnerHTML||null!=f&&f.length>0)&&tt("mota.view.Component.update",h+" is a void element tag and must not have `children` or use `daugerousInnerHTML`. "+p),d=s.props,Wn(t,d,l),Jn[h]||null!=l.daugerousInnerHTML||(Gn(t,this,f,this.children,this.childrenMap,i),"select"===h&&Hn(t,"value",d.value,l.value))}},tr=function(){this.queued=!1,this.force=!1,this.renderToString=!1,this.children=[],this.childrenMap={},this.depth=0};tr.prototype={constructor:tr,cache:wn(),queueUpdate:function(t,e,n){this.dontQueue||(this.queued?e&&(this.force=!0):(this.queued=!0,this.force=!!e,this.renderToString=!!n,this.updater.queueUpdate(t)))},update:Cn,updateComponent:Zn},H(z.prototype,we,{update:function(){this.__internal__.queueUpdate(this)},forceUpdate:function(){this.__internal__.queueUpdate(this,!0)},bindMethodsToThis:function(){for(var t,e,n=this.__methods.length;n--;)t=this.__methods[n],e=this[t],this[t]=Yt(e,this),this[t].original=e}});var er=function(t,e){if(t){var n=kn.get(t);if(n)return n;if(!e)return n=new z,n.el=t,kn.add(n)?n:void 0}};A.prototype={add:function(t,e){var n=e(this.data,t);n>0?this.left?this.left.add(t,e):this.left=new A(t):this.right?this.right.add(t,e):this.right=new A(t)},traverse:function(t){var e=this.left,n=this.right;e&&e.traverse(t),t.call(this,this.data),n&&n.traverse(t)}};var nr=function(t){this.comparator=t};nr.prototype={isEmpty:function(){return!this.root},add:function(t){this.root?this.root.add(t,this.comparator):this.root=new A(t)},traverse:function(t){this.root&&this.root.traverse(t)},cloneAndReset:function(){var t=new nr(this.comparator);return t.root=this.root,this.root=void 0,t}};var rr=function(t){
var e=t.__internal__;e&&e.queued&&e.update(t,e.force?"forceUpdate":"update",null,null,null,null,e.renderToString)},ir=function(t,e){return t.__internal__.depth-e.__internal__.depth},or=function(){this.ignore=0,this.flushingUpdates=!1,this.dirtyComponents=new nr(ir)};or.prototype={constructor:or,startIgnore:function(){this.ignore++},endIgnore:function(){this.ignore--,this.flushUpdates()},flushUpdates:function(){var t,e,n;if(!this.flushingUpdates&&!this.ignore&&!this.dirtyComponents.isEmpty()){for(this.flushingUpdates=!0,t=this.pendingCallbacks=[],this.dirtyComponents.cloneAndReset().traverse(rr),this.pendingCallbacks=void 0,e=0;e<t.length;e++)n=t[e],n.component[n.methodName](n.arg);this.flushingUpdates=!1,this.flushUpdates()}},queueUpdate:function(t){this.dirtyComponents.add(t),this.flushUpdates()},queueCallback:function(t,e,n){this.flushingUpdates!==!0&&tt("mota.view Internal","Only queue callbacks during update process."),t[e]&&this.pendingCallbacks.push({component:t,methodName:e,arg:n})}};var ar=function(t,e,n){var r=er(e);return r||tt("mota.view.render","`parent` should be an DOM element"),r.__updater__||(r.__updater__=new or,r.__internal__.updater=r.__updater__),r.render=function(e){return e(null,null,t)},Ct(n)&&(r.componentDidUpdate=function(){this.componentDidUpdate=void 0,n.call(this)}),r.update(),r.__internal__.children[0]},ur=function(t){var e=er(Dt.createElement("div"));return e.__updater__||(e.__updater__=new or,e.__internal__.updater=e.__updater__),e.render=function(e){return e(null,null,t)},e.__internal__.queueUpdate(e,!0,!0),e.el.innerHTML},sr=Date.now,cr={},hr=function(t){cr[t]=!0,Object.defineProperty(lr.prototype,t,{enumerable:!0,configurable:!0,get:function(){var e,n;return this.originalEvent&&(n=vr[t],e=n?n(this.originalEvent,this.target):this.originalEvent[t]),this[t]=e},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},lr=function(t){var e,n;t&&t.type?(this.originalEvent=t,this.type=t.type):this.type=t;for(e in this.originalEvent)cr[e]||null!=this[e]||hr(e);this.type in dr&&(this.type=dr[this.type]),this.timeStamp||(this.timeStamp=sr()),n=this.target,n&&3===n.nodeType&&(this.target=n.parentNode)};lr.prototype={constructor:lr,isDefaultPrevented:!1,isPropagationStopped:!1,isImmediatePropagationStopped:!1,stopPropagation:function(){this.isPropagationStopped=!0},stopImmediatePropagation:function(){this.isPropagationStopped=!0,this.isImmediatePropagationStopped=!0},preventDefault:function(){this.isDefaultPrevented=!0,this.originalEvent.preventDefault()}};var fr=/^key/,pr=/^(?:mouse|touch|pointer|contextmenu|drag|drop)|click/,dr={mousewheel:"wheel",DOMMouseScroll:"whell"},vr={which:function(t){if(pr.test(t.type)){var e=t.button;return t.which||void 0===e?t.which:1&e?1:2&e?3:4&e?2:0}return fr.test(t.type)?null==t.which?null!=t.charCode?t.charCode:t.keyCode:t.which:void 0},pageX:function(t,e){var n,r,i;return null==t.pageX&&null!=t.clientX?(n=e.ownerDocument||Dt,r=n.documentElement,i=n.body,t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0)):t.pageX},pageY:function(t,e){var n,r,i;return null==t.pageY&&null!=t.clientY?(n=e.ownerDocument||Dt,r=n.documentElement,i=n.body,t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)):t.pageY},path:function(t,e){for(var n=e,r=[n];n=n.parentNode||n.defaultView;)r.push(n);return r}};K(vr).forEach(hr);var gr=function(t,e,n,r){var i=e.handler;return ge.call(this,t,e,n),r.isImmediatePropagationStopped?!1:(r.currentTarget=this.el,void(i&&(r.result=i.call(void 0!==e.context?e.context:this,r))))},mr=function(t){t=new lr(t);var e,n,r=t.target,i=t.type,o=t.path,a=0,u=kn.get(r);for(u&&(n=u.__internal__.updater),n&&n.startIgnore();a<o.length&&!t.isPropagationStopped&&(e=o[a],u=kn.get(e),ae(u,"trigger",gr,{eventType:i,handler:void 0,context:void 0},t),t.bubbles);a++);n&&n.endIgnore()},_r={pointermove:1,pointerdown:1,pointerup:1,pointerover:1,pointerout:1,pointerenter:1,pointerleave:1,pointercancel:1},yr=function(){if(qt.addEventListener){var t,e;for(t in qt)e=t.replace(Un,""),t!==e&&(e in _r||qt.addEventListener(e,mr,!0));K(_r).forEach(function(t){qt.addEventListener(t,mr,!0)})}};yr();var br={classSet:bn,Component:z,create:wn,createClass:$n,render:ar,renderToString:ur,select:er,styleSet:Rn},wr=function(t){return mn("/",t)},xr=/^\/+|\/+$/g,Er={},Sr=function(t){return t.replace(tn,"\\$&").replace(en,"(?:$1)?").replace(nn,function(t,e){return e?t:"([^/?]+)"}).replace(rn,"([^?]*)")},jr=function(t){var e,n,r=Er[t];return r?r:(e=new RegExp("^"+Sr(t)),n=(t.match(on)||[]).map(function(t){return t.slice(1)}),r={regexp:e,names:n},Er[t]=r)};P.prototype={constructor:P,normalize:wr,route:function(t,e,n){var r=new P(t,e,n,this);return this.routes.push(r),this},setCallback:function(t){return this.callback=t,this},setDefaultCallback:function(t){return this.defaultCallback=t,this},triggerRoutes:function(t,e){var n,r,i=0,o=this.routes.length,a=function(t,r){var i=n.params.names[r];e[i]=t?decodeURIComponent(t):null};for(t=this.normalize(t),this.callback&&this.callback(e,t);o>i;i++)if(n=this.routes[i],r=t.match(n.params.regexp))return e={},r.slice(1).forEach(a),void n.triggerRoutes(t,e);this.defaultCallback&&this.defaultCallback(t)}};var kr=/#(.*)$/;T.extend=$,H(T.prototype,P.prototype,{constructor:T,_join:function(t){return"/"!==this.root?this.root+t:t},atRoot:function(){return this.location.search?!1:this.root===this.normalize(this.location.pathname)},checkUrl:function(t){return t&&"hashchange"===t.type?this.triggerRoutes(this.fragment=this.getHash(t.newURL)):this.triggerRoutes(this.fragment=this.getFragment())},getHash:function(t){var e=(t||this.location.href).match(kr);return this.normalize(e?e[1]:"")},getPath:function(){var t=this.root,e=this.location.pathname+this.location.search;return 0===e.indexOf(t)&&(e=e.slice(t.length)),this.normalize(e)},getFragment:function(){return this.normalize(this._hasPushState?this.getPath():this.getHash())},start:function(t){if(!this._started){this._started=!0,this.root=this.normalize(t&&t.root);var e=this.getFragment();if(!this._hasPushState&&!this.atRoot())return void this.location.replace(this._join("/#"+this.getPath()));this._hasPushState&&this.atRoot()?this.navigate(this.getHash(),{replace:!0}):(this.triggerRoutes(e),this.fragment=e),this.window.on(this._hasPushState?"popstate":"hashchange",this.checkUrl,this)}},stop:function(){this._started&&(this._started=!1,this.window.off(this._hasPushState?"popstate":"hashchange",this.checkUrl,this))},navigate:function(t,e){var n;return this._started?(e&&e!==!0||(e={replace:!!e}),t=this.normalize(t),void(this.fragment!==t&&(this.fragment=t,this._hasPushState?(this.history[e.replace?"replaceState":"pushState"]({},Dt.title,this._join(t)),this.triggerRoutes(t)):e.replace?(n=location.href.replace(/(javascript:|#).*$/,""),this.location.replace(n+"#"+t)):this.location.hash="#"+t))):!1},redirect:function(t,e){var n=this.navigate.bind(this,e);this.route(t,function(){this.setCallback(n)})}}),R(U,"VERSION","0.9.1",!0),Kt.hashCode=u,Kt.extend(U,Kt,{events:we,Map:x,path:C,Router:T,util:Kt,view:br,setWindow:Ft});var Cr=!1;return R(U,"developmentMode",Cr,!1),U});
//# sourceMappingURL=mota.min.js.map