/*!
 * MotaJS v0.10.1
 * http://motapc.js.org/motajs
 *
 * Released under the MIT license
 * https://github.com/motapc97/MotaJS/blob/master/LICENSE.md
 *
 * Project
 * https://github.com/motapc97/MotaJS
 *
 * Date: 2015-10-27T19:56Z
 */
!function(t){if("function"==typeof define&&define.amd)define(function(){return t()});else if("undefined"!=typeof exports){var e=t();"undefined"!=typeof module&&module.exports&&(exports=module.exports=e),exports.mota=e}else window.mota=t()}(function(){function t(t,e){var n={},r=0;return function(i){return void 0===e||i.length>e?(void 0===n[i]&&(r===At&&(n={},r=0),n[i]=t(i),r++),n[i]):t(i)}}function e(){}function n(t){return t>>>1&1073741824|3221225471&t}function r(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}function i(t,e){return t=Tt(t,3432918353),t=Tt(t<<15|t>>>-15,461845907),t=Tt(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=Tt(t^t>>>16,2246822507),t=Tt(t^t>>>13,3266489909),n(t^t>>>16)}function o(t){var e=!1,n=!0,o=e?1:0,u=t.forEach(n?e?function(t,e){o=31*o+r(s(t),s(e))|0}:function(t,e){o=o+r(s(t),s(e))|0}:e?function(t){o=31*o+s(t)|0}:function(t){o=o+s(t)|0});return i(o,u)}function u(t){return e.get(t,"hash")}function s(t){var r,i;if(!t)return 0;if("function"==typeof t.valueOf&&(t=t.valueOf(),!t))return 0;if(t===!0)return 1;if(r=typeof t,"number"===r){for(i=0|t,i!==t&&(i^=4294967295*t);t>4294967295;)t/=4294967295,i^=t;return n(i)}return"string"===r?Mt(t):(i=u(t),void 0!==i?i:("function"==typeof t.isImmutable&&t.isImmutable()?i=o(t):(i=Ut++,1073741824&Ut&&(Ut=1)),e.setup(t,"hash",i),i))}function a(t,e){return null==e?t():t.call(e)}function c(t,e){switch(e.length){case 0:return t();case 1:return t(e[0]);case 2:return t(e[0],e[1]);case 3:return t(e[0],e[1],e[2]);case 4:return t(e[0],e[1],e[2],e[3]);case 5:return t(e[0],e[1],e[2],e[3],e[4]);default:return t.apply(void 0,e)}}function h(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2]);case 4:return t.call(e,n[0],n[1],n[2],n[3]);case 5:return t.call(e,n[0],n[1],n[2],n[3],n[4]);default:return t.apply(e,n)}}function l(t,e,n){return t?n?null==e?c(t,n):h(t,e,n):a(t,e):void 0}function f(t,e){return function(){for(var n=0;n<t.length;n++)l(t[n],this,arguments);return l(e,this,arguments)}}function p(t){return!!t&&ne(ge(t,"iterator"))}function d(t){return _e(t)||!!t&&t.values!==t.keys&&ne(t.values)&&ne(t.keys)&&t.values===ge(t,"iterator")}function v(t){return!!t&&ne(t.entries)&&t.entries===ge(t,"iterator")}function m(t){return d(t)||v(t)}function g(t,e){for(var n=e,r=n+1,i=t.length;i>r;n+=1,r+=1)t[n]=t[r];t.pop()}function y(t){this.data=t}function _(){this.first={__next:void 0},this.last=this.first}function b(t,e,n){var r=n.childNodes,i=e>=r.length?null:r.item(e);t!==i&&n.insertBefore(t,i)}function w(t){var e=t.__internal__;e&&e.queued&&e.update(e.force,null,null,e.renderToString)}function E(t){var e=t.elem,n=t.name,r=t.value,i=t.type;"attr"===i?null==r?e.removeAttribute(n):e.setAttribute(n,r+""):"prop"===i?e[n]=r:"style"===i&&(e.style[n]=r)}function x(t){var e=t.elem;e.parentNode.removeChild(e)}function j(t){return b(t.elem,t.index,t.parent)}function k(t){var e=t.component,n=t.name;e[n]&&e[n](t.arg)}function A(t,e){return t.__internal__.depth-e.__internal__.depth}function S(){this.ignore=0,this.flushingUpdates=!1,this.dirtyComponents=new ln(A),this.pendingAttrUpdates=new _,this.pendingElemDeletions=new _,this.pendingElemInsertions=new _,this.pendingElemMoves=new _,this.pendingEdgeCaseUpdates=new _,this.pendingCallbacks=new _}function C(t,e){return null==e?t:function(n,r,i){return t.call(e,n,r,i)}}function T(t,e){for(var n=0;n<t.length;n++)e(t[n],n,t)}function M(t,e,n){for(var r,i=0;!(r=n.next()).done;)e(r.value,i,t),i++}function U(t,e,n){for(var r,i;!(r=n.next()).done;)i=r.value,e(i[1],i[0],t)}function N(t,e){for(var n,r=0,i=Rt(t);r<i.length;r++)n=i[r],e(t[n],n,t)}function I(t,e,n){var r,i;return"function"==typeof t.forEach?t.forEach(e):(r=ge(t,"iterator"),"function"==typeof r?(i=r.call(t),r===t.entries?U(t,e,i):M(t,e,i)):n!==!1?N(t,e):void 0)}function q(t){var e="";return N(t,function(t,n){t&&(e+=Yn(n)+":"+t+";")}),e}function z(t){var e="";return t._attrs.style=t.style,t._attrs["class"]=t.className||t._attrs["class"],N(t._attrs,function(t,n){"style"===n&&(t=q(t)),t&&(e+=" "+n+'="'+Kn(t)+'"')}),e}function L(t){var e=t._tagName,n="<"+e+z(t);return n+=Dn[e]?" />":">"+O(t)+"</"+e+">"}function V(t){switch(t.nodeType){case 3:return Qn(t.nodeValue);case 8:return"<!--"+t.nodeValue+"-->";default:return L(t)}}function O(t){for(var e=0,n="",r=t.childNodes;e<r.length;e++)n+=V(r[e]);return n}function P(t){return this[t]}function R(t){this._tagName=(t+"").toLowerCase(),this._attrs={},this.nodeType=1,this.className="",this.childNodes=[],this.childNodes.item=P,this.style={}}function D(t){this.nodeValue=t+"",this.nodeType=3,this.nodeName="#text"}function F(t){this.nodeValue=t+"",this.nodeType=8,this.nodeName="#comment"}function H(t){return t.charAt(0).toUpperCase()+t.substring(1)}function W(t,e){return null==e||"boolean"==typeof e||""===e?"":0===e||hr[t]||isNaN(e)?e+"":("string"==typeof e&&(e=ir(e)),e+"px")}function $(t,e,n,r,i){n=lr(n),n&&(i=W(n,i),e.style[n]!==i&&fn.queueAttrUpdate(e,n,i,"style"))}function B(t){t.componentWillUnmount&&t.componentWillUnmount();var e=t.__internal__.children;cn.remove(t.el),t.el=t.props=t.__internal__=void 0,e.traverse(B)}function Y(t){this.reset(),this.parentComponent=t}function Q(){this.__internal__=new kr(this)}function K(t){var e,n,r,i,o={},u=0;if(!t)return o;for(e=t.split("&");u<e.length;u++)e[u]&&(n=e[u].split("="),r=decodeURIComponent(n[0]),i=n[1]?decodeURIComponent(n[1]):"",void 0!==o[r]?_e(o[r])?o[r].push(i):o[r]=[o[r],i]:o[r]=i);return o}function X(t,e){return t.charAt(0)===e?t:e+t}function G(t,e){return t.charAt(t.length-1)===e?t:t+e}function Z(t){if("string"==typeof t)return t;var e,n,r,i,o,u="";for(e in t)if(n=encodeURIComponent(e),r=t[e],_e(r))for(o=0;o<r.length;o++)i=r[o]?encodeURIComponent(r[o]):"",u+="&"+n+"="+i;else i=r?encodeURIComponent(r):"",u+="&"+n+"="+i;return u.substring(1)}function J(t,e){Fr.call(this,t,e)}function tt(t,e,n,r){ne(e)&&(n=e,e=t,t=void 0),e||Le("mota.Router.route","Provide a non-empty path"),this.name=t,this.parent=r,this.path=(r.path||"")+"/"+e.replace(Kr,""),this.params=Gr(this.path),this.routes=[],n.call(this)}function et(){this.routes=[],this.history=Xt.history,this.location=this.history&&this.history.location||Xt.location,this.window=Zr||(Zr=Tr.select(Xt)),this.initialize&&l(this.initialize,this,arguments)}function nt(t){return t===ti||t===ni||t===ei}function rt(t,e,n){t.state!==e&&t.state===ti&&nt(e)&&3===arguments.length&&(t.value=n,t.state=e,ut(t))}function it(t){return!(!t||!t[Jr])}function ot(t,e){if(t===e)rt(t,ni,new TypeError("The promise and its value refer to the same object"));else if(it(e))e.state===ti?e.then(function(e){ot(t,e)},function(e){rt(t,ni,e)}):rt(t,e.state,e.value);else if(Pt(e)||ne(e)){var n,r=!1;try{n=e.then,ne(n)?n.call(e,function(e){r||(ot(t,e),r=!0)},function(e){r||(rt(t,ni,e),r=!0)}):(rt(t,ei,e),r=!0)}catch(i){r||(rt(t,ni,i),r=!0)}}else rt(t,ei,e)}function ut(t){t.state!==ti&&ri(function(){for(;t.queue.length;){var e,n=t.queue.shift(),r=null;t.state===ei?r=n.handlers.fulfill:t.state===ni&&(r=n.handlers.reject);try{e=r(t.value)}catch(i){rt(n,ni,i);continue}ot(n,e)}})}function st(t){return t}function at(t){throw t}function ct(t){ri(function(){throw t})}function ht(t,e,n){this.owner=t,this.hash=e,this.children=n}function lt(t,e,n){this.owner=t,this.count=e,this.children=n}function ft(t,e,n){this.owner=t,this.bitmap=e,this.children=n}function pt(t,e,n,r){this.owner=t,this.hash=e,this.key=n,this.value=r}function dt(t){var e=this.func;return this.oldValue=t,e&&(this.value=e(t),this.func=void 0),this.value}function vt(t,e){return{node:t,index:0,prev:e}}function mt(){return{value:void 0,done:!0}}function gt(t,e,n){return{value:n===Si?[t,e]:n===ki?t:e,done:!1}}function yt(t,e,n,r){var i,o,u,s,a,c=t.isMutable();return u=c?t:xt(),u.__root=xi(t.__root,u.__owner,0,void 0,e,n),n.changeValue?(i=n.value,o=i===n.notSetValue,u.size=t.size+(n.changeSize?o?-1:1:0),u.size||c?(c&&r!==si&&(s={type:o?"delete":n.changeSize?"add":"update"},s.key=s.name=e,o?s.oldValue=n.oldValue:(s.value=s.newValue=i,n.changeSize||(s.oldValue=n.oldValue)),a=t.__changes,a||(a=t.__changes=[]),a.push(s),r||t.__triggerChangeEvent()),u):Ui):t}function _t(t){return!(!t||!t[pi])}function bt(t){return t===si?this:xt(!0,0,void 0).merge(t,si)}function wt(t){return t===si?this:Ui.merge(t,si)}function Et(t,e){Pe(t,e),ye(t,"get",e.get),ye(t,"iterator",e.entries)}function xt(t,e,n){var r=t?new bt(si):new wt(si);return r.size=e||0,r.__root=n,t&&(r.__owner={}),r}function jt(t,e,n,r){Object.defineProperty(t,e,{configurable:!1,enumerable:r,value:n,writable:!1})}function kt(){}var At=255,St="__mota__"+(""+Math.random()).replace(/\D/g,""),Ct=Object.defineProperty;e.setup=function(t,n,r,i){var o=t[St];return o||(o=new e,i?t[St]=o:Ct(t,St,{writable:!0,value:o})),o[n]?o[n]:o[n]=r},e.get=function(t,e){var n=t[St];return n&&n[e]},e.set=function(t,e,n){var r=t[St];return r?r[e]=n:void 0},e.del=function(t,e){var n=t[St];return n&&n[e]?(n[e]=void 0,!0):!1};var Tt=Math.imul;("function"!=typeof Tt||-2!==Tt(4294967295,2))&&(Tt=function(t,e){var n=t>>>16&65535,r=65535&t,i=e>>>16&65535,o=65535&e;return r*o+(n*o+r*i<<16>>>0)|0});var Mt=t(function(t){for(var e=0,r=0;e<t.length;e++)r=31*r+t.charCodeAt(e)|0;return n(r)},16),Ut=1,Nt=function(t,e){console.warn(t+" WARNS: "+e)},It=function(t,e){var n,r;for(n in e)if(r=e[n],r&&!r(t[n],n,t))return!1;return!0},qt={},zt=function(t){return t=t?t+"":"",qt[t]||(qt[t]=0),t+ ++qt[t]},Lt={}.toString,Vt={"[object Array]":"array","[object Boolean]":"boolean","[object Date]":"date","[object Error]":"error","[object Function]":"function","[object Number]":"number","[object Object]":"object","[object RegExp]":"regexp","[object String]":"string","[object Symbol]":"symbol"},Ot=function(t){var e=typeof t;return"object"===e||"function"===e?null===t?"null":Vt[Lt.call(t)]||"object":e},Pt=function(t){var e;return!!t&&("function"==(e=typeof t)||"object"===e)},Rt=Object.keys,Dt=function(t,e){if(!Pt(t))return[];if(e){var n,r=[];for(n in t)r.push(n);return r}return Rt(t)},Ft=function(t){for(var e=Dt(t),n=e.length,r=Array(n),i=0;n>i;i++)r[i]=[e[i],t[e[i]]];return r},Ht=[],Wt=Ht.slice,$t=function(t,e){return function(){return l(t,e,Wt.call(arguments))}},Bt="[object process]"===("undefined"!=typeof global&&global&&toString.call(global.process)),Yt="[object Window]",Qt="[object global]",Kt=function(t){if(t===Xt)return!0;if(!t||"object"!=typeof t)return!1;if(!Bt&&t.window!==t)return!1;var e=Lt.call(t);return e===Yt||e===Qt},Xt="object"==typeof self&&self.self==self&&self||"object"==typeof global&&global.global==global&&global,Gt=Xt&&Xt.document,Zt=function(t){Kt(t)&&(Xt=t,Gt=t.document)},Jt=Xt.mota,te=function(){return Jt&&(Xt.mota=Jt),this},ee=function(t){return"function"===Ot(t)};"function"!=typeof/./&&"object"!=typeof Int8Array&&(ee=function(t){return"function"==typeof t||!1});var ne=ee,re=function(t,e){var n,r,i,o=t&&t.prototype,u={};if(!o)return t;for(var s=0;s<e.length;s++){n=e[s];for(r in n)u[r]||(u[r]=[]),u[r].push(n[r])}for(r in u)i=o[r],o[r]=f(u[r],ne(i)&&i);return t},ie=function(t,e){console.log(t+" LOG: "+e)},oe=function(t){return void 0===t},ue=function(t){return"string"===Ot(t)},se=function(t){return"regexp"===Ot(t)},ae={}.hasOwnProperty,ce=function(t,e){return null!=t&&ae.call(t,e)},he=function(t){var e;return!t||"object"!=typeof t||"[object Object]"!==Lt.call(t)||ce(t,"constructor")?!1:(e=t.constructor)?ne(e)&&e instanceof e:!0},le=function(t){return"object"===Ot(t)},fe=function(t){return"number"===Ot(t)},pe=function(t){return null===t},de=function(t){return null==t},ve=function(t){return t!=+t&&fe(t)},me="function"==typeof Symbol?Symbol:{},ge=function(t,e){var n=me[e];return n?t[n]:t["@@"+e]},ye=function(t,e,n){var r=me[e];r&&(t[r]=n),t["@@"+e]=n},_e=Array.isArray,be=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},we=function(t){return"error"===Ot(t)},Ee=function(t,e,n){if(t===e)return n?0!==t||1/t==1/e:!0;if(t!==t)return e!==e;if(null==t||null==e)return t===e;var r=typeof t;if("function"!==r&&"object"!==r&&"object"!=typeof e)return!1;var i=Lt.call(t);if(i!=Lt.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return t=+t,e=+e,t!==t?e!==e:t===e?n?0!==t||1/t==1/e:!0:!1;case"[object Date]":case"[object Boolean]":return+t===+e}return i},xe=function(t,e,n,r){var i=Ee(t,e,!0);if(i===!0||i===!1)return i;var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var u=t.constructor,s=e.constructor;if(!(u===s||he(t)&&he(e)))return!1}n=n||[],r=r||[];for(var a=n.length;a--;)if(n[a]===t)return r[a]===e;if(n.push(t),r.push(e),o){if(a=t.length,a!==e.length)return!1;for(;a--;)if(!xe(t[a],e[a],n,r))return!1}else{var c,h=Dt(t);if(a=h.length,Dt(e).length!==a)return!1;for(;a--;)if(c=h[a],!ce(e,c)||!xe(t[c],e[c],n,r))return!1}return n.pop(),r.pop(),!0},je=function(t,e){return xe(t,e)},ke=function(t){return"[object Arguments]"===Lt.call(t)},Ae=function(t){if(null==t)return!0;if(_e(t)||ue(t)||ke(t))return 0===t.length;for(var e in t)if(ce(t,e))return!1;return!0},Se=function(t){return t&&1===t.nodeType?Bt?!0:Lt.call(t).indexOf("Element")>-1:!1},Ce="[object HTMLDocument]",Te="[object Document]",Me=function(t){var e;if(t===Gt)return!0;if(!t||null!==t.parentNode||!(e=t.defaultView))return!1;if(Bt)return Kt(e);var n=Lt.call(t);return n===Ce||n===Te},Ue=function(t){return"date"===Ot(t)},Ne=function(t){return t===!0||t===!1||"boolean"===Ot(t)},Ie=Math.pow(2,53)-1,qe=function(t){var e,n=Ot(t);return"array"===n?!0:"object"!==n||Kt(t)?!1:(e="length"in t&&t.length,0===e?!0:"number"==typeof e&&e>0&&Ie>=e&&e-1 in t)},ze=function(t,e){var n=Ee(t,e);if(n===!0||n===!1)return n;if(t.size!==e.size)return!1;if(t.isMutable&&e.isMutable&&!t.isMutable()&&!e.isMutable()){var r=u(t),i=u(e);if(null!=r&&null!=i&&r!==i)return!1;var o=!0,s={};return t.forEach(function(t,n){var r=e.get(n,s);return r!==s&&ze(t,r)?void 0:o=!1}),o}return!1},Le=function(t,e){throw t+" ERROR: "+e},Ve=function(t,e){return function(n){var r,i,o,u,s,a,c=arguments.length;if(2>c||null==n)return n;for(r=1;c>r;r++)for(i=arguments[r],o=Dt(i,t),u=o.length,s=0;u>s;s++)a=o[s],e&&void 0!==n[a]||(n[a]=i[a]);return n}},Oe=Ve(!0,!0),Pe=function(t){var e,n,r,i,o,u,s=1,a=arguments.length,c=!1;if(t===!0&&(c=t,t=arguments[s],s++),!Pt(t))return t;for(;a>s;s++)if(null!=(e=arguments[s]))for(n in e)r=t[n],i=e[n],t!==i&&(c&&i&&("object"===(o=Ot(i))||"array"===o)?(u="array"===o?r&&_e(r)?r:[]:r&&le(r)?r:{},t[n]=Pe(c,u,i)):void 0!==i&&(t[n]=i));return t},Re=function(t){var e,n,r;if(t===!0&&ce(arguments,1)&&(e=t,t=arguments[1]),!Pt(t))return t;switch(Ot(t)){case"array":return e?Pe(e,[],t):Wt.call(t);case"number":case"string":case"date":case"boolean":return new(n=t.constructor)(t);case"regexp":return n=t.constructor,r=new n(t),r.lastIndex=t.lastIndex,r;default:return e?Pe(e,{},t):Pe({},t)}},De=Object.create,Fe=function(t,e,n){var r,i,o=this;return i=t&&ce(t,"constructor")?t.constructor:o,r=n?function(){var t=De(r.prototype),e=l(i,t,arguments);return Pt(e)?e:t}:function(){return l(i,this,arguments)},r.prototype=De(o.prototype),r.prototype.constructor=r,t&&Pe(r.prototype,t),Pe(r,o,e),r.__super__=o.prototype,r},He={apply:l,classExtend:Fe,clone:Re,extend:Pe,defaults:Oe,err:Le,has:ce,is:ze,isArguments:ke,isArray:_e,isArrayLike:qe,isBoolean:Ne,isDate:Ue,isDocument:Me,isElement:Se,isEmpty:Ae,isEqual:je,isError:we,isFinite:be,isFunction:ne,isIterable:p,isIndexed:d,isKeyed:v,isAssociative:m,isNaN:ve,isNil:de,isNull:pe,isNumber:fe,isObject:le,isObjectLike:Pt,isPlainObject:he,isRegExp:se,isString:ue,isUndefined:oe,isWindow:Kt,keys:Dt,log:ie,mixin:re,noConflict:te,noPartial:$t,pairs:Ft,type:Ot,uniqueId:zt,validate:It,warn:Nt},We=Date.now,$e=function(t,e){var n,r,i;for(t.length>e.length?(n=e,r=t):(n=t,r=e),i=n.length;i--;)if(-1!==r.indexOf(n[i]))return!0;return!1},Be=function(t,e,n,r,i){var o,u,s,a="getFirst"===i,c="trigger"===i,h=n?n.length:0,l=r.type,f=r.namespaces,p=r.handler,d=r.context;for(u=0;h>u&&(o=n[u],o!==r&&(r._listener===!0||!(!l||ze(o.type,l)||c&&o.isRegExp&&(s=l.match(o.type)))||p&&o.handler!==p||!(!f||0===f.length||o.namespaces&&$e(o.namespaces,f))||d&&o.context!==d)||(t.push([o,{index:u,match:{string:l,match:s}}]),!a));u++);return t},Ye=/\S+/g,Qe=/\.[^.]+/g,Ke=/^[^.]+/g,Xe=function(t){this.type=t.type,this.namespaces=t.namespaces,this.handler=t.handler,this.context=t.context,this.isRegExp=t.isRegExp,this.once=!1,this._listener=!0},Ge=function(t,e){var n,r,i,o,u,s,a,c=t.eventType,h=t.handler,l=t.context;if(t._listener)e.push(t);else if(a=Ot(c),u="regexp"===a)e.push({type:c,handler:h,context:l,isRegExp:u});else if("object"===a){s=c,h&&(l=h);for(c in s)Ge({eventType:c,handler:s[c],context:l},e)}else for(c=(c||"").match(Ye)||[""],r=c.length,n=0;r>n;n++)i=(c[n].match(Ke)||[])[0],o=c[n].match(Qe),e.push({type:i,namespaces:o,handler:h,context:l,isRegExp:u});return e},Ze=function(t,n,r,i,o){var u,s,a,c,h,l;if(t){if(a="on"===n?e.setup(t,"events",[]):e.get(t,"events"),c=Ge(i,[]),"on"===n)for(u=0;u<c.length;u++)c[u].type&&c[u].handler&&r(t,a,new Xe(c[u]),void 0,o);else{for(h=[],u=0;u<c.length;u++)Be(h,t,a,c[u],n);for(s=0;s<h.length&&(l=h[s],r(t,a,l[0],l[1],o)!==!1);s++);}return t}},Je=function(t,e,n,r,i){n.handler=void 0,g(e,r.index-i.value),i.value++},tn=function(t,e,n){return Ze(this,"off",Je,{eventType:t,handler:e,context:n},{value:0})},en=function(t,e,n,r){n.once&&(n.handler=void 0,Ze(t,"off",Je,n,{value:0}))},nn=function(t,e,n,r,i){var o=n.handler;en(t,e,n,r),l(o,void 0!==n.context?n.context:t,n.isRegExp?[r.match].concat(i):i)},rn=function(t){return Ze(this,"trigger",nn,{eventType:t},Wt.call(arguments,1))},on={},un=1,sn="vComp",an=function(t){return t.nodeType&&3!==t.nodeType?1:t===t.window?2:0},cn={add:function(t){var n,r=t.el,i=an(r);return i?(n=e.get(r,sn),n||(n=un++,e.setup(r,sn,n,1===i)),on[n]=t):void 0},remove:function(t){var n=an(t)&&e.get(t,sn);n&&(on[n]=void 0)},get:function(t){return on[an(t)&&e.get(t,sn)]}},hn=/^on/;y.prototype={add:function(t,e){var n=e(this.data,t);n>0?this.left?this.left.add(t,e):this.left=new y(t):this.right?this.right.add(t,e):this.right=new y(t)},traverse:function(t){var e=this.left,n=this.right;e&&e.traverse(t),t(this.data),n&&n.traverse(t)}};var ln=function(t){this.comparator=t};ln.prototype={isEmpty:function(){return!this.root},add:function(t){this.root?this.root.add(t,this.comparator):this.root=new y(t)},reset:function(){this.root=void 0},resetAndTraverse:function(t){var e=this.root;this.root=void 0,e&&e.traverse(t)}},_.prototype={constructor:_,add:function(t){this.last.__next=t,this.last=t},resetAndTraverse:function(t){this.last=void 0;for(var e=this.first;e=e.__next;)t(e);return this.reset()},reset:function(){this.first.__next=void 0,this.last=this.first}},S.prototype={constructor:S,queueUpdate:function(t){this.dirtyComponents.add(t),this.flushUpdates()},startIgnore:function(){this.ignore++},endIgnore:function(){this.ignore--,this.flushUpdates()},flushUpdates:function(){this.flushingUpdates||this.ignore||this.dirtyComponents.isEmpty()||(this.flushingUpdates=!0,this.dirtyComponents.resetAndTraverse(w),this.pendingAttrUpdates.resetAndTraverse(E),this.pendingElemDeletions.resetAndTraverse(x),this.pendingElemInsertions.resetAndTraverse(j),this.pendingElemMoves.resetAndTraverse(j),this.pendingEdgeCaseUpdates.resetAndTraverse(E),this.pendingCallbacks.resetAndTraverse(k),this.flushingUpdates=!1,this.flushUpdates())},queueAttrUpdate:function(t,e,n,r){this.pendingAttrUpdates.add({elem:t,name:e,value:n,type:r})},queueElemDeletion:function(t){this.pendingElemDeletions.add({elem:t})},queueElemInsertion:function(t,e,n){this.pendingElemInsertions.add({elem:t,index:e,parent:n})},queueElemMove:function(t,e,n){this.pendingElemMoves.add({elem:t,index:e,parent:n})},queueEdgeCaseUpdate:function(t,e,n,r){this.pendingEdgeCaseUpdates.add({elem:t,name:e,value:n,type:r})},queueCallback:function(t,e,n){t[e]&&this.pendingCallbacks.add({component:t,name:e,arg:n})},error:function(t,e){var n=e?" Please check the code for the "+e.constructor.displayName+" component.":"";this.ignore=0,this.flushingUpdates=!1,this.dirtyComponents.reset(),this.pendingAttrUpdates.reset(),this.pendingElemDeletions.reset(),this.pendingElemInsertions.reset(),this.pendingElemMoves.reset(),this.pendingEdgeCaseUpdates.reset(),this.pendingCallbacks.reset(),Le("mota.view.Component.update",t+n)}};var fn=new S,pn={},dn=function(t){pn[t]=!0,Object.defineProperty(vn.prototype,t,{enumerable:!0,configurable:!0,get:function(){var e,n;return this.originalEvent&&(n=_n[t],e=n?n(this.originalEvent,this.target):this.originalEvent[t]),this[t]=e},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},vn=function(t){var e,n;t&&t.type?(this.originalEvent=t,this.type=t.type):this.type=t;for(e in this.originalEvent)pn[e]||null!=this[e]||dn(e);this.type in yn&&(this.type=yn[this.type]),this.timeStamp||(this.timeStamp=We()),n=this.target,n&&3===n.nodeType&&(this.target=n.parentNode)};vn.prototype={constructor:vn,isDefaultPrevented:!1,isPropagationStopped:!1,isImmediatePropagationStopped:!1,stopPropagation:function(){this.isPropagationStopped=!0},stopImmediatePropagation:function(){this.isPropagationStopped=!0,this.isImmediatePropagationStopped=!0},preventDefault:function(){this.isDefaultPrevented=!0,this.originalEvent.preventDefault()}};var mn=/^key/,gn=/^(?:mouse|touch|pointer|contextmenu|drag|drop)|click/,yn={mousewheel:"wheel",DOMMouseScroll:"whell"},_n={which:function(t){if(gn.test(t.type)){var e=t.button;return t.which||void 0===e?t.which:1&e?1:2&e?3:4&e?2:0}return mn.test(t.type)?null==t.which?null!=t.charCode?t.charCode:t.keyCode:t.which:void 0},pageX:function(t,e){var n,r,i;return null==t.pageX&&null!=t.clientX?(n=e.ownerDocument||Gt,r=n.documentElement,i=n.body,t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0)):t.pageX},pageY:function(t,e){var n,r,i;return null==t.pageY&&null!=t.clientY?(n=e.ownerDocument||Gt,r=n.documentElement,i=n.body,t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)):t.pageY},path:function(t,e){for(var n=e,r=[n];n=n.parentNode||n.defaultView;)r.push(n);return r}};Rt(_n).forEach(dn);var bn=function(t,e,n,r,i){var o=n.handler;return en(t,e,n,r),i.isImmediatePropagationStopped?!1:(i.currentTarget=t.el,void(o&&(i.result=l(o,void 0!==n.context?n.context:t,[i]))))},wn=function(t){t=new vn(t);var e,n=t.target,r=t.type,i=t.path,o=0,u=cn.get(n);for(fn.startIgnore();o<i.length&&!t.isPropagationStopped&&(e=i[o],u=cn.get(e),Ze(u,"trigger",bn,{eventType:r,handler:void 0,context:void 0},t),t.bubbles);o++);fn.endIgnore()},En=function(){var t,e,n={pointermove:1,pointerdown:1,pointerup:1,pointerover:1,pointerout:1,pointerenter:1,pointerleave:1,pointercancel:1};if(Xt.addEventListener){for(t in Xt)e=t.replace(hn,""),t!==e&&(e in n||Xt.addEventListener(e,wn,!0));Rt(n).forEach(function(t){Xt.addEventListener(t,wn,!0)})}return wn},xn=function(t){if(_e(t)){var e=c(Pe,[{}].concat(t));return e}return t&&"object"==typeof t?t:{}},jn=function(t){return("number"!=typeof t||0>t||isNaN(t))&&(t=void 0),e.setup(this,"events",[])._maxListeners=t,this},kn=function(t,e,n,r,i){i&&(n.once=!0),e.push(n),e.length>e._maxListeners&&Nt("mota.Events.on","Possible memory leak detected. Use `setMaxListeners` to increase the limit of listeners.")},An=function(t,e,n,r){return Ze(this,"on",kn,{eventType:t,handler:e,context:n},r)},Sn=function(t,e,n){return An.call(this,t,e,n,!0)},Cn=function(t,e,n,r,i){i.value=!0},Tn=function(t,e,n){var r={value:!1};return Ze(this,"getFirst",Cn,{eventType:t,handler:e,context:n},r),r.value},Mn=function(){var t=e.get(this,"events"),n=t&&t._maxListeners;return"number"==typeof n?n:!1},Un=function(t,e,n,r,i){i.push(n)},Nn=function(t,e,n){var r=[];return Ze(this,"get",Un,{eventType:t,handler:e,context:n},r),r},In={getListeners:Nn,getMaxListeners:Mn,hasListeners:Tn,off:tn,on:An,once:Sn,setMaxListeners:jn,trigger:rn},qn="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("mota.view.create")||60103,zn=function(t){return t&&"object"==typeof t&&t.$$typeof===qn},Ln=function(t,e,n){var r,i,o,u,s,a={},c=null,h=t&&t.validateProps;if(null!=e){c=void 0===e.key?null:""+e.key;for(r in e)"key"!==r&&ce(e,r)&&(a[r]=e[r])}if(u=arguments.length-2,1===u)a.children=n;else if(u>1){for(i=Array(u),o=0;u>o;o++)i[o]=arguments[o+2];a.children=i}return h&&(a=h(a)||{}),s={$$typeof:qn,type:t,key:c,props:a}},Vn=function(t,e,n,r,i,o){var u,s,a,c=t.__internal__,h=c[n],l=c[r],f=Rt(i);for(s=l,a=s.length;a--;)u=s[a],void 0===i[u]&&o(t,e,u,h[u],void 0);for(s=f,a=s.length;a--;)u=s[a],h[u]!==i[u]&&o(t,e,u,h[u],i[u]);c[n]=i,c[r]=f},On=function(t,e,n,r){if(t&&"object"==typeof t){var i=C(e,n);return _e(t)||qe(t)?T(t,i):I(t,i,r)}},Pn=function(t,e,n){var r,i;if(null!=t&&t!==!1&&t!==!0&&""!==t){if(zn(t))return void e.push(t);if("object"==typeof t)return void On(t,n,null,!1);r=e.length-1,i=r>-1&&e[r],"#text"===i.type?i.props.text+=t+"":e.push({type:"#text",props:{text:t+""}})}},Rn=function(t){var e=[];if(null!=t){var n=function(t){Pn(t,e,n)};n(t)}return e},Dn={area:1,base:1,br:1,col:1,command:1,embed:1,hr:1,img:1,input:1,keygen:1,link:1,menuitem:1,meta:1,param:1,source:1,track:1,wbr:1},Fn=/([A-Z])/g,Hn=/&/g,Wn=/</g,$n=/>/g,Bn=/"/g,Yn=t(function(t){return t.replace(Fn,"-$1").toLowerCase()}),Qn=t(function(t){return t.replace(Hn,"&amp;").replace(Wn,"&lt;").replace($n,"&gt;")}),Kn=t(function(t){return Qn(t).replace(Bn,"&quot;")});R.prototype={insertBefore:function(t,e){this.childNodes.push(t)},setAttribute:function(t,e){this._attrs[t]=e+""},getAttribute:function(t){return this._attrs[t]}},Object.defineProperty(R.prototype,"innerHTML",{get:function(){return void 0===this._innerHTML&&(this._innerHTML=O(this)),this._innerHTML},set:function(t){return this._innerHTML=t,t}});var Xn={nodeType:9,createElement:function(t){return new R(t)},createElementNS:function(t,e){var n=new R(e);return n._attrs.xmlns=t,n},createTextNode:function(t){return new D(t)},createComment:function(t){return new F(t)}};Xn.head=Xn.createElement("head"),Xn.body=Xn.createElement("body"),Xn.documentElement=Xn.createElement("html"),Xn.documentElement.insertBefore(Xn.head),Xn.documentElement.insertBefore(Xn.body),Xn.childNodes=[Xn.documentElement];var Gn=Xn,Zn=function(t){return t.getAttribute("data-mota")},Jn=function(t,e){return t.setAttribute&&t.setAttribute("data-mota",e),t},tr=function(t){for(var e,n=t.childNodes.length;n--;)e=t.childNodes.item(n),e.getAttribute&&"server"!==Zn(e)&&t.removeChild(e)},er=function(t,e,n){return!t||t.getAttribute&&"server"!==Zn(t)?Jn(e,n):t.nodeType===e.nodeType&&t.nodeName===e.nodeName&&t.nodeValue===e.nodeValue?(("HEAD"===t.nodeName||"BODY"===t.nodeName)&&tr(t),Jn(t,n)):Jn(e,n)},nr=function(t,e,n,r,i){var o,u,s=e.children,a=r?Gn:Gt;return"string"==typeof t?("#text"===t?o=a.createTextNode(e.text):"#comment"===t?o=a.createComment(s.join("\n")):(e.xmlns?u=e.xmlns:"svg"===t?u="http://www.w3.org/2000/svg":"math"===t&&(u="http://www.w3.org/1998/Math/MathML"),o=u?a.createElementNS(u,t):a.createElement(t)),o=er(n,o,r?"server":"client"),("script"===t||"style"===t)&&fn.error("For security reasons, <script> and <style> elements are not allowed to be created.",i)):fn.error("`render` must return an object containing a `type` property with a primitive string or it must return `null`.",i),o},rr=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ir=function(t){return null==t?"":(t+"").replace(rr,"")},or=function(t){var e,n,r,i,o="",u=0;if(!t)return"";if(e=Ot(t),"array"===e)for(n=t.length;n>u;u++)t[u]&&(o+=" "+t[u]);else if("object"===e)for(r=Dt(t),n=r.length;n>u;u++)i=r[u],t[i]&&(o+=" "+i);else o=t+"";return ir(o)},ur=/^[a-zA-Z_][\w\.\-]*$/,sr=t(function(t){return ur.test(t)?!0:!1}),ar=["Webkit","Moz","ms"],cr=Gt?Gt.createElement("div").style:!1,hr={animationIterationCount:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,fontWeight:1,gridRow:1,gridColumn:1,lineClamp:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,fillOpacity:1,stopOpacity:1,strokeDashoffset:1,strokeOpacity:1,strokeWidth:1},lr=t(function(t){var e,n;if(!cr)return t;if(t in cr)return t;for(e=H(t),n=ar.length;n--;)if(t=ar[n]+e,t in cr)return t;return!1});N(hr,function(t,e){hr[lr(e)]=t});var fr,pr=function(t,e,n,r,i){var o,u;switch(n){case"key":case"data-mota":case"children":case"childNodes":case"innerHTML":case"outerHTML":return;case"daugerousInnerHTML":case"dangerouslySetInnerHTML":if(r&&i&&r.__html===i.__html)return;return void(i&&e.innerHTML!==i.__html&&fn.queueAttrUpdate(e,"innerHTML",i.__html,"prop"));case"style":return Vn(t,e,"cacheStyle","cacheStyleKeys",xn(i),$);case"class":case"className":return o=or(i),void("svg"===e.nodeName?e.getAttribute("class")!==o&&fn.queueAttrUpdate(e,"class",o,"attr"):e.className!==o&&fn.queueAttrUpdate(e,"className",o,"prop"));default:return u=n.replace(hn,""),void(n!==u?(u=u.toLowerCase(),r&&In.off.call(t,u,r),i&&In.on.call(t,u,i)):n in e&&"list"!==n&&"form"!==n&&"type"!==n&&"width"!==n&&"height"!==n?("value"===n&&(i+=""),e[n]!==i&&("value"===n&&"SELECT"===e.nodeName?fn.queueEdgeCaseUpdate(e,n,i,"prop"):fn.queueAttrUpdate(e,n,i,"prop"))):sr(n)&&fn.queueAttrUpdate(e,n,i,"attr"))}},dr=Ln("noscript"),vr=function(t,e){var n,r,i,o,u,s,a=this.component;if(n=a.render(Ln)||dr,r=this.cache,r!==n){if(this.cache=n,o=n.type,u=n.props,s=u.children,a.el||(a.el=nr(o,u,this.parentEl.childNodes.item(t),e,this.owner)),i=a.el,i||fn.error("The `el` property is missing.",this.owner),r.type&&o!==r.type&&fn.error("You must not change the type of an component between updates. You have changed `"+r.type+"` to `"+o+"`.",this.owner),"#text"===o)return fn.queueAttrUpdate(i,"nodeValue",u.text,"prop");if("#comment"===o)return fn.queueAttrUpdate(i,"nodeValue",s.join("\n"),"prop");Dn[o]&&(null!=u.daugerousInnerHTML||null!=s)&&fn.error("`"+o+"` is a void element tag and must not have `children` or use `daugerousInnerHTML`.",this.owner),Vn(a,i,"cacheAttrs","cacheAttrsKeys",u,pr),Dn[o]||null!=u.daugerousInnerHTML||this.children.diffChildren(Rn(s),e)}},mr=function(){var t=this.component;this.dontQueue=!0,this.updater.queueElemDeletion(t.el),B(t),this.queued=!1},gr=function(t,e,n,r){var i,o=this.component,u=o.props;return this.dontQueue=!0,e?o.componentWillReceiveProps&&o.componentWillReceiveProps(e):e=o.props,!t&&o.shouldComponentUpdate&&(i=o.shouldComponentUpdate(e),i===!1)?(o.props=e,this.queued=!1,void(this.dontQueue=!1)):(o.componentWillUpdate&&o.componentWillUpdate(e),o.props=e,this.queued=!1,this.dontQueue=!1,this.updateComponent(n,r),t||null==n||this.updater.queueElemMove(o.el,n,this.parentEl),void this.updater.queueCallback(o,"componentDidUpdate",u))},yr=function(t,e,n,r,i,o){var u=this.component;this.dontQueue=!0,u.props=t,u.initialize&&u.initialize(),u.componentWillMount&&u.componentWillMount(),this.queued=!1,this.dontQueue=!1,this.owner=e,this.depth=r,this.parentEl=n,this.updateComponent(i,o),cn.add(u),this.updater.queueElemInsertion(u.el,i,n),this.updater.queueCallback(u,"componentDidMount")},_r=function(t,e){this.dontQueue||(this.queued?t&&(this.force=!0):(this.queued=!0,this.force=!!t,this.renderToString=!!e,this.updater.queueUpdate(this.component)))},br=0,wr=function(t){function e(){Q.call(this)}var n,r=[];ne(t)&&(t={render:t}),t&&ne(t.render)||Le("mota.view.createClass","Provide an object with a `render` property containing a function"),e.displayName=t.displayName,e.validateProps=t.validateProps;for(n in t.statics)e[n]=t.statics[n];e.prototype=new Q,t=Pe(e.prototype,t);for(n in t)ne(t[n])&&r.push(n);return t.constructor=e,t.__methods=r,e.__type=br++,e},Er=function(t,e){var n=t.key,r=t.type,i=void 0===r.__type?r:r.__type;return void 0===e[i]&&(e[i]=0),i+(null==n?":noKey:"+e[i]++:":key:"+n)};Y.prototype={reset:function(){this.array=[],this.map={}},get:function(t){return this.array[t]},traverse:function(t){for(var e=0,n=this.array;e<n.length;e++)t(n[e])},diffChildren:function(t,e){fr||(fr=wr(function(){return this.props}));var n,r,i,o,u,s=this.array,a=this.map,c=0,h={},l=this.parentComponent.el,f=this.parentComponent.__internal__,p=f.owner,d=f.depth+1;
for(this.reset();c<t.length;c++)i=t[c],n=Er(i,h),u=a[n],o=ne(i.type),void 0!==u?(r=s[u],s[u]=void 0,r.__internal__.update(!1,o?i.props:i,c)):(r=o?new i.type:new fr,r.__internal__.init(o?i.props:i,o?r:p,l,d,c,e)),this.array[c]=r,this.map[n]=c;for(c=s.length;c--;)r=s[c],r&&r.__internal__.remove()}};var xr=Object.freeze({}),jr=Object.freeze([]),kr=function(t){this.component=t,this.queued=!1,this.force=!1,this.renderToString=!1,this.children=new Y(t),this.depth=0,this.updater=fn};kr.prototype={constructor:kr,cache:Ln(),cacheAttrs:xr,cacheAttrsKeys:jr,cacheStyle:xr,cacheStyleKeys:jr,queueUpdate:_r,init:yr,update:gr,remove:mr,updateComponent:vr},Pe(Q.prototype,In,{update:function(){this.__internal__.queueUpdate()},forceUpdate:function(){this.__internal__.queueUpdate(!0)},bindMethodsToThis:function(){for(var t,e,n=this.__methods.length;n--;)t=this.__methods[n],e=this[t],this[t]=$t(e,this),this[t].original=e}});var Ar=function(t,e){if(t){var n=cn.get(t);if(n)return n;if(!e)return n=new Q,n.el=t,cn.add(n)?n:void 0}},Sr=function(t){var e=new Q;return e.el=Gn.createElement("div"),e.render=function(e){return e(null,null,t)},e.__internal__.queueUpdate(!0,!0),e.el.innerHTML},Cr=function(t,e,n){var r=Ar(e);return r||Le("mota.view.render","`parent` should be an DOM element"),r.render=function(e){return e(null,null,t)},ne(n)&&(r.componentDidUpdate=function(){this.componentDidUpdate=void 0,n()}),r.update(),r.__internal__.children.get(0)},Tr={classSet:or,Component:Q,create:Ln,createClass:wr,render:Cr,renderToString:Sr,select:Ar,styleSet:xn,dispatchEvents:En()},Mr=/[\-{}\[\]+?.,\\\^$|#\s]/g,Ur=/\((.*?)\)/g,Nr=/(\(\?)?:\w+/g,Ir=/\*\w+/g,qr=/(?:(\(\?)?:\w+)|(?:\*\w+)/g,zr=/^\/+/,Lr=/\/+$/,Vr=/#.*/,Or=/\?.*/,Pr=function(t,e){var n,r,i=[];for(n=0;n<t.length;n++)r=t[n],r&&"."!==r&&(".."===r?i.length&&".."!==i[i.length-1]?i.pop():e&&i.push(".."):i.push(r));return i},Rr=t(function(t){var e,n;return e="/"===t.charAt(0)?"/":"",n=t.replace(zr,"/").replace(Lr,e).split("/"),e+Pr(n,!e).join("/")}),Dr=new RegExp("^(?:(?:((?:https?|ftp):)//)(?:(\\S+(?::\\S*)?)@)?((?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*)?(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))?)(?::(\\d{2,5}))?)?(/?\\S*)?$","i"),Fr=function(t,e){var n=this,r=(t||"").match(Dr)||[];return this.auth=r[2]||"",this.hash="",this.hostname=r[3]||"",this.port=r[4]||"",this.protocol=r[1]||"",this.search="",this.host=this.hostname+(this.port?":"+this.port:""),this.pathname=(r[5]||"").replace(Vr,function(t){return n.hash=t||"",""}).replace(Or,function(t){return n.search=t||"",""}),this.pathname=Rr(this.pathname),this.hostname&&!this.pathname&&(this.pathname="/"),this.path=this.pathname+this.search,this.fragment=this.path+this.hash,this.query=this.search.substring(1),e&&(this.query=K(this.query)),this.href=this.format(),this},Hr=function(){return"/"===this.pathname.charAt(0)},Wr=function(){var t,e="";return this.protocol&&(e+=G(this.protocol,":")+"//"),this.auth&&(e+=this.auth+"@"),this.host?e+=this.host:(this.hostname&&(e+=this.hostname),this.port&&(e+=":"+this.port)),this.pathname&&(e+=Rr(this.pathname)),this.search?e+=X(this.search,"?"):this.query&&(t=Z(this.query),t&&(e+="?"+t)),this.hash&&(e+=X(this.hash,"#")),e},$r=function(){var t,e,n=[];for(t=0;t<arguments.length;t++)e=arguments[t],e&&ue(e)&&n.push(e);return J.normalize(n.join("/"))},Br=function(t){for(var e=t.length-1,n=0,r=e;e>=n&&!t[n];n++);for(;r>=0&&!t[r];r--);return 0===n&&r===e?t:n>r?[]:t.slice(n,r+1)},Yr=function(t,e){var n,r,i,o,u,s,a,c;for(n=new J(t),r=new J(e),i=Br(n.pathname.split("/")),o=Br(r.pathname.split("/")),u=Math.min(i.length,o.length),s=u,a=0;u>a;a++)if(i[a]!==o[a]){s=a;break}for(c=[],a=s;a<i.length;a++)c.push("..");return c=c.concat(o.slice(s)),c.join("/")},Qr=function(){for(var t,e,n="",r=!1,i=arguments.length;i--;)if(""!==arguments[i]&&(t=new J(arguments[i]),e||(e=t),r||(n=t.pathname+"/"+n,r=t.isAbsolute()),t.host)){e.host=t.host,e.protocol=t.protocol;break}return n=Pr(n.split("/"),!r).join("/"),e.pathname=(r?"/":"")+n,e.format()};Pe(J.prototype,{format:Wr,isAbsolute:Hr,parse:Fr,toObject:function(){for(var t={},e=Rt(this),n=0;n<e.length;n++)t[e[n]]=this[e[n]];return t}}),J.format=function(t){return Wr.call(t)},J.isAbsolute=function(t){return new J(t).isAbsolute()},J.join=$r,J.normalize=function(t){return new J(t).href},J.parse=function(t,e){return new J(t,e)},J.relative=Yr,J.resolve=Qr;var Kr=/^\/+|\/+$/g,Xr=function(t){return t.replace(Mr,"\\$&").replace(Ur,"(?:$1)?").replace(Nr,function(t,e){return e?t:"([^/?]+)"}).replace(Ir,"([^?]*)")},Gr=t(function(t){var e=new RegExp("^"+Xr(t)),n=(t.match(qr)||[]).map(function(t){return t.slice(1)});return{regexp:e,names:n}});tt.prototype={constructor:tt,normalize:function(t){return X(new J(t).fragment,"/")},route:function(t,e,n){var r=new tt(t,e,n,this);return this.routes.push(r),this},setCallback:function(t){return this.callback=t,this},setDefaultCallback:function(t){return this.defaultCallback=t,this},triggerRoutes:function(t,e){var n,r,i=0,o=this.routes.length,u=function(t,r){var i=n.params.names[r];e[i]=t?decodeURIComponent(t):null};for(t=this.normalize(t),this.callback&&this.callback(e,t);o>i;i++)if(n=this.routes[i],r=t.match(n.params.regexp))return e={},r.slice(1).forEach(u),void n.triggerRoutes(t,e);this.defaultCallback&&this.defaultCallback(t)}};var Zr;et.extend=Fe,Pe(et.prototype,tt.prototype,{constructor:et,_join:function(t){return"/"!==this.root?this.root+t:t},checkUrl:function(){return this.triggerRoutes(this.getFragment())},getFragment:function(){var t=this.root,e=this.location,n=e.pathname+e.search+e.hash;return 0===n.indexOf(t)&&(n=n.slice(t.length)),this.fragment=this.normalize(n)},start:function(t){this._started||(this._started=!0,this.root=this.normalize(t&&t.root),this.checkUrl(),this.window.on("popstate",this.checkUrl,this))},stop:function(){this._started&&(this._started=!1,this.window.off("popstate",this.checkUrl,this))},navigate:function(t,e){return this._started?(e&&e!==!0||(e={replace:!!e}),t=this.normalize(t),void(this.fragment!==t&&(this.fragment=t,this.history[e.replace?"replaceState":"pushState"]({},Gt.title,this._join(t)),this.triggerRoutes(t)))):!1},redirect:function(t,e){var n=this.navigate.bind(this,e);this.route(t,function(){this.setCallback(n)})}});var Jr="@@__MOTA_PROMISE__@@",ti=0,ei=1,ni=2,ri=function(){return"object"==typeof process&&"[object process]"===process.toString()&&process.nextTick?function(t){process.nextTick(t)}:"function"==typeof setImmediate?function(t){setImmediate(t)}:function(t){setTimeout(t,0)}}(),ii=function(t){var e=this;this.value=null,this.state=ti,this.queue=[],this.handlers={fulfill:st,reject:at},ne(t)&&t(function(t){ot(e,t)},function(t){rt(e,ni,t)})};ii.prototype[Jr]=!0,ii.prototype.then=function(t,e){var n=new ii;return ne(t)&&(n.handlers.fulfill=t),ne(e)&&(n.handlers.reject=e),this.queue.push(n),ut(this),n};var oi="catch";ii.prototype[oi]=function(t){return this.then(null,t)};var ui="finally";ii.prototype[ui]=function(t){return this.then(function(e){return ii.resolve(t()).then(function(){return e})},function(e){return ii.resolve(t()).then(function(){throw e})})},ii.prototype.done=function(t,e){this.then(t,e)[oi](ct)},ii.resolved=ii.resolve=function(t){return new ii(function(e){e(t)})},ii.rejected=ii.reject=function(t){return new ii(function(e,n){n(t)})},ii.deferred=ii.defer=function(){var t,e;return{promise:new ii(function(n,r){t=n,e=r}),resolve:t,reject:e}},ii.all=function(t){return new ii(function(e,n){var r=[],i=0,o=0;return On(t,function(t){var u=o++;i++,ii.resolve(t).then(function(t){r[u]=t,i--,0===i&&e(r)},n)},null,!1),0===o?e(r):void 0})},ii.race=function(t){return new ii(function(e,n){On(t,function(t){ii.resolve(t).then(e,n)},null,!1)})};var si={},ai=5,ci=32,hi=ci-1,li=ci/2,fi=ci/4,pi="@@__MOTA_MAP__@@",di=function(t){return t&&this.owner===t},vi=function(t){for(var e,n=this.children,r=0,i=n.length;i>r;r++)if(e=n[r],e&&e.forEach(t)===!1)return!1},mi=function(t,e,n){var r,i,o,u=t.length-1;if(n&&e===u)return t.pop(),t;for(r=new Array(u),i=o=0;u>i;i++)i===e&&(o=1),r[i]=t[i+o];return r},gi=function(t,e,n,r){var i,o,u;if(r)u=t;else for(i=0,o=t.length,u=new Array(o);o>i;i++)u[i]=t[i];return void 0!==e&&(u[e]=n),u};Pe(ht.prototype,{isLeaf:!0,isEditable:di,forEach:vi,lookup:function(t,e,n,r){for(var i,o=0,u=this.children.length;u>o;o++)if(i=this.children[o],ze(i.key,n))return i.value;return r},modify:function(t,e,n,r,i){void 0===n&&(n=s(r));var o,u,a,c,h,l,f,p,d,v;if(n!==this.hash)return o=i.get(i.notSetValue),(a=o===i.notSetValue)?this:(i.changeValue=!0,i.changeSize=!0,Ei(this,t,e,new pt(t,n,r,o)));for(f=this.children,c=0,h=f.length;h>c;c++)if(v=f[c],ze(v.key,r)){u=v.value;break}return l=h>c,o=i.get(l?u:i.notSetValue),a=o===i.notSetValue,(l?v.value===o:a)?this:(i.changeValue=!0,(a||!l)&&(i.changeSize=!0),a&&2===h?(v=f[1^c],new pt(t,this.hash,v.key,v.value)):(p=this.isEditable(t),d=p?f:gi(f),l?a?c===h-1?d.pop():d[c]=d.pop():d[c]=new pt(t,n,r,o):d.push(new pt(t,n,r,o)),p?(this.children=d,this):new ht(t,this.hash,d)))}});var yi=function(t,e,n,r){var i,o,u,s=t.length+1;if(r&&e+1===s)return t[e]=n,t;for(i=new Array(s),o=u=0;s>o;o++)o===e?(i[o]=n,u=-1):i[o]=t[o+u];return i},_i=function(t,e,n,r){for(var i,o=new Array(n),u=0,s=0,a=0,c=1,h=e.length;h>a;a++)i=e[a],i&&a!==r&&(s|=c,o[u++]=i),c<<=1;return new ft(t,s,o)};Pe(lt.prototype,{isEditable:di,forEach:vi,lookup:function(t,e,n,r){void 0===e&&(e=s(n));var i=this.children[(0===t?e:e>>>t)&hi];return i?i.lookup(t+ai,e,n,r):r},modify:function(t,e,n,r,i){void 0===n&&(n=s(r));var o,u,a,c,h=(0===e?n:n>>>e)&hi,l=this.children,f=l[h];if(!f&&i.get(i.notSetValue)===i.notSetValue)return this;if(o=xi(f,t,e+ai,n,r,i),o===f)return this;if(u=this.count,f){if(!o&&(u--,fi>u))return _i(t,l,u,h)}else u++;return a=this.isEditable(t),c=gi(l,h,o,a),a?(this.count=u,this.children=c,this):new lt(t,u,c)}});var bi=function(t){return t-=t>>1&1431655765,t=(858993459&t)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,127&t},wi=function(t,e,n,r,i){for(var o=new Array(ci),u=0,s=0;n;u++)1&n&&(o[u]=e[s],s++),n>>>=1;return o[r]=i,new lt(t,s+1,o)};Pe(ft.prototype,{isEditable:di,forEach:vi,lookup:function(t,e,n,r){void 0===e&&(e=s(n));var i=1<<((0===t?e:e>>>t)&hi),o=this.bitmap;return o&i?this.children[bi(o&i-1)].lookup(t+ai,e,n,r):r},modify:function(t,e,n,r,i){void 0===n&&(n=s(r));var o,u,a,c,h,l,f,p,d=(0===e?n:n>>>e)&hi,v=1<<d,m=this.bitmap,g=0!==(m&v);return g||i.get(i.notSetValue)!==i.notSetValue?(o=bi(m&v-1),a=this.children,c=g?a[o]:void 0,h=xi(c,t,e+ai,n,r,i),h===c?this:(u=a.length,!g&&h&&u>=li?wi(t,a,m,d,h):g&&!h&&2===u&&a[1^o].isLeaf?a[1^o]:g&&h&&1===u&&h.isLeaf?h:(l=this.isEditable(t),f=g?h?m:m^v:m|v,p=g?h?gi(a,o,h,l):mi(a,o,l):yi(a,o,h,l),l?(this.bitmap=f,this.children=p,this):new ft(t,f,p)))):this}});var Ei=function(t,e,n,r){var i,o,u=t.hash,s=r.hash;return u===s?new ht(e,u,[r,t]):(i=u>>>n&hi,o=s>>>n&hi,new ft(e,1<<i|1<<o,i===o?[Ei(t,e,n+ai,r)]:o>i?[t,r]:[r,t]))};Pe(pt.prototype,{isLeaf:!0,isEditable:di,lookup:function(t,e,n,r){return ze(this.key,n)?this.value:r},modify:function(t,e,n,r,i){var o=ze(this.key,r),u=i.get(o?this.value:i.notSetValue),a=u===i.notSetValue;return(o?this.value===u:a)?this:(i.changeValue=!0,a?void(i.changeSize=!0):o?this.isEditable(t)?(this.value=u,this):new pt(t,this.hash,r,u):(i.changeSize=!0,void 0===n&&(n=s(r)),Ei(this,t,e,new pt(t,n,r,u))))},forEach:function(t){return t(this)}});var xi=function(t,e,n,r,i,o){var u;if(!t){if(u=o.get(o.notSetValue),u===o.notSetValue)return;return void 0===r&&(r=s(i)),o.changeValue=!0,o.changeSize=!0,new pt(e,r,i,u)}return t.modify(e,n,r,i,o)},ji=function(t,e){return{changeSize:!1,changeValue:!1,notSetValue:e,func:t,get:dt}},ki=0,Ai=1,Si=2,Ci=function(t,e,n){this.__type=void 0===e?Si:e,this.__reverse=n,this.__stack=t.__root&&vt(t.__root)};Ci.prototype={constructor:Ci,next:function(){for(var t,e,n,r,i,o=this.__type,u=this.__reverse,s=this.__stack;s;){if(t=s.node,e=t.children,n=s.index++,e){if(r=e.length-1,r>=n){if(i=e[u?r-n:n]){if(!i.children)return gt(i.key,i.value,o);s=this.__stack=vt(i,s)}continue}}else if(0===n)return gt(t.key,t.value,o);s=this.__stack=this.__stack.prev}return mt()},toString:function(){return"[object MotaMap Iterator]"}},ye(Ci.prototype,"iterator",function(){return this});var Ti={},Mi={get:function(t,e){var n=this.__root;return n?n.lookup(0,void 0,t,e):e},has:function(t){return Ti!==this.get(t,Ti)},set:function(t,e){var n=ji(void 0,Ti);return n.value=e,yt(this,t,n)},remove:function(t){var e=ji(void 0,Ti);return e.value=Ti,yt(this,t,e)},update:function(t,e,n){return yt(this,t,ji(e,n))},__triggerChangeEvent:function(){if(this.isMutable()){var t=this.__changes;if(this.__changes=[],t&&t.length)return this.trigger("change",t),!0}return!1},clear:function(){if(this.isImmutable())return Ui;if(this.hasListeners()){var t=this.__changes;t||(t=this.__changes=[]),this.forEach(function(e,n){t.push({type:"delete",key:n,name:n,oldValue:e})})}return this.size=0,this.__root=void 0,this.__triggerChangeEvent(),this},count:function(){return this.size},keys:function(){return new Ci(this,ki,!1)},values:function(){return new Ci(this,Ai,!1)},entries:function(){return new Ci(this,Si,!1)},forEach:function(t,e){var n,r=this,i=0;return this.size&&(n=C(t,e),this.__root.forEach(function(t){return i++,n(t.value,t.key,r)})),i},isMutable:function(){return!!this.__owner},isImmutable:function(){return!this.__owner},asMutable:function(){return this.isMutable()?this:xt(!0,this.size,this.__root)},asImmutable:function(){return this.isMutable()?this.size?xt(!1,this.size,this.__root):Ui:this},clone:function(){return this.isImmutable()?this:xt(!0,this.size,this.__root)},merge:function(t,e){var n,r,i;return t?this===Ui&&_t(t)&&t.isImmutable()?t:(n=this.asMutable(),r=!1,i=qe(t),On(t,function(t,o){i&&(o=t[0],t=t[1]);var u=ji(void 0,Ti);u.value=t,e===si?(yt(n,o,u,e),u.changeValue&&(r=!0)):yt(n,o,u,!0)}),r||n.__triggerChangeEvent()?n===this?n:n.asImmutable():this):this}};Mi[pi]=!0,Mi.pairs=Mi.entries,Mi.unset=Mi["delete"]=Mi.remove,bt.isMap=_t,wt.isMap=_t,Et(bt.prototype,Mi),Et(wt.prototype,Mi),Pe(bt.prototype,In);var Ui=xt(!1,0,void 0);return jt(kt,"VERSION","0.10.1",!0),jt(kt,"__DEV__",!1,!1),jt(kt,"developmentMode",!1,!1),He.hashCode=s,He.extend(kt,He,{Events:In,Map:bt,ImmutableMap:wt,path:J,Promise:ii,Router:et,util:He,view:Tr,setWindow:Zt}),kt});
//# sourceMappingURL=mota.min.js.map