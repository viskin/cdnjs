/*!
 * MotaJS v0.9.2
 * http://motapc.js.org/motajs
 *
 * Released under the MIT license
 * https://github.com/motapc97/MotaJS/blob/master/LICENSE.md
 *
 * Project
 * https://github.com/motapc97/MotaJS
 *
 * Date: 2015-08-28T14:27Z
 */
!function(t){if("function"==typeof define&&define.amd)define(function(){return t()});else if("undefined"!=typeof exports){var e=t();"undefined"!=typeof module&&module.exports&&(exports=module.exports=e),exports.mota=e}else window.mota=t()}(function(){function t(){}function e(t){return t>>>1&1073741824|3221225471&t}function n(t){var n,r=t.length,i=r>Y,o=i&&X[t];if(!o&&0!==o){for(o=0,n=0;r>n;n++)o=31*o+t.charCodeAt(n)|0;o=e(o),i&&(B===$&&(B=0,X={}),B++,X[t]=o)}return o}function r(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}function i(t,n){return t=Q(t,3432918353),t=Q(t<<15|t>>>-15,461845907),t=Q(t<<13|t>>>-13,5),t=(t+3864292196|0)^n,t=Q(t^t>>>16,2246822507),t=Q(t^t>>>13,3266489909),e(t^t>>>16)}function o(t){var e=!1,n=!0,o=e?1:0,a=t.forEach(n?e?function(t,e){o=31*o+r(u(t),u(e))|0}:function(t,e){o=o+r(u(t),u(e))|0}:e?function(t){o=31*o+u(t)|0}:function(t){o=o+u(t)|0});return i(o,a)}function a(e){return t.get(e,"hash")}function u(r){var i,u;if(!r)return 0;if("function"==typeof r.valueOf&&(r=r.valueOf(),!r))return 0;if(r===!0)return 1;if(i=typeof r,"number"===i){for(u=0|r,u!==r&&(u^=4294967295*r);r>4294967295;)r/=4294967295,u^=r;return e(u)}return"string"===i?n(r):(u=a(r),void 0!==u?u:("function"==typeof r.isImmutable&&r.isImmutable()?u=o(r):(u=W++,1073741824&W&&(W=1)),t.setup(r,"hash",u),u))}function s(t,e){return null==e?t():t.call(e)}function h(t,e){switch(e.length){case 0:return t();case 1:return t(e[0]);case 2:return t(e[0],e[1]);case 3:return t(e[0],e[1],e[2]);case 4:return t(e[0],e[1],e[2],e[3]);case 5:return t(e[0],e[1],e[2],e[3],e[4]);default:return t.apply(void 0,e)}}function c(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2]);case 4:return t.call(e,n[0],n[1],n[2],n[3]);case 5:return t.call(e,n[0],n[1],n[2],n[3],n[4]);default:return t.apply(e,n)}}function l(t,e,n){return t?n?null==e?h(t,n):c(t,e,n):s(t,e):void 0}function f(t,e){return function(){for(var n=0;n<t.length;n++)l(t[n],this,arguments);return l(e,this,arguments)}}function p(t,e){for(var n=e,r=n+1,i=t.length;i>r;n+=1,r+=1)t[n]=t[r];t.pop()}function d(t){this.data=t}function g(){this.ignore=0,this.flushingUpdates=!1,this.pendingCallbacks=void 0,this.dirtyComponents=new be(xe)}function v(t){t.componentWillUnmount&&t.componentWillUnmount();var e=0,n=t.__internal__.children;for(Me.remove(t.el),t.el=t.props=t.__internal__=void 0;e<n.length;e++)v(n[e])}function m(){this.__internal__=new Mn}function y(t){var e,n,r,i,o={},a=0;if(!t)return o;for(e=t.split("&");a<e.length;a++)n=e[a].split("="),r=decodeURIComponent(n[0]),i=n[1]?decodeURIComponent(n[1]):"",void 0!==o[r]?qt(o[r])?o[r].push(i):o[r]=[o[r],i]:o[r]=i;return o}function _(t,e){return t.charAt(0)===e?t:e+t}function b(t,e){return t.charAt(t.length-1)===e?t:t+e}function w(t){if("string"==typeof t)return t;var e,n,r,i,o,a="";for(e in t)if(n=encodeURIComponent(e),r=t[e],qt(r))for(o=0;o<r.length;o++)i=r[o]?encodeURIComponent(r[o]):"",a+="&"+n+"="+i;else i=r?encodeURIComponent(r):"",a+="&"+n+"="+i;return a.substring(1)}function x(t,e){Qn.call(this,t,e)}function j(t,e,n,r){vt(e)&&(n=e,e=t,t=void 0),e||Kt("mota.Router.route","Provide a non-empty path"),this.name=t,this.parent=r,this.path=(r.path||"")+"/"+e.replace(Jn,""),this.params=er(this.path),this.routes=[],n.call(this)}function k(){this.routes=[],this.history=ct.history,this.location=this.history&&this.history.location||ct.location,this.window=nr||(nr=Pn.select(ct)),this._hasPushState=!(!this.history||!this.history.pushState),this.initialize&&l(this.initialize,this,arguments)}function E(t,e,n){this.owner=t,this.count=e,this.children=n}function S(t,e,n){this.owner=t,this.bitmap=e,this.children=n}function C(t,e,n){this.owner=t,this.hash=e,this.children=n}function M(t,e,n,r){this.owner=t,this.hash=e,this.key=n,this.value=r}function z(t){var e=this.func;return this.oldValue=t,e&&(this.value=e(t),this.func=void 0),this.value}function A(t,e){return null==e?t:function(n,r,i){return t.call(e,n,r,i)}}function T(t,e){for(var n=0;n<t.length;n++)e(t[n],n,t)}function P(t,e,n){for(var r,i=0;!(r=n.next()).done;)e(r.value,i,t),i++}function U(t,e,n){for(var r,i;!(r=n.next()).done;)i=r.value,e(i[1],i[0],t)}function N(t,e){for(var n,r=0,i=it(t);r<i.length;r++)n=i[r],e(t[n],n,t)}function R(t,e){return{node:t,index:0,prev:e}}function I(){return{value:void 0,done:!0}}function V(t,e,n){return{value:n===Sr?[t,e]:n===kr?t:e,done:!1}}function L(t){return t===Ar?this:Pr(t)?t:this instanceof L?(this.size=0,this.__owner={},void this.merge(t,zr)):new L(t)}function O(t,e,n,r){var i,o,a,u,s,h=t.isMutable();return a=h?t:Ur(),a.__root=wr(t.__root,a.__owner,0,void 0,e,n),n.changeValue?(i=n.value,o=i===n.notSetValue,a.size=t.size+(n.changeSize?o?-1:1:0),a.size||h?(h&&r!==zr&&(u={type:o?"delete":n.changeSize?"add":"update"},u.key=u.name=e,o?u.oldValue=n.oldValue:(u.value=u.newValue=i,n.changeSize||(u.oldValue=n.oldValue)),s=t.__changes,s||(s=t.__changes=[]),s.push(u),r||t.__triggerChangeEvent()),a):Rr):t}function q(){}function D(t,e,n,r){Object.defineProperty(t,e,{configurable:!1,enumerable:r,value:n,writable:!1})}var F="__mota__"+(""+Math.random()).replace(/\D/g,""),H=Object.defineProperty;t.setup=function(e,n,r,i){var o=e[F];return o||(o=new t,i?e[F]=o:H(e,F,{writable:!0,value:o})),n?o[n]?o[n]:o[n]=r:o},t.get=function(t,e){var n=t[F];return e?n&&n[e]:n},t.set=function(t,e,n){var r=t[F];return r?r[e]=n:void 0},t.del=function(e,n){var r=e[F];if(r){if(!n)return!!(e[F]=new t);if(null!=r[n])return!(r[n]=void 0)}return!1};var W=1,Y=16,$=255,B=0,X={},Q=Math.imul;("function"!=typeof Q||-2!==Q(4294967295,2))&&(Q=function(t,e){var n=t>>>16&65535,r=65535&t,i=e>>>16&65535,o=65535&e;return r*o+(n*o+r*i<<16>>>0)|0});var G=function(t,e){console.warn?console.warn(t+" WARNS: "+e):console.log(t+" WARNS: "+e)},K=function(t,e){var n,r;for(n in e)if(r=e[n],r&&!r(t[n],n,t))return!1;return!0},J={},Z=function(t){return t=t?t+"":"",J[t]||(J[t]=0),t+ ++J[t]},tt={}.toString,et={"[object Array]":"array","[object Boolean]":"boolean","[object Date]":"date","[object Error]":"error","[object Function]":"function","[object Number]":"number","[object Object]":"object","[object RegExp]":"regexp","[object String]":"string"},nt=function(t){var e=typeof t;return"object"===e||"function"===e?null===t?"null":et[tt.call(t)]||"object":e},rt=function(t){var e;return!!t&&("function"==(e=typeof t)||"object"===e)},it=Object.keys,ot=function(t,e){if(!rt(t))return[];if(e){var n,r=[];for(n in t)r.push(n);return r}return it(t)},at=function(t){for(var e=ot(t),n=e.length,r=Array(n),i=0;n>i;i++)r[i]=[e[i],t[e[i]]];return r},ut=[],st=ut.slice,ht=function(t,e){return function(){return l(t,e,st.call(arguments))}},ct="object"==typeof self&&self.self==self&&self||"object"==typeof global&&global.global==global&&global,lt=ct&&ct.document,ft=function(t){ct=t,lt=t&&t.document},pt=ct.mota,dt=function(){return pt&&(ct.mota=pt),this},gt=function(t){return"function"===nt(t)};"function"!=typeof/./&&"object"!=typeof Int8Array&&(gt=function(t){return"function"==typeof t||!1});var vt=gt,mt=function(t,e){var n,r,i,o=t&&t.prototype,a={};if(!o)return t;for(var u=0;u<e.length;u++){n=e[u];for(r in n)a[r]||(a[r]=[]),a[r].push(n[r])}for(r in a)i=o[r],o[r]=f(a[r],vt(i)&&i);return t},yt=function(t,e){console.log(t+" LOG: "+e)},_t="[object process]"===("undefined"!=typeof global&&global&&toString.call(global.process)),bt="[object Window]",wt="[object global]",xt=function(t){if(!t||"object"!=typeof t)return!1;if(!_t&&t.window!==t)return!1;var e=tt.call(t);return e===bt||e===wt},jt=function(t){return void 0===t},kt=function(t){return"string"===nt(t)},Et=function(t){return"regexp"===nt(t)},St={}.hasOwnProperty,Ct=function(t,e){return null!=t&&St.call(t,e)},Mt=function(t){var e;return!t||"object"!=typeof t||"[object Object]"!==tt.call(t)||Ct(t,"constructor")?!1:(e=t.constructor)?vt(e)&&e instanceof e:!0},zt=function(t){return"object"===nt(t)},At=function(t){return"number"===nt(t)},Tt=function(t){return null===t},Pt=function(t){return null==t},Ut=function(t){return t!=+t&&At(t)},Nt=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},Rt=function(t){return"error"===nt(t)},It=function(t,e,n){if(t===e)return n?0!==t||1/t==1/e:!0;if(t!==t)return e!==e;if(null==t||null==e)return t===e;var r=typeof t;if("function"!==r&&"object"!==r&&"object"!=typeof e)return!1;var i=tt.call(t);if(i!=tt.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return t=+t,e=+e,t!==t?e!==e:t===e?n?0!==t||1/t==1/e:!0:!1;case"[object Date]":case"[object Boolean]":return+t===+e}return i},Vt=function(t,e,n,r){var i=It(t,e,!0);if(i===!0||i===!1)return i;var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,u=e.constructor;if(!(a===u||Mt(t)&&Mt(e)))return!1}n=n||[],r=r||[];for(var s=n.length;s--;)if(n[s]===t)return r[s]===e;if(n.push(t),r.push(e),o){if(s=t.length,s!==e.length)return!1;for(;s--;)if(!Vt(t[s],e[s],n,r))return!1}else{var h,c=ot(t);if(s=c.length,ot(e).length!==s)return!1;for(;s--;)if(h=c[s],!Ct(e,h)||!Vt(t[h],e[h],n,r))return!1}return n.pop(),r.pop(),!0},Lt=function(t,e){return Vt(t,e)},Ot=function(t){return"[object Arguments]"===tt.call(t)},qt=Array.isArray,Dt=function(t){if(null==t)return!0;if(qt(t)||kt(t)||Ot(t))return 0===t.length;for(var e in t)if(Ct(t,e))return!1;return!0},Ft=function(t){return t&&1===t.nodeType?_t?!0:tt.call(t).indexOf("Element")>-1:!1},Ht="[object HTMLDocument]",Wt="[object Document]",Yt=function(t){var e;if(!t||null!==t.parentNode||!(e=t.defaultView))return!1;if(_t)return xt(e);var n=tt.call(t);return n===Ht||n===Wt},$t=function(t){return"date"===nt(t)},Bt=function(t){return t===!0||t===!1||"boolean"===nt(t)},Xt=Math.pow(2,53)-1,Qt=function(t){var e,n=nt(t);return"array"===n?!0:"object"!==n||xt(t)?!1:(e="length"in t&&t.length,0===e?!0:"number"==typeof e&&e>0&&Xt>=e&&e-1 in t)},Gt=function(t,e){var n=It(t,e);if(n===!0||n===!1)return n;if(t.size!==e.size)return!1;if(t.isMutable&&e.isMutable&&!t.isMutable()&&!e.isMutable()){var r=a(t),i=a(e);if(null!=r&&null!=i&&r!==i)return!1;var o=!0,u={};return t.forEach(function(t,n){var r=e.get(n,u);return r!==u&&Gt(t,r)?void 0:o=!1}),o}return!1},Kt=function(t,e){throw t+" ERROR: "+e},Jt=function(t,e){return function(n){var r,i,o,a,u,s,h=arguments.length;if(2>h||null==n)return n;for(r=1;h>r;r++)for(i=arguments[r],o=ot(i,t),a=o.length,u=0;a>u;u++)s=o[u],e&&void 0!==n[s]||(n[s]=i[s]);return n}},Zt=Jt(!0,!0),te=function(t){var e,n,r,i,o,a,u=1,s=arguments.length,h=!1;if(t===!0&&(h=t,t=arguments[u],u++),!rt(t))return t;for(;s>u;u++)if(null!=(e=arguments[u]))for(n in e)r=t[n],i=e[n],t!==i&&(h&&i&&("object"===(o=nt(i))||"array"===o)?(a="array"===o?r&&qt(r)?r:[]:r&&zt(r)?r:{},t[n]=te(h,a,i)):void 0!==i&&(t[n]=i));return t},ee=function(t){var e,n,r;if(t===!0&&Ct(arguments,1)&&(e=t,t=arguments[1]),!rt(t))return t;switch(nt(t)){case"array":return e?te(e,[],t):st.call(t);case"number":case"string":case"date":case"boolean":return new(n=t.constructor)(t);case"regexp":return n=t.constructor,r=new n(t),r.lastIndex=t.lastIndex,r;default:return e?te(e,{},t):te({},t)}},ne=Object.create,re=function(t,e,n){var r,i,o=this;return i=t&&Ct(t,"constructor")?t.constructor:o,r=n?function(){var t=ne(r.prototype),e=l(i,t,arguments);return rt(e)?e:t}:function(){return l(i,this,arguments)},r.prototype=ne(o.prototype),r.prototype.constructor=r,t&&te(r.prototype,t),te(r,o,e),r.__super__=o.prototype,r},ie={apply:l,classExtend:re,clone:ee,extend:te,defaults:Zt,err:Kt,has:Ct,is:Gt,isArguments:Ot,isArray:qt,isArrayLike:Qt,isBoolean:Bt,isDate:$t,isDocument:Yt,isElement:Ft,isEmpty:Dt,isEqual:Lt,isError:Rt,isFinite:Nt,isFunction:vt,isNaN:Ut,isNil:Pt,isNull:Tt,isNumber:At,isObject:zt,isObjectLike:rt,isPlainObject:Mt,isRegExp:Et,isString:kt,isUndefined:jt,isWindow:xt,keys:ot,log:yt,mixin:mt,noConflict:dt,noPartial:ht,pairs:at,type:nt,uniqueId:Z,validate:K,warn:G},oe=Date.now,ae=ut.indexOf,ue=function(t,e){var n,r,i;for(t.length>e.length?(n=e,r=t):(n=t,r=e),i=n.length;i--;)if(-1!==ae.call(r,n[i]))return!0;return!1},se=function(t,e,n,r,i){var o,a,u,s="getFirst"===i,h="trigger"===i,c=n?n.length:0,l=r.type,f=r.namespaces,p=r.handler,d=r.context;for(a=0;c>a&&(o=n[a],o!==r&&(r._listener===!0||!(!l||Gt(o.type,l)||h&&o.isRegExp&&(u=l.match(o.type)))||p&&o.handler!==p||!(!f||0===f.length||o.namespaces&&ue(o.namespaces,f))||d&&o.context!==d)||(t.push([o,{index:a,match:{string:l,match:u}}]),!s));a++);return t},he=/\S+/g,ce=/\.[^.]+/g,le=/^[^.]+/g,fe=function(t){this.type=t.type,this.namespaces=t.namespaces,this.handler=t.handler,this.context=t.context,this.isRegExp=t.isRegExp,this.once=!1,this._listener=!0},pe=function(t,e){var n,r,i,o,a,u,s,h=t.eventType,c=t.handler,l=t.context;if(t._listener)e.push(t);else if(s=nt(h),a="regexp"===s)e.push({type:h,handler:c,context:l,isRegExp:a});else if("object"===s){u=h,c&&(l=c);for(h in u)pe({eventType:h,handler:u[h],context:l},e)}else for(h=(h||"").match(he)||[""],r=h.length,n=0;r>n;n++)i=(h[n].match(le)||[])[0],o=h[n].match(ce),e.push({type:i,namespaces:o,handler:c,context:l,isRegExp:a});return e},de=function(e,n,r,i,o){var a,u,s,h,c,l;if(e){if(s="on"===n?t.setup(e,"events",[]):t.get(e,"events"),h=pe(i,[]),"on"===n)for(a=0;a<h.length;a++)h[a].type&&h[a].handler&&r.call(e,s,new fe(h[a]),void 0,o);else{for(c=[],a=0;a<h.length;a++)se(c,e,s,h[a],n);for(u=0;u<c.length&&(l=c[u],r.call(e,s,l[0],l[1],o)!==!1);u++);}return e}},ge=function(t,e,n,r){e.handler=void 0,p(t,n.index-r.value),r.value++},ve=function(t,e,n){return de(this,"off",ge,{eventType:t,handler:e,context:n},{value:0})},me=function(t,e,n){e.once&&(e.handler=void 0,de(this,"off",ge,e,{value:0}))},ye=function(t,e,n,r){var i=e.handler;me.call(this,t,e,n),l(i,void 0!==e.context?e.context:this,r)},_e=function(t){return de(this,"trigger",ye,{eventType:t},st.call(arguments,1))};d.prototype={add:function(t,e){var n=e(this.data,t);n>0?this.left?this.left.add(t,e):this.left=new d(t):this.right?this.right.add(t,e):this.right=new d(t)},traverse:function(t){var e=this.left,n=this.right;e&&e.traverse(t),t.call(this,this.data),n&&n.traverse(t)}};var be=function(t){this.comparator=t};be.prototype={isEmpty:function(){return!this.root},add:function(t){this.root?this.root.add(t,this.comparator):this.root=new d(t)},reset:function(){this.root=void 0},resetAndTraverse:function(t){var e=this.root;this.root=void 0,e&&e.traverse(t)}};var we=function(t){var e=t.__internal__;e&&e.queued&&e.update(t,e.force?"forceUpdate":"update",null,null,null,null,e.renderToString)},xe=function(t,e){return t.__internal__.depth-e.__internal__.depth};g.prototype={constructor:g,startIgnore:function(){this.ignore++},endIgnore:function(){this.ignore--,this.flushUpdates()},flushUpdates:function(){var t,e,n;if(!this.flushingUpdates&&!this.ignore&&!this.dirtyComponents.isEmpty()){for(this.flushingUpdates=!0,t=this.pendingCallbacks=[],this.dirtyComponents.resetAndTraverse(we),this.pendingCallbacks=void 0,e=0;e<t.length;e++)n=t[e],n.component[n.methodName](n.arg);this.flushingUpdates=!1,this.flushUpdates()}},queueUpdate:function(t){this.dirtyComponents.add(t),this.flushUpdates()},queueCallback:function(t,e,n){this.flushingUpdates!==!0&&Kt("mota.view Internal","Only queue callbacks during update process."),t[e]&&this.pendingCallbacks.push({component:t,methodName:e,arg:n})},error:function(t){this.ignore=0,this.flushingUpdates=!1,this.pendingCallbacks=void 0,this.dirtyComponents.reset(),Kt("mota.view.Component.update",t)}};var je=new g,ke={},Ee=1,Se="vComp",Ce=function(t){return t.nodeType&&3!==t.nodeType?1:t===t.window?2:0},Me={add:function(e){var n,r=e.el,i=Ce(r);return i?(n=t.get(r,Se),n||(n=Ee++,t.setup(r,Se,n,1===i)),ke[n]=e):void 0},remove:function(e){var n=Ce(e)&&t.get(e,Se);n&&(ke[n]=null)},get:function(e){return ke[Ce(e)&&t.get(e,Se)]}},ze=/^on/,Ae={},Te=function(t){Ae[t]=!0,Object.defineProperty(Pe.prototype,t,{enumerable:!0,configurable:!0,get:function(){var e,n;return this.originalEvent&&(n=Ie[t],e=n?n(this.originalEvent,this.target):this.originalEvent[t]),this[t]=e},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},Pe=function(t){var e,n;t&&t.type?(this.originalEvent=t,this.type=t.type):this.type=t;for(e in this.originalEvent)Ae[e]||null!=this[e]||Te(e);this.type in Re&&(this.type=Re[this.type]),this.timeStamp||(this.timeStamp=oe()),n=this.target,n&&3===n.nodeType&&(this.target=n.parentNode)};Pe.prototype={constructor:Pe,isDefaultPrevented:!1,isPropagationStopped:!1,isImmediatePropagationStopped:!1,stopPropagation:function(){this.isPropagationStopped=!0},stopImmediatePropagation:function(){this.isPropagationStopped=!0,this.isImmediatePropagationStopped=!0},preventDefault:function(){this.isDefaultPrevented=!0,this.originalEvent.preventDefault()}};var Ue=/^key/,Ne=/^(?:mouse|touch|pointer|contextmenu|drag|drop)|click/,Re={mousewheel:"wheel",DOMMouseScroll:"whell"},Ie={which:function(t){if(Ne.test(t.type)){var e=t.button;return t.which||void 0===e?t.which:1&e?1:2&e?3:4&e?2:0}return Ue.test(t.type)?null==t.which?null!=t.charCode?t.charCode:t.keyCode:t.which:void 0},pageX:function(t,e){var n,r,i;return null==t.pageX&&null!=t.clientX?(n=e.ownerDocument||lt,r=n.documentElement,i=n.body,t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0)):t.pageX},pageY:function(t,e){var n,r,i;return null==t.pageY&&null!=t.clientY?(n=e.ownerDocument||lt,r=n.documentElement,i=n.body,t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)):t.pageY},path:function(t,e){for(var n=e,r=[n];n=n.parentNode||n.defaultView;)r.push(n);return r}};ot(Ie).forEach(Te);var Ve=function(t,e,n,r){var i=e.handler;return me.call(this,t,e,n),r.isImmediatePropagationStopped?!1:(r.currentTarget=this.el,void(i&&(r.result=i.call(void 0!==e.context?e.context:this,r))))},Le=function(t){t=new Pe(t);var e,n=t.target,r=t.type,i=t.path,o=0,a=Me.get(n);for(je.startIgnore();o<i.length&&!t.isPropagationStopped&&(e=i[o],a=Me.get(e),de(a,"trigger",Ve,{eventType:r,handler:void 0,context:void 0},t),t.bubbles);o++);je.endIgnore()},Oe={pointermove:1,pointerdown:1,pointerup:1,pointerover:1,pointerout:1,pointerenter:1,pointerleave:1,pointercancel:1},qe=function(){if(ct.addEventListener){var t,e;for(t in ct)e=t.replace(ze,""),t!==e&&(e in Oe||ct.addEventListener(e,Le,!0));ot(Oe).forEach(function(t){ct.addEventListener(t,Le,!0)})}},De=function(t){if(qt(t)){var e=h(te,[{}].concat(t));return e}return t},Fe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,He=function(){return null==this?"":(this+"").replace(Fe,"")},We=function(t,e,n,r){ye(t,e,n,[n.match].concat(r))},Ye=function(t){return de(this,"trigger",We,{eventType:t},st.call(arguments,1))},$e=function(t,e,n,r){r&&(e.once=!0),t.push(e)},Be=function(t,e,n,r){return de(this,"on",$e,{eventType:t,handler:e,context:n},r)},Xe=function(t,e,n){return Be.call(this,t,e,n,!0)},Qe=function(t,e,n,r){r.value=!0},Ge=function(t,e,n){var r={value:!1};return de(this,"getFirst",Qe,{eventType:t,handler:e,context:n},r),r.value},Ke=function(t,e,n,r){r.push(e)},Je=function(t,e,n){var r=[];return de(this,"get",Ke,{eventType:t,handler:e,context:n},r),r},Ze={getListeners:Je,hasListeners:Ge,off:ve,on:Be,once:Xe,trigger:_e,triggerMatch:Ye},tn=function(t){var e,n,r,i,o="",a=0;if(!t)return"";if(e=nt(t),"array"===e)for(n=t.length;n>a;a++)t[a]&&(o+=" "+t[a]);else if("object"===e)for(r=ot(t),n=r.length;n>a;a++)i=r[a],t[i]&&(o+=" "+i);else o=t+"";return He.call(o)},en=["Webkit","Moz","ms"],nn=lt?lt.createElement("div").style:{},rn={animationIterationCount:1,boxFlex:1,boxFlexGroup:1,columnCount:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,fontWeight:1,lineClamp:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,fillOpacity:1,strokeDashoffset:1,strokeOpacity:1,strokeWidth:1},on=function(t){return t.charAt(0).toUpperCase()+t.substring(1)},an={},un=function(t){var e,n,r=t;if(void 0!==an[t])return an[t];if(t in nn)return an[t]=t,t;for(e=on(t),n=en.length;n--;)if(t=en[n]+e,t in nn)return an[r]=t,t;an[r]=!1},sn=function(t,e,n){var r,i,o;i=un(e),i&&(r=null==n||"boolean"==typeof n?"":n,o=1!==rn[i]&&At(r),r=o?r+"px":He.call(r+""),t[i]!==r&&(t[i]=r))};ot(rn).forEach(function(t){for(var e=en.length;e--;)rn[en[e]+on(t)]=1});var hn,cn=function(t,e,n,r){var i,o,a,u,s,h,c=t.el;if(n!==r)switch(e){case"key":case"data-mota":case"children":case"childNodes":case"innerHTML":case"outerHTML":return;case"daugerousInnerHTML":case"dangerouslySetInnerHTML":if(n&&r&&n.__html===r.__html)return;return void(r&&c.innerHTML!==r.__html&&(c.innerHTML=r.__html));case"style":for(u=c.style,n=De(n)||{},r=De(r)||{},h=ot(r),i=h.length;i--;)s=h[i],n[s]!==r[s]&&sn(u,s,r[s]);for(h=ot(n),i=h.length;i--;)s=h[i],void 0===r[s]&&sn(u,s,null);return;case"class":case"className":return o=tn(r),void("svg"===c.nodeName?c.getAttribute("class")!==o&&c.setAttribute("class",o):c.className!==o&&(c.className=o));default:return a=e.replace(ze,""),void(e!==a?(a=a.toLowerCase(),n&&Ze.off.call(t,a,n),r&&Ze.on.call(t,a,r)):e in c&&"list"!==e&&"form"!==e&&"type"!==e&&"width"!==e&&"height"!==e?c[e]!==r&&(c[e]=r):r?c.setAttribute(e,r+""):c.removeAttribute(e))}},ln=function(t,e){var n=t.props,r=t.type,i=void 0===r.__type?r:r.__type;return void 0===e[i]&&(e[i]=0),i+(null==n.key?":noKey:"+e[i]++:":key:"+n.key)},fn=0,pn=function(t){function e(){m.call(this)}var n,r=[];t&&vt(t.render)||Kt("mota.view.createClass","Provide an object with a `render` property containing a function"),e.displayName=t.displayName,e.validateProps=t.validateProps;for(n in t.statics)e[n]=t.statics[n];e.prototype=new m,t=te(e.prototype,t);for(n in t)vt(t[n])&&r.push(n);return t.constructor=e,t.__methods=r,e.__type=fn++,e},dn=function(t,e,n,r,i,o){var a,u,s,h,c,l,f=t.childNodes;for(s=e.length;s--;)u=e[s],u&&u.__internal__.update(u,"remove",null,null,t);for(s=0,h=n.length;h>s;s++)_t&&(f=t.childNodes),c=n[s],a=c.component,l=f.item(c.index),a.__internal__.update(a,"add",c.props,c.owner,t,l||null,i,o);for(s=0,h=r.length;h>s;s++)_t&&(f=t.childNodes),c=r[s],a=c.component,l=f.item(c.index),a.__internal__.update(a,"update",c.props,c.owner,t,l||null)},gn=function(t,e,n,r,i,o,a,u,s,h){for(var c,l,f,p,d,g,v=0,m=e.length;m>v;v++)if(p=e[v],null!=p&&p!==!1&&""!==p){if("object"==typeof p){if(qt(p)){h=gn(t,p,n,r,i,o,a,u,s,h);continue}}else p={type:"#text",props:{text:p+""}};p.type||je.error("Please provide a valid placeholder."),c=ln(p,a),g=r[c],d=vt(p.type),void 0!==g?(f=n[g],n[g]=void 0,l=f,u.push({component:l,index:h,props:d?p.props:p})):(l=d?new p.type:new hn,s.push({component:l,index:h,props:d?p.props:p,owner:d?l:t.__internal__.owner})),i[h]=l,o[c]=h,h++}return h},vn=function(t,e,n,r,i,o){hn||(hn=pn({render:function(){return this.props}}));var a=[],u={},s={},h=[],c=[],l=e.depth+1;gn(t,n,r,i,a,u,s,h,c,0),dn(t.el,r,c,h,o,l),e.children=a,e.childrenMap=u},mn=function(t,e,n){var r,i,o;for(o=ot(n),r=o.length;r--;)i=o[r],cn(t,i,e[i],n[i]);for(o=ot(e),r=o.length;r--;)i=o[r],void 0===n[i]&&cn(t,i,e[i])},yn=function(t,e){t.nodeValue!=e&&(t.nodeValue=e)},_n=function(t){return t.getAttribute("data-mota")},bn=function(t,e){return t.setAttribute&&t.setAttribute("data-mota",e),t},wn=function(t){for(var e,n=t.childNodes.length;n--;)e=t.childNodes.item(n),e.getAttribute&&"server"!==_n(e)&&t.removeChild(e)},xn=function(t,e,n){return!t||t.getAttribute&&"server"!==_n(t)?bn(e,n):t.nodeType===e.nodeType&&t.nodeName===e.nodeName&&t.nodeValue===e.nodeValue?(("HEAD"===t.nodeName||"BODY"===t.nodeName)&&wn(t),bn(t,n)):bn(e,n)},jn=function(t,e,n,r,i){var o,a,u=e.children;return"string"==typeof t?("#text"===t?o=lt.createTextNode(e.text):"#comment"===t?o=lt.createComment(u.join("\n")):(e.xmlns?a=e.xmlns:"svg"===t?a="http://www.w3.org/2000/svg":"math"===t&&(a="http://www.w3.org/1998/Math/MathML"),o=a?lt.createElementNS(a,t):lt.createElement(t)),o=xn(n,o,r?"server":"client"),r||n===o||"script"!==t&&"style"!==t||je.error("For security reasons, <script> and <style> elements are not allowed to be created. "+i)):je.error("`render` must return an object containing a `type` property with a primitive string. "+i),o},kn=function(t,e,n){var r,i,o,a,u,s={},h=t&&t.validateProps;if(null!=e)for(r in e)Ct(e,r)&&(s[r]=e[r]);if(i=arguments.length-2,1===i)s.children=qt(n)?n:[n];else if(i>1){for(o=Array(i),a=0;i>a;a++)o[a]=arguments[a+2];s.children=o}return h&&(s=h(s)||{}),u={type:t,props:s}},En={area:1,base:1,br:1,col:1,command:1,embed:1,hr:1,img:1,input:1,keygen:1,link:1,menuitem:1,meta:1,param:1,source:1,track:1,wbr:1},Sn=function(t,e,n,r,i,o){var a,u,s,h,c,l,f,p;if(a=t.render(kn)||{},u=this.cache,u!==a){if(this.cache=a,h=a.type,c=a.props||{},l=c.children||[],"add"===e?(this.owner=n,this.depth=o):n=this.owner,f=n?"Please check the code for the "+n.constructor.displayName+" component.":"","add"===e){if(u.type=h,"#ignore"===h)return void(t.el=r);t.el=jn(h,c,r,i,f)}if(s=t.el,s||je.error("The `el` property is missing. "+f),u.type&&h!==u.type&&je.error("You must not change the type of an component between updates. You have changed '"+u.type+"' to '"+h+"'. "+f),"#text"===h)return yn(s,c.text);if("#comment"===h)return yn(s,l.join("\n"));En[h]&&(null!=c.daugerousInnerHTML||null!=l&&l.length>0)&&je.error(h+" is a void element tag and must not have `children` or use `daugerousInnerHTML`. "+f),p=u.props,mn(t,p,c),En[h]||null!=c.daugerousInnerHTML||(vn(t,this,l,this.children,this.childrenMap,i),"select"===h&&cn(t,"value",p.value,c.value))}},Cn=function(t,e,n,r,i,o,a,u){var s,h,c;if(this.dontQueue=!0,"remove"===e)return c=t.el,v(t),i.removeChild(c),void(this.queued=!1);if(s=t.props,"add"===e)t.props=n,t.initialize&&t.initialize(),t.componentWillMount&&t.componentWillMount();else if("update"===e||"forceUpdate"===e){if(n?t.componentWillReceiveProps&&t.componentWillReceiveProps(n):n=t.props,"update"===e&&t.shouldComponentUpdate&&(h=t.shouldComponentUpdate(n),h===!1))return t.props=n,this.queued=!1,void(this.dontQueue=!1);t.componentWillUpdate&&t.componentWillUpdate(n),t.props=n}this.queued=!1,this.dontQueue=!1,this.updateComponent(t,e,r,o,a,u),"add"===e?(Me.add(t),o!==t.el&&i.insertBefore(t.el,o)):"update"===e&&i&&o!==t.el&&i.insertBefore(t.el,o),"add"===e?this.updater.queueCallback(t,"componentDidMount"):("update"===e||"forceUpdate"===e)&&this.updater.queueCallback(t,"componentDidUpdate",s)},Mn=function(){this.queued=!1,this.force=!1,this.renderToString=!1,this.children=[],this.childrenMap={},this.depth=0,this.updater=je};Mn.prototype={constructor:Mn,cache:kn(),queueUpdate:function(t,e,n){this.dontQueue||(this.queued?e&&(this.force=!0):(this.queued=!0,this.force=!!e,this.renderToString=!!n,this.updater.queueUpdate(t)))},update:Cn,updateComponent:Sn},te(m.prototype,Ze,{update:function(){this.__internal__.queueUpdate(this)},forceUpdate:function(){this.__internal__.queueUpdate(this,!0)},bindMethodsToThis:function(){for(var t,e,n=this.__methods.length;n--;)t=this.__methods[n],e=this[t],this[t]=ht(e,this),this[t].original=e}});var zn=function(t,e){if(t){var n=Me.get(t);if(n)return n;if(!e)return n=new m,n.el=t,Me.add(n)?n:void 0}},An=function(t){var e=zn(lt.createElement("div"));return e.render=function(e){return e(null,null,t)},e.__internal__.queueUpdate(e,!0,!0),e.el.innerHTML},Tn=function(t,e,n){var r=zn(e);return r||Kt("mota.view.render","`parent` should be an DOM element"),r.render=function(e){return e(null,null,t)},vt(n)&&(r.componentDidUpdate=function(){this.componentDidUpdate=void 0,n.call(this)}),r.update(),r.__internal__.children[0]},Pn={classSet:tn,Component:m,create:kn,createClass:pn,render:Tn,renderToString:An,select:zn,styleSet:De,events:qe()},Un=/[\-{}\[\]+?.,\\\^$|#\s]/g,Nn=/\((.*?)\)/g,Rn=/(\(\?)?:\w+/g,In=/\*\w+/g,Vn=/(?:(\(\?)?:\w+)|(?:\*\w+)/g,Ln=/^\/+/,On=/\/+$/,qn=/#.*/,Dn=/\?.*/,Fn=function(){var t,e,n=[];for(t=0;t<arguments.length;t++)e=arguments[t],e&&kt(e)&&n.push(e);return x.normalize(n.join("/"))},Hn=function(t){for(var e=t.length-1,n=0,r=e;e>=n&&!t[n];n++);for(;r>=0&&!t[r];r--);return 0===n&&r===e?t:n>r?[]:t.slice(n,r+1)},Wn=function(t,e){var n,r,i,o,a,u,s,h;for(n=new x(t),r=new x(e),i=Hn(n.pathname.split("/")),o=Hn(r.pathname.split("/")),a=Math.min(i.length,o.length),u=a,s=0;a>s;s++)if(i[s]!==o[s]){u=s;break}for(h=[],s=u;s<i.length;s++)h.push("..");return h=h.concat(o.slice(u)),h.join("/")},Yn=function(t,e){var n,r,i=[];for(n=0;n<t.length;n++)r=t[n],r&&"."!==r&&(".."===r?i.length&&".."!==i[i.length-1]?i.pop():e&&i.push(".."):i.push(r));return i},$n=function(t){var e,n;return e="/"===t.charAt(0)?"/":"",n=t.replace(Ln,"/").replace(On,e).split("/"),e+Yn(n,!e).join("/")},Bn=function(){for(var t,e,n="",r=!1,i=arguments.length;i--;)if(""!==arguments[i]&&(t=new x(arguments[i]),e||(e=t),r||(n=t.pathname+"/"+n,r=t.isAbsolute()),t.host)){e.host=t.host,e.protocol=t.protocol;break}return n=Yn(n.split("/"),!r).join("/"),e.pathname=(r?"/":"")+n,e.format()},Xn=new RegExp("^(?:(?:((?:https?|ftp):)//)(?:(\\S+(?::\\S*)?)@)?((?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*)?(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))?)(?::(\\d{2,5}))?)?(/?\\S*)?$","i"),Qn=function(t,e){var n=this,r=(t||"").match(Xn)||[];return this.auth=r[2]||"",this.hash="",this.hostname=r[3]||"",this.port=r[4]||"",this.protocol=r[1]||"",this.search="",this.host=this.hostname+(this.port?":"+this.port:""),this.pathname=(r[5]||"").replace(qn,function(t){return n.hash=t||"",""}).replace(Dn,function(t){return n.search=t||"",""}),this.pathname=$n(this.pathname),this.hostname&&!this.pathname&&(this.pathname="/"),this.path=this.pathname+this.search,this.fragment=this.path+this.hash,this.query=this.search.substring(1),e&&(this.query=y(this.query)),this.href=this.format(),this},Gn=function(){return"/"===this.pathname.charAt(0)},Kn=function(){var t,e="";return this.protocol&&(e+=b(this.protocol,":")+"//"),this.auth&&(e+=this.auth+"@"),this.host?e+=this.host:(this.hostname&&(e+=this.hostname),this.port&&(e+=":"+this.port)),this.pathname&&(e+=$n(this.pathname)),this.search?e+=_(this.search,"?"):this.query&&(t=w(this.query),t&&(e+="?"+t)),this.hash&&(e+=_(this.hash,"#")),e};te(x.prototype,{format:Kn,isAbsolute:Gn,parse:Qn,toObject:function(){for(var t={},e=it(this),n=0;n<e.length;n++)t[e[n]]=this[e[n]];return t}}),x.format=function(t){return Kn.call(t)},x.isAbsolute=function(t){return new x(t).isAbsolute()},x.join=Fn,x.normalize=function(t){return new x(t).href},x.parse=function(t,e){return new x(t,e)},x.relative=Wn,x.resolve=Bn;var Jn=/^\/+|\/+$/g,Zn={},tr=function(t){return t.replace(Un,"\\$&").replace(Nn,"(?:$1)?").replace(Rn,function(t,e){return e?t:"([^/?]+)"}).replace(In,"([^?]*)")},er=function(t){var e,n,r=Zn[t];return r?r:(e=new RegExp("^"+tr(t)),n=(t.match(Vn)||[]).map(function(t){return t.slice(1)}),r={regexp:e,names:n},Zn[t]=r)};j.prototype={constructor:j,normalize:function(t){return _(new x(t).fragment,"/")},route:function(t,e,n){var r=new j(t,e,n,this);return this.routes.push(r),this},setCallback:function(t){return this.callback=t,this},setDefaultCallback:function(t){return this.defaultCallback=t,this},triggerRoutes:function(t,e){var n,r,i=0,o=this.routes.length,a=function(t,r){var i=n.params.names[r];e[i]=t?decodeURIComponent(t):null};for(t=this.normalize(t),this.callback&&this.callback(e,t);o>i;i++)if(n=this.routes[i],r=t.match(n.params.regexp))return e={},r.slice(1).forEach(a),void n.triggerRoutes(t,e);this.defaultCallback&&this.defaultCallback(t)}};var nr,rr=/#(.*)$/;k.extend=re,te(k.prototype,j.prototype,{constructor:k,_join:function(t){return"/"!==this.root?this.root+t:t},atRoot:function(){return this.location.search?!1:this.root===this.normalize(this.location.pathname)},checkUrl:function(t){return t&&"hashchange"===t.type?this.triggerRoutes(this.fragment=this.getHash(t.newURL)):this.triggerRoutes(this.fragment=this.getFragment());
},getHash:function(t){var e=(t||this.location.href).match(rr);return this.normalize(e?e[1]:"")},getPath:function(){var t=this.root,e=this.location.pathname+this.location.search;return 0===e.indexOf(t)&&(e=e.slice(t.length)),this.normalize(e)},getFragment:function(){return this.normalize(this._hasPushState?this.getPath():this.getHash())},start:function(t){if(!this._started){this._started=!0,this.root=this.normalize(t&&t.root);var e=this.getFragment();if(!this._hasPushState&&!this.atRoot())return void this.location.replace(this._join("/#"+this.getPath()));this._hasPushState&&this.atRoot()?this.navigate(this.getHash(),{replace:!0}):(this.triggerRoutes(e),this.fragment=e),this.window.on(this._hasPushState?"popstate":"hashchange",this.checkUrl,this)}},stop:function(){this._started&&(this._started=!1,this.window.off(this._hasPushState?"popstate":"hashchange",this.checkUrl,this))},navigate:function(t,e){var n;return this._started?(e&&e!==!0||(e={replace:!!e}),t=this.normalize(t),void(this.fragment!==t&&(this.fragment=t,this._hasPushState?(this.history[e.replace?"replaceState":"pushState"]({},lt.title,this._join(t)),this.triggerRoutes(t)):e.replace?(n=location.href.replace(/(javascript:|#).*$/,""),this.location.replace(n+"#"+t)):this.location.hash="#"+t))):!1},redirect:function(t,e){var n=this.navigate.bind(this,e);this.route(t,function(){this.setCallback(n)})}});var ir="function"==typeof Symbol?Symbol:{},or=function(t,e){var n=ir[e];return n?t[n]:t["@@"+e]},ar=function(t,e,n){var r=ir[e];r&&(t[r]=n),t["@@"+e]=n},ur=5,sr=32,hr=sr-1,cr=sr/2,lr=sr/4,fr=function(t,e,n,r){var i,o,a;if(r)a=t;else for(i=0,o=t.length,a=new Array(o);o>i;i++)a[i]=t[i];return void 0!==e&&(a[e]=n),a},pr=function(t){for(var e,n=this.children,r=0,i=n.length;i>r;r++)if(e=n[r],e&&e.forEach(t)===!1)return!1},dr=function(t){return t&&this.owner===t},gr=function(t,e,n,r){for(var i,o=new Array(n),a=0,u=0,s=0,h=1,c=e.length;c>s;s++)i=e[s],i&&s!==r&&(u|=h,o[a++]=i),h<<=1;return new S(t,u,o)};te(E.prototype,{isEditable:dr,forEach:pr,lookup:function(t,e,n,r){void 0===e&&(e=u(n));var i=this.children[(0===t?e:e>>>t)&hr];return i?i.lookup(t+ur,e,n,r):r},modify:function(t,e,n,r,i){void 0===n&&(n=u(r));var o,a,s,h,c=(0===e?n:n>>>e)&hr,l=this.children,f=l[c];if(!f&&i.get(i.notSetValue)===i.notSetValue)return this;if(o=wr(f,t,e+ur,n,r,i),o===f)return this;if(a=this.count,f){if(!o&&(a--,lr>a))return gr(t,l,a,c)}else a++;return s=this.isEditable(t),h=fr(l,c,o,s),s?(this.count=a,this.children=h,this):new E(t,a,h)}});var vr=function(t,e,n,r){var i,o,a,u=t.length+1;if(r&&e+1===u)return t[e]=n,t;for(i=new Array(u),o=a=0;u>o;o++)o===e?(i[o]=n,a=-1):i[o]=t[o+a];return i},mr=function(t,e,n){var r,i,o,a=t.length-1;if(n&&e===a)return t.pop(),t;for(r=new Array(a),i=o=0;a>i;i++)i===e&&(o=1),r[i]=t[i+o];return r},yr=function(t){return t-=t>>1&1431655765,t=(858993459&t)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,127&t},_r=function(t,e,n,r,i){for(var o=new Array(sr),a=0,u=0;n;a++)1&n&&(o[a]=e[u],u++),n>>>=1;return o[r]=i,new E(t,u+1,o)};te(S.prototype,{isEditable:dr,forEach:pr,lookup:function(t,e,n,r){void 0===e&&(e=u(n));var i=1<<((0===t?e:e>>>t)&hr),o=this.bitmap;return o&i?this.children[yr(o&i-1)].lookup(t+ur,e,n,r):r},modify:function(t,e,n,r,i){void 0===n&&(n=u(r));var o,a,s,h,c,l,f,p,d=(0===e?n:n>>>e)&hr,g=1<<d,v=this.bitmap,m=0!==(v&g);return m||i.get(i.notSetValue)!==i.notSetValue?(o=yr(v&g-1),s=this.children,h=m?s[o]:void 0,c=wr(h,t,e+ur,n,r,i),c===h?this:(a=s.length,!m&&c&&a>=cr?_r(t,s,v,d,c):m&&!c&&2===a&&s[1^o].isLeaf?s[1^o]:m&&c&&1===a&&c.isLeaf?c:(l=this.isEditable(t),f=m?c?v:v^g:v|g,p=m?c?fr(s,o,c,l):mr(s,o,l):vr(s,o,c,l),l?(this.bitmap=f,this.children=p,this):new S(t,f,p)))):this}}),te(C.prototype,{isLeaf:!0,isEditable:dr,forEach:pr,lookup:function(t,e,n,r){for(var i,o=0,a=this.children.length;a>o;o++)if(i=this.children[o],Gt(i.key,n))return i.value;return r},modify:function(t,e,n,r,i){void 0===n&&(n=u(r));var o,a,s,h,c,l,f,p,d,g;if(n!==this.hash)return o=i.get(i.notSetValue),(s=o===i.notSetValue)?this:(i.changeValue=!0,i.changeSize=!0,br(this,t,e,new M(t,n,r,o)));for(f=this.children,h=0,c=f.length;c>h;h++)if(g=f[h],Gt(g.key,r)){a=g.value;break}return l=c>h,o=i.get(l?a:i.notSetValue),s=o===i.notSetValue,(l?g.value===o:s)?this:(i.changeValue=!0,(s||!l)&&(i.changeSize=!0),s&&2===c?(g=f[1^h],new M(t,this.hash,g.key,g.value)):(p=this.isEditable(t),d=p?f:fr(f),l?s?h===c-1?d.pop():d[h]=d.pop():d[h]=new M(t,n,r,o):d.push(new M(t,n,r,o)),p?(this.children=d,this):new C(t,this.hash,d)))}});var br=function(t,e,n,r){var i,o,a=t.hash,u=r.hash;return a===u?new C(e,a,[r,t]):(i=a>>>n&hr,o=u>>>n&hr,new S(e,1<<i|1<<o,i===o?[br(t,e,n+ur,r)]:o>i?[t,r]:[r,t]))};te(M.prototype,{isLeaf:!0,isEditable:dr,lookup:function(t,e,n,r){return Gt(this.key,n)?this.value:r},modify:function(t,e,n,r,i){var o=Gt(this.key,r),a=i.get(o?this.value:i.notSetValue),s=a===i.notSetValue;return(o?this.value===a:s)?this:(i.changeValue=!0,s?void(i.changeSize=!0):o?this.isEditable(t)?(this.value=a,this):new M(t,this.hash,r,a):(i.changeSize=!0,void 0===n&&(n=u(r)),br(this,t,e,new M(t,n,r,a))))},forEach:function(t){return t(this)}});var wr=function(t,e,n,r,i,o){var a;if(!t){if(a=o.get(o.notSetValue),a===o.notSetValue)return;return void 0===r&&(r=u(i)),o.changeValue=!0,o.changeSize=!0,new M(e,r,i,a)}return t.modify(e,n,r,i,o)},xr=function(t,e){return{changeSize:!1,changeValue:!1,notSetValue:e,func:t,get:z}},jr=function(t,e,n){var r,i,o;if(t&&"object"==typeof t)return o=A(e,n),qt(t)||Qt(t)?T(t,o):"function"==typeof t.forEach?t.forEach(o):(r=or(t,"iterator"),"function"==typeof r?(i=r.call(t),r===t.entries?U(t,o,i):P(t,o,i)):N(t,o))},kr=0,Er=1,Sr=2,Cr=function(t,e,n){this.__type=void 0===e?Sr:e,this.__reverse=n,this.__stack=t.__root&&R(t.__root)};Cr.prototype={constructor:Cr,next:function(){for(var t,e,n,r,i,o=this.__type,a=this.__reverse,u=this.__stack;u;){if(t=u.node,e=t.children,n=u.index++,e){if(r=e.length-1,r>=n){if(i=e[a?r-n:n]){if(!i.children)return V(i.key,i.value,o);u=this.__stack=R(i,u)}continue}}else if(0===n)return V(t.key,t.value,o);u=this.__stack=this.__stack.prev}return I()},toString:function(){return"[object MotaMap Iterator]"}},ar(Cr.prototype,"iterator",function(){return this});var Mr={},zr={},Ar={},Tr="@@__MOTA_MAP__@@",Pr=L.isMap=function(t){return!(!t||!t[Tr])},Ur=function(t,e,n){var r=new L(Ar);return r.size=e||0,r.__root=n,t&&(r.__owner={}),r},Nr=te(L.prototype,Ze,{get:function(t,e){var n=this.__root;return n?n.lookup(0,void 0,t,e):e},has:function(t){return Mr!==this.get(t,Mr)},set:function(t,e){var n=xr(void 0,Mr);return n.value=e,O(this,t,n)},remove:function(t){var e=xr(void 0,Mr);return e.value=Mr,O(this,t,e)},update:function(t,e,n){return O(this,t,xr(e,n))},__triggerChangeEvent:function(){if(this.isMutable()){var t=this.__changes;if(this.__changes=[],t&&t.length)return this.trigger("change",t),!0}return!1},clear:function(){if(this.isImmutable())return Rr;if(this.hasListeners()){var t=this.__changes;t||(t=this.__changes=[]),this.forEach(function(e,n){t.push({type:"delete",key:n,name:n,oldValue:e})})}return this.size=0,this.__root=void 0,this.__triggerChangeEvent(),this},count:function(){return this.size},keys:function(){return new Cr(this,kr,!1)},values:function(){return new Cr(this,Er,!1)},entries:function(){return new Cr(this,Sr,!1)},forEach:function(t,e){var n,r=this,i=0;return this.size&&(n=A(t,e),this.__root.forEach(function(t){return i++,n(t.value,t.key,r)})),i},isMutable:function(){return!!this.__owner},isImmutable:function(){return!this.__owner},asMutable:function(){return this.isMutable()?this:Ur(!0,this.size,this.__root)},asImmutable:function(){return this.isMutable()?this.size?Ur(!1,this.size,this.__root):Rr:this},clone:function(){return this.isImmutable()?this:Ur(!0,this.size,this.__root)},merge:function(t,e){if(!t)return this;var n=this.asMutable(),r=!1,i=Qt(t);return jr(t,function(t,o){i&&(o=t[0],t=t[1]);var a=xr(void 0,Mr);a.value=t,e===zr?(O(n,o,a,e),a.changeValue&&(r=!0)):O(n,o,a,!0)}),r||n.__triggerChangeEvent()?n===this?n:n.asImmutable():this}}),Rr=L.EMPTY_MAP=Ur(!1);ar(Nr,"get",Nr.get),ar(Nr,"iterator",Nr.entries),Nr[Tr]=!0,Nr.pairs=Nr.entries,Nr.unset=Nr["delete"]=Nr.remove,D(q,"VERSION","0.9.2",!0),ie.hashCode=u,ie.extend(q,ie,{events:Ze,Map:L,path:x,Router:k,util:ie,view:Pn,setWindow:ft});var Ir=!1;return D(q,"developmentMode",Ir,!1),q});
//# sourceMappingURL=mota.min.js.map