/*!
 * MotaJS v0.10.0
 * http://motapc.js.org/motajs
 *
 * Released under the MIT license
 * https://github.com/motapc97/MotaJS/blob/master/LICENSE.md
 *
 * Project
 * https://github.com/motapc97/MotaJS
 *
 * Date: 2015-09-14T16:10Z
 */
!function(t){if("function"==typeof define&&define.amd)define(function(){return t()});else if("undefined"!=typeof exports){var e=t();"undefined"!=typeof module&&module.exports&&(exports=module.exports=e),exports.mota=e}else window.mota=t()}(function(){function t(){}function e(t){return t>>>1&1073741824|3221225471&t}function n(t){var n,r=t.length,i=r>gt,o=i&&_t[t];if(!o&&0!==o){for(o=0,n=0;r>n;n++)o=31*o+t.charCodeAt(n)|0;o=e(o),i&&(yt===mt&&(yt=0,_t={}),yt++,_t[t]=o)}return o}function r(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}function i(t,n){return t=bt(t,3432918353),t=bt(t<<15|t>>>-15,461845907),t=bt(t<<13|t>>>-13,5),t=(t+3864292196|0)^n,t=bt(t^t>>>16,2246822507),t=bt(t^t>>>13,3266489909),e(t^t>>>16)}function o(t){var e=!1,n=!0,o=e?1:0,u=t.forEach(n?e?function(t,e){o=31*o+r(a(t),a(e))|0}:function(t,e){o=o+r(a(t),a(e))|0}:e?function(t){o=31*o+a(t)|0}:function(t){o=o+a(t)|0});return i(o,u)}function u(e){return t.get(e,"hash")}function a(r){var i,a;if(!r)return 0;if("function"==typeof r.valueOf&&(r=r.valueOf(),!r))return 0;if(r===!0)return 1;if(i=typeof r,"number"===i){for(a=0|r,a!==r&&(a^=4294967295*r);r>4294967295;)r/=4294967295,a^=r;return e(a)}return"string"===i?n(r):(a=u(r),void 0!==a?a:("function"==typeof r.isImmutable&&r.isImmutable()?a=o(r):(a=vt++,1073741824&vt&&(vt=1)),t.setup(r,"hash",a),a))}function s(t,e){return null==e?t():t.call(e)}function c(t,e){switch(e.length){case 0:return t();case 1:return t(e[0]);case 2:return t(e[0],e[1]);case 3:return t(e[0],e[1],e[2]);case 4:return t(e[0],e[1],e[2],e[3]);case 5:return t(e[0],e[1],e[2],e[3],e[4]);default:return t.apply(void 0,e)}}function l(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2]);case 4:return t.call(e,n[0],n[1],n[2],n[3]);case 5:return t.call(e,n[0],n[1],n[2],n[3],n[4]);default:return t.apply(e,n)}}function h(t,e,n){return t?n?null==e?c(t,n):l(t,e,n):s(t,e):void 0}function f(t,e){return function(){for(var n=0;n<t.length;n++)h(t[n],this,arguments);return h(e,this,arguments)}}function p(t,e){for(var n=e,r=n+1,i=t.length;i>r;n+=1,r+=1)t[n]=t[r];t.pop()}function d(){this.first={__next:void 0},this.last=this.first}function v(t){this.data=t}function g(t,e,n){var r=n.childNodes,i=e>=r.length?null:r.item(e);t!==i&&n.insertBefore(t,i)}function m(t){var e=t.__internal__;e&&e.queued&&e.update(t,e.force?"forceUpdate":"update",null,null,null,null,e.renderToString)}function y(t){var e=t.elem,n=t.name,r=t.value,i=t.type;"attr"===i?null==r?e.removeAttribute(n):e.setAttribute(n,r+""):"prop"===i?e[n]=r:"style"===i&&(e.style[n]=r)}function _(t){var e=t.elem;e.parentNode.removeChild(e)}function b(t){return g(t.elem,t.index,t.parent)}function w(t){var e=t.component,n=t.name;e[n]&&e[n](t.arg)}function E(t,e){return t.__internal__.depth-e.__internal__.depth}function x(){this.ignore=0,this.flushingUpdates=!1,this.dirtyComponents=new He(E),this.pendingAttrUpdates=new d,this.pendingElemDeletions=new d,this.pendingElemInsertions=new d,this.pendingElemMoves=new d,this.pendingEdgeCaseUpdates=new d,this.pendingCallbacks=new d}function j(t,e){return null==e?t:function(n,r,i){return t.call(e,n,r,i)}}function k(t,e){for(var n=0;n<t.length;n++)e(t[n],n,t)}function S(t,e,n){for(var r,i=0;!(r=n.next()).done;)e(r.value,i,t),i++}function A(t,e,n){for(var r,i;!(r=n.next()).done;)i=r.value,e(i[1],i[0],t)}function U(t,e){for(var n,r=0,i=Ct(t);r<i.length;r++)n=i[r],e(t[n],n,t)}function C(t,e,n){var r,i;return"function"==typeof t.forEach?t.forEach(e):(r=kn(t,"iterator"),"function"==typeof r?(i=r.call(t),r===t.entries?A(t,e,i):S(t,e,i)):n!==!1?U(t,e):void 0)}function M(t){return Rn[t]===!0?!0:Ln[t]===!0?!1:Dn.test(t)?(Rn[t]=!0,!0):(Ln[t]=!0,!1)}function T(t){return t.charAt(0).toUpperCase()+t.substring(1)}function z(t){var e,n,r=t;if(void 0!==Hn[t])return Hn[t];if(t in Fn)return Hn[t]=t,t;for(e=T(t),n=Pn.length;n--;)if(t=Pn[n]+e,t in Fn)return Hn[r]=t,t;Hn[r]=!1}function I(t,e,n,r,i){var o,u;o=z(n),o&&(null==i||"boolean"==typeof i||""===i?u="":0===i||1===Wn[o]||isNaN(i)?u=i+"":("string"==typeof i&&(i=Nn(i)),u=i+"px"),e.style[o]!==u&&$e.queueAttrUpdate(e,o,u,"style"))}function q(t){t.componentWillUnmount&&t.componentWillUnmount();var e=0,n=t.__internal__.children;for(Ge.remove(t.el),t.el=t.props=t.__internal__=void 0;e<n.length;e++)q(n[e])}function N(){this.__internal__=new rr}function V(t){var e,n,r,i,o={},u=0;if(!t)return o;for(e=t.split("&");u<e.length;u++)e[u]&&(n=e[u].split("="),r=decodeURIComponent(n[0]),i=n[1]?decodeURIComponent(n[1]):"",void 0!==o[r]?he(o[r])?o[r].push(i):o[r]=[o[r],i]:o[r]=i);return o}function O(t,e){return t.charAt(0)===e?t:e+t}function D(t,e){return t.charAt(t.length-1)===e?t:t+e}function L(t){if("string"==typeof t)return t;var e,n,r,i,o,u="";for(e in t)if(n=encodeURIComponent(e),r=t[e],he(r))for(o=0;o<r.length;o++)i=r[o]?encodeURIComponent(r[o]):"",u+="&"+n+"="+i;else i=r?encodeURIComponent(r):"",u+="&"+n+"="+i;return u.substring(1)}function R(t,e){br.call(this,t,e)}function P(t,e,n,r){Pt(e)&&(n=e,e=t,t=void 0),e||Ee("mota.Router.route","Provide a non-empty path"),this.name=t,this.parent=r,this.path=(r.path||"")+"/"+e.replace(Ar,""),this.params=Mr(this.path),this.routes=[],n.call(this)}function F(){this.routes=[],this.history=Nt.history,this.location=this.history&&this.history.location||Nt.location,this.window=Tr||(Tr=ar.select(Nt)),this.initialize&&h(this.initialize,this,arguments)}function W(t){return!(!t||!t[zr])}function H(t,e){if(t===e)B(t,Nr,new TypeError("The promise and its value refer to the same object"));else if(W(e))e.state===Ir?e.then(function(e){H(t,e)},function(e){B(t,Nr,e)}):B(t,e.state,e.value);else if(Ut(e)||Pt(e)){var n,r=!1;try{n=e.then,Pt(n)?n.call(e,function(e){r||(H(t,e),r=!0)},function(e){r||(B(t,Nr,e),r=!0)}):(B(t,qr,e),r=!0)}catch(i){r||(B(t,Nr,i),r=!0)}}else B(t,qr,e)}function $(t){t.state!==Ir&&Vr(function(){for(;t.queue.length;){var e,n=t.queue.shift(),r=null;t.state===qr?r=n.handlers.fulfill:t.state===Nr&&(r=n.handlers.reject);try{e=r(t.value)}catch(i){B(n,Nr,i);continue}H(n,e)}})}function Y(t){return t===Ir||t===Nr||t===qr}function B(t,e,n){t.state!==e&&t.state===Ir&&Y(e)&&3===arguments.length&&(t.value=n,t.state=e,$(t))}function K(t){return t}function X(t){throw t}function G(t){Vr(function(){throw t})}function Q(t,e,n){this.owner=t,this.count=e,this.children=n}function Z(t,e,n){this.owner=t,this.bitmap=e,this.children=n}function J(t,e,n){this.owner=t,this.hash=e,this.children=n}function tt(t,e,n,r){this.owner=t,this.hash=e,this.key=n,this.value=r}function et(t){var e=this.func;return this.oldValue=t,e&&(this.value=e(t),this.func=void 0),this.value}function nt(t,e){return{node:t,index:0,prev:e}}function rt(){return{value:void 0,done:!0}}function it(t,e,n){return{value:n===ui?[t,e]:n===ii?t:e,done:!1}}function ot(t,e,n,r){var i,o,u,a,s,c=t.isMutable();return u=c?t:lt(),u.__root=ni(t.__root,u.__owner,0,void 0,e,n),n.changeValue?(i=n.value,o=i===n.notSetValue,u.size=t.size+(n.changeSize?o?-1:1:0),u.size||c?(c&&r!==Rr&&(a={type:o?"delete":n.changeSize?"add":"update"},a.key=a.name=e,o?a.oldValue=n.oldValue:(a.value=a.newValue=i,n.changeSize||(a.oldValue=n.oldValue)),s=t.__changes,s||(s=t.__changes=[]),s.push(a),r||t.__triggerChangeEvent()),u):li):t}function ut(t){return!(!t||!t[Yr])}function at(t){return t===Rr?this:lt(!0,0,void 0).merge(t,Rr)}function st(t){return t===Rr?this:li.merge(t,Rr)}function ct(t,e){ke(t,e),Sn(t,"get",e.get),Sn(t,"iterator",e.entries)}function lt(t,e,n){var r=t?new at(Rr):new st(Rr);return r.size=e||0,r.__root=n,t&&(r.__owner={}),r}function ht(t,e,n,r){Object.defineProperty(t,e,{configurable:!1,enumerable:r,value:n,writable:!1})}function ft(){}var pt="__mota__"+(""+Math.random()).replace(/\D/g,""),dt=Object.defineProperty;t.setup=function(e,n,r,i){var o=e[pt];return o||(o=new t,i?e[pt]=o:dt(e,pt,{writable:!0,value:o})),o[n]?o[n]:o[n]=r},t.get=function(t,e){var n=t[pt];return n&&n[e]},t.set=function(t,e,n){var r=t[pt];return r?r[e]=n:void 0},t.del=function(t,e){var n=t[pt];return n&&n[e]?(n[e]=void 0,!0):!1};var vt=1,gt=16,mt=255,yt=0,_t={},bt=Math.imul;("function"!=typeof bt||-2!==bt(4294967295,2))&&(bt=function(t,e){var n=t>>>16&65535,r=65535&t,i=e>>>16&65535,o=65535&e;return r*o+(n*o+r*i<<16>>>0)|0});var wt=function(t,e){console.warn(t+" WARNS: "+e)},Et=function(t,e){var n,r;for(n in e)if(r=e[n],r&&!r(t[n],n,t))return!1;return!0},xt={},jt=function(t){return t=t?t+"":"",xt[t]||(xt[t]=0),t+ ++xt[t]},kt={}.toString,St={"[object Array]":"array","[object Boolean]":"boolean","[object Date]":"date","[object Error]":"error","[object Function]":"function","[object Number]":"number","[object Object]":"object","[object RegExp]":"regexp","[object String]":"string"},At=function(t){var e=typeof t;return"object"===e||"function"===e?null===t?"null":St[kt.call(t)]||"object":e},Ut=function(t){var e;return!!t&&("function"==(e=typeof t)||"object"===e)},Ct=Object.keys,Mt=function(t,e){if(!Ut(t))return[];if(e){var n,r=[];for(n in t)r.push(n);return r}return Ct(t)},Tt=function(t){for(var e=Mt(t),n=e.length,r=Array(n),i=0;n>i;i++)r[i]=[e[i],t[e[i]]];return r},zt=[],It=zt.slice,qt=function(t,e){return function(){return h(t,e,It.call(arguments))}},Nt="object"==typeof self&&self.self==self&&self||"object"==typeof global&&global.global==global&&global,Vt=Nt&&Nt.document,Ot=function(t){Nt=t,Vt=t&&t.document},Dt=Nt.mota,Lt=function(){return Dt&&(Nt.mota=Dt),this},Rt=function(t){return"function"===At(t)};"function"!=typeof/./&&"object"!=typeof Int8Array&&(Rt=function(t){return"function"==typeof t||!1});var Pt=Rt,Ft=function(t,e){var n,r,i,o=t&&t.prototype,u={};if(!o)return t;for(var a=0;a<e.length;a++){n=e[a];for(r in n)u[r]||(u[r]=[]),u[r].push(n[r])}for(r in u)i=o[r],o[r]=f(u[r],Pt(i)&&i);return t},Wt=function(t,e){console.log(t+" LOG: "+e)},Ht="[object process]"===("undefined"!=typeof global&&global&&toString.call(global.process)),$t="[object Window]",Yt="[object global]",Bt=function(t){if(!t||"object"!=typeof t)return!1;if(!Ht&&t.window!==t)return!1;var e=kt.call(t);return e===$t||e===Yt},Kt=function(t){return void 0===t},Xt=function(t){return"string"===At(t)},Gt=function(t){return"regexp"===At(t)},Qt={}.hasOwnProperty,Zt=function(t,e){return null!=t&&Qt.call(t,e)},Jt=function(t){var e;return!t||"object"!=typeof t||"[object Object]"!==kt.call(t)||Zt(t,"constructor")?!1:(e=t.constructor)?Pt(e)&&e instanceof e:!0},te=function(t){return"object"===At(t)},ee=function(t){return"number"===At(t)},ne=function(t){return null===t},re=function(t){return null==t},ie=function(t){return t!=+t&&ee(t)},oe=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},ue=function(t){return"error"===At(t)},ae=function(t,e,n){if(t===e)return n?0!==t||1/t==1/e:!0;if(t!==t)return e!==e;if(null==t||null==e)return t===e;var r=typeof t;if("function"!==r&&"object"!==r&&"object"!=typeof e)return!1;var i=kt.call(t);if(i!=kt.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return t=+t,e=+e,t!==t?e!==e:t===e?n?0!==t||1/t==1/e:!0:!1;case"[object Date]":case"[object Boolean]":return+t===+e}return i},se=function(t,e,n,r){var i=ae(t,e,!0);if(i===!0||i===!1)return i;var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var u=t.constructor,a=e.constructor;if(!(u===a||Jt(t)&&Jt(e)))return!1}n=n||[],r=r||[];for(var s=n.length;s--;)if(n[s]===t)return r[s]===e;if(n.push(t),r.push(e),o){if(s=t.length,s!==e.length)return!1;for(;s--;)if(!se(t[s],e[s],n,r))return!1}else{var c,l=Mt(t);if(s=l.length,Mt(e).length!==s)return!1;for(;s--;)if(c=l[s],!Zt(e,c)||!se(t[c],e[c],n,r))return!1}return n.pop(),r.pop(),!0},ce=function(t,e){return se(t,e)},le=function(t){return"[object Arguments]"===kt.call(t)},he=Array.isArray,fe=function(t){if(null==t)return!0;if(he(t)||Xt(t)||le(t))return 0===t.length;for(var e in t)if(Zt(t,e))return!1;return!0},pe=function(t){return t&&1===t.nodeType?Ht?!0:kt.call(t).indexOf("Element")>-1:!1},de="[object HTMLDocument]",ve="[object Document]",ge=function(t){var e;if(!t||null!==t.parentNode||!(e=t.defaultView))return!1;if(Ht)return Bt(e);var n=kt.call(t);return n===de||n===ve},me=function(t){return"date"===At(t)},ye=function(t){return t===!0||t===!1||"boolean"===At(t)},_e=Math.pow(2,53)-1,be=function(t){var e,n=At(t);return"array"===n?!0:"object"!==n||Bt(t)?!1:(e="length"in t&&t.length,0===e?!0:"number"==typeof e&&e>0&&_e>=e&&e-1 in t)},we=function(t,e){var n=ae(t,e);if(n===!0||n===!1)return n;if(t.size!==e.size)return!1;if(t.isMutable&&e.isMutable&&!t.isMutable()&&!e.isMutable()){var r=u(t),i=u(e);if(null!=r&&null!=i&&r!==i)return!1;var o=!0,a={};return t.forEach(function(t,n){var r=e.get(n,a);return r!==a&&we(t,r)?void 0:o=!1}),o}return!1},Ee=function(t,e){throw t+" ERROR: "+e},xe=function(t,e){return function(n){var r,i,o,u,a,s,c=arguments.length;if(2>c||null==n)return n;for(r=1;c>r;r++)for(i=arguments[r],o=Mt(i,t),u=o.length,a=0;u>a;a++)s=o[a],e&&void 0!==n[s]||(n[s]=i[s]);return n}},je=xe(!0,!0),ke=function(t){var e,n,r,i,o,u,a=1,s=arguments.length,c=!1;if(t===!0&&(c=t,t=arguments[a],a++),!Ut(t))return t;for(;s>a;a++)if(null!=(e=arguments[a]))for(n in e)r=t[n],i=e[n],t!==i&&(c&&i&&("object"===(o=At(i))||"array"===o)?(u="array"===o?r&&he(r)?r:[]:r&&te(r)?r:{},t[n]=ke(c,u,i)):void 0!==i&&(t[n]=i));return t},Se=function(t){var e,n,r;if(t===!0&&Zt(arguments,1)&&(e=t,t=arguments[1]),!Ut(t))return t;switch(At(t)){case"array":return e?ke(e,[],t):It.call(t);case"number":case"string":case"date":case"boolean":return new(n=t.constructor)(t);case"regexp":return n=t.constructor,r=new n(t),r.lastIndex=t.lastIndex,r;default:return e?ke(e,{},t):ke({},t)}},Ae=Object.create,Ue=function(t,e,n){var r,i,o=this;return i=t&&Zt(t,"constructor")?t.constructor:o,r=n?function(){var t=Ae(r.prototype),e=h(i,t,arguments);return Ut(e)?e:t}:function(){return h(i,this,arguments)},r.prototype=Ae(o.prototype),r.prototype.constructor=r,t&&ke(r.prototype,t),ke(r,o,e),r.__super__=o.prototype,r},Ce={apply:h,classExtend:Ue,clone:Se,extend:ke,defaults:je,err:Ee,has:Zt,is:we,isArguments:le,isArray:he,isArrayLike:be,isBoolean:ye,isDate:me,isDocument:ge,isElement:pe,isEmpty:fe,isEqual:ce,isError:ue,isFinite:oe,isFunction:Pt,isNaN:ie,isNil:re,isNull:ne,isNumber:ee,isObject:te,isObjectLike:Ut,isPlainObject:Jt,isRegExp:Gt,isString:Xt,isUndefined:Kt,isWindow:Bt,keys:Mt,log:Wt,mixin:Ft,noConflict:Lt,noPartial:qt,pairs:Tt,type:At,uniqueId:jt,validate:Et,warn:wt},Me=Date.now,Te=function(t,e){var n,r,i;for(t.length>e.length?(n=e,r=t):(n=t,r=e),i=n.length;i--;)if(-1!==r.indexOf(n[i]))return!0;return!1},ze=function(t,e,n,r,i){var o,u,a,s="getFirst"===i,c="trigger"===i,l=n?n.length:0,h=r.type,f=r.namespaces,p=r.handler,d=r.context;for(u=0;l>u&&(o=n[u],o!==r&&(r._listener===!0||!(!h||we(o.type,h)||c&&o.isRegExp&&(a=h.match(o.type)))||p&&o.handler!==p||!(!f||0===f.length||o.namespaces&&Te(o.namespaces,f))||d&&o.context!==d)||(t.push([o,{index:u,match:{string:h,match:a}}]),!s));u++);return t},Ie=/\S+/g,qe=/\.[^.]+/g,Ne=/^[^.]+/g,Ve=function(t){this.type=t.type,this.namespaces=t.namespaces,this.handler=t.handler,this.context=t.context,this.isRegExp=t.isRegExp,this.once=!1,this._listener=!0},Oe=function(t,e){var n,r,i,o,u,a,s,c=t.eventType,l=t.handler,h=t.context;if(t._listener)e.push(t);else if(s=At(c),u="regexp"===s)e.push({type:c,handler:l,context:h,isRegExp:u});else if("object"===s){a=c,l&&(h=l);for(c in a)Oe({eventType:c,handler:a[c],context:h},e)}else for(c=(c||"").match(Ie)||[""],r=c.length,n=0;r>n;n++)i=(c[n].match(Ne)||[])[0],o=c[n].match(qe),e.push({type:i,namespaces:o,handler:l,context:h,isRegExp:u});return e},De=function(e,n,r,i,o){var u,a,s,c,l,h;if(e){if(s="on"===n?t.setup(e,"events",[]):t.get(e,"events"),c=Oe(i,[]),"on"===n)for(u=0;u<c.length;u++)c[u].type&&c[u].handler&&r(e,s,new Ve(c[u]),void 0,o);else{for(l=[],u=0;u<c.length;u++)ze(l,e,s,c[u],n);for(a=0;a<l.length&&(h=l[a],r(e,s,h[0],h[1],o)!==!1);a++);}return e}},Le=function(t,e,n,r,i){n.handler=void 0,p(e,r.index-i.value),i.value++},Re=function(t,e,n){return De(this,"off",Le,{eventType:t,handler:e,context:n},{value:0})},Pe=function(t,e,n,r){n.once&&(n.handler=void 0,De(t,"off",Le,n,{value:0}))},Fe=function(t,e,n,r,i){var o=n.handler;Pe(t,e,n,r),h(o,void 0!==n.context?n.context:t,n.isRegExp?[r.match].concat(i):i)},We=function(t){return De(this,"trigger",Fe,{eventType:t},It.call(arguments,1))};d.prototype={constructor:d,add:function(t){this.last.__next=t,this.last=t},resetAndTraverse:function(t){this.last=void 0;for(var e=this.first;e=e.__next;)t(e);return this.reset()},reset:function(){this.first.__next=void 0,this.last=this.first}},v.prototype={add:function(t,e){var n=e(this.data,t);n>0?this.left?this.left.add(t,e):this.left=new v(t):this.right?this.right.add(t,e):this.right=new v(t)},traverse:function(t){var e=this.left,n=this.right;e&&e.traverse(t),t(this.data),n&&n.traverse(t)}};var He=function(t){this.comparator=t};He.prototype={isEmpty:function(){return!this.root},add:function(t){this.root?this.root.add(t,this.comparator):this.root=new v(t)},reset:function(){this.root=void 0},resetAndTraverse:function(t){var e=this.root;this.root=void 0,e&&e.traverse(t)}},x.prototype={constructor:x,queueUpdate:function(t){this.dirtyComponents.add(t),this.flushUpdates()},startIgnore:function(){this.ignore++},endIgnore:function(){this.ignore--,this.flushUpdates()},flushUpdates:function(){this.flushingUpdates||this.ignore||this.dirtyComponents.isEmpty()||(this.flushingUpdates=!0,this.dirtyComponents.resetAndTraverse(m),this.pendingAttrUpdates.resetAndTraverse(y),this.pendingElemDeletions.resetAndTraverse(_),this.pendingElemInsertions.resetAndTraverse(b),this.pendingElemMoves.resetAndTraverse(b),this.pendingEdgeCaseUpdates.resetAndTraverse(y),this.pendingCallbacks.resetAndTraverse(w),this.flushingUpdates=!1,this.flushUpdates())},queueAttrUpdate:function(t,e,n,r){this.pendingAttrUpdates.add({elem:t,name:e,value:n,type:r})},queueElemDeletion:function(t){this.pendingElemDeletions.add({elem:t})},queueElemInsertion:function(t,e,n){this.pendingElemInsertions.add({elem:t,index:e,parent:n})},queueElemMove:function(t,e,n){this.pendingElemMoves.add({elem:t,index:e,parent:n})},queueEdgeCaseUpdate:function(t,e,n,r){this.pendingEdgeCaseUpdates.add({elem:t,name:e,value:n,type:r})},queueCallback:function(t,e,n){t[e]&&this.pendingCallbacks.add({component:t,name:e,arg:n})},error:function(t,e){var n=e?" Please check the code for the "+e.constructor.displayName+" component.":"";this.ignore=0,this.flushingUpdates=!1,this.dirtyComponents.reset(),this.pendingAttrUpdates.reset(),this.pendingElemDeletions.reset(),this.pendingElemInsertions.reset(),this.pendingElemMoves.reset(),this.pendingEdgeCaseUpdates.reset(),this.pendingCallbacks.reset(),Ee("mota.view.Component.update",t+n)}};var $e=new x,Ye={},Be=1,Ke="vComp",Xe=function(t){return t.nodeType&&3!==t.nodeType?1:t===t.window?2:0},Ge={add:function(e){var n,r=e.el,i=Xe(r);return i?(n=t.get(r,Ke),n||(n=Be++,t.setup(r,Ke,n,1===i)),Ye[n]=e):void 0},remove:function(e){var n=Xe(e)&&t.get(e,Ke);n&&(Ye[n]=void 0)},get:function(e){return Ye[Xe(e)&&t.get(e,Ke)]}},Qe=/^on/,Ze={},Je=function(t){Ze[t]=!0,Object.defineProperty(tn.prototype,t,{enumerable:!0,configurable:!0,get:function(){var e,n;return this.originalEvent&&(n=on[t],e=n?n(this.originalEvent,this.target):this.originalEvent[t]),this[t]=e},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},tn=function(t){var e,n;t&&t.type?(this.originalEvent=t,this.type=t.type):this.type=t;for(e in this.originalEvent)Ze[e]||null!=this[e]||Je(e);this.type in rn&&(this.type=rn[this.type]),this.timeStamp||(this.timeStamp=Me()),n=this.target,n&&3===n.nodeType&&(this.target=n.parentNode)};tn.prototype={constructor:tn,isDefaultPrevented:!1,isPropagationStopped:!1,isImmediatePropagationStopped:!1,stopPropagation:function(){this.isPropagationStopped=!0},stopImmediatePropagation:function(){this.isPropagationStopped=!0,this.isImmediatePropagationStopped=!0},preventDefault:function(){this.isDefaultPrevented=!0,this.originalEvent.preventDefault()}};var en=/^key/,nn=/^(?:mouse|touch|pointer|contextmenu|drag|drop)|click/,rn={mousewheel:"wheel",DOMMouseScroll:"whell"},on={which:function(t){if(nn.test(t.type)){var e=t.button;return t.which||void 0===e?t.which:1&e?1:2&e?3:4&e?2:0}return en.test(t.type)?null==t.which?null!=t.charCode?t.charCode:t.keyCode:t.which:void 0},pageX:function(t,e){var n,r,i;return null==t.pageX&&null!=t.clientX?(n=e.ownerDocument||Vt,r=n.documentElement,i=n.body,t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0)):t.pageX},pageY:function(t,e){var n,r,i;return null==t.pageY&&null!=t.clientY?(n=e.ownerDocument||Vt,r=n.documentElement,i=n.body,t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)):t.pageY},path:function(t,e){for(var n=e,r=[n];n=n.parentNode||n.defaultView;)r.push(n);return r}};Mt(on).forEach(Je);var un,an=function(t,e,n,r,i){var o=n.handler;return Pe(t,e,n,r),i.isImmediatePropagationStopped?!1:(i.currentTarget=t.el,void(o&&(i.result=h(o,void 0!==n.context?n.context:t,[i]))))},sn=function(t){t=new tn(t);var e,n=t.target,r=t.type,i=t.path,o=0,u=Ge.get(n);for($e.startIgnore();o<i.length&&!t.isPropagationStopped&&(e=i[o],u=Ge.get(e),De(u,"trigger",an,{eventType:r,handler:void 0,context:void 0},t),t.bubbles);o++);$e.endIgnore()},cn={pointermove:1,pointerdown:1,pointerup:1,pointerover:1,pointerout:1,pointerenter:1,pointerleave:1,pointercancel:1},ln=function(){if(Nt.addEventListener){var t,e;for(t in Nt)e=t.replace(Qe,""),t!==e&&(e in cn||Nt.addEventListener(e,sn,!0));Mt(cn).forEach(function(t){Nt.addEventListener(t,sn,!0)})}return sn},hn=function(t){if(he(t)){var e=c(ke,[{}].concat(t));return e}return t&&"object"==typeof t?t:{}},fn=function(t,e,n,r,i){i&&(n.once=!0),e.push(n)},pn=function(t,e,n,r){return De(this,"on",fn,{eventType:t,handler:e,context:n},r)},dn=function(t,e,n){return pn.call(this,t,e,n,!0)},vn=function(t,e,n,r,i){i.value=!0},gn=function(t,e,n){var r={value:!1};return De(this,"getFirst",vn,{eventType:t,handler:e,context:n},r),r.value},mn=function(t,e,n,r,i){i.push(n)},yn=function(t,e,n){var r=[];return De(this,"get",mn,{eventType:t,handler:e,context:n},r),r},_n={getListeners:yn,hasListeners:gn,off:Re,on:pn,once:dn,trigger:We},bn="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("mota.view.create")||60103,wn=function(t){return t&&"object"==typeof t&&t.$$typeof===bn},En=function(t,e,n){var r,i,o,u,a,s={},c=null,l=t&&t.validateProps;if(null!=e){c=void 0===e.key?null:""+e.key;for(r in e)"key"!==r&&Zt(e,r)&&(s[r]=e[r])}if(u=arguments.length-2,1===u)s.children=n;else if(u>1){for(i=Array(u),o=0;u>o;o++)i[o]=arguments[o+2];s.children=i}return l&&(s=l(s)||{}),a={$$typeof:bn,type:t,key:c,props:s}},xn=function(t,e){var n=t.key,r=t.type,i=void 0===r.__type?r:r.__type;return void 0===e[i]&&(e[i]=0),i+(null==n?":noKey:"+e[i]++:":key:"+n)},jn="function"==typeof Symbol?Symbol:{},kn=function(t,e){var n=jn[e];return n?t[n]:t["@@"+e]},Sn=function(t,e,n){var r=jn[e];r&&(t[r]=n),t["@@"+e]=n},An=function(t,e,n,r){if(t&&"object"==typeof t){var i=j(e,n);return he(t)||be(t)?k(t,i):C(t,i,r)}},Un=function(t,e,n){var r,i;if(null!=t&&t!==!1&&t!==!0&&""!==t){if(wn(t))return e.push(t);if("object"==typeof t)return An(t,n,null,!1);r=e.length-1,i=r>-1&&e[r],"#text"===i.type?i.props.text+=t+"":e.push({type:"#text",props:{text:t+""}})}},Cn=function(t,e){if(null!=t){var n=function(t){Un(t,e,n)};return n(t)}},Mn=0,Tn=function(t){function e(){N.call(this)}var n,r=[];t&&Pt(t.render)||Ee("mota.view.createClass","Provide an object with a `render` property containing a function"),e.displayName=t.displayName,e.validateProps=t.validateProps;for(n in t.statics)e[n]=t.statics[n];e.prototype=new N,t=ke(e.prototype,t);for(n in t)Pt(t[n])&&r.push(n);return t.constructor=e,t.__methods=r,e.__type=Mn++,e},zn=function(t,e,n,r,i,o,u,a,s){for(var c,l,h,f,p,d,v=0,g=e.length,m=t.el;g>v;v++)f=e[v],c=xn(f,u),d=r[c],p=Pt(f.type),void 0!==d?(h=n[d],n[d]=void 0,l=h,l.__internal__.update(l,"update",p?f.props:f,null,m,v)):(l=p?new f.type:new un,l.__internal__.update(l,"add",p?f.props:f,p?l:t.__internal__.owner,m,v,a,s)),i[v]=l,o[c]=v},In=function(t,e,n,r,i,o){un||(un=Tn({render:function(){return this.props}}));var u,a=[],s={},c={},l=[],h=e.depth+1,f=r.length;for(Cn(n,l),zn(t,l,r,i,a,s,c,o,h);f--;)u=r[f],u&&u.__internal__.update(u,"remove",null,null,t.el);e.children=a,e.childrenMap=s},qn=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Nn=function(t){return null==t?"":(t+"").replace(qn,"")},Vn=function(t){var e,n,r,i,o="",u=0;if(!t)return"";if(e=At(t),"array"===e)for(n=t.length;n>u;u++)t[u]&&(o+=" "+t[u]);else if("object"===e)for(r=Mt(t),n=r.length;n>u;u++)i=r[u],t[i]&&(o+=" "+i);else o=t+"";return Nn(o)},On=function(t,e,n,r,i,o){var u,a,s,c=t.__internal__,l=c[n],h=c[r],f=Ct(i);for(a=h,s=a.length;s--;)u=a[s],void 0===i[u]&&o(t,e,u,l[u],void 0);for(a=f,s=a.length;s--;)u=a[s],l[u]!==i[u]&&o(t,e,u,l[u],i[u]);c[n]=i,c[r]=f},Dn=/^[a-zA-Z_][\w\.\-]*$/,Ln={},Rn={},Pn=["Webkit","Moz","ms"],Fn=Vt?Vt.createElement("div").style:{},Wn={animationIterationCount:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,fontWeight:1,lineClamp:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,fillOpacity:1,stopOpacity:1,strokeDashoffset:1,strokeOpacity:1,strokeWidth:1},Hn={};Ct(Wn).forEach(function(t){for(var e=Pn.length;e--;)Wn[Pn[e]+T(t)]=1});var $n=function(t,e,n,r,i){var o,u;switch(n){case"key":case"data-mota":case"children":case"childNodes":case"innerHTML":case"outerHTML":return;case"daugerousInnerHTML":case"dangerouslySetInnerHTML":if(r&&i&&r.__html===i.__html)return;return void(i&&e.innerHTML!==i.__html&&$e.queueAttrUpdate(e,"innerHTML",i.__html,"prop"));case"style":return On(t,e,"cacheStyle","cacheStyleKeys",hn(i),I);case"class":case"className":return o=Vn(i),void("svg"===e.nodeName?e.getAttribute("class")!==o&&$e.queueAttrUpdate(e,"class",o,"attr"):e.className!==o&&$e.queueAttrUpdate(e,"className",o,"prop"));default:return u=n.replace(Qe,""),void(n!==u?(u=u.toLowerCase(),r&&_n.off.call(t,u,r),i&&_n.on.call(t,u,i)):n in e&&"list"!==n&&"form"!==n&&"type"!==n&&"width"!==n&&"height"!==n?("value"===n&&(i+=""),e[n]!==i&&("value"===n&&"SELECT"===e.nodeName?$e.queueEdgeCaseUpdate(e,n,i,"prop"):$e.queueAttrUpdate(e,n,i,"prop"))):M(n)&&$e.queueAttrUpdate(e,n,i,"attr"))}},Yn=function(t){return t.getAttribute("data-mota")},Bn=function(t,e){return t.setAttribute&&t.setAttribute("data-mota",e),t},Kn=function(t){for(var e,n=t.childNodes.length;n--;)e=t.childNodes.item(n),e.getAttribute&&"server"!==Yn(e)&&t.removeChild(e)},Xn=function(t,e,n){return!t||t.getAttribute&&"server"!==Yn(t)?Bn(e,n):t.nodeType===e.nodeType&&t.nodeName===e.nodeName&&t.nodeValue===e.nodeValue?(("HEAD"===t.nodeName||"BODY"===t.nodeName)&&Kn(t),Bn(t,n)):Bn(e,n)},Gn=function(t,e,n,r,i){var o,u,a=e.children;return"string"==typeof t?("#text"===t?o=Vt.createTextNode(e.text):"#comment"===t?o=Vt.createComment(a.join("\n")):(e.xmlns?u=e.xmlns:"svg"===t?u="http://www.w3.org/2000/svg":"math"===t&&(u="http://www.w3.org/1998/Math/MathML"),o=u?Vt.createElementNS(u,t):Vt.createElement(t)),o=Xn(n,o,r?"server":"client"),("script"===t||"style"===t)&&$e.error("For security reasons, <script> and <style> elements are not allowed to be created.",i)):$e.error("`render` must return an object containing a `type` property with a primitive string or it must return `null`.",i),o},Qn={area:1,base:1,br:1,col:1,command:1,embed:1,hr:1,img:1,input:1,keygen:1,link:1,menuitem:1,meta:1,param:1,source:1,track:1,wbr:1},Zn=En("noscript"),Jn=function(t,e,n,r,i,o,u){var a,s,c,l,h,f;if(a=t.render(En)||Zn,s=this.cache,s!==a){if(this.cache=a,l=a.type,h=a.props,f=h.children,"add"===e&&(this.owner=n,this.depth=u,t.el=Gn(l,h,r.childNodes.item(i),o,this.owner)),c=t.el,c||$e.error("The `el` property is missing.",this.owner),s.type&&l!==s.type&&$e.error("You must not change the type of an component between updates. You have changed `"+s.type+"` to `"+l+"`.",this.owner),"#text"===l)return $e.queueAttrUpdate(c,"nodeValue",h.text,"prop");if("#comment"===l)return $e.queueAttrUpdate(c,"nodeValue",f.join("\n"),"prop");Qn[l]&&(null!=h.daugerousInnerHTML||null!=f)&&$e.error("`"+l+"` is a void element tag and must not have `children` or use `daugerousInnerHTML`.",this.owner),On(t,c,"cacheAttrs","cacheAttrsKeys",h,$n),Qn[l]||null!=h.daugerousInnerHTML||In(t,this,f,this.children,this.childrenMap,o)}},tr=function(t,e,n,r,i,o,u,a){var s,c;if(this.dontQueue=!0,"remove"===e)return this.updater.queueElemDeletion(t.el),q(t),void(this.queued=!1);if(s=t.props,"add"===e)t.props=n,t.initialize&&t.initialize(),t.componentWillMount&&t.componentWillMount();else if("update"===e||"forceUpdate"===e){if(n?t.componentWillReceiveProps&&t.componentWillReceiveProps(n):n=t.props,"update"===e&&t.shouldComponentUpdate&&(c=t.shouldComponentUpdate(n),c===!1))return t.props=n,this.queued=!1,void(this.dontQueue=!1);t.componentWillUpdate&&t.componentWillUpdate(n),t.props=n}this.queued=!1,this.dontQueue=!1,this.updateComponent(t,e,r,i,o,u,a),"add"===e?(Ge.add(t),this.updater.queueElemInsertion(t.el,o,i)):"update"===e&&i&&this.updater.queueElemMove(t.el,o,i),"add"===e?this.updater.queueCallback(t,"componentDidMount"):("update"===e||"forceUpdate"===e)&&this.updater.queueCallback(t,"componentDidUpdate",s)},er=Object.freeze({}),nr=Object.freeze([]),rr=function(){this.queued=!1,this.force=!1,this.renderToString=!1,this.children=nr,this.childrenMap=er,this.depth=0,this.updater=$e};rr.prototype={constructor:rr,cache:En(),cacheAttrs:er,cacheAttrsKeys:nr,cacheStyle:er,cacheStyleKeys:nr,queueUpdate:function(t,e,n){this.dontQueue||(this.queued?e&&(this.force=!0):(this.queued=!0,this.force=!!e,this.renderToString=!!n,this.updater.queueUpdate(t)))},update:tr,updateComponent:Jn},ke(N.prototype,_n,{update:function(){this.__internal__.queueUpdate(this)},forceUpdate:function(){this.__internal__.queueUpdate(this,!0)},bindMethodsToThis:function(){for(var t,e,n=this.__methods.length;n--;)t=this.__methods[n],e=this[t],this[t]=qt(e,this),this[t].original=e}});var ir=function(t,e){if(t){var n=Ge.get(t);if(n)return n;if(!e)return n=new N,n.el=t,Ge.add(n)?n:void 0}},or=function(t){var e=ir(Vt.createElement("div"));return e.render=function(e){return e(null,null,t)},e.__internal__.queueUpdate(e,!0,!0),e.el.innerHTML},ur=function(t,e,n){var r=ir(e);return r||Ee("mota.view.render","`parent` should be an DOM element"),r.render=function(e){return e(null,null,t)},Pt(n)&&(r.componentDidUpdate=function(){this.componentDidUpdate=void 0,n()}),r.update(),r.__internal__.children[0]},ar={classSet:Vn,Component:N,create:En,createClass:Tn,render:ur,renderToString:or,select:ir,styleSet:hn,dispatchEvents:ln()},sr=/[\-{}\[\]+?.,\\\^$|#\s]/g,cr=/\((.*?)\)/g,lr=/(\(\?)?:\w+/g,hr=/\*\w+/g,fr=/(?:(\(\?)?:\w+)|(?:\*\w+)/g,pr=/^\/+/,dr=/\/+$/,vr=/#.*/,gr=/\?.*/,mr=function(t,e){var n,r,i=[];for(n=0;n<t.length;n++)r=t[n],r&&"."!==r&&(".."===r?i.length&&".."!==i[i.length-1]?i.pop():e&&i.push(".."):i.push(r));return i},yr=function(t){var e,n;return e="/"===t.charAt(0)?"/":"",n=t.replace(pr,"/").replace(dr,e).split("/"),e+mr(n,!e).join("/")},_r=new RegExp("^(?:(?:((?:https?|ftp):)//)(?:(\\S+(?::\\S*)?)@)?((?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*)?(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))?)(?::(\\d{2,5}))?)?(/?\\S*)?$","i"),br=function(t,e){var n=this,r=(t||"").match(_r)||[];return this.auth=r[2]||"",this.hash="",this.hostname=r[3]||"",this.port=r[4]||"",this.protocol=r[1]||"",this.search="",this.host=this.hostname+(this.port?":"+this.port:""),this.pathname=(r[5]||"").replace(vr,function(t){
return n.hash=t||"",""}).replace(gr,function(t){return n.search=t||"",""}),this.pathname=yr(this.pathname),this.hostname&&!this.pathname&&(this.pathname="/"),this.path=this.pathname+this.search,this.fragment=this.path+this.hash,this.query=this.search.substring(1),e&&(this.query=V(this.query)),this.href=this.format(),this},wr=function(){return"/"===this.pathname.charAt(0)},Er=function(){var t,e="";return this.protocol&&(e+=D(this.protocol,":")+"//"),this.auth&&(e+=this.auth+"@"),this.host?e+=this.host:(this.hostname&&(e+=this.hostname),this.port&&(e+=":"+this.port)),this.pathname&&(e+=yr(this.pathname)),this.search?e+=O(this.search,"?"):this.query&&(t=L(this.query),t&&(e+="?"+t)),this.hash&&(e+=O(this.hash,"#")),e},xr=function(){var t,e,n=[];for(t=0;t<arguments.length;t++)e=arguments[t],e&&Xt(e)&&n.push(e);return R.normalize(n.join("/"))},jr=function(t){for(var e=t.length-1,n=0,r=e;e>=n&&!t[n];n++);for(;r>=0&&!t[r];r--);return 0===n&&r===e?t:n>r?[]:t.slice(n,r+1)},kr=function(t,e){var n,r,i,o,u,a,s,c;for(n=new R(t),r=new R(e),i=jr(n.pathname.split("/")),o=jr(r.pathname.split("/")),u=Math.min(i.length,o.length),a=u,s=0;u>s;s++)if(i[s]!==o[s]){a=s;break}for(c=[],s=a;s<i.length;s++)c.push("..");return c=c.concat(o.slice(a)),c.join("/")},Sr=function(){for(var t,e,n="",r=!1,i=arguments.length;i--;)if(""!==arguments[i]&&(t=new R(arguments[i]),e||(e=t),r||(n=t.pathname+"/"+n,r=t.isAbsolute()),t.host)){e.host=t.host,e.protocol=t.protocol;break}return n=mr(n.split("/"),!r).join("/"),e.pathname=(r?"/":"")+n,e.format()};ke(R.prototype,{format:Er,isAbsolute:wr,parse:br,toObject:function(){for(var t={},e=Ct(this),n=0;n<e.length;n++)t[e[n]]=this[e[n]];return t}}),R.format=function(t){return Er.call(t)},R.isAbsolute=function(t){return new R(t).isAbsolute()},R.join=xr,R.normalize=function(t){return new R(t).href},R.parse=function(t,e){return new R(t,e)},R.relative=kr,R.resolve=Sr;var Ar=/^\/+|\/+$/g,Ur={},Cr=function(t){return t.replace(sr,"\\$&").replace(cr,"(?:$1)?").replace(lr,function(t,e){return e?t:"([^/?]+)"}).replace(hr,"([^?]*)")},Mr=function(t){var e,n,r=Ur[t];return r?r:(e=new RegExp("^"+Cr(t)),n=(t.match(fr)||[]).map(function(t){return t.slice(1)}),r={regexp:e,names:n},Ur[t]=r)};P.prototype={constructor:P,normalize:function(t){return O(new R(t).fragment,"/")},route:function(t,e,n){var r=new P(t,e,n,this);return this.routes.push(r),this},setCallback:function(t){return this.callback=t,this},setDefaultCallback:function(t){return this.defaultCallback=t,this},triggerRoutes:function(t,e){var n,r,i=0,o=this.routes.length,u=function(t,r){var i=n.params.names[r];e[i]=t?decodeURIComponent(t):null};for(t=this.normalize(t),this.callback&&this.callback(e,t);o>i;i++)if(n=this.routes[i],r=t.match(n.params.regexp))return e={},r.slice(1).forEach(u),void n.triggerRoutes(t,e);this.defaultCallback&&this.defaultCallback(t)}};var Tr;F.extend=Ue,ke(F.prototype,P.prototype,{constructor:F,_join:function(t){return"/"!==this.root?this.root+t:t},checkUrl:function(){return this.triggerRoutes(this.getFragment())},getFragment:function(){var t=this.root,e=this.location,n=e.pathname+e.search+e.hash;return 0===n.indexOf(t)&&(n=n.slice(t.length)),this.fragment=this.normalize(n)},start:function(t){this._started||(this._started=!0,this.root=this.normalize(t&&t.root),this.checkUrl(),this.window.on("popstate",this.checkUrl,this))},stop:function(){this._started&&(this._started=!1,this.window.off("popstate",this.checkUrl,this))},navigate:function(t,e){return this._started?(e&&e!==!0||(e={replace:!!e}),t=this.normalize(t),void(this.fragment!==t&&(this.fragment=t,this.history[e.replace?"replaceState":"pushState"]({},Vt.title,this._join(t)),this.triggerRoutes(t)))):!1},redirect:function(t,e){var n=this.navigate.bind(this,e);this.route(t,function(){this.setCallback(n)})}});var zr="@@__MOTA_PROMISE__@@",Ir=0,qr=1,Nr=2,Vr=function(){return"object"==typeof process&&"[object process]"===process.toString()&&process.nextTick?function(t){process.nextTick(t)}:"function"==typeof setImmediate?function(t){setImmediate(t)}:function(t){setTimeout(t,0)}}(),Or=function(t){var e=this;this.value=null,this.state=Ir,this.queue=[],this.handlers={fulfill:K,reject:X},Pt(t)&&t(function(t){H(e,t)},function(t){B(e,Nr,t)})};Or.prototype[zr]=!0,Or.prototype.then=function(t,e){var n=new Or;return Pt(t)&&(n.handlers.fulfill=t),Pt(e)&&(n.handlers.reject=e),this.queue.push(n),$(this),n};var Dr="catch";Or.prototype[Dr]=function(t){return this.then(null,t)};var Lr="finally";Or.prototype[Lr]=function(t){return this.then(function(e){return Or.resolve(t()).then(function(){return e})},function(e){return Or.resolve(t()).then(function(){throw e})})},Or.prototype.done=function(t,e){this.then(t,e)[Dr](G)},Or.resolved=Or.resolve=function(t){return new Or(function(e){e(t)})},Or.rejected=Or.reject=function(t){return new Or(function(e,n){n(t)})},Or.deferred=Or.defer=function(){var t,e;return{promise:new Or(function(n,r){t=n,e=r}),resolve:t,reject:e}},Or.all=function(t){return new Or(function(e,n){var r=[],i=0,o=0;return An(t,function(t){var u=o++;i++,Or.resolve(t).then(function(t){r[u]=t,i--,0===i&&e(r)},n)},null,!1),0===o?e(r):void 0})},Or.race=function(t){return new Or(function(e,n){An(t,function(t){Or.resolve(t).then(e,n)},null,!1)})};var Rr={},Pr=5,Fr=32,Wr=Fr-1,Hr=Fr/2,$r=Fr/4,Yr="@@__MOTA_MAP__@@",Br=function(t){return t&&this.owner===t},Kr=function(t){for(var e,n=this.children,r=0,i=n.length;i>r;r++)if(e=n[r],e&&e.forEach(t)===!1)return!1},Xr=function(t,e,n,r){var i,o,u;if(r)u=t;else for(i=0,o=t.length,u=new Array(o);o>i;i++)u[i]=t[i];return void 0!==e&&(u[e]=n),u},Gr=function(t,e,n,r){for(var i,o=new Array(n),u=0,a=0,s=0,c=1,l=e.length;l>s;s++)i=e[s],i&&s!==r&&(a|=c,o[u++]=i),c<<=1;return new Z(t,a,o)};ke(Q.prototype,{isEditable:Br,forEach:Kr,lookup:function(t,e,n,r){void 0===e&&(e=a(n));var i=this.children[(0===t?e:e>>>t)&Wr];return i?i.lookup(t+Pr,e,n,r):r},modify:function(t,e,n,r,i){void 0===n&&(n=a(r));var o,u,s,c,l=(0===e?n:n>>>e)&Wr,h=this.children,f=h[l];if(!f&&i.get(i.notSetValue)===i.notSetValue)return this;if(o=ni(f,t,e+Pr,n,r,i),o===f)return this;if(u=this.count,f){if(!o&&(u--,$r>u))return Gr(t,h,u,l)}else u++;return s=this.isEditable(t),c=Xr(h,l,o,s),s?(this.count=u,this.children=c,this):new Q(t,u,c)}});var Qr=function(t,e,n,r){var i,o,u,a=t.length+1;if(r&&e+1===a)return t[e]=n,t;for(i=new Array(a),o=u=0;a>o;o++)o===e?(i[o]=n,u=-1):i[o]=t[o+u];return i},Zr=function(t,e,n){var r,i,o,u=t.length-1;if(n&&e===u)return t.pop(),t;for(r=new Array(u),i=o=0;u>i;i++)i===e&&(o=1),r[i]=t[i+o];return r},Jr=function(t){return t-=t>>1&1431655765,t=(858993459&t)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,127&t},ti=function(t,e,n,r,i){for(var o=new Array(Fr),u=0,a=0;n;u++)1&n&&(o[u]=e[a],a++),n>>>=1;return o[r]=i,new Q(t,a+1,o)};ke(Z.prototype,{isEditable:Br,forEach:Kr,lookup:function(t,e,n,r){void 0===e&&(e=a(n));var i=1<<((0===t?e:e>>>t)&Wr),o=this.bitmap;return o&i?this.children[Jr(o&i-1)].lookup(t+Pr,e,n,r):r},modify:function(t,e,n,r,i){void 0===n&&(n=a(r));var o,u,s,c,l,h,f,p,d=(0===e?n:n>>>e)&Wr,v=1<<d,g=this.bitmap,m=0!==(g&v);return m||i.get(i.notSetValue)!==i.notSetValue?(o=Jr(g&v-1),s=this.children,c=m?s[o]:void 0,l=ni(c,t,e+Pr,n,r,i),l===c?this:(u=s.length,!m&&l&&u>=Hr?ti(t,s,g,d,l):m&&!l&&2===u&&s[1^o].isLeaf?s[1^o]:m&&l&&1===u&&l.isLeaf?l:(h=this.isEditable(t),f=m?l?g:g^v:g|v,p=m?l?Xr(s,o,l,h):Zr(s,o,h):Qr(s,o,l,h),h?(this.bitmap=f,this.children=p,this):new Z(t,f,p)))):this}}),ke(J.prototype,{isLeaf:!0,isEditable:Br,forEach:Kr,lookup:function(t,e,n,r){for(var i,o=0,u=this.children.length;u>o;o++)if(i=this.children[o],we(i.key,n))return i.value;return r},modify:function(t,e,n,r,i){void 0===n&&(n=a(r));var o,u,s,c,l,h,f,p,d,v;if(n!==this.hash)return o=i.get(i.notSetValue),(s=o===i.notSetValue)?this:(i.changeValue=!0,i.changeSize=!0,ei(this,t,e,new tt(t,n,r,o)));for(f=this.children,c=0,l=f.length;l>c;c++)if(v=f[c],we(v.key,r)){u=v.value;break}return h=l>c,o=i.get(h?u:i.notSetValue),s=o===i.notSetValue,(h?v.value===o:s)?this:(i.changeValue=!0,(s||!h)&&(i.changeSize=!0),s&&2===l?(v=f[1^c],new tt(t,this.hash,v.key,v.value)):(p=this.isEditable(t),d=p?f:Xr(f),h?s?c===l-1?d.pop():d[c]=d.pop():d[c]=new tt(t,n,r,o):d.push(new tt(t,n,r,o)),p?(this.children=d,this):new J(t,this.hash,d)))}});var ei=function(t,e,n,r){var i,o,u=t.hash,a=r.hash;return u===a?new J(e,u,[r,t]):(i=u>>>n&Wr,o=a>>>n&Wr,new Z(e,1<<i|1<<o,i===o?[ei(t,e,n+Pr,r)]:o>i?[t,r]:[r,t]))};ke(tt.prototype,{isLeaf:!0,isEditable:Br,lookup:function(t,e,n,r){return we(this.key,n)?this.value:r},modify:function(t,e,n,r,i){var o=we(this.key,r),u=i.get(o?this.value:i.notSetValue),s=u===i.notSetValue;return(o?this.value===u:s)?this:(i.changeValue=!0,s?void(i.changeSize=!0):o?this.isEditable(t)?(this.value=u,this):new tt(t,this.hash,r,u):(i.changeSize=!0,void 0===n&&(n=a(r)),ei(this,t,e,new tt(t,n,r,u))))},forEach:function(t){return t(this)}});var ni=function(t,e,n,r,i,o){var u;if(!t){if(u=o.get(o.notSetValue),u===o.notSetValue)return;return void 0===r&&(r=a(i)),o.changeValue=!0,o.changeSize=!0,new tt(e,r,i,u)}return t.modify(e,n,r,i,o)},ri=function(t,e){return{changeSize:!1,changeValue:!1,notSetValue:e,func:t,get:et}},ii=0,oi=1,ui=2,ai=function(t,e,n){this.__type=void 0===e?ui:e,this.__reverse=n,this.__stack=t.__root&&nt(t.__root)};ai.prototype={constructor:ai,next:function(){for(var t,e,n,r,i,o=this.__type,u=this.__reverse,a=this.__stack;a;){if(t=a.node,e=t.children,n=a.index++,e){if(r=e.length-1,r>=n){if(i=e[u?r-n:n]){if(!i.children)return it(i.key,i.value,o);a=this.__stack=nt(i,a)}continue}}else if(0===n)return it(t.key,t.value,o);a=this.__stack=this.__stack.prev}return rt()},toString:function(){return"[object MotaMap Iterator]"}},Sn(ai.prototype,"iterator",function(){return this});var si={},ci={get:function(t,e){var n=this.__root;return n?n.lookup(0,void 0,t,e):e},has:function(t){return si!==this.get(t,si)},set:function(t,e){var n=ri(void 0,si);return n.value=e,ot(this,t,n)},remove:function(t){var e=ri(void 0,si);return e.value=si,ot(this,t,e)},update:function(t,e,n){return ot(this,t,ri(e,n))},__triggerChangeEvent:function(){if(this.isMutable()){var t=this.__changes;if(this.__changes=[],t&&t.length)return this.trigger("change",t),!0}return!1},clear:function(){if(this.isImmutable())return li;if(this.hasListeners()){var t=this.__changes;t||(t=this.__changes=[]),this.forEach(function(e,n){t.push({type:"delete",key:n,name:n,oldValue:e})})}return this.size=0,this.__root=void 0,this.__triggerChangeEvent(),this},count:function(){return this.size},keys:function(){return new ai(this,ii,!1)},values:function(){return new ai(this,oi,!1)},entries:function(){return new ai(this,ui,!1)},forEach:function(t,e){var n,r=this,i=0;return this.size&&(n=j(t,e),this.__root.forEach(function(t){return i++,n(t.value,t.key,r)})),i},isMutable:function(){return!!this.__owner},isImmutable:function(){return!this.__owner},asMutable:function(){return this.isMutable()?this:lt(!0,this.size,this.__root)},asImmutable:function(){return this.isMutable()?this.size?lt(!1,this.size,this.__root):li:this},clone:function(){return this.isImmutable()?this:lt(!0,this.size,this.__root)},merge:function(t,e){var n,r,i;return t?this===li&&ut(t)&&t.isImmutable()?t:(n=this.asMutable(),r=!1,i=be(t),An(t,function(t,o){i&&(o=t[0],t=t[1]);var u=ri(void 0,si);u.value=t,e===Rr?(ot(n,o,u,e),u.changeValue&&(r=!0)):ot(n,o,u,!0)}),r||n.__triggerChangeEvent()?n===this?n:n.asImmutable():this):this}};ci[Yr]=!0,ci.pairs=ci.entries,ci.unset=ci["delete"]=ci.remove,at.isMap=ut,st.isMap=ut,ct(at.prototype,ci),ct(st.prototype,ci),ke(at.prototype,_n);var li=lt(!1,0,void 0);return ht(ft,"VERSION","0.10.0",!0),ht(ft,"__DEV__",!1,!1),ht(ft,"developmentMode",!1,!1),Ce.hashCode=a,Ce.extend(ft,Ce,{Events:_n,Map:at,ImmutableMap:st,path:R,Promise:Or,Router:F,util:Ce,view:ar,setWindow:Ot}),ft});
//# sourceMappingURL=mota.min.js.map