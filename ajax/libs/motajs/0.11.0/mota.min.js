/*!
 * MotaJS v0.11.0
 * http://motapc.js.org/motajs
 *
 * Released under the MIT license
 * https://github.com/motapc97/MotaJS/blob/master/LICENSE.md
 *
 * Project
 * https://github.com/motapc97/MotaJS
 *
 * Date: 2016-02-08T18:51Z
 */
!function(t){if("function"==typeof define&&define.amd)define(function(){return t()});else if("undefined"!=typeof exports){var e=t();"undefined"!=typeof module&&module.exports&&(exports=module.exports=e),exports.mota=e}else window.mota=t()}(function(){function t(t,e){var n={},r=0;return function(i){return void 0===e||i.length>e?(void 0===n[i]&&(r===Rt&&(n={},r=0),n[i]=t(i),r++),n[i]):t(i)}}function e(t){return t>>>1&1073741824|3221225471&t}function n(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}function r(t,n){return t=Ft(t,3432918353),t=Ft(t<<15|t>>>-15,461845907),t=Ft(t<<13|t>>>-13,5),t=(t+3864292196|0)^n,t=Ft(t^t>>>16,2246822507),t=Ft(t^t>>>13,3266489909),e(t^t>>>16)}function i(t){var e=!1,i=!0,o=e?1:0,s=t.forEach(i?e?function(t,e){o=31*o+n(u(t),u(e))|0}:function(t,e){o=o+n(u(t),u(e))|0}:e?function(t){o=31*o+u(t)|0}:function(t){o=o+u(t)|0});return r(o,s)}function o(t){return Ht.get(t,"hash")}function u(t){var n,r;if(!t)return 0;if("function"==typeof t.valueOf&&(t=t.valueOf(),!t))return 0;if(t===!0)return 1;if(n=typeof t,"number"===n){for(r=0|t,r!==t&&(r^=4294967295*t);t>4294967295;)t/=4294967295,r^=t;return e(r)}return"string"===n?Wt(t):(r=o(t),void 0!==r?r:("function"==typeof t.isImmutable&&t.isImmutable()?r=i(t):(r=$t++,1073741824&$t&&($t=1)),Ht.setup(t,"hash",r),r))}function s(t,e){for(var n,r=[],i=0;n=i+e,n<t.length;i++)r[i]=t[n];return r}function a(t,e){return null==e?t():t.call(e)}function c(t,e){switch(e.length){case 0:return t();case 1:return t(e[0]);case 2:return t(e[0],e[1]);case 3:return t(e[0],e[1],e[2]);case 4:return t(e[0],e[1],e[2],e[3]);case 5:return t(e[0],e[1],e[2],e[3],e[4]);default:return t.apply(void 0,e)}}function h(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2]);case 4:return t.call(e,n[0],n[1],n[2],n[3]);case 5:return t.call(e,n[0],n[1],n[2],n[3],n[4]);default:return t.apply(e,n)}}function l(t,e,n){return t?n?null==e?c(t,n):h(t,e,n):a(t,e):void 0}function f(t,e){return function(){for(var n=0;n<t.length;n++)l(t[n],this,arguments);return l(e,this,arguments)}}function p(t){var e=Me.iterator;return e?t[e]():t["@@iterator"]()}function d(t){var e=Me.iterator;return e?t[e]:t["@@iterator"]}function v(t,e){var n=Me.iterator;n&&(t[n]=e),t["@@iterator"]=e}function m(t,e,n){var r=t.prototype;r.entries=function(){return new e(this,Oe)},r.values=function(){return new e(this,Ie)},r.keys=function(){return new e(this,Ne)},v(r,r[n])}function g(t){return Re(t)||!!t&&de(d(t))}function y(t){return Re(t)||!!t&&t.values!==t.keys&&de(t.values)&&de(t.keys)&&t.values===d(t)}function b(t){return!!t&&de(t.entries)&&t.entries===d(t)}function _(t){return y(t)||b(t)}function w(t,e,n,r,i){this.type=t,this.namespaces=e,this.handler=n,this.context=r,this.isRegExp=i,this.once=!1,this._index=-1}function x(t,e){var n,r,i,o=[],u=t[0],s=t[1],a=t[2],c=Xt(u),h="regexp"===c;if(h)e.push(new w(u,void 0,s,a,h));else if("object"===c){s&&(a=s);for(r in u)x([r,u[r],a],e)}else for(u=(u||"").match(hn)||[""],n=0;n<u.length;n++)r=(u[n].match(fn)||o)[0],i=u[n].match(ln),e.push(new w(r,i,s,a,h));return e}function E(t,e){var n,r,i;for(t.length>e.length?(n=e,r=t):(n=t,r=e),i=n.length;i--;)if(r.indexOf(n[i])>-1)return!0;return!1}function j(t,e,n,r,i,o,u){var s,a=(!n||Je(t.type,n)||u&&t.isRegExp&&(s=n.match(t.type)))&&(!i||t.handler===i)&&(!r||0===r.length||t.namespaces&&E(t.namespaces,r))&&(!o||t.context===o);return void 0!==s?s:a}function S(){this.arr=[],this._maxListeners=void 0}function k(t){return Ht.setup(t,"events",new S)}function T(t){this.data=t,this.left=null,this.right=null}function M(t,e){return null==e?t:function(n,r,i){return t.call(e,n,r,i)}}function z(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t)===jn)return}function C(t,e,n){for(var r,i=0;!(r=n.next()).done;){if(e(r.value,i,t)===jn)return;i++}}function L(t,e,n){for(var r,i;!(r=n.next()).done&&(i=r.value,e(i[1],i[0],t)!==jn););}function N(t,e){for(var n,r=0,i=Jt(t);r<i.length;r++)if(n=i[r],e(t[n],n,t)===jn)return}function I(t,e,n){var r,i;return r=d(t),de(r)?(i=p(t),r===t.entries?L(t,e,i):C(t,e,i)):n!==!1?N(t,e):void 0}function O(t,e,n){var r=n.childNodes,i=e>=r.length?null:r.item(e);t!==i&&n.insertBefore(t,i)}function A(t){t.queued&&t.update(null,null,t.renderToString)}function R(t){var e=t.elem,n=t.name,r=t.value,i=t.type;"attr"===i?null==r?e.removeAttribute(n):e.setAttribute(n,r+""):"prop"===i?e[n]=r:"style"===i&&(e.style[n]=r)}function P(t){var e=t.elem;e.parentNode.removeChild(e)}function V(t){return O(t.elem,t.index,t.parent)}function U(t){t.component[t.name](t.arg)}function q(t){return!(!t||!t[sr])}function D(t){t.prototype[sr]=!0}function H(t){var e="";return N(t,function(t,n){t&&(e+=Lr(n)+":"+t+";")}),e}function F(t){var e="";return t._attrs.style=t.style,t._attrs["class"]=t.className||t._attrs["class"],N(t._attrs,function(t,n){"style"===n&&(t=H(t)),t&&(e+=" "+n+'="'+Ir(t)+'"')}),e}function W(t){var e=t._tagName,n="<"+e+F(t);return n+=Sr[e]?" />":">"+B(t)+"</"+e+">"}function $(t){switch(t.nodeType){case 3:return Nr(t.nodeValue);case 8:return"<!--"+t.nodeValue+"-->";default:return W(t)}}function B(t){for(var e=0,n="",r=t.childNodes;e<r.length;e++)n+=$(r[e]);return n}function K(t){return this[t]}function Q(t){this._tagName=(t+"").toLowerCase(),this._attrs={},this.nodeType=1,this.className="",this.childNodes=[],this.childNodes.item=K,this.style={}}function Y(t){this.nodeValue=t+"",this.nodeType=3,this.nodeName="#text"}function G(t){this.nodeValue=t+"",this.nodeType=8,this.nodeName="#comment"}function X(t){return t.charAt(0).toUpperCase()+t.substring(1)}function Z(t,e){return null==e||"boolean"==typeof e||""===e?"":0===e||Hr[t]||isNaN(e)?e+"":("string"==typeof e&&(e=e.trim()),e+"px")}function J(t,e,n,r,i){n=Fr(n),n&&(i=Z(n,i),e.style[n]!==i&&Un(e,n,i,"style"))}function tt(t){var e=t.component;t.dontQueue=!0,t.queued=!1,e.componentWillUnmount&&e.componentWillUnmount(),wn.remove(t.el),e.el=e.__internal__=null,t.traverse(tt)}function et(){this.__internal__=new Jr(this),this.el=null,this.props=null}function nt(t){var e,n,r,i,o={},u=0;if(!t)return o;for(e=t.split("&");u<e.length;u++)e[u]&&(n=e[u].split("="),r=decodeURIComponent(n[0]),i=n[1]?decodeURIComponent(n[1]):"",void 0!==o[r]?Re(o[r])?o[r].push(i):o[r]=[o[r],i]:o[r]=i);return o}function rt(t,e){return t.charAt(0)===e?t:e+t}function it(t,e){return t.charAt(t.length-1)===e?t:t+e}function ot(t){if("string"==typeof t)return t;var e,n,r,i,o,u="";for(e in t)if(n=encodeURIComponent(e),r=t[e],Re(r))for(o=0;o<r.length;o++)i=r[o]?encodeURIComponent(r[o]):"",u+="&"+n+"="+i;else i=r?encodeURIComponent(r):"",u+="&"+n+"="+i;return u.substring(1)}function ut(t,e){yi.call(this,t,e)}function st(t,e,n,r){de(e)&&(n=e,e=t,t=void 0),e||tn("mota.Router.route","Provide a non-empty path"),this.name=t,this.parent=r,this.path=(r.path||"")+"/"+e.replace(Si,""),this.params=Ti(this.path),this.routes=[],n.call(this)}function at(){this.routes=[],this.history=ue.history,this.location=this.history&&this.history.location||ue.location,this.window=Mi||(Mi=oi.select(ue)),this.initialize&&l(this.initialize,this,arguments)}function ct(t){return t===Ci||t===Ni||t===Li}function ht(t,e,n){t.state!==e&&t.state===Ci&&ct(e)&&3===arguments.length&&(t.value=n,t.state=e,pt(t))}function lt(t){return!(!t||!t[zi])}function ft(t,e){if(t===e)ht(t,Ni,new TypeError("The promise and its value refer to the same object"));else if(lt(e))e.state===Ci?e.then(function(e){ft(t,e)},function(e){ht(t,Ni,e)}):ht(t,e.state,e.value);else if(Zt(e)||de(e)){var n,r=!1;try{n=e.then,de(n)?n.call(e,function(e){r||(ft(t,e),r=!0)},function(e){r||(ht(t,Ni,e),r=!0)}):(ht(t,Li,e),r=!0)}catch(i){r||(ht(t,Ni,i),r=!0)}}else ht(t,Li,e)}function pt(t){t.state!==Ci&&Ii(function(){for(;t.queue.length;){var e,n=t.queue.shift(),r=null;t.state===Li?r=n.handlers.fulfill:t.state===Ni&&(r=n.handlers.reject);try{e=r(t.value)}catch(i){ht(n,Ni,i);continue}ft(n,e)}})}function dt(t){return t}function vt(t){throw t}function mt(t){Ii(function(){throw t})}function gt(t){if(null!=t){if(!de(t))throw new TypeError(t+" is not a function");return t}}function yt(t,e){var n=t.cancel;if(t._done=!0,t.subscriber=null,n){try{n()}catch(r){}t.cancel=null}if(e)throw e}function bt(){this.arr=[]}function _t(t,e){return{node:t,index:0,prev:e}}function wt(t,e,n){return{value:n===Oe?[t,e]:n===Ne?t:e,done:!1}}function xt(t){this.children=[],this.owner=t,this.bitmap=0}function Et(t){return t-=t>>1&1431655765,t=(858993459&t)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,127&t}function jt(t,e,n,r){var i=n.hash,o=r.hash,u=new xt(t),s=u.children,a=(0===e?i:i>>>e)&Ji,c=(0===e?o:o>>>e)&Ji;return u.bitmap=1<<a|1<<c,c>a?(s[0]=n,s[1]=r):a>c?(s[0]=r,s[1]=n):s[0]=jt(t,e+Xi,n,r),u}function St(t,e,n,r){this.children=[n,r],this.hash=t,this.owner=e}function kt(t,e,n,r){this.key=t,this.value=e,this.hash=n,this.owner=r}function Tt(){return no.changeValue=!1,no.changeSize=!1,no.oldValue=void 0,no}function Mt(t,e,n,r){var i=u(e),o=t.__owner,s=n===Gi,a=t.__root,c=0,h=Tt();return a?a=t.__root.modify(e,n,i,0,o,h):s||(h.changeValue=!0,h.changeSize=!0,a=new kt(e,n,i,o)),h.changeValue?(c=t.size+(h.changeSize?s?-1:1:0),c||o?(o?(t.__root=a,t.size=c):t=It(!1,c,a),o&&!r&&(change={type:s?"delete":h.changeSize?"add":"update",key:e},change.name=e,s?change.oldValue=h.oldValue:(change.value=change.newValue=n,h.changeSize||(change.oldValue=h.oldValue)),changes=t.__changes,changes||(changes=t.__changes=[]),changes.push(change)),t):io):t}function zt(){}function Ct(t){return!(!t||!t[to])}function Lt(t){return this.__root=null,this.__owner=null,this.__changes=null,this.size=0,t===Yi?this:It(!0,0,null).merge(t,Yi)}function Nt(t){return this.__root=null,this.__owner=null,this.size=0,t===Yi?this:io.merge(t,Yi)}function It(t,e,n){var r=t?new Lt(Yi):new Nt(Yi);return r.size=e||0,r.__root=n,t&&(r.__owner={}),r}function Ot(t,e,n,r){Object.defineProperty(t,e,{configurable:!1,enumerable:r,value:n,writable:!1})}function At(){}var Rt=255,Pt={}.toString,Vt="[object process]"===("undefined"!=typeof global&&global&&Pt.call(global.process)),Ut=Object.defineProperty,qt="function"==typeof Symbol;Vt&&/^v0/.test(process.version)&&(qt=!1);var Dt=qt&&Symbol("mota internal")||("__mota__"+Math.random()).replace(/0\./g,""),Ht={setup:function(t,e,n,r){var i=t[Dt];return i||(i={vComp:null,events:null},r||qt?t[Dt]=i:Ut(t,Dt,{writable:!0,value:i})),i[e]?i[e]:i[e]=n},get:function(t,e){var n=t[Dt];return n&&n[e]}},Ft=Math.imul;("function"!=typeof Ft||-2!==Ft(4294967295,2))&&(Ft=function(t,e){var n=t>>>16&65535,r=65535&t,i=e>>>16&65535,o=65535&e;return r*o+(n*o+r*i<<16>>>0)|0});var Wt=t(function(t){for(var n=0,r=0;n<t.length;n++)r=31*r+t.charCodeAt(n)|0;return e(r)},16),$t=1,Bt=function(t,e){console.warn(t+" WARNS: "+e)},Kt=function(t,e){var n,r;for(n in e)if(r=e[n],r&&!r(t[n],n,t))return!1;return!0},Qt={},Yt=function(t){return t=t?t+"":"",Qt[t]||(Qt[t]=0),t+ ++Qt[t]},Gt={"[object Array]":"array","[object Boolean]":"boolean","[object Date]":"date","[object Error]":"error","[object Function]":"function","[object GeneratorFunction]":"function","[object Number]":"number","[object Object]":"object","[object RegExp]":"regexp","[object String]":"string","[object Symbol]":"symbol"},Xt=function(t){var e=typeof t;return"object"===e||"function"===e?null===t?"null":Gt[Pt.call(t)]||"object":e},Zt=function(t){var e;return!!t&&("function"==(e=typeof t)||"object"===e)},Jt=Object.keys,te=function(t,e){if(!Zt(t))return[];if(e){var n,r=[];for(n in t)r.push(n);return r}return Jt(t)},ee=function(t){for(var e=te(t),n=e.length,r=Array(n),i=0;n>i;i++)r[i]=[e[i],t[e[i]]];return r},ne=function(t,e){return function(){return l(t,e,s(arguments,0))}},re="[object Window]",ie="[object global]",oe=function(t){if(t===ue)return!0;if(!t||"object"!=typeof t)return!1;if(!Vt&&t.window!==t)return!1;var e=Pt.call(t);return e===re||e===ie},ue="object"==typeof self&&self.self==self&&self||"object"==typeof global&&global.global==global&&global,se=ue&&ue.document,ae=function(t){oe(t)&&(ue=t,se=t.document)},ce=ue.mota,he=function(){return ce&&(ue.mota=ce),this},le=[],fe=le.slice,pe=function(t){return"function"===Xt(t)};"function"!=typeof/./&&"object"!=typeof Int8Array&&(pe=function(t){return"function"==typeof t||!1});var de=pe,ve=function(t,e){var n,r,i,o=t&&t.prototype,u={};if(!o)return t;for(var s=0;s<e.length;s++){n=e[s];for(r in n)u[r]||(u[r]=[]),u[r].push(n[r])}for(r in u)i=o[r],o[r]=f(u[r],de(i)&&i);return t},me=function(t,e){console.log(t+" LOG: "+e)},ge=function(t){return void 0===t},ye=function(t){return"string"===Xt(t)},be=function(t){return"regexp"===Xt(t)},_e={}.hasOwnProperty,we=function(t,e){return null!=t&&_e.call(t,e)},xe=function(t){var e;return!t||"object"!=typeof t||"[object Object]"!==Pt.call(t)||we(t,"constructor")?!1:(e=t.constructor)?de(e)&&e instanceof e:!0},Ee=function(t){return"object"===Xt(t)},je=function(t){return"number"===Xt(t)},Se=function(t){return null===t},ke=function(t){return null==t},Te=function(t){return t!=+t&&je(t)},Me="function"==typeof Symbol?Symbol:{},ze=function(t){return Me[t]||"@@"+t},Ce=function(t,e){var n=Me[e];return n?t[n]:t["@@"+e]},Le=function(t,e,n){var r=Me[e];r&&(t[r]=n),t["@@"+e]=n},Ne=0,Ie=1,Oe=2,Ae=Object.freeze({value:void 0,done:!0}),Re=Array.isArray,Pe=isFinite,Ve=function(t){return je(t)&&Pe(t)},Ue=function(t){return"error"===Xt(t)},qe=function(t,e,n){if(t===e)return!n||0!==t||1/t==1/e;if(t!==t)return e!==e;if(null==t||null==e)return t===e;var r=typeof t;if("function"!==r&&"object"!==r&&"object"!=typeof e)return!1;var i=Pt.call(t);if(i!=Pt.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return t=+t,e=+e,t!==t?e!==e:t===e?!n||0!==t||1/t==1/e:!1;case"[object Date]":case"[object Boolean]":return+t===+e}return i},De=function(t,e,n,r){var i=qe(t,e,!0);if(i===!0||i===!1)return i;var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var u=t.constructor,s=e.constructor;if(!(u===s||xe(t)&&xe(e)))return!1}n=n||[],r=r||[];for(var a=n.length;a--;)if(n[a]===t)return r[a]===e;if(n.push(t),r.push(e),o){if(a=t.length,a!==e.length)return!1;for(;a--;)if(!De(t[a],e[a],n,r))return!1}else{var c,h=te(t);if(a=h.length,te(e).length!==a)return!1;for(;a--;)if(c=h[a],!we(e,c)||!De(t[c],e[c],n,r))return!1}return n.pop(),r.pop(),!0},He=function(t,e){return De(t,e)},Fe=function(t){return"[object Arguments]"===Pt.call(t)},We=function(t){if(null==t)return!0;if(Re(t)||ye(t)||Fe(t))return 0===t.length;for(var e in t)if(we(t,e))return!1;return!0},$e=function(t){return t&&1===t.nodeType?Vt?!0:Pt.call(t).indexOf("Element")>-1:!1},Be="[object HTMLDocument]",Ke="[object Document]",Qe=function(t){var e;if(t===se)return!0;if(!t||null!==t.parentNode||!(e=t.defaultView))return!1;if(Vt)return oe(e);var n=Pt.call(t);return n===Be||n===Ke},Ye=function(t){return"date"===Xt(t)},Ge=function(t){return t===!0||t===!1||"boolean"===Xt(t)},Xe=Math.pow(2,53)-1,Ze=function(t){var e,n=Xt(t);return"array"===n?!0:"object"!==n||oe(t)?!1:(e="length"in t&&t.length,0===e?!0:"number"==typeof e&&e>0&&Xe>=e&&e-1 in t)},Je=function(t,e){var n=qe(t,e,!1);if(n===!0||n===!1)return n;if(t.size!==e.size)return!1;if(de(t.isMutable)&&!t.isMutable()&&de(e.isMutable)&&!e.isMutable()){var r=o(t),i=o(e);if(null!=r&&null!=i&&r!==i)return!1;var u=!0,s={};return t.forEach(function(t,n){var r=e.get(n,s);return r!==s&&Je(t,r)?void 0:u=!1}),u}return!1},tn=function(t,e){throw t+" ERROR: "+e},en=function(t,e){return function(n){var r,i,o,u,s,a,c=arguments.length;if(2>c||null==n)return n;for(r=1;c>r;r++)for(i=arguments[r],o=te(i,t),u=o.length,s=0;u>s;s++)a=o[s],e&&void 0!==n[a]||(n[a]=i[a]);return n}},nn=en(!0,!0),rn=function(t){var e,n,r,i,o,u,s=1,a=arguments.length,c=!1;if(t===!0&&(c=t,t=arguments[s],s++),!Zt(t))return t;for(;a>s;s++)if(null!=(e=arguments[s]))for(n in e)r=t[n],i=e[n],t!==i&&(c&&i&&("object"===(o=Xt(i))||"array"===o)?(u="array"===o?r&&Re(r)?r:[]:r&&Ee(r)?r:{},t[n]=rn(c,u,i)):void 0!==i&&(t[n]=i));return t},on=function(t){var e,n,r;if(t===!0&&we(arguments,1)&&(e=t,t=arguments[1]),!Zt(t))return t;switch(Xt(t)){case"array":return e?rn(e,[],t):fe.call(t);case"number":case"string":case"date":case"boolean":return new(n=t.constructor)(t);case"regexp":return n=t.constructor,r=new n(t),r.lastIndex=t.lastIndex,r;default:return e?rn(e,{},t):rn({},t)}},un=Object.create,sn=function(t,e,n){var r,i,o=this;return i=t&&we(t,"constructor")?t.constructor:o,r=n?function(){var t=un(r.prototype),e=l(i,t,arguments);return Zt(e)?e:t}:function(){return l(i,this,arguments)},r.prototype=un(o.prototype),r.prototype.constructor=r,t&&rn(r.prototype,t),rn(r,o,e),r.__super__=o.prototype,r},an={apply:l,classExtend:sn,clone:on,extend:rn,defaults:nn,err:tn,has:we,is:Je,isArguments:Fe,isArray:Re,isArrayLike:Ze,isBoolean:Ge,isDate:Ye,isDocument:Qe,isElement:$e,isEmpty:We,isEqual:He,isError:Ue,isFinite:Ve,isFunction:de,isIterable:g,isIndexed:y,isKeyed:b,isAssociative:_,isNaN:Te,isNil:ke,isNull:Se,isNumber:je,isObject:Ee,isObjectLike:Zt,isPlainObject:xe,isRegExp:be,isString:ye,isUndefined:ge,isWindow:oe,keys:te,log:me,mixin:ve,noConflict:he,noPartial:ne,pairs:ee,type:Xt,uniqueId:Yt,validate:Kt,warn:Bt},cn=Date.now,hn=/\S+/g,ln=/\.[^.]+/g,fn=/^[^.]+/g,pn={length:function(){return this.arr.length},add:function(t){t._index=this.arr.push(t)-1},remove:function(t){for(var e=this.arr,n=t._index,r=n+1,i=e.length;i>r;n+=1,r+=1)e[n]=e[r],e[n]._index=n;e.pop()},forEach:function(t){for(var e=this.arr,n=0,r=e.length;r>n;n++)t(e[n])},safeForEach:function(t){for(var e=this.arr,n=0,r=e.length,i=[];r>n;n++)i.push(e[n]);for(n=0;r>n;n++)t(i[n])}};S.prototype=rn({constructor:S,getListeners:function(t,e,n){var r="getFirst"===n,i="trigger"===n,o=e.type,u=e.namespaces,s=e.handler,a=e.context;this.forEach(function(n){var c=j(n,e,o,u,s,a,i);return c&&(t.push({listener:n,string:o,match:c}),r)?!1:void 0})}},pn);var dn=function(t,e,n,r,i){var o,u,s,a,c;if(t){if(u="on"===e?k(t):Ht.get(t,"events"),s=x(r,[]),"on"===e)for(o=0;o<s.length;o++)a=s[o],a.type&&a.handler&&n(t,u,{listener:a},i);else if(u){for(c=[],o=0;o<s.length;o++)u.getListeners(c,s[o],e);for(o=0;o<c.length&&n(t,u,c[o],i)!==!1;o++);}return t}},vn=function(t,e,n){var r=n.listener;r.handler=void 0,e.remove(r)},mn=function(t,e,n){return dn(this,"off",vn,[t,e,n])},gn={},yn=1,bn="vComp",_n=function(t){return t.nodeType&&3!==t.nodeType?1:t===t.window?2:0},wn={add:function(t){var e,n=t.el,r=_n(n);return r?(e=Ht.get(n,bn),e||(e=yn++,Ht.setup(n,bn,e,1===r)),gn[e]=t):void 0},remove:function(t){var e=_n(t)&&Ht.get(t,bn);e&&(gn[e]=null)},get:function(t){return gn[_n(t)&&Ht.get(t,bn)]}},xn=/^on/;T.prototype={add:function(t){this.data.depth-t.depth>0?this.addLeft(t):this.addRight(t)},addLeft:function(t){var e=this.left;e?e.add(t):this.left=new T(t)},addRight:function(t){var e=this.right;e?e.add(t):this.right=new T(t)},traverse:function(t){var e=this.left,n=this.right;e&&e.traverse(t),t(this.data),n&&n.traverse(t)}};var En=function(){this.root=null};En.prototype={isEmpty:function(){return!this.root},add:function(t){this.root?this.root.add(t):this.root=new T(t)},reset:function(){this.root=null},resetAndTraverse:function(t){var e=this.root;this.root=null,e&&e.traverse(t)}};var jn={},Sn=function(t,e,n,r){if(t&&"object"==typeof t){var i=M(e,n);return Re(t)||Ze(t)?z(t,i):I(t,i,r)}};Sn.BREAK=jn;var kn=0,Tn=!1,Mn=new En,zn=[],Cn=[],Ln=[],Nn=[],In=[],On=[],An=function(t){Mn.add(t),Vn()},Rn=function(){kn++},Pn=function(){kn--,Vn()},Vn=function(){Tn||kn||Mn.isEmpty()||(Tn=!0,Mn.resetAndTraverse(A),z(zn,R),z(Cn,P),z(Ln,V),z(Nn,V),z(In,R),z(On,U),zn.length=0,Cn.length=0,Ln.length=0,Nn.length=0,In.length=0,On.length=0,Tn=!1,Vn())},Un=function(t,e,n,r){zn.push({elem:t,name:e,value:n,type:r})},qn=function(t){Cn.push({elem:t,index:null,parent:null})},Dn=function(t,e,n){Ln.push({elem:t,index:e,parent:n})},Hn=function(t,e,n){Nn.push({elem:t,index:e,parent:n})},Fn=function(t,e,n,r){In.push({elem:t,name:e,value:n,type:r})},Wn=function(t,e,n){On.push({component:t,name:e,arg:n})},$n=function(t,e){var n=e?" Please check the code for the "+e.constructor.displayName+" component.":"";kn=0,Tn=!1,Mn.reset(),zn.length=0,Cn.length=0,Ln.length=0,Nn.length=0,In.length=0,On.length=0,tn("mota.view.Component.update",t+n)},Bn={},Kn=function(t){Bn[t]=!0,Object.defineProperty(Qn.prototype,t,{enumerable:!0,configurable:!0,get:function(){var e,n;return this.originalEvent&&(n=Zn[t],e=n?n(this.originalEvent,this.target):this.originalEvent[t]),this[t]=e},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},Qn=function(t){var e,n;t&&t.type?(this.originalEvent=t,this.type=t.type):this.type=t;for(e in this.originalEvent)Bn[e]||null!=this[e]||Kn(e);this.type in Xn&&(this.type=Xn[this.type]),this.timeStamp||(this.timeStamp=cn()),n=this.target,n&&3===n.nodeType&&(this.target=n.parentNode)};Qn.prototype={constructor:Qn,isDefaultPrevented:!1,isPropagationStopped:!1,isImmediatePropagationStopped:!1,stopPropagation:function(){this.isPropagationStopped=!0},stopImmediatePropagation:function(){this.isPropagationStopped=!0,this.isImmediatePropagationStopped=!0},preventDefault:function(){this.isDefaultPrevented=!0,this.originalEvent.preventDefault()}};var Yn=/^key/,Gn=/^(?:mouse|touch|pointer|contextmenu|drag|drop)|click/,Xn={mousewheel:"wheel",DOMMouseScroll:"whell"},Zn={which:function(t){if(Gn.test(t.type)){var e=t.button;return t.which||void 0===e?t.which:1&e?1:2&e?3:4&e?2:0}return Yn.test(t.type)?null==t.which?null!=t.charCode?t.charCode:t.keyCode:t.which:void 0},pageX:function(t,e){var n,r,i;return null==t.pageX&&null!=t.clientX?(n=e.ownerDocument||se,r=n.documentElement,i=n.body,t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0)):t.pageX},pageY:function(t,e){var n,r,i;return null==t.pageY&&null!=t.clientY?(n=e.ownerDocument||se,r=n.documentElement,i=n.body,t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)):t.pageY},path:function(t,e){for(var n=e,r=[n];n=n.parentNode||n.defaultView;)r.push(n);return r}};Jt(Zn).forEach(Kn);var Jn=function(t,e,n,r){var i=n.listener,o=i.handler;return r.isImmediatePropagationStopped?!1:(i.once&&vn(t,e,n),r.currentTarget=t.el,void(r.result=l(o,void 0!==i.context?i.context:t,i.isRegExp?[{string:n.string,match:n.match},r]:[r])))},tr=function(t){var e,n=new Qn(t),r=(n.target,n.type),i=n.path,o=0;for(Rn();o<i.length&&!n.isPropagationStopped&&(e=wn.get(i[o]),e&&dn(e,"trigger",Jn,[r],n),n.bubbles);o++);Pn()},er={},nr={dispatchEvents:tr,register:function(t){!er[t]&&ue.addEventListener&&("on"+t in ue||/^pointer/.test(t))&&(ue.addEventListener(t,tr,!0),er[t]=!0)}},rr=function(t){if(Re(t)){var e=c(rn,[{}].concat(t));return e}return t&&"object"==typeof t?t:{}},ir=function(t,e,n,r){var i=n.listener,o=i.handler;i.once&&vn(t,e,n),l(o,void 0!==i.context?i.context:t,i.isRegExp?[{string:n.string,match:n.match}].concat(r):r)},or=function(t){return dn(this,"trigger",ir,[t],s(arguments,1))},ur=function(t){return("number"!=typeof t||0>t||isNaN(t))&&(t=void 0),k(this)._maxListeners=t,this},sr="@@__MOTA_VIEW_COMPONENT__@@",ar=function(t,e,n,r){var i=n.listener;r&&(i.once=!0),e.add(i),e.length()>e._maxListeners&&Bt("mota.Events.on","Possible memory leak detected. Use `setMaxListeners` to increase the limit of listeners."),q(t)&&nr.register(i.type)},cr=function(t,e,n,r){return dn(this,"on",ar,[t,e,n],r)},hr=function(t,e,n){return cr.call(this,t,e,n,!0)},lr=function(t,e,n,r){return r.value=!0,!1},fr=function(t,e,n){var r={value:!1};return dn(this,"getFirst",lr,[t,e,n],r),r.value},pr=function(){var t=Ht.get(this,"events"),e=t&&t._maxListeners;return"number"==typeof e?e:!1},dr=function(t,e,n,r){var i=n.listener;r.push({type:i.type,namespaces:i.namespaces,handler:i.handler,context:i.context,once:i.once,isRegExp:i.isRegExp})},vr=function(t,e,n){var r=[];return dn(this,"get",dr,[t,e,n],r),r},mr={getListeners:vr,getMaxListeners:pr,hasListeners:fr,off:mn,on:cr,once:hr,setMaxListeners:ur,trigger:or},gr=function(t,e){var n=t.key,r=t.type,i=void 0===r.__type?r:r.__type;return void 0===e[i]&&(e[i]=0),i+(null==n?":noKey:"+e[i]++:":key:"+n)},yr=function(t,e){for(var n=this.array,r=this.map,i=0,o=null,u="",s={},a=null,c=null,h=!1,l=0,f=0;i<t.length;i++)o=t[i],h=de(o.type),u=gr(o,s),a=n[i],a&&a.key===u?a.update(h?o.props:o,i):(c=r[u],c?(f=c.index,c.update(h?o.props:o,i)):(f=this.length++,c=h?(new o.type).__internal__:new Jr,c.init(h?o.props:o,this,i,u,e)),a&&(n[a.index=f]=a),n[i]=c,r[u]=c);for(l=i;i<this.length;i++)a=n[i],a.remove(),r[a.key]=null,n[i]=null;this.length=l},br="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("mota.view.create")||60103,_r=function(t){return t&&"object"==typeof t&&t.$$typeof===br},wr=function(t,e,n){var r,i,o,u,s,a={},c=null,h=t&&t.validateProps;if(null!=e){c=void 0===e.key?null:""+e.key;for(r in e)"key"!==r&&we(e,r)&&(a[r]=e[r])}if(u=arguments.length-2,1===u)a.children=n;else if(u>1){for(i=Array(u),o=0;u>o;o++)i[o]=arguments[o+2];a.children=i}return h&&(a=h(a)||{}),s={$$typeof:br,type:t,key:c,props:a}},xr=function(t,e,n,r,i,o){var u,s,a,c=t[n],h=t[r],l=Jt(i);for(s=h,a=s.length;a--;)u=s[a],void 0===i[u]&&o(t,e,u,c[u],void 0);for(s=l,a=s.length;a--;)u=s[a],c[u]!==i[u]&&o(t,e,u,c[u],i[u]);t[n]=i,t[r]=l},Er=function(t,e,n){var r,i;if(null!=t&&t!==!1&&t!==!0&&""!==t){if(_r(t))return void e.push(t);if("object"==typeof t)return void Sn(t,n,null,!1);r=e.length-1,i=r>-1&&e[r],"#text"===i.type?i.props.text+=t+"":e.push({type:"#text",props:{text:t+""}})}},jr=function(t){var e=[];if(null!=t){var n=function(t){Er(t,e,n)};n(t)}return e},Sr={area:1,base:1,br:1,col:1,command:1,embed:1,hr:1,img:1,input:1,keygen:1,link:1,menuitem:1,meta:1,param:1,source:1,track:1,wbr:1},kr=/([A-Z])/g,Tr=/&/g,Mr=/</g,zr=/>/g,Cr=/"/g,Lr=t(function(t){return t.replace(kr,"-$1").toLowerCase()}),Nr=t(function(t){return t.replace(Tr,"&amp;").replace(Mr,"&lt;").replace(zr,"&gt;")}),Ir=t(function(t){return Nr(t).replace(Cr,"&quot;")});Q.prototype={insertBefore:function(t,e){this.childNodes.push(t)},setAttribute:function(t,e){this._attrs[t]=e+""},getAttribute:function(t){return this._attrs[t]}},Object.defineProperty(Q.prototype,"innerHTML",{get:function(){return void 0===this._innerHTML&&(this._innerHTML=B(this)),this._innerHTML},set:function(t){return this._innerHTML=t,t}});var Or={nodeType:9,createElement:function(t){return new Q(t)},createElementNS:function(t,e){var n=new Q(e);return n._attrs.xmlns=t,n},createTextNode:function(t){return new Y(t)},createComment:function(t){return new G(t)}};Or.head=Or.createElement("head"),Or.body=Or.createElement("body"),Or.documentElement=Or.createElement("html"),Or.documentElement.insertBefore(Or.head),Or.documentElement.insertBefore(Or.body),Or.childNodes=[Or.documentElement];var Ar=Or,Rr=function(t,e,n,r,i){var o,u,s=e.children,a=r?Ar:se;return"string"==typeof t?("#text"===t?o=a.createTextNode(e.text):"#comment"===t?o=a.createComment(s.join("\n")):(e.xmlns?u=e.xmlns:"svg"===t?u="http://www.w3.org/2000/svg":"math"===t&&(u="http://www.w3.org/1998/Math/MathML"),o=u?a.createElementNS(u,t):a.createElement(t)),n&&!wn.get(n)&&n.nodeType===o.nodeType&&n.nodeName===o.nodeName&&n.nodeValue===o.nodeValue&&(o=n),("script"===t||"style"===t)&&$n("For security reasons, <script> and <style> elements are not allowed to be created.",i)):$n("`render` must return an object containing a `type` property with a primitive string or it must return `null`.",i),o},Pr=function(t){var e,n,r,i,o="",u=0;if(!t)return"";if(e=Xt(t),"array"===e)for(n=t.length;n>u;u++)t[u]&&(o+=" "+t[u]);else if("object"===e)for(r=te(t),n=r.length;n>u;u++)i=r[u],t[i]&&(o+=" "+i);else o=t+"";return o.trim()},Vr=/^[a-zA-Z_][\w\.\-]*$/,Ur=t(function(t){return Vr.test(t)?!0:!1}),qr=["Webkit","Moz","ms"],Dr=se?se.createElement("div").style:!1,Hr={animationIterationCount:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,fontWeight:1,gridRow:1,gridColumn:1,lineClamp:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,fillOpacity:1,stopOpacity:1,strokeDashoffset:1,strokeOpacity:1,strokeWidth:1},Fr=t(function(t){var e,n;if(!Dr)return t;if(t in Dr)return t;for(e=X(t),n=qr.length;n--;)if(t=qr[n]+e,t in Dr)return t;return!1});N(Hr,function(t,e){Hr[Fr(e)]=t});var Wr=function(t,e,n,r,i){var o,u,s;switch(n){case"key":case"data-mota":case"children":case"childNodes":case"innerHTML":case"outerHTML":return;case"daugerousInnerHTML":case"dangerouslySetInnerHTML":if(r&&i&&r.__html===i.__html)return;return void(i&&e.innerHTML!==i.__html&&Un(e,"innerHTML",i.__html,"prop"));case"style":return xr(t,e,"cacheStyle","cacheStyleKeys",rr(i),J);case"class":case"className":return o=Pr(i),void("svg"===e.nodeName?e.getAttribute("class")!==o&&Un(e,"class",o,"attr"):e.className!==o&&Un(e,"className",o,"prop"));default:return u=n.replace(xn,""),void(n!==u?(u=u.toLowerCase(),s=t.component,r&&mr.off.call(s,u,r),i&&mr.on.call(s,u,i)):n in e&&"list"!==n&&"form"!==n&&"type"!==n&&"width"!==n&&"height"!==n?("value"===n&&(i+=""),e[n]!==i&&("value"===n&&"SELECT"===e.nodeName?Fn(e,n,i,"prop"):Un(e,n,i,"prop"))):Ur(n)&&Un(e,n,i,"attr"))}},$r=wr("noscript"),Br=function(t,e,n){var r,i,o,u,s,a,c=this.component;if(r=c.render(wr,e)||$r,i=this.cache,i!==r){if(this.cache=r,u=r.type,s=r.props,a=s.children,this.el||(this.el=c.el=Rr(u,s,this.parentEl.childNodes.item(t),n,this.owner)),o=this.el,i.type&&u!==i.type&&$n("You must not change the type of an component between updates. You have changed `"+i.type+"` to `"+u+"`.",this.owner),"#text"===u){if(o.nodeValue===s.text)return;return Un(o,"nodeValue",s.text,"prop")}if("#comment"===u)return Un(o,"nodeValue",a.join("\n"),"prop");Sr[u]&&(null!=s.daugerousInnerHTML||null!=a)&&$n("`"+u+"` is a void element tag and must not have `children` or use `daugerousInnerHTML`.",this.owner),xr(this,o,"cacheAttrs","cacheAttrsKeys",s,Wr),Sr[u]||null!=s.daugerousInnerHTML||this.diffChildren(jr(a),n)}},Kr=function(){qn(this.el),tt(this)},Qr=function(t,e,n){var r,i=this.component,o=this.props,u=this.force;return this.index=e,this.dontQueue=!0,t?i.componentWillReceiveProps&&i.componentWillReceiveProps(t):t=this.props,!u&&i.shouldComponentUpdate&&(r=i.shouldComponentUpdate(t),r===!1)?(this.props=i.props=t,this.queued=!1,void(this.dontQueue=!1)):(i.componentWillUpdate&&i.componentWillUpdate(t),this.props=i.props=t,this.queued=!1,this.dontQueue=!1,this.force=!1,this.updateComponent(e,t,n),u||null==e||Hn(this.el,e,this.parentEl),void(i.componentDidUpdate&&Wn(i,"componentDidUpdate",o)))},Yr=function(t,e,n,r,i){var o=this.component;this.dontQueue=!0,this.props=o.props=t,o.initialize&&o.initialize(),o.componentWillMount&&o.componentWillMount(),this.queued=!1,this.dontQueue=!1,this.parentInternal=e,this.parentEl=e.el,this===o?(this.owner=e.owner,this.depth=e.depth):(this.owner=o,this.depth=e.depth+1),this.index=n,this.key=r,this.updateComponent(n,t,i),wn.add(o),Dn(this.el,n,this.parentEl),o.componentDidMount&&Wn(o,"componentDidMount")},Gr=function(t,e){this.dontQueue||(this.queued?t&&(this.force=!0):(this.queued=!0,this.force=!!t,this.renderToString=!!e,An(this)))},Xr=Object.freeze({}),Zr=Object.freeze([]),Jr=function(t){this.component=t||this,this.__internal__=this,this.queued=!1,this.force=!1,this.renderToString=!1,this.array=[],this.map={},this.length=0,this.depth=-1,this.parentInternal=null,this.parentEl=null,this.key="",this.index=0,this.el=null,this.props=null};Jr.prototype={constructor:Jr,render:function(){return this.props},updater:{startIgnore:Rn,endIgnore:Pn},cache:wr(),cacheAttrs:Xr,cacheAttrsKeys:Zr,cacheStyle:Xr,cacheStyleKeys:Zr,queueUpdate:Gr,init:Yr,update:Qr,remove:Kr,updateComponent:Br,get:function(t){var e=this.array[t];return e&&e.component},traverse:function(t){for(var e=0,n=this.array;e<this.length;e++)t(n[e])},diffChildren:yr},D(Jr),rn(et.prototype,mr,{update:function(){this.__internal__.queueUpdate()},forceUpdate:function(){this.__internal__.queueUpdate(!0)},bindMethodsToThis:function(){for(var t,e,n=this.__methods,r=n&&n.length;r--;)t=n[r],
e=this[t],this[t]=ne(e,this),this[t].original=e}}),D(et);var ti=function(t,e){if(t){var n=wn.get(t);if(n)return n;if(!e)return n=new et,n.el=t,n.__internal__.el=t,wn.add(n)?n:void 0}},ei=function(t){var e=new et;return e.el=e.__internal__.el=Ar.createElement("div"),e.render=function(e){return e(null,null,t)},e.__internal__.queueUpdate(!0,!0),e.el.innerHTML},ni=function(t,e,n){var r=ti(e);return r||tn("mota.view.render","`parent` should be an DOM element"),r.render=function(e){return e(null,null,t)},de(n)&&(r.componentDidUpdate=function(){this.componentDidUpdate=void 0,n()}),r.update(),r.__internal__.get(0)},ri=0,ii=function(t){function e(){et.call(this)}var n,r=[];de(t)&&(t={render:t}),t&&de(t.render)||tn("mota.view.createClass","Provide an object with a `render` property containing a function"),e.displayName=t.displayName,e.validateProps=t.validateProps;for(n in t.statics)e[n]=t.statics[n];e.prototype=new et,t=rn(e.prototype,t);for(n in t)de(t[n])&&r.push(n);return t.constructor=e,t.__methods=r,e.__type=ri++,e},oi={classSet:Pr,Component:et,create:wr,createClass:ii,render:ni,renderToString:ei,select:ti,styleSet:rr,dispatchEvents:nr.dispatchEvents},ui=/[\-{}\[\]+?.,\\\^$|#\s]/g,si=/\((.*?)\)/g,ai=/(\(\?)?:\w+/g,ci=/\*\w+/g,hi=/(?:(\(\?)?:\w+)|(?:\*\w+)/g,li=/^\/+/,fi=/\/+$/,pi=/#.*/,di=/\?.*/,vi=function(t,e){var n,r,i=[];for(n=0;n<t.length;n++)r=t[n],r&&"."!==r&&(".."===r?i.length&&".."!==i[i.length-1]?i.pop():e&&i.push(".."):i.push(r));return i},mi=t(function(t){var e,n;return e="/"===t.charAt(0)?"/":"",n=t.replace(li,"/").replace(fi,e).split("/"),e+vi(n,!e).join("/")}),gi=new RegExp("^(?:(?:((?:https?|ftp):)//)(?:(\\S+(?::\\S*)?)@)?((?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*)?(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))?)(?::(\\d{2,5}))?)?(/?\\S*)?$","i"),yi=function(t,e){var n=this,r=(t||"").match(gi)||[];return this.auth=r[2]||"",this.hash="",this.hostname=r[3]||"",this.port=r[4]||"",this.protocol=r[1]||"",this.search="",this.host=this.hostname+(this.port?":"+this.port:""),this.pathname=(r[5]||"").replace(pi,function(t){return n.hash=t||"",""}).replace(di,function(t){return n.search=t||"",""}),this.pathname=mi(this.pathname),this.hostname&&!this.pathname&&(this.pathname="/"),this.path=this.pathname+this.search,this.fragment=this.path+this.hash,this.query=this.search.substring(1),e&&(this.query=nt(this.query)),this.href=this.format(),this},bi=function(){return"/"===this.pathname.charAt(0)},_i=function(){var t,e="";return this.protocol&&(e+=it(this.protocol,":")+"//"),this.auth&&(e+=this.auth+"@"),this.host?e+=this.host:(this.hostname&&(e+=this.hostname),this.port&&(e+=":"+this.port)),this.pathname&&(e+=mi(this.pathname)),this.search?e+=rt(this.search,"?"):this.query&&(t=ot(this.query),t&&(e+="?"+t)),this.hash&&(e+=rt(this.hash,"#")),e},wi=function(){var t,e,n=[];for(t=0;t<arguments.length;t++)e=arguments[t],e&&ye(e)&&n.push(e);return ut.normalize(n.join("/"))},xi=function(t){for(var e=t.length-1,n=0,r=e;e>=n&&!t[n];n++);for(;r>=0&&!t[r];r--);return 0===n&&r===e?t:n>r?[]:t.slice(n,r+1)},Ei=function(t,e){var n,r,i,o,u,s,a,c;for(n=new ut(t),r=new ut(e),i=xi(n.pathname.split("/")),o=xi(r.pathname.split("/")),u=Math.min(i.length,o.length),s=u,a=0;u>a;a++)if(i[a]!==o[a]){s=a;break}for(c=[],a=s;a<i.length;a++)c.push("..");return c=c.concat(o.slice(s)),c.join("/")},ji=function(){for(var t,e,n="",r=!1,i=arguments.length;i--;)if(""!==arguments[i]&&(t=new ut(arguments[i]),e||(e=t),r||(n=t.pathname+"/"+n,r=t.isAbsolute()),t.host)){e.host=t.host,e.protocol=t.protocol;break}return n=vi(n.split("/"),!r).join("/"),e.pathname=(r?"/":"")+n,e.format()};rn(ut.prototype,{format:_i,isAbsolute:bi,parse:yi,toObject:function(){for(var t={},e=Jt(this),n=0;n<e.length;n++)t[e[n]]=this[e[n]];return t}}),ut.format=function(t){return _i.call(t)},ut.isAbsolute=function(t){return new ut(t).isAbsolute()},ut.join=wi,ut.normalize=function(t){return new ut(t).href},ut.parse=function(t,e){return new ut(t,e)},ut.relative=Ei,ut.resolve=ji;var Si=/^\/+|\/+$/g,ki=function(t){return t.replace(ui,"\\$&").replace(si,"(?:$1)?").replace(ai,function(t,e){return e?t:"([^/?]+)"}).replace(ci,"([^?]*)")},Ti=t(function(t){var e=new RegExp("^"+ki(t)),n=(t.match(hi)||[]).map(function(t){return t.slice(1)});return{regexp:e,names:n}});st.prototype={constructor:st,normalize:function(t){return rt(new ut(t).fragment,"/")},route:function(t,e,n){var r=new st(t,e,n,this);return this.routes.push(r),this},setCallback:function(t){return this.callback=t,this},setDefaultCallback:function(t){return this.defaultCallback=t,this},triggerRoutes:function(t,e){var n,r,i=0,o=this.routes.length,u=function(t,r){var i=n.params.names[r];e[i]=t?decodeURIComponent(t):null};for(t=this.normalize(t),this.callback&&this.callback(e,t);o>i;i++)if(n=this.routes[i],r=t.match(n.params.regexp))return e={},r.slice(1).forEach(u),void n.triggerRoutes(t,e);this.defaultCallback&&this.defaultCallback(t)}};var Mi;at.extend=sn,rn(at.prototype,st.prototype,{constructor:at,_join:function(t){return"/"!==this.root?this.root+t:t},checkUrl:function(){return this.triggerRoutes(this.getFragment())},getFragment:function(){var t=this.root,e=this.location,n=e.pathname+e.search+e.hash;return 0===n.indexOf(t)&&(n=n.slice(t.length)),this.fragment=this.normalize(n)},start:function(t){this._started||(this._started=!0,this.root=this.normalize(t&&t.root),this.checkUrl(),this.window.on("popstate",this.checkUrl,this))},stop:function(){this._started&&(this._started=!1,this.window.off("popstate",this.checkUrl,this))},navigate:function(t,e){return this._started?(e&&e!==!0||(e={replace:!!e}),t=this.normalize(t),void(this.fragment!==t&&(this.fragment=t,this.history[e.replace?"replaceState":"pushState"]({},se.title,this._join(t)),this.triggerRoutes(t)))):!1},redirect:function(t,e){var n=this.navigate.bind(this,e);this.route(t,function(){this.setCallback(n)})}});var zi="@@__MOTA_PROMISE__@@",Ci=0,Li=1,Ni=2,Ii=function(){return"object"==typeof process&&"[object process]"===process.toString()&&process.nextTick?function(t){process.nextTick(t)}:"function"==typeof setImmediate?function(t){setImmediate(t)}:function(t){setTimeout(t,0)}}(),Oi=function(t){var e=this;this.value=null,this.state=Ci,this.queue=[],this.handlers={fulfill:dt,reject:vt};var n=function(t){ft(e,t)},r=function(t){ht(e,Ni,t)};if(de(t))try{t(n,r)}catch(i){r(i)}};Oi.prototype[zi]=!0,Oi.prototype.then=function(t,e){var n=new Oi;return de(t)&&(n.handlers.fulfill=t),de(e)&&(n.handlers.reject=e),this.queue.push(n),pt(this),n};var Ai="catch";Oi.prototype[Ai]=function(t){return this.then(null,t)};var Ri="finally";Oi.prototype[Ri]=function(t){return this.then(function(e){return Oi.resolve(t()).then(function(){return e})},function(e){return Oi.resolve(t()).then(function(){throw e})})},Oi.prototype.done=function(t,e){this.then(t,e)[Ai](mt)},Oi.resolved=Oi.resolve=function(t){return new Oi(function(e){e(t)})},Oi.rejected=Oi.reject=function(t){return new Oi(function(e,n){n(t)})},Oi.deferred=Oi.defer=function(){var t,e;return{promise:new Oi(function(n,r){t=n,e=r}),resolve:t,reject:e}},Oi.all=function(t){return new Oi(function(e,n){var r=[],i=0,o=0;return Sn(t,function(t){var u=o++;i++,Oi.resolve(t).then(function(t){r[u]=t,i--,0===i&&e(r)},n)},null,!1),0===o?e(r):void 0})},Oi.race=function(t){return new Oi(function(e,n){Sn(t,function(t){Oi.resolve(t).then(e,n)},null,!1)})};var Pi=Object.defineProperty,Vi=function(t,e,n){Pi(t,e,{writable:!0,configurable:!0,value:n})},Ui=function(t){this.sub=t},qi=Ui.prototype={};Vi(qi,"next",function(t){return this.sub._next(t)}),Vi(qi,"complete",function(t){return this.sub._complete(t)}),Vi(qi,"error",function(t){return this.sub._error(t)});var Di=function(t,e,n){var r,i;if(Object(t)!==t)throw new TypeError("Subscriber must be an object");if(r=new Ui(this),this.subscriber=t,this._done=!1,this._index=-1,this._unsub=n,!n)try{if(i=e(r),null!=i)if(de(i.unsubscribe))i=i.unsubscribe.bind(i);else if(!de(i))throw new TypeError(i+" is not a function")}catch(o){return r.error(o)}this._done?i&&i():this.cancel=i};Di.prototype={_next:function(t){var e,n,r=this.subscriber;if(!this._done)try{n=gt(r.next),e=n?n.call(r,t):void 0}catch(i){yt(this,i)}return e},_complete:function(t){var e,n,r=this.subscriber;if(!this._done){this._done=!0;try{n=gt(r.complete),e=n?n.call(r,t):void 0}catch(i){yt(this,i)}yt(this)}return e},_error:function(t){var e,n,r=this.subscriber;if(this._done)throw t;this._done=!0;try{if(n=gt(r.error),!n)throw t;e=n.call(r,t)}catch(i){yt(this,i)}return yt(this),e},unsubscribe:function(){this._done||(this._unsub&&this._unsub(),yt(this))}};var Hi=function(t){if(!de(t))throw new TypeError("Observable initializer must be a function");this._subscriber=t},Fi=Hi.prototype;Vi(Fi,"subscribe",function(t){return new Di(t,this._subscriber)}),Vi(Fi,"multicast",function(t){return new Qi(this._subscriber)}),Vi(Fi,"forEach",function(t){var e=this,n=arguments[1];return new Oi(function(r,i){if(!de(t))throw new TypeError(t+" is not a function");e.subscribe({next:function(e){try{return t.call(n,e)}catch(r){i(r)}},error:i,complete:r})})}),Vi(Fi,"map",function(t){if(!de(t))throw new TypeError(t+" is not a function");var e=this,n=this.constructor[ze("species")]||this.constructor;return new n(function(n){return e.subscribe({next:function(e){var r;try{r=t(e)}catch(i){return n.error(i)}return n.next(r)},complete:function(t){return n.complete(t)},error:function(t){return n.error(t)}})})}),Vi(Fi,"filter",function(t){if(!de(t))throw new TypeError(t+" is not a function");var e=this,n=this.constructor[ze("species")]||this.constructor;return new n(function(n){return e.subscribe({next:function(e){try{if(!t(e))return}catch(r){return n.error(r)}return n.next(e)},error:function(t){return n.error(t)},complete:function(t){return n.complete(t)}})})}),Vi(Hi,"from",function(t){var e=de(this)?this:Hi;if(null==t)throw new TypeError(t+" is not an object");var n=Ce(t,"observable");if(null!=n){if(!de(n))throw new TypeError(n+" is not a function");var r=n.call(t);if(Object(r)!==r)throw new TypeError(r+" is not an object");return r.constructor===e?r:new e(function(t){return r.subscribe(t)})}return new e(function(e){var n=!1;return Ii(function(){if(!n){try{if(!g(t))throw new Error(t+" is not an Array or Iterable");Sn(t,function(t){return n?Sn.BREAK:void e.next(t)})}catch(r){return void e.error(r)}e.complete()}}),function(){n=!0}})}),Vi(Hi,"of",function(){var t=arguments,e=de(this)?this:Hi;return new e(function(e){var n=!1;return Ii(function(){if(!n){for(var r=0;r<t.length;r++)if(e.next(t[r]),n)return;e.complete()}}),function(){n=!0}})}),Vi(Fi,ze("observable"),function(){return this}),Object.defineProperty(Hi,ze("species"),{get:function(){return this},configurable:!0}),bt.prototype=pn;var Wi=function(){},$i=0,Bi=1,Ki=2,Qi=sn.call(Hi,{constructor:function(t){this._state=$i,this._value=void 0,this._subs=new bt,this._subscription=null,Hi.call(this,t)},subscribe:function(t){var e,n=this;return this._state===Bi?(e=new Di(t,Wi),e._complete(this._value)):this._state===Ki?(e=new Di(t,Wi),e._error(this._value)):(e=new Di(t,null,function(){var t=n._subscription,e=n._subs;e&&(e.remove(this),t&&!e.length()&&t.unsubscribe())}),n._subs.add(e)),e},connect:function(){var t=this,e={next:function(e){t._subs.safeForEach(function(t){t._next(e)})},error:function(e){t._state=Ki,t._value=e,t._subs.safeForEach(function(t){t._error(e)}),t._subs=null},complete:function(e){t._state=Bi,t._value=e,t._subs.safeForEach(function(t){t._complete(e)}),t._subs=null}};return this._subscription=this._subscription||new Di(e,this._subscriber),this._subscription}}),Yi={},Gi={},Xi=5,Zi=32,Ji=Zi-1,to="@@__MOTA_MAP__@@",eo=function(t,e){this.__type=e,this.__stack=t.__root&&_t(t.__root)};eo.prototype={constructor:eo,next:function(){for(var t,e,n,r,i,o=this.__type,u=this.__stack;u;){if(t=u.node,e=t.children,n=u.index++,e){if(r=e.length-1,r>=n){if(i=e[n]){if(!i.children)return wt(i.key,i.value,o);u=this.__stack=_t(i,u)}continue}}else if(0===n)return wt(t.key,t.value,o);u=this.__stack=this.__stack.prev}return Ae},toString:function(){return"[object Map Iterator]"}},Le(eo.prototype,"iterator",function(){return this}),xt.prototype={isLeaf:!1,loop:function(t,e){for(var n=this.children,r=0;r<n.length;r++)if(n[r].loop(t,e)===!0)return!0},get:function(t,e,n,r){void 0===e&&(e=u(t));var i=1<<((0===n?e:e>>>n)&Ji),o=this.bitmap;return 0===(o&i)?r:this.children[Et(o&i-1)].get(t,e,n+Xi,r)},modify:function(t,e,n,r,i,o){var u,s,a,c,h,l,f,p,d,v=this,m=this.children;if(u=(0===r?n:n>>>r)&Ji,s=1<<u,a=this.bitmap,c=0!==(a&s),!c&&e===Gi)return this;if(h=Et(a&s-1),c?(p=this.children[h],f=p.modify(t,e,n,r+Xi,i,o)):(o.changeValue=!0,o.changeSize=!0,f=new kt(t,e,n,i)),!f){if(l=m.length,1===l)return;if(d=m[1^h],2===l&&d.isLeaf)return d}return f!==p&&(v=c?f?this.cloneUpdate(i,h,f):this.cloneSpliceOut(i,h):this.cloneSpliceIn(i,h,f),v.bitmap=c?f?a:a^s:a|s),v},cloneUpdate:function(t,e,n){if(t&&this.owner===t)return this.children[e]=n,this;for(var r=new xt(t),i=this.children,o=0;o<i.length;o++)r.children[o]=o===e?n:i[o];return r},cloneSpliceOut:function(t,e){var n=this.children,r=n.length-1,i=0,o=0;if(t&&this.owner===t){for(i=e;r>i;i++)n[i]=n[i+1];return n.pop(),this}for(var u=new xt(t);r>i;i++)i===e&&(o=1),u.children[i]=n[i+o];return u},cloneSpliceIn:function(t,e,n){var r=this.children,i=r.length+1,o=0,u=0;if(t&&this.owner===t){for(o=i-1;o>e;o--)r[o]=r[o-1];return r[e]=n,this}for(var s=new xt(t);i>o;o++)o===e?(s.children[o]=n,u=-1):s.children[o]=r[o+u];return s}},St.prototype={isLeaf:!0,loop:function(t,e){for(var n=this.children,r=0;r<n.length;r++)if(n[r].loop(t,e)===!0)return!0},get:function(t,e,n,r){for(var i,o=this.children,u=o.length;u--;)if(i=o[u],Je(i.key,t))return i.value;return r},modify:function(t,e,n,r,i,o){var u,s,a,c,h,l=this,f=0,p=e===Gi;if(this.hash===n){for(u=this.children,h=u.length;h>f;f++)if(s=u[f],s&&Je(t,s.key)){a=s;break}if(a?a.value===e:p)return this;if(o.changeValue=!0,(p||!a)&&(o.changeSize=!0),a){if(c=a.modify(t,e,n,r,i,o),!c){if(2===h)return u[1^f];if(1===h)return;return l=this.clone(i),f===h-1?l.children.pop():l.children[f]=l.children.pop(),l}return l=this.clone(i),l.children[f]=c,l}return l=this.clone(i),l.children[f]=new kt(t,e,n,i),l}return p?this:(o.changeValue=!0,o.changeSize=!0,jt(i,r,this,new kt(t,e,n,i)))},clone:function(t){if(t&&this.owner===t)return this;for(var e=this.children,n=new St(this.hash,t,e[0],e[1]),r=3;r<e.length;r++)n.children[r]=e[r];return n}},kt.prototype={isLeaf:!0,loop:function(t,e){return t(this.value,this.key,e)},get:function(t,e,n,r){return Je(this.key,t)?this.value:r},modify:function(t,e,n,r,i,o){var u=this;return this.hash===n?Je(t,this.key)?this.value===e?this:(o.changeValue=!0,o.oldValue=this.value,e===Gi?void(o.changeSize=!0):(u=this.clone(i),u.value=e,u)):e===Gi?this:(o.changeValue=!0,o.changeSize=!0,new St(n,i,this,new kt(t,e,n,i))):e===Gi?this:(o.changeValue=!0,o.changeSize=!0,jt(i,r,this,new kt(t,e,n,i)))},clone:function(t){return t&&this.owner===t?this:new kt(this.key,this.value,this.hash,t)}};var no={changeValue:!1,changeSize:!1,oldValue:void 0},ro=zt.prototype={get:function(t,e){var n=this.__root;return n?n.get(t,void 0,0,e):e},has:function(t){return Gi!==this.get(t,Gi)},set:function(t,e){return Mt(this,t,e).__triggerChangeEvent()},remove:function(t){return this.set(t,Gi)},update:function(t,e,n){var r=e(this.get(t,n));return this.set(t,r===n?Gi:r)},forEach:function(t,e){if(this.size){var n=M(t,e);this.__root.loop(function(t,e,r){n(t,e,r)},this)}},find:function(t,e){var n,r;return this.size&&(n=M(t,e),this.__root.loop(function(t,e,i){var o=n(t,e,i);return o===!0&&(r=t),o},this)),r},clear:function(){if(this.isImmutable())return io;var t=this.__changes;return this.hasListeners()&&(t||(t=this.__changes=[]),this.forEach(function(e,n){t.push({type:"delete",key:n,name:n,oldValue:e})})),this.size=0,this.__root=null,this.__triggerChangeEvent()},count:function(){return this.size},__triggerChangeEvent:function(){if(this.isMutable()){var t=this.__changes;t&&t.length&&(this.trigger("change",t),this.__changes.length=0)}return this},isMutable:function(){return!!this.__owner},isImmutable:function(){return!this.__owner},asMutable:function(){return this.isMutable()?this:It(!0,this.size,this.__root)},asImmutable:function(){return this.isMutable()?this.size?It(!1,this.size,this.__root):io:this},clone:function(){return this.isImmutable()?this:It(!0,this.size,this.__root)},merge:function(t,e){var n,r,i,o;return t&&t!==io?this===io&&Ct(t)&&t.isImmutable()?t:(n=this.asMutable(),r=this.isImmutable(),i=!1,o=Ze(t),Sn(t,function(t,u){o?Mt(n,t[0],t[1],r||e===Yi):Mt(n,u,t,r||e===Yi),no.changeValue&&(i=!0)}),i?r?n.asImmutable():this.__triggerChangeEvent():this):this}};ro[to]=!0,Le(ro,"get",ro.get),m(zt,eo,"entries"),ro.pairs=ro.entries,ro.unset=ro["delete"]=ro.remove,Lt.isMap=Ct,Nt.isMap=Ct,Lt.prototype=new zt,Nt.prototype=new zt,rn(Lt.prototype,mr);var io=It(!1,0,null);return Ot(At,"VERSION","0.11.0",!0),Ot(At,"__DEV__",!1,!1),Ot(At,"developmentMode",!1,!1),an.hashCode=u,an.extend(At,an,{Events:mr,Map:Lt,ImmutableMap:Nt,Observable:Hi,path:ut,Promise:Oi,Router:at,util:an,view:oi,setWindow:ae}),At});
//# sourceMappingURL=mota.min.js.map