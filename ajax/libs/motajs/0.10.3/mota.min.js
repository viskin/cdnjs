/*!
 * MotaJS v0.10.3
 * http://motapc.js.org/motajs
 *
 * Released under the MIT license
 * https://github.com/motapc97/MotaJS/blob/master/LICENSE.md
 *
 * Project
 * https://github.com/motapc97/MotaJS
 *
 * Date: 2015-12-03T21:11Z
 */
!function(t){if("function"==typeof define&&define.amd)define(function(){return t()});else if("undefined"!=typeof exports){var e=t();"undefined"!=typeof module&&module.exports&&(exports=module.exports=e),exports.mota=e}else window.mota=t()}(function(){function t(t,e){var n={},r=0;return function(i){return void 0===e||i.length>e?(void 0===n[i]&&(r===At&&(n={},r=0),n[i]=t(i),r++),n[i]):t(i)}}function e(t){return t>>>1&1073741824|3221225471&t}function n(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}function r(t,n){return t=Ot(t,3432918353),t=Ot(t<<15|t>>>-15,461845907),t=Ot(t<<13|t>>>-13,5),t=(t+3864292196|0)^n,t=Ot(t^t>>>16,2246822507),t=Ot(t^t>>>13,3266489909),e(t^t>>>16)}function i(t){var e=!1,i=!0,o=e?1:0,a=t.forEach(i?e?function(t,e){o=31*o+n(u(t),u(e))|0}:function(t,e){o=o+n(u(t),u(e))|0}:e?function(t){o=31*o+u(t)|0}:function(t){o=o+u(t)|0});return r(o,a)}function o(t){return It.get(t,"hash")}function u(t){var n,r;if(!t)return 0;if("function"==typeof t.valueOf&&(t=t.valueOf(),!t))return 0;if(t===!0)return 1;if(n=typeof t,"number"===n){for(r=0|t,r!==t&&(r^=4294967295*t);t>4294967295;)t/=4294967295,r^=t;return e(r)}return"string"===n?Pt(t):(r=o(t),void 0!==r?r:("function"==typeof t.isImmutable&&t.isImmutable()?r=i(t):(r=Rt++,1073741824&Rt&&(Rt=1)),It.setup(t,"hash",r),r))}function a(t,e){for(var n,r=[],i=0;n=i+e,n<t.length;i++)r[i]=t[n];return r}function s(t,e){return null==e?t():t.call(e)}function c(t,e){switch(e.length){case 0:return t();case 1:return t(e[0]);case 2:return t(e[0],e[1]);case 3:return t(e[0],e[1],e[2]);case 4:return t(e[0],e[1],e[2],e[3]);case 5:return t(e[0],e[1],e[2],e[3],e[4]);default:return t.apply(void 0,e)}}function l(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2]);case 4:return t.call(e,n[0],n[1],n[2],n[3]);case 5:return t.call(e,n[0],n[1],n[2],n[3],n[4]);default:return t.apply(e,n)}}function h(t,e,n){return t?n?null==e?c(t,n):l(t,e,n):s(t,e):void 0}function f(t,e){return function(){for(var n=0;n<t.length;n++)h(t[n],this,arguments);return h(e,this,arguments)}}function p(t){var e=Ee.iterator;return e?t[e]():t["@@iterator"]()}function d(t){var e=Ee.iterator;return e?t[e]:t["@@iterator"]}function v(t,e){var n=Ee.iterator;n&&(t[n]=e),t["@@iterator"]=e}function m(t,e,n){var r=t.prototype;r.entries=function(){return new e(this,Me)},r.values=function(){return new e(this,Se)},r.keys=function(){return new e(this,ke)},v(r,r[n])}function g(t){return Te(t)||!!t&&ce(d(t))}function y(t){return Te(t)||!!t&&t.values!==t.keys&&ce(t.values)&&ce(t.keys)&&t.values===d(t)}function b(t){return!!t&&ce(t.entries)&&t.entries===d(t)}function _(t){return y(t)||b(t)}function w(t,e,n,r,i){this.type=t,this.namespaces=e,this.handler=n,this.context=r,this.isRegExp=i,this.once=!1,this.index=-1}function x(t,e){var n,r,i,o=[],u=t[0],a=t[1],s=t[2],c=$t(u),l="regexp"===c;if(l)e.push(new w(u,void 0,a,s,l));else if("object"===c){a&&(s=a);for(r in u)x([r,u[r],s],e)}else for(u=(u||"").match(en)||[""],n=0;n<u.length;n++)r=(u[n].match(rn)||o)[0],i=u[n].match(nn),e.push(new w(r,i,a,s,l));return e}function E(t,e){var n,r,i;for(t.length>e.length?(n=e,r=t):(n=t,r=e),i=n.length;i--;)if(r.indexOf(n[i])>-1)return!0;return!1}function j(t,e,n,r,i,o,u){var a,s=(!n||$e(t.type,n)||u&&t.isRegExp&&(a=n.match(t.type)))&&(!i||t.handler===i)&&(!r||0===r.length||t.namespaces&&E(t.namespaces,r))&&(!o||t.context===o);return void 0!==a?a:s}function k(){this.arr=[]}function S(t){return It.setup(t,"events",new k)}function M(t){this.data=t,this.left=null,this.right=null}function N(t,e){return null==e?t:function(n,r,i){return t.call(e,n,r,i)}}function T(t,e){for(var n=0;n<t.length;n++)e(t[n],n,t)}function C(t,e,n){for(var r,i=0;!(r=n.next()).done;)e(r.value,i,t),i++}function z(t,e,n){for(var r,i;!(r=n.next()).done;)i=r.value,e(i[1],i[0],t)}function A(t,e){for(var n,r=0,i=Qt(t);r<i.length;r++)n=i[r],e(t[n],n,t)}function L(t,e,n){var r,i;return ce(t.forEach)?t.forEach(e):(r=d(t),ce(r)?(i=p(t),r===t.entries?z(t,e,i):C(t,e,i)):n!==!1?A(t,e):void 0)}function V(t,e,n){var r=n.childNodes,i=e>=r.length?null:r.item(e);t!==i&&n.insertBefore(t,i)}function I(t){var e=t.__internal__;e&&e.queued&&e.update(null,null,e.renderToString)}function O(t){var e=t.elem,n=t.name,r=t.value,i=t.type;"attr"===i?null==r?e.removeAttribute(n):e.setAttribute(n,r+""):"prop"===i?e[n]=r:"style"===i&&(e.style[n]=r)}function P(t){var e=t.elem;e.parentNode.removeChild(e)}function R(t){return V(t.elem,t.index,t.parent)}function U(t){t.component[t.name](t.arg)}function D(t,e){return t.__internal__.depth-e.__internal__.depth}function q(t){this.array=[],this.map={},this.parentComponent=t,this.length=0,Hn||(Hn=lr(function(){return this.props}))}function F(t){var e="";return A(t,function(t,n){t&&(e+=wr(n)+":"+t+";")}),e}function H(t){var e="";return t._attrs.style=t.style,t._attrs["class"]=t.className||t._attrs["class"],A(t._attrs,function(t,n){"style"===n&&(t=F(t)),t&&(e+=" "+n+'="'+Er(t)+'"')}),e}function W(t){var e=t._tagName,n="<"+e+H(t);return n+=vr[e]?" />":">"+B(t)+"</"+e+">"}function $(t){switch(t.nodeType){case 3:return xr(t.nodeValue);case 8:return"<!--"+t.nodeValue+"-->";default:return W(t)}}function B(t){for(var e=0,n="",r=t.childNodes;e<r.length;e++)n+=$(r[e]);return n}function Q(t){return this[t]}function Y(t){this._tagName=(t+"").toLowerCase(),this._attrs={},this.nodeType=1,this.className="",this.childNodes=[],this.childNodes.item=Q,this.style={}}function K(t){this.nodeValue=t+"",this.nodeType=3,this.nodeName="#text"}function X(t){this.nodeValue=t+"",this.nodeType=8,this.nodeName="#comment"}function G(t){return t.charAt(0).toUpperCase()+t.substring(1)}function Z(t,e){return null==e||"boolean"==typeof e||""===e?"":0===e||Vr[t]||isNaN(e)?e+"":("string"==typeof e&&(e=Nr(e)),e+"px")}function J(t,e,n,r,i){n=Ir(n),n&&(i=Z(n,i),e.style[n]!==i&&Tn(e,n,i,"style"))}function tt(t){var e=t.component,n=t.children;e.componentWillUnmount&&e.componentWillUnmount(),fn.remove(e.el),e.el=e.__internal__=null,n&&n.traverse(tt)}function et(){this.__internal__=new $r(this),this.el=null,this.props=null}function nt(t){var e,n,r,i,o={},u=0;if(!t)return o;for(e=t.split("&");u<e.length;u++)e[u]&&(n=e[u].split("="),r=decodeURIComponent(n[0]),i=n[1]?decodeURIComponent(n[1]):"",void 0!==o[r]?Te(o[r])?o[r].push(i):o[r]=[o[r],i]:o[r]=i);return o}function rt(t,e){return t.charAt(0)===e?t:e+t}function it(t,e){return t.charAt(t.length-1)===e?t:t+e}function ot(t){if("string"==typeof t)return t;var e,n,r,i,o,u="";for(e in t)if(n=encodeURIComponent(e),r=t[e],Te(r))for(o=0;o<r.length;o++)i=r[o]?encodeURIComponent(r[o]):"",u+="&"+n+"="+i;else i=r?encodeURIComponent(r):"",u+="&"+n+"="+i;return u.substring(1)}function ut(t,e){si.call(this,t,e)}function at(t,e,n,r){ce(e)&&(n=e,e=t,t=void 0),e||Be("mota.Router.route","Provide a non-empty path"),this.name=t,this.parent=r,this.path=(r.path||"")+"/"+e.replace(vi,""),this.params=gi(this.path),this.routes=[],n.call(this)}function st(){this.routes=[],this.history=ee.history,this.location=this.history&&this.history.location||ee.location,this.window=yi||(yi=Kr.select(ee)),this.initialize&&h(this.initialize,this,arguments)}function ct(t){return t===_i||t===xi||t===wi}function lt(t,e,n){t.state!==e&&t.state===_i&&ct(e)&&3===arguments.length&&(t.value=n,t.state=e,pt(t))}function ht(t){return!(!t||!t[bi])}function ft(t,e){if(t===e)lt(t,xi,new TypeError("The promise and its value refer to the same object"));else if(ht(e))e.state===_i?e.then(function(e){ft(t,e)},function(e){lt(t,xi,e)}):lt(t,e.state,e.value);else if(Bt(e)||ce(e)){var n,r=!1;try{n=e.then,ce(n)?n.call(e,function(e){r||(ft(t,e),r=!0)},function(e){r||(lt(t,xi,e),r=!0)}):(lt(t,wi,e),r=!0)}catch(i){r||(lt(t,xi,i),r=!0)}}else lt(t,wi,e)}function pt(t){t.state!==_i&&Ei(function(){for(;t.queue.length;){var e,n=t.queue.shift(),r=null;t.state===wi?r=n.handlers.fulfill:t.state===xi&&(r=n.handlers.reject);try{e=r(t.value)}catch(i){lt(n,xi,i);continue}ft(n,e)}})}function dt(t){return t}function vt(t){throw t}function mt(t){Ei(function(){throw t})}function gt(t,e){return{node:t,index:0,prev:e}}function yt(t,e,n){return{value:n===Me?[t,e]:n===ke?t:e,done:!1}}function bt(t,e,n){this.owner=t,this.hash=e,this.children=n}function _t(t,e,n){this.owner=t,this.count=e,this.children=n}function wt(t,e,n){this.owner=t,this.bitmap=e,this.children=n}function xt(t,e,n,r){this.owner=t,this.hash=e,this.key=n,this.value=r}function Et(t){var e=this.func;return this.oldValue=t,e&&(this.value=e(t),this.func=void 0),this.value}function jt(t,e,n,r){var i,o,u,a,s,c=t.isMutable();return u=c?t:Tt(),u.__root=Wi(t.__root,u.__owner,0,void 0,e,n),n.changeValue?(i=n.value,o=i===n.notSetValue,u.size=t.size+(n.changeSize?o?-1:1:0),u.size||c?(c&&r!==Mi&&(a={type:o?"delete":n.changeSize?"add":"update"},a.key=a.name=e,o?a.oldValue=n.oldValue:(a.value=a.newValue=i,n.changeSize||(a.oldValue=n.oldValue)),s=t.__changes,s||(s=t.__changes=[]),s.push(a),r||t.__triggerChangeEvent()),u):Yi):t}function kt(){}function St(t){return!(!t||!t[Li])}function Mt(t){return t===Mi?this:Tt(!0,0,void 0).merge(t,Mi)}function Nt(t){return t===Mi?this:Yi.merge(t,Mi)}function Tt(t,e,n){var r=t?new Mt(Mi):new Nt(Mi);return r.size=e||0,r.__root=n,t&&(r.__owner={}),r}function Ct(t,e,n,r){Object.defineProperty(t,e,{configurable:!1,enumerable:r,value:n,writable:!1})}function zt(){}var At=255,Lt="__mota__"+(""+Math.random()).replace(/\D/g,""),Vt=Object.defineProperty,It={};It.setup=function(t,e,n,r){var i=t[Lt];return i||(i={vComp:null,events:null},r?t[Lt]=i:Vt(t,Lt,{writable:!0,value:i})),i[e]?i[e]:i[e]=n},It.get=function(t,e){var n=t[Lt];return n&&n[e]},It.set=function(t,e,n){var r=t[Lt];return r?r[e]=n:void 0},It.del=function(t,e){var n=t[Lt];return n&&n[e]?(n[e]=void 0,!0):!1};var Ot=Math.imul;("function"!=typeof Ot||-2!==Ot(4294967295,2))&&(Ot=function(t,e){var n=t>>>16&65535,r=65535&t,i=e>>>16&65535,o=65535&e;return r*o+(n*o+r*i<<16>>>0)|0});var Pt=t(function(t){for(var n=0,r=0;n<t.length;n++)r=31*r+t.charCodeAt(n)|0;return e(r)},16),Rt=1,Ut=function(t,e){console.warn(t+" WARNS: "+e)},Dt=function(t,e){var n,r;for(n in e)if(r=e[n],r&&!r(t[n],n,t))return!1;return!0},qt={},Ft=function(t){return t=t?t+"":"",qt[t]||(qt[t]=0),t+ ++qt[t]},Ht={}.toString,Wt={"[object Array]":"array","[object Boolean]":"boolean","[object Date]":"date","[object Error]":"error","[object Function]":"function","[object Number]":"number","[object Object]":"object","[object RegExp]":"regexp","[object String]":"string","[object Symbol]":"symbol"},$t=function(t){var e=typeof t;return"object"===e||"function"===e?null===t?"null":Wt[Ht.call(t)]||"object":e},Bt=function(t){var e;return!!t&&("function"==(e=typeof t)||"object"===e)},Qt=Object.keys,Yt=function(t,e){if(!Bt(t))return[];if(e){var n,r=[];for(n in t)r.push(n);return r}return Qt(t)},Kt=function(t){for(var e=Yt(t),n=e.length,r=Array(n),i=0;n>i;i++)r[i]=[e[i],t[e[i]]];return r},Xt=function(t,e){return function(){return h(t,e,a(arguments,0))}},Gt="[object process]"===("undefined"!=typeof global&&global&&toString.call(global.process)),Zt="[object Window]",Jt="[object global]",te=function(t){if(t===ee)return!0;if(!t||"object"!=typeof t)return!1;if(!Gt&&t.window!==t)return!1;var e=Ht.call(t);return e===Zt||e===Jt},ee="object"==typeof self&&self.self==self&&self||"object"==typeof global&&global.global==global&&global,ne=ee&&ee.document,re=function(t){te(t)&&(ee=t,ne=t.document)},ie=ee.mota,oe=function(){return ie&&(ee.mota=ie),this},ue=[],ae=ue.slice,se=function(t){return"function"===$t(t)};"function"!=typeof/./&&"object"!=typeof Int8Array&&(se=function(t){return"function"==typeof t||!1});var ce=se,le=function(t,e){var n,r,i,o=t&&t.prototype,u={};if(!o)return t;for(var a=0;a<e.length;a++){n=e[a];for(r in n)u[r]||(u[r]=[]),u[r].push(n[r])}for(r in u)i=o[r],o[r]=f(u[r],ce(i)&&i);return t},he=function(t,e){console.log(t+" LOG: "+e)},fe=function(t){return void 0===t},pe=function(t){return"string"===$t(t)},de=function(t){return"regexp"===$t(t)},ve={}.hasOwnProperty,me=function(t,e){return null!=t&&ve.call(t,e)},ge=function(t){var e;return!t||"object"!=typeof t||"[object Object]"!==Ht.call(t)||me(t,"constructor")?!1:(e=t.constructor)?ce(e)&&e instanceof e:!0},ye=function(t){return"object"===$t(t)},be=function(t){return"number"===$t(t)},_e=function(t){return null===t},we=function(t){return null==t},xe=function(t){return t!=+t&&be(t)},Ee="function"==typeof Symbol?Symbol:{},je=function(t,e,n){var r=Ee[e];r&&(t[r]=n),t["@@"+e]=n},ke=0,Se=1,Me=2,Ne=Object.freeze({value:void 0,done:!0}),Te=Array.isArray,Ce=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},ze=function(t){return"error"===$t(t)},Ae=function(t,e,n){if(t===e)return n?0!==t||1/t==1/e:!0;if(t!==t)return e!==e;if(null==t||null==e)return t===e;var r=typeof t;if("function"!==r&&"object"!==r&&"object"!=typeof e)return!1;var i=Ht.call(t);if(i!=Ht.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return t=+t,e=+e,t!==t?e!==e:t===e?n?0!==t||1/t==1/e:!0:!1;case"[object Date]":case"[object Boolean]":return+t===+e}return i},Le=function(t,e,n,r){var i=Ae(t,e,!0);if(i===!0||i===!1)return i;var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var u=t.constructor,a=e.constructor;if(!(u===a||ge(t)&&ge(e)))return!1}n=n||[],r=r||[];for(var s=n.length;s--;)if(n[s]===t)return r[s]===e;if(n.push(t),r.push(e),o){if(s=t.length,s!==e.length)return!1;for(;s--;)if(!Le(t[s],e[s],n,r))return!1}else{var c,l=Yt(t);if(s=l.length,Yt(e).length!==s)return!1;for(;s--;)if(c=l[s],!me(e,c)||!Le(t[c],e[c],n,r))return!1}return n.pop(),r.pop(),!0},Ve=function(t,e){return Le(t,e)},Ie=function(t){return"[object Arguments]"===Ht.call(t)},Oe=function(t){if(null==t)return!0;if(Te(t)||pe(t)||Ie(t))return 0===t.length;for(var e in t)if(me(t,e))return!1;return!0},Pe=function(t){return t&&1===t.nodeType?Gt?!0:Ht.call(t).indexOf("Element")>-1:!1},Re="[object HTMLDocument]",Ue="[object Document]",De=function(t){var e;if(t===ne)return!0;if(!t||null!==t.parentNode||!(e=t.defaultView))return!1;if(Gt)return te(e);var n=Ht.call(t);return n===Re||n===Ue},qe=function(t){return"date"===$t(t)},Fe=function(t){return t===!0||t===!1||"boolean"===$t(t)},He=Math.pow(2,53)-1,We=function(t){var e,n=$t(t);return"array"===n?!0:"object"!==n||te(t)?!1:(e="length"in t&&t.length,0===e?!0:"number"==typeof e&&e>0&&He>=e&&e-1 in t)},$e=function(t,e){var n=Ae(t,e);if(n===!0||n===!1)return n;if(t.size!==e.size)return!1;if(t.isMutable&&e.isMutable&&!t.isMutable()&&!e.isMutable()){var r=o(t),i=o(e);if(null!=r&&null!=i&&r!==i)return!1;var u=!0,a={};return t.forEach(function(t,n){var r=e.get(n,a);return r!==a&&$e(t,r)?void 0:u=!1}),u}return!1},Be=function(t,e){throw t+" ERROR: "+e},Qe=function(t,e){return function(n){var r,i,o,u,a,s,c=arguments.length;if(2>c||null==n)return n;for(r=1;c>r;r++)for(i=arguments[r],o=Yt(i,t),u=o.length,a=0;u>a;a++)s=o[a],e&&void 0!==n[s]||(n[s]=i[s]);return n}},Ye=Qe(!0,!0),Ke=function(t){var e,n,r,i,o,u,a=1,s=arguments.length,c=!1;if(t===!0&&(c=t,t=arguments[a],a++),!Bt(t))return t;for(;s>a;a++)if(null!=(e=arguments[a]))for(n in e)r=t[n],i=e[n],t!==i&&(c&&i&&("object"===(o=$t(i))||"array"===o)?(u="array"===o?r&&Te(r)?r:[]:r&&ye(r)?r:{},t[n]=Ke(c,u,i)):void 0!==i&&(t[n]=i));return t},Xe=function(t){var e,n,r;if(t===!0&&me(arguments,1)&&(e=t,t=arguments[1]),!Bt(t))return t;switch($t(t)){case"array":return e?Ke(e,[],t):ae.call(t);case"number":case"string":case"date":case"boolean":return new(n=t.constructor)(t);case"regexp":return n=t.constructor,r=new n(t),r.lastIndex=t.lastIndex,r;default:return e?Ke(e,{},t):Ke({},t)}},Ge=Object.create,Ze=function(t,e,n){var r,i,o=this;return i=t&&me(t,"constructor")?t.constructor:o,r=n?function(){var t=Ge(r.prototype),e=h(i,t,arguments);return Bt(e)?e:t}:function(){return h(i,this,arguments)},r.prototype=Ge(o.prototype),r.prototype.constructor=r,t&&Ke(r.prototype,t),Ke(r,o,e),r.__super__=o.prototype,r},Je={apply:h,classExtend:Ze,clone:Xe,extend:Ke,defaults:Ye,err:Be,has:me,is:$e,isArguments:Ie,isArray:Te,isArrayLike:We,isBoolean:Fe,isDate:qe,isDocument:De,isElement:Pe,isEmpty:Oe,isEqual:Ve,isError:ze,isFinite:Ce,isFunction:ce,isIterable:g,isIndexed:y,isKeyed:b,isAssociative:_,isNaN:xe,isNil:we,isNull:_e,isNumber:be,isObject:ye,isObjectLike:Bt,isPlainObject:ge,isRegExp:de,isString:pe,isUndefined:fe,isWindow:te,keys:Yt,log:he,mixin:le,noConflict:oe,noPartial:Xt,pairs:Kt,type:$t,uniqueId:Ft,validate:Dt,warn:Ut},tn=Date.now,en=/\S+/g,nn=/\.[^.]+/g,rn=/^[^.]+/g;k.prototype={constructor:k,length:function(){return this.arr.length},add:function(t){t.index=this.arr.push(t)-1},remove:function(t){for(var e=this.arr,n=t.index,r=n+1,i=e.length;i>r;n+=1,r+=1)e[n]=e[r],e[n].index=n;e.pop()},forEach:function(t){for(var e=this.arr,n=0,r=e.length;r>n;n++)t(e[n])},getListeners:function(t,e,n){var r="getFirst"===n,i="trigger"===n,o=e.type,u=e.namespaces,a=e.handler,s=e.context;this.forEach(function(n){var c=j(n,e,o,u,a,s,i);return c&&(t.push({listener:n,string:o,match:c}),r)?!1:void 0})}};var on=function(t,e,n,r,i){var o,u,a,s,c;if(t){if(u="on"===e?S(t):It.get(t,"events"),a=x(r,[]),"on"===e)for(o=0;o<a.length;o++)s=a[o],s.type&&s.handler&&n(t,u,{listener:s},i);else if(u){for(c=[],o=0;o<a.length;o++)u.getListeners(c,a[o],e);for(o=0;o<c.length&&n(t,u,c[o],i)!==!1;o++);}return t}},un=function(t,e,n){var r=n.listener;r.handler=void 0,e.remove(r)},an=function(t,e,n){return on(this,"off",un,[t,e,n])},sn={},cn=1,ln="vComp",hn=function(t){return t.nodeType&&3!==t.nodeType?1:t===t.window?2:0},fn={add:function(t){var e,n=t.el,r=hn(n);return r?(e=It.get(n,ln),e||(e=cn++,It.setup(n,ln,e,1===r)),sn[e]=t):void 0},remove:function(t){var e=hn(t)&&It.get(t,ln);e&&(sn[e]=null)},get:function(t){return sn[hn(t)&&It.get(t,ln)]}},pn=/^on/;M.prototype={add:function(t,e){var n=e(this.data,t);n>0?this.left?this.left.add(t,e):this.left=new M(t):this.right?this.right.add(t,e):this.right=new M(t)},traverse:function(t){var e=this.left,n=this.right;e&&e.traverse(t),t(this.data),n&&n.traverse(t)}};var dn=function(t){this.comparator=t,this.root=null};dn.prototype={isEmpty:function(){return!this.root},add:function(t){this.root?this.root.add(t,this.comparator):this.root=new M(t)},reset:function(){this.root=null},resetAndTraverse:function(t){var e=this.root;this.root=null,e&&e.traverse(t)}};var vn=function(t,e,n,r){if(t&&"object"==typeof t){var i=N(e,n);return Te(t)||We(t)?T(t,i):L(t,i,r)}},mn=0,gn=!1,yn=new dn(D),bn=[],_n=[],wn=[],xn=[],En=[],jn=[],kn=function(t){yn.add(t),Nn()},Sn=function(){mn++},Mn=function(){mn--,Nn()},Nn=function(){gn||mn||yn.isEmpty()||(gn=!0,yn.resetAndTraverse(I),T(bn,O),T(_n,P),T(wn,R),T(xn,R),T(En,O),T(jn,U),bn.length=0,_n.length=0,wn.length=0,xn.length=0,En.length=0,jn.length=0,gn=!1,Nn())},Tn=function(t,e,n,r){bn.push({elem:t,name:e,value:n,type:r})},Cn=function(t){_n.push({elem:t,index:null,parent:null})},zn=function(t,e,n){wn.push({elem:t,index:e,parent:n})},An=function(t,e,n){xn.push({elem:t,index:e,parent:n})},Ln=function(t,e,n,r){En.push({elem:t,name:e,value:n,type:r})},Vn=function(t,e,n){jn.push({component:t,name:e,arg:n})},In=function(t,e){var n=e?" Please check the code for the "+e.constructor.displayName+" component.":"";mn=0,gn=!1,yn.reset(),bn.length=0,_n.length=0,wn.length=0,xn.length=0,En.length=0,jn.length=0,Be("mota.view.Component.update",t+n)},On={},Pn=function(t){On[t]=!0,Object.defineProperty(Rn.prototype,t,{enumerable:!0,configurable:!0,get:function(){var e,n;return this.originalEvent&&(n=Fn[t],e=n?n(this.originalEvent,this.target):this.originalEvent[t]),this[t]=e},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},Rn=function(t){var e,n;t&&t.type?(this.originalEvent=t,this.type=t.type):this.type=t;for(e in this.originalEvent)On[e]||null!=this[e]||Pn(e);this.type in qn&&(this.type=qn[this.type]),this.timeStamp||(this.timeStamp=tn()),n=this.target,n&&3===n.nodeType&&(this.target=n.parentNode)};Rn.prototype={constructor:Rn,isDefaultPrevented:!1,isPropagationStopped:!1,isImmediatePropagationStopped:!1,stopPropagation:function(){this.isPropagationStopped=!0},stopImmediatePropagation:function(){this.isPropagationStopped=!0,this.isImmediatePropagationStopped=!0},preventDefault:function(){this.isDefaultPrevented=!0,this.originalEvent.preventDefault()}};var Un=/^key/,Dn=/^(?:mouse|touch|pointer|contextmenu|drag|drop)|click/,qn={mousewheel:"wheel",DOMMouseScroll:"whell"},Fn={which:function(t){if(Dn.test(t.type)){var e=t.button;return t.which||void 0===e?t.which:1&e?1:2&e?3:4&e?2:0}return Un.test(t.type)?null==t.which?null!=t.charCode?t.charCode:t.keyCode:t.which:void 0},pageX:function(t,e){var n,r,i;return null==t.pageX&&null!=t.clientX?(n=e.ownerDocument||ne,r=n.documentElement,i=n.body,t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0)):t.pageX},pageY:function(t,e){var n,r,i;return null==t.pageY&&null!=t.clientY?(n=e.ownerDocument||ne,r=n.documentElement,i=n.body,t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)):t.pageY},path:function(t,e){for(var n=e,r=[n];n=n.parentNode||n.defaultView;)r.push(n);return r}};Qt(Fn).forEach(Pn);var Hn,Wn=function(t,e,n,r){var i=n.listener,o=i.handler;return r.isImmediatePropagationStopped?!1:(i.once&&un(t,e,n),r.currentTarget=t.el,void(r.result=h(o,void 0!==i.context?i.context:t,i.isRegExp?[{string:n.string,match:n.match},r]:[r])))},$n=function(t){t=new Rn(t);var e,n=t.target,r=t.type,i=t.path,o=0,u=fn.get(n);for(Sn();o<i.length&&!t.isPropagationStopped&&(e=i[o],u=fn.get(e),on(u,"trigger",Wn,[r],t),t.bubbles);o++);Mn()},Bn=function(){var t,e,n={pointermove:1,pointerdown:1,pointerup:1,pointerover:1,pointerout:1,pointerenter:1,pointerleave:1,pointercancel:1};if(ee.addEventListener){for(t in ee)e=t.replace(pn,""),t!==e&&(e in n||ee.addEventListener(e,$n,!0));Qt(n).forEach(function(t){ee.addEventListener(t,$n,!0)})}return $n},Qn=function(t){if(Te(t)){var e=c(Ke,[{}].concat(t));return e}return t&&"object"==typeof t?t:{}},Yn=function(t,e,n,r){var i=n.listener,o=i.handler;i.once&&un(t,e,n),h(o,void 0!==i.context?i.context:t,i.isRegExp?[{string:n.string,match:n.match}].concat(r):r)},Kn=function(t){return on(this,"trigger",Yn,[t],a(arguments,1))},Xn=function(t){return("number"!=typeof t||0>t||isNaN(t))&&(t=void 0),S(this)._maxListeners=t,this},Gn=function(t,e,n,r){var i=n.listener;r&&(i.once=!0),e.add(i),e.length()>e._maxListeners&&Ut("mota.Events.on","Possible memory leak detected. Use `setMaxListeners` to increase the limit of listeners.")},Zn=function(t,e,n,r){return on(this,"on",Gn,[t,e,n],r)},Jn=function(t,e,n){return Zn.call(this,t,e,n,!0)},tr=function(t,e,n,r){return r.value=!0,!1},er=function(t,e,n){var r={value:!1};return on(this,"getFirst",tr,[t,e,n],r),r.value},nr=function(){var t=It.get(this,"events"),e=t&&t._maxListeners;return"number"==typeof e?e:!1},rr=function(t,e,n,r){var i=n.listener;r.push({type:i.type,namespaces:i.namespaces,handler:i.handler,context:i.context,once:i.once,isRegExp:i.isRegExp})},ir=function(t,e,n){var r=[];return on(this,"get",rr,[t,e,n],r),r},or={getListeners:ir,getMaxListeners:nr,hasListeners:er,off:an,on:Zn,once:Jn,setMaxListeners:Xn,trigger:Kn},ur="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("mota.view.create")||60103,ar=function(t){return t&&"object"==typeof t&&t.$$typeof===ur},sr=function(t,e,n){var r,i,o,u,a,s={},c=null,l=t&&t.validateProps;if(null!=e){c=void 0===e.key?null:""+e.key;for(r in e)"key"!==r&&me(e,r)&&(s[r]=e[r])}if(u=arguments.length-2,1===u)s.children=n;else if(u>1){for(i=Array(u),o=0;u>o;o++)i[o]=arguments[o+2];s.children=i}return l&&(s=l(s)||{}),a={$$typeof:ur,type:t,key:c,props:s}},cr=0,lr=function(t){function e(){et.call(this)}var n,r=[];ce(t)&&(t={render:t}),t&&ce(t.render)||Be("mota.view.createClass","Provide an object with a `render` property containing a function"),e.displayName=t.displayName,e.validateProps=t.validateProps;for(n in t.statics)e[n]=t.statics[n];e.prototype=new et,t=Ke(e.prototype,t);for(n in t)ce(t[n])&&r.push(n);return t.constructor=e,t.__methods=r,e.__type=cr++,e},hr=function(t,e){var n=t.key,r=t.type,i=void 0===r.__type?r:r.__type;return void 0===e[i]&&(e[i]=0),i+(null==n?":noKey:"+e[i]++:":key:"+n)};q.prototype={get:function(t){var e=this.array[t];return e&&e.component},traverse:function(t){for(var e=0,n=this.array;e<this.length;e++)t(n[e])},diffChildren:function(t,e){for(var n=this.array,r=this.map,i=0,o=null,u="",a={},s=null,c=null,l=!1,h=this.parentComponent.el,f=this.parentComponent.__internal__,p=f.owner,d=f.depth+1,v=0,m=0;i<t.length;i++)o=t[i],l=ce(o.type),u=hr(o,a),s=n[i],s&&s.key===u?s.update(l?o.props:o,i):(c=r[u],c?(m=c.index,c.update(l?o.props:o,i),s&&(n[s.index=m]=s)):(c=(l?new o.type:new Hn).__internal__,c.init(l?o.props:o,!l&&p,h,d,i,u,e),s&&(n[s.index=this.length++]=s)),n[i]=c,r[u]=c);for(v=i;i<this.length;i++)s=n[i],s.remove(),r[s.key]=null,n[i]=null;this.length=v}};var fr=function(t,e,n,r,i,o){var u,a,s,c=t.__internal__,l=c[n],h=c[r],f=Qt(i);for(a=h,s=a.length;s--;)u=a[s],void 0===i[u]&&o(t,e,u,l[u],void 0);for(a=f,s=a.length;s--;)u=a[s],l[u]!==i[u]&&o(t,e,u,l[u],i[u]);c[n]=i,c[r]=f},pr=function(t,e,n){var r,i;if(null!=t&&t!==!1&&t!==!0&&""!==t){if(ar(t))return void e.push(t);if("object"==typeof t)return void vn(t,n,null,!1);r=e.length-1,i=r>-1&&e[r],"#text"===i.type?i.props.text+=t+"":e.push({type:"#text",props:{text:t+""}})}},dr=function(t){var e=[];if(null!=t){var n=function(t){pr(t,e,n)};n(t)}return e},vr={area:1,base:1,br:1,col:1,command:1,embed:1,hr:1,img:1,input:1,keygen:1,link:1,menuitem:1,meta:1,param:1,source:1,track:1,wbr:1},mr=/([A-Z])/g,gr=/&/g,yr=/</g,br=/>/g,_r=/"/g,wr=t(function(t){return t.replace(mr,"-$1").toLowerCase()}),xr=t(function(t){return t.replace(gr,"&amp;").replace(yr,"&lt;").replace(br,"&gt;")}),Er=t(function(t){return xr(t).replace(_r,"&quot;")});Y.prototype={insertBefore:function(t,e){this.childNodes.push(t)},setAttribute:function(t,e){this._attrs[t]=e+""},getAttribute:function(t){return this._attrs[t]}},Object.defineProperty(Y.prototype,"innerHTML",{get:function(){return void 0===this._innerHTML&&(this._innerHTML=B(this)),this._innerHTML},set:function(t){return this._innerHTML=t,t}});var jr={nodeType:9,createElement:function(t){return new Y(t)},createElementNS:function(t,e){var n=new Y(e);return n._attrs.xmlns=t,n},createTextNode:function(t){return new K(t)},createComment:function(t){return new X(t)}};jr.head=jr.createElement("head"),jr.body=jr.createElement("body"),jr.documentElement=jr.createElement("html"),jr.documentElement.insertBefore(jr.head),jr.documentElement.insertBefore(jr.body),jr.childNodes=[jr.documentElement];var kr=jr,Sr=function(t,e,n,r,i){var o,u,a=e.children,s=r?kr:ne;return"string"==typeof t?("#text"===t?o=s.createTextNode(e.text):"#comment"===t?o=s.createComment(a.join("\n")):(e.xmlns?u=e.xmlns:"svg"===t?u="http://www.w3.org/2000/svg":"math"===t&&(u="http://www.w3.org/1998/Math/MathML"),o=u?s.createElementNS(u,t):s.createElement(t)),n&&!fn.get(n)&&n.nodeType===o.nodeType&&n.nodeName===o.nodeName&&n.nodeValue===o.nodeValue&&(o=n),("script"===t||"style"===t)&&In("For security reasons, <script> and <style> elements are not allowed to be created.",i)):In("`render` must return an object containing a `type` property with a primitive string or it must return `null`.",i),o},Mr=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Nr=function(t){return null==t?"":(t+"").replace(Mr,"")},Tr=function(t){var e,n,r,i,o="",u=0;if(!t)return"";if(e=$t(t),"array"===e)for(n=t.length;n>u;u++)t[u]&&(o+=" "+t[u]);else if("object"===e)for(r=Yt(t),n=r.length;n>u;u++)i=r[u],t[i]&&(o+=" "+i);else o=t+"";return Nr(o)},Cr=/^[a-zA-Z_][\w\.\-]*$/,zr=t(function(t){return Cr.test(t)?!0:!1}),Ar=["Webkit","Moz","ms"],Lr=ne?ne.createElement("div").style:!1,Vr={animationIterationCount:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,fontWeight:1,gridRow:1,gridColumn:1,lineClamp:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,fillOpacity:1,stopOpacity:1,strokeDashoffset:1,strokeOpacity:1,strokeWidth:1},Ir=t(function(t){var e,n;if(!Lr)return t;if(t in Lr)return t;for(e=G(t),n=Ar.length;n--;)if(t=Ar[n]+e,t in Lr)return t;return!1});A(Vr,function(t,e){Vr[Ir(e)]=t});var Or=function(t,e,n,r,i){var o,u;switch(n){case"key":case"data-mota":case"children":case"childNodes":case"innerHTML":case"outerHTML":return;case"daugerousInnerHTML":case"dangerouslySetInnerHTML":if(r&&i&&r.__html===i.__html)return;return void(i&&e.innerHTML!==i.__html&&Tn(e,"innerHTML",i.__html,"prop"));case"style":return fr(t,e,"cacheStyle","cacheStyleKeys",Qn(i),J);case"class":case"className":return o=Tr(i),void("svg"===e.nodeName?e.getAttribute("class")!==o&&Tn(e,"class",o,"attr"):e.className!==o&&Tn(e,"className",o,"prop"));default:return u=n.replace(pn,""),void(n!==u?(u=u.toLowerCase(),r&&or.off.call(t,u,r),i&&or.on.call(t,u,i)):n in e&&"list"!==n&&"form"!==n&&"type"!==n&&"width"!==n&&"height"!==n?("value"===n&&(i+=""),e[n]!==i&&("value"===n&&"SELECT"===e.nodeName?Ln(e,n,i,"prop"):Tn(e,n,i,"prop"))):zr(n)&&Tn(e,n,i,"attr"))}},Pr=sr("noscript"),Rr=function(t,e,n){var r,i,o,u,a,s,c,l,h=this.component;if(r=h.render(sr,e)||Pr,i=this.cache,i!==r){if(this.cache=r,u=r.type,a=r.props,s=a.children,h.el||(h.el=Sr(u,a,this.parentEl.childNodes.item(t),n,this.owner)),o=h.el,o||In("The `el` property is missing.",this.owner),i.type&&u!==i.type&&In("You must not change the type of an component between updates. You have changed `"+i.type+"` to `"+u+"`.",this.owner),"#text"===u){if(o.nodeValue===a.text)return;return Tn(o,"nodeValue",a.text,"prop")}if("#comment"===u)return Tn(o,"nodeValue",s.join("\n"),"prop");vr[u]&&(null!=a.daugerousInnerHTML||null!=s)&&In("`"+u+"` is a void element tag and must not have `children` or use `daugerousInnerHTML`.",this.owner),fr(h,o,"cacheAttrs","cacheAttrsKeys",a,Or),vr[u]||null!=a.daugerousInnerHTML||(c=this.children,l=dr(s),!c&&l.length&&(c=this.children=new q(h)),c&&c.diffChildren(l,n))}},Ur=function(){this.dontQueue=!0,Cn(this.component.el),tt(this),this.queued=!1},Dr=function(t,e,n){var r,i=this.component,o=i.props,u=this.force;return this.index=e,this.dontQueue=!0,t?i.componentWillReceiveProps&&i.componentWillReceiveProps(t):t=i.props,!u&&i.shouldComponentUpdate&&(r=i.shouldComponentUpdate(t),r===!1)?(i.props=t,this.queued=!1,void(this.dontQueue=!1)):(i.componentWillUpdate&&i.componentWillUpdate(t),i.props=t,this.queued=!1,this.dontQueue=!1,this.force=!1,this.updateComponent(e,t,n),u||null==e||An(i.el,e,this.parentEl),void(i.componentDidUpdate&&Vn(i,"componentDidUpdate",o)))},qr=function(t,e,n,r,i,o,u){var a=this.component;this.dontQueue=!0,a.props=t,a.initialize&&a.initialize(),a.componentWillMount&&a.componentWillMount(),this.queued=!1,this.dontQueue=!1,this.owner=e||a,this.depth=r,this.parentEl=n,this.index=i,this.key=o,this.updateComponent(i,t,u),fn.add(a),zn(a.el,i,n),a.componentDidMount&&Vn(a,"componentDidMount")},Fr=function(t,e){this.dontQueue||(this.queued?t&&(this.force=!0):(this.queued=!0,this.force=!!t,this.renderToString=!!e,kn(this.component)))},Hr=Object.freeze({}),Wr=Object.freeze([]),$r=function(t){this.component=t,this.queued=!1,this.force=!1,this.renderToString=!1,this.children=null,this.depth=0,this.parentEl=null,this.key="",this.index=0};$r.prototype={constructor:$r,updater:{startIgnore:Sn,endIgnore:Mn},cache:sr(),cacheAttrs:Hr,cacheAttrsKeys:Wr,cacheStyle:Hr,cacheStyleKeys:Wr,queueUpdate:Fr,init:qr,update:Dr,remove:Ur,updateComponent:Rr},Ke(et.prototype,or,{update:function(){this.__internal__.queueUpdate()},forceUpdate:function(){this.__internal__.queueUpdate(!0)},bindMethodsToThis:function(){for(var t,e,n=this.__methods.length;n--;)t=this.__methods[n],e=this[t],this[t]=Xt(e,this),this[t].original=e}});var Br=function(t,e){if(t){var n=fn.get(t);if(n)return n;if(!e)return n=new et,n.el=t,fn.add(n)?n:void 0}},Qr=function(t){var e=new et;return e.el=kr.createElement("div"),e.render=function(e){
return e(null,null,t)},e.__internal__.queueUpdate(!0,!0),e.el.innerHTML},Yr=function(t,e,n){var r=Br(e);return r||Be("mota.view.render","`parent` should be an DOM element"),r.render=function(e){return e(null,null,t)},ce(n)&&(r.componentDidUpdate=function(){this.componentDidUpdate=void 0,n()}),r.update(),r.__internal__.children.get(0)},Kr={classSet:Tr,Component:et,create:sr,createClass:lr,render:Yr,renderToString:Qr,select:Br,styleSet:Qn,dispatchEvents:Bn()},Xr=/[\-{}\[\]+?.,\\\^$|#\s]/g,Gr=/\((.*?)\)/g,Zr=/(\(\?)?:\w+/g,Jr=/\*\w+/g,ti=/(?:(\(\?)?:\w+)|(?:\*\w+)/g,ei=/^\/+/,ni=/\/+$/,ri=/#.*/,ii=/\?.*/,oi=function(t,e){var n,r,i=[];for(n=0;n<t.length;n++)r=t[n],r&&"."!==r&&(".."===r?i.length&&".."!==i[i.length-1]?i.pop():e&&i.push(".."):i.push(r));return i},ui=t(function(t){var e,n;return e="/"===t.charAt(0)?"/":"",n=t.replace(ei,"/").replace(ni,e).split("/"),e+oi(n,!e).join("/")}),ai=new RegExp("^(?:(?:((?:https?|ftp):)//)(?:(\\S+(?::\\S*)?)@)?((?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*)?(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))?)(?::(\\d{2,5}))?)?(/?\\S*)?$","i"),si=function(t,e){var n=this,r=(t||"").match(ai)||[];return this.auth=r[2]||"",this.hash="",this.hostname=r[3]||"",this.port=r[4]||"",this.protocol=r[1]||"",this.search="",this.host=this.hostname+(this.port?":"+this.port:""),this.pathname=(r[5]||"").replace(ri,function(t){return n.hash=t||"",""}).replace(ii,function(t){return n.search=t||"",""}),this.pathname=ui(this.pathname),this.hostname&&!this.pathname&&(this.pathname="/"),this.path=this.pathname+this.search,this.fragment=this.path+this.hash,this.query=this.search.substring(1),e&&(this.query=nt(this.query)),this.href=this.format(),this},ci=function(){return"/"===this.pathname.charAt(0)},li=function(){var t,e="";return this.protocol&&(e+=it(this.protocol,":")+"//"),this.auth&&(e+=this.auth+"@"),this.host?e+=this.host:(this.hostname&&(e+=this.hostname),this.port&&(e+=":"+this.port)),this.pathname&&(e+=ui(this.pathname)),this.search?e+=rt(this.search,"?"):this.query&&(t=ot(this.query),t&&(e+="?"+t)),this.hash&&(e+=rt(this.hash,"#")),e},hi=function(){var t,e,n=[];for(t=0;t<arguments.length;t++)e=arguments[t],e&&pe(e)&&n.push(e);return ut.normalize(n.join("/"))},fi=function(t){for(var e=t.length-1,n=0,r=e;e>=n&&!t[n];n++);for(;r>=0&&!t[r];r--);return 0===n&&r===e?t:n>r?[]:t.slice(n,r+1)},pi=function(t,e){var n,r,i,o,u,a,s,c;for(n=new ut(t),r=new ut(e),i=fi(n.pathname.split("/")),o=fi(r.pathname.split("/")),u=Math.min(i.length,o.length),a=u,s=0;u>s;s++)if(i[s]!==o[s]){a=s;break}for(c=[],s=a;s<i.length;s++)c.push("..");return c=c.concat(o.slice(a)),c.join("/")},di=function(){for(var t,e,n="",r=!1,i=arguments.length;i--;)if(""!==arguments[i]&&(t=new ut(arguments[i]),e||(e=t),r||(n=t.pathname+"/"+n,r=t.isAbsolute()),t.host)){e.host=t.host,e.protocol=t.protocol;break}return n=oi(n.split("/"),!r).join("/"),e.pathname=(r?"/":"")+n,e.format()};Ke(ut.prototype,{format:li,isAbsolute:ci,parse:si,toObject:function(){for(var t={},e=Qt(this),n=0;n<e.length;n++)t[e[n]]=this[e[n]];return t}}),ut.format=function(t){return li.call(t)},ut.isAbsolute=function(t){return new ut(t).isAbsolute()},ut.join=hi,ut.normalize=function(t){return new ut(t).href},ut.parse=function(t,e){return new ut(t,e)},ut.relative=pi,ut.resolve=di;var vi=/^\/+|\/+$/g,mi=function(t){return t.replace(Xr,"\\$&").replace(Gr,"(?:$1)?").replace(Zr,function(t,e){return e?t:"([^/?]+)"}).replace(Jr,"([^?]*)")},gi=t(function(t){var e=new RegExp("^"+mi(t)),n=(t.match(ti)||[]).map(function(t){return t.slice(1)});return{regexp:e,names:n}});at.prototype={constructor:at,normalize:function(t){return rt(new ut(t).fragment,"/")},route:function(t,e,n){var r=new at(t,e,n,this);return this.routes.push(r),this},setCallback:function(t){return this.callback=t,this},setDefaultCallback:function(t){return this.defaultCallback=t,this},triggerRoutes:function(t,e){var n,r,i=0,o=this.routes.length,u=function(t,r){var i=n.params.names[r];e[i]=t?decodeURIComponent(t):null};for(t=this.normalize(t),this.callback&&this.callback(e,t);o>i;i++)if(n=this.routes[i],r=t.match(n.params.regexp))return e={},r.slice(1).forEach(u),void n.triggerRoutes(t,e);this.defaultCallback&&this.defaultCallback(t)}};var yi;st.extend=Ze,Ke(st.prototype,at.prototype,{constructor:st,_join:function(t){return"/"!==this.root?this.root+t:t},checkUrl:function(){return this.triggerRoutes(this.getFragment())},getFragment:function(){var t=this.root,e=this.location,n=e.pathname+e.search+e.hash;return 0===n.indexOf(t)&&(n=n.slice(t.length)),this.fragment=this.normalize(n)},start:function(t){this._started||(this._started=!0,this.root=this.normalize(t&&t.root),this.checkUrl(),this.window.on("popstate",this.checkUrl,this))},stop:function(){this._started&&(this._started=!1,this.window.off("popstate",this.checkUrl,this))},navigate:function(t,e){return this._started?(e&&e!==!0||(e={replace:!!e}),t=this.normalize(t),void(this.fragment!==t&&(this.fragment=t,this.history[e.replace?"replaceState":"pushState"]({},ne.title,this._join(t)),this.triggerRoutes(t)))):!1},redirect:function(t,e){var n=this.navigate.bind(this,e);this.route(t,function(){this.setCallback(n)})}});var bi="@@__MOTA_PROMISE__@@",_i=0,wi=1,xi=2,Ei=function(){return"object"==typeof process&&"[object process]"===process.toString()&&process.nextTick?function(t){process.nextTick(t)}:"function"==typeof setImmediate?function(t){setImmediate(t)}:function(t){setTimeout(t,0)}}(),ji=function(t){var e=this;this.value=null,this.state=_i,this.queue=[],this.handlers={fulfill:dt,reject:vt},ce(t)&&t(function(t){ft(e,t)},function(t){lt(e,xi,t)})};ji.prototype[bi]=!0,ji.prototype.then=function(t,e){var n=new ji;return ce(t)&&(n.handlers.fulfill=t),ce(e)&&(n.handlers.reject=e),this.queue.push(n),pt(this),n};var ki="catch";ji.prototype[ki]=function(t){return this.then(null,t)};var Si="finally";ji.prototype[Si]=function(t){return this.then(function(e){return ji.resolve(t()).then(function(){return e})},function(e){return ji.resolve(t()).then(function(){throw e})})},ji.prototype.done=function(t,e){this.then(t,e)[ki](mt)},ji.resolved=ji.resolve=function(t){return new ji(function(e){e(t)})},ji.rejected=ji.reject=function(t){return new ji(function(e,n){n(t)})},ji.deferred=ji.defer=function(){var t,e;return{promise:new ji(function(n,r){t=n,e=r}),resolve:t,reject:e}},ji.all=function(t){return new ji(function(e,n){var r=[],i=0,o=0;return vn(t,function(t){var u=o++;i++,ji.resolve(t).then(function(t){r[u]=t,i--,0===i&&e(r)},n)},null,!1),0===o?e(r):void 0})},ji.race=function(t){return new ji(function(e,n){vn(t,function(t){ji.resolve(t).then(e,n)},null,!1)})};var Mi={},Ni=5,Ti=32,Ci=Ti-1,zi=Ti/2,Ai=Ti/4,Li="@@__MOTA_MAP__@@",Vi=function(t,e){this.__type=e,this.__stack=t.__root&&gt(t.__root)};Vi.prototype={constructor:Vi,next:function(){for(var t,e,n,r,i,o=this.__type,u=this.__stack;u;){if(t=u.node,e=t.children,n=u.index++,e){if(r=e.length-1,r>=n){if(i=e[n]){if(!i.children)return yt(i.key,i.value,o);u=this.__stack=gt(i,u)}continue}}else if(0===n)return yt(t.key,t.value,o);u=this.__stack=this.__stack.prev}return Ne},toString:function(){return"[object Map Iterator]"}},je(Vi.prototype,"iterator",function(){return this});var Ii=function(t){return t&&this.owner===t},Oi=function(t){for(var e,n=this.children,r=0,i=n.length;i>r;r++)if(e=n[r],e&&e.forEach(t)===!1)return!1},Pi=function(t,e,n){var r,i,o,u=t.length-1;if(n&&e===u)return t.pop(),t;for(r=new Array(u),i=o=0;u>i;i++)i===e&&(o=1),r[i]=t[i+o];return r},Ri=function(t,e,n,r){var i,o,u;if(r)u=t;else for(i=0,o=t.length,u=new Array(o);o>i;i++)u[i]=t[i];return void 0!==e&&(u[e]=n),u};Ke(bt.prototype,{isLeafNode:!0,isEditable:Ii,forEach:Oi,lookup:function(t,e,n,r){for(var i,o=0,u=this.children.length;u>o;o++)if(i=this.children[o],$e(i.key,n))return i.value;return r},modify:function(t,e,n,r,i){void 0===n&&(n=u(r));var o,a,s,c,l,h,f,p,d,v;if(n!==this.hash)return o=i.get(i.notSetValue),(s=o===i.notSetValue)?this:(i.changeValue=!0,i.changeSize=!0,Hi(this,t,e,new xt(t,n,r,o)));for(f=this.children,c=0,l=f.length;l>c;c++)if(v=f[c],$e(v.key,r)){a=v.value;break}return h=l>c,o=i.get(h?a:i.notSetValue),s=o===i.notSetValue,(h?v.value===o:s)?this:(i.changeValue=!0,(s||!h)&&(i.changeSize=!0),s&&2===l?(v=f[1^c],new xt(t,this.hash,v.key,v.value)):(p=this.isEditable(t),d=p?f:Ri(f),h?s?c===l-1?d.pop():d[c]=d.pop():d[c]=new xt(t,n,r,o):d.push(new xt(t,n,r,o)),p?(this.children=d,this):new bt(t,this.hash,d)))}});var Ui=function(t,e,n,r){var i,o,u,a=t.length+1;if(r&&e+1===a)return t[e]=n,t;for(i=new Array(a),o=u=0;a>o;o++)o===e?(i[o]=n,u=-1):i[o]=t[o+u];return i},Di=function(t,e,n,r){for(var i,o=new Array(n),u=0,a=0,s=0,c=1,l=e.length;l>s;s++)i=e[s],i&&s!==r&&(a|=c,o[u++]=i),c<<=1;return new wt(t,a,o)};Ke(_t.prototype,{isEditable:Ii,forEach:Oi,lookup:function(t,e,n,r){void 0===e&&(e=u(n));var i=this.children[(0===t?e:e>>>t)&Ci];return i?i.lookup(t+Ni,e,n,r):r},modify:function(t,e,n,r,i){void 0===n&&(n=u(r));var o,a,s,c,l=(0===e?n:n>>>e)&Ci,h=this.children,f=h[l];if(!f&&i.get(i.notSetValue)===i.notSetValue)return this;if(o=Wi(f,t,e+Ni,n,r,i),o===f)return this;if(a=this.count,f){if(!o&&(a--,Ai>a))return Di(t,h,a,l)}else a++;return s=this.isEditable(t),c=Ri(h,l,o,s),s?(this.count=a,this.children=c,this):new _t(t,a,c)}});var qi=function(t){return t-=t>>1&1431655765,t=(858993459&t)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,127&t},Fi=function(t,e,n,r,i){for(var o=new Array(Ti),u=0,a=0;n;u++)1&n&&(o[u]=e[a],a++),n>>>=1;return o[r]=i,new _t(t,a+1,o)};Ke(wt.prototype,{isEditable:Ii,forEach:Oi,lookup:function(t,e,n,r){void 0===e&&(e=u(n));var i=1<<((0===t?e:e>>>t)&Ci),o=this.bitmap;return o&i?this.children[qi(o&i-1)].lookup(t+Ni,e,n,r):r},modify:function(t,e,n,r,i){void 0===n&&(n=u(r));var o,a,s,c,l,h,f,p,d=(0===e?n:n>>>e)&Ci,v=1<<d,m=this.bitmap,g=0!==(m&v);return g||i.get(i.notSetValue)!==i.notSetValue?(o=qi(m&v-1),s=this.children,c=g?s[o]:void 0,l=Wi(c,t,e+Ni,n,r,i),l===c?this:(a=s.length,!g&&l&&a>=zi?Fi(t,s,m,d,l):g&&!l&&2===a&&s[1^o].isLeafNode?s[1^o]:g&&l&&1===a&&l.isLeafNode?l:(h=this.isEditable(t),f=g?l?m:m^v:m|v,p=g?l?Ri(s,o,l,h):Pi(s,o,h):Ui(s,o,l,h),h?(this.bitmap=f,this.children=p,this):new wt(t,f,p)))):this}});var Hi=function(t,e,n,r){var i,o,u=t.hash,a=r.hash;return u===a?new bt(e,u,[r,t]):(i=u>>>n&Ci,o=a>>>n&Ci,new wt(e,1<<i|1<<o,i===o?[Hi(t,e,n+Ni,r)]:o>i?[t,r]:[r,t]))};Ke(xt.prototype,{isLeafNode:!0,isEditable:Ii,lookup:function(t,e,n,r){return $e(this.key,n)?this.value:r},modify:function(t,e,n,r,i){var o=$e(this.key,r),a=i.get(o?this.value:i.notSetValue),s=a===i.notSetValue;return(o?this.value===a:s)?this:(i.changeValue=!0,s?void(i.changeSize=!0):o?this.isEditable(t)?(this.value=a,this):new xt(t,this.hash,r,a):(i.changeSize=!0,void 0===n&&(n=u(r)),Hi(this,t,e,new xt(t,n,r,a))))},forEach:function(t){return t(this)}});var Wi=function(t,e,n,r,i,o){var a;if(!t){if(a=o.get(o.notSetValue),a===o.notSetValue)return;return void 0===r&&(r=u(i)),o.changeValue=!0,o.changeSize=!0,new xt(e,r,i,a)}return t.modify(e,n,r,i,o)},$i=function(t,e){return{changeSize:!1,changeValue:!1,notSetValue:e,func:t,value:void 0,get:Et}},Bi={},Qi=kt.prototype={get:function(t,e){var n=this.__root;return n?n.lookup(0,void 0,t,e):e},has:function(t){return Bi!==this.get(t,Bi)},set:function(t,e){var n=$i(void 0,Bi);return n.value=e,jt(this,t,n)},remove:function(t){var e=$i(void 0,Bi);return e.value=Bi,jt(this,t,e)},update:function(t,e,n){return jt(this,t,$i(e,n))},__triggerChangeEvent:function(){if(this.isMutable()){var t=this.__changes;if(this.__changes=[],t&&t.length)return this.trigger("change",t),!0}return!1},clear:function(){if(this.isImmutable())return Yi;if(this.hasListeners()){var t=this.__changes;t||(t=this.__changes=[]),this.forEach(function(e,n){t.push({type:"delete",key:n,name:n,oldValue:e})})}return this.size=0,this.__root=void 0,this.__triggerChangeEvent(),this},count:function(){return this.size},forEach:function(t,e){var n,r=this,i=0;return this.size&&(n=N(t,e),this.__root.forEach(function(t){return i++,n(t.value,t.key,r)})),i},isMutable:function(){return!!this.__owner},isImmutable:function(){return!this.__owner},asMutable:function(){return this.isMutable()?this:Tt(!0,this.size,this.__root)},asImmutable:function(){return this.isMutable()?this.size?Tt(!1,this.size,this.__root):Yi:this},clone:function(){return this.isImmutable()?this:Tt(!0,this.size,this.__root)},merge:function(t,e){var n,r,i;return t&&t!==Yi?this===Yi&&St(t)&&t.isImmutable()?t:(n=this.asMutable(),r=!1,i=We(t),vn(t,function(t,o){i&&(o=t[0],t=t[1]);var u=$i(void 0,Bi);u.value=t,e===Mi?(jt(n,o,u,e),u.changeValue&&(r=!0)):jt(n,o,u,!0)}),r||n.__triggerChangeEvent()?n===this?n:n.asImmutable():this):this}};Qi[Li]=!0,je(Qi,"get",Qi.get),m(kt,Vi,"entries"),Qi.pairs=Qi.entries,Qi.unset=Qi["delete"]=Qi.remove,Mt.isMap=St,Nt.isMap=St,Mt.prototype=new kt,Nt.prototype=new kt,Ke(Mt.prototype,or);var Yi=Tt(!1,0,void 0);return Ct(zt,"VERSION","0.10.3",!0),Ct(zt,"__DEV__",!1,!1),Ct(zt,"developmentMode",!1,!1),Je.hashCode=u,Je.extend(zt,Je,{Events:or,Map:Mt,ImmutableMap:Nt,path:ut,Promise:ji,Router:st,util:Je,view:Kr,setWindow:re}),zt});
//# sourceMappingURL=mota.min.js.map