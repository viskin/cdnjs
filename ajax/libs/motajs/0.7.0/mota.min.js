/*!
 * MotaJS v0.7.0
 * http://motapc.js.org/motajs
 *
 * Released under the MIT license
 * https://github.com/motapc97/MotaJS/blob/master/LICENSE.md
 *
 * Project
 * https://github.com/motapc97/MotaJS
 *
 * Date: 2015-05-09T13:12Z
 */
!function(a,b){"function"==typeof define&&define.amd?define(function(){return b(a)}):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=b),exports.mota=b):a.mota=b(a)}("undefined"!=typeof window?window:this,function(a){function b(a,b){na[a]=b}function c(){}function d(){}function e(a,b,c,d){a||i("mota.Router.route","Provide a name for this route"),(!b||b.match(Yb))&&i("mota.Router.route","Provide a non-empty path without leading slashes"),this.name=a,this.parent=d,this.path=ac(d.path||"",b||""),this.params=cc(this.path),this.routes=[],this.routesMap={},Y(c)&&c.call(this)}function f(){this.routes=[],this.routesMap={},this.location=a.location,this.history=a.history,this.window=Pb.select(a),this._hasPushState=!(!this.history||!this.history.pushState),this.initialize&&p(this.initialize,this,arguments)}function g(){}a||(a=this);var h=!1,i=function(a,b){throw a+" ERROR: "+b},j=function(a,b){console.log(a+" LOG: "+b)},k=a.mota,l=function(){return k&&(a.mota=k),this},m="0.7.0",n=function(a,b){console.warn?console.warn(a+" WARNS: "+b):console.log(a+" WARNS: "+b)},o={err:i,log:j,noConflict:l,VERSION:m,warn:n},p=function(a,b,c){var d=c&&c.length;if(!d)return a.call(b);switch(d){case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2]);case 4:return a.call(b,c[0],c[1],c[2],c[3]);case 5:return a.call(b,c[0],c[1],c[2],c[3],c[4]);default:return a.apply(b,c)}},q=Array.isArray,r={},s=r.toString,t={"[object Array]":"array","[object Boolean]":"boolean","[object Date]":"date","[object Error]":"error","[object Function]":"function","[object Number]":"number","[object Object]":"object","[object RegExp]":"regexp","[object String]":"string"},u=function(a){var b=typeof a;return"object"===b||"function"===b?null===a?"null":t[s.call(a)]||"object":b},v=function(a){return"object"===u(a)},w=function(a){var b;return!!a&&("function"==(b=typeof a)||"object"===b)},x=function(a){var b,c,d,e,f,g,h=1,i=arguments.length,j=!1;if(a===!0&&(j=a,a=arguments[h],h++),!w(a))return a;for(;i>h;h++)if(null!=(b=arguments[h]))for(c in b)d=a[c],e=b[c],a!==e&&(j&&e&&("object"===(f=u(e))||"array"===f)?(g="array"===f?d&&q(d)?d:[]:d&&v(d)?d:{},a[c]=x(j,g,e)):void 0!==e&&(a[c]=e));return a},y=r.hasOwnProperty,z=function(a,b){return null!=a&&y.call(a,b)},A={},B=Object.create,C=function(a,b,c){var d,e,f=this;return e=a&&z(a,"constructor")?a.constructor:f,d=c?function(a,b){return this instanceof d?a===A?p(e,this,b):p(e,this,arguments):new d(A,arguments)}:function(){return p(e,this,arguments)},d.prototype=B(f.prototype),d.prototype.constructor=d,a&&x(d.prototype,a),x(d,f,b),d.__super__=f.prototype,d},D=[],E=D.slice,F=function(a){var b,c,d;if(a===!0&&z(arguments,1)&&(b=a,a=arguments[1]),!w(a))return a;switch(u(a)){case"array":return b?x(b,[],a):E.call(a);case"number":case"string":case"date":case"boolean":return new(c=a.constructor)(a);case"regexp":return c=a.constructor,d=new c(a),d.lastIndex=a.lastIndex,d;default:return b?x(b,{},a):x({},a)}},G=function(a){return"[object Arguments]"===s.call(a)},H="[object process]"===("undefined"!=typeof global&&global&&s.call(global.process)),I="[object Window]",J="[object global]",K=function(a){if(!a||"object"!=typeof a)return!1;if(!H&&a.window!==a)return!1;var b=s.call(a);return b===I||b===J},L=Math.pow(2,53)-1,M=function(a){var b,c=u(a);return"array"===c?!0:"object"!==c||K(a)?!1:(b="length"in a&&a.length,0===b?!0:"number"==typeof b&&b>0&&L>=b&&b-1 in a)},N=function(a){return a===!0||a===!1||"boolean"===u(a)},O=function(a){return"date"===u(a)},P="[object HTMLDocument]",Q="[object Document]",R=function(a){var b;if(!a||null!==a.parentNode||!(b=a.defaultView))return!1;if(H)return K(b);var c=s.call(a);return c===P||c===Q},S=function(a){return a&&1===a.nodeType?H?!0:s.call(a).indexOf("Element")>-1:!1},T=function(a){return"string"===u(a)},U=function(a){if(null==a)return!0;if(q(a)||T(a)||G(a))return 0===a.length;for(var b in a)if(z(a,b))return!1;return!0},V=Object.keys,W=function(a,b){if(!w(a))return[];if(b){var c,d=[];for(c in a)d.push(c);return d}return V(a)},X=function(a){return"function"===u(a)};"function"!=typeof/./&&"object"!=typeof Int8Array&&(X=function(a){return"function"==typeof a||!1});var Y=X,Z=function(a){var b;return!a||"object"!=typeof a||"[object Object]"!==s.call(a)||z(a,"constructor")?!1:(b=a.constructor)?Y(b)&&b instanceof b:!0},$=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;var e=u(a);if(e!=u(b))return!1;switch(e){case"regexp":case"string":return""+a==""+b;case"number":return a=+a,b=+b,a!==a?b!==b:0===a?1/a===1/b:a===b;case"date":case"boolean":return+a===+b}var f="array"===e;if(!f){if("object"!=typeof a||"object"!=typeof b)return!1;var g=a.constructor,h=b.constructor;if(!(g===h||Z(a)&&Z(b)))return!1}c=c||[],d=d||[];for(var i=c.length;i--;)if(c[i]===a)return d[i]===b;if(c.push(a),d.push(b),f){if(i=a.length,i!==b.length)return!1;for(;i--;)if(!$(a[i],b[i],c,d))return!1}else{var j,k=W(a);if(i=k.length,W(b).length!==i)return!1;for(;i--;)if(j=k[i],!z(b,j)||!$(a[j],b[j],c,d))return!1}return c.pop(),d.pop(),!0},_=function(a,b){return $(a,b)},aa=function(a){return"error"===u(a)},ba=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},ca=function(a){return"number"===u(a)},da=function(a){return a!==+a&&ca(a)},ea=function(a){return null===a},fa=function(a){return"regexp"===u(a)},ga=function(a){return void 0===a},ha=function(a){for(var b=W(a),c=b.length,d=Array(c),e=0;c>e;e++)d[e]=[b[e],a[b[e]]];return d},ia={},ja=function(a){return a=a?a+"":"",ia[a]||(ia[a]=0),a+ ++ia[a]},ka={apply:p,classExtend:C,clone:F,extend:x,has:z,isArguments:G,isArray:q,isArrayLike:M,isBoolean:N,isDate:O,isDocument:R,isElement:S,isEmpty:U,isEqual:_,isError:aa,isFinite:ba,isFunction:Y,isNaN:da,isNull:ea,isNumber:ca,isObject:v,isObjectLike:w,isPlainObject:Z,isRegExp:fa,isString:T,isUndefined:ga,isWindow:K,keys:W,pairs:ha,type:u,uniqueId:ja},la=/\S+/g,ma=la,na={},oa="__mota__"+(""+Math.random()).replace(/\D/g,""),pa=Object.defineProperty;c.setup=function(a,b,d,e){var f=a[oa];return f||(f=new c,e?a[oa]=f:pa(a,oa,{writable:!0,value:f})),b?f[b]?f[b]:f[b]=d:f},c.get=function(a,b){var c=a[oa];return b?c&&c[b]:c},c.set=function(a,b,c){var d=a[oa];return d?d[b]=c:void 0},c.del=function(a,b){var d=a[oa];if(d){if(!b)return!!(a[oa]=new c);if(null!=d[b])return!(d[b]=void 0)}return!1},b("MotaData",c);var qa=c,ra=D.indexOf,sa=function(a,b){var c,d,e;for(a.length>b.length?(c=b,d=a):(c=a,d=b),e=c.length;e--;)if(-1!==ra.call(d,c[e]))return!0;return!1},ta=function(a,b,c,d,e){var f,g,h,i=[],j=0;for(f=qa.get(a,"events"),h=f?f.length:0;h>j;j++)g=f[j],b&&g.type!==b||d&&g.handler!==d||!(!c||0===c.length||g.namespaces&&sa(g.namespaces,c))||e&&g.context!==e||(g.index=j,i.push(g));return i},ua=/\.[^.]+/g,va=ua,wa=/^[^.]+/g,xa=wa,ya=function(a,b,c,d){this.type=a,this.namespaces=b,this.handler=c,this.context=d},za=function(a,b,c,d,e,f){var g,h,i,j,k,l,m;for(d=(d||"").match(ma)||[""],i=d.length,g=0;i>g;g++)if(k=(d[g].match(xa)||[])[0],l=d[g].match(va),"on"===b)c.call(a,new ya(k,l,e,f));else for(m=ta(a,k,l,e,f),j=m.length,h=0;j>h;h++)c.call(a,m[h])},Aa=function(a,b,c){var d=[];return za(this,"get",function(a){d.push(a)},a,b,c),d},Ba=function(a,b,c){var d=qa.get(this,"events"),e=0;return d?(za(this,"off",function(a){d.splice(a.index-e,1),e++},a,b,c),this):this},Ca=function(a,b,c,d){if(!a)return this;if(!b)return this;var e=this,f=qa.setup(this,"events",[]);return za(this,"on",function(a){if(d){var b=a.handler,c=a.type,g=function(){Ba.call(e,c,g),p(b,this,arguments)};a.handler=g}f.push(a)},a,b,c),this},Da=function(a,b,c){return Ca.call(this,a,b,c,!0)},Ea=function(a){var b=E.call(arguments,1);return za(this,"trigger",function(a){p(a.handler,void 0!==a.context?a.context:this,b)},a),this},Fa={getListeners:Aa,off:Ba,on:Ca,once:Da,trigger:Ea},Ga=function(){return this.unsetAll(ha(this.attributes))},Ha=function(){return new this.constructor(ha(this.attributes))},Ia={},Ja=function(a,b){if(T(b)&&(b=Ia[b]||(Ia[b]=b.split("."))),!b||!b.length)return a;for(var c,d,e,f,g=0,h=b.length-1,i=!1;z(a,b[g])&&h>g;)a=a[b[g]],g++;return g===h&&null!=a&&(c=a,d=E.call(b,0,-1),f=b[g],e=a[f],i=z(a,f)),{path:b,parent:c,parentPath:d,name:f,value:e,exists:i}},Ka=function(a){return Ja(this.attributes,a).value},La=function(a){return Ja(this.attributes,a).exists},Ma=D.splice,Na=function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n=Ja(this.attributes,a),o=n.value;if(a=n.path,q(o)&&(l=c-0,!(da(l)||(m=o.length,b&&m>l)))){for(0>l&&(l=m+l),j=E.call(arguments,2),k=j.length,g=2>k?0:k-2;l&&l>m;)l--,b&&g++;return b?(o[c]=e,h=[]):h=p(Ma,o,j),i=h.length,i||g?(f=E.call(E.call(o,l),0,g),{model:this,path:a,added:f,addedCount:g,index:l,object:o,removed:h,removedCount:i,type:"splice"}):void 0}},Oa=function(a,b,c){var d,e,f,g,h,i,j,k=null;if(null==a)return this;if(j=Ja(this.attributes,a),d=j.parent,null==d)return this;if(a=j.path,e=j.parentPath,f=j.value,g=j.exists,h=j.name,c?g&&(k="delete"):g?_(f,b)||(k="update"):k="add",k){switch(k){case"add":i=Na.call(this,e,!0,h,0,b),i?k="splice":d[h]=b;break;case"update":d[h]=b;break;case"delete":delete d[h]}return i||(i={model:this,path:a,name:h,object:d,type:k},"add"!==k&&(i.oldValue=f),"delete"!==k&&(i.newValue=c?void 0:b)),i}},Pa=function(a,b,c){var d=Oa.call(this,a,b,c);return d&&this.trigger("change",[d]),this},Qa=function(a,b){var c=[],d=this;return a&&a.forEach(function(a){var e=Oa.call(d,a[0],a[1],b);e&&c.push(e)}),c.length&&this.trigger("change",c),this},Ra=function(a,b,c){var d,e;return e=E.call(arguments),Ma.call(e,1,0,!1),d=[p(Na,this,e)],d[0]?(this.trigger("change",d),d[0].removed):void 0},Sa=function(a){return this.set(a,null,!0)},Ta=function(a){return this.setAll(a,!0)},Ua=function(a){this.attributes={},this.setAll(a),this.initialize&&p(this.initialize,this,arguments)};Ua.extend=C,x(Ua.prototype,Fa,{clear:Ga,clone:Ha,get:Ka,has:La,set:Pa,setAll:Qa,splice:Ra,unset:Sa,unsetAll:Ta});var Va=Ua,Wa=a.document,Xa=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Ya=function(){return null==this?"":(this+"").replace(Xa,"")},Za=function(a){var b,c,d,e,f="",g=0;if(!a)return"";if(b=u(a),"array"===b)for(c=a.length;c>g;g++)a[g]&&(f+=" "+a[g]);else if("object"===b)for(d=W(a),c=d.length;c>g;g++)e=d[g],a[e]&&(f+=" "+e);else f=a+"";return Ya.call(f)},$a=D.concat,_a={},ab=1,bb="vComp",cb=function(a){return a.nodeType?1:a===a.window?2:0},db={add:function(a){var b,c=a.el,d=cb(c);return d?(b=qa.get(c,bb),b||(b=ab++,qa.setup(c,bb,b,1===d)),_a[b]=a):void 0},remove:function(a){var b=cb(a)&&qa.get(a,bb);b&&(_a[b]=null)},get:function(a){return _a[cb(a)&&qa.get(a,bb)]}};b("motaViewData",db);var eb=db,fb=/^on/,gb=fb,hb=function(a){return q(a)?p(x,null,[{}].concat(a)):a},ib=["Webkit","Moz","ms"],jb={boxFlex:1,boxFlexGroup:1,columnCount:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,fontWeight:1,lineClamp:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,fillOpacity:1,strokeDashoffset:1,strokeOpacity:1,strokeWidth:1},kb=function(a){return a.charAt(0).toUpperCase()+a.substring(1)},lb=function(a,b){if(a in b)return a;for(var c=kb(a),d=a,e=ib.length;e--;)if(a=ib[e]+c,a in b)return a;n("mota.view.Component.update","`"+d+"` is not a style property.")},mb=function(a,b,c){var d=null==c||"boolean"==typeof c||""===c?"":c,e=lb(b,a),f=1!==jb[e]&&ca(d);d=f?d+"px":Ya.call(d+""),e&&a[e]!==d&&(a[e]=d)};W(jb).forEach(function(a){for(var b=ib.length;b--;)jb[ib[b]+kb(a)]=1});var nb,ob=function(a,b,c,d,e){var f,g,h,i,j,k;if(d!==e)switch(c){case"key":case"children":case"childNodes":case"innerHTML":case"outerHTML":return;case"daugerousInnerHTML":case"dangerouslySetInnerHTML":return void(e&&b.innerHTML!==e.__html&&(b.innerHTML=e.__html));case"style":for(i=b.style,d=hb(d)||{},e=hb(e)||{},k=W(e),f=k.length;f--;)j=k[f],mb(i,j,e[j]);for(k=W(d),f=k.length;f--;)j=k[f],void 0===e[j]&&mb(i,j,null);return;case"class":case"className":return g=Za(e),void("svg"===b.nodeName?b.setAttribute("class",g):b.className!==g&&(b.className=g));default:return h=c.replace(gb,""),void(c!==h?(h=h.toLowerCase(),d&&Fa.off.call(a,h,d),e&&Fa.on.call(a,h,e)):c in b&&"list"!==c&&"form"!==c&&"type"!==c&&"width"!==c&&"height"!==c?b[c]!==e&&(b[c]=e):e?b.setAttribute(c,e+""):b.removeAttribute(c))}},pb=0,qb=function(a){function b(){this.initialize&&p(this.initialize,this,arguments)}var c,d=[];a&&Y(a.render)||i("mota.view.createClass","Provide an object with a `render` property containing a function"),b.prototype=new wb,a=x(b.prototype,a);for(c in a)Y(a[c])&&d.push(c);return a.constructor=b,a.__methods=d,b.__type=pb++,b},rb={area:1,base:1,br:1,col:1,command:1,embed:1,hr:1,img:1,input:1,keygen:1,link:1,menuitem:1,meta:1,param:1,source:1,track:1,wbr:1},sb={},tb=function(a){var b=a.__cache.children,c=b&&b.length;for(eb.remove(a.el),a.el=a.props=a.__cache=void 0;c--;)tb(b[c])},ub=function(a){nb||(nb=qb({render:function(){return this.props}})),this.render||i("mota.view.Component.update","This component doesn't have a `render` function"),this.__cache||(this.__cache={});var b,c,d,e,f,g,h,j,k,l,m,n,o,q,r,s,t,v,w,x,y,z,A,B,C,D,E,F,G,I,J,K,L,M=this.el,N=this.render()||{},O=N.type,P=N.props||{},Q=P.children,R=this.__cache,S=R.result;if(S!==N){if(b=S&&S.props,G=b===P,I=(b&&b.children)===Q,R.result=N,a===sb&&("string"==typeof O?(this.type=O,"#textNode"===O?M=this.el=Wa.createTextNode(N.text):(("script"===O||"style"===O)&&i("mota.view.Component.update","For security reasons, <script> and <style> elements are not allowed"),P.xmlns?c=P.xmlns:"svg"===O?c="http://www.w3.org/2000/svg":"math"===O&&(c="http://www.w3.org/1998/Math/MathML"),M=this.el=c?Wa.createElementNS(c,O):Wa.createElement(O),eb.add(this))):i("mota.view.Component.update","`render` must return an object containing a `type` property with a primitive string.")),M||i("mota.view.Component.update","The `el` property is missing"),O!==this.type&&i("mota.view.Component.update","You must not change the tag of an component between updates."),rb[O]&&(null!=P.daugerousInnerHTML||null!=Q&&Q.length>0)&&i("mota.view.Component.update",O+" is a void element tag and must not have `children` or use `daugerousInnerHTML`."),"#textNode"===O)return d=N.text,void(d!=M.nodeValue&&(M.nodeValue=d));if(!G){for(J=R.attrs||{},L=W(P),r=L.length;r--;)K=L[r],ob(this,M,K,J[K],P[K]);for(L=W(J),r=L.length;r--;)K=L[r],void 0===P[K]&&ob(this,M,K,J[K]);if(R.attrs=P,!I&&!rb[O]&&null==P.daugerousInnerHTML){for(g=R.children,h=R.childrenMap,j=[],k={},l=[],m=[],r=0,s=Q?Q.length:r,f=M.childNodes,q={};s>r;r++)C=Q[r],null!=C&&C!==!1&&""!==C&&(e=u(C),"array"!==e?("object"!==e&&(C={type:"#textNode",text:C+""}),F=C.props||{},D=C.type,E=Y(D),v=E?D.__type:D,null==q[v]&&(q[v]=0),t=v+(null==F.key?":noKey:"+q[v]++:":key:"+F.key),w=h&&h[t],null!=w?(B=g[w],g&&(g[w]=void 0),B.props=E?F:C,A=B,m.push({component:A,index:r})):(E?(A=new C.type,A.props=F):(A=new nb,A.props=C),ub.call(A,sb),l.push({component:A,index:r})),j[r]=A,k[t]=r):(Q=p($a,[],Q),r--,s=Q.length));for(R.children=j,R.childrenMap=k,r=g?g.length:0;r--;)B=g[r],B&&(A=j[r],(!A||A.el.parentNode)&&(g[r]=null,M.removeChild(B.el),tb(B)));for(g&&g.length||!(j.length>10)||(x=Wa.createDocumentFragment()),r=0,s=l.length;s>r;r++)H&&(f=M.childNodes),n=l[r],o=n.index,A=n.component,y=f[o],z=A.el,x?x.insertBefore(z,null):(B=g&&g[o],B?(g[o]=null,M.replaceChild(z,B.el),tb(B)):M.insertBefore(z,y||null));for(r=0,s=m.length;s>r;r++)H&&(f=M.childNodes),n=m[r],A=n.component,y=f[n.index],z=A.el,ub.call(A),y!==z&&M.insertBefore(z,y||null);x&&M.insertBefore(x,null)}}}},vb=ub;x(d.prototype,Fa,{update:vb,bindMethodsToThis:function(){for(var a,b=this.__methods.length;b--;)a=this.__methods[b],this[a]=this[a].bind(this)}});var wb=d,xb=function(a,b,c){var d,e,f,g,h={};if(null!=b)for(d in b)z(b,d)&&(h[d]=b[d]);if(e=arguments.length-2,1===e)h.children=q(c)?c:[c];else if(e>1){for(f=Array(e),g=0;e>g;g++)f[g]=arguments[g+2];h.children=f}return{type:a,props:h}},yb=function(a){if(a){var b=eb.get(a)||new wb;return b.el||(b.el=a),eb.add(b)?b:void 0}},zb=function(a,b){var c=yb(b);return c||i("mota.view.render","`parent` should be an DOM element"),c.render=function(){return{props:{children:[a]}}},c.update(),c.__cache.children[0]},Ab=Date.now,Bb=function(a){a&&a.type?(this.originalEvent=a,this.type=a.type):this.type=a;for(var b in this.originalEvent)"keyLocation"!==b&&null==this[b]&&(this[b]=this.originalEvent[b]);this.type in Fb&&(this.type=Fb[this.type]),this.timeStamp||(this.timeStamp=Ab())};Bb.prototype={constructor:Bb,isDefaultPrevented:!1,isPropagationStopped:!1,isImmediatePropagationStopped:!1,stopPropagation:function(){this.isPropagationStopped=!0},stopImmediatePropagation:function(){this.isPropagationStopped=!0,this.isImmediatePropagationStopped=!0},preventDefault:function(){this.isDefaultPrevented=!0,this.originalEvent.preventDefault()}};var Cb=/^key/,Db=/^(?:mouse|touch|pointer|contextmenu|drag|drop)|click/,Eb={},Fb={mousewheel:"wheel",DOMMouseScroll:"whell"},Gb={other:function(a){return a},key:function(a){return null==a.which&&(a.which=null!=a.charCode?a.charCode:a.keyCode),a},pointer:function(a){var b,c,d,e=a.button;return null==a.pageX&&null!=a.clientX&&(b=a.target.ownerDocument||Wa,c=b.documentElement,d=b.body,a.pageX=a.clientX+(c&&c.scrollLeft||d&&d.scrollLeft||0)-(c&&c.clientLeft||d&&d.clientLeft||0),a.pageY=a.clientY+(c&&c.scrollTop||d&&d.scrollTop||0)-(c&&c.clientTop||d&&d.clientTop||0)),a.which||void 0===e||(a.which=1&e?1:2&e?3:4&e?2:0),a}},Hb=function(a){var b=a.type,c=Eb[b];return c||(Eb[b]=c=Db.test(b)?"pointer":Cb.test(b)?"key":"other"),a=new Bb(a),3===a.target.nodeType&&(a.target=a.target.parentNode),Gb[c](a)},Ib=function(a,b){return a?a.parentNode?a.parentNode:R(a)?a.defaultView:null:b},Jb=function(a){a=Hb(a);for(var b,c,d,e,f,g,h=a.target,i=a.type;!a.isPropagationStopped&&(b=Ib(b,h));)if(a.bubbles||a.stopPropagation(),c=eb.get(b),c&&(e=ta(c,i)))for(f=0,g=e.length;g>f&&!a.isImmediatePropagationStopped;f++)a.currentTarget=b,d=e[f],a.result=d.handler.call(void 0!==d.context?d.context:c,a)},Kb={pointermove:1,pointerdown:1,pointerup:1,pointerover:1,pointerout:1,pointerenter:1,pointerleave:1,pointercancel:1};if(a.addEventListener){var Lb,Mb,Nb,Ob;for(Nb in a)Lb=Nb.replace(gb,""),Nb!==Lb&&(Lb in Kb||a.addEventListener(Lb,Jb));for(Mb=W(Kb),Ob=Mb.length;Ob--;)a.addEventListener(Mb[Ob],Jb)}b("dispatchEvents",Jb);var Pb={classSet:Za,Component:wb,create:xb,createClass:qb,render:zb,select:yb,styleSet:hb},Qb=/^\/+|\/+$/g,Rb=Qb,Sb={},Tb=/[\-{}\[\]+?.,\\\^$|#\s]/g,Ub=/\((.*?)\)/g,Vb=/(\(\?)?:\w+/g,Wb=/\*\w+/g,Xb=/(?:(\(\?)?:\w+)|(?:\*\w+)/g,Yb=/^\/+/,Zb=/#.*/,$b=/\?.*/,_b=["",""],ac=function(a,b){return a=a.replace(Yb,"")||"",b=b.replace(Yb,"")||"",""===a||a.match(/\/[^\w]*$/)?a+b:a+"/"+b},bc=function(a){return a.replace(Tb,"\\$&").replace(Ub,"(?:$1)?").replace(Vb,function(a,b){return b?a:"([^/?]+)"}).replace(Wb,"([^?]*)")},cc=function(a){var b,c,d=Sb[a];return d?d:(b=new RegExp("^"+bc(a)),c=(a.match(Xb)||[]).map(function(a){return a.slice(1)}),d={regexp:b,names:c},Sb[a]=d)};b("RouterPathJoin",ac),b("RouterPathGetParams",cc),e.prototype={constructor:e,normalize:function(a){var b,c,d;return a?(b=a.replace(Zb,"").replace($b,"").replace(Rb,""),c=(a.match(Zb)||_b)[0],d=(a.replace(Zb,"").match($b)||_b)[0],b+(d||c?"/":"")+d+c):""},route:function(a,b,c){var d=new e(a,b,c,this);return this.routesMap[d.name]&&i("mota.Router.route","There is already a route with the name `"+a+"`"),this.routes.push(d),this.routesMap[d.name]=d,this},setCallback:function(a){return this.callback=a,this},setDefaultCallback:function(a){return this.defaultCallback=a,this},triggerRoutes:function(a,b){var c,d,e=0,f=this.routes.length,g=function(a,d){var e=c.params.names[d];b[e]=a?decodeURIComponent(a):null};for(a=this.normalize(a),this.callback&&this.callback(b,a);f>e;e++)if(c=this.routes[e],d=a.match(c.params.regexp))return b={},d.slice(1).forEach(g),void c.triggerRoutes(a,b);this.defaultCallback&&this.defaultCallback(a)}};var dc=e,ec=/#(.*)$/;f.extend=C,x(f.prototype,dc.prototype,{constructor:f,atRoot:function(){return this.location.search?!1:this.root===this.normalize(this.location.pathname)},checkUrl:function(a){return this.triggerRoutes(a&&"hashchange"===a.type?this.fragment=this.getHash(a.newURL):this.fragment=this.getFragment())},getHash:function(a){var b=(a||this.location.href).match(ec);return this.normalize(b?b[1]:"")},getPath:function(){var a="/"+this.root,b=this.location.pathname+this.location.search;return 0===b.indexOf(a)&&(b=b.slice(a.length)),this.normalize(b)},getFragment:function(){return this.normalize(this._hasPushState?this.getPath():this.getHash())},start:function(a){if(!this._started){this._started=!0,this.root=this.normalize(a&&a.root);var b=this.getFragment();if(!this._hasPushState&&!this.atRoot())return void this.location.replace(this.root+"/#"+this.getPath());this._hasPushState&&this.atRoot()?this.navigate(this.getHash(),{replace:!0}):(this.triggerRoutes(b),this.fragment=b),this.window.on(this._hasPushState?"popstate":"hashchange",this.checkUrl,this)}},stop:function(){this._started&&(this._started=!1,this.window.off(this._hasPushState?"popstate":"hashchange",this.checkUrl,this))},navigate:function(a,b){var c,d;return this._started?(b&&b!==!0||(b={replace:!!b}),a=this.normalize(a),void(this.fragment!==a&&(this.fragment=a,this._hasPushState?(c=this.root+(a?"/"+a:"")||"/",this.history[b.replace?"replaceState":"pushState"]({},Wa.title,c),this.triggerRoutes(a)):b.replace?(d=this.location.href.replace(/(javascript:|#).*$/,""),this.location.replace(this.normalize(d)+(a?"/#"+a:""))):this.location.hash="#"+a))):!1}});var fc=f;return ka.extend(g,o,ka,{events:Fa,Model:Va,Router:fc,view:Pb,DEV:h&&na}),g});
//# sourceMappingURL=mota.min.js.map