/*
 LoadGo v2.0 (http://franverona.com/loadgo)
 2016 - Fran Verona
 Licensed under MIT (https://github.com/franverona/loadgo/blob/master/LICENSE)
*/
(function(){var r=function(a,d){if(a)for(var b=0,c=a.length;b<c;b++)if(a[b]===d)return b;return-1},l=function(a,d){return"undefined"!==typeof getComputedStyle?getComputedStyle(a).getPropertyValue(d):a.currentStyle[d]},s=function(){for(var a=1;a<arguments.length;a++)for(var d in arguments[a])arguments[a].hasOwnProperty(d)&&(arguments[0][d]=arguments[a][d]);return arguments[0]},p=function(a){for(var d=0,b=f.length;d<b;d++)if(f[d].id===a)return f[d].properties;return null},k=function(a){for(var d=0,
b=f.length;d<b;d++)if(f[d].id===a)return d;return-1},m=function(a){return"undefined"===typeof a||null===a?(console.warn("LoadGo selector must exists."),!1):"undefined"!==typeof a.length?(console.error("LoadGo selector must be an id. Please, set a valid DOM id; also check if you have more than one DOM element with the same id."),!1):!0},f=[],t={bgcolor:"#FFFFFF",opacity:"0.5",animated:!0,image:null,"class":null,resize:null,direction:"lr",filter:null};Loadgo=window.Loadgo||{};Loadgo.init=function(a,
d){if(m(a)){var b="undefined"!==typeof d?d:{},b=s({},t,b);-1===r(["lr","rl","bt","tb"],b.direction.toLowerCase())&&(console.warn('LoadGo requires a valid direction. "'+b.direction+'" provided. Using default value: "lr".'),b.direction="lr");var c=document.createElement("div"),e=["loadgo-overlay"];b["class"]&&e.push(b["class"]);c.className=e.join(" ");c.style.backgroundColor=b.bgcolor;c.style.opacity=b.opacity;e=a.getBoundingClientRect();c.style.width=e.width?e.width+"px":a.offsetWidth;c.style.height=
e.height?e.height+"px":a.offsetWidth;var e=parseFloat(l(a.parentNode,"padding-left")),g=parseFloat(l(a,"margin-left")),h=parseFloat(l(a,"padding-left"));isNaN(e)&&(e=0);isNaN(g)&&(g=0);isNaN(h)&&(h=0);var n=e+g+h;c.style.left=n+"px";c.style.top="0";c.style.position="absolute";b.animated&&(c.style.transition="all 0.6s ease",c.style["-webkit-transition"]="all 0.6s ease",c.style["-moz-transition"]="all 0.6s ease",c.style["-ms-transition"]="all 0.6s ease",c.style["-o-transition"]="all 0.6s ease");if(b.filter)if(-1!==
r("blur grayscale sepia hue-rotate invert opacity".split(" "),b.filter)){switch(b.filter){case "blur":a.style["-webkit-filter"]=b.filter+"(10px)";break;case "hue-rotate":a.style["-webkit-filter"]=b.filter+"(360deg)";break;case "opacity":a.style["-webkit-filter"]=b.filter+"(0)";break;default:a.style["-webkit-filter"]=b.filter+"(1)"}b.animated&&(a.style.transition="0.6s filter ease",a.style["-webkit-transition"]="0.6s -webkit-filter ease",a.style["-moz-transition"]="0.6s -moz-filter ease",a.style["-ms-transition"]=
"0.6s -ms-filter ease",a.style["-o-transition"]="0.6s -o-filter ease")}else{console.error('Invalid value for "filter" option. Possible values: blur, grayscale, sepia, hue-rotate, invert, opacity.');return}if(b.image){switch(b.direction){case "lr":e="100% 0%";break;case "rl":e="0% 50%";break;case "bt":e="100% 0%";break;case "tb":e="0% 100%";break;default:e="100% 50%"}c.style["background-image"]='url("'+b.image+'")';c.style["background-repeat"]="no-repeat";c.style["background-size"]="cover";c.style["background-color"]=
"transparent";c.style["background-position"]=e}e=k(a.id);g={overlay:null===b.filter?c:null,width:parseFloat(c.style.width),height:parseFloat(c.style.height),progress:0,direction:b.direction,filter:b.filter};-1!==e?f[e].properties=g:f.push({id:a.id,properties:g});null===b.filter&&a.parentNode.insertBefore(c,a.nextSibling);b.resize?window.addEventListener?window.addEventListener("resize",b.resize,!1):window.attachEvent("resize",b.resize):(b=function(){var b=p(a.id);if(null!==b){var c=b.overlay,d=a.getBoundingClientRect().width,
e=a.getBoundingClientRect().height,g=parseFloat(l(a.parentNode,"padding-left")),h=parseFloat(l(a,"margin-left")),m=parseFloat(l(a,"padding-left"));isNaN(g);isNaN(h);isNaN(m);c&&(c.style.width=d+"px",c.style.height=e+"px",c.style.left=n+"px");f[k(a.id)].properties.overlay=c;f[k(a.id)].properties.width=d;f[k(a.id)].properties.height=e;Loadgo.setprogress(a,b.progress)}},window.addEventListener?window.addEventListener("resize",b,!1):window.attachEvent("resize",b))}};Loadgo.setprogress=function(a,d){if(m(a))if(-1===
k(a.id))console.error('Trying to set progress for a non initialized element. You have to run "init" method first.');else if(0>d||100<d)console.error("LoadGo expects progress number between 0 (0%) and 100 (100%).");else{var b=p(a.id);if(null!==b){var c,e,g=b.overlay;e=b.width;c=b.height;if(g){var b=b.direction,h=parseFloat(l(a.parentNode,"padding-left")),n=parseFloat(l(a,"margin-left")),q=parseFloat(l(a,"padding-left"));isNaN(h)&&(h=0);isNaN(n)&&(n=0);isNaN(q)&&(q=0);h=h+n+q;switch(b){case "lr":c=
e*(1-d/100);g.style.width=c+"px";g.style.left=e-c+h+"px";break;case "rl":g.style.width=e*(1-d/100)+"px";break;case "bt":g.style.height=c*(1-d/100)+"px";break;case "tb":e=c*(1-d/100);g.style.height=e+"px";g.style.top=c-e+"px";break;default:c=e*(1-d/100),g.style.width=c+"px",g.style.left=e-c+h+"px"}}else switch(b.filter){case "blur":a.style["-webkit-filter"]=b.filter+"("+(100-d)/10+"px)";break;case "hue-rotate":a.style["-webkit-filter"]=b.filter+"("+360*d/100+"deg)";break;case "opacity":a.style["-webkit-filter"]=
b.filter+"("+d/100+")";break;default:a.style["-webkit-filter"]=b.filter+"("+(1-d/100)+")"}}f[k(a.id)].properties.progress=d}};Loadgo.getprogress=function(a){if(m(a))return a=p(a.id),null!==a?a.progress:0};Loadgo.resetprogress=function(a){m(a)&&(a=k(a.id),-1!==a&&(f[a].properties.progress=0))};Loadgo.loop=function(a,d){if(m(a))if(-1===k(a.id))console.error('Trying to loop a non initialized element. You have to run "init" method first.');else{var b=p(a.id);if(null===b)console.warn("Element do not have Loadgo properties. Maybe it is uninitialized.");
else if(b.interval)console.warn("LoadGo requires you to stop the current loop before modifying it.");else{var c=k(a.id),e=!0;f[c].properties.interval=setInterval(function(){e?(f[c].properties.progress+=1,100<=f[c].properties.progress&&(e=!1)):(f[c].properties.progress-=1,0>=f[c].properties.progress&&(e=!0));var b=f[c].properties.overlay;b.style.transition="none";b.style["-webkit-transition"]="none";b.style["-moz-transition"]="none";b.style["-ms-transition"]="none";b.style["-o-transition"]="none";
f[c].properties.overlay=b;Loadgo.setprogress(a,f[c].properties.progress)},d)}}};Loadgo.stop=function(a){m(a)&&(-1===k(a.id)?console.error('Trying to stop loop for a non initialized element. You have to run "init" method first.'):(clearInterval(f[k(a.id)].properties.interval),Loadgo.setprogress(a,100)))};window.Loadgo=Loadgo}).call(this);
