(function(){angular.module("googlechart.directives",[]).directive("googleChart",["$timeout","$window",function(a,b){return{restrict:"A",scope:{chart:"=chart"},link:function(e,d,f){e.$watch("chart",function(){c()},true);angular.element(b).bind("resize",function(){c()});function c(){if(!c.triggered&&(e.chart!=undefined)){c.triggered=true;a(function(){c.triggered=false;var h=new google.visualization.DataTable(e.chart.data,0.5);var g={chartType:e.chart.type,dataTable:h,view:e.chart.view,options:e.chart.options,containerId:d[0]};if(e.chartWrapper==null){e.chartWrapper=new google.visualization.ChartWrapper(g);google.visualization.events.addListener(e.chartWrapper,"ready",function(){e.chart.displayed=true});google.visualization.events.addListener(e.chartWrapper,"error",function(i){console.log("Chart not displayed due to error: "+i.message)})}else{e.chartWrapper.setChartType(e.chart.type);e.chartWrapper.setDataTable(h);e.chartWrapper.setView(e.chart.view);e.chartWrapper.setOptions(e.chart.options)}a(function(){e.chartWrapper.draw()})},0,true)}}}}}])})();