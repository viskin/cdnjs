(function(a,c){function b(e,f){var d=a.createElement("script");d.src=e;d.onload=f;d.onerror=function(){throw Error('Error loading "'+e+'"')};a.getElementsByTagName("head")[0].appendChild(d)}angular.module("googlechart",[]).constant("googleChartApiConfig",{version:"1",optionalSettings:{packages:["corechart"]}}).factory("googleChartApiProxy",["$rootScope","$q","googleChartApiConfig",function(d,g,f){var e=g.defer(),h=function(){var i={callback:function(){var j=f.optionalSettings.callback;d.$apply(function(){e.resolve()});if(angular.isFunction(j)){j.call(this)}}};i=angular.extend({},f.optionalSettings,i);c.google.load("visualization",f.version,i)};b("//www.google.com/jsapi",h);return function(k,j){var i=Array.prototype.slice.call(arguments,2);return function(){e.promise.then(function(){k.apply(j,i.concat(Array.prototype.slice.call(arguments)))})}}}]).directive("googleChart",["$timeout","$window","googleChartApiProxy",function(e,f,d){return{restrict:"A",scope:{chart:"=chart"},link:function(i,h,j){i.$watch("chart",function(){g()},true);angular.element(f).bind("resize",function(){g()});function g(){if(!g.triggered&&(i.chart!=undefined)){g.triggered=true;e(function(){g.triggered=false;var l=new google.visualization.DataTable(i.chart.data,0.5);var k={chartType:i.chart.type,dataTable:l,view:i.chart.view,options:i.chart.options,containerId:h[0]};if(i.chartWrapper==null){i.chartWrapper=new google.visualization.ChartWrapper(k);google.visualization.events.addListener(i.chartWrapper,"ready",function(){i.chart.displayed=true});google.visualization.events.addListener(i.chartWrapper,"error",function(m){console.log("Chart not displayed due to error: "+m.message)})}else{i.chartWrapper.setChartType(i.chart.type);i.chartWrapper.setDataTable(l);i.chartWrapper.setView(i.chart.view);i.chartWrapper.setOptions(i.chart.options)}e(function(){i.chartWrapper.draw()})},0,true)}}g=d(g,this)}}}])})(document,window);