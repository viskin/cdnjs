/*! angular-google-chart 2015-09-04 */
(function(){angular.module("googlechart",[]).run(a);a.$inject=["$rootScope","$window"];function a(b,c){angular.element(c).bind("resize",function(){b.$emit("resizeMsg")})}})();(function(){angular.module("googlechart").factory("FormatManager",a);function a(){function b(){var e=this;var i={};e.iFormats={};e.applyFormats=f;function d(m,l){var j,k;for(k in m){if(m.hasOwnProperty(k)){for(j=0;j<e.iFormats[k].length;j++){if(m[k][j].columnNum<l.getNumberOfColumns()){e.iFormats[k][j].format(l,m[k][j].columnNum)}}}}}function h(l,k,m){var j;if(angular.isArray(m[l])){if(!angular.equals(m[l],i[l])){i[l]=m[l];e.iFormats[l]=[];if(l==="color"){g(m)}else{for(j=0;j<m[l].length;j++){e.iFormats[l].push(new k(m[l][j]))}}}}}function f(l,m,o){var k,j,n=false;if(!angular.isDefined(m)||!angular.isDefined(l)){return{requiresHtml:false}}for(k in m){if(m.hasOwnProperty(k)){j=c(k,o);if(!angular.isFunction(j)){continue}h(k,j,m);if(k==="arrow"||k==="bar"||k==="color"){n=true}}}d(m,l);return{requiresHtml:n}}function g(o){var k,l,j,n,m="color";for(k=0;k<o[m].length;k++){l=new google.visualization.ColorFormat();for(j=0;j<o[m][k].formats.length;j++){n=o[m][k].formats[j];if(typeof(n.fromBgColor)!=="undefined"&&typeof(n.toBgColor)!=="undefined"){l.addGradientRange(n.from,n.to,n.color,n.fromBgColor,n.toBgColor)}else{l.addRange(n.from,n.to,n.color,n.bgcolor)}}e.iFormats[m].push(l)}}function c(k,l){var j=k.charAt(0).toUpperCase()+k.slice(1).toLowerCase()+"Format";if(google.visualization.hasOwnProperty(j)){return google.visualization[j]}else{if(angular.isDefined(l)&&l.hasOwnProperty(k)){return l[k]}}return}}return b}})();(function(){angular.module("googlechart").directive("agcOnError",a);function a(){return{restrict:"A",scope:false,require:"googleChart",link:function(e,d,c,b){f.$inject=["chartWrapper","chart","args"];function f(i,j,h){var g={chartWrapper:i,chart:j,args:h,error:h[0],err:h[0],id:h[0].id,message:h[0].message};e.$apply(function(){e.$eval(c.agcOnError,g)})}b.registerWrapperListener("error",f,this)}}}})();(function(){angular.module("googlechart").directive("agcOnMouseout",a);function a(){return{restrict:"A",scope:false,require:"googleChart",link:function(e,d,c,b){f.$inject=["args","chart","chartWrapper"];function f(g,i,h){var j={chartWrapper:h,chart:i,args:g,column:g[0].column,row:g[0].row};e.$apply(function(){e.$eval(c.agcOnMouseout,j)})}b.registerChartListener("onmouseout",f,this)}}}})();(function(){angular.module("googlechart").directive("agcOnMouseover",a);function a(){return{restrict:"A",scope:false,require:"googleChart",link:function(e,d,c,b){f.$inject=["args","chart","chartWrapper"];function f(g,i,h){var j={chartWrapper:h,chart:i,args:g,column:g[0].column,row:g[0].row};e.$apply(function(){e.$eval(c.agcOnMouseover,j)})}b.registerChartListener("onmouseover",f,this)}}}})();(function(){angular.module("googlechart").directive("agcOnReady",a);function a(){return{restrict:"A",scope:false,require:"googleChart",link:function(e,d,c,b){f.$inject=["chartWrapper"];function f(g){e.$apply(function(){e.$eval(c.agcOnReady,{chartWrapper:g})})}b.registerWrapperListener("ready",f,this)}}}})();(function(){angular.module("googlechart").directive("agcOnSelect",a);function a(){return{restrict:"A",scope:false,require:"googleChart",link:function(e,d,c,b){f.$inject=["chartWrapper","chart"];function f(h,i){var g={selectedItems:i.getSelection()};g.selectedItem=g.selectedItems[0];g.chartWrapper=h;g.chart=i;e.$apply(function(){e.$eval(c.agcOnSelect,g)})}b.registerWrapperListener("select",f,this)}}}})();(function(){angular.module("googlechart").directive("googleChart",a);a.$inject=["$timeout","$window","$rootScope","googleChartApiPromise"];function a(d,f,b,e){c.$inject=["$scope","$element","$attrs","$injector","FormatManager"];function c(y,u,i,A,w){var t=this;var D,B={},j,n={},v=null;t.registerChartListener=l;t.registerWrapperListener=x;C();function p(){D()}function q(){if(!q.triggered&&(t.chart!==undefined)){q.triggered=true;d(r,0,true)}else{if(t.chart!==undefined){d.cancel(q.recallTimeout);q.recallTimeout=d(q,10)}}}function m(){e.then(function(){q()})}function s(){y.$eval(i.beforeDraw,{chartWrapper:y.chartWrapper});t.chartWrapper.draw();q.triggered=false}o.$inject=["args"];function o(G){var F=G[0];console.log("Chart not displayed due to error: '"+F.message+"' Full error object follows.");console.log(F)}function h(){t.chart.displayed=true;if(v!==t.chartWrapper.getChart()){v=t.chartWrapper.getChart();z(v,n)}}function C(){y.$watch(g,k,true);D=b.$on("resizeMsg",function(){d(function(){if(t.chartWrapper){m()}})});y.$on("$destroy",p);x("error",o,t);x("ready",h,t)}function r(){if(typeof(t.chartWrapper)==="undefined"){var F={chartType:t.chart.type,dataTable:t.chart.data,view:t.chart.view,options:t.chart.options,containerId:u[0]};t.chartWrapper=new google.visualization.ChartWrapper(F);z(t.chartWrapper,B)}else{t.chartWrapper.setChartType(t.chart.type);t.chartWrapper.setDataTable(t.chart.data);t.chartWrapper.setView(t.chart.view);t.chartWrapper.setOptions(t.chart.options)}if(!j){j=new w()}if(j.applyFormats(t.chartWrapper.getDataTable(),t.chart.formatters,t.chart.customFormatters).requiresHtml){t.chartWrapper.setOption("allowHtml",true)}d(s)}function k(){t.chart=y.$eval(i.chart);m()}function g(){var F=y.$eval(i.chart);if(angular.isDefined(F)&&angular.isObject(F)){return{customFormatters:F.customFormatters,data:F.data,formatters:F.formatters,options:F.options,type:F.type,view:F.view}}}function E(I,H,F,J){var G=function(){var K={chartWrapper:t.chartWrapper,chart:t.chartWrapper.getChart(),args:arguments};A.invoke(F,J||this,K)};if(angular.isDefined(I)&&angular.isObject(I)){if(!angular.isArray(I[H])){I[H]=[]}I[H].push(G);return function(){if(angular.isDefined(G.googleListenerHandle)){google.visualization.events.removeListener(G.googleListenerHandle)}var K=I[H].indexOf(G);I[H].splice(K,1);if(I[H].length===0){I[H]=undefined}}}}function z(I,H){for(var F in H){if(H.hasOwnProperty(F)&&angular.isArray(H[F])){for(var G=0;G<H[F].length;G++){if(angular.isFunction(H[F][G])){H[F][G].googleListenerHandle=google.visualization.events.addListener(I,F,H[F][G])}}}}}function l(G,F,H){return E(n,G,F,H)}function x(G,F,H){return E(B,G,F,H)}}return{restrict:"A",scope:false,controller:c}}})();(function(){angular.module("googlechart").value("googleChartApiConfig",{version:"1",optionalSettings:{packages:["corechart"]}})})();(function(){angular.module("googlechart").factory("googleChartApiPromise",a);a.$inject=["$rootScope","$q","googleChartApiConfig","googleJsapiUrl"];function a(b,f,e,i){var c=f.defer();var h=function(){var j={callback:function(){var k=e.optionalSettings.callback;b.$apply(function(){c.resolve()});if(angular.isFunction(k)){k.call(this)}}};j=angular.extend({},e.optionalSettings,j);window.google.load("visualization",e.version,j)};var g=document.getElementsByTagName("head")[0];var d=document.createElement("script");d.setAttribute("type","text/javascript");d.src=i;if(d.addEventListener){d.addEventListener("load",h,false)}else{d.onreadystatechange=function(){if(d.readyState==="loaded"||d.readyState==="complete"){d.onreadystatechange=null;h()}}}g.appendChild(d);return c.promise}})();(function(){angular.module("googlechart").provider("googleJsapiUrl",a);function a(){var c="https:";var b="//www.google.com/jsapi";this.setProtocol=function(d){c=d};this.setUrl=function(d){b=d};this.$get=function(){return(c?c:"")+b}}})();