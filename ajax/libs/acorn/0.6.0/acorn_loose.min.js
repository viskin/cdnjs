!function(e,t){return"object"==typeof exports&&"object"==typeof module?t(exports,require("./acorn")):"function"==typeof define&&define.amd?define(["exports","./acorn"],t):void t(e.acorn||(e.acorn={}),e.acorn)}(this,function(e,t){"use strict";function r(){if(re=ue.end,X.locations&&(oe=ue.endLoc),ue=ce.length?ce.shift():n(),ue.start>=ae){for(;ue.start>=ae;)ne=ae,ae=l(ne)+1;ie=f(ne)}}function n(){for(;;)try{return Z()}catch(e){if(!(e instanceof SyntaxError))throw e;var r=e.message,n=e.raisedAt,i=!0;if(/unterminated/i.test(r))if(n=l(e.pos),/string/.test(r))i={start:e.pos,end:n,type:te.string,value:Y.slice(e.pos+1,n)};else if(/regular expr/i.test(r)){var o=Y.slice(e.pos,n);try{o=new RegExp(o)}catch(e){}i={start:e.pos,end:n,type:te.regexp,value:o}}else i=!1;else if(/invalid (unicode|regexp|number)|expecting unicode|octal literal|is reserved|directly after number/i.test(r))for(;n<Y.length&&!u(Y.charCodeAt(n));)++n;else if(/character escape|expected hexadecimal/i.test(r))for(;n<Y.length;){var c=Y.charCodeAt(n++);if(34===c||39===c||s(c))break}else if(/unexpected character/i.test(r))n++,i=!1;else{if(!/regular expression/i.test(r))throw e;i=!0}if(a(n),i===!0&&(i={start:n,end:n,type:te.name,value:"✖"}),i)return X.locations&&(i.startLoc=t.getLineInfo(Y,i.start),i.endLoc=t.getLineInfo(Y,i.end)),i}}function a(e){var t=Y.charAt(e-1),r=!t||/[\[\{\(,;:?\/*=+\-~!|&%^<>]/.test(t)||/[enwfd]/.test(t)&&/\b(keywords|case|else|return|throw|new|in|(instance|type)of|delete|void)$/.test(Y.slice(e-10,e));Z.jumpTo(e,r)}function i(e){var t={start:e.start,end:e.end,type:e.type,value:e.value};return X.locations&&(t.startLoc=e.startLoc,t.endLoc=e.endLoc),t}function o(e){for(ce.length||(ue=i(ue));e>ce.length;)ce.push(i(n()));return ce[e-1]}function s(e){return 10===e||13===e||8232===e||8329===e}function u(e){return 14>e&&e>8||32===e||160===e||s(e)}function c(){ee.push(ie)}function p(){ie=ee.pop()}function l(e){for(;e<Y.length&&!s(Y.charCodeAt(e));)++e;return e}function f(e){for(var t=0;;++e){var r=Y.charCodeAt(e);if(32===r)++t;else{if(9!==r)return t;t+=X.tabSize}}}function d(e,t,r,n){return ue.type===e||ue.type===te.eof?!0:!!(r!=ne&&t>ie&&y()&&(!n||ae>=Y.length||f(ae)<t))}function y(){for(var e=ue.start-1;e>=ne;--e){var t=Y.charCodeAt(e);if(9!==t&&32!==t)return!1}return!0}function m(e){this.type=null,this.start=e,this.end=null}function v(e){this.start=e||ue.startLoc||{line:1,column:0},this.end=null,null!==se&&(this.source=se)}function h(){var e=new m(ue.start);return X.locations&&(e.loc=new v),X.directSourceFile&&(e.sourceFile=X.directSourceFile),e}function b(e){var t=new m(e.start);return X.locations&&(t.loc=new v(e.loc.start)),t}function g(e,t){return e.type=t,e.end=re,X.locations&&(e.loc.end=oe),e}function x(){if(X.locations){var e=new v;return e.end=e.start,e}}function _(){var e=new m(ue.start);return e.type="Identifier",e.end=ue.start,e.name="✖",e.loc=x(),e}function w(e){return"✖"==e.name}function k(e){return ue.type===e?(r(),!0):void 0}function S(){return ue.type===te.eof||ue.type===te.braceR||pe.test(Y.slice(re,ue.start))}function L(){k(te.semi)}function E(e){return k(e)?!0:o(1).type==e?(r(),r(),!0):o(2).type==e?(r(),r(),r(),!0):void 0}function R(e){return"Identifier"===e.type||"MemberExpression"===e.type?e:_()}function C(){var e=h();for(e.body=[];ue.type!==te.eof;)e.body.push(A());return g(e,"Program")}function A(){var e=ue.type,t=h();switch(e){case te._break:case te._continue:r();var n=e===te._break;return t.label=ue.type===te.name?J():null,L(),g(t,n?"BreakStatement":"ContinueStatement");case te._debugger:return r(),L(),g(t,"DebuggerStatement");case te._do:return r(),t.body=A(),t.test=k(te._while)?D():_(),L(),g(t,"DoWhileStatement");case te._for:if(r(),c(),E(te.parenL),ue.type===te.semi)return I(t,null);if(ue.type===te._var){var a=h();return r(),j(a,!0),1===a.declarations.length&&k(te._in)?F(t,a):I(t,a)}var a=z(!1,!0);return k(te._in)?F(t,R(a)):I(t,a);case te._function:return r(),K(t,!0);case te._if:return r(),t.test=D(),t.consequent=A(),t.alternate=k(te._else)?A():null,g(t,"IfStatement");case te._return:return r(),k(te.semi)||S()?t.argument=null:(t.argument=z(),L()),g(t,"ReturnStatement");case te._switch:var i=ie,o=ne;r(),t.discriminant=D(),t.cases=[],c(),E(te.braceL);for(var s;!d(te.braceR,i,o,!0);)if(ue.type===te._case||ue.type===te._default){var u=ue.type===te._case;s&&g(s,"SwitchCase"),t.cases.push(s=h()),s.consequent=[],r(),u?s.test=z():s.test=null,E(te.colon)}else s||(t.cases.push(s=h()),s.consequent=[],s.test=null),s.consequent.push(A());return s&&g(s,"SwitchCase"),p(),k(te.braceR),g(t,"SwitchStatement");case te._throw:return r(),t.argument=z(),L(),g(t,"ThrowStatement");case te._try:if(r(),t.block=q(),t.handler=null,ue.type===te._catch){var l=h();r(),E(te.parenL),l.param=J(),E(te.parenR),l.guard=null,l.body=q(),t.handler=g(l,"CatchClause")}return t.finalizer=k(te._finally)?q():null,t.handler||t.finalizer?g(t,"TryStatement"):t.block;case te._var:return r(),t=j(t),L(),t;case te._while:return r(),t.test=D(),t.body=A(),g(t,"WhileStatement");case te._with:return r(),t.object=D(),t.body=A(),g(t,"WithStatement");case te.braceL:return q();case te.semi:return r(),g(t,"EmptyStatement");default:var f=z();return w(f)?(r(),ue.type===te.eof?g(t,"EmptyStatement"):A()):e===te.name&&"Identifier"===f.type&&k(te.colon)?(t.body=A(),t.label=f,g(t,"LabeledStatement")):(t.expression=f,L(),g(t,"ExpressionStatement"))}}function q(){var e=h();c(),E(te.braceL);var t=ie,r=ne;for(e.body=[];!d(te.braceR,t,r,!0);)e.body.push(A());return p(),k(te.braceR),g(e,"BlockStatement")}function I(e,t){return e.init=t,e.test=e.update=null,k(te.semi)&&ue.type!==te.semi&&(e.test=z()),k(te.semi)&&ue.type!==te.parenR&&(e.update=z()),p(),E(te.parenR),e.body=A(),g(e,"ForStatement")}function F(e,t){return e.left=t,e.right=z(),p(),E(te.parenR),e.body=A(),g(e,"ForInStatement")}function j(e,t){for(e.declarations=[],e.kind="var";ue.type===te.name;){var r=h();if(r.id=J(),r.init=k(te.eq)?z(!0,t):null,e.declarations.push(g(r,"VariableDeclarator")),!k(te.comma))break}if(!e.declarations.length){var r=h();r.id=_(),e.declarations.push(g(r,"VariableDeclarator"))}return g(e,"VariableDeclaration")}function z(e,t){var r=T(t);if(!e&&ue.type===te.comma){var n=b(r);for(n.expressions=[r];k(te.comma);)n.expressions.push(T(t));return g(n,"SequenceExpression")}return r}function D(){c(),E(te.parenL);var e=z();return p(),E(te.parenR),e}function T(e){var t=V(e);if(ue.type.isAssign){var n=b(t);return n.operator=ue.value,n.left=R(t),r(),n.right=T(e),g(n,"AssignmentExpression")}return t}function V(e){var t=U(e);if(k(te.question)){var r=b(t);return r.test=t,r.consequent=z(!0),r.alternate=E(te.colon)?z(!0,e):_(),g(r,"ConditionalExpression")}return t}function U(e){var t=ie,r=ne;return B(M(e),-1,e,t,r)}function B(e,t,n,a,i){if(ne!=i&&a>ie&&y())return e;var o=ue.type.binop;if(null!=o&&(!n||ue.type!==te._in)&&o>t){var s=b(e);s.left=e,s.operator=ue.value,r(),ne!=i&&a>ie&&y()?s.right=_():s.right=B(M(n),o,n,a,i);var s=g(s,/&&|\|\|/.test(s.operator)?"LogicalExpression":"BinaryExpression");return B(s,t,n,a,i)}return e}function M(e){if(ue.type.prefix){var t=h(),n=ue.type.isUpdate;return t.operator=ue.value,t.prefix=!0,r(),t.argument=M(e),n&&(t.argument=R(t.argument)),g(t,n?"UpdateExpression":"UnaryExpression")}for(var a=W();ue.type.postfix&&!S();){var t=b(a);t.operator=ue.value,t.prefix=!1,t.argument=R(a),r(),a=g(t,"UpdateExpression")}return a}function W(){return N(O(),!1,ie,ne)}function N(e,t,n,a){for(;;){if(ne!=a&&n>=ie&&y()){if(ue.type!=te.dot||ie!=n)return e;--n}if(k(te.dot)){var i=b(e);i.object=e,ne!=a&&n>=ie&&y()?i.property=_():i.property=H()||_(),i.computed=!1,e=g(i,"MemberExpression")}else if(ue.type==te.bracketL){c(),r();var i=b(e);i.object=e,i.property=z(),i.computed=!0,p(),E(te.bracketR),e=g(i,"MemberExpression")}else{if(t||ue.type!=te.parenL)return e;c();var i=b(e);i.callee=e,i.arguments=Q(te.parenR),e=g(i,"CallExpression")}}}function O(){switch(ue.type){case te._this:var e=h();return r(),g(e,"ThisExpression");case te.name:return J();case te.num:case te.string:case te.regexp:var e=h();return e.value=ue.value,e.raw=Y.slice(ue.start,ue.end),r(),g(e,"Literal");case te._null:case te._true:case te._false:var e=h();return e.value=ue.type.atomValue,e.raw=ue.type.keyword,r(),g(e,"Literal");case te.parenL:var t=ue.start;r();var n=z();return n.start=t,n.end=ue.end,E(te.parenR),n;case te.bracketL:var e=h();return c(),e.elements=Q(te.bracketR),g(e,"ArrayExpression");case te.braceL:return $();case te._function:var e=h();return r(),K(e,!1);case te._new:return P();default:return _()}}function P(){var e=h(),t=ie,n=ne;return r(),e.callee=N(O(),!0,t,n),ue.type==te.parenL?(c(),e.arguments=Q(te.parenR)):e.arguments=[],g(e,"NewExpression")}function $(){var e=h();e.properties=[],c(),r();for(var t=ie,n=ne;!d(te.braceR,t,n);){var a=G();if(a){var i,o={key:a},s=!1;if(k(te.colon))o.value=z(!0),i=o.kind="init";else{if(!(X.ecmaVersion>=5&&"Identifier"===o.key.type)||"get"!==o.key.name&&"set"!==o.key.name){r(),k(te.comma);continue}s=!0,i=o.kind=o.key.name,o.key=G()||_(),o.value=K(h(),!1)}e.properties.push(o),k(te.comma)}else w(z(!0))&&r(),k(te.comma)}return p(),k(te.braceR),g(e,"ObjectExpression")}function G(){return ue.type===te.num||ue.type===te.string?O():ue.type===te.name||ue.type.keyword?J():void 0}function H(){return ue.type===te.name||ue.type.keyword?J():void 0}function J(){var e=h();return e.name=ue.type===te.name?ue.value:ue.type.keyword,r(),g(e,"Identifier")}function K(e,t){for(ue.type===te.name?e.id=J():t?e.id=_():e.id=null,e.params=[],c(),E(te.parenL);ue.type==te.name;)e.params.push(J()),k(te.comma);return p(),k(te.parenR),e.body=q(),g(e,t?"FunctionDeclaration":"FunctionExpression")}function Q(e){var t=ie,n=ne,a=[],i=ae;for(r(),ne>i&&(i=ne);!d(e,t+(i>=ne?1:0),n);){var o=z(!0);if(w(o)){if(d(e,t,n))break;r()}else a.push(o);for(;k(te.comma););}return p(),k(e),a}var X,Y,Z,ee,te=t.tokTypes;e.parse_dammit=function(e,n){return n||(n={}),Y=String(e),X=n,n.tabSize||(n.tabSize=4),Z=t.tokenize(e,n),se=X.sourceFile||null,ee=[],ae=0,ce.length=0,r(),C()};var re,ne,ae,ie,oe,se,ue={start:0,end:0},ce=[],pe=/[\n\r\u2028\u2029]/;m.prototype=t.Node.prototype});
//# sourceMappingURL=./acorn_loose.min.js.map