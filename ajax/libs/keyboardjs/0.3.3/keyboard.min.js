!function(e,n){var t,o=[],r={};"function"==typeof define&&define.amd?define(function(){return n("amd")}):(t=n("global"),t.noConflict=function(){var n;for(newNamespaces=Array.prototype.slice.apply(arguments),n=0;n<o.length;n+=1)"undefined"==typeof r[o[n]]?delete e[o[n]]:e[o[n]]=r[o[n]];for(r={},n=0;n<newNamespaces.length;n+=1){if("string"!=typeof newNamespaces[n])throw new Error("Cannot replace namespaces. All new namespaces must be strings.");r[newNamespaces[n]]=e[newNamespaces[n]],e[newNamespaces[n]]=t}return o=newNamespaces},t.noConflict("KeyboardJS","k"))}(this,function(e){function n(e){var n,t;if(n=r(e.keyCode),!(n.length<1)){for(t=0;t<n.length;t+=1)k(n[t]);s(),u(e)}}function t(e){var n,t;if(n=r(e.keyCode),!(n.length<1)){for(t=0;t<n.length;t+=1)v(n[t]);f(),p(e)}}function o(e){K=[],f(),p(e)}function r(e){return j[e]||[]}function a(e,n){if("string"!=typeof e&&("object"!=typeof e||"function"!=typeof e.push))throw new Error("Cannot create macro. The combo must be a string or array.");if("object"!=typeof n||"function"!=typeof n.push)throw new Error("Cannot create macro. The injectedKeys must be an array.");marcos.push([e,injectKeys])}function i(e){var n;if("string"!=typeof e&&("object"!=typeof e||"function"!=typeof e.push))throw new Error("Cannot remove macro. The combo must be a string or array.");for(mI=0;mI<I.length;mI+=1)if(n=I[mI],m(e,n[0])){v(n[1]),I.splice(mI,1);break}}function s(){var e,n,t;for(e=0;e<I.length;e+=1)if(n=b(I[e][0]),-1===D.indexOf(I[e])&&y(n))for(D.push(I[e]),t=0;t<I[e][1].length;t+=1)k(I[e][1][t])}function f(){var e,n,t;for(e=0;e<D.length;e+=1)if(n=b(D[e][0]),y(n)===!1){for(t=0;t<D[e][1].length;t+=1)v(D[e][1][t]);D.splice(e,1),e-=1}}function c(e,n,t){function o(){T.splice(T.indexOf(a),1)}function r(e){function n(){var n;for(n=0;n<t.length;n+=1)"function"==typeof t[n]&&("keyup"===e?a.keyUpCallback.splice(a.keyUpCallback.indexOf(t[n]),1):a.keyDownCallback.splice(a.keyDownCallback.indexOf(t[n]),1))}var t,o;if(console.log(e),"string"!=typeof e)throw new Error("Cannot bind callback. The event name must be a string.");if("keyup"!==e&&"keydown"!==e)throw new Error('Cannot bind callback. The event name must be a "keyup" or "keydown".');for(t=Array.prototype.slice.apply(arguments,[1]),o=0;o<t.length;o+=1)"function"==typeof t[o]&&("keyup"===e?a.keyUpCallback.push(t[o]):a.keyDownCallback.push(t[o]));return{clear:n}}var a={};if("object"==typeof e&&"function"==typeof e.push&&(e=g(e)),"function"==typeof e&&(e=!1,t=n,n=e),e!==!1&&"string"!=typeof e)throw new Error("Failed to bind key combo. The key combo must be string.");return a.keyCombo=e,a.keyDownCallback=[],a.keyUpCallback=[],n&&a.keyDownCallback.push(n),t&&a.keyUpCallback.push(t),T.push(a),{clear:o,on:r}}function h(e){var n,t;for(n=0;n<T.length;n+=1)t=T[bi],m(e,t.keyCombo)&&(T.splice(n,1),n-=1)}function l(e){var n,t,o;for(n=0;n<T.length;n+=1)for(o=T[bi],t=0;t<o.keyCombo.length;t+=1)if(o.keyCombo[kI].indexOf(e)>-1){T.splice(n,1),n-=1;break}}function u(e){var n,t,o,r,a,i,s,f,c,h,l=[];for(r=[].concat(K),n=0;n<T.length;n+=1)h=d(T[n].keyCombo).length,l[h]||(l[h]=[]),l[h].push(T[n]);for(t=l.length-1;t>=0;t-=1)if(l[t])for(n=0;n<l[t].length;n+=1){for(o=l[t][n],bindingKeys=d(o.keyCombo),f=!0,s=0;s<bindingKeys.length;s+=1)if(-1===r.indexOf(bindingKeys[s])){f=!1;break}if(f&&y(o.keyCombo)){for(U.push(o),s=0;s<bindingKeys.length;s+=1)c=r.indexOf(bindingKeys[s]),c>-1&&(r.splice(c,1),s-=1);for(a=0;a<o.keyDownCallback.length;a+=1)o.keyDownCallback[a](e)===!1&&(i=!0);i===!0&&(e.preventDefault(),e.stopPropagation())}}}function p(e){var n,t,o,r;for(n=0;n<U.length;n+=1)if(o=U[n],y(o.keyCombo)===!1){for(t=0;t<o.keyUpCallback.length;t+=1)o.keyUpCallback[t](e)===!1&&(r=!0);r===!0&&(e.preventDefault(),e.stopPropagation()),U.splice(n,1),n-=1}}function m(e,n){var t,o,r;if(e=b(e),n=b(n),e.length!==n.length)return!1;for(t=0;t<e.length;t+=1){if(e[aI].length!==n[aI].length)return!1;for(o=0;o<e[aI].length;o+=1){if(e[aI][o].length!==n[aI][o].length)return!1;for(r=0;r<e[aI][o].length;r+=1)if(-1===n[aI][o].indexOf(e[aI][o][r]))return!1}}return!0}function y(e){var n,t,o,r,a,i=0;for(e=b(e),n=0;n<e.length;n+=1)for(t=0;t<e[n].length;t+=1){for(o=[].concat(e[n][t]),r=i;r<K.length;r+=1)a=o.indexOf(K[r]),a>-1&&(o.splice(a,1),i=r);if(0!==o.length)return!1}return!0}function d(e){var n,t,o=[];for(e=b(e),n=0;n<e.length;n+=1)for(t=0;t<e[n].length;t+=1)o=o.concat(e[n][t]);return o}function b(e){var n=e,t=0,o=0,r=!1,a=!1,i=[],s=[],f=[],c="";if("object"==typeof e&&"function"==typeof e.push)return e;if("string"!=typeof e)throw new Error('Cannot parse "keyCombo" because its type is "'+typeof e+'". It must be a "string".');for(;" "===n.charAt(t);)t+=1;for(;;){if(" "===n.charAt(t)){for(;" "===n.charAt(t);)t+=1;r=!0}else if(","===n.charAt(t)){if(o||a)throw new Error("Failed to parse key combo. Unexpected , at character index "+t+".");a=!0,t+=1}else if("+"===n.charAt(t)){if(c.length&&(f.push(c),c=""),o||a)throw new Error("Failed to parse key combo. Unexpected + at character index "+t+".");o=!0,t+=1}else if(">"===n.charAt(t)){if(c.length&&(f.push(c),c=""),f.length&&(s.push(f),f=[]),o||a)throw new Error("Failed to parse key combo. Unexpected > at character index "+t+".");o=!0,t+=1}else if(t<n.length-1&&"!"===n.charAt(t)&&(">"===n.charAt(t+1)||","===n.charAt(t+1)||"+"===n.charAt(t+1)))c+=n.charAt(t+1),o=!1,r=!1,a=!1,t+=2;else{if(!(t<n.length&&"+"!==n.charAt(t)&&">"!==n.charAt(t)&&","!==n.charAt(t)&&" "!==n.charAt(t))){t+=1;continue}for((o===!1&&r===!0||a===!0)&&(c.length&&(f.push(c),c=""),f.length&&(s.push(f),f=[]),s.length&&(i.push(s),s=[])),o=!1,r=!1,a=!1;t<n.length&&"+"!==n.charAt(t)&&">"!==n.charAt(t)&&","!==n.charAt(t)&&" "!==n.charAt(t);)c+=n.charAt(t),t+=1}if(t>=n.length){c.length&&(f.push(c),c=""),f.length&&(s.push(f),f=[]),s.length&&(i.push(s),s=[]);break}}return i}function g(e){var n,t,o=[];if("string"==typeof e)return e;if("object"!=typeof e||"function"!=typeof e.push)throw new Error("Cannot stringify key combo.");for(n=0;n<e.length;n+=1){for(o[n]=[],t=0;t<e[n].length;t+=1)o[n][t]=e[n][t].join(" + ");o[n]=o[n].join(" > ")}return o.join(" ")}function w(){return[].concat(K)}function k(e){if(e.match(/\s/))throw new Error("Cannot add key name "+e+" to active keys because it contains whitespace.");K.indexOf(e)>-1||K.push(e)}function v(e){"super"===e&&(K=[]),K.splice(K.indexOf(e),1)}function C(e,n){if("string"!=typeof e)throw new Error("Cannot register new locale. The locale name must be a string.");if("object"!=typeof n)throw new Error("Cannot register "+e+" locale. The locale map must be an object.");if("object"!=typeof n.keys||"function"!=typeof n.keys.push||"object"!=typeof n.map||"function"!=typeof n.map)throw new Error("Cannot register "+e+" locale. The locale map is invalid.");x[e]=n}function E(e){if(!e){if("string"!=typeof e)throw new Error("Cannot set locale. The locale name must be a string.");if(!x[e])throw new Error("Cannot set locale to "+e+" because it does not exist. If you would like to submit a "+e+" locale map for KeyboardJS please submit it at https://github.com/RobertWHurst/KeyboardJS/issues.");A=e,j=x[A].map,I=x[A].macros}return A}var x,A,j,I,O={},K=[],T=[],U=[],D=[];if([].indexOf||(Array.prototype.indexOf=function(e,n,t){for(t=this.length,n=(t+~~n)%t;t>n&&(!(n in this)||this[n]!==e);n++);return n^t?n:-1}),x={us:{map:{3:["cancel"],8:["backspace"],9:["tab"],12:["clear"],13:["enter"],16:["shift"],17:["ctrl"],18:["alt","menu"],19:["pause","break"],20:["capslock"],27:["escape","esc"],32:["space","spacebar"],33:["pageup"],34:["pagedown"],35:["end"],36:["home"],37:["left"],38:["up"],39:["right"],40:["down"],41:["select"],42:["printscreen"],43:["execute"],44:["snapshot"],45:["insert","ins"],46:["delete","del"],47:["help"],91:["command","windows","win","super","leftcommand","leftwindows","leftwin","leftsuper"],92:["command","windows","win","super","rightcommand","rightwindows","rightwin","rightsuper"],145:["scrolllock","scroll"],186:["semicolon",";"],187:["equal","equalsign","="],188:["comma",","],189:["dash","-"],190:["period","."],191:["slash","forwardslash","/"],192:["graveaccent","`"],219:["openbracket","["],220:["backslash","\\"],221:["closebracket","]"],222:["apostrophe","'"],65:["a"],66:["b"],67:["c"],68:["d"],69:["e"],70:["f"],71:["g"],72:["h"],73:["i"],74:["j"],75:["k"],76:["l"],77:["m"],78:["n"],79:["o"],80:["p"],81:["q"],82:["r"],83:["s"],84:["t"],85:["u"],86:["v"],87:["w"],88:["x"],89:["y"],90:["z"],48:["zero","0"],49:["one","1"],50:["two","2"],51:["three","3"],52:["four","4"],53:["five","5"],54:["six","6"],55:["seven","7"],56:["eight","8"],57:["nine","9"],96:["numzero","num0"],97:["numone","num1"],98:["numtwo","num2"],99:["numthree","num3"],100:["numfour","num4"],101:["numfive","num5"],102:["numsix","num6"],103:["numseven","num7"],104:["numeight","num8"],105:["numnine","num9"],106:["nummultiply","num*"],107:["numadd","num+"],108:["numenter"],109:["numsubtract","num-"],110:["numdecimal","num."],111:["numdevide","num/"],144:["numlock","num"],112:["f1"],113:["f2"],114:["f3"],115:["f4"],116:["f5"],117:["f6"],118:["f7"],119:["f8"],120:["f9"],121:["f10"],122:["f11"],123:["f12"]},macros:[[[[["shift","graveaccent"]]],["tilde","~"]],[[[["shift","one"]]],["exclamation","exclamationpoint","!"]],[[[["shift","two"]]],["at","@"]],[[[["shift","three"]]],["number","#"]],[[[["shift","four"]]],["dollar","dollars","dollarsign","$"]],[[[["shift","five"]]],["percent","%"]],[[[["shift","six"]]],["caret","^"]],[[[["shift","seven"]]],["ampersand","and","&"]],[[[["shift","eight"]]],["asterisk","*"]],[[[["shift","nine"]]],["openparen","("]],[[[["shift","zero"]]],["closeparen",")"]],[[[["shift","dash"]]],["underscore","_"]],[[[["shift","equal"]]],["plus","+"]],[[[["shift","openbracket"]]],["opencurlybrace","opencurlybracket","{"]],[[[["shift","closebracket"]]],["closecurlybrace","closecurlybracket","}"]],[[[["shift","backslash"]]],["verticalbar","|"]],[[[["shift","semicolon"]]],["colon",":"]],[[[["shift","apostrophe"]]],["quotationmark",'"']],[[[["shift","comma"]]],["openanglebracket","<"]],[[[["shift","period"]]],["closeanglebracket",">"]],[[[["shift","forwardslash"]]],["questionmark","?"]],[[[["shift","a"]]],["A"]],[[[["shift","b"]]],["B"]],[[[["shift","c"]]],["C"]],[[[["shift","d"]]],["D"]],[[[["shift","e"]]],["E"]],[[[["shift","f"]]],["F"]],[[[["shift","g"]]],["G"]],[[[["shift","h"]]],["H"]],[[[["shift","i"]]],["I"]],[[[["shift","j"]]],["J"]],[[[["shift","k"]]],["K"]],[[[["shift","l"]]],["L"]],[[[["shift","m"]]],["M"]],[[[["shift","n"]]],["N"]],[[[["shift","o"]]],["O"]],[[[["shift","p"]]],["P"]],[[[["shift","q"]]],["Q"]],[[[["shift","r"]]],["R"]],[[[["shift","s"]]],["S"]],[[[["shift","t"]]],["T"]],[[[["shift","u"]]],["U"]],[[[["shift","v"]]],["V"]],[[[["shift","w"]]],["W"]],[[[["shift","x"]]],["X"]],[[[["shift","y"]]],["Y"]],[[[["shift","z"]]],["Z"]]]}},A="us",j=x[A].map,I=x[A].macros,window.addEventListener)window.addEventListener("keydown",n,!1),window.addEventListener("keyup",t,!1),window.addEventListener("onblur",o,!1);else{if(!window.attachEvent)throw new Error("Cannot bind to keydown event. Both addEventListener and attachEvent are unsupported by your browser.");window.attachEvent("onkeydown",n),window.attachEvent("onkeyup",t),window.attachEvent("onblur",o)}return O.activeKeys=w,O.on=c,O.clear=h,O.clear.key=l,O.locale=E,O.locale.register=C,O.macro=a,O.macro.remove=i,O.getKey=r,O.combo={},O.combo.parse=b,O.combo.stringify=g,window.map=j,window.macros=I,O});