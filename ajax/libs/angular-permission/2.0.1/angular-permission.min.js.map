{"version":3,"sources":["angular-permission.js"],"names":["permission","angular","module","config","$stateProvider","decorator","state","parentFn","self","getState","run","$rootScope","$state","$q","Authorization","PermissionMap","$on","event","toState","toParams","fromState","fromParams","options","areSetStatePermissions","data","permissions","setStateAuthorizationStatus","status","extend","$$isAuthorizationFinished","areStateEventsDefaultPrevented","isStateChangePermissionStartDefaultPrevented","isStateChangeStartDefaultPrevented","compensatePermissionMap","statePermissionMap","permissionMap","redirectTo","toStatePath","get","name","path","reverse","forEach","extendPermissionMap","authorizeForState","authorize","then","$broadcast","goToState","rejectedPermission","redirectToState","go","notify","defaultPrevented","preventDefault","compensatedPermissionMap","factory","this","only","resolvePermissionMapProperty","except","handleFunctionRedirect","redirectFunction","when","call","redirectState","isString","TypeError","handleStringRedirect","handleObjectRedirect","redirectObject","isDefined","ReferenceError","isFunction","property","isArray","prototype","concat","rejectedPermissionName","isObject","Permission","permissionName","validationFunction","validateConstructor","wrapInPromise","func","dfd","defer","resolve","reject","promise","validatePermission","validationResult","PermissionStore","Role","roleName","permissionNames","defineManyPermissions","length","validateRole","promises","map","hasPermissionDefinition","getPermissionDefinition","all","service","definePermission","permissionStore","removePermissionDefinition","getStore","clearStore","defineRole","roleStore","removeRoleDefinition","hasRoleDefinition","getRoleDefinition","directive","$log","restrict","link","scope","element","attrs","$eval","removeClass","addClass","e","error","message","RoleStore","permissionsMap","handleAuthorization","deferred","exceptPromises","findMatchingPermissions","rejectedPermissions","onlyPromises","resolvedPermissions","handleRoleValidation","handlePermissionValidation","role"],"mappings":"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","file":"angular-permission.min.js"}