(function(){var g={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:b,table:b,nptable:b,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,lheading:/^([^\n]+)\n *(=|-){3,} *\n*/,blockquote:/^( *>[^\n]+(\n[^\n]+)*\n*)+/,list:/^( *)(bull) [^\0]+?(?:hr|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment|closed|closing) *(?:\n{2,}|\s*$)/,def:/^ *\[([^\]]+)\]: *([^\s]+)(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,codeglass:/^ *(:{3}) *(\w+)? *\n([^\0]+?)\s*\1 *(?:\n+|$)/,paragraph:/^([^\n]+\n?(?!hr|heading|lheading|blockquote|codeglass|tag|def))+\n*/,text:/^[^\n]+/};g.bullet=/(?:[*+-]|\d+\.)/;g.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/;g.item=r(g.item,"gm")(/bull/g,g.bullet)();g.list=r(g.list)(/bull/g,g.bullet)("hr",/\n+(?=(?: *[-*_]){3,} *(?:\n+|$))/)();g.html=r(g.html)("comment",/<!--[^\0]*?-->/)("closed",/<(tag)[^\0]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,s())();g.paragraph=r(g.paragraph)("hr",g.hr)("heading",g.heading)("lheading",g.lheading)("blockquote",g.blockquote)("codeglass",g.codeglass)("tag","<"+s())("def",g.def)();g.normal={fences:g.fences,paragraph:g.paragraph,table:g.table,nptable:g.nptable};g.gfm={fences:/^ *(```|~~~) *(\w+)? *\n([^\0]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/,table:/^ {0,3}[|](.+)\n {0,3}[|]( *[-:]+[-| :]*)\n((?: *[|].*\n)*)\n*/,nptable:/^ {0,3}(\S.*[|].*)\n {0,3}([-:]+ *[|][-| :]*)\n((?:.*[|].*\n)*)\n*/};g.gfm.paragraph=r(g.paragraph)("(?!","(?!"+g.gfm.fences.source.replace("\\1","\\2")+"|")();g.lexer=function(u){var t=[];t.links={};u=u.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ");return g.token(u,t,true)};g.token=function(t,A,B){var t=t.replace(/^ +$/gm,""),z,x,C,D,u,w,y,v;while(t){if(C=g.newline.exec(t)){t=t.substring(C[0].length);if(C[0].length>1){A.push({type:"space"})}}if(C=g.code.exec(t)){t=t.substring(C[0].length);C=C[0].replace(/^ {4}/gm,"");A.push({type:"code",text:!a.pedantic?C.replace(/\n+$/,""):C});continue}if(C=g.fences.exec(t)){t=t.substring(C[0].length);A.push({type:"code",lang:C[2],text:C[3]});continue}if(C=g.codeglass.exec(t)){t=t.substring(C[0].length);A.push({type:"codeglass",lang:C[2],text:C[3]});continue}if(C=g.table.exec(t)){t=t.substring(C[0].length);A.push({type:"table",header:C[1].replace(/(^ *| *[|] *$)/g,"").split(/ *[|] */),align:C[2].replace(/(^ *|[|] *$)/g,"").split(/ *[|] */).map(function(E){return E.match(/^ *-+: *$/)?"right":E.match(/^ *:-+: *$/)?"center":E.match(/^ *:-+ *$/)?"left":false}),cells:C[3].replace(/( *[|] *)?\n$/,"").split("\n").map(function(E){return E.replace(/(^ *[|] *| *[|] *$)/g,"").split(/ *[|] */)})});continue}if(C=g.nptable.exec(t)){t=t.substring(C[0].length);A.push({type:"table",header:C[1].replace(/(^ *| *[|] *$)/g,"").split(/ *[|] */),align:C[2].replace(/(^ *|[|] *$)/g,"").split(/ *[|] */).map(function(E){return E.match(/^ *-+: *$/)?"right":E.match(/^ *:-+: *$/)?"center":E.match(/^ *:-+ *$/)?"left":false}),cells:C[3].replace(/\n$/,"").split("\n").map(function(E){return E.split(/ *[|] */)})});continue}if(C=g.heading.exec(t)){t=t.substring(C[0].length);w={type:"heading",depth:C[1].length,text:C[2]};if(a.anchors){w.anchor=e(C[2])}A.push(w);continue}if(C=g.lheading.exec(t)){t=t.substring(C[0].length);w={type:"heading",depth:C[2]==="="?1:2,text:C[1]};if(a.anchors){w.anchor=e(C[1])}A.push(w);continue}if(C=g.hr.exec(t)){t=t.substring(C[0].length);A.push({type:"hr"});continue}if(C=g.blockquote.exec(t)){t=t.substring(C[0].length);A.push({type:"blockquote_start"});C=C[0].replace(/^ *> ?/gm,"");g.token(C,A,B);A.push({type:"blockquote_end"});continue}if(C=g.list.exec(t)){t=t.substring(C[0].length);A.push({type:"list_start",ordered:isFinite(C[2])});C=C[0].match(g.item);z=false;v=C.length;y=0;for(;y<v;y++){D=C[y];u=D.length;D=D.replace(/^ *([*+-]|\d+\.) +/,"");if(~D.indexOf("\n ")){u-=D.length;D=!a.pedantic?D.replace(new RegExp("^ {1,"+u+"}","gm"),""):D.replace(/^ {1,4}/gm,"")}x=z||/\n\n(?!\s*$)/.test(D);if(y!==v-1){z=D[D.length-1]==="\n";if(!x){x=z}}A.push({type:x?"loose_item_start":"list_item_start"});g.token(D,A);A.push({type:"list_item_end"})}A.push({type:"list_end"});continue}if(C=g.html.exec(t)){t=t.substring(C[0].length);A.push({type:a.sanitize?"paragraph":"html",pre:C[1]==="pre",text:C[0]});continue}if(B&&(C=g.def.exec(t))){t=t.substring(C[0].length);A.links[C[1].toLowerCase()]={href:C[2],title:C[3]};continue}if(B&&(C=g.paragraph.exec(t))){t=t.substring(C[0].length);A.push({type:"paragraph",text:C[0]});continue}if(C=g.text.exec(t)){t=t.substring(C[0].length);A.push({type:"text",text:C[0]});continue}}return A};var d={escape:/^\\([\\`*{}\[\]()#+\-.!_>|])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:b,tag:/^<!--[^\0]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([^\0]+?)__(?!_)|^\*\*([^\0]+?)\*\*(?!\*)/,em:/^\b_((?:__|[^\0])+?)_\b|^\*((?:\*\*|[^\0])+?)\*(?!\*)/,code:/^(`+)([^\0]*?[^`])\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,text:/^[^\0]+?(?=[\\<!\[_*`]| {2,}\n|$)/};d._linkInside=/(?:\[[^\]]*\]|[^\]]|\](?=[^\[]*\]))*/;d._linkHref=/\s*<?([^\s]*?)>?(?:\s+['"]([^\0]*?)['"])?\s*/;d.link=r(d.link)("inside",d._linkInside)("href",d._linkHref)();d.reflink=r(d.reflink)("inside",d._linkInside)();d.normal={url:d.url,strong:d.strong,em:d.em,text:d.text};d.pedantic={strong:/^__(?=\S)([^\0]*?\S)__(?!_)|^\*\*(?=\S)([^\0]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([^\0]*?\S)_(?!_)|^\*(?=\S)([^\0]*?\S)\*(?!\*)/};d.gfm={url:/^(https?:\/\/[^\s]+[^.,:;"')\]\s])/,text:/^[^\0]+?(?=[\\<!\[_*`]|https?:\/\/| {2,}\n|$)/};d.lexer=function(z){var v="",u=j.links,x,y,t,w;while(z){if(w=d.escape.exec(z)){z=z.substring(w[0].length);v+=w[1];continue}if(w=d.autolink.exec(z)){z=z.substring(w[0].length);if(w[2]==="@"){y=w[1][6]===":"?c(w[1].substring(7)):c(w[1]);t=c("mailto:")+y}else{y=p(w[1]);t=y}v+='<a href="'+t+'">'+y+"</a>";continue}if(w=d.url.exec(z)){z=z.substring(w[0].length);y=p(w[1]);t=y;v+='<a href="'+t+'">'+y+"</a>";continue}if(w=d.tag.exec(z)){z=z.substring(w[0].length);v+=a.sanitize?p(w[0]):w[0];continue}if(w=d.link.exec(z)){z=z.substring(w[0].length);v+=h(w,{href:w[2],title:w[3]});continue}if((w=d.reflink.exec(z))||(w=d.nolink.exec(z))){z=z.substring(w[0].length);x=(w[2]||w[1]).replace(/\s+/g," ");x=u[x.toLowerCase()];if(!x||!x.href){v+=w[0][0];z=w[0].substring(1)+z;continue}v+=h(w,x);continue}if(w=d.strong.exec(z)){z=z.substring(w[0].length);v+="<strong>"+d.lexer(w[2]||w[1])+"</strong>";continue}if(w=d.em.exec(z)){z=z.substring(w[0].length);v+="<em>"+d.lexer(w[2]||w[1])+"</em>";continue}if(w=d.code.exec(z)){z=z.substring(w[0].length);v+="<code>"+p(w[2],true)+"</code>";continue}if(w=d.br.exec(z)){z=z.substring(w[0].length);v+="<br>";continue}if(w=d.text.exec(z)){z=z.substring(w[0].length);v+=p(w[0]);continue}}return v};function h(t,u){if(t[0][0]!=="!"){return'<a href="'+p(u.href)+'"'+(u.title?' title="'+p(u.title)+'"':"")+">"+d.lexer(t[1])+"</a>"}else{return'<img src="'+p(u.href)+'" alt="'+p(t[1])+'"'+(u.title?' title="'+p(u.title)+'"':"")+">"}}var j,f;function m(){return f=j.pop()}function o(){switch(f.type){case"space":return"";case"hr":return"<hr>\n";case"heading":return"<h"+f.depth+">"+(f.anchor?'<a name="'+f.anchor+'">':"")+d.lexer(f.text)+(f.anchor?"</a>":"")+"</h"+f.depth+">\n";case"code":if(a.highlight){f.code=a.highlight(f.text,f.lang);if(f.code!=null&&f.code!==f.text){f.escaped=true;f.text=f.code}}if(!f.escaped){f.text=p(f.text,true)}return"<pre><code"+(f.lang?' class="lang-'+f.lang+'"':"")+">"+f.text+"</code></pre>\n";case"codeglass":return a.codeglass?a.codeglass(f.text):f.text;case"table":var w="\t<thead>\n\t\t<tr>";f.header.forEach(function(y,x){y=d.lexer(y);var z=x<f.align.length?f.align[x]:false;switch(z){case"left":case"right":case"center":w+='<th align="'+z+'">'+y+"</td>";break;default:w+="<th>"+y+"</th>"}});w+="</tr>\n\t</thead>\n";var u="\t<tbody>\n";f.cells.forEach(function(x){u+="\t\t<tr>";x.forEach(function(y,z){y=d.lexer(y);var A=z<f.align.length?f.align[z]:false;switch(A){case"left":case"right":case"center":u+='<td align="'+A+'">'+y+"</td>";break;default:u+="<td>"+y+"</td>"}});u+="</tr>\n"});u+="\t</tbody>\n";return"<table>\n"+w+u+"</table>\n";case"blockquote_start":var t="";while(m().type!=="blockquote_end"){t+=o()}return"<blockquote>\n"+t+"</blockquote>\n";case"list_start":var v=f.ordered?"ol":"ul",t="";while(m().type!=="list_end"){t+=o()}return"<"+v+">\n"+t+"</"+v+">\n";case"list_item_start":var t="";while(m().type!=="list_item_end"){t+=f.type==="text"?l():o()}return"<li>"+t+"</li>\n";case"loose_item_start":var t="";while(m().type!=="list_item_end"){t+=o()}return"<li>"+t+"</li>\n";case"html":return !f.pre&&!a.pedantic?d.lexer(f.text):f.text;case"paragraph":return"<p>"+d.lexer(f.text)+"</p>\n";case"text":return"<p>"+l()+"</p>\n"}}function l(){var t=f.text,u;while((u=j[j.length-1])&&u.type==="text"){t+="\n"+m().text}return d.lexer(t)}function k(u){j=u.reverse();var t="";while(m()){t+=o()}j=null;f=null;return t}function p(t,u){return t.replace(!u?/&(?!#?\w+;)/g:/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function c(x){var u="",t=x.length,v=0,w;for(;v<t;v++){w=x.charCodeAt(v);if(Math.random()>0.5){w="x"+w.toString(16)}u+="&#"+w+";"}return u}function s(){var t="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|@)\\b";return t}function r(v,u){v=v.source;u=u||"";return function t(w,x){if(!w){return new RegExp(v,u)}x=x.source||x;x=x.replace(/(^|[^\[])\^/g,"$1");v=v.replace(w,x);return t}}function e(t){return t.toLowerCase().replace(/(^[0-9]|[^a-z0-9:_.-])/g,"_")}function b(){}b.exec=b;function n(u,t){q(t);return k(g.lexer(u))}var a,i;function q(t){if(!t){t=i}if(a===t){return}a=t;if(a.gfm){g.fences=g.gfm.fences;g.paragraph=g.gfm.paragraph;g.table=g.gfm.table;g.nptable=g.gfm.nptable;d.text=d.gfm.text;d.url=d.gfm.url}else{g.fences=g.normal.fences;g.paragraph=g.normal.paragraph;g.table=g.normal.table;g.nptable=g.normal.table;d.text=d.normal.text;d.url=d.normal.url}if(a.pedantic){d.em=d.pedantic.em;d.strong=d.pedantic.strong}else{d.em=d.normal.em;d.strong=d.normal.strong}}n.options=n.setOptions=function(t){i=t;q(t);return n};n.setOptions({gfm:true,pedantic:false,sanitize:false,highlight:null,anchors:false});n.parser=function(u,t){q(t);return k(u)};n.lexer=function(u,t){q(t);return g.lexer(u)};n.inline=function(u,t){q(t);return d.lexer(u)};n.parse=n;if(typeof module!=="undefined"){module.exports=n}else{if(typeof define==="function"&&define.amd){define(function(){return n})}else{this.marked=n}}}).call(function(){return this||(typeof window!=="undefined"?window:global)}());