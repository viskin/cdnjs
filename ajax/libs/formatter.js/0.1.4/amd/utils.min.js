define(function(){var utils={};var uAgent=typeof navigator!=="undefined"?navigator.userAgent:null;utils.extend=function(destObj){for(var i=1;i<arguments.length;i++){for(var key in arguments[i]){destObj[key]=arguments[i][key]}}return destObj};utils.addChars=function(str,chars,pos){return str.substr(0,pos)+chars+str.substr(pos,str.length)};utils.removeChars=function(str,start,end){return str.substr(0,start)+str.substr(end,str.length)};utils.isBetween=function(num,bounds){bounds.sort(function(a,b){return a-b});return num>bounds[0]&&num<bounds[1]};utils.addListener=function(el,evt,handler){return typeof el.addEventListener!=="undefined"?el.addEventListener(evt,handler,false):el.attachEvent("on"+evt,handler)};utils.preventDefault=function(evt){return evt.preventDefault?evt.preventDefault():evt.returnValue=false};utils.getClip=function(evt){if(evt.clipboardData){return evt.clipboardData.getData("Text")}if(window.clipboardData){return window.clipboardData.getData("Text")}};utils.getMatchingKey=function(which,keyCode,keys){for(var k in keys){var key=keys[k];if(which===key.which&&keyCode===key.keyCode){return k}}};utils.isDelKeyDown=function(which,keyCode){var keys={backspace:{which:8,keyCode:8},"delete":{which:46,keyCode:46}};return utils.getMatchingKey(which,keyCode,keys)};utils.isDelKeyPress=function(which,keyCode){var keys={backspace:{which:8,keyCode:8,shiftKey:false},"delete":{which:0,keyCode:46}};return utils.getMatchingKey(which,keyCode,keys)};utils.isSpecialKeyPress=function(which,keyCode){var keys={tab:{which:0,keyCode:9},enter:{which:13,keyCode:13},end:{which:0,keyCode:35},home:{which:0,keyCode:36},leftarrow:{which:0,keyCode:37},uparrow:{which:0,keyCode:38},rightarrow:{which:0,keyCode:39},downarrow:{which:0,keyCode:40},F5:{which:116,keyCode:116}};return utils.getMatchingKey(which,keyCode,keys)};utils.isModifier=function(evt){return evt.ctrlKey||evt.altKey||evt.metaKey};utils.forEach=function(collection,callback,thisArg){if(collection.hasOwnProperty("length")){for(var index=0,len=collection.length;index<len;index++){if(callback.call(thisArg,collection[index],index,collection)===false){break}}}else{for(var key in collection){if(collection.hasOwnProperty(key)){if(callback.call(thisArg,collection[key],key,collection)===false){break}}}}};return utils});
