/** MobX - (c) Michel Weststrate 2015, 2016 - MIT Licensed */
"use strict";function B(e,t){o(e,"autorun methods cannot have modifiers"),n("function"==typeof e,"autorun expects a function"),n(0===e.length,"autorun expects a function without arguments"),t&&(e=e.bind(t));var r=new O(e.name||"Autorun",function(){this.track(e)});return r.schedule(),r.getDisposer()}function ee(r,o,t){var n=!1,e=B(function(){r.call(t)&&(e?e():n=!0,o.call(t))});return n&&e(),e}function We(e,t,n){return m("`autorunUntil` is deprecated, please use `when`."),ee.apply(null,arguments)}function Qe(e,n,o){void 0===n&&(n=1),o&&(e=e.bind(o));var r=!1,t=new O(e.name||"AutorunAsync",function(){r||(r=!0,setTimeout(function(){r=!1,t.isDisposed||t.track(e)},n))});return t.schedule(),t.getDisposer()}function k(e,t,n,r){return arguments.length<3&&"function"==typeof e?Xe(e,t):Z.apply(null,arguments)}function Xe(r,o){var e=E(r,t.Recursive),i=e[0],n=e[1];return new p(n,o,i===t.Structure,n.name||"ComputedValue")}function Z(i,e,o,a){if(1===arguments.length){var u=i;return function(e,t,n){return Z.call(null,e,t,n,u)}}n(o&&o.hasOwnProperty("get"),"@computed can only be used on getter functions, like: '@computed get myProps() { return ...; }'"),I(i,e);var r={},s=o.get;return n("object"==typeof i,"The @observable decorator can only be used on objects",e),n("function"==typeof s,"@observable expects a getter function if used on a property.",e),n(!o.set,"@observable properties cannot have a setter.",e),n(0===s.length,"@observable getter functions should not take arguments.",e),r.configurable=!0,r.enumerable=!1,r.get=function(){return S(j(this,void 0,t.Recursive),e,a&&a.asStructure===!0?z(s):s),this[e]},r.set=te,o?r:void Object.defineProperty(i,e,r)}function te(){throw new Error("[ComputedValue] It is not allowed to assign new values to computed properties.")}function He(t,o){n("function"==typeof t&&1===t.length,"createTransformer expects a function that accepts one argument");var r={},i=e.resetId,s=function(e){function n(n,r){e.call(this,function(){return t(r)},null,!1,"Transformer-"+t.name+"-"+n),this.sourceIdentifier=n,this.sourceObject=r}return P(n,e),n.prototype.onBecomeUnobserved=function(){var t=this.value;e.prototype.onBecomeUnobserved.call(this),delete r[this.sourceIdentifier],o&&o(t,this.sourceObject)},n}(p);return function(o){i!==e.resetId&&(r={},i=e.resetId);var n=Ke(o),t=r[n];return t?t.get():(t=r[n]=new s(n,o),t.get())}}function Ke(e){if(null===e||"object"!=typeof e)throw new Error("[mobx] transform expected some kind of object, got: "+e);var t=e.$transformId;return void 0===t&&(t=l(),Object.defineProperty(e,"$transformId",{configurable:!0,writable:!0,enumerable:!1,value:t})),t}function ze(e,t){return N()||console.warn("[mobx.expr] 'expr' should only be used inside other reactive functions."),k(e,t).get()}function oe(e){for(var o=[],r=1;r<arguments.length;r++)o[r-1]=arguments[r];return n(arguments.length>=2,"extendObservable expected 2 or more arguments"),n("object"==typeof e,"extendObservable expects an object as first argument"),n(!(e instanceof h),"extendObservable should not be used on maps, use map.merge instead"),o.forEach(function(r){n("object"==typeof r,"all arguments of extendObservable should be objects"),ie(e,r,t.Recursive,null)}),e}function ie(e,t,r,o){var i=j(e,o,r);for(var n in t)if(t.hasOwnProperty(n)){if(e===t&&!be(e,n))continue;S(i,n,t[n])}return e}function se(t,n){var r=e.allowStateChanges;e.allowStateChanges=t;var o=n();return e.allowStateChanges=r,o}function a(e,n,t){void 0===t&&(t=!1),u&&u.emit({id:e.id,name:e.name+"@"+e.id,node:e,state:n,changed:t})}function Ve(e){return ae(e)}function ae(e){var t={id:e.id,name:e.name+"@"+e.id};return e.observing&&e.observing.length&&(t.dependencies=ye(e.observing).map(ae)),t}function Me(e){return fe(e)}function fe(e){var t={id:e.id,name:e.name+"@"+e.id};return e.observers&&e.observers.length&&(t.observers=ye(e.observers).map(fe)),t}function De(n){var e=[],t=!1;return function(r){(n||r.changed)&&e.push(r),t||(t=!0,setTimeout(function(){console[console.table?"table":"dir"](e),e=[],t=!1},1))}}function Pe(e,t){void 0===e&&(e=!1),u||(u=new f);var n=t?function(n){(e||n.changed)&&t(n)}:De(e),r=u.on(n);return Oe(function(){r(),0===u.listeners.length&&(u=null)})}function y(e,t){if(null===e||void 0===e)return!1;if(void 0!==t){if(e instanceof h||e instanceof i)throw new Error("[mobx.isObservable] isObservable(object, propertyName) is not supported for arrays and maps. Use map.has or array.length instead.");if(g(e)){var n=e.$mobx;return n.values&&!!n.values[t]}return!1}return!!e.$mobx||e instanceof w||e instanceof O||e instanceof p}function Ae(i,e,r){if(n(arguments.length>=2&&arguments.length<=3,"Illegal decorator config",e),I(i,e),r&&r.hasOwnProperty("get"))return m("Using @observable on computed values is deprecated. Use @computed instead."),k.apply(null,arguments);var o={};return n("object"==typeof i,"The @observable decorator can only be used on objects",e),o.configurable=!0,o.enumerable=!0,o.get=function(){var o=this,n=void 0;return r&&r.initializer&&(n=r.initializer(),"function"==typeof n&&(n=$(n))),se(!0,function(){S(j(o,void 0,t.Recursive),e,n)}),this[e]},o.set=function(n){S(j(this,void 0,t.Recursive),e,"function"==typeof n?$(n):n)},r?o:void Object.defineProperty(i,e,o)}function ve(e,a){if("string"==typeof arguments[1])return Ae.apply(null,arguments);if(n(1===arguments.length||2===arguments.length,"observable expects one or two arguments"),y(e))return e;var s=E(e,t.Recursive),o=s[0],i=s[1],u=o===t.Reference?r.Reference:_e(i);switch(u){case r.Array:case r.PlainObject:return _(i,o);case r.Reference:case r.ComplexObject:return new v(i,o);case r.ComplexFunction:throw new Error("[mobx.observable] To be able to make a function reactive it should not have arguments. If you need an observable reference to a function, use `observable(asReference(f))`");case r.ViewFunction:return m("Use `computed(expr)` instead of `observable(expr)`"),k(e,a)}n(!1,"Illegal State")}function _e(e){return null===e||void 0===e?r.Reference:"function"==typeof e?e.length?r.ComplexFunction:r.ViewFunction:Array.isArray(e)||e instanceof i?r.Array:"object"==typeof e?c(e)?r.PlainObject:r.ComplexObject:r.Reference}function F(t,n,e,r){return"function"==typeof e?we(t,n,e,r):Y(t,n,e)}function Y(e,t,r){return A(e)?e.observe(t):M(e)?e.observe(t):g(e)?Ue(e,t,r):e instanceof v||e instanceof p?e.observe(t,r):c(e)?Y(ve(e),t,r):void n(!1,"first argument of observe should be some observable value or plain object")}function we(e,t,r,o){var i="[mobx.observe] the provided observable map has no key with name: "+t;if(M(e)){if(!e._has(t))throw new Error(i);return F(e._data[t],r)}if(g(e)){if(!y(e,t))throw new Error(i);return F(e.$mobx.values[t],r,o)}return c(e)?(oe(e,{property:e[t]}),we(e,t,r,o)):void n(!1,"first argument of observe should be an (observable)object or observableMap if a property name is given")}function b(e,n,t){function s(r){return n&&t.push([e,r]),r}if(void 0===n&&(n=!0),void 0===t&&(t=null),n&&null===t&&(t=[]),n&&null!==e&&"object"==typeof e)for(var r=0,l=t.length;l>r;r++)if(t[r][0]===e)return t[r][1];if(!e)return e;if(Array.isArray(e)||e instanceof i){var o=s([]),a=e.map(function(e){return b(e,n,t)});o.length=a.length;for(var r=0,l=a.length;l>r;r++)o[r]=a[r];return o}if(e instanceof h){var f=s({});return e.forEach(function(e,r){return f[r]=b(e,n,t)}),f}if("object"==typeof e&&c(e)){var o=s({});for(var u in e)e.hasOwnProperty(u)&&(o[u]=b(e[u],n,t));return o}return y(e)&&e.$mobx instanceof v?b(e(),n,t):e}function xe(e){n(e.isDirty,"atom not dirty"),e.isDirty=!1,a(e,"READY",!0),K(e,!0)}function N(){return e.derivationStack.length>0}function J(){n(e.allowStateChanges,"It is not allowed to change the state when a computed value is being evaluated. Use 'autorun' to create reactive functions with side-effects. Or use 'extras.allowStateChanges(true, block)' to supress this message.")}function je(e){1===++e.dependencyStaleCount&&(a(e,"STALE"),ge(e))}function ke(e,t){if(n(e.dependencyStaleCount>0,"unexpected ready notification"),t&&(e.dependencyChangeCount+=1),0===--e.dependencyStaleCount)if(e.dependencyChangeCount>0){e.dependencyChangeCount=0,a(e,"PENDING");var r=e.onDependenciesReady();K(e,r)}else a(e,"READY",!1),K(e,!1)}function de(t,r){var n=!0,o=t.observing;t.observing=[],e.derivationStack.push(t);try{var i=r();return n=!1,Ee(t,o),i}finally{n&&(console.error("[mobx] An uncaught exception occurred while calculating your computed value, autorun or transformer. Or inside the render method of a React component. These methods should never throw exceptions as MobX will usually not be able to recover from them. "+("Please enable 'Pause on (caught) exceptions' in your debugger to find the root cause. In: '"+t.name+"#"+t.id+"'")),U())}}function Ee(r,u){e.derivationStack.length-=1;for(var i=pe(r.observing,u),o=i[0],s=i[1],t=0,a=o.length;a>t;t++){var c=o[t];n(!he(r,c),"Cycle detected",r),qe(o[t],r)}for(var t=0,a=s.length;a>t;t++)G(s[t],r)}function he(r,n){var e=n.observing;if(void 0===e)return!1;if(-1!==e.indexOf(n))return!0;for(var o=e.length,t=0;o>t;t++)if(he(r,e[t]))return!0;return!1}function l(){return++e.mobxGuid}function Be(){}function U(){e.resetId++;var n=new ue;for(var t in n)"mobxGuid"!==t&&"resetId"!==t&&(e[t]=n[t])}function qe(e,r){var t=e.observers,n=t.length;t[n]=r,0===n&&e.onBecomeObserved()}function G(t,r){var e=t.observers,n=e.indexOf(r);-1!==n&&e.splice(n,1),0===e.length&&t.onBecomeUnobserved()}function Q(n){if(!(e.inUntracked>0)){var o=e.derivationStack,i=o.length;if(i>0){var t=o[i-1].observing,r=t.length;t[r-1]!==n&&t[r-2]!==n&&(t[r]=n)}}}function ge(e){var t=e.observers.slice();t.forEach(je),e.staleObservers=e.staleObservers.concat(t)}function K(e,t){e.staleObservers.splice(0).forEach(function(e){return ke(e,t)})}function et(t){m("This feature is experimental and might be removed in a future minor release. Please report if you use this feature in production: https://github.com/mobxjs/mobx/issues/49"),e.inUntracked++;var n=t();return e.inUntracked--,n}function H(){if(!(e.isRunningReactions===!0||e.inTransaction>0)){e.isRunningReactions=!0;for(var t=e.pendingReactions,o=0;t.length>0;){if(++o===Se)throw new Error("Reaction doesn't converge to a stable state. Probably there is a cycle in the reactive function: "+t[0].toString());for(var r=t.splice(0),n=0,i=r.length;i>n;n++)r[n].runReaction()}e.isRunningReactions=!1}}function d(r,o){e.inTransaction+=1;var i=r.call(o);if(0===--e.inTransaction){for(var n=e.changedAtoms.splice(0),t=0,s=n.length;s>t;t++)xe(n[t]);H()}return i}function $(e){return new D(e)}function z(e){return new R(e)}function X(e){return new L(e)}function E(e,n){return e instanceof D?[t.Reference,e.value]:e instanceof R?[t.Structure,e.value]:e instanceof L?[t.Flat,e.value]:[n,e]}function Ze(e){return e===$?t.Reference:e===z?t.Structure:e===X?t.Flat:(n(void 0===e,"Cannot determine value mode from function. Please pass in one of these: mobx.asReference, mobx.asStructure or mobx.asFlat, got: "+e),t.Recursive)}function _(e,a,s){var r;if(y(e))return e;switch(a){case t.Reference:return e;case t.Flat:o(e,"Items inside 'asFlat' cannot have modifiers"),r=t.Reference;break;case t.Structure:o(e,"Items inside 'asStructure' cannot have modifiers"),r=t.Structure;break;case t.Recursive:i=E(e,t.Recursive),r=i[0],e=i[1];break;default:n(!1,"Illegal State")}return Array.isArray(e)&&Object.isExtensible(e)?le(e,r,s):c(e)&&Object.isExtensible(e)?ie(e,e,r,s):e;var i}function o(e,t){if(e instanceof D||e instanceof R||e instanceof L)throw new Error("[mobx] asStructure / asReference / asFlat cannot be used here. "+t)}function Ye(e){return e.atom.reportObserved(),e.values.length}function Ne(n,e){if("number"!=typeof e||0>e)throw new Error("[mobx.array] Out of range: "+e);var t=n.values.length;e!==t&&(e>t?s(n,t,0,new Array(e-t)):s(n,e,t-e))}function re(n,t,e){if(t!==n.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");J(),n.lastKnownLength+=e,e>0&&t+e>V&&ce(t+e)}function s(o,e,n,t){var r=o.values.length;if(!(void 0!==t&&0!==t.length||0!==n&&0!==r))return[];void 0===e?e=0:e>r?e=r:0>e&&(e=Math.max(0,r+e)),n=2===arguments.length?r-e:void 0===n||null===n?0:Math.max(0,Math.min(n,r-e)),t=void 0===t?C:t.map(o.makeChildReactive);var a=t.length-n;re(o,r,a);var i=(s=o.values).splice.apply(s,[e,n].concat(t));return Te(o,e,i,t),i;var s}function Ge(e){return o(e,"Array values cannot have modifiers"),this.mode===t.Flat||this.mode===t.Reference?e:_(e,this.mode,this.atom.name+"@"+this.atom.id+" / ArrayEntry")}function Le(e,t,n){e.atom.reportChanged(),e.changeEvent&&e.changeEvent.emit({object:e.array,type:"update",index:t,oldValue:n})}function Te(e,r,t,n){(0!==t.length||0!==n.length)&&(e.atom.reportChanged(),e.changeEvent&&e.changeEvent.emit({object:e.array,type:"splice",index:r,addedCount:n.length,removed:t}))}function Fe(e){Object.defineProperty(i.prototype,""+e,{enumerable:!1,configurable:!1,set:function(n){var r=this.$mobx,i=r.values;if(o(n,"Modifiers cannot be used on array values. For non-reactive array values use makeReactive(asFlat(array))."),e<i.length){J();var a=i[e],u=r.mode===t.Structure?!x(a,n):a!==n;u&&(i[e]=r.makeChildReactive(n),Le(r,e,a))}else{if(e!==i.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+i.length);s(r,e,0,[n])}},get:function(){var t=this.$mobx;return t&&e<t.values.length?(t.atom.reportObserved(),t.values[e]):void 0}})}function ce(t){for(var e=V;t>e;e++)Fe(e);V=t}function le(e,t,n){return new i(e,t,n)}function Ie(e){return m("fastArray is deprecated. Please use `observable(asFlat([]))`"),le(e,t.Flat,null)}function A(e){return e instanceof i}function $e(e,t){return new h(e,t)}function M(e){return e instanceof h}function j(e,n,r){if(void 0===r&&(r=t.Recursive),e.$mobx){if(e.$mobx.type!==T)throw new Error("The given object is observable but not an observable object");return e.$mobx}c(e)||(n=e.constructor.name),n||(n="ObservableObject");var o={type:T,values:{},events:void 0,id:l(),target:e,name:n,mode:r};return Object.defineProperty(e,"$mobx",{enumerable:!1,configurable:!1,writable:!1,value:o}),o}function S(e,t,n){e.values[t]?e.target[t]=n:Ce(e,t,n)}function Ce(e,r,t){I(e.target,r);var n,o=e.name+"@"+e.id+' / Prop "'+r+'"',i=!0;"function"==typeof t&&0===t.length?n=new p(t,e.target,!1,o):t instanceof R&&"function"==typeof t.value&&0===t.value.length?n=new p(t.value,e.target,!0,o):(i=!1,n=new v(t,e.mode,o)),e.values[r]=n,Object.defineProperty(e.target,r,{configurable:!0,enumerable:!i,get:function(){return n.get()},set:i?te:function(t){var o=n.value;n.set(t)&&void 0!==e.events&&e.events.emit({type:"update",object:this,name:r,oldValue:o})}}),void 0!==e.events&&e.events.emit({type:"add",object:e.target,name:r})}function Ue(e,r,o){n(g(e),"Expected observable object"),n(o!==!0,"`observe` doesn't support the fire immediately property for observable objects.");var t=e.$mobx;return void 0===t.events&&(t.events=new f),e.$mobx.events.on(r)}function g(e){return e&&e.$mobx&&e.$mobx.type===T}function n(t,n,e){if(!t)throw new Error("[mobx] Invariant failed: "+n+(e?" in '"+e+"'":""))}function m(e){-1===W.indexOf(e)&&(W.push(e),console.error("[mobx] Deprecated: "+e))}function Oe(t){var e=!1;return function(){return e?void 0:(e=!0,t.apply(this,arguments))}}function ye(t){var e=[];return t.forEach(function(t){-1===e.indexOf(t)&&e.push(t)}),e}function c(e){return null!==e&&"object"==typeof e&&Object.getPrototypeOf(e)===Object.prototype}function me(n,e,t){return n?!x(e,t):e!==t}function Re(n,t){for(var e=0;e<t.length;e++)Object.defineProperty(n,t[e],{configurable:!0,writable:!0,enumerable:!1,value:n[t[e]]})}function be(t,n){var e=Object.getOwnPropertyDescriptor(t,n);return!e||e.configurable!==!1&&e.writable!==!1}function I(t,e){n(be(t,e),"Cannot make property '"+e+"' observable, it is not configurable and writable in the target object")}function x(e,t){if(null===e&&null===t)return!0;if(void 0===e&&void 0===t)return!0;var o=Array.isArray(e)||A(e);if(o!==(Array.isArray(t)||A(t)))return!1;if(o){if(e.length!==t.length)return!1;for(var n=e.length;n>=0;n--)if(!x(e[n],t[n]))return!1;return!0}if("object"==typeof e&&"object"==typeof t){if(null===e||null===t)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e){if(!t.hasOwnProperty(r))return!1;if(!x(e[r],t[r]))return!1}return!0}return e===t}function pe(n,r){if(!r||!r.length)return[n,[]];if(!n||!n.length)return[[],r];for(var s=[],a=[],e=0,o=0,h=n.length,c=!1,t=0,i=0,l=r.length,u=!1,f=!1;!f&&!c;){if(!u){if(h>e&&l>t&&n[e]===r[t]){if(e++,t++,e===h&&t===l)return[s,a];continue}o=e,i=t,u=!0}i+=1,o+=1,i>=l&&(f=!0),o>=h&&(c=!0),c||n[o]!==r[t]?f||r[i]!==n[e]||(a=a.concat(r.slice(t,i)),t=i+1,e++,u=!1):(s=s.concat(n.slice(e,o)),e=o+1,t++,u=!1)}return[s.concat(n.slice(e)),a.concat(r.slice(t))]}var P=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)};Be(),exports._={quickDiff:pe,resetGlobalState:U},exports.extras={allowStateChanges:se,getDependencyTree:Ve,getObserverTree:Me,isComputingDerivation:N,resetGlobalState:U,trackTransitions:Pe},exports.autorun=B,exports.when=ee,exports.autorunUntil=We,exports.autorunAsync=Qe,exports.computed=k,exports.createTransformer=He,exports.expr=ze,exports.extendObservable=oe;var u=null;exports.isObservable=y,exports.observable=ve;var r;!function(e){e[e.Reference=0]="Reference",e[e.PlainObject=1]="PlainObject",e[e.ComplexObject=2]="ComplexObject",e[e.Array=3]="Array",e[e.ViewFunction=4]="ViewFunction",e[e.ComplexFunction=5]="ComplexFunction"}(r||(r={})),exports.observe=F,exports.toJSON=b;var w=function(){function t(e,t,n){void 0===e&&(e="Atom"),void 0===t&&(t=q),void 0===n&&(n=q),this.name=e,this.onBecomeObserved=t,this.onBecomeUnobserved=n,this.id=l(),this.isDirty=!1,this.staleObservers=[],this.observers=[]}return t.prototype.reportObserved=function(){Q(this)},t.prototype.reportChanged=function(){this.isDirty||(this.reportStale(),this.reportReady())},t.prototype.reportStale=function(){this.isDirty||(this.isDirty=!0,a(this,"STALE"),ge(this))},t.prototype.reportReady=function(){n(this.isDirty,"atom not dirty"),e.inTransaction>0?e.changedAtoms.push(this):(xe(this),H())},t.prototype.toString=function(){return this.name+"@"+this.id},t}();exports.Atom=w;var p=function(){function t(n,r,i,t){var o=this;void 0===t&&(t="ComputedValue"),this.derivation=n,this.scope=r,this.compareStructural=i,this.name=t,this.id=l(),this.isLazy=!0,this.isComputing=!1,this.staleObservers=[],this.observers=[],this.observing=[],this.dependencyChangeCount=0,this.dependencyStaleCount=0,this.value=void 0,this.peek=function(){o.isComputing=!0,e.isComputingComputedValue++;var t=e.allowStateChanges;e.allowStateChanges=!1;var i=n.call(r);return e.allowStateChanges=t,e.isComputingComputedValue--,o.isComputing=!1,i}}return t.prototype.onBecomeObserved=function(){},t.prototype.onBecomeUnobserved=function(){for(var e=0,t=this.observing.length;t>e;e++)G(this.observing[e],this);this.observing=[],this.isLazy=!0,this.value=void 0},t.prototype.onDependenciesReady=function(){var e=this.trackAndCompute();return a(this,"READY",e),e},t.prototype.get=function(){if(n(!this.isComputing,"Cycle detected",this.derivation),Q(this),this.dependencyStaleCount>0)return this.peek();if(this.isLazy){if(!N())return this.peek();this.isLazy=!1,this.trackAndCompute()}return this.value},t.prototype.set=function(e){throw new Error("[ComputedValue '"+name+"'] It is not possible to assign a new value to a computed value.")},t.prototype.trackAndCompute=function(){var e=this.value;return this.value=de(this,this.peek),me(this.compareStructural,this.value,e)},t.prototype.observe=function(r,o){var i=this,t=!0,n=void 0;return B(function(){var s=i.get();(!t||o)&&(e.inUntracked++,r(s,n),e.inUntracked--),t=!1,n=s})},t.prototype.toString=function(){return this.name+"@"+this.id+"["+this.derivation.toString()+"]"},t}(),ue=function(){function e(){this.version=1,this.derivationStack=[],this.mobxGuid=0,this.inTransaction=0,this.inUntracked=0,this.isRunningReactions=!1,this.changedAtoms=[],this.pendingReactions=[],this.allowStateChanges=!0,this.resetId=0}return e}(),e=function(){var e=new ue;if(global.__mobservableTrackingStack||global.__mobservableViewStack)throw new Error("[mobx] An incompatible version of mobservable is already loaded.");if(global.__mobxGlobal&&global.__mobxGlobal.version!==e.version)throw new Error("[mobx] An incompatible version of mobx is already loaded.");return global.__mobxGlobal?global.__mobxGlobal:global.__mobxGlobal=e}();exports.untracked=et;var O=function(){function t(e,t){void 0===e&&(e="Reaction"),this.name=e,this.onInvalidate=t,this.id=l(),this.staleObservers=C,this.observers=C,this.observing=[],this.dependencyChangeCount=0,this.dependencyStaleCount=0,this.isDisposed=!1,this._isScheduled=!1}return t.prototype.onBecomeObserved=function(){},t.prototype.onBecomeUnobserved=function(){},t.prototype.onDependenciesReady=function(){return this.schedule(),!1},t.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,e.pendingReactions.push(this),H())},t.prototype.isScheduled=function(){return this.dependencyStaleCount>0||this._isScheduled},t.prototype.runReaction=function(){this.isDisposed||(this._isScheduled=!1,this.onInvalidate(),a(this,"READY",!0))},t.prototype.track=function(e){de(this,e)},t.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var t=this.observing.splice(0),e=0,n=t.length;n>e;e++)G(t[e],this)}},t.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e.$mobx=this,e},t.prototype.toString=function(){return"Reaction["+this.name+"]"},t}();exports.Reaction=O;var Se=100;exports.transaction=d;var t;!function(e){e[e.Recursive=0]="Recursive",e[e.Reference=1]="Reference",e[e.Structure=2]="Structure",e[e.Flat=3]="Flat"}(t||(t={})),exports.asReference=$,exports.asStructure=z,exports.asFlat=X;var D=function(){function e(e){this.value=e,o(e,"Modifiers are not allowed to be nested")}return e}(),R=function(){function e(e){this.value=e,o(e,"Modifiers are not allowed to be nested")}return e}(),L=function(){function e(e){this.value=e,o(e,"Modifiers are not allowed to be nested")}return e}(),V=0,ne=function(){function e(){}return e}();ne.prototype=[];var i=function(t){function e(n,r,o){t.call(this);var e=this.$mobx={atom:new w(o||"ObservableArray"),values:void 0,changeEvent:void 0,lastKnownLength:0,mode:r,array:this,makeChildReactive:function(t){return Ge.call(e,t)}};Object.defineProperty(this,"$mobx",{enumerable:!1,configurable:!1,writable:!1}),n&&n.length?(re(e,0,n.length),e.values=n.map(e.makeChildReactive)):e.values=[]}return P(e,t),e.prototype.observe=function(t,e){return void 0===e&&(e=!1),void 0===this.$mobx.changeEvent&&(this.$mobx.changeEvent=new f),e&&t({object:this,type:"splice",index:0,addedCount:this.$mobx.values.length,removed:[]}),this.$mobx.changeEvent.on(t)},e.prototype.clear=function(){return this.splice(0)},e.prototype.replace=function(e){return s(this.$mobx,0,this.$mobx.values.length,e)},e.prototype.toJSON=function(){return this.$mobx.atom.reportObserved(),this.$mobx.values.slice()},e.prototype.peek=function(){return this.$mobx.values},e.prototype.find=function(r,o,t){void 0===t&&(t=0),this.$mobx.atom.reportObserved();for(var n=this.$mobx.values,i=n.length,e=t;i>e;e++)if(r.call(o,n[e],e,this))return n[e];return null},e.prototype.splice=function(t,n){for(var r=[],e=2;e<arguments.length;e++)r[e-2]=arguments[e];switch(arguments.length){case 0:return[];case 1:return s(this.$mobx,t);case 2:return s(this.$mobx,t,n)}return s(this.$mobx,t,n,r)},e.prototype.push=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return s(this.$mobx,this.$mobx.values.length,0,t),this.$mobx.values.length},e.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},e.prototype.shift=function(){return this.splice(0,1)[0]},e.prototype.unshift=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return s(this.$mobx,0,0,t),this.$mobx.values.length},e.prototype.reverse=function(){this.$mobx.atom.reportObserved();var e=this.slice();return e.reverse.apply(e,arguments)},e.prototype.sort=function(t){this.$mobx.atom.reportObserved();var e=this.slice();return e.sort.apply(e,arguments)},e.prototype.remove=function(t){var e=this.$mobx.values.indexOf(t);return e>-1?(this.splice(e,1),!0):!1},e.prototype.toString=function(){return"[mobx.array] "+Array.prototype.toString.apply(this.$mobx.values,arguments)},e.prototype.toLocaleString=function(){return"[mobx.array] "+Array.prototype.toLocaleString.apply(this.$mobx.values,arguments)},e}(ne);Re(i.prototype,["constructor","observe","clear","replace","toJSON","peek","find","splice","push","pop","shift","unshift","reverse","sort","remove","toString","toLocaleString"]),Object.defineProperty(i.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return Ye(this.$mobx)},set:function(e){Ne(this.$mobx,e)}}),["concat","every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some"].forEach(function(e){var t=Array.prototype[e];Object.defineProperty(i.prototype,e,{configurable:!1,writable:!0,enumerable:!1,value:function(){return this.$mobx.atom.reportObserved(),t.apply(this.$mobx.values,arguments)}})}),ce(1e3),exports.fastArray=Ie,exports.isObservableArray=A;var Je={},h=function(){function e(e,n){var r=this;this.$mobx=Je,this._data={},this._hasMap={},this._events=void 0,this.name="ObservableMap",this.id=l(),this._keys=new i(null,t.Reference,this.name+"@"+this.id+" / keys()"),this._valueMode=Ze(n),c(e)?this.merge(e):Array.isArray(e)&&e.forEach(function(e){var t=e[0],n=e[1];return r.set(t,n)})}return e.prototype._has=function(e){return"undefined"!=typeof this._data[e]},e.prototype.has=function(e){return this.isValidKey(e)?this._hasMap[e]?this._hasMap[e].get():this._updateHasMapEntry(e,!1).get():!1},e.prototype.set=function(e,n){var t=this;if(this.assertValidKey(e),o(n,"[mobx.map.set] Expected unwrapped value to be inserted to key '"+e+"'. If you need to use modifiers pass them as second argument to the constructor"),this._has(e)){var r=this._data[e].value,i=this._data[e].set(n);i&&this._events&&this._events.emit({type:"update",object:this,name:e,oldValue:r})}else d(function(){t._data[e]=new v(n,t._valueMode,t.name+"@"+t.id+' / Entry "'+e+'"'),t._updateHasMapEntry(e,!0),t._keys.push(e)}),this._events&&this._events.emit({type:"add",object:this,name:e})},e.prototype.delete=function(e){var t=this;if(this._has(e)){var n=this._data[e].value;d(function(){t._keys.remove(e),t._updateHasMapEntry(e,!1);var n=t._data[e];n.set(void 0),t._data[e]=void 0}),this._events&&this._events.emit({type:"delete",object:this,name:e,oldValue:n})}},e.prototype._updateHasMapEntry=function(n,r){var e=this._hasMap[n];return e?e.set(r):e=this._hasMap[n]=new v(r,t.Reference,this.name+"@"+this.id+' / Contains "'+n+'"'),e},e.prototype.get=function(e){return this.has(e)?this._data[e].get():void 0},e.prototype.keys=function(){return this._keys.slice()},e.prototype.values=function(){return this.keys().map(this.get,this)},e.prototype.entries=function(){var e=this;return this.keys().map(function(t){return[t,e.get(t)]})},e.prototype.forEach=function(e,t){var n=this;this.keys().forEach(function(r){return e.call(t,n.get(r),r)})},e.prototype.merge=function(t){var n=this;return d(function(){t instanceof e?t.keys().forEach(function(e){return n.set(e,t.get(e))}):Object.keys(t).forEach(function(e){return n.set(e,t[e])})}),this},e.prototype.clear=function(){var e=this;d(function(){e.keys().forEach(e.delete,e)})},Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.toJs=function(){var t=this,e={};return this.keys().forEach(function(n){return e[n]=t.get(n)}),e},e.prototype.isValidKey=function(e){return null===e||void 0===e?!1:"string"!=typeof e&&"number"!=typeof e?!1:!0},e.prototype.assertValidKey=function(e){if(!this.isValidKey(e))throw new Error("[mobx.map] Invalid key: '"+e+"'")},e.prototype.toString=function(){var e=this;return"[mobx.map { "+this.keys().map(function(t){return t+": "+e.get(t)}).join(", ")+" }]"},e.prototype.observe=function(e){return this._events||(this._events=new f),this._events.on(e)},e}();exports.ObservableMap=h,exports.map=$e,exports.isObservableMap=M;var T={};exports.isObservableObject=g;var v=function(n){function e(o,i,e){void 0===e&&(e="ObservableValue"),n.call(this,e),this.mode=i,this.hasUnreportedChange=!1,this.events=null,this.value=void 0;var r=E(o,t.Recursive),s=r[0],a=r[1];this.mode===t.Recursive&&(this.mode=s),this.value=_(a,this.mode,this.name)}return P(e,n),e.prototype.set=function(e){o(e,"Modifiers cannot be used on non-initial values."),J();var n=this.value,r=me(this.mode===t.Structure,n,e);return r&&(this.value=_(e,this.mode,this.name),this.reportChanged(),this.events&&this.events.emit(e,n)),r},e.prototype.get=function(){return this.reportObserved(),this.value},e.prototype.observe=function(e,t){return this.events||(this.events=new f),t&&e(this.value,void 0),this.events.on(e)},e.prototype.toString=function(){return this.name+"@"+this.id+"["+this.value+"]"},e}(w),f=function(){function e(){this.listeners=[]}return e.prototype.emit=function(){for(var t=this.listeners.slice(),e=0,n=t.length;n>e;e++)t[e].apply(null,arguments)},e.prototype.on=function(e){var t=this;return this.listeners.push(e),Oe(function(){var n=t.listeners.indexOf(e);-1!==n&&t.listeners.splice(n,1)})},e.prototype.once=function(t){var e=this.on(function(){e(),t.apply(this,arguments)});return e},e}();exports.SimpleEventEmitter=f;var C=[];Object.freeze(C);var W=[],q=function(){};
//# sourceMappingURL=lib/mobx.min.js.map