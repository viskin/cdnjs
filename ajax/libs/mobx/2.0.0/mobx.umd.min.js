!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.mobx=e()}}(function(){return function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return o(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){(function(e){function t(e,t){te(e,"autorun methods cannot have modifiers"),we("function"==typeof e,"autorun expects a function"),we(0===e.length,"autorun expects a function without arguments"),t&&(e=e.bind(t));var n=new Ue(e.name||"Autorun",function(){this.track(e)});return A()||Ve.inTransaction>0?Ve.pendingReactions.push(n):n.runReaction(),n.getDisposer()}function r(e,n,r){var o=!1,i=t(function(){e.call(r)&&(i?i():o=!0,n.call(r))});return o&&i(),i}function o(e,t,n){return Oe("`autorunUntil` is deprecated, please use `when`."),r.apply(null,arguments)}function i(e,t,n){void 0===t&&(t=1),n&&(e=e.bind(n));var r=!1,o=new Ue(e.name||"AutorunAsync",function(){r||(r=!0,setTimeout(function(){r=!1,o.isDisposed||o.track(e)},t))});return o.runReaction(),o.getDisposer()}function a(e,t,n,r){if(arguments.length<3&&"function"==typeof e)return C(e,t);if(1===arguments.length){var o=e;return function(e,t,n){return a.call(null,e,t,n,o)}}we(n&&n.hasOwnProperty("get"),"@computed can only be used on getter functions, like: '@computed get myProps() { return ...; }'"),Ee(e,t);var i={},u=n.get;return we("object"==typeof e,"The @observable decorator can only be used on objects",t),we("function"==typeof u,"@observable expects a getter function if used on a property.",t),we(!n.set,"@observable properties cannot have a setter.",t),we(0===u.length,"@observable getter functions should not take arguments.",t),i.configurable=!0,i.enumerable=!1,i.get=function(){return me(be(this,void 0,Be.Recursive),t,r&&r.asStructure===!0?Q(u):u),this[t]},i.set=s,n?i:void Object.defineProperty(e,t,i)}function s(){throw new Error("[ComputedValue] It is not allowed to assign new values to computed properties.")}function u(e,t){we("function"==typeof e&&1===e.length,"createTransformer expects a function that accepts one argument");var n={},r=function(r){function o(t,n){r.call(this,function(){return e(n)},null,!1,"Transformer-"+e.name+"-"+t),this.sourceIdentifier=t,this.sourceObject=n}return De(o,r),o.prototype.onBecomeUnobserved=function(){var e=this.value;r.prototype.onBecomeUnobserved.call(this),delete n[this.sourceIdentifier],t&&t(e,this.sourceObject)},o}(Te);return function(e){var t=c(e),o=n[t];return o?o.get():(o=n[t]=new r(t,e),o.get())}}function c(e){if(null===e||"object"!=typeof e)throw new Error("[mobx] transform expected some kind of object, got: "+e);var t=e.$transformId;return void 0===t?e.$transformId=V():t}function l(e,t){return A()||console.warn("[mobx.expr] 'expr' should only be used inside other reactive functions."),C(e,t).get()}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return we(arguments.length>=2,"extendObservable expected 2 or more arguments"),we("object"==typeof e,"extendObservable expects an object as first argument"),we(!(e instanceof Ye),"extendObservable should not be used on maps, use map.merge instead"),t.forEach(function(t){we("object"==typeof t,"all arguments of extendObservable should be objects"),h(e,t,Be.Recursive,null)}),e}function h(e,t,n,r){var o=be(e,r,n);for(var i in t)if(t.hasOwnProperty(i)){if(e===t&&!ke(e,i))continue;me(o,i,t[i])}return e}function p(e,t){var n=Ve.allowStateChanges;Ve.allowStateChanges=e;var r=t();return Ve.allowStateChanges=n,r}function v(e,t,n){void 0===n&&(n=!1),Pe&&Pe.emit({id:e.id,name:e.name+"@"+e.id,node:e,state:t,changed:n})}function d(e){return b(e)}function b(e){var t={id:e.id,name:e.name+"@"+e.id};return e.observing&&e.observing.length&&(t.dependencies=Se(e.observing).map(b)),t}function m(e){return y(e)}function y(e){var t={id:e.id,name:e.name+"@"+e.id};return e.observers&&e.observers.length&&(t.observers=Se(e.observers).map(y)),t}function g(e){var t=[],n=!1;return function(r){(e||r.changed)&&t.push(r),n||(n=!0,setTimeout(function(){console[console.table?"table":"dir"](t),t=[],n=!1},1))}}function x(e,t){void 0===e&&(e=!1),Pe||(Pe=new Xe);var n=t?function(n){(e||n.changed)&&t(n)}:g(e),r=Pe.on(n);return Ce(function(){r(),0===Pe.listeners.length&&(Pe=null)})}function w(e,t){if(null===e||void 0===e)return!1;if(void 0!==t){if(e instanceof Ye||e instanceof He)throw new Error("[mobx.isObservable] isObservable(object, propertyName) is not supported for arrays and maps. Use map.has or array.length instead.");if(xe(e)){var n=e.$mobx;return n.values&&!!n.values[t]}return!1}return!!e.$mobx||e instanceof Fe||e instanceof Ue||e instanceof Te}function O(e,t,n){if(we(arguments.length>=2&&arguments.length<=3,"Illegal decorator config",t),Ee(e,t),n&&n.hasOwnProperty("get"))return Oe("Using @observable on computed values is deprecated. Use @computed instead."),a.apply(null,arguments);var r={},o=void 0;return n&&(n.hasOwnProperty("value")?o=n.value:n.initializer&&(o=n.initializer(),"function"==typeof o&&(o=Y(o)))),we("object"==typeof e,"The @observable decorator can only be used on objects",t),r.configurable=!0,r.enumerable=!0,r.get=function(){var e=this;return p(!0,function(){me(be(e,void 0,Be.Recursive),t,o)}),this[t]},r.set=function(e){me(be(this,void 0,Be.Recursive),t,"function"==typeof e?Y(e):e)},n?r:void Object.defineProperty(e,t,r)}function C(e,t){if("string"==typeof arguments[1])return O.apply(null,arguments);if(we(1===arguments.length||2===arguments.length,"observable expects one or two arguments"),w(e))return e;var n=X(e,Be.Recursive),r=n[0],o=n[1],i=r===Be.Reference?Me.Reference:j(o);switch(i){case Me.Array:case Me.PlainObject:return ee(o,r);case Me.Reference:case Me.ComplexObject:return S(),new We(o,r);case Me.ComplexFunction:throw S(),new Error("[mobx.observable] To be able to make a function reactive it should not have arguments. If you need an observable reference to a function, use `observable(asReference(f))`");case Me.ViewFunction:return S(),new Te(o,t,r===Be.Structure,o.name||"ComputedValue")}we(!1,"Illegal State")}function S(){Oe("Invoking observable() on scalar values is deprecated. Use extendObservable or @observable instead.")}function j(e){return null===e||void 0===e?Me.Reference:"function"==typeof e?e.length?Me.ComplexFunction:Me.ViewFunction:Array.isArray(e)||e instanceof He?Me.Array:"object"==typeof e?je(e)?Me.PlainObject:Me.ComplexObject:Me.Reference}function R(e,t,n,r){return"function"==typeof n?k(e,t,n,r):_(e,t,n)}function _(e,t,n){return pe(e)?e.observe(t):de(e)?e.observe(t):xe(e)?ge(e,t,n):e instanceof We||e instanceof Te?e.observe(t,n):je(e)?_(C(e),t,n):void we(!1,"first argument of observe should be some observable value or plain object")}function k(e,t,n,r){var o="[mobx.observe] the provided observable map has no key with name: "+t;if(de(e)){if(!e._has(t))throw new Error(o);return R(e._data[t],n)}if(xe(e)){if(!w(e,t))throw new Error(o);return R(e.$mobx.values[t],n,r)}return je(e)?(f(e,{property:e[t]}),k(e,t,n,r)):void we(!1,"first argument of observe should be an (observable)object or observableMap if a property name is given")}function E(e,t,n){function r(r){return t&&n.push([e,r]),r}if(void 0===t&&(t=!0),void 0===n&&(n=null),t&&null===n&&(n=[]),t&&null!==e&&"object"==typeof e)for(var o=0,i=n.length;i>o;o++)if(n[o][0]===e)return n[o][1];if(!e)return e;if(Array.isArray(e)||e instanceof He){var a=r([]);return a.push.apply(a,e.map(function(e){return E(e,t,n)})),a}if(e instanceof Ye){var a=r({});return e.forEach(function(e,r){return a[r]=E(e,t,n)}),a}if("object"==typeof e&&je(e)){var a=r({});for(var s in e)e.hasOwnProperty(s)&&(a[s]=E(e[s],t,n));return a}return w(e)&&e.$mobx instanceof We?E(e(),t,n):e}function $(e){we(e.isDirty,"atom not dirty"),e.isDirty=!1,v(e,"READY",!0),N(e,!0)}function A(){return Ve.derivationStack.length>0}function D(){we(Ve.allowStateChanges,"It is not allowed to change the state when a computed value is being evaluated. Use 'autorun' to create reactive functions with side-effects. Or use 'extras.allowStateChanges(true, block)' to supress this message.")}function P(e){1===++e.dependencyStaleCount&&(v(e,"STALE"),K(e))}function M(e,t){if(we(e.dependencyStaleCount>0,"unexpected ready notification"),t&&(e.dependencyChangeCount+=1),0===--e.dependencyStaleCount)if(e.dependencyChangeCount>0){e.dependencyChangeCount=0,v(e,"PENDING");var n=e.onDependenciesReady();N(e,n)}else v(e,"READY",!1),N(e,!1)}function F(e,t){var n=e.observing;e.observing=[],Ve.derivationStack.push(e);var r=t();return T(e,n),r}function T(e,t){Ve.derivationStack.length-=1;for(var n=Ae(e.observing,t),r=n[0],o=n[1],i=0,a=r.length;a>i;i++){var s=r[i];we(!I(e,s),"Cycle detected",e),B(r[i],e)}for(var i=0,a=o.length;a>i;i++)G(o[i],e)}function I(e,t){var n=t.observing;if(void 0===n)return!1;if(-1!==n.indexOf(t))return!0;for(var r=n.length,o=0;r>o;o++)if(I(e,n[o]))return!0;return!1}function V(){return++Ve.mobxGuid}function U(){}function L(){var e=new Ie;for(var t in e)Ve[t]=e[t]}function B(e,t){var n=e.observers,r=n.length;n[r]=t,0===r&&e.onBecomeObserved()}function G(e,t){var n=e.observers,r=n.indexOf(t);-1!==r&&n.splice(r,1),0===n.length&&e.onBecomeUnobserved()}function z(e){if(!(Ve.inUntracked>0)){var t=Ve.derivationStack,n=t.length;if(n>0){var r=t[n-1].observing,o=r.length;r[o-1]!==e&&r[o-2]!==e&&(r[o]=e)}}}function K(e){var t=e.observers.slice();t.forEach(P),e.staleObservers=e.staleObservers.concat(t)}function N(e,t){e.staleObservers.splice(0).forEach(function(e){return M(e,t)})}function q(e){Oe("This feature is experimental and might be removed in a future minor release. Please report if you use this feature in production: https://github.com/mobxjs/mobx/issues/49"),Ve.inUntracked++;var t=e();return Ve.inUntracked--,t}function H(){if(!Ve.isRunningReactions){Ve.isRunningReactions=!0;for(var e=Ve.pendingReactions,t=0;e.length;){if(++t===Le)throw new Error("Reaction doesn't converge to a stable state. Probably there is a cycle in the reactive function: "+e[0].toString());for(var n=e.splice(0),r=0,o=n.length;o>r;r++)n[r].runReaction()}Ve.isRunningReactions=!1}}function J(e,t){Ve.inTransaction+=1;var n=e.call(t);if(0===--Ve.inTransaction){for(var r=Ve.changedAtoms.splice(0),o=0,i=r.length;i>o;o++)$(r[o]);H()}return n}function Y(e){return new Ge(e)}function Q(e){return new ze(e)}function W(e){return new Ke(e)}function X(e,t){return e instanceof Ge?[Be.Reference,e.value]:e instanceof ze?[Be.Structure,e.value]:e instanceof Ke?[Be.Flat,e.value]:[t,e]}function Z(e){return e===Y?Be.Reference:e===Q?Be.Structure:e===W?Be.Flat:(we(void 0===e,"Cannot determine value mode from function. Please pass in one of these: mobx.asReference, mobx.asStructure or mobx.asFlat, got: "+e),Be.Recursive)}function ee(e,t,n){var r;if(w(e))return e;switch(t){case Be.Reference:return e;case Be.Flat:te(e,"Items inside 'asFlat' canont have modifiers"),r=Be.Reference;break;case Be.Structure:te(e,"Items inside 'asStructure' canont have modifiers"),r=Be.Structure;break;case Be.Recursive:o=X(e,Be.Recursive),r=o[0],e=o[1];break;default:we(!1,"Illegal State")}return Array.isArray(e)&&Object.isExtensible(e)?fe(e,r,n):je(e)&&Object.isExtensible(e)?h(e,e,r,n):e;var o}function te(e,t){if(e instanceof Ge||e instanceof ze||e instanceof Ke)throw new Error("[mobx] asStructure / asReference / asFlat cannot be used here. "+t)}function ne(e){return e.atom.reportObserved(),e.values.length}function re(e,t){if("number"!=typeof t||0>t)throw new Error("[mobx.array] Out of range: "+t);var n=e.values.length;t!==n&&(t>n?ie(e,n,0,new Array(t-n)):ie(e,t,n-t))}function oe(e,t,n){if(t!==e.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");D(),e.lastKnownLength+=n,n>0&&t+n>Ne&&le(t+n)}function ie(e,t,n,r){var o=e.values.length;if(!(void 0!==r&&0!==r.length||0!==n&&0!==o))return[];void 0===t?t=0:t>o?t=o:0>t&&(t=Math.max(0,o+t)),n=2===arguments.length?o-t:void 0===n||null===n?0:Math.max(0,Math.min(n,o-t)),r=void 0===r?Ze:r.map(e.makeChildReactive);var i=r.length-n;oe(e,o,i);var a=(s=e.values).splice.apply(s,[t,n].concat(r));return ue(e,t,a,r),a;var s}function ae(e){return te(e,"Array values cannot have modifiers"),this.mode===Be.Flat||this.mode===Be.Reference?e:ee(e,this.mode,this.atom.name+"@"+this.atom.id+" / ArrayEntry")}function se(e,t,n){e.atom.reportChanged(),e.changeEvent&&e.changeEvent.emit({object:e.array,type:"update",index:t,oldValue:n})}function ue(e,t,n,r){0===n.length&&0===r.length||(e.atom.reportChanged(),e.changeEvent&&e.changeEvent.emit({object:e.array,type:"splice",index:t,addedCount:r.length,removed:n}))}function ce(e){Object.defineProperty(He.prototype,""+e,{enumerable:!1,configurable:!1,set:function(t){var n=this.$mobx,r=n.values;if(te(t,"Modifiers cannot be used on array values. For non-reactive array values use makeReactive(asFlat(array))."),e<r.length){D();var o=r[e],i=n.mode===Be.Structure?!$e(o,t):o!==t;i&&(r[e]=n.makeChildReactive(t),se(n,e,o))}else{if(e!==r.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+r.length);ie(n,e,0,[t])}},get:function(){var t=this.$mobx;return t&&e<t.values.length?(t.atom.reportObserved(),t.values[e]):void 0}})}function le(e){for(var t=Ne;e>t;t++)ce(t);Ne=e}function fe(e,t,n){return new He(e,t,n)}function he(e){return Oe("fastArray is deprecated. Please use `observable(asFlat([]))`"),fe(e,Be.Flat,null)}function pe(e){return e instanceof He}function ve(e,t){return new Ye(e,t)}function de(e){return e instanceof Ye}function be(e,t,n){if(void 0===t&&(t="ObservableObject"),void 0===n&&(n=Be.Recursive),e.$mobx){if(e.$mobx.type!==Qe)throw new Error("The given object is observable but not an observable object");return e.$mobx}var r={type:Qe,values:{},events:void 0,id:V(),target:e,name:t,mode:n};return Object.defineProperty(e,"$mobx",{enumerable:!1,configurable:!1,writable:!1,value:r}),r}function me(e,t,n){e.values[t]?e.target[t]=n:ye(e,t,n)}function ye(e,t,n){Ee(e.target,t);var r,o=e.name+"@"+e.id+' / Prop "'+t+'"';r="function"==typeof n&&0===n.length?new Te(n,e.target,!1,o):n instanceof ze&&"function"==typeof n.value&&0===n.value.length?new Te(n.value,e.target,!0,o):new We(n,e.mode,o),e.values[t]=r,Object.defineProperty(e.target,t,{configurable:!0,enumerable:r instanceof We,get:function(){return r.get()},set:function(n){var o=r.get();r.set(n)&&void 0!==e.events&&e.events.emit({type:"update",object:this,name:t,oldValue:o})}}),void 0!==e.events&&e.events.emit({type:"add",object:e.target,name:t})}function ge(e,t,n){we(xe(e),"Expected observable object"),we(n!==!0,"`observe` doesn't support the fire immediately property for observable objects.");var r=e.$mobx;return void 0===r.events&&(r.events=new Xe),e.$mobx.events.on(t)}function xe(e){return e&&e.$mobx&&e.$mobx.type===Qe}function we(e,t,n){if(!e)throw new Error("[mobx] Invariant failed: "+t+(n?" in '"+n+"'":""))}function Oe(e){-1===et.indexOf(e)&&(et.push(e),console.error("[mobx] Deprecated: "+e))}function Ce(e){var t=!1;return function(){return t?void 0:(t=!0,e.apply(this,arguments))}}function Se(e){var t=[];return e.forEach(function(e){-1===t.indexOf(e)&&t.push(e)}),t}function je(e){return null!==e&&"object"==typeof e&&Object.getPrototypeOf(e)===Object.prototype}function Re(e,t,n){return e?!$e(t,n):t!==n}function _e(e,t){for(var n=0;n<t.length;n++)Object.defineProperty(e,t[n],{configurable:!0,writable:!0,enumerable:!1,value:e[t[n]]})}function ke(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!n||n.configurable!==!1&&n.writable!==!1}function Ee(e,t){we(ke(e,t),"Cannot make property '"+t+"' observable, it is not configurable and writable in the target object")}function $e(e,t){if(null===e&&null===t)return!0;if(void 0===e&&void 0===t)return!0;var n=Array.isArray(e)||pe(e);if(n!==(Array.isArray(t)||pe(t)))return!1;if(n){if(e.length!==t.length)return!1;for(var r=e.length;r>=0;r--)if(!$e(e[r],t[r]))return!1;return!0}if("object"==typeof e&&"object"==typeof t){if(null===e||null===t)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var o in e){if(!t.hasOwnProperty(o))return!1;if(!$e(e[o],t[o]))return!1}return!0}return e===t}function Ae(e,t){if(!t||!t.length)return[e,[]];if(!e||!e.length)return[[],t];for(var n=[],r=[],o=0,i=0,a=e.length,s=!1,u=0,c=0,l=t.length,f=!1,h=!1;!h&&!s;){if(!f){if(a>o&&l>u&&e[o]===t[u]){if(o++,u++,o===a&&u===l)return[n,r];continue}i=o,c=u,f=!0}c+=1,i+=1,c>=l&&(h=!0),i>=a&&(s=!0),s||e[i]!==t[u]?h||t[c]!==e[o]||(r.push.apply(r,t.slice(u,c)),u=c+1,o++,f=!1):(n.push.apply(n,e.slice(o,i)),o=i+1,u++,f=!1)}return n.push.apply(n,e.slice(o)),r.push.apply(r,t.slice(u)),[n,r]}var De=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};U(),n._={quickDiff:Ae,resetGlobalState:L},n.extras={getDependencyTree:d,getObserverTree:m,trackTransitions:x,isComputingDerivation:A,allowStateChanges:p},n.autorun=t,n.when=r,n.autorunUntil=o,n.autorunAsync=i,n.computed=a,n.createTransformer=u,n.expr=l,n.extendObservable=f;var Pe=null;n.isObservable=w,n.observable=C;var Me;!function(e){e[e.Reference=0]="Reference",e[e.PlainObject=1]="PlainObject",e[e.ComplexObject=2]="ComplexObject",e[e.Array=3]="Array",e[e.ViewFunction=4]="ViewFunction",e[e.ComplexFunction=5]="ComplexFunction"}(Me||(Me={})),n.observe=R,n.toJSON=E;var Fe=function(){function e(e,t,n){void 0===e&&(e="Atom"),void 0===t&&(t=tt),void 0===n&&(n=tt),this.name=e,this.onBecomeObserved=t,this.onBecomeUnobserved=n,this.id=V(),this.isDirty=!1,this.staleObservers=[],this.observers=[]}return e.prototype.reportObserved=function(){z(this)},e.prototype.reportChanged=function(){this.isDirty||(this.reportStale(),this.reportReady())},e.prototype.reportStale=function(){this.isDirty||(this.isDirty=!0,v(this,"STALE"),K(this))},e.prototype.reportReady=function(){we(this.isDirty,"atom not dirty"),Ve.inTransaction>0?Ve.changedAtoms.push(this):($(this),H())},e.prototype.toString=function(){return this.name+"@"+this.id},e}();n.Atom=Fe;var Te=function(){function e(e,t,n,r){var o=this;void 0===r&&(r="ComputedValue"),this.derivation=e,this.scope=t,this.compareStructural=n,this.name=r,this.id=V(),this.isLazy=!0,this.isComputing=!1,this.staleObservers=[],this.observers=[],this.observing=[],this.dependencyChangeCount=0,this.dependencyStaleCount=0,this.value=void 0,this.peek=function(){o.isComputing=!0,Ve.isComputingComputedValue++;var n=Ve.allowStateChanges;Ve.allowStateChanges=!1;var r=e.call(t);return Ve.allowStateChanges=n,Ve.isComputingComputedValue--,o.isComputing=!1,r}}return e.prototype.onBecomeObserved=function(){},e.prototype.onBecomeUnobserved=function(){for(var e=0,t=this.observing.length;t>e;e++)G(this.observing[e],this);this.observing=[],this.isLazy=!0,this.value=void 0},e.prototype.onDependenciesReady=function(){var e=this.trackAndCompute();return v(this,"READY",e),e},e.prototype.get=function(){if(we(!this.isComputing,"Cycle detected",this.derivation),this.dependencyStaleCount>0&&Ve.inTransaction>0)return this.peek();if(this.isLazy){if(!A())return this.peek();this.isLazy=!1,this.trackAndCompute(),z(this)}else z(this);return this.value},e.prototype.set=function(e){throw new Error("[ComputedValue '"+name+"'] It is not possible to assign a new value to a computed value.")},e.prototype.trackAndCompute=function(){var e=this.value;return this.value=F(this,this.peek),Re(this.compareStructural,this.value,e)},e.prototype.observe=function(e,n){var r=this,o=!0,i=void 0;return t(function(){var t=r.get();o&&!n||e(t,i),o=!1,i=t})},e.prototype.toString=function(){return this.name+"@"+this.id+"["+this.derivation.toString()+"]"},e}(),Ie=function(){function e(){this.version=1,this.derivationStack=[],this.mobxGuid=0,this.inTransaction=0,this.inUntracked=0,this.isRunningReactions=!1,this.isComputingComputedValue=0,this.changedAtoms=[],this.pendingReactions=[],this.allowStateChanges=!0}return e}(),Ve=function(){var t=new Ie;if(e.__mobservableTrackingStack||e.__mobservableViewStack)throw new Error("[mobx] An incompatible version of mobservable is already loaded.");if(e.__mobxGlobal&&e.__mobxGlobal.version!==Ve.version)throw new Error("[mobx] An incompatible version of mobx is already loaded.");return e.__mobxGlobal?e.__mobxGlobal:e.__mobxGlobal=t}();n.untracked=q;var Ue=function(){function e(e,t){void 0===e&&(e="Reaction"),this.name=e,this.onInvalidate=t,this.id=V(),this.staleObservers=Ze,this.observers=Ze,this.observing=[],this.dependencyChangeCount=0,this.dependencyStaleCount=0,this.isDisposed=!1,this._isScheduled=!1}return e.prototype.onBecomeObserved=function(){},e.prototype.onBecomeUnobserved=function(){},e.prototype.onDependenciesReady=function(){return this._isScheduled||(this._isScheduled=!0,Ve.pendingReactions.push(this)),!1},e.prototype.isScheduled=function(){return this.dependencyStaleCount>0||this._isScheduled},e.prototype.runReaction=function(){this.isDisposed||(this._isScheduled=!1,this.onInvalidate(),v(this,"READY",!0))},e.prototype.track=function(e){F(this,e)},e.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var e=this.observing.splice(0),t=0,n=e.length;n>t;t++)G(e[t],this)}},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e.$mobx=this,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e}();n.Reaction=Ue;var Le=100;n.transaction=J;var Be;!function(e){e[e.Recursive=0]="Recursive",e[e.Reference=1]="Reference",e[e.Structure=2]="Structure",e[e.Flat=3]="Flat"}(Be||(Be={})),n.asReference=Y,n.asStructure=Q,n.asFlat=W;var Ge=function(){function e(e){this.value=e,te(e,"Modifiers are not allowed to be nested")}return e}(),ze=function(){function e(e){this.value=e,te(e,"Modifiers are not allowed to be nested")}return e}(),Ke=function(){function e(e){this.value=e,te(e,"Modifiers are not allowed to be nested")}return e}(),Ne=0,qe=function(){function e(){}return e}();qe.prototype=[];var He=function(e){function t(t,n,r){e.call(this);var o=this.$mobx={atom:new Fe(r||"ObservableArray"),values:void 0,changeEvent:void 0,lastKnownLength:0,mode:n,array:this,makeChildReactive:function(e){return ae.call(o,e)}};Object.defineProperty(this,"$mobx",{enumerable:!1,configurable:!1,writable:!1}),t&&t.length?(oe(o,0,t.length),o.values=t.map(o.makeChildReactive)):o.values=[]}return De(t,e),t.prototype.observe=function(e,t){return void 0===t&&(t=!1),void 0===this.$mobx.changeEvent&&(this.$mobx.changeEvent=new Xe),t&&e({object:this,type:"splice",index:0,addedCount:this.$mobx.values.length,removed:[]}),this.$mobx.changeEvent.on(e)},t.prototype.clear=function(){return this.splice(0)},t.prototype.replace=function(e){return ie(this.$mobx,0,this.$mobx.values.length,e)},t.prototype.toJSON=function(){return this.$mobx.atom.reportObserved(),this.$mobx.values.slice()},t.prototype.peek=function(){return this.$mobx.values},t.prototype.find=function(e,t,n){void 0===n&&(n=0),this.$mobx.atom.reportObserved();for(var r=this.$mobx.values,o=r.length,i=n;o>i;i++)if(e.call(t,r[i],i,this))return r[i];return null},t.prototype.splice=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];switch(arguments.length){case 0:return[];case 1:return ie(this.$mobx,e);case 2:return ie(this.$mobx,e,t)}return ie(this.$mobx,e,t,n)},t.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return ie(this.$mobx,this.$mobx.values.length,0,e),this.$mobx.values.length},t.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},t.prototype.shift=function(){return this.splice(0,1)[0]},t.prototype.unshift=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return ie(this.$mobx,0,0,e),this.$mobx.values.length},t.prototype.reverse=function(){this.$mobx.atom.reportObserved();var e=this.slice();return e.reverse.apply(e,arguments)},t.prototype.sort=function(e){this.$mobx.atom.reportObserved();var t=this.slice();return t.sort.apply(t,arguments)},t.prototype.remove=function(e){var t=this.$mobx.values.indexOf(e);return t>-1?(this.splice(t,1),!0):!1},t.prototype.toString=function(){return"[mobx.array] "+Array.prototype.toString.apply(this.$mobx.values,arguments)},t.prototype.toLocaleString=function(){return"[mobx.array] "+Array.prototype.toLocaleString.apply(this.$mobx.values,arguments)},t}(qe);_e(He.prototype,["constructor","clear","find","observe","pop","peek","push","remove","replace","reverse","shift","sort","splice","split","toJSON","toLocaleString","toString","unshift"]),Object.defineProperty(He.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return ne(this.$mobx)},set:function(e){re(this.$mobx,e)}}),["concat","every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some"].forEach(function(e){var t=Array.prototype[e];Object.defineProperty(He.prototype,e,{configurable:!1,writable:!0,enumerable:!1,value:function(){return this.$mobx.atom.reportObserved(),t.apply(this.$mobx.values,arguments)}})}),le(1e3),n.fastArray=he,n.isObservableArray=pe;var Je={},Ye=function(){function e(e,t){var n=this;this.$mobx=Je,this._data={},this._hasMap={},this._events=void 0,this.name="ObservableMap",this.id=V(),this._keys=new He(null,Be.Reference,this.name+"@"+this.id+" / keys()"),this._valueMode=Z(t),je(e)?this.merge(e):Array.isArray(e)&&e.forEach(function(e){var t=e[0],r=e[1];return n.set(t,r)})}return e.prototype._has=function(e){return"undefined"!=typeof this._data[e]},e.prototype.has=function(e){return this.isValidKey(e)?this._hasMap[e]?this._hasMap[e].get():this._updateHasMapEntry(e,!1).get():!1},e.prototype.set=function(e,t){var n=this;if(this.assertValidKey(e),te(t,"[mobx.map.set] Expected unwrapped value to be inserted to key '"+e+"'. If you need to use modifiers pass them as second argument to the constructor"),this._has(e)){var r=this._data[e].value,o=this._data[e].set(t);o&&this._events&&this._events.emit({type:"update",object:this,name:e,oldValue:r})}else J(function(){n._data[e]=new We(t,n._valueMode,n.name+"@"+n.id+' / Entry "'+e+'"'),n._updateHasMapEntry(e,!0),n._keys.push(e)}),this._events&&this._events.emit({type:"add",object:this,name:e})},e.prototype["delete"]=function(e){var t=this;if(this._has(e)){var n=this._data[e].value;J(function(){t._keys.remove(e),t._updateHasMapEntry(e,!1);var n=t._data[e];n.set(void 0),t._data[e]=void 0}),this._events&&this._events.emit({type:"delete",object:this,name:e,oldValue:n})}},e.prototype._updateHasMapEntry=function(e,t){var n=this._hasMap[e];return n?n.set(t):n=this._hasMap[e]=new We(t,Be.Reference,this.name+"@"+this.id+' / Contains "'+e+'"'),n},e.prototype.get=function(e){return this.has(e)?this._data[e].get():void 0},e.prototype.keys=function(){return this._keys.slice()},e.prototype.values=function(){return this.keys().map(this.get,this)},e.prototype.entries=function(){var e=this;return this.keys().map(function(t){return[t,e.get(t)]})},e.prototype.forEach=function(e,t){var n=this;this.keys().forEach(function(r){return e.call(t,n.get(r),r)})},e.prototype.merge=function(t){var n=this;return J(function(){t instanceof e?t.keys().forEach(function(e){return n.set(e,t.get(e))}):Object.keys(t).forEach(function(e){return n.set(e,t[e])})}),this},e.prototype.clear=function(){var e=this;J(function(){e.keys().forEach(e["delete"],e)})},Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.toJs=function(){var e=this,t={};return this.keys().forEach(function(n){return t[n]=e.get(n)}),t},e.prototype.isValidKey=function(e){return null===e||void 0===e?!1:"string"==typeof e||"number"==typeof e},e.prototype.assertValidKey=function(e){if(!this.isValidKey(e))throw new Error("[mobx.map] Invalid key: '"+e+"'")},e.prototype.toString=function(){var e=this;return"[mobx.map { "+this.keys().map(function(t){return t+": "+e.get(t)}).join(", ")+" }]"},e.prototype.observe=function(e){return this._events||(this._events=new Xe),this._events.on(e)},e}();n.ObservableMap=Ye,n.map=ve,n.isObservableMap=de;var Qe={};n.isObservableObject=xe;var We=function(e){function t(t,n,r){void 0===r&&(r="ObservableValue"),e.call(this,r),this.mode=n,this.hasUnreportedChange=!1,this.events=null,this.value=void 0;var o=X(t,Be.Recursive),i=o[0],a=o[1];this.mode===Be.Recursive&&(this.mode=i),this.value=ee(a,this.mode,this.name)}return De(t,e),t.prototype.set=function(e){te(e,"Modifiers cannot be used on non-initial values."),D();var t=this.value,n=Re(this.mode===Be.Structure,t,e);return n&&(this.value=ee(e,this.mode,this.name),this.reportChanged(),this.events&&this.events.emit(e,t)),n},t.prototype.get=function(){return this.reportObserved(),this.value},t.prototype.observe=function(e,t){return this.events||(this.events=new Xe),t&&e(this.value,void 0),this.events.on(e)},t.prototype.toString=function(){return this.name+"@"+this.id+"["+this.value+"]"},t}(Fe),Xe=function(){function e(){this.listeners=[]}return e.prototype.emit=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];for(var n=this.listeners.slice(),r=0,o=n.length;o>r;r++)n[r].apply(null,arguments)},e.prototype.on=function(e){var t=this;return this.listeners.push(e),Ce(function(){var n=t.listeners.indexOf(e);-1!==n&&t.listeners.splice(n,1)})},e.prototype.once=function(e){var t=this.on(function(){t(),e.apply(this,arguments)});return t},e}();n.SimpleEventEmitter=Xe;var Ze=[];Object.freeze(Ze);var et=[],tt=function(){}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)});
//# sourceMappingURL=./mobx.umd.min.js.map