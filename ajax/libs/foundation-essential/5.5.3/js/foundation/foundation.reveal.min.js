(function(e,d,a,f){var b=[];Foundation.libs.reveal={name:"reveal",version:"5.5.3",locked:false,settings:{animation:"fadeAndPop",animation_speed:250,close_on_background_click:true,close_on_esc:true,dismiss_modal_class:"close-reveal-modal",multiple_opened:false,bg_class:"reveal-modal-bg",root_element:"body",open:function(){},opened:function(){},close:function(){},closed:function(){},on_ajax_error:e.noop,bg:e(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(h,i,g){e.extend(true,this.settings,i,g);this.bindings(i,g)},events:function(i){var g=this,h=g.S;h(this.scope).off(".reveal").on("click.fndtn.reveal","["+this.add_namespace("data-reveal-id")+"]:not([disabled])",function(m){m.preventDefault();if(!g.locked){var k=h(this),l=k.data(g.data_attr("reveal-ajax")),n=k.data(g.data_attr("reveal-replace-content"));g.locked=true;if(typeof l==="undefined"){g.open.call(g,k)}else{var j=l===true?k.attr("href"):l;g.open.call(g,k,{url:j},{replaceContentSel:n})}}});h(a).on("click.fndtn.reveal",this.close_targets(),function(k){k.preventDefault();if(!g.locked){var j=h("["+g.attr_name()+"].open").data(g.attr_name(true)+"-init")||g.settings,l=h(k.target)[0]===h("."+j.bg_class)[0];if(l){if(j.close_on_background_click){k.stopPropagation()}else{return}}g.locked=true;g.close.call(g,l?h("["+g.attr_name()+"].open:not(.toback)"):h(this).closest("["+g.attr_name()+"]"))}});if(h("["+g.attr_name()+"]",this.scope).length>0){h(this.scope).on("open.fndtn.reveal",this.settings.open).on("opened.fndtn.reveal",this.settings.opened).on("opened.fndtn.reveal",this.open_video).on("close.fndtn.reveal",this.settings.close).on("closed.fndtn.reveal",this.settings.closed).on("closed.fndtn.reveal",this.close_video)}else{h(this.scope).on("open.fndtn.reveal","["+g.attr_name()+"]",this.settings.open).on("opened.fndtn.reveal","["+g.attr_name()+"]",this.settings.opened).on("opened.fndtn.reveal","["+g.attr_name()+"]",this.open_video).on("close.fndtn.reveal","["+g.attr_name()+"]",this.settings.close).on("closed.fndtn.reveal","["+g.attr_name()+"]",this.settings.closed).on("closed.fndtn.reveal","["+g.attr_name()+"]",this.close_video)}return true},key_up_on:function(h){var g=this;g.S("body").off("keyup.fndtn.reveal").on("keyup.fndtn.reveal",function(k){var i=g.S("["+g.attr_name()+"].open"),j=i.data(g.attr_name(true)+"-init")||g.settings;if(j&&k.which===27&&j.close_on_esc&&!g.locked){g.close.call(g,i)}});return true},key_up_off:function(g){this.S("body").off("keyup.fndtn.reveal");return true},open:function(l,m){var h=this,k;if(l){if(typeof l.selector!=="undefined"){k=h.S("#"+l.data(h.data_attr("reveal-id"))).first()}else{k=h.S(this.scope);m=l}}else{k=h.S(this.scope)}var j=k.data(h.attr_name(true)+"-init");j=j||this.settings;if(k.hasClass("open")&&l!==f&&l.attr("data-reveal-id")==k.attr("id")){return h.close(k)}if(!k.hasClass("open")){var g=h.S("["+h.attr_name()+"].open");if(typeof k.data("css-top")==="undefined"){k.data("css-top",parseInt(k.css("top"),10)).data("offset",this.cache_offset(k))}k.attr("tabindex","0").attr("aria-hidden","false");this.key_up_on(k);k.on("open.fndtn.reveal",function(o){if(o.namespace!=="fndtn.reveal"){return}});k.on("open.fndtn.reveal").trigger("open.fndtn.reveal");if(g.length<1){this.toggle_bg(k,true)}if(typeof m==="string"){m={url:m}}var i=function(){if(g.length>0){if(j.multiple_opened){h.to_back(g)}else{h.hide(g,j.css.close)}}if(j.multiple_opened){b.push(k)}h.show(k,j.css.open)};if(typeof m==="undefined"||!m.url){i()}else{var n=typeof m.success!=="undefined"?m.success:null;e.extend(m,{success:function(q,r,p){if(e.isFunction(n)){var o=n(q,r,p);if(typeof o=="string"){q=o}}if(typeof options!=="undefined"&&typeof options.replaceContentSel!=="undefined"){k.find(options.replaceContentSel).html(q)}else{k.html(q)}h.S(k).foundation("section","reflow");h.S(k).children().foundation();i()}});if(j.on_ajax_error!==e.noop){e.extend(m,{error:j.on_ajax_error})}e.ajax(m)}}h.S(d).trigger("resize")},close:function(k){var k=k&&k.length?k:this.S(this.scope),j=this.S("["+this.attr_name()+"].open"),i=k.data(this.attr_name(true)+"-init")||this.settings,h=this;if(j.length>0){k.removeAttr("tabindex","0").attr("aria-hidden","true");this.locked=true;this.key_up_off(k);k.trigger("close.fndtn.reveal");if((i.multiple_opened&&j.length===1)||!i.multiple_opened||k.length>1){h.toggle_bg(k,false);h.to_front(k)}if(i.multiple_opened){var g=k.is(":not(.toback)");h.hide(k,i.css.close,i);if(g){b.pop()}else{b=e.grep(b,function(m){var l=m[0]===k[0];if(l){h.to_front(k)}return !l})}if(b.length>0){h.to_front(b[b.length-1])}}else{h.hide(j,i.css.close,i)}}},close_targets:function(){var g="."+this.settings.dismiss_modal_class;if(this.settings.close_on_background_click){return g+", ."+this.settings.bg_class}return g},toggle_bg:function(g,h){if(this.S("."+this.settings.bg_class).length===0){this.settings.bg=e("<div />",{"class":this.settings.bg_class}).appendTo("body").hide()}var i=this.settings.bg.filter(":visible").length>0;if(h!=i){if(h==f?i:!h){this.hide(this.settings.bg)}else{this.show(this.settings.bg)}}},show:function(m,k){if(k){var l=m.data(this.attr_name(true)+"-init")||this.settings,j=l.root_element,i=this;if(m.parent(j).length===0){var n=m.wrap('<div style="display: none;" />').parent();m.on("closed.fndtn.reveal.wrapped",function(){m.detach().appendTo(n);m.unwrap().unbind("closed.fndtn.reveal.wrapped")});m.detach().appendTo(j)}var h=c(l.animation);if(!h.animate){this.locked=false}if(h.pop){k.top=e(d).scrollTop()-m.data("offset")+"px";var g={top:e(d).scrollTop()+m.data("css-top")+"px",opacity:1};return setTimeout(function(){return m.css(k).animate(g,l.animation_speed,"linear",function(){i.locked=false;m.trigger("opened.fndtn.reveal")}).addClass("open")},l.animation_speed/2)}k.top=e(d).scrollTop()+m.data("css-top")+"px";if(h.fade){var g={opacity:1};return setTimeout(function(){return m.css(k).animate(g,l.animation_speed,"linear",function(){i.locked=false;m.trigger("opened.fndtn.reveal")}).addClass("open")},l.animation_speed/2)}return m.css(k).show().css({opacity:1}).addClass("open").trigger("opened.fndtn.reveal")}var l=this.settings;if(c(l.animation).fade){return m.fadeIn(l.animation_speed/2)}this.locked=false;return m.show()},to_back:function(g){g.addClass("toback")},to_front:function(g){g.removeClass("toback")},hide:function(l,j){if(j){var k=l.data(this.attr_name(true)+"-init"),i=this;k=k||this.settings;var h=c(k.animation);if(!h.animate){this.locked=false}if(h.pop){var g={top:-e(d).scrollTop()-l.data("offset")+"px",opacity:0};return setTimeout(function(){return l.animate(g,k.animation_speed,"linear",function(){i.locked=false;l.css(j).trigger("closed.fndtn.reveal")}).removeClass("open")},k.animation_speed/2)}if(h.fade){var g={opacity:0};return setTimeout(function(){return l.animate(g,k.animation_speed,"linear",function(){i.locked=false;l.css(j).trigger("closed.fndtn.reveal")}).removeClass("open")},k.animation_speed/2)}return l.hide().css(j).removeClass("open").trigger("closed.fndtn.reveal")}var k=this.settings;if(c(k.animation).fade){return l.fadeOut(k.animation_speed/2)}return l.hide()},close_video:function(i){var h=e(".flex-video",i.target),g=e("iframe",h);if(g.length>0){g.attr("data-src",g[0].src);g.attr("src",g.attr("src"));h.hide()}},open_video:function(i){var h=e(".flex-video",i.target),g=h.find("iframe");if(g.length>0){var k=g.attr("data-src");if(typeof k==="string"){g[0].src=g.attr("data-src")}else{var j=g[0].src;g[0].src=f;g[0].src=j}h.show()}},data_attr:function(g){if(this.namespace.length>0){return this.namespace+"-"+g}return g},cache_offset:function(g){var h=g.show().height()+parseInt(g.css("top"),10)+g.scrollY;g.hide();return h},off:function(){e(this.scope).off(".fndtn.reveal")},reflow:function(){}};function c(i){var h=/fade/i.test(i);var g=/pop/i.test(i);return{animate:h||g,pop:g,fade:h}}}(jQuery,window,window.document));