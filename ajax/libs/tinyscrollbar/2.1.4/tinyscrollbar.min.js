/*! tinyscrollbar - v2.1.4 - 2014-03-23
 * http://www.baijs.com/tinyscrollbar
 *
 * Copyright (c) 2014 Maarten Baijs <wieringen@gmail.com>;
 * Licensed under the MIT license */

!function(a){"use strict";function b(){for(var a=1;a<arguments.length;a++)for(var b in arguments[a])arguments[a].hasOwnProperty(b)&&(arguments[0][b]=arguments[a][b]);return arguments[0]}function c(c,f){function g(){return n.update(),i(),n}function h(){t.style[y]=n.contentPosition/n.trackRatio+"px",q.style[y]=-n.contentPosition+"px",r.style[x]=n.trackSize+"px",s.style[x]=n.trackSize+"px",t.style[x]=n.thumbSize+"px"}function i(){w?p.ontouchstart=function(a){1===a.touches.length&&(j(a.touches[0]),a.stopPropagation())}:(t.onmousedown=j,s.onmousedown=l),a.addEventListener("resize",function(){n.update("relative")},!0),n.options.wheel&&a.addEventListener?(c.addEventListener("DOMMouseScroll",k,!1),c.addEventListener("mousewheel",k,!1)):n.options.wheel&&(c.onmousewheel=k)}function j(a){o.className+=" noSelect",u=v?a.pageX:a.pageY,n.thumbPosition=parseInt(t.style[y],10)||0,w?(document.ontouchmove=function(a){a.preventDefault(),l(a.touches[0])},document.ontouchend=m):(document.onmousemove=l,document.onmouseup=t.onmouseup=m)}function k(b){if(n.contentRatio<1){var d=b||a.event,e=d.wheelDelta?d.wheelDelta/120:-d.detail/3;n.contentPosition-=e*n.options.wheelSpeed,n.contentPosition=Math.min(n.contentSize-n.viewportSize,Math.max(0,n.contentPosition)),c.dispatchEvent(z),t.style[y]=n.contentPosition/n.trackRatio+"px",q.style[y]=-n.contentPosition+"px",(n.options.wheelLock||n.contentPosition!==n.contentSize-n.viewportSize&&0!==n.contentPosition)&&d.preventDefault()}}function l(a){if(n.contentRatio<1){var b=v?a.pageX:a.pageY,d=b-u;n.options.scrollInvert&&w&&(d=u-b);var e=Math.min(n.trackSize-n.thumbSize,Math.max(0,n.thumbPosition+d));n.contentPosition=e*n.trackRatio,c.dispatchEvent(z),t.style[y]=e+"px",q.style[y]=-n.contentPosition+"px"}}function m(){o.className=o.className.replace(" noSelect",""),document.onmousemove=document.onmouseup=null,t.onmouseup=null,document.ontouchmove=document.ontouchend=null}this.options=b({},e,f),this._defaults=e,this._name=d;var n=this,o=document.querySelectorAll("body")[0],p=c.querySelectorAll(".viewport")[0],q=c.querySelectorAll(".overview")[0],r=c.querySelectorAll(".scrollbar")[0],s=r.querySelectorAll(".track")[0],t=r.querySelectorAll(".thumb")[0],u=0,v="x"===this.options.axis,w="ontouchstart"in document.documentElement,x=v?"width":"height",y=v?"left":"top",z=document.createEvent("HTMLEvents");return z.initEvent("move",!0,!0),this.contentPosition=0,this.viewportSize=0,this.contentSize=0,this.contentRatio=0,this.trackSize=0,this.trackRatio=0,this.thumbSize=0,this.thumbPosition=0,this.update=function(a){var b=x.charAt(0).toUpperCase()+x.slice(1).toLowerCase();this.viewportSize=p["offset"+b],this.contentSize=q["scroll"+b],this.contentRatio=this.viewportSize/this.contentSize,this.trackSize=this.options.trackSize||this.viewportSize,this.thumbSize=Math.min(this.trackSize,Math.max(0,this.options.thumbSize||this.trackSize*this.contentRatio)),this.trackRatio=this.options.thumbSize?(this.contentSize-this.viewportSize)/(this.trackSize-this.thumbSize):this.contentSize/this.trackSize;var c=r.className;switch(r.className=this.contentRatio>=1?c+" disable":c.replace(" disable",""),a){case"bottom":this.contentPosition=this.contentSize-this.viewportSize;break;case"relative":this.contentPosition=Math.min(this.contentSize-this.viewportSize,Math.max(0,this.contentPosition));break;default:this.contentPosition=parseInt(a,10)||0}h()},g()}var d="tinyscrollbar",e={axis:"y",wheel:!0,wheelSpeed:40,wheelLock:!0,scrollInvert:!1,trackSize:!1,thumbSize:!1},f=function(a,b){return new c(a,b)};"function"==typeof define&&define.amd?define(function(){return f}):"object"==typeof module&&module.exports?module.exports=f:a.tinyscrollbar=f}(window);