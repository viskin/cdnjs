var Stats=function(){var j,v,e=0,n=2,r=0,t=Date.now(),o=t,c=t,g=0,b=1000,d=0,u,i,s,h=[[16,16,48],[0,255,255]],f=0,w=1000,a=0,p,l,k,m=[[16,48,16],[0,255,0]];j=document.createElement("div");j.style.cursor="pointer";j.style.width="80px";j.style.opacity="0.9";j.style.zIndex="10001";j.addEventListener("mousedown",function(x){x.preventDefault();e=(e+1)%n;if(e==0){u.style.display="block";p.style.display="none"}else{u.style.display="none";p.style.display="block"}},false);u=document.createElement("div");u.style.textAlign="left";u.style.lineHeight="1.2em";u.style.backgroundColor="rgb("+Math.floor(h[0][0]/2)+","+Math.floor(h[0][1]/2)+","+Math.floor(h[0][2]/2)+")";u.style.padding="0 0 3px 3px";j.appendChild(u);i=document.createElement("div");i.style.fontFamily="Helvetica, Arial, sans-serif";i.style.fontSize="9px";i.style.color="rgb("+h[1][0]+","+h[1][1]+","+h[1][2]+")";i.style.fontWeight="bold";i.innerHTML="FPS";u.appendChild(i);s=document.createElement("div");s.style.position="relative";s.style.width="74px";s.style.height="30px";s.style.backgroundColor="rgb("+h[1][0]+","+h[1][1]+","+h[1][2]+")";u.appendChild(s);while(s.children.length<74){v=document.createElement("span");v.style.width="1px";v.style.height="30px";v.style.cssFloat="left";v.style.backgroundColor="rgb("+h[0][0]+","+h[0][1]+","+h[0][2]+")";s.appendChild(v)}p=document.createElement("div");p.style.textAlign="left";p.style.lineHeight="1.2em";p.style.backgroundColor="rgb("+Math.floor(m[0][0]/2)+","+Math.floor(m[0][1]/2)+","+Math.floor(m[0][2]/2)+")";p.style.padding="0 0 3px 3px";p.style.display="none";j.appendChild(p);l=document.createElement("div");l.style.fontFamily="Helvetica, Arial, sans-serif";l.style.fontSize="9px";l.style.color="rgb("+m[1][0]+","+m[1][1]+","+m[1][2]+")";l.style.fontWeight="bold";l.innerHTML="MS";p.appendChild(l);k=document.createElement("div");k.style.position="relative";k.style.width="74px";k.style.height="30px";k.style.backgroundColor="rgb("+m[1][0]+","+m[1][1]+","+m[1][2]+")";p.appendChild(k);while(k.children.length<74){v=document.createElement("span");v.style.width="1px";v.style.height=Math.random()*30+"px";v.style.cssFloat="left";v.style.backgroundColor="rgb("+m[0][0]+","+m[0][1]+","+m[0][2]+")";k.appendChild(v)}var q=function(y,x){var z=y.appendChild(y.firstChild);z.style.height=x+"px"};return{domElement:j,update:function(){t=Date.now();f=t-o;w=Math.min(w,f);a=Math.max(a,f);l.textContent=f+" MS ("+w+"-"+a+")";q(k,Math.min(30,30-(f/200)*30));o=t;r++;if(t>c+1000){g=Math.round((r*1000)/(t-c));b=Math.min(b,g);d=Math.max(d,g);i.textContent=g+" FPS ("+b+"-"+d+")";q(s,Math.min(30,30-(g/100)*30));c=t;r=0}}}};