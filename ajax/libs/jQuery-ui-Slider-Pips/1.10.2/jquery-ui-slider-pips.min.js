/*! jQuery-ui-Slider-Pips - v1.10.2 - 2015-06-06
* Copyright (c) 2015 Simon Goellner <simey.me@gmail.com>; Licensed MIT */
!function(a){"use strict";var b={pips:function(b){function c(b){if(!h.option("disabled")){var c,d,e,f,g,i=a(b).data("value"),j=h.element;if(m&&m.length){for(f=d=j.slider("values"),e=d.map(function(a){return Math.abs(a-i)}),g=Math.min.apply(Math,e),c=0;c<e.length;c++)e[c]===g&&(f[c]=i,o.eq(c).trigger("focus.selectPip"));q.range(f)}else o.trigger("focus.selectPip"),q.single(i)}}function d(b){var c,d,f=b,g="ui-slider-pip",i="";"first"===b?f=0:"last"===b&&(f=n);var k=j+h.options.step*f,o=k.toString().replace(".","-");if(c="array"===a.type(p.labels)?p.labels[f]||"":"object"===a.type(p.labels)?"first"===b?p.labels.first||"":"last"===b?p.labels.last||"":"array"===a.type(p.labels.rest)?p.labels.rest[f-1]||"":k:k,"first"===b?(d="0%",g+=" ui-slider-pip-first",g+="label"===p.first?" ui-slider-pip-label":"",g+=!1===p.first?" ui-slider-pip-hide":""):"last"===b?(d="100%",g+=" ui-slider-pip-last",g+="label"===p.last?" ui-slider-pip-label":"",g+=!1===p.last?" ui-slider-pip-hide":""):(d=(100/n*b).toFixed(4)+"%",g+="label"===p.rest?" ui-slider-pip-label":"",g+=!1===p.rest?" ui-slider-pip-hide":""),g+=" ui-slider-pip-"+o,m&&m.length){for(e=0;e<m.length;e++)k===m[e]&&(g+=" ui-slider-pip-initial-"+(e+1),g+=" ui-slider-pip-selected-"+(e+1));h.options.range&&k>m[0]&&k<m[1]&&(g+=" ui-slider-pip-inrange")}else k===l&&(g+=" ui-slider-pip-initial",g+=" ui-slider-pip-selected");return i="horizontal"===h.options.orientation?"left: "+d:"bottom: "+d,'<span class="'+g+'" style="'+i+'"><span class="ui-slider-line"></span><span class="ui-slider-label" data-value="'+k+'">'+p.formatLabel(c)+"</span></span>"}var e,f,g,h=this,i="",j=h._valueMin(),k=h._valueMax(),l=h._value(),m=h._values(),n=(k-j)/h.options.step,o=h.element.find(".ui-slider-handle"),p={first:"label",last:"label",rest:"pip",labels:!1,prefix:"",suffix:"",step:n>100?Math.floor(.05*n):1,formatLabel:function(a){return this.prefix+a+this.suffix}};a.extend(p,b),h.options.pipStep=p.step,h.element.addClass("ui-slider-pips").find(".ui-slider-pip").remove();var q={single:function(a){this.resetClasses(),g.filter(".ui-slider-pip-"+this.classLabel(a)).addClass("ui-slider-pip-selected")},range:function(b){for(this.resetClasses(),e=0;e<b.length;e++)g.filter(".ui-slider-pip-"+this.classLabel(b[e])).addClass("ui-slider-pip-selected-"+(e+1));h.options.range&&g.each(function(c,d){var e=a(d).children(".ui-slider-label").data("value");e>b[0]&&e<b[1]&&a(d).addClass("ui-slider-pip-inrange")})},classLabel:function(a){return a.toString().replace(".","-")},resetClasses:function(){var a=/(^|\s*)(ui-slider-pip-selected|ui-slider-pip-inrange)(-{1,2}\d+|\s|$)/gi;g.removeClass(function(b,c){return(c.match(a)||[]).join(" ")})}};for(h.options.pipStep=Math.round(h.options.pipStep),i+=d("first"),f=1;n>f;f++)f%h.options.pipStep===0&&(i+=d(f));i+=d("last"),h.element.append(i),g=h.element.find(".ui-slider-pip"),h.element.on("mousedown.selectPip",function(){h.element.off("mouseup.selectPip").one("mouseup.selectPip",".ui-slider-label",function(){c(this)})}),h.element.on("slide.selectPip slidechange.selectPip",function(b,c){var d=a(this),e=d.slider("value"),f=d.slider("values");c&&(e=c.value,f=c.values),f&&f.length?q.range(f):q.single(e)})},"float":function(b){function c(b){var c=[],h=b.map(function(a){return Math.ceil((a-f)/e.options.step)});if("array"===a.type(l.labels))for(d=0;d<b.length;d++)c[d]=l.labels[h[d]]||b[d];else if("object"===a.type(l.labels))for(d=0;d<b.length;d++)c[d]=b[d]===f?l.labels.first||f:b[d]===g?l.labels.last||g:"array"===a.type(l.labels.rest)?l.labels.rest[h[d]-1]||b[d]:b[d];else for(d=0;d<b.length;d++)c[d]=b[d];return c}var d,e=this,f=e._valueMin(),g=e._valueMax(),h=e._value(),i=e._values(),j=[],k=e.element.find(".ui-slider-handle"),l={handle:!0,pips:!1,labels:!1,prefix:"",suffix:"",event:"slidechange slide",formatLabel:function(a){return this.prefix+a+this.suffix}};if(a.extend(l,b),f>h&&(h=f),h>g&&(h=g),i&&i.length)for(d=0;d<i.length;d++)i[d]<f&&(i[d]=f),i[d]>g&&(i[d]=g);if(e.element.addClass("ui-slider-float").find(".ui-slider-tip, .ui-slider-tip-label").remove(),l.handle)for(j=c(i&&i.length?i:[h]),d=0;d<j.length;d++)k.eq(d).append(a('<span class="ui-slider-tip">'+l.formatLabel(j[d])+"</span>"));l.pips&&e.element.find(".ui-slider-label").each(function(b,d){var e,f,g=a(d),h=[g.data("value")];e=l.formatLabel(c(h)[0]),f=a('<span class="ui-slider-tip-label">'+e+"</span>").insertAfter(g)}),"slide"!==l.event&&"slidechange"!==l.event&&"slide slidechange"!==l.event&&"slidechange slide"!==l.event&&(l.event="slidechange slide"),e.element.on(l.event,function(b,d){var e="array"===a.type(d.value)?d.value:[d.value],f=l.formatLabel(c(e)[0]);a(d.handle).find(".ui-slider-tip").html(f)})}};a.extend(!0,a.ui.slider.prototype,b)}(jQuery);