(function(){var c=(typeof process!=="undefined"&&process.versions&&process.versions.node);var a=!c&&(typeof window!=="undefined"||typeof self!=="undefined");if(a){if(typeof global==="undefined"){if(typeof window!=="undefined"){global=window}else{if(typeof self!=="undefined"){global=self}else{if(typeof $!=="undefined"){global=$}}}}}var d=function(I){I.compact=function(aR,e,aS,aV){if(arguments.length<2){return I.nextTick(function(){aV(new TypeError("Could not compact, too few arguments."))})}if(typeof aS==="function"){aV=aS;aS={}}aS=aS||{};if(e===null){return I.nextTick(function(){aV(new x("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"}))})}if(aR===null){return I.nextTick(function(){aV(null,null)})}if(!("base" in aS)){aS.base=(typeof aR==="string")?aR:""}if(!("compactArrays" in aS)){aS.compactArrays=true}if(!("graph" in aS)){aS.graph=false}if(!("skipExpansion" in aS)){aS.skipExpansion=false}if(!("documentLoader" in aS)){aS.documentLoader=I.loadDocument}if(!("link" in aS)){aS.link=false}if(aS.link){aS.skipExpansion=true}var aU=function(aW,aX,aY){I.nextTick(function(){if(aX.skipExpansion){return aY(null,aW)}I.expand(aW,aX,aY)})};aU(aR,aS,function(aX,aW){if(aX){return aV(new x("Could not expand input before compaction.","jsonld.CompactError",{cause:aX}))}var aY=A(aS);I.processContext(aY,e,aS,function(a1,a2){if(a1){return aV(new x("Could not process context before compaction.","jsonld.CompactError",{cause:a1}))}var aZ;try{aZ=new m().compact(a2,null,aW,aS)}catch(a0){return aV(a0)}aT(null,aZ,a2,aS)})});function aT(aW,a4,a1,a5){if(aW){return aV(aW)}if(a5.compactArrays&&!a5.graph&&K(a4)){if(a4.length===1){a4=a4[0]}else{if(a4.length===0){a4={}}}}else{if(a5.graph&&aC(a4)){a4=[a4]}}if(aC(e)&&"@context" in e){e=e["@context"]}e=o(e);if(!K(e)){e=[e]}var aY=e;e=[];for(var aZ=0;aZ<aY.length;++aZ){if(!aC(aY[aZ])||Object.keys(aY[aZ]).length>0){e.push(aY[aZ])}}var a0=(e.length>0);if(e.length===1){e=e[0]}if(K(a4)){var aX=aG(a1,"@graph");var a3=a4;a4={};if(a0){a4["@context"]=e}a4[aX]=a3}else{if(aC(a4)&&a0){var a3=a4;a4={"@context":e};for(var a2 in a3){a4[a2]=a3[a2]}}}aV(null,a4,a1)}};I.expand=function(e,aR,aT){if(arguments.length<1){return I.nextTick(function(){aT(new TypeError("Could not expand, too few arguments."))})}if(typeof aR==="function"){aT=aR;aR={}}aR=aR||{};if(!("documentLoader" in aR)){aR.documentLoader=I.loadDocument}if(!("keepFreeFloatingNodes" in aR)){aR.keepFreeFloatingNodes=false}I.nextTick(function(){if(typeof e==="string"){var aU=function(aX,aY){if(aX){return aT(aX)}try{if(!aY.document){throw new x("No remote document found at the given URL.","jsonld.NullRemoteDocument")}if(typeof aY.document==="string"){aY.document=JSON.parse(aY.document)}}catch(aW){return aT(new x("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",cause:aW,remoteDoc:aY}))}aS(aY)};var aV=aR.documentLoader(e,aU);if(aV&&"then" in aV){aV.then(aU.bind(null,null),aU)}return}aS({contextUrl:null,documentUrl:null,document:e})});function aS(aW){if(!("base" in aR)){aR.base=aW.documentUrl||""}var aU={document:o(aW.document),remoteContext:{"@context":aW.contextUrl}};if("expandContext" in aR){var aV=o(aR.expandContext);if(typeof aV==="object"&&"@context" in aV){aU.expandContext=aV}else{aU.expandContext={"@context":aV}}}aK(aU,aR,function(a3,a0){if(a3){return aT(a3)}var aZ;try{var a2=new m();var a4=A(aR);var aX=a0.document;var aY=a0.remoteContext["@context"];if(a0.expandContext){a4=a2.processContext(a4,a0.expandContext["@context"],aR)}if(aY){a4=a2.processContext(a4,aY,aR)}aZ=a2.expand(a4,null,aX,aR,false);if(aC(aZ)&&("@graph" in aZ)&&Object.keys(aZ).length===1){aZ=aZ["@graph"]}else{if(aZ===null){aZ=[]}}if(!K(aZ)){aZ=[aZ]}}catch(a1){return aT(a1)}aT(null,aZ)})}};I.flatten=function(aR,e,aS,aT){if(arguments.length<1){return I.nextTick(function(){aT(new TypeError("Could not flatten, too few arguments."))})}if(typeof aS==="function"){aT=aS;aS={}}else{if(typeof e==="function"){aT=e;e=null;aS={}}}aS=aS||{};if(!("base" in aS)){aS.base=(typeof aR==="string")?aR:""}if(!("documentLoader" in aS)){aS.documentLoader=I.loadDocument}I.expand(aR,aS,function(aW,aX){if(aW){return aT(new x("Could not expand input before flattening.","jsonld.FlattenError",{cause:aW}))}var aV;try{aV=new m().flatten(aX)}catch(aU){return aT(aU)}if(e===null){return aT(null,aV)}aS.graph=true;aS.skipExpansion=true;I.compact(aV,e,aS,function(aZ,aY){if(aZ){return aT(new x("Could not compact flattened output.","jsonld.FlattenError",{cause:aZ}))}aT(null,aY)})})};I.frame=function(aR,aT,aS,aU){if(arguments.length<2){return I.nextTick(function(){aU(new TypeError("Could not frame, too few arguments."))})}if(typeof aS==="function"){aU=aS;aS={}}aS=aS||{};if(!("base" in aS)){aS.base=(typeof aR==="string")?aR:""}if(!("documentLoader" in aS)){aS.documentLoader=I.loadDocument}if(!("embed" in aS)){aS.embed="@last"}aS.explicit=aS.explicit||false;if(!("requireAll" in aS)){aS.requireAll=true}aS.omitDefault=aS.omitDefault||false;I.nextTick(function(){if(typeof aT==="string"){var aV=function(aY,aZ){if(aY){return aU(aY)}try{if(!aZ.document){throw new x("No remote document found at the given URL.","jsonld.NullRemoteDocument")}if(typeof aZ.document==="string"){aZ.document=JSON.parse(aZ.document)}}catch(aX){return aU(new x("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",cause:aX,remoteDoc:aZ}))}e(aZ)};var aW=aS.documentLoader(aT,aV);if(aW&&"then" in aW){aW.then(aV.bind(null,null),aV)}return}e({contextUrl:null,documentUrl:null,document:aT})});function e(aW){var aX=aW.document;var aV;if(aX){aV=aX["@context"];if(aW.contextUrl){if(!aV){aV=aW.contextUrl}else{if(K(aV)){aV.push(aW.contextUrl)}else{aV=[aV,aW.contextUrl]}}aX["@context"]=aV}else{aV=aV||{}}}else{aV={}}I.expand(aR,aS,function(a0,aY){if(a0){return aU(new x("Could not expand input before framing.","jsonld.FrameError",{cause:a0}))}var aZ=o(aS);aZ.isFrame=true;aZ.keepFreeFloatingNodes=true;I.expand(aX,aZ,function(a3,a4){if(a3){return aU(new x("Could not expand frame before framing.","jsonld.FrameError",{cause:a3}))}var a1;try{a1=new m().frame(aY,a4,aZ)}catch(a2){return aU(a2)}aZ.graph=true;aZ.skipExpansion=true;aZ.link={};I.compact(a1,aV,aZ,function(a7,a5,a6){if(a7){return aU(new x("Could not compact framed output.","jsonld.FrameError",{cause:a7}))}var a8=aG(a6,"@graph");aZ.link={};a5[a8]=w(a6,a5[a8],aZ);aU(null,a5)})})})}};I.link=function(aR,e,aS,aU){var aT={};if(e){aT["@context"]=e}aT["@embed"]="@link";I.frame(aR,aT,aS,aU)};I.objectify=function(aR,e,aS,aT){if(typeof aS==="function"){aT=aS;aS={}}aS=aS||{};if(!("base" in aS)){aS.base=(typeof aR==="string")?aR:""}if(!("documentLoader" in aS)){aS.documentLoader=I.loadDocument}I.expand(aR,aS,function(aW,aX){if(aW){return aT(new x("Could not expand input before linking.","jsonld.LinkError",{cause:aW}))}var aV;try{aV=new m().flatten(aX)}catch(aU){return aT(aU)}aS.graph=true;aS.skipExpansion=true;I.compact(aV,e,aS,function(aZ,a3,a5){if(aZ){return aT(new x("Could not compact flattened output before linking.","jsonld.LinkError",{cause:aZ}))}var a2=aG(a5,"@graph");var a1=a3[a2][0];var aY=function(ba){if(!aC(ba)&&!K(ba)){return}if(aC(ba)){if(aY.visited[ba["@id"]]){return}aY.visited[ba["@id"]]=true}for(var a8 in ba){var bc=ba[a8];var bb=(I.getContextValue(a5,a8,"@type")==="@id");if(!K(bc)&&!aC(bc)&&!bb){continue}if(aa(bc)&&bb){ba[a8]=bc=a1[bc];aY(bc)}else{if(K(bc)){for(var a9=0;a9<bc.length;++a9){if(aa(bc[a9])&&bb){bc[a9]=a1[bc[a9]]}else{if(aC(bc[a9])&&"@id" in bc[a9]){bc[a9]=a1[bc[a9]["@id"]]}}aY(bc[a9])}}else{if(aC(bc)){var a7=bc["@id"];ba[a8]=bc=a1[a7];aY(bc)}}}}};aY.visited={};aY(a1);a3.of_type={};for(var a6 in a1){if(!("@type" in a1[a6])){continue}var a0=a1[a6]["@type"];if(!K(a0)){a0=[a0]}for(var a4=0;a4<a0.length;++a4){if(!(a0[a4] in a3.of_type)){a3.of_type[a0[a4]]=[]}a3.of_type[a0[a4]].push(a1[a6])}}aT(null,a3)})})};I.normalize=function(e,aR,aT){if(arguments.length<1){return I.nextTick(function(){aT(new TypeError("Could not normalize, too few arguments."))})}if(typeof aR==="function"){aT=aR;aR={}}aR=aR||{};if(!("base" in aR)){aR.base=(typeof e==="string")?e:""}if(!("documentLoader" in aR)){aR.documentLoader=I.loadDocument}var aS=o(aR);delete aS.format;aS.produceGeneralizedRdf=false;I.toRDF(e,aS,function(aU,aV){if(aU){return aT(new x("Could not convert input to RDF dataset before normalization.","jsonld.NormalizeError",{cause:aU}))}new m().normalize(aV,aR,aT)})};I.fromRDF=function(aR,e,aS){if(arguments.length<1){return I.nextTick(function(){aS(new TypeError("Could not convert from RDF, too few arguments."))})}if(typeof e==="function"){aS=e;e={}}e=e||{};if(!("useRdfType" in e)){e.useRdfType=false}if(!("useNativeTypes" in e)){e.useNativeTypes=false}if(!("format" in e)&&aa(aR)){if(!("format" in e)){e.format="application/nquads"}}I.nextTick(function(){var aT;if(e.format){aT=e.rdfParser||S[e.format];if(!aT){return aS(new x("Unknown input format.","jsonld.UnknownFormat",{format:e.format}))}}else{aT=function(){return aR}}var aW=false;try{aR=aT(aR,function(aX,aY){aW=true;if(aX){return aS(aX)}aV(aY,e,aS)})}catch(aU){if(!aW){return aS(aU)}throw aU}if(aR){if("then" in aR){return aR.then(function(aX){aV(aX,e,aS)},aS)}aV(aR,e,aS)}function aV(aY,aX,aZ){new m().fromRDF(aY,aX,aZ)}})};I.toRDF=function(e,aR,aS){if(arguments.length<1){return I.nextTick(function(){aS(new TypeError("Could not convert to RDF, too few arguments."))})}if(typeof aR==="function"){aS=aR;aR={}}aR=aR||{};if(!("base" in aR)){aR.base=(typeof e==="string")?e:""}if(!("documentLoader" in aR)){aR.documentLoader=I.loadDocument}I.expand(e,aR,function(aV,aT){if(aV){return aS(new x("Could not expand input before serialization to RDF.","jsonld.RdfError",{cause:aV}))}var aW;try{aW=m.prototype.toRDF(aT,aR);if(aR.format){if(aR.format==="application/nquads"){return aS(null,aJ(aW))}throw new x("Unknown output format.","jsonld.UnknownFormat",{format:aR.format})}}catch(aU){return aS(aU)}aS(null,aW)})};I.createNodeMap=function(e,aR,aS){if(arguments.length<1){return I.nextTick(function(){aS(new TypeError("Could not create node map, too few arguments."))})}if(typeof aR==="function"){aS=aR;aR={}}aR=aR||{};if(!("base" in aR)){aR.base=(typeof e==="string")?e:""}if(!("documentLoader" in aR)){aR.documentLoader=I.loadDocument}I.expand(e,aR,function(aU,aW){if(aU){return aS(new x("Could not expand input before creating node map.","jsonld.CreateNodeMapError",{cause:aU}))}var aV;try{aV=new m().createNodeMap(aW,aR)}catch(aT){return aS(aT)}aS(null,aV)})};I.merge=function(aU,aZ,a1,aY){if(arguments.length<1){return I.nextTick(function(){aY(new TypeError("Could not merge, too few arguments."))})}if(!K(aU)){return I.nextTick(function(){aY(new TypeError('Could not merge, "docs" must be an array.'))})}if(typeof a1==="function"){aY=a1;a1={}}else{if(typeof aZ==="function"){aY=aZ;aZ=null;a1={}}}a1=a1||{};var aT=[];var aV=null;var aS=aU.length;for(var aR=0;aR<aU.length;++aR){var e={};for(var aX in a1){e[aX]=a1[aX]}I.expand(aU[aR],e,a0)}function a0(a2,a3){if(aV){return}if(a2){aV=a2;return aY(new x("Could not expand input before flattening.","jsonld.FlattenError",{cause:a2}))}aT.push(a3);if(--aS===0){aW(aT)}}function aW(a7){var bc=true;if("mergeNodes" in a1){bc=a1.mergeNodes}var bb=a1.namer||new j("_:b");var a8={"@default":{}};var bd;try{for(var a5=0;a5<a7.length;++a5){var be=a7[a5];be=I.relabelBlankNodes(be,{namer:new j("_:b"+a5+"-")});var a2=(bc||a5===0)?a8:{"@default":{}};ae(be,a2,"@default",bb);if(a2!==a8){for(var a6 in a2){var bg=a2[a6];if(!(a6 in a8)){a8[a6]=bg;continue}var ba=a8[a6];for(var bf in bg){if(!(bf in ba)){ba[bf]=bg[bf]}}}}}bd=ah(a8)}catch(a9){return aY(a9)}var bi=[];var bh=Object.keys(bd).sort();for(var a3=0;a3<bh.length;++a3){var a4=bd[bh[a3]];if(!ax(a4)){bi.push(a4)}}if(aZ===null){return aY(null,bi)}a1.graph=true;a1.skipExpansion=true;I.compact(bi,aZ,a1,function(bk,bj){if(bk){return aY(new x("Could not compact merged output.","jsonld.MergeError",{cause:bk}))}aY(null,bj)})}};I.relabelBlankNodes=function(e,aR){aR=aR||{};var aS=aR.namer||new j("_:b");return X(aS,e)};I.documentLoader=function(e,aS){var aR=new x("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed"});if(c){return aS(aR,{contextUrl:null,documentUrl:e,document:null})}return I.promisify(function(aT){aT(aR)})};I.loadDocument=function(e,aS){var aR=I.documentLoader(e,aS);if(aR&&"then" in aR){aR.then(aS.bind(null,null),aS)}};I.promises=function(aT){aT=aT||{};var aX=Array.prototype.slice;var aS=I.promisify;var aU=aT.api||{};var aR=aT.version||"jsonld.js";if(typeof aT.api==="string"){if(!aT.version){aR=aT.api}aU={}}aU.expand=function(e){if(arguments.length<1){throw new TypeError("Could not expand, too few arguments.")}return aS.apply(null,[I.expand].concat(aX.call(arguments)))};aU.compact=function(aZ,e){if(arguments.length<2){throw new TypeError("Could not compact, too few arguments.")}var a0=function(a2,a1,a3,a4){I.compact(a2,a1,a3,function(a6,a5){a4(a6,a5)})};return aS.apply(null,[a0].concat(aX.call(arguments)))};aU.flatten=function(e){if(arguments.length<1){throw new TypeError("Could not flatten, too few arguments.")}return aS.apply(null,[I.flatten].concat(aX.call(arguments)))};aU.frame=function(e,aZ){if(arguments.length<2){throw new TypeError("Could not frame, too few arguments.")}return aS.apply(null,[I.frame].concat(aX.call(arguments)))};aU.fromRDF=function(e){if(arguments.length<1){throw new TypeError("Could not convert from RDF, too few arguments.")}return aS.apply(null,[I.fromRDF].concat(aX.call(arguments)))};aU.toRDF=function(e){if(arguments.length<1){throw new TypeError("Could not convert to RDF, too few arguments.")}return aS.apply(null,[I.toRDF].concat(aX.call(arguments)))};aU.normalize=function(e){if(arguments.length<1){throw new TypeError("Could not normalize, too few arguments.")}return aS.apply(null,[I.normalize].concat(aX.call(arguments)))};if(aR==="jsonld.js"){aU.link=function(aZ,e){if(arguments.length<2){throw new TypeError("Could not link, too few arguments.")}return aS.apply(null,[I.link].concat(aX.call(arguments)))};aU.objectify=function(e){return aS.apply(null,[I.objectify].concat(aX.call(arguments)))};aU.createNodeMap=function(e){return aS.apply(null,[I.createNodeMap].concat(aX.call(arguments)))};aU.merge=function(e){return aS.apply(null,[I.merge].concat(aX.call(arguments)))}}try{I.Promise=global.Promise||require("es6-promise").Promise}catch(aW){var aV=function(){throw new Error("Unable to find a Promise implementation.")};for(var aY in aU){aU[aY]=aV}}return aU};I.promisify=function(aT){if(!I.Promise){try{I.Promise=global.Promise||require("es6-promise").Promise}catch(aS){throw new Error("Unable to find a Promise implementation.")}}var aR=Array.prototype.slice.call(arguments,1);return new I.Promise(function(aU,e){aT.apply(null,aR.concat(function(aV,aW){if(!aV){aU(aW)}else{e(aV)}}))})};I.promises({api:I.promises});function ap(){}ap.prototype=I.promises({version:"json-ld-1.0"});ap.prototype.toString=function(){if(this instanceof ap){return"[object JsonLdProcessor]"}return"[object JsonLdProcessorPrototype]"};I.JsonLdProcessor=ap;var ab=!!Object.defineProperty;if(ab){try{Object.defineProperty({},"x",{})}catch(ac){ab=false}}if(ab){Object.defineProperty(ap,"prototype",{writable:false,enumerable:false});Object.defineProperty(ap.prototype,"constructor",{writable:true,enumerable:false,configurable:true,value:ap})}if(a&&typeof global.JsonLdProcessor==="undefined"){if(ab){Object.defineProperty(global,"JsonLdProcessor",{writable:true,enumerable:false,configurable:true,value:ap})}else{global.JsonLdProcessor=ap}}if(typeof process==="undefined"||!process.nextTick){if(typeof setImmediate==="function"){I.setImmediate=I.nextTick=function(e){return setImmediate(e)}}else{I.setImmediate=function(e){setTimeout(e,0)};I.nextTick=I.setImmediate}}else{I.nextTick=process.nextTick;if(typeof setImmediate==="function"){I.setImmediate=setImmediate}else{I.setImmediate=I.nextTick}}I.parseLinkHeader=function(aT){var aU={};var aW=aT.match(/(?:<[^>]*?>|"[^"]*?"|[^,])+/g);var aX=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/;for(var aS=0;aS<aW.length;++aS){var aV=aW[aS].match(aX);if(!aV){continue}var aZ={target:aV[1]};var e=aV[2];var aR=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g;while(aV=aR.exec(e)){aZ[aV[1]]=(aV[2]===undefined)?aV[3]:aV[2]}var aY=aZ.rel||"";if(K(aU[aY])){aU[aY].push(aZ)}else{if(aY in aU){aU[aY]=[aU[aY],aZ]}else{aU[aY]=aZ}}}return aU};I.DocumentCache=function(e){this.order=[];this.cache={};this.size=e||50;this.expires=30*1000};I.DocumentCache.prototype.get=function(e){if(e in this.cache){var aR=this.cache[e];if(aR.expires>=+new Date()){return aR.ctx}delete this.cache[e];this.order.splice(this.order.indexOf(e),1)}return null};I.DocumentCache.prototype.set=function(aR,e){if(this.order.length===this.size){delete this.cache[this.order.shift()]}this.order.push(aR);this.cache[aR]={ctx:e,expires:(+new Date()+this.expires)}};I.ActiveContextCache=function(e){this.order=[];this.cache={};this.size=e||100};I.ActiveContextCache.prototype.get=function(aU,e){var aS=JSON.stringify(aU);var aR=JSON.stringify(e);var aT=this.cache[aS];if(aT&&aR in aT){return aT[aR]}return null};I.ActiveContextCache.prototype.set=function(aV,aR,e){if(this.order.length===this.size){var aU=this.order.shift();delete this.cache[aU.activeCtx][aU.localCtx]}var aT=JSON.stringify(aV);var aS=JSON.stringify(aR);this.order.push({activeCtx:aT,localCtx:aS});if(!(aT in this.cache)){this.cache[aT]={}}this.cache[aT][aS]=o(e)};I.cache={activeCtx:new I.ActiveContextCache()};I.documentLoaders={};I.documentLoaders.jquery=function(aS,aR){aR=aR||{};var e=function(aU,aV){if(aU.indexOf("http:")!==0&&aU.indexOf("https:")!==0){return aV(new x('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:aU}),{contextUrl:null,documentUrl:aU,document:null})}if(aR.secure&&aU.indexOf("https")!==0){return aV(new x('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:aU}),{contextUrl:null,documentUrl:aU,document:null})}aS.ajax({url:aU,accepts:{json:"application/ld+json, application/json"},headers:{Accept:"application/ld+json, application/json"},dataType:"json",crossDomain:true,success:function(aY,a1,aX){var aZ={contextUrl:null,documentUrl:aU,document:aY};var a0=aX.getResponseHeader("Content-Type");var aW=aX.getResponseHeader("Link");if(aW&&a0!=="application/ld+json"){aW=I.parseLinkHeader(aW)[aF];if(K(aW)){return aV(new x("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:aU}),aZ)}if(aW){aZ.contextUrl=aW.target}}aV(null,aZ)},error:function(aX,aY,aW){aV(new x("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:aU,cause:aW}),{contextUrl:null,documentUrl:aU,document:null})}})};var aT=(typeof Promise!=="undefined");if("usePromise" in aR){aT=aR.usePromise}if(aT){return function(aU){return I.promisify(e,aU)}}return e};I.documentLoaders.node=function(aW){aW=aW||{};var aS=("strictSSL" in aW)?aW.strictSSL:true;var aT=("maxRedirects" in aW)?aW.maxRedirects:-1;var aX=require("request");var aV=require("http");var aU=new I.DocumentCache();function aR(aY,a2,a1){if(aY.indexOf("http:")!==0&&aY.indexOf("https:")!==0){return a1(new x('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:aY}),{contextUrl:null,documentUrl:aY,document:null})}if(aW.secure&&aY.indexOf("https")!==0){return a1(new x('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:aY}),{contextUrl:null,documentUrl:aY,document:null})}var a0=aU.get(aY);if(a0!==null){return a1(null,a0)}aX({url:aY,headers:{Accept:"application/ld+json, application/json"},strictSSL:aS,followRedirect:false},aZ);function aZ(a7,a6,a4){a0={contextUrl:null,documentUrl:aY,document:a4||null};if(a7){return a1(new x("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:aY,cause:a7}),a0)}var a8=aV.STATUS_CODES[a6.statusCode];if(a6.statusCode>=400){return a1(new x("URL could not be dereferenced: "+a8,"jsonld.InvalidUrl",{code:"loading document failed",url:aY,httpStatusCode:a6.statusCode}),a0)}if(a6.headers.link&&a6.headers["content-type"]!=="application/ld+json"){var a3=I.parseLinkHeader(a6.headers.link)[aF];if(K(a3)){return a1(new x("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:aY}),a0)}if(a3){a0.contextUrl=a3.target}}if(a6.statusCode>=300&&a6.statusCode<400&&a6.headers.location){if(a2.length===aT){return a1(new x("URL could not be dereferenced; there were too many redirects.","jsonld.TooManyRedirects",{code:"loading document failed",url:aY,httpStatusCode:a6.statusCode,redirects:a2}),a0)}if(a2.indexOf(aY)!==-1){return a1(new x("URL could not be dereferenced; infinite redirection was detected.","jsonld.InfiniteRedirectDetected",{code:"recursive context inclusion",url:aY,httpStatusCode:a6.statusCode,redirects:a2}),a0)}a2.push(aY);return aR(a6.headers.location,a2,a1)}a2.push(aY);for(var a5=0;a5<a2.length;++a5){aU.set(a2[a5],{contextUrl:null,documentUrl:a2[a5],document:a4})}a1(a7,a0)}}var e=function(aY,aZ){aR(aY,[],aZ)};if(aW.usePromise){return function(aY){return I.promisify(e,aY)}}return e};I.documentLoaders.xhr=function(aR){var aS=/(^|(\r\n))link:/i;aR=aR||{};var e=function(aU,aX){if(aU.indexOf("http:")!==0&&aU.indexOf("https:")!==0){return aX(new x('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:aU}),{contextUrl:null,documentUrl:aU,document:null})}if(aR.secure&&aU.indexOf("https")!==0){return aX(new x('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:aU}),{contextUrl:null,documentUrl:aU,document:null})}var aW=aR.xhr||XMLHttpRequest;var aV=new aW();aV.onload=function(a0){if(aV.status>=400){return aX(new x("URL could not be dereferenced: "+aV.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:aU,httpStatusCode:aV.status}),{contextUrl:null,documentUrl:aU,document:null})}var aZ={contextUrl:null,documentUrl:aU,document:aV.response};var a1=aV.getResponseHeader("Content-Type");var aY;if(aS.test(aV.getAllResponseHeaders())){aY=aV.getResponseHeader("Link")}if(aY&&a1!=="application/ld+json"){aY=I.parseLinkHeader(aY)[aF];if(K(aY)){return aX(new x("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:aU}),aZ)}if(aY){aZ.contextUrl=aY.target}}aX(null,aZ)};aV.onerror=function(){aX(new x("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:aU}),{contextUrl:null,documentUrl:aU,document:null})};aV.open("GET",aU,true);aV.setRequestHeader("Accept","application/ld+json, application/json");aV.send()};var aT=(typeof Promise!=="undefined");if("usePromise" in aR){aT=aR.usePromise}if(aT){return function(aU){return I.promisify(e,aU)}}return e};I.useDocumentLoader=function(e){if(!(e in I.documentLoaders)){throw new x('Unknown document loader type: "'+e+'"',"jsonld.UnknownDocumentLoader",{type:e})}I.documentLoader=I.documentLoaders[e].apply(I,Array.prototype.slice.call(arguments,1))};I.processContext=function(aT,e){var aR={};var aS=2;if(arguments.length>3){aR=arguments[2]||{};aS+=1}var aU=arguments[aS];if(!("base" in aR)){aR.base=""}if(!("documentLoader" in aR)){aR.documentLoader=I.loadDocument}if(e===null){return aU(null,A(aR))}e=o(e);if(!(aC(e)&&"@context" in e)){e={"@context":e}}aK(e,aR,function(aX,aV){if(aX){return aU(aX)}try{aV=new m().processContext(aT,aV,aR)}catch(aW){return aU(aW)}aU(null,aV)})};I.hasProperty=function(e,aS){var aT=false;if(aS in e){var aR=e[aS];aT=(!K(aR)||aR.length>0)}return aT};I.hasValue=function(aR,aT,aS){var aV=false;if(I.hasProperty(aR,aT)){var aW=aR[aT];var aU=y(aW);if(K(aW)||aU){if(aU){aW=aW["@list"]}for(var e=0;e<aW.length;++e){if(I.compareValues(aS,aW[e])){aV=true;break}}}else{if(!K(aS)){aV=I.compareValues(aS,aW)}}}return aV};I.addValue=function(aT,aV,aU,e){e=e||{};if(!("propertyIsArray" in e)){e.propertyIsArray=false}if(!("allowDuplicate" in e)){e.allowDuplicate=true}if(K(aU)){if(aU.length===0&&e.propertyIsArray&&!(aV in aT)){aT[aV]=[]}for(var aS=0;aS<aU.length;++aS){I.addValue(aT,aV,aU[aS],e)}}else{if(aV in aT){var aR=(!e.allowDuplicate&&I.hasValue(aT,aV,aU));if(!K(aT[aV])&&(!aR||e.propertyIsArray)){aT[aV]=[aT[aV]]}if(!aR){aT[aV].push(aU)}}else{aT[aV]=e.propertyIsArray?[aU]:aU}}};I.getValues=function(e,aR){var aS=e[aR]||[];if(!K(aS)){aS=[aS]}return aS};I.removeProperty=function(e,aR){delete e[aR]};I.removeValue=function(aS,aU,aT,aR){aR=aR||{};if(!("propertyIsArray" in aR)){aR.propertyIsArray=false}var e=I.getValues(aS,aU).filter(function(aV){return !I.compareValues(aV,aT)});if(e.length===0){I.removeProperty(aS,aU)}else{if(e.length===1&&!aR.propertyIsArray){aS[aU]=e[0]}else{aS[aU]=e}}};I.compareValues=function(aR,e){if(aR===e){return true}if(aI(aR)&&aI(e)&&aR["@value"]===e["@value"]&&aR["@type"]===e["@type"]&&aR["@language"]===e["@language"]&&aR["@index"]===e["@index"]){return true}if(aC(aR)&&("@id" in aR)&&aC(e)&&("@id" in e)){return aR["@id"]===e["@id"]}return false};I.getContextValue=function(e,aR,aS){var aU=null;if(aR===null){return aU}if(aS==="@language"&&(aS in e)){aU=e[aS]}if(e.mappings[aR]){var aT=e.mappings[aR];if(L(aS)){aU=aT}else{if(aS in aT){aU=aT[aS]}}}return aU};var S={};I.registerRDFParser=function(aR,e){S[aR]=e};I.unregisterRDFParser=function(e){delete S[e]};if(c){if(typeof E==="undefined"){var E=null}if(typeof ay==="undefined"){var ay={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12}}}var Z="http://www.w3.org/2001/XMLSchema#boolean";var W="http://www.w3.org/2001/XMLSchema#double";var t="http://www.w3.org/2001/XMLSchema#integer";var z="http://www.w3.org/2001/XMLSchema#string";var g="http://www.w3.org/1999/02/22-rdf-syntax-ns#";var aN=g+"List";var at=g+"first";var H=g+"rest";var ak=g+"nil";var D=g+"type";var af=g+"PlainLiteral";var C=g+"XMLLiteral";var N=g+"object";var u=g+"langString";var aF="http://www.w3.org/ns/json-ld#context";var ad=10;var x=function(aS,aR,e){if(c){Error.call(this);Error.captureStackTrace(this,this.constructor)}else{if(typeof Error!=="undefined"){this.stack=(new Error()).stack}}this.name=aR||"jsonld.Error";this.message=aS||"An unspecified JSON-LD error occurred.";this.details=e||{}};if(c){require("util").inherits(x,Error)}else{if(typeof Error!=="undefined"){x.prototype=new Error()}}var m=function(){};m.prototype.compact=function(bc,a5,aR,aV){if(K(aR)){var bh=[];for(var bb=0;bb<aR.length;++bb){var ba=this.compact(bc,a5,aR[bb],aV);if(ba!==null){bh.push(ba)}}if(aV.compactArrays&&bh.length===1){var a6=I.getContextValue(bc,a5,"@container");if(a6===null){bh=bh[0]}}return bh}if(aC(aR)){if(aV.link&&"@id" in aR&&aR["@id"] in aV.link){var be=aV.link[aR["@id"]];for(var bb=0;bb<be.length;++bb){if(be[bb].expanded===aR){return be[bb].compacted}}}if(aI(aR)||ax(aR)){var bh=aQ(bc,a5,aR);if(aV.link&&ax(aR)){if(!(aR["@id"] in aV.link)){aV.link[aR["@id"]]=[]}aV.link[aR["@id"]].push({expanded:aR,compacted:bh})}return bh}var a4=(a5==="@reverse");var bh={};if(aV.link&&"@id" in aR){if(!(aR["@id"] in aV.link)){aV.link[aR["@id"]]=[]}aV.link[aR["@id"]].push({expanded:aR,compacted:bh})}var a7=Object.keys(aR).sort();for(var aW=0;aW<a7.length;++aW){var aX=a7[aW];var aS=aR[aX];if(aX==="@id"||aX==="@type"){var a1;if(aa(aS)){a1=aG(bc,aS,null,{vocab:(aX==="@type")})}else{a1=[];for(var bg=0;bg<aS.length;++bg){a1.push(aG(bc,aS[bg],null,{vocab:true}))}}var a8=aG(bc,aX);var a3=(K(a1)&&aS.length===0);I.addValue(bh,a8,a1,{propertyIsArray:a3});continue}if(aX==="@reverse"){var a1=this.compact(bc,"@reverse",aS,aV);for(var aY in a1){if(bc.mappings[aY]&&bc.mappings[aY].reverse){var a9=a1[aY];var a6=I.getContextValue(bc,aY,"@container");var a2=(a6==="@set"||!aV.compactArrays);I.addValue(bh,aY,a9,{propertyIsArray:a2});delete a1[aY]}}if(Object.keys(a1).length>0){var a8=aG(bc,aX);I.addValue(bh,a8,a1)}continue}if(aX==="@index"){var a6=I.getContextValue(bc,a5,"@container");if(a6==="@index"){continue}var a8=aG(bc,aX);I.addValue(bh,a8,aS);continue}if(aX!=="@graph"&&aX!=="@list"&&R(aX)){var a8=aG(bc,aX);I.addValue(bh,a8,aS);continue}if(aS.length===0){var aU=aG(bc,aX,aS,{vocab:true},a4);I.addValue(bh,aU,aS,{propertyIsArray:true})}for(var bg=0;bg<aS.length;++bg){var a0=aS[bg];var aU=aG(bc,aX,a0,{vocab:true},a4);var a6=I.getContextValue(bc,aU,"@container");var bf=y(a0);var bd=null;if(bf){bd=a0["@list"]}var aT=this.compact(bc,aU,bf?bd:a0,aV);if(bf){if(!K(aT)){aT=[aT]}if(a6!=="@list"){var aZ={};aZ[aG(bc,"@list")]=aT;aT=aZ;if("@index" in a0){aT[aG(bc,"@index")]=a0["@index"]}}else{if(aU in bh){throw new x('JSON-LD compact error; property has a "@list" @container rule but there is more than a single @list that matches the compacted term in the document. Compaction might mix unwanted items into the list.',"jsonld.SyntaxError",{code:"compaction to list of lists"})}}}if(a6==="@language"||a6==="@index"){var e;if(aU in bh){e=bh[aU]}else{bh[aU]=e={}}if(a6==="@language"&&aI(aT)){aT=aT["@value"]}I.addValue(e,a0[a6],aT)}else{var a3=(!aV.compactArrays||a6==="@set"||a6==="@list"||(K(aT)&&aT.length===0)||aX==="@list"||aX==="@graph");I.addValue(bh,aU,aT,{propertyIsArray:a3})}}}return bh}return aR};m.prototype.expand=function(bd,a4,aS,aU,ba){var a9=this;if(aS===null||aS===undefined){return null}if(!K(aS)&&!aC(aS)){if(!ba&&(a4===null||G(bd,a4,{vocab:true})==="@graph")){return null}return B(bd,a4,aS)}if(K(aS)){var bh=[];var a5=I.getContextValue(bd,a4,"@container");ba=ba||a5==="@list";for(var bc=0;bc<aS.length;++bc){var be=a9.expand(bd,a4,aS[bc],aU);if(ba&&(K(be)||y(be))){throw new x("Invalid JSON-LD syntax; lists of lists are not permitted.","jsonld.SyntaxError",{code:"list of lists"})}if(be!==null){if(K(be)){bh=bh.concat(be)}else{bh.push(be)}}}return bh}if("@context" in aS){bd=a9.processContext(bd,aS["@context"],aU)}var a1=G(bd,a4,{vocab:true});var bh={};var a6=Object.keys(aS).sort();for(var aV=0;aV<a6.length;++aV){var bi=a6[aV];var bb=aS[bi];var aT;if(bi==="@context"){continue}var aW=G(bd,bi,{vocab:true});if(aW===null||!(aq(aW)||R(aW))){continue}if(R(aW)){if(a1==="@reverse"){throw new x("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:bb})}if(aW in bh){throw new x("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:aW})}}if(aW==="@id"&&!aa(bb)){if(!aU.isFrame){throw new x('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:bb})}if(!aC(bb)){throw new x('Invalid JSON-LD syntax; "@id" value must be a string or an object.',"jsonld.SyntaxError",{code:"invalid @id value",value:bb})}}if(aW==="@type"){P(bb)}if(aW==="@graph"&&!(aC(bb)||K(bb))){throw new x('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:bb})}if(aW==="@value"&&(aC(bb)||K(bb))){throw new x('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:bb})}if(aW==="@language"){if(bb===null){continue}if(!aa(bb)){throw new x('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:bb})}bb=bb.toLowerCase()}if(aW==="@index"){if(!aa(bb)){throw new x('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:bb})}}if(aW==="@reverse"){if(!aC(bb)){throw new x('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:bb})}aT=a9.expand(bd,"@reverse",bb,aU);if("@reverse" in aT){for(var aY in aT["@reverse"]){I.addValue(bh,aY,aT["@reverse"][aY],{propertyIsArray:true})}}var aZ=bh["@reverse"]||null;for(var aY in aT){if(aY==="@reverse"){continue}if(aZ===null){aZ=bh["@reverse"]={}}I.addValue(aZ,aY,[],{propertyIsArray:true});var a8=aT[aY];for(var a3=0;a3<a8.length;++a3){var bf=a8[a3];if(aI(bf)||y(bf)){throw new x('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:aT})}I.addValue(aZ,aY,bf,{propertyIsArray:true})}}continue}var a5=I.getContextValue(bd,bi,"@container");if(a5==="@language"&&aC(bb)){aT=aB(bb)}else{if(a5==="@index"&&aC(bb)){aT=(function a7(bp){var bl=[];var bk=Object.keys(bb).sort();for(var bo=0;bo<bk.length;++bo){var e=bk[bo];var bn=bb[e];if(!K(bn)){bn=[bn]}bn=a9.expand(bd,bp,bn,aU,false);for(var bm=0;bm<bn.length;++bm){var bj=bn[bm];if(!("@index" in bj)){bj["@index"]=e}bl.push(bj)}}return bl})(bi)}else{var bg=(aW==="@list");if(bg||aW==="@set"){var aR=a4;if(bg&&a1==="@graph"){aR=null}aT=a9.expand(bd,aR,bb,aU,bg);if(bg&&y(aT)){throw new x("Invalid JSON-LD syntax; lists of lists are not permitted.","jsonld.SyntaxError",{code:"list of lists"})}}else{aT=a9.expand(bd,bi,bb,aU,false)}}}if(aT===null&&aW!=="@value"){continue}if(aW!=="@list"&&!y(aT)&&a5==="@list"){aT=(K(aT)?aT:[aT]);aT={"@list":aT}}if(bd.mappings[bi]&&bd.mappings[bi].reverse){var aZ=bh["@reverse"]=bh["@reverse"]||{};if(!K(aT)){aT=[aT]}for(var a3=0;a3<aT.length;++a3){var bf=aT[a3];if(aI(bf)||y(bf)){throw new x('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:aT})}I.addValue(aZ,aW,bf,{propertyIsArray:true})}continue}var a2=["@index","@id","@type","@value","@language"].indexOf(aW)===-1;I.addValue(bh,aW,aT,{propertyIsArray:a2})}a6=Object.keys(bh);var aX=a6.length;if("@value" in bh){if("@type" in bh&&"@language" in bh){throw new x('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:bh})}var a0=aX-1;if("@type" in bh){a0-=1}if("@index" in bh){a0-=1}if("@language" in bh){a0-=1}if(a0!==0){throw new x('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and at most one other property which can be "@type" or "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:bh})}if(bh["@value"]===null){bh=null}else{if("@language" in bh&&!aa(bh["@value"])){throw new x("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:bh})}else{if("@type" in bh&&(!aq(bh["@type"])||bh["@type"].indexOf("_:")===0)){throw new x('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:bh})}}}}else{if("@type" in bh&&!K(bh["@type"])){bh["@type"]=[bh["@type"]]}else{if("@set" in bh||"@list" in bh){if(aX>1&&!(aX===2&&"@index" in bh)){throw new x('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:bh})}if("@set" in bh){bh=bh["@set"];a6=Object.keys(bh);aX=a6.length}}else{if(aX===1&&"@language" in bh){bh=null}}}}if(aC(bh)&&!aU.keepFreeFloatingNodes&&!ba&&(a4===null||a1==="@graph")){if(aX===0||"@value" in bh||"@list" in bh||(aX===1&&"@id" in bh)){bh=null}}return bh};m.prototype.createNodeMap=function(aR,aS){aS=aS||{};var aT=aS.namer||new j("_:b");var e={"@default":{}};ae(aR,e,"@default",aT);return ah(e)};m.prototype.flatten=function(aR){var e=this.createNodeMap(aR);var aS=[];var aU=Object.keys(e).sort();for(var aV=0;aV<aU.length;++aV){var aT=e[aU[aV]];if(!ax(aT)){aS.push(aT)}}return aS};m.prototype.frame=function(aR,aV,aS){var aT={options:aS,graphs:{"@default":{},"@merged":{}},subjectStack:[],link:{}};var aU=new j("_:b");ae(aR,aT.graphs,"@merged",aU);aT.subjects=aT.graphs["@merged"];var e=[];O(aT,Object.keys(aT.subjects).sort(),aV,e,null);return e};m.prototype.normalize=function(aW,e,aR){var aT=[];var aZ={};for(var a6 in aW){var a1=aW[a6];if(a6==="@default"){a6=null}for(var aS=0;aS<a1.length;++aS){var aV=a1[aS];if(a6!==null){if(a6.indexOf("_:")===0){aV.name={type:"blank node",value:a6}}else{aV.name={type:"IRI",value:a6}}}aT.push(aV);var a2=["subject","object","name"];for(var a5=0;a5<a2.length;++a5){var a3=a2[a5];if(aV[a3]&&aV[a3].type==="blank node"){var a0=aV[a3].value;if(a0 in aZ){aZ[a0].quads.push(aV)}else{aZ[a0]={quads:[aV]}}}}}}var aX=new j("_:c14n");return a7(Object.keys(aZ));function a7(a9){var ba=[];var bc={};var bb={};I.setImmediate(function(){a8(0)});function a8(be){if(be===a9.length){return aU(bb,bc,ba)}var bd=a9[be];var bf=aE(bd,aZ);if(bf in bc){bc[bf].push(bd);ba.push(bd)}else{if(bf in bb){bc[bf]=[bb[bf],bd];ba.push(bb[bf]);ba.push(bd);delete bb[bf]}else{bb[bf]=bd}}I.setImmediate(function(){a8(be+1)})}}function aU(bd,be,bb){var a9=false;var ba=Object.keys(bd).sort();for(var bc=0;bc<ba.length;++bc){var a8=bd[ba[bc]];aX.getName(a8);a9=true}if(a9){a7(bb)}else{aY(be)}}function aY(ba){var a8=Object.keys(ba).sort();a9(0);function a9(bc){if(bc===a8.length){return a4()}var bd=ba[a8[bc]];var bb=[];be(bd,0);function be(bj,bk){if(bk===bj.length){bb.sort(function(bm,bl){bm=bm.hash;bl=bl.hash;return(bm<bl)?-1:((bm>bl)?1:0)});for(var bi=0;bi<bb.length;++bi){for(var bg in bb[bi].pathNamer.existing){aX.getName(bg)}}return a9(bc+1)}var bf=bj[bk];if(aX.isNamed(bf)){return be(bj,bk+1)}var bh=new j("_:b");bh.getName(bf);M(bf,aZ,aX,bh,function(bm,bl){if(bm){return aR(bm)}bb.push(bl);be(bj,bk+1)})}}}function a4(){var bd=[];for(var bc=0;bc<aT.length;++bc){var ba=aT[bc];var bb=["subject","object","name"];for(var a9=0;a9<bb.length;++a9){var a8=bb[a9];if(ba[a8]&&ba[a8].type==="blank node"&&ba[a8].value.indexOf("_:c14n")!==0){ba[a8].value=aX.getName(ba[a8].value)}}bd.push(Y(ba,ba.name?ba.name.value:null))}bd.sort();if(e.format){if(e.format==="application/nquads"){return aR(null,bd.join(""))}return aR(new x("Unknown output format.","jsonld.UnknownFormat",{format:e.format}))}aR(null,U(bd.join("")))}};m.prototype.fromRDF=function(a4,aV,aY){var aU={};var be={"@default":aU};var a8={};for(var bn in a4){var aT=a4[bn];if(!(bn in be)){be[bn]={}}if(bn!=="@default"&&!(bn in aU)){aU[bn]={"@id":bn}}var e=be[bn];for(var aZ=0;aZ<aT.length;++aZ){var bi=aT[aZ];var a6=bi.subject.value;var ba=bi.predicate.value;var bb=bi.object;if(!(a6 in e)){e[a6]={"@id":a6}}var bd=e[a6];var a3=(bb.type==="IRI"||bb.type==="blank node");if(a3&&!(bb.value in e)){e[bb.value]={"@id":bb.value}}if(ba===D&&!aV.useRdfType&&a3){I.addValue(bd,"@type",bb.value,{propertyIsArray:true});continue}var bc=f(bb,aV.useNativeTypes);I.addValue(bd,ba,bc,{propertyIsArray:true});if(a3){if(bb.value===ak){var bm=e[bb.value];if(!("usages" in bm)){bm.usages=[]}bm.usages.push({node:bd,property:ba,value:bc})}else{if(bb.value in a8){a8[bb.value]=false}else{a8[bb.value]={node:bd,property:ba,value:bc}}}}}}for(var bn in be){var bh=be[bn];if(!(ak in bh)){continue}var a1=bh[ak];for(var bg=0;bg<a1.usages.length;++bg){var bk=a1.usages[bg];var bd=bk.node;var a2=bk.property;var aX=bk.value;var bj=[];var a9=[];var aR=Object.keys(bd).length;while(a2===H&&aC(a8[bd["@id"]])&&K(bd[at])&&bd[at].length===1&&K(bd[H])&&bd[H].length===1&&(aR===3||(aR===4&&K(bd["@type"])&&bd["@type"].length===1&&bd["@type"][0]===aN))){bj.push(bd[at][0]);a9.push(bd["@id"]);bk=a8[bd["@id"]];bd=bk.node;a2=bk.property;aX=bk.value;aR=Object.keys(bd).length;if(bd["@id"].indexOf("_:")!==0){break}}if(a2===at){if(bd["@id"]===ak){continue}aX=bh[aX["@id"]][H][0];bj.pop();a9.pop()}delete aX["@id"];aX["@list"]=bj.reverse();for(var bf=0;bf<a9.length;++bf){delete bh[a9[bf]]}}delete a1.usages}var a5=[];var a7=Object.keys(aU).sort();for(var bg=0;bg<a7.length;++bg){var a0=a7[bg];var bd=aU[a0];if(a0 in be){var aT=bd["@graph"]=[];var bh=be[a0];var aW=Object.keys(bh).sort();for(var bl=0;bl<aW.length;++bl){var aS=bh[aW[bl]];if(!ax(aS)){aT.push(aS)}}}if(!ax(bd)){a5.push(bd)}}aY(null,a5)};m.prototype.toRDF=function(aR,aS){var aX=new j("_:b");var aV={"@default":{}};ae(aR,aV,"@default",aX);var aW={};var e=Object.keys(aV).sort();for(var aU=0;aU<e.length;++aU){var aT=e[aU];if(aT==="@default"||aq(aT)){aW[aT]=h(aV[aT],aX,aS)}}return aW};m.prototype.processContext=function(aY,aV,a1){if(aC(aV)&&"@context" in aV&&K(aV["@context"])){aV=aV["@context"]}var aW=K(aV)?aV:[aV];if(aW.length===0){return aY.clone()}var aU=aY;for(var aT=0;aT<aW.length;++aT){var a0=aW[aT];if(a0===null){aU=aY=A(a1);continue}if(aC(a0)&&"@context" in a0){a0=a0["@context"]}if(!aC(a0)){throw new x("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:a0})}if(I.cache.activeCtx){var aR=I.cache.activeCtx.get(aY,a0);if(aR){aU=aY=aR;continue}}aY=aU;aU=aU.clone();var aS={};if("@base" in a0){var e=a0["@base"];if(e===null){e=null}else{if(!aa(e)){throw new x('Invalid JSON-LD syntax; the value of "@base" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:a0})}else{if(e!==""&&!aq(e)){throw new x('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI or the empty string.',"jsonld.SyntaxError",{code:"invalid base IRI",context:a0})}}}if(e!==null){e=I.url.parse(e||"")}aU["@base"]=e;aS["@base"]=true}if("@vocab" in a0){var aX=a0["@vocab"];if(aX===null){delete aU["@vocab"]}else{if(!aa(aX)){throw new x('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:a0})}else{if(!aq(aX)){throw new x('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:a0})}else{aU["@vocab"]=aX}}}aS["@vocab"]=true}if("@language" in a0){var aX=a0["@language"];if(aX===null){delete aU["@language"]}else{if(!aa(aX)){throw new x('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:a0})}else{aU["@language"]=aX.toLowerCase()}}aS["@language"]=true}for(var aZ in a0){r(aU,a0,aZ,aS)}if(I.cache.activeCtx){I.cache.activeCtx.set(aY,a0,aU)}}return aU};function aB(aX){var aT=[];var aS=Object.keys(aX).sort();for(var aW=0;aW<aS.length;++aW){var e=aS[aW];var aV=aX[e];if(!K(aV)){aV=[aV]}for(var aU=0;aU<aV.length;++aU){var aR=aV[aU];if(!aa(aR)){throw new x("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:aX})}aT.push({"@value":aR,"@language":e.toLowerCase()})}}return aT}function X(aV,aS){if(K(aS)){for(var aR=0;aR<aS.length;++aR){aS[aR]=X(aV,aS[aR])}}else{if(y(aS)){aS["@list"]=X(aV,aS["@list"])}else{if(aC(aS)){if(av(aS)){aS["@id"]=aV.getName(aS["@id"])}var aT=Object.keys(aS).sort();for(var aU=0;aU<aT.length;++aU){var e=aT[aU];if(e!=="@id"){aS[e]=X(aV,aS[e])}}}}}return aS}function B(aT,aV,aS){if(aS===null||aS===undefined){return null}var e=G(aT,aV,{vocab:true});if(e==="@id"){return G(aT,aS,{base:true})}else{if(e==="@type"){return G(aT,aS,{vocab:true,base:true})}}var aR=I.getContextValue(aT,aV,"@type");if(aR==="@id"||(e==="@graph"&&aa(aS))){return{"@id":G(aT,aS,{base:true})}}if(aR==="@vocab"){return{"@id":G(aT,aS,{vocab:true,base:true})}}if(R(e)){return aS}var aU={};if(aR!==null){aU["@type"]=aR}else{if(aa(aS)){var aW=I.getContextValue(aT,aV,"@language");if(aW!==null){aU["@language"]=aW}}}if(["boolean","number","string"].indexOf(typeof aS)===-1){aS=aS.toString()}aU["@value"]=aS;return aU}function h(a4,a0,a6){var aW=[];var e=Object.keys(a4).sort();for(var aU=0;aU<e.length;++aU){var aR=e[aU];var aS=a4[aR];var aY=Object.keys(aS).sort();for(var aV=0;aV<aY.length;++aV){var a2=aY[aV];var aX=aS[a2];if(a2==="@type"){a2=D}else{if(R(a2)){continue}}for(var a3=0;a3<aX.length;++a3){var a5=aX[a3];var aZ={};aZ.type=(aR.indexOf("_:")===0)?"blank node":"IRI";aZ.value=aR;if(!aq(aR)){continue}var a1={};a1.type=(a2.indexOf("_:")===0)?"blank node":"IRI";a1.value=a2;if(!aq(a2)){continue}if(a1.type==="blank node"&&!a6.produceGeneralizedRdf){continue}if(y(a5)){ag(a5["@list"],a0,aZ,a1,aW)}else{var aT=an(a5);if(aT){aW.push({subject:aZ,predicate:a1,object:aT})}}}}}return aW}function ag(aV,aY,aW,aZ,a0){var aT={type:"IRI",value:at};var e={type:"IRI",value:H};var aX={type:"IRI",value:ak};for(var aS=0;aS<aV.length;++aS){var a1=aV[aS];var aU={type:"blank node",value:aY.getName()};a0.push({subject:aW,predicate:aZ,object:aU});aW=aU;aZ=aT;var aR=an(a1);if(aR){a0.push({subject:aW,predicate:aZ,object:aR})}aZ=e}a0.push({subject:aW,predicate:aZ,object:aX})}function an(aS){var e={};if(aI(aS)){e.type="literal";var aT=aS["@value"];var aR=aS["@type"]||null;if(i(aT)){e.value=aT.toString();e.datatype=aR||Z}else{if(ao(aT)||aR===W){if(!ao(aT)){aT=parseFloat(aT)}e.value=aT.toExponential(15).replace(/(\d)0*e\+?/,"$1E");e.datatype=aR||W}else{if(aM(aT)){e.value=aT.toFixed(0);e.datatype=aR||t}else{if("@language" in aS){e.value=aT;e.datatype=aR||u;e.language=aS["@language"]}else{e.value=aT;e.datatype=aR||z}}}}}else{var aU=aC(aS)?aS["@id"]:aS;e.type=(aU.indexOf("_:")===0)?"blank node":"IRI";e.value=aU}if(e.type==="IRI"&&!aq(e.value)){return null}return e}function f(aU,aR){if(aU.type==="IRI"||aU.type==="blank node"){return{"@id":aU.value}}var aT={"@value":aU.value};if(aU.language){aT["@language"]=aU.language}else{var aS=aU.datatype;if(!aS){aS=z}if(aR){if(aS===Z){if(aT["@value"]==="true"){aT["@value"]=true}else{if(aT["@value"]==="false"){aT["@value"]=false}}}else{if(T(aT["@value"])){if(aS===t){var e=parseInt(aT["@value"],10);if(e.toFixed(0)===aT["@value"]){aT["@value"]=e}}else{if(aS===W){aT["@value"]=parseFloat(aT["@value"])}}}}if([Z,t,W,z].indexOf(aS)===-1){aT["@type"]=aS}}else{if(aS!==z){aT["@type"]=aS}}}return aT}function q(aU,aT){var aR=["subject","predicate","object"];for(var aS=0;aS<aR.length;++aS){var e=aR[aS];if(aU[e].type!==aT[e].type||aU[e].value!==aT[e].value){return false}}if(aU.object.language!==aT.object.language){return false}if(aU.object.datatype!==aT.object.datatype){return false}return true}function aE(aV,aT){if("hash" in aT[aV]){return aT[aV].hash}var e=aT[aV].quads;var aR=[];for(var aS=0;aS<e.length;++aS){aR.push(Y(e[aS],e[aS].name?e[aS].name.value:null,aV))}aR.sort();var aU=aT[aV].hash=au.hash(aR);return aU}function M(e,aR,aW,aT,aZ){var aX=au.create();var aS={};var aY;var a0=aR[e].quads;I.setImmediate(function(){aU(0)});function aU(a5){if(a5===a0.length){aY=Object.keys(aS).sort();return aV(0)}var a2=a0[a5];var a1=ar(a2.subject,e);var a7=null;if(a1!==null){a7="p"}else{a1=ar(a2.object,e);if(a1!==null){a7="r"}}if(a1!==null){var a3;if(aW.isNamed(a1)){a3=aW.getName(a1)}else{if(aT.isNamed(a1)){a3=aT.getName(a1)}else{a3=aE(a1,aR)}}var a6=au.create();a6.update(a7);a6.update(a2.predicate.value);a6.update(a3);var a4=a6.digest();if(a4 in aS){aS[a4].push(a1)}else{aS[a4]=[a1]}}I.setImmediate(function(){aU(a5+1)})}function aV(a5){if(a5===aY.length){return aZ(null,{hash:aX.digest(),pathNamer:aT})}var a4=aY[a5];aX.update(a4);var a2=null;var a3=null;var a1=new n(aS[a4]);I.setImmediate(function(){a6()});function a6(){var bb=a1.next();var a9=aT.clone();var bd="";var bc=[];for(var be in bb){var a7=bb[be];if(aW.isNamed(a7)){bd+=aW.getName(a7)}else{if(!a9.isNamed(a7)){bc.push(a7)}bd+=a9.getName(a7)}if(a2!==null&&bd.length>=a2.length&&bd>a2){return ba(true)}}a8(0);function a8(bg){if(bg===bc.length){return ba(false)}var bf=bc[bg];M(bf,aR,aW,a9,function(bi,bh){if(bi){return aZ(bi)}bd+=a9.getName(bf)+"<"+bh.hash+">";a9=bh.pathNamer;if(a2!==null&&bd.length>=a2.length&&bd>a2){return ba(true)}a8(bg+1)})}function ba(bf){if(!bf&&(a2===null||bd<a2)){a2=bd;a3=a9}if(a1.hasNext()){I.setImmediate(function(){a6()})}else{aX.update(a2);aT=a3;aV(a5+1)}}}}}function ar(e,aR){return(e.type==="blank node"&&e.value!==aR?e.value:null)}function ae(a0,aU,aR,a4,bg,bc){if(K(a0)){for(var a9=0;a9<a0.length;++a9){ae(a0[a9],aU,aR,a4,undefined,bc)}return}if(!aC(a0)){if(bc){bc.push(a0)}return}if(aI(a0)){if("@type" in a0){var aS=a0["@type"];if(aS.indexOf("_:")===0){a0["@type"]=aS=a4.getName(aS)}}if(bc){bc.push(a0)}return}if("@type" in a0){var a1=a0["@type"];for(var a9=0;a9<a1.length;++a9){var aS=a1[a9];if(aS.indexOf("_:")===0){a4.getName(aS)}}}if(L(bg)){bg=av(a0)?a4.getName(a0["@id"]):a0["@id"]}if(bc){bc.push({"@id":bg})}var a5=aU[aR];var aT=a5[bg]=a5[bg]||{};aT["@id"]=bg;var aW=Object.keys(a0).sort();for(var be=0;be<aW.length;++be){var aV=aW[be];if(aV==="@id"){continue}if(aV==="@reverse"){var aX={"@id":bg};var aY=a0["@reverse"];for(var bf in aY){var a6=aY[bf];for(var a2=0;a2<a6.length;++a2){var bd=a6[a2];var ba=bd["@id"];if(av(bd)){ba=a4.getName(ba)}ae(bd,aU,aR,a4,ba);I.addValue(a5[ba],bf,aX,{propertyIsArray:true,allowDuplicate:false})}}continue}if(aV==="@graph"){if(!(bg in aU)){aU[bg]={}}var bb=(aR==="@merged")?aR:bg;ae(a0[aV],aU,bb,a4);continue}if(aV!=="@type"&&R(aV)){if(aV==="@index"&&aV in aT&&(a0[aV]!==aT[aV]||a0[aV]["@id"]!==aT[aV]["@id"])){throw new x("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:aT})}aT[aV]=a0[aV];continue}var e=a0[aV];if(aV.indexOf("_:")===0){aV=a4.getName(aV)}if(e.length===0){I.addValue(aT,aV,[],{propertyIsArray:true});continue}for(var a3=0;a3<e.length;++a3){var a8=e[a3];if(aV==="@type"){a8=(a8.indexOf("_:")===0)?a4.getName(a8):a8}if(aO(a8)||ax(a8)){var a7=av(a8)?a4.getName(a8["@id"]):a8["@id"];I.addValue(aT,aV,{"@id":a7},{propertyIsArray:true,allowDuplicate:false});ae(a8,aU,aR,a4,a7)}else{if(y(a8)){var aZ=[];ae(a8["@list"],aU,aR,a4,bg,aZ);a8={"@list":aZ};I.addValue(aT,aV,a8,{propertyIsArray:true,allowDuplicate:false})}else{ae(a8,aU,aR,a4,bg);I.addValue(aT,aV,a8,{propertyIsArray:true,allowDuplicate:false})}}}}}function ah(aV){var aY=aV["@default"];var aU=Object.keys(aV).sort();for(var aS=0;aS<aU.length;++aS){var aT=aU[aS];if(aT==="@default"){continue}var aW=aV[aT];var aX=aY[aT];if(!aX){aY[aT]=aX={"@id":aT,"@graph":[]}}else{if(!("@graph" in aX)){aX["@graph"]=[]}}var a0=aX["@graph"];var e=Object.keys(aW).sort();for(var aZ=0;aZ<e.length;++aZ){var aR=aW[e[aZ]];if(!ax(aR)){a0.push(aR)}}}return aY}function O(aV,a5,a2,a1,aZ){l(a2);a2=a2[0];var aU=aV.options;var aX={embed:aL(a2,aU,"embed"),explicit:aL(a2,aU,"explicit"),requireAll:aL(a2,aU,"requireAll")};var aR=am(aV,a5,a2,aX);var ba=Object.keys(aR).sort();for(var a4=0;a4<ba.length;++a4){var a6=ba[a4];var aW=aR[a6];if(aX.embed==="@link"&&a6 in aV.link){p(a1,aZ,aV.link[a6]);continue}if(aZ===null){aV.uniqueEmbeds={}}var a0={};a0["@id"]=a6;aV.link[a6]=a0;if(aX.embed==="@never"||Q(aW,aV.subjectStack)){p(a1,aZ,a0);continue}if(aX.embed==="@last"){if(a6 in aV.uniqueEmbeds){ai(aV,a6)}aV.uniqueEmbeds[a6]={parent:a1,property:aZ}}aV.subjectStack.push(aW);var aT=Object.keys(aW).sort();for(var bb=0;bb<aT.length;bb++){var aS=aT[bb];if(R(aS)){a0[aS]=o(aW[aS]);continue}if(aX.explicit&&!(aS in a2)){continue}var e=aW[aS];for(var a3=0;a3<e.length;++a3){var a8=e[a3];if(y(a8)){var bd={"@list":[]};p(a0,aS,bd);var aY=a8["@list"];for(var a9 in aY){a8=aY[a9];if(ax(a8)){var bc=(aS in a2?a2[aS][0]["@list"]:J(aX));O(aV,[a8["@id"]],bc,bd,"@list")}else{p(bd,"@list",o(a8))}}continue}if(ax(a8)){var bc=(aS in a2?a2[aS]:J(aX));O(aV,[a8["@id"]],bc,a0,aS)}else{p(a0,aS,o(a8))}}}var aT=Object.keys(a2).sort();for(var bb=0;bb<aT.length;++bb){var aS=aT[bb];if(R(aS)){continue}var a7=a2[aS][0];var be=aL(a7,aU,"omitDefault");if(!be&&!(aS in a0)){var bf="@null";if("@default" in a7){bf=o(a7["@default"])}if(!K(bf)){bf=[bf]}a0[aS]=[{"@preserve":bf}]}}p(a1,aZ,a0);aV.subjectStack.pop()}}function J(e){var aS={};for(var aR in e){if(e[aR]!==undefined){aS["@"+aR]=[e[aR]]}}return[aS]}function Q(aS,aR){for(var e=aR.length-1;e>=0;--e){if(aR[e]["@id"]===aS["@id"]){return true}}return false}function aL(aU,aS,aR){var e="@"+aR;var aT=(e in aU?aU[e][0]:aS[aR]);if(aR==="embed"){if(aT===true){aT="@last"}else{if(aT===false){aT="@never"}else{if(aT!=="@always"&&aT!=="@never"&&aT!=="@link"){aT="@last"}}}}return aT}function l(e){if(!K(e)||e.length!==1||!aC(e[0])){throw new x("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e})}}function am(aU,aR,aW,e){var aV={};for(var aT=0;aT<aR.length;++aT){var aX=aR[aT];var aS=aU.subjects[aX];if(aH(aS,aW,e)){aV[aX]=aS}}return aV}function aH(aX,e,aR){if("@type" in e&&!(e["@type"].length===1&&aC(e["@type"][0]))){var aW=e["@type"];for(var aU=0;aU<aW.length;++aU){if(I.hasValue(aX,"@type",aW[aU])){return true}}return false}var aS=true;var aT=false;for(var aY in e){if(R(aY)){if(aY!=="@id"&&aY!=="@type"){continue}aS=false;if(aY==="@id"&&aa(e[aY])){if(aX[aY]!==e[aY]){return false}aT=true;continue}}aS=false;if(aY in aX){if(K(e[aY])&&e[aY].length===0&&aX[aY]!==undefined){return false}aT=true;continue}var aV=(K(e[aY])&&aC(e[aY][0])&&"@default" in e[aY][0]);if(aR.requireAll&&!aV){return false}}return aS||aT}function ai(e,aR){var aS=e.uniqueEmbeds;var aV=aS[aR];var aY=aV.parent;var aZ=aV.property;var aX={"@id":aR};if(K(aY)){for(var aU=0;aU<aY.length;++aU){if(I.compareValues(aY[aU],aX)){aY[aU]=aX;break}}}else{var aW=K(aY[aZ]);I.removeValue(aY,aZ,aX,{propertyIsArray:aW});I.addValue(aY,aZ,aX,{propertyIsArray:aW})}var aT=function(a3){var a2=Object.keys(aS);for(var a0=0;a0<a2.length;++a0){var a1=a2[a0];if(a1 in aS&&aC(aS[a1].parent)&&aS[a1].parent["@id"]===a3){delete aS[a1];aT(a1)}}};aT(aR)}function p(aR,aS,e){if(aC(aR)){I.addValue(aR,aS,e,{propertyIsArray:true})}else{aR.push(e)}}function w(aY,aV,aZ){if(K(aV)){var aT=[];for(var aU=0;aU<aV.length;++aU){var a0=w(aY,aV[aU],aZ);if(a0!==null){aT.push(a0)}}aV=aT}else{if(aC(aV)){if("@preserve" in aV){if(aV["@preserve"]==="@null"){return null}return aV["@preserve"]}if(aI(aV)){return aV}if(y(aV)){aV["@list"]=w(aY,aV["@list"],aZ);return aV}var aX=aG(aY,"@id");if(aX in aV){var aS=aV[aX];if(aS in aZ.link){var aW=aZ.link[aS].indexOf(aV);if(aW===-1){aZ.link[aS].push(aV)}else{return aZ.link[aS][aW]}}else{aZ.link[aS]=[aV]}}for(var aR in aV){var a0=w(aY,aV[aR],aZ);var e=I.getContextValue(aY,aR,"@container");if(aZ.compactArrays&&K(a0)&&a0.length===1&&e===null){a0=a0[0]}aV[aR]=a0}}}return aV}function s(aR,e){if(aR.length<e.length){return -1}if(e.length<aR.length){return 1}if(aR===e){return 0}return(aR<e)?-1:1}function aj(aY,aW,aZ,aS,a0,aV){if(aV===null){aV="@null"}var a3=[];if((aV==="@id"||aV==="@reverse")&&ax(aZ)){if(aV==="@reverse"){a3.push("@reverse")}var aT=aG(aY,aZ["@id"],null,{vocab:true});if(aT in aY.mappings&&aY.mappings[aT]&&aY.mappings[aT]["@id"]===aZ["@id"]){a3.push.apply(a3,["@vocab","@id"])}else{a3.push.apply(a3,["@id","@vocab"])}}else{a3.push(aV)}a3.push("@none");var aX=aY.inverse[aW];for(var a2=0;a2<aS.length;++a2){var e=aS[a2];if(!(e in aX)){continue}var aR=aX[e][a0];for(var aU=0;aU<a3.length;++aU){var a1=a3[aU];if(!(a1 in aR)){continue}return aR[a1]}}return null}function aG(a8,a2,a3,aT,aX){if(a2===null){return a2}if(L(a3)){a3=null}if(L(aX)){aX=false}aT=aT||{};if(R(a2)){aT.vocab=true}if(aT.vocab&&a2 in a8.getInverse()){var bb=a8["@language"]||"@none";var a0=[];if(aC(a3)&&"@index" in a3){a0.push("@index")}var a6="@language";var aZ="@null";if(aX){a6="@type";aZ="@reverse";a0.push("@set")}else{if(y(a3)){if(!("@index" in a3)){a0.push("@list")}var a9=a3["@list"];var aR=(a9.length===0)?bb:null;var a4=null;for(var a7=0;a7<a9.length;++a7){var ba=a9[a7];var a5="@none";var bc="@none";if(aI(ba)){if("@language" in ba){a5=ba["@language"]}else{if("@type" in ba){bc=ba["@type"]}else{a5="@null"}}}else{bc="@id"}if(aR===null){aR=a5}else{if(a5!==aR&&aI(ba)){aR="@none"}}if(a4===null){a4=bc}else{if(bc!==a4){a4="@none"}}if(aR==="@none"&&a4==="@none"){break}}aR=aR||"@none";a4=a4||"@none";if(a4!=="@none"){a6="@type";aZ=a4}else{aZ=aR}}else{if(aI(a3)){if("@language" in a3&&!("@index" in a3)){a0.push("@language");aZ=a3["@language"]}else{if("@type" in a3){a6="@type";aZ=a3["@type"]}}}else{a6="@type";aZ="@id"}a0.push("@set")}}a0.push("@none");var a1=aj(a8,a2,a3,a0,a6,aZ);if(a1!==null){return a1}}if(aT.vocab){if("@vocab" in a8){var e=a8["@vocab"];if(a2.indexOf(e)===0&&a2!==e){var aS=a2.substr(e.length);if(!(aS in a8.mappings)){return aS}}}}var aY=null;for(var a1 in a8.mappings){if(a1.indexOf(":")!==-1){continue}var aV=a8.mappings[a1];if(!aV||aV["@id"]===a2||a2.indexOf(aV["@id"])!==0){continue}var aU=a1+":"+a2.substr(aV["@id"].length);var aW=(!(aU in a8.mappings)||(a3===null&&a8.mappings[aU]&&a8.mappings[aU]["@id"]===a2));if(aW&&(aY===null||s(aU,aY)<0)){aY=aU}}if(aY!==null){return aY}if(!aT.vocab){return aP(a8["@base"],a2)}return a2}function aQ(a0,aY,a1){if(aI(a1)){var aW=I.getContextValue(a0,aY,"@type");var aS=I.getContextValue(a0,aY,"@language");var e=I.getContextValue(a0,aY,"@container");var a3=(("@index" in a1)&&e!=="@index");if(!a3){if(a1["@type"]===aW||a1["@language"]===aS){return a1["@value"]}}var aR=Object.keys(a1).length;var aZ=(aR===1||(aR===2&&("@index" in a1)&&!a3));var aV=("@language" in a0);var aX=aa(a1["@value"]);var aU=(a0.mappings[aY]&&a0.mappings[aY]["@language"]===null);if(aZ&&(!aV||!aX||aU)){return a1["@value"]}var aT={};if(a3){aT[aG(a0,"@index")]=a1["@index"]}if("@type" in a1){aT[aG(a0,"@type")]=aG(a0,a1["@type"],null,{vocab:true})}else{if("@language" in a1){aT[aG(a0,"@language")]=a1["@language"]}}aT[aG(a0,"@value")]=a1["@value"];return aT}var a4=G(a0,aY,{vocab:true});var aW=I.getContextValue(a0,aY,"@type");var a2=aG(a0,a1["@id"],null,{vocab:aW==="@vocab"});if(aW==="@id"||aW==="@vocab"||a4==="@graph"){return a2}var aT={};aT[aG(a0,"@id")]=a2;return aT}function r(a1,aW,aT,aU){if(aT in aU){if(aU[aT]){return}throw new x("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:aW,term:aT})}aU[aT]=false;if(R(aT)){throw new x("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:aW,term:aT})}if(aT===""){throw new x("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:aW})}if(a1.mappings[aT]){delete a1.mappings[aT]}var a2=aW[aT];if(a2===null||(aC(a2)&&a2["@id"]===null)){a1.mappings[aT]=null;aU[aT]=true;return}if(aa(a2)){a2={"@id":a2}}if(!aC(a2)){throw new x("Invalid JSON-LD syntax; @context property values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:aW})}var e=a1.mappings[aT]={};e.reverse=false;if("@reverse" in a2){if("@id" in a2){throw new x("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:aW})}var aZ=a2["@reverse"];if(!aa(aZ)){throw new x("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:aW})}var aS=G(a1,aZ,{vocab:true,base:false},aW,aU);if(!aq(aS)){throw new x("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:aW})}e["@id"]=aS;e.reverse=true}else{if("@id" in a2){var aS=a2["@id"];if(!aa(aS)){throw new x("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:aW})}if(aS!==aT){aS=G(a1,aS,{vocab:true,base:false},aW,aU);if(!aq(aS)&&!R(aS)){throw new x("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:aW})}e["@id"]=aS}}}if(!("@id" in e)){var aY=aT.indexOf(":");if(aY!==-1){var aX=aT.substr(0,aY);if(aX in aW){r(a1,aW,aX,aU)}if(a1.mappings[aX]){var a3=aT.substr(aY+1);e["@id"]=a1.mappings[aX]["@id"]+a3}else{e["@id"]=aT}}else{if(!("@vocab" in a1)){throw new x("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:aW,term:aT})}e["@id"]=a1["@vocab"]+aT}}aU[aT]=true;if("@type" in a2){var a0=a2["@type"];if(!aa(a0)){throw new x("Invalid JSON-LD syntax; an @context @type values must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:aW})}if(a0!=="@id"&&a0!=="@vocab"){a0=G(a1,a0,{vocab:true,base:false},aW,aU);if(!aq(a0)){throw new x("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:aW})}if(a0.indexOf("_:")===0){throw new x("Invalid JSON-LD syntax; an @context @type values must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:aW})}}e["@type"]=a0}if("@container" in a2){var aR=a2["@container"];if(aR!=="@list"&&aR!=="@set"&&aR!=="@index"&&aR!=="@language"){throw new x("Invalid JSON-LD syntax; @context @container value must be one of the following: @list, @set, @index, or @language.","jsonld.SyntaxError",{code:"invalid container mapping",context:aW})}if(e.reverse&&aR!=="@index"&&aR!=="@set"&&aR!==null){throw new x("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:aW})}e["@container"]=aR}if("@language" in a2&&!("@type" in a2)){var aV=a2["@language"];if(aV!==null&&!aa(aV)){throw new x("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:aW})}if(aV!==null){aV=aV.toLowerCase()}e["@language"]=aV}var aS=e["@id"];if(aS==="@context"||aS==="@preserve"){throw new x("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:aW})}}function G(aX,aY,aR,aU,aS){if(aY===null||R(aY)){return aY}aY=String(aY);if(aU&&aY in aU&&aS[aY]!==true){r(aX,aU,aY,aS)}aR=aR||{};if(aR.vocab){var e=aX.mappings[aY];if(e===null){return null}if(e){return e["@id"]}}var aW=aY.indexOf(":");if(aW!==-1){var aV=aY.substr(0,aW);var aZ=aY.substr(aW+1);if(aV==="_"||aZ.indexOf("//")===0){return aY}if(aU&&aV in aU){r(aX,aU,aV,aS)}var e=aX.mappings[aV];if(e){return e["@id"]+aZ}return aY}if(aR.vocab&&"@vocab" in aX){return aX["@vocab"]+aY}var aT=aY;if(aR.base){aT=al(aX["@base"],aT)}return aT}function al(aS,aV){if(aS===null){return aV}if(aV.indexOf(":")!==-1){return aV}if(aa(aS)){aS=I.url.parse(aS||"")}var e=I.url.parse(aV);var aR={protocol:aS.protocol||""};if(e.authority!==null){aR.authority=e.authority;aR.path=e.path;aR.query=e.query}else{aR.authority=aS.authority;if(e.path===""){aR.path=aS.path;if(e.query!==null){aR.query=e.query}else{aR.query=aS.query}}else{if(e.path.indexOf("/")===0){aR.path=e.path}else{var aU=aS.path;if(e.path!==""){aU=aU.substr(0,aU.lastIndexOf("/")+1);if(aU.length>0&&aU.substr(-1)!=="/"){aU+="/"}aU+=e.path}aR.path=aU}aR.query=e.query}}aR.path=aD(aR.path,!!aR.authority);var aT=aR.protocol;if(aR.authority!==null){aT+="//"+aR.authority}aT+=aR.path;if(aR.query!==null){aT+="?"+aR.query}if(e.fragment!==null){aT+="#"+e.fragment}if(aT===""){aT="./"}return aT}function aP(e,aU){if(e===null){return aU}if(aa(e)){e=I.url.parse(e||"")}var aV="";if(e.href!==""){aV+=(e.protocol||"")+"//"+(e.authority||"")}else{if(aU.indexOf("//")){aV+="//"}}if(aU.indexOf(aV)!==0){return aU}var aY=I.url.parse(aU.substr(aV.length));var aT=e.normalizedPath.split("/");var aX=aY.normalizedPath.split("/");var aW=(aY.fragment||aY.query)?0:1;while(aT.length>0&&aX.length>aW){if(aT[0]!==aX[0]){break}aT.shift();aX.shift()}var aS="";if(aT.length>0){aT.pop();for(var aR=0;aR<aT.length;++aR){aS+="../"}}aS+=aX.join("/");if(aY.query!==null){aS+="?"+aY.query}if(aY.fragment!==null){aS+="#"+aY.fragment}if(aS===""){aS="./"}return aS}function A(e){var aT=I.url.parse(e.base||"");return{"@base":aT,mappings:{},inverse:null,getInverse:aU,clone:aR};function aU(){var a7=this;if(a7.inverse){return a7.inverse}var aZ=a7.inverse={};var a5=a7["@language"]||"@none";var a3=a7.mappings;var a1=Object.keys(a3).sort(s);for(var a2=0;a2<a1.length;++a2){var aY=a1[a2];var aW=a3[aY];if(aW===null){continue}var aX=aW["@container"]||"@none";var aV=aW["@id"];if(!K(aV)){aV=[aV]}for(var a8=0;a8<aV.length;++a8){var a4=aV[a8];var a6=aZ[a4];if(!a6){aZ[a4]=a6={}}if(!a6[aX]){a6[aX]={"@language":{},"@type":{}}}a6=a6[aX];if(aW.reverse){aS(aW,aY,a6["@type"],"@reverse")}else{if("@type" in aW){aS(aW,aY,a6["@type"],aW["@type"])}else{if("@language" in aW){var a0=aW["@language"]||"@null";aS(aW,aY,a6["@language"],a0)}else{aS(aW,aY,a6["@language"],a5);aS(aW,aY,a6["@type"],"@none");aS(aW,aY,a6["@language"],"@none")}}}}}return aZ}function aS(aV,aW,aX,aY){if(!(aY in aX)){aX[aY]=aW}}function aR(){var aV={};aV["@base"]=this["@base"];aV.mappings=o(this.mappings);aV.clone=this.clone;aV.inverse=null;aV.getInverse=this.getInverse;if("@language" in this){aV["@language"]=this["@language"]}if("@vocab" in this){aV["@vocab"]=this["@vocab"]}return aV}}function R(e){if(!aa(e)){return false}switch(e){case"@base":case"@context":case"@container":case"@default":case"@embed":case"@explicit":case"@graph":case"@id":case"@index":case"@language":case"@list":case"@omitDefault":case"@preserve":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@vocab":return true}return false}function aC(e){return(Object.prototype.toString.call(e)==="[object Object]")}function az(e){return aC(e)&&Object.keys(e).length===0}function K(e){return Array.isArray(e)}function P(e){if(aa(e)||az(e)){return}var aS=false;if(K(e)){aS=true;for(var aR=0;aR<e.length;++aR){if(!(aa(e[aR]))){aS=false;break}}}if(!aS){throw new x('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, or an empty object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}}function aa(e){return(typeof e==="string"||Object.prototype.toString.call(e)==="[object String]")}function aM(e){return(typeof e==="number"||Object.prototype.toString.call(e)==="[object Number]")}function ao(e){return aM(e)&&String(e).indexOf(".")!==-1}function T(e){return !isNaN(parseFloat(e))&&isFinite(e)}function i(e){return(typeof e==="boolean"||Object.prototype.toString.call(e)==="[object Boolean]")}function L(e){return(typeof e==="undefined")}function aO(e){var aS=false;if(aC(e)&&!(("@value" in e)||("@set" in e)||("@list" in e))){var aR=Object.keys(e).length;aS=(aR>1||!("@id" in e))}return aS}function ax(e){return(aC(e)&&Object.keys(e).length===1&&("@id" in e))}function aI(e){return aC(e)&&("@value" in e)}function y(e){return aC(e)&&("@list" in e)}function av(e){var aR=false;if(aC(e)){if("@id" in e){aR=(e["@id"].indexOf("_:")===0)}else{aR=(Object.keys(e).length===0||!(("@value" in e)||("@set" in e)||("@list" in e)))}}return aR}function aq(e){return aa(e)&&e.indexOf(":")!==-1}function o(aS){if(aS&&typeof aS==="object"){var aT;if(K(aS)){aT=[];for(var aR=0;aR<aS.length;++aR){aT[aR]=o(aS[aR])}}else{if(aC(aS)){aT={};for(var e in aS){aT[e]=o(aS[e])}}else{aT=aS.toString()}}return aT}return aS}function F(aX,aW,aT,e){var aV=Object.keys(aW).length;if(K(aX)){for(var aU=0;aU<aX.length;++aU){F(aX[aU],aW,aT,e)}return(aV<Object.keys(aW).length)}else{if(aC(aX)){for(var aY in aX){if(aY!=="@context"){F(aX[aY],aW,aT,e);continue}var aZ=aX[aY];if(K(aZ)){var aS=aZ.length;for(var aU=0;aU<aS;++aU){var aR=aZ[aU];if(aa(aR)){aR=al(e,aR);if(aT){aR=aW[aR];if(K(aR)){Array.prototype.splice.apply(aZ,[aU,1].concat(aR));aU+=aR.length-1;aS=aZ.length}else{aZ[aU]=aR}}else{if(!(aR in aW)){aW[aR]=false}}}}}else{if(aa(aZ)){aZ=al(e,aZ);if(aT){aX[aY]=aW[aZ]}else{if(!(aZ in aW)){aW[aZ]=false}}}}}return(aV<Object.keys(aW).length)}}return false}function aK(e,aS,aV){var aR=null;var aU=aS.documentLoader;var aT=function(a4,aZ,a5,aX,a6){if(Object.keys(aZ).length>ad){aR=new x("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"loading remote context failed",max:ad});return a6(aR)}var a3={};var aY=function(){F(a4,a3,true,aX);a6(null,a4)};if(!F(a4,a3,false,aX)){aY()}var a1=[];for(var aW in a3){if(a3[aW]===false){a1.push(aW)}}var a2=a1.length;for(var a0=0;a0<a1.length;++a0){(function(a9){if(a9 in aZ){aR=new x("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"recursive context inclusion",url:a9});return a6(aR)}var a8=o(aZ);a8[a9]=true;var a7=function(bd,be){if(aR){return}var bb=be?be.document:null;if(!bd&&aa(bb)){try{bb=JSON.parse(bb)}catch(bc){bd=bc}}if(bd){bd=new x("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:a9,cause:bd})}else{if(!aC(bb)){bd=new x("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:a9,cause:bd})}}if(bd){aR=bd;return a6(aR)}if(!("@context" in bb)){bb={"@context":{}}}else{bb={"@context":bb["@context"]}}if(be.contextUrl){if(!K(bb["@context"])){bb["@context"]=[bb["@context"]]}bb["@context"].push(be.contextUrl)}aT(bb,a8,a5,a9,function(bg,bf){if(bg){return a6(bg)}a3[a9]=bf["@context"];a2-=1;if(a2===0){aY()}})};var ba=a5(a9,a7);if(ba&&"then" in ba){ba.then(a7.bind(null,null),a7)}}(a1[a0]))}};aT(e,{},aU,aS.base,aV)}if(!Object.keys){Object.keys=function(aS){if(aS!==Object(aS)){throw new TypeError("Object.keys called on non-object")}var aR=[];for(var e in aS){if(Object.prototype.hasOwnProperty.call(aS,e)){aR.push(e)}}return aR}}function U(a3){var ba="(?:<([^:]+:[^>]*)>)";var aT="(_:(?:[A-Za-z0-9]+))";var aV='"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"';var a4="(?:\\^\\^"+ba+")";var bb="(?:@([a-z]+(?:-[a-z0-9]+)*))";var bc="(?:"+aV+"(?:"+a4+"|"+bb+")?)";var aR="[ \\t]+";var a7="[ \\t]*";var bf=/(?:\r\n)|(?:\n)|(?:\r)/g;var aZ=new RegExp("^"+a7+"$");var aW="(?:"+ba+"|"+aT+")"+aR;var aX=ba+aR;var bg="(?:"+ba+"|"+aT+"|"+bc+")"+a7;var be="(?:\\.|(?:(?:"+ba+"|"+aT+")"+a7+"\\.))";var a0=new RegExp("^"+a7+aW+aX+bg+be+a7+"$");var a1={};var e=a3.split(bf);var a8=0;for(var a6=0;a6<e.length;++a6){var a2=e[a6];a8++;if(aZ.test(a2)){continue}var aY=a2.match(a0);if(aY===null){throw new x("Error while parsing N-Quads; invalid quad.","jsonld.ParseError",{line:a8})}var bd={};if(!L(aY[1])){bd.subject={type:"IRI",value:aY[1]}}else{bd.subject={type:"blank node",value:aY[2]}}bd.predicate={type:"IRI",value:aY[3]};if(!L(aY[4])){bd.object={type:"IRI",value:aY[4]}}else{if(!L(aY[5])){bd.object={type:"blank node",value:aY[5]}}else{bd.object={type:"literal"};if(!L(aY[7])){bd.object.datatype=aY[7]}else{if(!L(aY[8])){bd.object.datatype=u;bd.object.language=aY[8]}else{bd.object.datatype=z}}var a5=aY[6].replace(/\\"/g,'"').replace(/\\t/g,"\t").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\\\/g,"\\");bd.object.value=a5}}var bh="@default";if(!L(aY[9])){bh=aY[9]}else{if(!L(aY[10])){bh=aY[10]}}if(!(bh in a1)){a1[bh]=[bd]}else{var aS=true;var a9=a1[bh];for(var aU=0;aS&&aU<a9.length;++aU){if(q(a9[aU],bd)){aS=false}}if(aS){a9.push(bd)}}}return a1}I.registerRDFParser("application/nquads",U);function aJ(aT){var e=[];for(var aR in aT){var aV=aT[aR];for(var aS=0;aS<aV.length;++aS){var aU=aV[aS];if(aR==="@default"){aR=null}e.push(Y(aU,aR))}}e.sort();return e.join("")}function Y(aV,aT,aW){var aY=aV.subject;var aR=aV.predicate;var aS=aV.object;var aU=aT;var aX="";if(aY.type==="IRI"){aX+="<"+aY.value+">"}else{if(aW){aX+=(aY.value===aW)?"_:a":"_:z"}else{aX+=aY.value}}aX+=" ";if(aR.type==="IRI"){aX+="<"+aR.value+">"}else{if(aW){aX+="_:p"}else{aX+=aR.value}}aX+=" ";if(aS.type==="IRI"){aX+="<"+aS.value+">"}else{if(aS.type==="blank node"){if(aW){aX+=(aS.value===aW)?"_:a":"_:z"}else{aX+=aS.value}}else{var e=aS.value.replace(/\\/g,"\\\\").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\"/g,'\\"');aX+='"'+e+'"';if(aS.datatype===u){if(aS.language){aX+="@"+aS.language}}else{if(aS.datatype!==z){aX+="^^<"+aS.datatype+">"}}}}if(aU!==null){if(aU.indexOf("_:")!==0){aX+=" <"+aU+">"}else{if(aW){aX+=" _:g"}else{aX+=" "+aU}}}aX+=" .\n";return aX}function V(aS){var aR={};aR["@default"]=[];var aU=aS.getSubjects();for(var aT=0;aT<aU.length;++aT){var aW=aU[aT];if(aW===null){continue}var a3=aS.getSubjectTriples(aW);if(a3===null){continue}var a1=a3.predicates;for(var a2 in a1){var a4=a1[a2].objects;for(var a0=0;a0<a4.length;++a0){var e=a4[a0];var aV={};if(aW.indexOf("_:")===0){aV.subject={type:"blank node",value:aW}}else{aV.subject={type:"IRI",value:aW}}if(a2.indexOf("_:")===0){aV.predicate={type:"blank node",value:a2}}else{aV.predicate={type:"IRI",value:a2}}var aZ=e.value;if(e.type===C){if(!E){aw()}var aY=new E();aZ="";for(var aX=0;aX<e.value.length;aX++){if(e.value[aX].nodeType===ay.ELEMENT_NODE){aZ+=aY.serializeToString(e.value[aX])}else{if(e.value[aX].nodeType===ay.TEXT_NODE){aZ+=e.value[aX].nodeValue}}}}aV.object={};if(e.type===N){if(e.value.indexOf("_:")===0){aV.object.type="blank node"}else{aV.object.type="IRI"}}else{aV.object.type="literal";if(e.type===af){if(e.language){aV.object.datatype=u;aV.object.language=e.language}else{aV.object.datatype=z}}else{aV.object.datatype=e.type}}aV.object.value=aZ;aR["@default"].push(aV)}}}return aR}I.registerRDFParser("rdfa-api",V);function j(e){this.prefix=e;this.counter=0;this.existing={}}I.UniqueNamer=j;j.prototype.clone=function(){var e=new j(this.prefix);e.counter=this.counter;e.existing=o(this.existing);return e};j.prototype.getName=function(aR){if(aR&&aR in this.existing){return this.existing[aR]}var e=this.prefix+this.counter;this.counter+=1;if(aR){this.existing[aR]=e}return e};j.prototype.isNamed=function(e){return(e in this.existing)};var n=function(aR){this.list=aR.sort();this.done=false;this.left={};for(var e=0;e<aR.length;++e){this.left[aR[e]]=true}};n.prototype.hasNext=function(){return !this.done};n.prototype.next=function(){var aW=this.list.slice();var e=null;var aX=0;var aT=this.list.length;for(var aS=0;aS<aT;++aS){var aR=this.list[aS];var aV=this.left[aR];if((e===null||aR>e)&&((aV&&aS>0&&aR>this.list[aS-1])||(!aV&&aS<(aT-1)&&aR>this.list[aS+1]))){e=aR;aX=aS}}if(e===null){this.done=true}else{var aU=this.left[e]?aX-1:aX+1;this.list[aX]=this.list[aU];this.list[aU]=e;for(var aS=0;aS<aT;++aS){if(this.list[aS]>e){this.left[this.list[aS]]=!this.left[this.list[aS]]}}}return aW};var au=I.sha1={};if(c){var v=require("crypto");au.create=function(){var e=v.createHash("sha1");return{update:function(aR){e.update(aR,"utf8")},digest:function(){return e.digest("hex")}}}}else{au.create=function(){return new au.MessageDigest()}}au.hash=function(e){var aS=au.create();for(var aR=0;aR<e.length;++aR){aS.update(e[aR])}return aS.digest()};if(!c){au.Buffer=function(){this.data="";this.read=0};au.Buffer.prototype.putInt32=function(e){this.data+=(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};au.Buffer.prototype.getInt32=function(){var e=(this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3));this.read+=4;return e};au.Buffer.prototype.bytes=function(){return this.data.slice(this.read)};au.Buffer.prototype.length=function(){return this.data.length-this.read};au.Buffer.prototype.compact=function(){this.data=this.data.slice(this.read);this.read=0};au.Buffer.prototype.toHex=function(){var aS="";for(var aR=this.read;aR<this.data.length;++aR){var e=this.data.charCodeAt(aR);if(e<16){aS+="0"}aS+=e.toString(16)}return aS};au.MessageDigest=function(){if(!aA.initialized){aA.init()}this.blockLength=64;this.digestLength=20;this.messageLength=0;this.input=new au.Buffer();this.words=new Array(80);this.state={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520}};au.MessageDigest.prototype.update=function(e){e=unescape(encodeURIComponent(e));this.messageLength+=e.length;this.input.data+=e;aA.update(this.state,this.words,this.input);if(this.input.read>2048||this.input.length()===0){this.input.compact()}};au.MessageDigest.prototype.digest=function(){var e=this.messageLength;var aS=new au.Buffer();aS.data+=this.input.bytes();aS.data+=aA.padding.substr(0,64-((e+8)%64));aS.putInt32((e>>>29)&255);aS.putInt32((e<<3)&4294967295);aA.update(this.state,this.words,aS);var aR=new au.Buffer();aR.putInt32(this.state.h0);aR.putInt32(this.state.h1);aR.putInt32(this.state.h2);aR.putInt32(this.state.h3);aR.putInt32(this.state.h4);return aR.toHex()};var aA={padding:null,initialized:false};aA.init=function(){aA.padding=String.fromCharCode(128);var aR=String.fromCharCode(0);var e=64;while(e>0){if(e&1){aA.padding+=aR}e>>>=1;if(e>0){aR+=aR}}aA.initialized=true};aA.update=function(a2,a0,aY){var a1,aZ,aX,aW,aV,aU,aT,aR;var aS=aY.length();while(aS>=64){aZ=a2.h0;aX=a2.h1;aW=a2.h2;aV=a2.h3;aU=a2.h4;for(aR=0;aR<16;++aR){a1=aY.getInt32();a0[aR]=a1;aT=aV^(aX&(aW^aV));a1=((aZ<<5)|(aZ>>>27))+aT+aU+1518500249+a1;aU=aV;aV=aW;aW=(aX<<30)|(aX>>>2);aX=aZ;aZ=a1}for(;aR<20;++aR){a1=(a0[aR-3]^a0[aR-8]^a0[aR-14]^a0[aR-16]);a1=(a1<<1)|(a1>>>31);a0[aR]=a1;aT=aV^(aX&(aW^aV));a1=((aZ<<5)|(aZ>>>27))+aT+aU+1518500249+a1;aU=aV;aV=aW;aW=(aX<<30)|(aX>>>2);aX=aZ;aZ=a1}for(;aR<32;++aR){a1=(a0[aR-3]^a0[aR-8]^a0[aR-14]^a0[aR-16]);a1=(a1<<1)|(a1>>>31);a0[aR]=a1;aT=aX^aW^aV;a1=((aZ<<5)|(aZ>>>27))+aT+aU+1859775393+a1;aU=aV;aV=aW;aW=(aX<<30)|(aX>>>2);aX=aZ;aZ=a1}for(;aR<40;++aR){a1=(a0[aR-6]^a0[aR-16]^a0[aR-28]^a0[aR-32]);a1=(a1<<2)|(a1>>>30);a0[aR]=a1;aT=aX^aW^aV;a1=((aZ<<5)|(aZ>>>27))+aT+aU+1859775393+a1;aU=aV;aV=aW;aW=(aX<<30)|(aX>>>2);aX=aZ;aZ=a1}for(;aR<60;++aR){a1=(a0[aR-6]^a0[aR-16]^a0[aR-28]^a0[aR-32]);a1=(a1<<2)|(a1>>>30);a0[aR]=a1;aT=(aX&aW)|(aV&(aX^aW));a1=((aZ<<5)|(aZ>>>27))+aT+aU+2400959708+a1;aU=aV;aV=aW;aW=(aX<<30)|(aX>>>2);aX=aZ;aZ=a1}for(;aR<80;++aR){a1=(a0[aR-6]^a0[aR-16]^a0[aR-28]^a0[aR-32]);a1=(a1<<2)|(a1>>>30);a0[aR]=a1;aT=aX^aW^aV;a1=((aZ<<5)|(aZ>>>27))+aT+aU+3395469782+a1;aU=aV;aV=aW;aW=(aX<<30)|(aX>>>2);aX=aZ;aZ=a1}a2.h0+=aZ;a2.h1+=aX;a2.h2+=aW;a2.h3+=aV;a2.h4+=aU;aS-=64}}}if(!E){var aw=function(){E=require("xmldom").XMLSerializer}}I.url={};I.url.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}};I.url.parse=function(aU,aV){var aR={};var aT=I.url.parsers[aV||"full"];var e=aT.regex.exec(aU);var aS=aT.keys.length;while(aS--){aR[aT.keys[aS]]=(e[aS]===undefined)?null:e[aS]}aR.normalizedPath=aD(aR.path,!!aR.authority);return aR};function aD(aU,aS){var aT="";if(aU.indexOf("/")===0){aT="/"}var aR=aU.split("/");var e=[];while(aR.length>0){if(aR[0]==="."||(aR[0]===""&&aR.length>1)){aR.shift();continue}if(aR[0]===".."){aR.shift();if(aS||(e.length>0&&e[e.length-1]!=="..")){e.pop()}else{e.push("..")}continue}e.push(aR.shift())}return aT+e.join("/")}if(c){I.useDocumentLoader("node")}else{if(typeof XMLHttpRequest!=="undefined"){I.useDocumentLoader("xhr")}}if(c){I.use=function(e){switch(e){case"request":I.request=require("./request");break;default:throw new x("Unknown extension.","jsonld.UnknownExtension",{extension:e})}};var k={exports:{},filename:__dirname};require("pkginfo")(k,"version");I.version=k.exports.version}return I};var b=function(){return d(function(){return b()})};if(!c&&(typeof define==="function"&&define.amd)){define([],function(){d(b);return b})}else{d(b);if(typeof require==="function"&&typeof module!=="undefined"&&module.exports){module.exports=b}if(a){if(typeof jsonld==="undefined"){jsonld=jsonldjs=b}else{jsonldjs=b}}}return b})();