/*!
 * async
 * https://github.com/caolan/async
 *
 * Copyright 2010-2014 Caolan McMahon
 * Released under the MIT license
 */
(function(){var y={};function H(){}var E;var l=typeof self==="object"&&self.self===self&&self||typeof global==="object"&&global.global===global&&global||this;if(l!=null){E=l.async}y.noConflict=function(){l.async=E;return y};function b(M){var N=false;return function(){if(N){throw new Error("Callback was already called.")}N=true;M.apply(this,arguments)}}function k(M){var N=false;return function(){if(N){return}N=true;M.apply(this,arguments)}}var t=Object.prototype.toString;var I=Array.isArray||function(M){return t.call(M)==="[object Array]"};function C(M){return I(M)||(typeof M.length==="number"&&M.length>=0&&M.length%1===0)}function D(M,N){return C(M)?G(M,N):J(M,N)}function G(M,O){var N=-1,P=M.length;while(++N<P){O(M[N],N,M)}}function o(N,P){var O=-1,Q=N.length,M=Array(Q);while(++O<Q){M[O]=P(N[O],O,N)}return M}function f(M){return o(Array(M),function(N,O){return O})}function p(M,O,N){G(M,function(P,R,Q){N=O(N,P,R,Q)});return N}function J(M,N){G(n(M),function(O){N(M[O],O)})}var n=Object.keys||function(O){var N=[];for(var M in O){if(O.hasOwnProperty(M)){N.push(M)}}return N};function h(O){var N=-1;var M;var Q;if(C(O)){M=O.length;return function P(){N++;return N<M?N:null}}else{Q=n(O);M=Q.length;return function P(){N++;return N<M?Q[N]:null}}}function r(N,Q){Q=Q||0;var O=-1;var P=N.length;if(Q){P-=Q;P=P<0?0:P}var M=Array(P);while(++O<P){M[O]=N[O+Q]}return M}function d(M){return function(O,N,P){return M(O,P)}}var i;if(typeof setImmediate==="function"){i=setImmediate}if(typeof process==="undefined"||!(process.nextTick)){if(i){y.nextTick=function(M){i(M)};y.setImmediate=y.nextTick}else{y.nextTick=function(M){setTimeout(M,0)};y.setImmediate=y.nextTick}}else{y.nextTick=process.nextTick;if(i){y.setImmediate=function(M){i(M)}}else{y.setImmediate=y.nextTick}}y.forEach=y.each=function(M,N,O){return y.eachOf(M,d(N),O)};y.forEachSeries=y.eachSeries=function(M,N,O){return y.eachOfSeries(M,d(N),O)};y.forEachLimit=y.eachLimit=function(M,N,O,P){return B(N)(M,d(O),P)};y.forEachOf=y.eachOf=function(N,Q,R){R=k(R||H);N=N||[];var O=C(N)?N.length:n(N).length;var P=0;if(!O){return R(null)}D(N,function(T,S){Q(N[S],S,b(M))});function M(S){if(S){R(S)}else{P+=1;if(P>=O){R(null)}}}};y.forEachOfSeries=y.eachOfSeries=function(Q,P,R){R=k(R||H);Q=Q||[];var M=h(Q);var O=M();function N(){var S=true;if(O===null){return R(null)}P(Q[O],O,b(function(T){if(T){R(T)}else{O=M();if(O===null){return R(null)}else{if(S){y.nextTick(N)}else{N()}}}}));S=false}N()};y.forEachOfLimit=y.eachOfLimit=function(O,M,N,P){B(M)(O,N,P)};function B(M){return function(S,R,U){U=k(U||H);S=S||[];var N=h(S);if(M<=0){return U(null)}var O=false;var P=0;var Q=false;(function T(){if(O&&P<=0){return U(null)}while(P<M&&!Q){var V=N();if(V===null){O=true;if(P<=0){U(null)}return}P+=1;R(S[V],V,b(function(W){P-=1;if(W){U(W);Q=true}else{T()}}))}})()}}function u(M){return function(O,N,P){return M(y.eachOf,O,N,P)}}function a(M,N){return function(P,O,Q){return N(B(M),P,O,Q)}}function A(M){return function(O,N,P){return M(y.eachOfSeries,O,N,P)}}function q(P,M,O,Q){Q=k(Q||H);var N=[];P(M,function(S,R,T){O(S,function(V,U){N[R]=U;T(V)})},function(R){Q(R,N)})}y.map=u(q);y.mapSeries=A(q);y.mapLimit=function(M,N,O,P){return g(N)(M,O,P)};function g(M){return a(M,q)}y.inject=y.foldl=y.reduce=function(M,N,O,P){y.eachOfSeries(M,function(Q,R,S){O(N,Q,function(U,T){N=T;S(U)})},function(Q){P(Q||null,N)})};y.foldr=y.reduceRight=function(M,N,O,Q){var P=o(M,function(R){return R}).reverse();y.reduce(P,N,O,Q)};function F(P,M,O,Q){var N=[];M=o(M,function(R,S){return{index:S,value:R}});P(M,function(R,S,T){O(R.value,function(U){if(U){N.push(R)}T()})},function(){Q(o(N.sort(function(S,R){return S.index-R.index}),function(R){return R.value}))})}y.select=y.filter=u(F);y.selectSeries=y.filterSeries=A(F);function x(O,M,N,P){F(O,M,function(R,Q){N(R,function(S){Q(!S)})},P)}y.reject=u(x);y.rejectSeries=A(x);function v(O,M,N,P){O(M,function(Q,R,S){N(Q,function(T){if(T){P(Q);P=H}else{S()}})},function(){P()})}y.detect=u(v);y.detectSeries=A(v);y.any=y.some=function(M,N,O){y.eachOf(M,function(P,Q,R){N(P,function(S){if(S){O(true);O=H}R()})},function(){O(false)})};y.all=y.every=function(M,N,O){y.eachOf(M,function(P,Q,R){N(P,function(S){if(!S){O(false);O=H}R()})},function(){O(true)})};y.sortBy=function(M,O,P){y.map(M,function(Q,R){O(Q,function(S,T){if(S){R(S)}else{R(null,{value:Q,criteria:T})}})},function(R,Q){if(R){return P(R)}else{P(null,o(Q.sort(N),function(S){return S.value}))}});function N(T,S){var R=T.criteria,Q=S.criteria;return R<Q?-1:R>Q?1:0}};y.auto=function(O,T){T=k(T||H);var U=n(O);var N=U.length;if(!N){return T(null)}var Q={};var S=[];function M(V){S.unshift(V)}function P(W){for(var V=0;V<S.length;V+=1){if(S[V]===W){S.splice(V,1);return}}}function R(){N--;G(S.slice(0),function(V){V()})}M(function(){if(!N){T(null,Q)}});G(U,function(X){var W=I(O[X])?O[X]:[O[X]];function ac(af){var ad=r(arguments,1);if(ad.length<=1){ad=ad[0]}if(af){var ae={};G(n(Q),function(ag){ae[ag]=Q[ag]});ae[X]=ad;T(af,ae)}else{Q[X]=ad;y.setImmediate(R)}}var Z=W.slice(0,Math.abs(W.length-1))||[];var V=Z.length;var ab;while(V--){if(!(ab=O[Z[V]])){throw new Error("Has inexistant dependency")}if(I(ab)&&!!~ab.indexOf(X)){throw new Error("Has cyclic dependencies")}}function Y(){return p(Z,function(ae,ad){return(ae&&Q.hasOwnProperty(ad))},true)&&!Q.hasOwnProperty(X)}if(Y()){W[W.length-1](ac,Q)}else{M(aa)}function aa(){if(Y()){P(aa);W[W.length-1](ac,Q)}}})};y.retry=function(){var P=5;var M=0;var O=[];var Q={times:P,interval:M};function N(T,S){if(typeof S==="number"){T.times=parseInt(S,10)||P}else{if(typeof S==="object"){T.times=parseInt(S.times,10)||P;T.interval=parseInt(S.interval,10)||M}else{throw new Error("Unsupported argument type for 'times': "+typeof(S))}}}switch(arguments.length){case 1:Q.task=arguments[0];break;case 2:if(typeof arguments[0]==="number"||typeof arguments[0]==="object"){N(Q,arguments[0]);Q.task=arguments[1]}else{Q.task=arguments[0];Q.callback=arguments[1]}break;case 3:N(Q,arguments[0]);Q.task=arguments[1];Q.callback=arguments[2];break;default:throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)")}function R(W,T){function V(X,Y){return function(Z){X(function(ab,aa){Z(!ab||Y,{err:ab,result:aa})},T)}}function U(X){return function(Y){setTimeout(function(){Y(null)},X)}}while(Q.times){var S=!(Q.times-=1);O.push(V(Q.task,S));if(!S&&Q.interval>0){O.push(U(Q.interval))}}y.series(O,function(X,Y){Y=Y[Y.length-1];(W||Q.callback)(Y.err,Y.result)})}return Q.callback?R():R};y.waterfall=function(P,O){O=k(O||H);if(!I(P)){var M=new Error("First argument to waterfall must be an array of functions");return O(M)}if(!P.length){return O()}function N(Q){return function(T){if(T){O.apply(null,arguments)}else{var R=r(arguments,1);var S=Q.next();if(S){R.push(N(S))}else{R.push(O)}L(Q).apply(null,R)}}}N(y.iterator(P))()};function m(N,P,O){O=O||H;var M=C(P)?[]:{};N(P,function(Q,R,S){Q(function(U){var T=r(arguments,1);if(T.length<=1){T=T[0]}M[R]=T;S(U)})},function(Q){O(Q,M)})}y.parallel=function(N,M){m(y.eachOf,N,M)};y.parallelLimit=function(O,M,N){m(B(M),O,N)};y.series=function(O,N){N=N||H;var M=C(O)?[]:{};y.eachOfSeries(O,function(P,Q,R){P(function(T){var S=r(arguments,1);if(S.length<=1){S=S[0]}M[Q]=S;R(T)})},function(P){N(P,M)})};y.iterator=function(N){function M(O){function P(){if(N.length){N[O].apply(null,arguments)}return P.next()}P.next=function(){return(O<N.length-1)?M(O+1):null};return P}return M(0)};y.apply=function(N){var M=r(arguments,1);return function(){return N.apply(null,M.concat(r(arguments)))}};function z(P,N,O,Q){var M=[];P(N,function(S,T,R){O(S,function(U,V){M=M.concat(V||[]);R(U)})},function(R){Q(R,M)})}y.concat=u(z);y.concatSeries=A(z);y.whilst=function(O,M,N){N=N||H;if(O()){M(function(P){if(P){return N(P)}y.whilst(O,M,N)})}else{N(null)}};y.doWhilst=function(M,O,N){N=N||H;M(function(Q){if(Q){return N(Q)}var P=r(arguments,1);if(O.apply(null,P)){y.doWhilst(M,O,N)}else{N(null)}})};y.until=function(O,M,N){N=N||H;if(!O()){M(function(P){if(P){return N(P)}y.until(O,M,N)})}else{N(null)}};y.doUntil=function(M,O,N){N=N||H;M(function(Q){if(Q){return N(Q)}var P=r(arguments,1);if(!O.apply(null,P)){y.doUntil(M,O,N)}else{N(null)}})};y.during=function(O,M,N){N=N||H;O(function(Q,P){if(Q){return N(Q)}if(P){M(function(R){if(R){return N(R)}y.during(O,M,N)})}else{N(null)}})};y.doDuring=function(M,O,N){N=N||H;M(function(Q){if(Q){return N(Q)}var P=r(arguments,1);P.push(function(S,R){if(S){return N(S)}if(R){y.doDuring(M,O,N)}else{N(null)}});O.apply(null,P)})};function e(S,P,R){if(P==null){P=1}else{if(P===0){throw new Error("Concurrency must not be zero")}}function M(U,T,W,V){if(V!=null&&typeof V!=="function"){throw new Error("task callback must be a function")}U.started=true;if(!I(T)){T=[T]}if(T.length===0&&U.idle()){return y.setImmediate(function(){U.drain()})}G(T,function(X){var Y={data:X,callback:V||H};if(W){U.tasks.unshift(Y)}else{U.tasks.push(Y)}if(U.tasks.length===U.concurrency){U.saturated()}});y.setImmediate(U.process)}function O(T,U){return function(){N-=1;var V=arguments;G(U,function(W){W.callback.apply(W,V)});if(T.tasks.length+N===0){T.drain()}T.process()}}var N=0;var Q={tasks:[],concurrency:P,payload:R,saturated:H,empty:H,drain:H,started:false,paused:false,push:function(T,U){M(Q,T,false,U)},kill:function(){Q.drain=H;Q.tasks=[]},unshift:function(T,U){M(Q,T,true,U)},process:function(){if(!Q.paused&&N<Q.concurrency&&Q.tasks.length){while(N<Q.concurrency&&Q.tasks.length){var V=Q.payload?Q.tasks.splice(0,Q.payload):Q.tasks.splice(0,Q.tasks.length);var U=o(V,function(W){return W.data});if(Q.tasks.length===0){Q.empty()}N+=1;var T=b(O(Q,V));S(U,T)}}},length:function(){return Q.tasks.length},running:function(){return N},idle:function(){return Q.tasks.length+N===0},pause:function(){Q.paused=true},resume:function(){if(Q.paused===false){return}Q.paused=false;var U=Math.min(Q.concurrency,Q.tasks.length);for(var T=1;T<=U;T++){y.setImmediate(Q.process)}}};return Q}y.queue=function(O,M){var N=e(function(Q,P){O(Q[0],P)},M,1);return N};y.priorityQueue=function(R,P){function O(T,S){return T.priority-S.priority}function N(X,V,W){var U=-1,S=X.length-1;while(U<S){var T=U+((S-U+1)>>>1);if(W(V,X[T])>=0){U=T}else{S=T-1}}return U}function M(U,T,S,V){if(V!=null&&typeof V!=="function"){throw new Error("task callback must be a function")}U.started=true;if(!I(T)){T=[T]}if(T.length===0){return y.setImmediate(function(){U.drain()})}G(T,function(W){var X={data:W,priority:S,callback:typeof V==="function"?V:H};U.tasks.splice(N(U.tasks,X,O)+1,0,X);if(U.tasks.length===U.concurrency){U.saturated()}y.setImmediate(U.process)})}var Q=y.queue(R,P);Q.push=function(T,S,U){M(Q,T,S,U)};delete Q.unshift;return Q};y.cargo=function(N,M){return e(N,1,M)};function K(M){return function(O){var N=r(arguments,1);O.apply(null,N.concat([function(Q){var P=r(arguments,1);if(typeof console!=="undefined"){if(Q){if(console.error){console.error(Q)}}else{if(console[M]){G(P,function(R){console[M](R)})}}}}]))}}y.log=K("log");y.dir=K("dir");y.memoize=function(Q,O){var N={};var P={};O=O||function(R){return R};function M(){var R=r(arguments);var T=R.pop();var S=O.apply(null,R);if(S in N){y.nextTick(function(){T.apply(null,N[S])})}else{if(S in P){P[S].push(T)}else{P[S]=[T];Q.apply(null,R.concat([function(){N[S]=r(arguments);var W=P[S];delete P[S];for(var V=0,U=W.length;V<U;V++){W[V].apply(null,arguments)}}]))}}}M.memo=N;M.unmemoized=Q;return M};y.unmemoize=function(M){return function(){return(M.unmemoized||M).apply(null,arguments)}};function w(M){return function(O,N,P){M(f(O),N,P)}}y.times=w(y.map);y.timesSeries=w(y.mapSeries);y.timesLimit=function(O,M,N,P){return y.mapLimit(f(O),M,N,P)};y.seq=function(){var M=arguments;return function(){var O=this;var N=r(arguments);var P=N.slice(-1)[0];if(typeof P=="function"){N.pop()}else{P=H}y.reduce(M,N,function(R,S,Q){S.apply(O,R.concat([function(){var U=arguments[0];var T=r(arguments,1);Q(U,T)}]))},function(R,Q){P.apply(O,[R].concat(Q))})}};y.compose=function(){return y.seq.apply(null,Array.prototype.reverse.call(arguments))};function j(P,N){function O(){var R=this;var Q=r(arguments);var S=Q.pop();return P(N,function(V,U,T){V.apply(R,Q.concat([T]))},S)}if(arguments.length>2){var M=r(arguments,2);return O.apply(this,M)}else{return O}}y.applyEach=function(){var M=r(arguments);return j.apply(null,[y.eachOf].concat(M))};y.applyEachSeries=function(){var M=r(arguments);return j.apply(null,[y.eachOfSeries].concat(M))};y.forever=function(P,Q){var M=b(Q||H);var N=L(P);function O(R){if(R){return M(R)}N(O)}O()};function L(M){return function(){var N=r(arguments);var P=N.pop();N.push(function(){var Q=arguments;if(O){y.setImmediate(function(){P.apply(null,Q)})}else{P.apply(null,Q)}});var O=true;M.apply(this,N);O=false}}y.ensureAsync=L;y.constant=function s(){var M=[null].concat(r(arguments));return function(N){return N.apply(this,M)}};y.wrapSync=y.asyncify=function c(M){return function(){var O=r(arguments);var Q=O.pop();var N;try{N=M.apply(this,O)}catch(P){return Q(P)}Q(null,N)}};if(typeof module!=="undefined"&&module.exports){module.exports=y}else{if(typeof define!=="undefined"&&define.amd){define([],function(){return y})}else{l.async=y}}}());