(function(){var e={};var l=this,n=l.async;if(typeof module!=="undefined"&&module.exports){module.exports=e}else{l.async=e}e.noConflict=function(){l.async=n;return e};var g=function(q,s){if(q.forEach){return q.forEach(s)}for(var r=0;r<q.length;r+=1){s(q[r],r,q)}};var d=function(q,s){if(q.map){return q.map(s)}var r=[];g(q,function(t,v,u){r.push(s(t,v,u))});return r};var a=function(q,s,r){if(q.reduce){return q.reduce(s,r)}g(q,function(t,v,u){r=s(r,t,v,u)});return r};var k=function(s){if(Object.keys){return Object.keys(s)}var r=[];for(var q in s){if(s.hasOwnProperty(q)){r.push(q)}}return r};var o=function(q,s){if(q.indexOf){return q.indexOf(s)}for(var r=0;r<q.length;r+=1){if(q[r]===s){return r}}return -1};if(typeof process==="undefined"||!(process.nextTick)){e.nextTick=function(q){setTimeout(q,0)}}else{e.nextTick=process.nextTick}e.forEach=function(q,s,t){if(!q.length){return t()}var r=0;g(q,function(u){s(u,function(v){if(v){t(v);t=function(){}}else{r+=1;if(r===q.length){t()}}})})};e.forEachSeries=function(q,t,u){if(!q.length){return u()}var s=0;var r=function(){t(q[s],function(v){if(v){u(v);u=function(){}}else{s+=1;if(s===q.length){u()}else{r()}}})};r()};e.forEachLimit=function(q,s,v,x){if(!q.length||s<=0){return x()}var u=0;var r=0;var t=0;(function w(){if(u===q.length){return x()}while(t<s&&r<q.length){v(q[r],function(y){if(y){x(y);x=function(){}}else{u+=1;t-=1;if(u===q.length){x()}else{w()}}});r+=1;t+=1}})()};var h=function(q){return function(){var r=Array.prototype.slice.call(arguments);return q.apply(null,[e.forEach].concat(r))}};var p=function(q){return function(){var r=Array.prototype.slice.call(arguments);return q.apply(null,[e.forEachSeries].concat(r))}};var m=function(t,q,s,u){var r=[];q=d(q,function(v,w){return{index:w,value:v}});t(q,function(v,w){s(v.value,function(y,x){r[v.index]=x;w(y)})},function(v){u(v,r)})};e.map=h(m);e.mapSeries=p(m);e.reduce=function(q,r,s,t){e.forEachSeries(q,function(u,v){s(r,u,function(x,w){r=w;v(x)})},function(u){t(u,r)})};e.inject=e.reduce;e.foldl=e.reduce;e.reduceRight=function(q,r,s,u){var t=d(q,function(v){return v}).reverse();e.reduce(t,r,s,u)};e.foldr=e.reduceRight;var j=function(t,q,s,u){var r=[];q=d(q,function(v,w){return{index:w,value:v}});t(q,function(v,w){s(v.value,function(x){if(x){r.push(v)}w()})},function(v){u(d(r.sort(function(x,w){return x.index-w.index}),function(w){return w.value}))})};e.filter=h(j);e.filterSeries=p(j);e.select=e.filter;e.selectSeries=e.filterSeries;var f=function(t,q,s,u){var r=[];q=d(q,function(v,w){return{index:w,value:v}});t(q,function(v,w){s(v.value,function(x){if(!x){r.push(v)}w()})},function(v){u(d(r.sort(function(x,w){return x.index-w.index}),function(w){return w.value}))})};e.reject=h(f);e.rejectSeries=p(f);var i=function(s,q,r,t){s(q,function(u,v){r(u,function(w){if(w){t(u);t=function(){}}else{v()}})},function(u){t()})};e.detect=h(i);e.detectSeries=p(i);e.some=function(q,r,s){e.forEach(q,function(t,u){r(t,function(w){if(w){s(true);s=function(){}}u()})},function(t){s(false)})};e.any=e.some;e.every=function(q,r,s){e.forEach(q,function(t,u){r(t,function(w){if(!w){s(false);s=function(){}}u()})},function(t){s(true)})};e.all=e.every;e.sortBy=function(q,r,s){e.map(q,function(t,u){r(t,function(v,w){if(v){u(v)}else{u(null,{value:t,criteria:w})}})},function(v,t){if(v){return s(v)}else{var u=function(z,y){var x=z.criteria,w=y.criteria;return x<w?-1:x>w?1:0};s(null,d(t.sort(u),function(w){return w.value}))}})};e.auto=function(x,w){w=w||function(){};var u=k(x);if(!u.length){return w(null)}var t=[];var s=[];var q=function(y){s.unshift(y)};var r=function(z){for(var y=0;y<s.length;y+=1){if(s[y]===z){s.splice(y,1);return}}};var v=function(){g(s,function(y){y()})};q(function(){if(t.length===u.length){w(null)}});g(u,function(z){var y=(x[z] instanceof Function)?[x[z]]:x[z];var D=function(E){if(E){w(E);w=function(){}}else{t.push(z);v()}};var B=y.slice(0,Math.abs(y.length-1))||[];var A=function(){return a(B,function(F,E){return(F&&o(t,E)!==-1)},true)};if(A()){y[y.length-1](D)}else{var C=function(){if(A()){r(C);y[y.length-1](D)}};q(C)}})};e.waterfall=function(s,r){if(!s.length){return r()}r=r||function(){};var q=function(t){return function(w){if(w){r(w);r=function(){}}else{var u=Array.prototype.slice.call(arguments,1);var v=t.next();if(v){u.push(q(v))}else{u.push(r)}e.nextTick(function(){t.apply(null,u)})}}};q(e.iterator(s))()};e.parallel=function(s,r){r=r||function(){};if(s.constructor===Array){e.map(s,function(t,u){if(t){t(function(w){var v=Array.prototype.slice.call(arguments,1);if(v.length<=1){v=v[0]}u.call(null,w,v)})}},r)}else{var q={};e.forEach(k(s),function(t,u){s[t](function(w){var v=Array.prototype.slice.call(arguments,1);if(v.length<=1){v=v[0]}q[t]=v;u(w)})},function(t){r(t,q)})}};e.series=function(s,r){r=r||function(){};if(s.constructor===Array){e.mapSeries(s,function(t,u){if(t){t(function(w){var v=Array.prototype.slice.call(arguments,1);if(v.length<=1){v=v[0]}u.call(null,w,v)})}},r)}else{var q={};e.forEachSeries(k(s),function(t,u){s[t](function(w){var v=Array.prototype.slice.call(arguments,1);if(v.length<=1){v=v[0]}q[t]=v;u(w)})},function(t){r(t,q)})}};e.iterator=function(r){var q=function(s){var t=function(){if(r.length){r[s].apply(null,arguments)}return t.next()};t.next=function(){return(s<r.length-1)?q(s+1):null};return t};return q(0)};e.apply=function(r){var q=Array.prototype.slice.call(arguments,1);return function(){return r.apply(null,q.concat(Array.prototype.slice.call(arguments)))}};var c=function(u,q,s,v){var t=[];u(q,function(w,r){s(w,function(x,z){t=t.concat(z||[]);r(x)})},function(r){v(r,t)})};e.concat=h(c);e.concatSeries=p(c);e.whilst=function(s,q,r){if(s()){q(function(t){if(t){return r(t)}e.whilst(s,q,r)})}else{r()}};e.until=function(s,q,r){if(!s()){q(function(t){if(t){return r(t)}e.until(s,q,r)})}else{r()}};e.queue=function(u,s){var r=0;var v=[];var t={concurrency:s,saturated:null,empty:null,drain:null,push:function(q,w){v.push({data:q,callback:w});if(t.saturated&&v.length==s){t.saturated()}e.nextTick(t.process)},process:function(){if(r<t.concurrency&&v.length){var q=v.shift();if(t.empty&&v.length==0){t.empty()}r+=1;u(q.data,function(){r-=1;if(q.callback){q.callback.apply(q,arguments)}if(t.drain&&v.length+r==0){t.drain()}t.process()})}},length:function(){return v.length},running:function(){return r}};return t};var b=function(q){return function(s){var r=Array.prototype.slice.call(arguments,1);s.apply(null,r.concat([function(u){var t=Array.prototype.slice.call(arguments,1);if(typeof console!=="undefined"){if(u){if(console.error){console.error(u)}}else{if(console[q]){g(t,function(v){console[q](v)})}}}}]))}};e.log=b("log");e.dir=b("dir");e.memoize=function(s,r){var q={};r=r||function(t){return t};return function(){var t=Array.prototype.slice.call(arguments);var v=t.pop();var u=r.apply(null,t);if(u in q){v.apply(null,q[u])}else{s.apply(null,t.concat([function(){q[u]=arguments;v.apply(null,arguments)}]))}}}}());