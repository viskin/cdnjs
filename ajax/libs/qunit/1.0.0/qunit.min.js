(function(g){var c={setTimeout:typeof g.setTimeout!=="undefined",sessionStorage:(function(){try{return !!sessionStorage.getItem}catch(x){return false}})()};var m=0;var b=function(z,y,B,x,A,C){this.name=z;this.testName=y;this.expected=B;this.testEnvironmentArg=x;this.async=A;this.callback=C;this.assertions=[]};b.prototype={init:function(){var z=o("qunit-tests");if(z){var y=document.createElement("strong");y.innerHTML="Running "+this.name;var x=document.createElement("li");x.appendChild(y);x.className="running";x.id=this.id="test-output"+m++;z.appendChild(x)}},setup:function(){if(this.module!=w.previousModule){if(w.previousModule){r("moduleDone",t,{name:w.previousModule,failed:w.moduleStats.bad,passed:w.moduleStats.all-w.moduleStats.bad,total:w.moduleStats.all})}w.previousModule=this.module;w.moduleStats={all:0,bad:0};r("moduleStart",t,{name:this.module})}w.current=this;this.testEnvironment=v({setup:function(){},teardown:function(){}},this.moduleTestEnvironment);if(this.testEnvironmentArg){v(this.testEnvironment,this.testEnvironmentArg)}r("testStart",t,{name:this.testName,module:this.module});t.current_testEnvironment=this.testEnvironment;try{if(!w.pollution){s()}this.testEnvironment.setup.call(this.testEnvironment)}catch(x){t.ok(false,"Setup failed on "+this.testName+": "+x.message)}},run:function(){if(this.async){t.stop()}if(w.notrycatch){this.callback.call(this.testEnvironment);return}try{this.callback.call(this.testEnvironment)}catch(x){e("Test "+this.testName+" died, exception and test follows",x,this.callback);t.ok(false,"Died on test #"+(this.assertions.length+1)+": "+x.message+" - "+t.jsDump.parse(x));s();if(w.blocking){start()}}},teardown:function(){try{this.testEnvironment.teardown.call(this.testEnvironment);j()}catch(x){t.ok(false,"Teardown failed on "+this.testName+": "+x.message)}},finish:function(){if(this.expected&&this.expected!=this.assertions.length){t.ok(false,"Expected "+this.expected+" assertions, but "+this.assertions.length+" were run")}var z=0,x=0,y=o("qunit-tests");w.stats.all+=this.assertions.length;w.moduleStats.all+=this.assertions.length;if(y){var C=document.createElement("ol");for(var A=0;A<this.assertions.length;A++){var G=this.assertions[A];var F=document.createElement("li");F.className=G.result?"pass":"fail";F.innerHTML=G.message||(G.result?"okay":"failed");C.appendChild(F);if(G.result){z++}else{x++;w.stats.bad++;w.moduleStats.bad++}}if(t.config.reorder&&c.sessionStorage){if(x){sessionStorage.setItem("qunit-"+this.module+"-"+this.testName,x)}else{sessionStorage.removeItem("qunit-"+this.module+"-"+this.testName)}}if(x==0){C.style.display="none"}var D=document.createElement("strong");D.innerHTML=this.name+" <b class='counts'>(<b class='failed'>"+x+"</b>, <b class='passed'>"+z+"</b>, "+this.assertions.length+")</b>";var E=document.createElement("a");E.innerHTML="Rerun";E.href=t.url({filter:a([D]).replace(/\([^)]+\)$/,"").replace(/(^\s*|\s*$)/g,"")});q(D,"click",function(){var H=D.nextSibling.nextSibling,I=H.style.display;H.style.display=I==="none"?"block":"none"});q(D,"dblclick",function(I){var H=I&&I.target?I.target:g.event.srcElement;if(H.nodeName.toLowerCase()=="span"||H.nodeName.toLowerCase()=="b"){H=H.parentNode}if(g.location&&H.nodeName.toLowerCase()==="strong"){g.location=t.url({filter:a([H]).replace(/\([^)]+\)$/,"").replace(/(^\s*|\s*$)/g,"")})}});var F=o(this.id);F.className=x?"fail":"pass";F.removeChild(F.firstChild);F.appendChild(D);F.appendChild(E);F.appendChild(C)}else{for(var A=0;A<this.assertions.length;A++){if(!this.assertions[A].result){x++;w.stats.bad++;w.moduleStats.bad++}}}try{t.reset()}catch(B){e("reset() failed, following Test "+this.testName+", exception and reset fn follows",B,t.reset)}r("testDone",t,{name:this.testName,module:this.module,failed:x,passed:this.assertions.length-x,total:this.assertions.length})},queue:function(){var z=this;h(function(){z.init()});function x(){h(function(){z.setup()});h(function(){z.run()});h(function(){z.teardown()});h(function(){z.finish()})}var y=t.config.reorder&&c.sessionStorage&&+sessionStorage.getItem("qunit-"+this.module+"-"+this.testName);if(y){x()}else{h(x)}}};var t={module:function(x,y){w.currentModule=x;w.currentModuleTestEnviroment=y},asyncTest:function(x,y,z){if(arguments.length===2){z=y;y=0}t.test(x,y,z,true)},test:function(y,B,D,A){var z='<span class="test-name">'+y+"</span>",x;if(arguments.length===2){D=B;B=null}if(B&&typeof B==="object"){x=B;B=null}if(w.currentModule){z='<span class="module-name">'+w.currentModule+"</span>: "+z}if(!f(w.currentModule+": "+y)){return}var C=new b(z,y,B,x,A,D);C.module=w.currentModule;C.moduleTestEnvironment=w.currentModuleTestEnviroment;C.queue()},expect:function(x){w.current.expected=x},ok:function(x,z){x=!!x;var y={result:x,message:z};z=k(z);r("log",t,y);w.current.assertions.push({result:x,message:z})},equal:function(z,y,x){t.push(y==z,z,y,x)},notEqual:function(z,y,x){t.push(y!=z,z,y,x)},deepEqual:function(z,y,x){t.push(t.equiv(z,y),z,y,x)},notDeepEqual:function(z,y,x){t.push(!t.equiv(z,y),z,y,x)},strictEqual:function(z,y,x){t.push(y===z,z,y,x)},notStrictEqual:function(z,y,x){t.push(y!==z,z,y,x)},raises:function(B,z,y){var C,x=false;if(typeof z==="string"){y=z;z=null}try{B()}catch(A){C=A}if(C){if(!z){x=true}else{if(t.objectType(z)==="regexp"){x=z.test(C)}else{if(C instanceof z){x=true}else{if(z.call({},C)===true){x=true}}}}}t.ok(x,y)},start:function(x){w.semaphore-=x||1;if(w.semaphore>0){return}if(w.semaphore<0){w.semaphore=0}if(c.setTimeout){g.setTimeout(function(){if(w.semaphore>0){return}if(w.timeout){clearTimeout(w.timeout)}w.blocking=false;n()},13)}else{w.blocking=false;n()}},stop:function(x){w.semaphore+=x||1;w.blocking=true;if(w.testTimeout&&c.setTimeout){clearTimeout(w.timeout);w.timeout=g.setTimeout(function(){t.ok(false,"Test timed out");w.semaphore=1;t.start()},w.testTimeout)}}};(function(){function x(){}x.prototype=t;t=new x();t.constructor=x})();t.equals=t.equal;t.same=t.deepEqual;var w={queue:[],blocking:true,hidepassed:false,reorder:true,altertitle:true,urlConfig:["noglobals","notrycatch"],begin:[],done:[],log:[],testStart:[],testDone:[],moduleStart:[],moduleDone:[]};(function(){var x=g.location||{search:"",protocol:"file:"},C=x.search.slice(1).split("&"),A=C.length,y={},B;if(C[0]){for(var z=0;z<A;z++){B=C[z].split("=");B[0]=decodeURIComponent(B[0]);B[1]=B[1]?decodeURIComponent(B[1]):true;y[B[0]]=B[1]}}t.urlParams=y;w.filter=y.filter;t.isLocal=!!(x.protocol==="file:")})();if(typeof exports==="undefined"||typeof require==="undefined"){v(g,t);g.QUnit=t}else{v(exports,t);exports.QUnit=t}v(t,{config:w,init:function(){v(w,{stats:{all:0,bad:0},moduleStats:{all:0,bad:0},started:+new Date,updateRate:1000,blocking:false,autostart:true,autorun:false,filter:"",queue:[],semaphore:0});var z=o("qunit-tests"),y=o("qunit-banner"),x=o("qunit-testresult");if(z){z.innerHTML=""}if(y){y.className=""}if(x){x.parentNode.removeChild(x)}if(z){x=document.createElement("p");x.id="qunit-testresult";x.className="result";z.parentNode.insertBefore(x,z);x.innerHTML="Running...<br/>&nbsp;"}},reset:function(){if(g.jQuery){jQuery("#qunit-fixture").html(w.fixture)}else{var x=o("qunit-fixture");if(x){x.innerHTML=w.fixture}}},triggerEvent:function(z,x,y){if(document.createEvent){y=document.createEvent("MouseEvents");y.initMouseEvent(x,true,true,z.ownerDocument.defaultView,0,0,0,0,0,false,false,false,false,0,null);z.dispatchEvent(y)}else{if(z.fireEvent){z.fireEvent("on"+x)}}},is:function(x,y){return t.objectType(y)==x},objectType:function(y){if(typeof y==="undefined"){return"undefined"}if(y===null){return"null"}var x=Object.prototype.toString.call(y).match(/^\[object\s(.*)\]$/)[1]||"";switch(x){case"Number":if(isNaN(y)){return"nan"}else{return"number"}case"String":case"Boolean":case"Array":case"Date":case"RegExp":case"Function":return x.toLowerCase()}if(typeof y==="object"){return"object"}return undefined},push:function(x,D,B,A){var z={result:x,message:A,actual:D,expected:B};A=k(A)||(x?"okay":"failed");A='<span class="test-message">'+A+"</span>";B=k(t.jsDump.parse(B));D=k(t.jsDump.parse(D));var y=A+'<table><tr class="test-expected"><th>Expected: </th><td><pre>'+B+"</pre></td></tr>";if(D!=B){y+='<tr class="test-actual"><th>Result: </th><td><pre>'+D+"</pre></td></tr>";y+='<tr class="test-diff"><th>Diff: </th><td><pre>'+t.diff(B,D)+"</pre></td></tr>"}if(!x){var C=d();if(C){z.source=C;y+='<tr class="test-source"><th>Source: </th><td><pre>'+k(C)+"</pre></td></tr>"}}y+="</table>";r("log",t,z);w.current.assertions.push({result:!!x,message:y})},url:function(z){z=v(v({},t.urlParams),z);var x="?",y;for(y in z){x+=encodeURIComponent(y)+"="+encodeURIComponent(z[y])+"&"}return g.location.pathname+x.slice(0,-1)},extend:v,id:o,addEvent:q});v(t.constructor.prototype,{begin:p("begin"),done:p("done"),log:p("log"),testStart:p("testStart"),testDone:p("testDone"),moduleStart:p("moduleStart"),moduleDone:p("moduleDone")});if(typeof document==="undefined"||document.readyState==="complete"){w.autorun=true}t.load=function(){r("begin",t,{});var I=v({},w);t.init();v(w,I);w.blocking=false;var B="",C=w.urlConfig.length;for(var A=0,y;A<C,y=w.urlConfig[A];A++){w[y]=t.urlParams[y];B+='<label><input name="'+y+'" type="checkbox"'+(w[y]?' checked="checked"':"")+">"+y+"</label>"}var H=o("qunit-userAgent");if(H){H.innerHTML=navigator.userAgent}var G=o("qunit-header");if(G){G.innerHTML='<a href="'+t.url({filter:undefined})+'"> '+G.innerHTML+"</a> "+B;q(G,"change",function(J){var K={};K[J.target.name]=J.target.checked?true:undefined;g.location=t.url(K)})}var F=o("qunit-testrunner-toolbar");if(F){var x=document.createElement("input");x.type="checkbox";x.id="qunit-filter-pass";q(x,"click",function(){var J=document.getElementById("qunit-tests");if(x.checked){J.className=J.className+" hidepass"}else{var K=" "+J.className.replace(/[\n\t\r]/g," ")+" ";J.className=K.replace(/ hidepass /," ")}if(c.sessionStorage){if(x.checked){sessionStorage.setItem("qunit-filter-passed-tests","true")}else{sessionStorage.removeItem("qunit-filter-passed-tests")}}});if(w.hidepassed||c.sessionStorage&&sessionStorage.getItem("qunit-filter-passed-tests")){x.checked=true;var D=document.getElementById("qunit-tests");D.className=D.className+" hidepass"}F.appendChild(x);var E=document.createElement("label");E.setAttribute("for","qunit-filter-pass");E.innerHTML="Hide passed tests";F.appendChild(E)}var z=o("qunit-fixture");if(z){w.fixture=z.innerHTML}if(w.autostart){t.start()}};q(g,"load",t.load);function l(){w.autorun=true;if(w.currentModule){r("moduleDone",t,{name:w.currentModule,failed:w.moduleStats.bad,passed:w.moduleStats.all-w.moduleStats.bad,total:w.moduleStats.all})}var x=o("qunit-banner"),z=o("qunit-tests"),A=+new Date-w.started,B=w.stats.all-w.stats.bad,y=["Tests completed in ",A," milliseconds.<br/>",'<span class="passed">',B,'</span> tests of <span class="total">',w.stats.all,'</span> passed, <span class="failed">',w.stats.bad,"</span> failed."].join("");if(x){x.className=(w.stats.bad?"qunit-fail":"qunit-pass")}if(z){o("qunit-testresult").innerHTML=y}if(w.altertitle&&typeof document!=="undefined"&&document.title){document.title=[(w.stats.bad?"\u2716":"\u2714"),document.title.replace(/^[\u2714\u2716] /i,"")].join(" ")}r("done",t,{failed:w.stats.bad,passed:B,total:w.stats.all,runtime:A})}function f(x){var y=w.filter,A=false;if(!y){return true}var z=y.charAt(0)==="!";if(z){y=y.slice(1)}if(x.indexOf(y)!==-1){return !z}if(z){A=true}return A}function d(){try{throw new Error()}catch(x){if(x.stacktrace){return x.stacktrace.split("\n")[6]}else{if(x.stack){return x.stack.split("\n")[4]}else{if(x.sourceURL){}}}}}function k(x){if(!x){return""}x=x+"";return x.replace(/[\&<>]/g,function(y){switch(y){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";default:return y}})}function h(x){w.queue.push(x);if(w.autorun&&!w.blocking){n()}}function n(){var x=(new Date()).getTime();while(w.queue.length&&!w.blocking){if(w.updateRate<=0||(((new Date()).getTime()-x)<w.updateRate)){w.queue.shift()()}else{g.setTimeout(n,13);break}}if(!w.blocking&&!w.queue.length){l()}}function s(){w.pollution=[];if(w.noglobals){for(var x in g){w.pollution.push(x)}}}function j(z){var y=w.pollution;s();var x=i(w.pollution,y);if(x.length>0){ok(false,"Introduced global variable(s): "+x.join(", "))}var A=i(y,w.pollution);if(A.length>0){ok(false,"Deleted global variable(s): "+A.join(", "))}}function i(z,y){var x=z.slice();for(var B=0;B<x.length;B++){for(var A=0;A<y.length;A++){if(x[B]===y[A]){x.splice(B,1);B--;break}}}return x}function e(y,x,z){if(typeof console!=="undefined"&&console.error&&console.warn){console.error(y);console.error(x);console.warn(z.toString())}else{if(g.opera&&opera.postError){opera.postError(y,x,z.toString)}}}function v(y,x){for(var z in x){if(x[z]===undefined){delete y[z]}else{y[z]=x[z]}}return y}function q(z,y,x){if(z.addEventListener){z.addEventListener(y,x,false)}else{if(z.attachEvent){z.attachEvent("on"+y,x)}else{x()}}}function o(x){return !!(typeof document!=="undefined"&&document&&document.getElementById)&&document.getElementById(x)}function p(x){return function(y){w[x].push(y)}}function r(z,A,x){var B;if(t.hasOwnProperty(z)){t[z].call(A,x)}else{B=w[z];for(var y=0;y<B.length;y++){B[y].call(A,x)}}}t.equiv=function(){var A;var B=[];var x=[];function z(E,D,C){var F=t.objectType(E);if(F){if(t.objectType(D[F])==="function"){return D[F].apply(D,C)}else{return D[F]}}}var y=function(){function C(D,E){if(D instanceof E.constructor||E instanceof D.constructor){return E==D}else{return E===D}}return{string:C,"boolean":C,number:C,"null":C,"undefined":C,nan:function(D){return isNaN(D)},date:function(D,E){return t.objectType(D)==="date"&&E.valueOf()===D.valueOf()},regexp:function(D,E){return t.objectType(D)==="regexp"&&E.source===D.source&&E.global===D.global&&E.ignoreCase===D.ignoreCase&&E.multiline===D.multiline},"function":function(){var D=B[B.length-1];return D!==Object&&typeof D!=="undefined"},array:function(E,G){var I,H,F;var D;if(!(t.objectType(E)==="array")){return false}D=G.length;if(D!==E.length){return false}x.push(G);for(I=0;I<D;I++){F=false;for(H=0;H<x.length;H++){if(x[H]===G[I]){F=true}}if(!F&&!A(G[I],E[I])){x.pop();return false}}x.pop();return true},object:function(E,G){var J,H,F;var D=true;var I=[],K=[];if(G.constructor!==E.constructor){return false}B.push(G.constructor);x.push(G);for(J in G){F=false;for(H=0;H<x.length;H++){if(x[H]===G[J]){F=true}}I.push(J);if(!F&&!A(G[J],E[J])){D=false;break}}B.pop();x.pop();for(J in E){K.push(J)}return D&&A(I.sort(),K.sort())}}}();A=function(){var C=Array.prototype.slice.apply(arguments);if(C.length<2){return true}return(function(E,D){if(E===D){return true}else{if(E===null||D===null||typeof E==="undefined"||typeof D==="undefined"||t.objectType(E)!==t.objectType(D)){return false}else{return z(E,y,[D,E])}}})(C[0],C[1])&&arguments.callee.apply(this,C.splice(1,C.length-1))};return A}();t.jsDump=(function(){function x(D){return'"'+D.toString().replace(/"/g,'\\"')+'"'}function y(D){return D+""}function A(I,D,F){var G=z.separator(),H=z.indent(),E=z.indent(1);if(D.join){D=D.join(","+G+E)}if(!D){return I+F}return[I,E+D,H+F].join(G)}function C(E,D){var G=E.length,F=Array(G);this.up();while(G--){F[G]=this.parse(E[G],undefined,D)}this.down();return A("[",F,"]")}var B=/^function (\w+)/;var z={parse:function(H,F,D){D=D||[];var I=this.parsers[F||this.typeOf(H)];F=typeof I;var G=u(H,D);if(G!=-1){return"recursion("+(G-D.length)+")"}if(F=="function"){D.push(H);var E=I.call(this,H,D);D.pop();return E}return(F=="string")?I:this.parsers.error},typeOf:function(E){var D;if(E===null){D="null"}else{if(typeof E==="undefined"){D="undefined"}else{if(t.is("RegExp",E)){D="regexp"}else{if(t.is("Date",E)){D="date"}else{if(t.is("Function",E)){D="function"}else{if(typeof E.setInterval!==undefined&&typeof E.document!=="undefined"&&typeof E.nodeType==="undefined"){D="window"}else{if(E.nodeType===9){D="document"}else{if(E.nodeType){D="node"}else{if(typeof E==="object"&&typeof E.length==="number"&&E.length>=0){D="array"}else{D=typeof E}}}}}}}}}return D},separator:function(){return this.multiline?this.HTML?"<br />":"\n":this.HTML?"&nbsp;":" "},indent:function(D){if(!this.multiline){return""}var E=this.indentChar;if(this.HTML){E=E.replace(/\t/g,"   ").replace(/ /g,"&nbsp;")}return Array(this._depth_+(D||0)).join(E)},up:function(D){this._depth_+=D||1},down:function(D){this._depth_-=D||1},setParser:function(D,E){this.parsers[D]=E},quote:x,literal:y,join:A,_depth_:1,parsers:{window:"[Window]",document:"[Document]",error:"[ERROR]",unknown:"[Unknown]","null":"null","undefined":"undefined","function":function(F){var E="function",D="name" in F?F.name:(B.exec(F)||[])[1];if(D){E+=" "+D}E+="(";E=[E,t.jsDump.parse(F,"functionArgs"),"){"].join("");return A(E,t.jsDump.parse(F,"functionCode"),"}")},array:C,nodelist:C,arguments:C,object:function(G,D){var E=[];t.jsDump.up();for(var F in G){var H=G[F];E.push(t.jsDump.parse(F,"key")+": "+t.jsDump.parse(H,undefined,D))}t.jsDump.down();return A("{",E,"}")},node:function(H){var G=t.jsDump.HTML?"&lt;":"<",J=t.jsDump.HTML?"&gt;":">";var D=H.nodeName.toLowerCase(),F=G+D;for(var E in t.jsDump.DOMAttrs){var I=H[t.jsDump.DOMAttrs[E]];if(I){F+=" "+E+"="+t.jsDump.parse(I,"attribute")}}return F+J+G+"/"+D+J},functionArgs:function(F){var D=F.length;if(!D){return""}var E=Array(D);while(D--){E[D]=String.fromCharCode(97+D)}return" "+E.join(", ")+" "},key:x,functionCode:"[code]",attribute:x,string:x,date:x,regexp:y,number:y,"boolean":y},DOMAttrs:{id:"id",name:"name","class":"className"},HTML:false,indentChar:"  ",multiline:true};return z})();function a(x){var y="",A;for(var z=0;x[z];z++){A=x[z];if(A.nodeType===3||A.nodeType===4){y+=A.nodeValue}else{if(A.nodeType!==8){y+=a(A.childNodes)}}}return y}function u(z,A){if(A.indexOf){return A.indexOf(z)}for(var x=0,y=A.length;x<y;x++){if(A[x]===z){return x}}return -1}t.diff=(function(){function x(B,C){var z={};var A={};for(var y=0;y<C.length;y++){if(z[C[y]]==null){z[C[y]]={rows:[],o:null}}z[C[y]].rows.push(y)}for(var y=0;y<B.length;y++){if(A[B[y]]==null){A[B[y]]={rows:[],n:null}}A[B[y]].rows.push(y)}for(var y in z){if(z[y].rows.length==1&&typeof(A[y])!="undefined"&&A[y].rows.length==1){C[z[y].rows[0]]={text:C[z[y].rows[0]],row:A[y].rows[0]};B[A[y].rows[0]]={text:B[A[y].rows[0]],row:z[y].rows[0]}}}for(var y=0;y<C.length-1;y++){if(C[y].text!=null&&C[y+1].text==null&&C[y].row+1<B.length&&B[C[y].row+1].text==null&&C[y+1]==B[C[y].row+1]){C[y+1]={text:C[y+1],row:C[y].row+1};B[C[y].row+1]={text:B[C[y].row+1],row:y+1}}}for(var y=C.length-1;y>0;y--){if(C[y].text!=null&&C[y-1].text==null&&C[y].row>0&&B[C[y].row-1].text==null&&C[y-1]==B[C[y].row-1]){C[y-1]={text:C[y-1],row:C[y].row-1};B[C[y].row-1]={text:B[C[y].row-1],row:y-1}}}return{o:B,n:C}}return function(E,F){E=E.replace(/\s+$/,"");F=F.replace(/\s+$/,"");var z=x(E==""?[]:E.split(/\s+/),F==""?[]:F.split(/\s+/));var D="";var y=E.match(/\s+/g);if(y==null){y=[" "]}else{y.push(" ")}var B=F.match(/\s+/g);if(B==null){B=[" "]}else{B.push(" ")}if(z.n.length==0){for(var A=0;A<z.o.length;A++){D+="<del>"+z.o[A]+y[A]+"</del>"}}else{if(z.n[0].text==null){for(F=0;F<z.o.length&&z.o[F].text==null;F++){D+="<del>"+z.o[F]+y[F]+"</del>"}}for(var A=0;A<z.n.length;A++){if(z.n[A].text==null){D+="<ins>"+z.n[A]+B[A]+"</ins>"}else{var C="";for(F=z.n[A].row+1;F<z.o.length&&z.o[F].text==null;F++){C+="<del>"+z.o[F]+y[F]+"</del>"}D+=" "+z.n[A].text+B[A]+C}}}return D}})()})(this);