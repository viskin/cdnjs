(function(){angular.module("angular-bacon",[]).run(["$rootScope","$parse",function(a,b){var c;return c=function(a,b,c,d){var e,f;return e=new Bacon.Bus,a[d](b,function(a){return e.push(a)},c),a.$on("$destroy",function(){return e.end()}),f=a.$eval(b),"undefined"!=typeof f?e.toProperty(f):e.toProperty()},Object.getPrototypeOf(a).$watchAsProperty=function(a,b){return c(this,a,b,"$watch")},Object.getPrototypeOf(a).$watchCollectionAsProperty=function(a,b){return c(this,a,b,"$watchCollection")},Object.getPrototypeOf(a).digestObservables=function(a){var b;return b=this,angular.forEach(a,function(a,c){return a.digest(b,c)})},Bacon.Observable.prototype.digest=function(a,c){var d,e;return d=b(c).assign,e=this.subscribe(function(b){return b.hasValue()?a.$$phase||a.$root.$$phase?d(a,b.value()):a.$apply(function(){return d(a,b.value())}):void 0}),a.$on("$destroy",e),this},a.$asEventStream=function(a){var b;return b=this,Bacon.fromBinder(function(c){var d;return d=b.$on(a,function(a){var b;return a.args=Array.prototype.slice.call(arguments,1),b=c(a),b===Bacon.noMore?d():void 0}),b.$on("$destroy",function(){return c(new Bacon.End)}),d})}}])}).call(this);