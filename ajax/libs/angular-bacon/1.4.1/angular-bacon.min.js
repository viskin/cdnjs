(function(){angular.module("angular-bacon",[]).run(["$rootScope","$parse",function(n,r){var t;return t=function(n,r,t,o){var e,u;return e=new Bacon.Bus,n[o](r,function(n){return e.push(n)},t),n.$on("$destroy",function(){return e.end()}),u=n.$eval(r),u!==void 0?e.toProperty(u):e.toProperty()},n.$watchAsProperty=function(n,r){return t(this,n,r,"$watch")},n.$watchCollectionAsProperty=function(n,r){return t(this,n,r,"$watchCollection")},n.digestObservables=function(n){var r;return r=this,angular.forEach(n,function(n,t){return n.digest(r,t)})},Bacon.Observable.prototype.digest=function(n,t){var o,e;return o=r(t).assign,e=this.subscribe(function(r){return r.hasValue()?n.$$phase?o(n,r.value()):n.$apply(function(){return o(n,r.value())}):void 0}),n.$on("$destroy",e),this},n.$asEventStream=function(n){var r;return r=this,Bacon.fromBinder(function(t){var o;return o=r.$on(n,function(n){var r;return n.args=Array.prototype.slice.call(arguments,1),r=t(n),r===Bacon.noMore?o():void 0}),r.$on("$destroy",function(){return t(new Bacon.End)}),o})}}])}).call(this);