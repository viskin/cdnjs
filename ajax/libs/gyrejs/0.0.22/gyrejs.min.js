!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("Immutable")):"function"==typeof define&&define.amd?define(["Immutable"],t):"object"==typeof exports?exports.GyreJS=t(require("Immutable")):e.GyreJS=t(e.Immutable)}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(3),u=r(o);e.exports=u.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){var n=new Map,r=[],o=function a(e){for(var o=arguments.length,u=Array(o>1?o-1:0),c=1;o>c;c++)u[c-1]=arguments[c];n.has(e)?r.reduce(function(n,r){return function(){return r(t.NS,e,u,n,a)}},function(){return n.get(e)(u.push(a)&&u)})():console.warn(">> GyreJS-'"+t.NS+"'-gyre: Unregistered action dispatched: '"+e+"' with arguments:",u,". (This is a no-op)")},u=function(r,o){n.set(r,function(n){return e.update(t.NS,o,n)})},c=function(e){Object.keys(e).forEach(function(t){u(t,e[t])})},i=function(e){r.unshift(e)};return{addAction:u,addActions:c,dispatch:o,use:i}};t.default=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),c=r(u),i=n(4),a=r(i),f=function(){return{}},d=function(e){return e()},s=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.actions,n=void 0===t?f:t,r=e.selectors,u=void 0===r?{}:r,i=e.state,s=void 0===i?{}:i,l=e.ticker,p=void 0===l?d:l;return function(e,t){var r={},i=(0,c.default)(e,t),f=(0,a.default)(e,t,i.dispatch),d={},l=function(){return i.addAction.apply(i,arguments),r},y=function(){return i.addActions.apply(i,arguments),r},g=function(e,n,o){return!Object.prototype.hasOwnProperty.call(d,e)||o?d[e]=n:console.warn(">> GyreJS-'"+t.NS+"'-gyre: AddFilter -> Selector with id: '"+e+"' already exists."),r},S=function(e,t){return Object.keys(e).forEach(function(n){g(n,e[n],t)}),r},b=function(e,n){for(var r=arguments.length,u=Array(r>2?r-2:0),c=2;r>c;c++)u[c-2]=arguments[c];return"function"==typeof e||"object"===("undefined"==typeof e?"undefined":o(e))?f(e,n):Object.prototype.hasOwnProperty.call(d,e)?f(d[e].apply(d,u),n):void console.warn(">> GyreJS-'"+t.NS+"'-gyre: Unregistered selector requested: '"+e+"' with arguments:",u,".")},h=function(){return i.dispatch.apply(i,arguments),r},m=function(){return e.getState(t.NS)},v=function(n){return e.setState(n,t.NS),r},j=function(n){return e.setTicker(t.NS,n),r},w=function(){return i.use.apply(i,arguments),r};return y(n(t)),S(u),j(p),v(s),Object.assign(r,{addAction:l,addActions:y,addSelector:g,addSelectors:S,createSelector:b,dispatch:h,getState:m,nameSpace:t.NS,setState:v,setTicker:j,use:w})}};t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),u=r(o),c=n(2),i=r(c),a=new Map,f=(0,u.default)(),d=function(e,t){return a.has(e)?a.get(e)(f,Object.assign({},t,{NS:e+"-"+Date.now()})):void console.warn(">> GyreJS: Error on create - Gyre factory '"+e+"' not registered.")},s=function(e,t){a.set(e,t)},l=function(e){return a.has(e)?a.delete(e)&&!0:(console.warn(">> GyreJS: Error on unregister - Gyre factory '"+e+"' not registered."),!1)};t.default={createGyre:d,registerGyreFactory:s,unRegisterGyreFactory:l,createGyreFactory:i.default}},function(e,t){"use strict";function n(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,r){var o=t.NS;return function(t,u){if("object"===("undefined"==typeof t?"undefined":n(t))&&"function"!=typeof t.onUpdate)throw new Error("GyreJS: Selector object should expose an 'onUpdate' method.");if("object"!==("undefined"==typeof t?"undefined":n(t))&&"function"!=typeof t)throw new Error("GyreJS: Selector should either be a function or an object with an 'onUpdate' method.");"function"==typeof t.onSubscribe&&t.onSubscribe(r);var c="object"===("undefined"==typeof t?"undefined":n(t))?t.onUpdate:t,i=e.addSelector(o,function(e){return c(e,u)});return function(){i(),"function"==typeof t.onUnsubscribe&&t.onUnsubscribe(r)}}};t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(6),c=r(u),i=function(){var e=c.default.Map({}),t={},n=function(e){return t[e]||(t[e]=[])},r=function(t,r){return function(){var o=n(t);return o.updateRequested=!1,r?r(e.get(t)):o.forEach(function(n){return n(e.get(t))})}},u=function(e,t){var o=n(e);o.updateRequested||(o.updateRequested=!0,o.ticker(r(e,t)))},i=function(e,n){return function(){return t[e].splice(t[e].indexOf(n),1)}},a=function(t,n){return e.get(n)!==t&&(e=e.set(n,t),u(n)),e},f=function(e,t){return n(e).push(t),u(e,t),i(e,t)},d=function(t){return e.has(t)?e.get(t):e},s=function(e,t){return a(c.default.Map.isMap(e)?e:c.default.Map(e),t)},l=function(e,t){return n(e).ticker=t},p=function(t,n,r){return a(n.apply(void 0,o([e.get(t)].concat(r)))||e.get(t),t)};return{addSelector:f,getState:d,setState:s,setTicker:l,update:p}};t.default=i},function(t,n){t.exports=e}])});