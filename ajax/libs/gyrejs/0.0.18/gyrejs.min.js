!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("Immutable")):"function"==typeof define&&define.amd?define(["Immutable"],e):"object"==typeof exports?exports.GyreJS=e(require("Immutable")):t.GyreJS=e(t.Immutable)}(this,function(t){return function(t){function e(n){if(r[n])return r[n].exports;var u=r[n]={exports:{},id:n,loaded:!1};return t[n].call(u.exports,u,u.exports,e),u.loaded=!0,u.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var u=r(3),o=n(u);t.exports=o.default},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){var r=new Map,n=[],u=function c(t){for(var u=arguments.length,o=Array(u>1?u-1:0),a=1;u>a;a++)o[a-1]=arguments[a];r.has(t)?n.reduce(function(r,n){return function(){return n(e.NS,t,o,r,c)}},function(){return r.get(t)(o.push(c)&&o)})():console.warn(">> GyreJS-'"+e.NS+"'-gyre: Unregistered action dispatched: '"+t+"' with arguments:",o,". (This is a no-op)")},o=function(n,u){r.set(n,function(r){return t.updateState(e.NS,u,r)})},a=function(t){Object.keys(t).forEach(function(e){o(e,t[e])})},i=function(t){n.unshift(t)};return{addAction:o,addActions:a,dispatch:u,use:i}};e.default=r},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var u=r(1),o=n(u),a=function(t){var e=t.actions,r=void 0===e?function(){}:e,n=t.filters,u=void 0===n?{}:n,a=t.state,i=void 0===a?{}:a;return function(t,e){var n=(0,o.default)(t,e),a=function(r,o){for(var a=arguments.length,i=Array(a>2?a-2:0),c=2;a>c;c++)i[c-2]=arguments[c];return Object.prototype.hasOwnProperty.call(u,r)?u[r].apply(u,[t,n.dispatch,o,e].concat(i)):void console.warn(">> GyreJS-'"+e.NS+"'-gyre: Unregistered filter requested: '"+r+"' with arguments:",i,".")},c=function(r){return t.setState(r,e.NS)},f=function(){return t.getState().get(e.NS)};return n.addActions(r(e)),c(i),{addAction:n.addAction,addActions:n.addActions,dispatch:n.dispatch,getState:f,getFilter:a,nameSpace:e.NS,setState:c,use:n.use}}};e.default=a},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var u=r(4),o=n(u),a=r(2),i=n(a),c=new Map,f=(0,o.default)(),s=function(t,e){c.has(t)||console.warn(">> GyreJS: Error on create - Gyre factory '"+t+"' not registered.");var r=t+"-"+Date.now();return f.setState({data:{}},r),c.get(t)(f,Object.assign({},{NS:r},e))},d=function(t,e){c.set(t,e)},l=function(t){return c.has(t)?c.delete(t)&&!0:(console.warn(">> GyreJS: Error on unregister - Gyre factory '"+t+"' not registered."),!1)};e.default={createGyre:s,registerGyreFactory:d,unRegisterGyreFactory:l,GyreFactoryFactory:i.default}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function u(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),a=n(o),i=function(){var t=a.default.Map({}),e={},r=new Set,n=function(){r.forEach(function(r){return(e[r]||[]).forEach(function(e){return e("all"===r?t:t.get(r))})}),r.clear()},o=function(t){r.size||requestAnimationFrame(n),r.add("all").add(t)},i=function(t,r){return function(){return e[t]=e[t].filter(function(t){return t!==r})}},c=function(e,r){return t.get(r)!==e&&(t=t.set(r,e),o(r)),t},f=function(t){var r=arguments.length<=1||void 0===arguments[1]?"all":arguments[1];return e[r]||(e[r]=[]),e[r].push(t),o(r),i(r,t)},s=function(){return t},d=function(t,e){return c(a.default.Map.isMap(t)?t:a.default.Map(t),e)},l=function(e,r,n){return c(r.apply(void 0,u([t.get(e)].concat(n)))||t.get(e),e)};return{addFilter:f,getState:s,setState:d,updateState:l}};e.default=i},function(e,r){e.exports=t}])});