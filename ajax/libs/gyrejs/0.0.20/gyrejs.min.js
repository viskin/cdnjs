!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("Immutable")):"function"==typeof define&&define.amd?define(["Immutable"],t):"object"==typeof exports?exports.GyreJS=t(require("Immutable")):e.GyreJS=t(e.Immutable)}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(3),u=r(o);e.exports=u.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){var n=new Map,r=[],o=function i(e){for(var o=arguments.length,u=Array(o>1?o-1:0),a=1;o>a;a++)u[a-1]=arguments[a];n.has(e)?r.reduce(function(n,r){return function(){return r(t.NS,e,u,n,i)}},function(){return n.get(e)(u.push(i)&&u)})():console.warn(">> GyreJS-'"+t.NS+"'-gyre: Unregistered action dispatched: '"+e+"' with arguments:",u,". (This is a no-op)")},u=function(r,o){n.set(r,function(n){return e.update(t.NS,o,n)})},a=function(e){Object.keys(e).forEach(function(t){u(t,e[t])})},c=function(e){r.unshift(e)};return{addAction:u,addActions:a,dispatch:o,use:c}};t.default=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),a=r(u),c=n(4),i=r(c),f=function(){return{}},d=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.actions,n=void 0===t?f:t,r=e.selectors,u=void 0===r?{}:r,c=e.state,d=void 0===c?{}:c;return function(e,t){var r=(0,a.default)(e,t),c=(0,i.default)(e,t,r.dispatch),f={},s=function(e,n,r){!Object.prototype.hasOwnProperty.call(f,e)||r?f[e]=n:console.warn(">> GyreJS-'"+t.NS+"'-gyre: AddFilter -> Selector with id: '"+e+"' already exists.")},l=function(e,t){Object.keys(e).forEach(function(n){s(n,e[n],t)})},y=function(e,n){for(var r=arguments.length,u=Array(r>2?r-2:0),a=2;r>a;a++)u[a-2]=arguments[a];return"function"==typeof e||"object"===("undefined"==typeof e?"undefined":o(e))?c(e,n):Object.prototype.hasOwnProperty.call(f,e)?c(f[e].apply(f,u),n):void console.warn(">> GyreJS-'"+t.NS+"'-gyre: Unregistered selector requested: '"+e+"' with arguments:",u,".")},p=function(n){return e.setState(n,t.NS)},S=function(){return e.getState().get(t.NS)};return r.addActions(n(t)),l(u),p(d),{addAction:r.addAction,addActions:r.addActions,addSelector:s,addSelectors:l,createSelector:y,dispatch:r.dispatch,getState:S,nameSpace:t.NS,setState:p,use:r.use}}};t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),u=r(o),a=n(2),c=r(a),i=new Map,f=(0,u.default)(),d=function(e,t){i.has(e)||console.warn(">> GyreJS: Error on create - Gyre factory '"+e+"' not registered.");var n=e+"-"+Date.now();return f.setState({},n),i.get(e)(f,Object.assign({},t,{NS:n}))},s=function(e,t){i.set(e,t)},l=function(e){return i.has(e)?i.delete(e)&&!0:(console.warn(">> GyreJS: Error on unregister - Gyre factory '"+e+"' not registered."),!1)};t.default={createGyre:d,registerGyreFactory:s,unRegisterGyreFactory:l,createGyreFactory:c.default}},function(e,t){"use strict";function n(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,r){var o=t.NS;return function(t,u){if("object"===("undefined"==typeof t?"undefined":n(t))&&"function"!=typeof t.onUpdate)throw new Error("GyreJS: Selector object should expose an 'onUpdate' method.");if("object"!==("undefined"==typeof t?"undefined":n(t))&&"function"!=typeof t)throw new Error("GyreJS: Selector should either be a function or an object with an 'onUpdate' method.");"function"==typeof t.onSubscribe&&t.onSubscribe(r);var a="object"===("undefined"==typeof t?"undefined":n(t))?t.onUpdate:t,c=function(e){a(e,u)},i=e.addSelector(c,o);return function(){i(),"function"==typeof t.onUnsubscribe&&t.onUnsubscribe(r)}}};t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(6),a=r(u),c=function(){var e=a.default.Map({}),t={},n=function(){Object.keys(t).forEach(function(n){return(t[n]||[]).forEach(function(t){return t("all"===n?e:e.get(n))})})},r=function(e,n){return function(){return t[e]=t[e].filter(function(e){return e!==n})}},u=function(t,r){return e.get(r)!==t&&(e=e.set(r,t),n(r)),e},c=function(n){var o=arguments.length<=1||void 0===arguments[1]?"all":arguments[1];return t[o]||(t[o]=[]),t[o].push(n),n("all"===o?e:e.get(o)),r(o,n)},i=function(){return e},f=function(e,t){return u(a.default.Map.isMap(e)?e:a.default.Map(e),t)},d=function(t,n,r){return u(n.apply(void 0,o([e.get(t)].concat(r)))||e.get(t),t)};return{addSelector:c,getState:i,setState:f,update:d}};t.default=c},function(t,n){t.exports=e}])});