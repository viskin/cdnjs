!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("Immutable")):"function"==typeof define&&define.amd?define(["Immutable"],t):"object"==typeof exports?exports.GyreJS=t(require("Immutable")):e.GyreJS=t(e.Immutable)}(this,function(e){return function(e){function t(n){if(r[n])return r[n].exports;var u=r[n]={exports:{},id:n,loaded:!1};return e[n].call(u.exports,u,u.exports,t),u.loaded=!0,u.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var u=r(1),o=n(u),a=new Map,i=o.default(),f=function(e,t){a.has(e)||console.warn(">> GyreJS: Gyre factory '"+e+"' not registered.");var r=e+"-"+Date.now();return i.setState({data:{}},r),a.get(e)(i,Object.assign({},{NS:r},t))},c=function(e){return a.has(e)?a.delete(e)&&!0:(console.warn(">> GyreJS: Gyre factory '"+e+"' not registered."),!1)},s=function(e,t){a.set(e,t)};t.createGyre=f,t.destroyGyre=c,t.registerGyreFactory=s},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var u=r(2),o=n(u),a=function(){var e=o.default.Map({}),t={},r=new Set,n=function(){r.forEach(function(r){return(t[r]||[]).forEach(function(t){return t("all"===r?e:e.get(r))})}),r.clear()},u=function(e){r.size||requestAnimationFrame(n),r.add("all").add(e)},a=function(e,r){return function(){return t[e]=t[e].filter(function(e){return e!==r})}},i=function(t,r){return e.get(r)!==t&&(e=e.set(r,t),u(r)),e},f=function(e){var r=arguments.length<=1||void 0===arguments[1]?"all":arguments[1];return t[r]||(t[r]=[]),t[r].push(e),u(r),a(r,e)},c=function(){return e},s=function(e,t){return i(o.default.Map.isMap(e)?e:o.default.Map(e),t)},d=function(t,r,n){return i(r.apply(void 0,[e.get(t)].concat(n))||e.get(t),t)};return{addFilter:f,getState:c,setState:s,updateState:d}};t.default=a,e.exports=t.default},function(t,r){t.exports=e}])});