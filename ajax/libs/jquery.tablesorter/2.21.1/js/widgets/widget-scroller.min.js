!function(e,r){"use strict";e.fn.hasScrollBar=function(){return this.get(0).scrollHeight>this.height()};var t=e.tablesorter;t.window_resize=function(){this.resize_timer&&clearTimeout(this.resize_timer),this.resize_timer=setTimeout(function(){e(this).trigger("resizeEnd")},250)},e(function(){var r="<style>.tablesorter-scrollbar-measure { width: 100px; height: 100px; overflow: scroll; position: absolute; top: -9999px; } .tablesorter-scroller-reset { width: auto !important; } .tablesorter-scroller { text-align: left; overflow: hidden;  }.tablesorter-scroller-header, .tablesorter-scroller-footer { overflow: hidden; }.tablesorter-scroller-header table.tablesorter { margin-bottom: 0; }.tablesorter-scroller-footer table.tablesorter thead { visibility: hidden, height: 0; overflow: hidden; }.tablesorter-scroller-table { overflow-y: scroll; }.tablesorter-scroller-table table.tablesorter { margin-top: 0; margin-bottom: 0; overflow: scroll; } .tablesorter-scroller-table .tablesorter-filter-row,.tablesorter-scroller-footer .tablesorter-filter-row,.tablesorter-scroller-table tfoot { display: none; }.tablesorter-scroller-table table.tablesorter thead tr.tablesorter-headerRow *,.tablesorter-scroller-footer table.tablesorter thead * {line-height:0;height:0;border:none;background-image:none;padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;overflow:hidden;}</style>";e(r).appendTo("body")}),t.addWidget({id:"scroller",priority:60,options:{scroller_height:300,scroller_jumpToHeader:!0,scroller_upAfterSort:!0,scroller_barWidth:null},init:function(l,o,s){var i=e(r),a=s.namespace+"tsscroller";i.bind("resize"+a,t.window_resize).bind("resizeEnd"+a,function(){e.isFunction(l.config.widgetOptions.scroller_resizeWidth)&&(i.unbind("resize"+a,t.window_resize),l.config.widgetOptions.scroller_resizeWidth(),i.bind("resize"+a,t.window_resize))})},format:function(l,o,s){var i,a,d,n,c,h,b,p,f,g=e(),w=o.namespace.slice(1)+"tsscroller",u=e(r),m=o.$table;o.isScrolling||(o.widthFixed=!0,i=s.scroller_height||300,a=m.children("tbody").height(),0!==a&&i>a&&(i=a+10),d=e('<table class="'+m.attr("class")+'" cellpadding=0 cellspacing=0>'+m.children("thead")[0].outerHTML+"</table>"),n=m.children("tfoot"),n.length&&(g=e('<table class="'+m.attr("class")+'" cellpadding=0 cellspacing=0 style="margin-top:0"></table>').append(n.clone(!0)).append(m.children("thead")[0].outerHTML).wrap('<div class="tablesorter-scroller-footer"/>'),p=g.children("tfoot").eq(0).children("tr").children()),o.$extraTables=o.$extraTables&&o.$extraTables.length?o.$extraTables.add(d).add(g):d.add(g),m.wrap('<div id="'+w+'" class="tablesorter-scroller" />').before(d).find(".tablesorter-filter-row").addClass("hideme"),g.length&&m.after(g.parent()),b=d.wrap('<div class="tablesorter-scroller-header" />').find("."+t.css.header),m.wrap('<div class="tablesorter-scroller-table" style="max-height:'+i+'px;" />'),f=m.parent(),t.bindEvents(l,b),m.hasClass("hasFilters")&&t.filter.bindSearch(m,d.find("."+t.css.filter)),h=function(){var r=e('<div class="tablesorter-scrollbar-measure">').appendTo("body"),t=r[0],l=t.offsetWidth-t.clientWidth;return r.remove(),l},c=function(){var t,o,i,a,n=e('div.tablesorter-scroller[id != "'+w+'"]').hide();m.children("thead").show(),m.add(d).add(g).children("colgroup").remove(),m.addClass("tablesorter-scroller-reset").children("thead").find(".tablesorter-header-inner").addClass("tablesorter-scroller-reset").end().find(".tablesorter-filter-row").show(),f.addClass("tablesorter-scroller-reset"),f.parent().trigger("resize"),t=parseInt(m.css("border-left-width"),10)+parseInt(m.css("border-right-width"),10),a=(s.scroller_barWidth||h())+t,f.width(f.parent().innerWidth()-(f.parent().hasScrollBar()?a:0)),a=f.innerWidth()-(f.hasScrollBar()?a:0),d.parent().add(g.parent()).width(a),a=m.width(),o=d.children("thead").children().children("th, td").filter(":visible"),i=g.children("tfoot").children().children("th, td").filter(":visible"),m.children("thead").children().eq(0).children("th, td").each(function(t){var l,s,a=e(this);"border-box"===a.css("box-sizing")?l=a.outerWidth():"collapse"===o.eq(t).css("border-collapse")?r.getComputedStyle?l=parseFloat(r.getComputedStyle(this,null).width):(s=parseFloat(a.css("border-width")),l=a.outerWidth()-parseFloat(a.css("padding-left"))-parseFloat(a.css("padding-right"))-s):l=a.width(),o.eq(t).add(i.eq(t)).css({"min-width":l,"max-width":l})}),m.closest(".tablesorter-scroller").find(".tablesorter-scroller-reset").removeClass("tablesorter-scroller-reset"),e.tablesorter.fixColumnWidth(l),o=m.children("colgroup"),o.length&&(t=o[0].outerHTML,d.prepend(t),g.length&&g.prepend(t)),m.children("thead").find(".tablesorter-filter-row").hide(),n.show()},s.scroller_resizeWidth=c,c(),m.find("thead").css("visibility","hidden"),o.isScrolling=!0,a=f.parent().height(),f.bind("scroll",function(){if(s.scroller_jumpToHeader){var r=u.scrollTop()-d.offset().top;0!==e(this).scrollTop()&&a>r&&r>0&&u.scrollTop(d.offset().top)}d.parent().add(g.parent()).scrollLeft(e(this).scrollLeft())})),s.scroller_upAfterSort&&m.parent().animate({scrollTop:0},"fast")},remove:function(t,l){var o=l.$table,s=l.namespace+"tsscroller";o.closest(".tablesorter-scroller").find(".tablesorter-scroller-header").remove(),o.closest(".tablesorter-scroller").find(".tablesorter-scroller-footer").remove(),o.unwrap().find(".tablesorter-filter-row").removeClass("hideme").end().find("thead").show().css("visibility","visible"),e(r).unbind("resize"+s+" resizeEnd"+s),l.isScrolling=!1}})}(jQuery,window);