/*! Widget: alignChar - updated 2/7/2015 (v2.19.0) */
;(function(b){var a=b.tablesorter;a.alignChar={init:function(e,f,d){f.$headers.filter("["+d.alignChar_charAttrib+"]").each(function(){var g=b(this),c={column:this.column,align:g.attr(d.alignChar_charAttrib),alignIndex:parseInt(g.attr(d.alignChar_indexAttrib)||0,10),adjust:parseFloat(g.attr(d.alignChar_adjustAttrib))||0};c.regex=new RegExp("\\"+c.align,"g");if(typeof c.align!=="undefined"){d.alignChar_savedVars[this.column]=c;a.alignChar.setup(e,f,d,c)}})},setup:function(s,w,d,n){if(b.isEmptyObject(w.cache)){return}var o,m,g,e,k,h,l,x,i,q,t,r,j,p,f=[],u=[];for(o=0;o<w.$tbodies.length;o++){l=w.cache[o];q=l.normalized.length;for(m=0;m<q;m++){p=l.row?l.row[m]:l.normalized[m][w.columns].$row;x=p.find("td").eq(n.column).text().replace(/[ ]/g,"\u00a0");i=(x.match(n.regex)||[]).length;if(i>0&&n.alignIndex>0){e=Math.min(n.alignIndex,i);g=0;h=0;k=0;while(g++<e){k=x.indexOf(n.align,k+1);h=k<0?h:k}}else{h=x.indexOf(n.align)}if(h>=0){f.push(x.substring(0,h)||"");u.push(x.substring(h,x.length)||"")}else{f.push((i>=1&&n.alignIndex>=i)?"":x||"");u.push((i>=1&&n.alignIndex>=i)?x||"":"")}}}t=(b.extend([],f)).sort(function(v,c){return c.length-v.length})[0];r=(b.extend([],u)).sort(function(v,c){return c.length-v.length})[0];n.width=n.width||(Math.floor(t.length/(t.length+r.length)*100)+n.adjust);t="min-width:"+n.width+"%";r="min-width:"+(100-n.width)+"%";for(o=0;o<w.$tbodies.length;o++){l=w.cache[o];q=l.normalized.length;for(m=0;m<q;m++){j=b(d.alignChar_wrap).length?b(d.alignChar_wrap).html(n.align)[0].outerHTML:n.align;p=l.row?l.row[m]:l.normalized[m][w.columns].$row;k=u[m].slice(n.align.length);p.find("td").eq(n.column).html('<span class="ts-align-wrap"><span class="ts-align-left" style="'+t+'">'+f[m]+'</span><span class="ts-align-right" style="'+r+'">'+(k.length?j+k:"")+"</span></span>")}}d.alignChar_initialized=true},remove:function(k,g,d){if(b.isEmptyObject(g.cache)){return}var j,i,e,l,f,h;for(j=0;j<g.$tbodies.length;j++){l=g.cache[j];e=l.normalized.length;for(i=0;i<e;i++){f=l.row?l.row[i]:l.normalized[i][g.columns].$row;h=f.find("td").eq(d);h.html(h.text().replace(/\s/g," "))}}}};a.addWidget({id:"alignChar",priority:100,options:{alignChar_wrap:"",alignChar_charAttrib:"data-align-char",alignChar_indexAttrib:"data-align-index",alignChar_adjustAttrib:"data-align-adjust"},init:function(f,e,g,d){d.alignChar_initialized=false;d.alignChar_savedVars=[];a.alignChar.init(f,g,d);g.$table.on("pagerEnd refreshAlign",function(){g.$headers.filter("["+d.alignChar_charAttrib+"]").each(function(){a.alignChar.remove(f,g,this.column)});a.alignChar.init(f,g,d)})},format:function(e,f,d){if(!d.alignChar_initialized){f.$table.trigger("refreshAlign")}},remove:function(e,g,d,f){if(f){return}g.$headers.filter("["+d.alignChar_charAttrib+"]").each(function(){a.alignChar.remove(e,g,this.column)});d.alignChar_initialized=false}})})(jQuery);