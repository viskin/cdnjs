!function(e,t){"use strict";var s=e.tablesorter=e.tablesorter||{};e.extend(s.css,{resizer:"tablesorter-resizer"}),s.addWidget({id:"resizable",priority:40,options:{resizable:!0,resizable_addLastColumn:!1,resizable_widths:[],resizable_throttle:!1},format:function(i,r,a){if(!r.$table.hasClass("hasResizable")){r.$table.addClass("hasResizable"),s.resizableReset(i,!0);var n,l,d,o,h,c={},u=r.$table,b=u.parent(),z="auto"===u.parent().css("overflow"),f=0,w=null,p=null,m=Math.abs(u.parent().width()-u.width())<20,g=function(e){if(0!==f&&w){var t=e.pageX-f,s=w.width();w.width(s+t),w.width()!==s&&m?p.width(p.width()-t):z&&(u.width(function(e,s){return s+t}),p.length||(b[0].scrollLeft=u.width())),f=e.pageX}},v=function(){s.storage&&w&&p&&(c={},c[w.index()]=w.width(),c[p.index()]=p.width(),w.width(c[w.index()]),p.width(c[p.index()]),a.resizable!==!1&&s.storage(i,"tablesorter-resizable",r.$headers.map(function(){return e(this).width()}).get())),f=0,w=p=null,e(t).trigger("resize")};if(c=s.storage&&a.resizable!==!1?s.storage(i,"tablesorter-resizable"):{})for(o in c)!isNaN(o)&&o<r.$headers.length&&r.$headers.eq(o).width(c[o]);n=u.children("thead:first").children("tr"),n.children().each(function(){var t,a=e(this);o=a.attr("data-column"),t="false"===s.getData(a,s.getColumnData(i,r.headers,o),"resizable"),n.children().filter('[data-column="'+o+'"]')[t?"addClass":"removeClass"]("resizable-false")}),n.each(function(){d=e(this).children().not(".resizable-false"),e(this).find("."+s.css.wrapper).length||d.wrapInner('<div class="'+s.css.wrapper+'" style="position:relative;height:100%;width:100%"></div>'),a.resizable_addLastColumn||(d=d.slice(0,-1)),l=l?l.add(d):d}),l.each(function(){var t=e(this),i=parseInt(t.css("padding-right"),10)+10;t.find("."+s.css.wrapper).append('<div class="'+s.css.resizer+'" style="cursor:w-resize;position:absolute;z-index:1;right:-'+i+'px;top:0;height:100%;width:20px;"></div>')}).find("."+s.css.resizer).bind("mousedown",function(t){w=e(t.target).closest("th");var s=r.$headers.filter('[data-column="'+w.attr("data-column")+'"]');s.length>1&&(w=w.add(s)),p=t.shiftKey?w.parent().find("th").not(".resizable-false").filter(":last"):w.nextAll(":not(.resizable-false)").eq(0),f=t.pageX}),e(document).bind("mousemove.tsresize",function(e){0!==f&&w&&(a.resizable_throttle?(clearTimeout(h),h=setTimeout(function(){g(e)},isNaN(a.resizable_throttle)?5:a.resizable_throttle)):g(e))}).bind("mouseup.tsresize",function(){v()}),u.find("thead:first").bind("contextmenu.tsresize",function(){s.resizableReset(i);var t=e.isEmptyObject?e.isEmptyObject(c):!0;return c={},t})}},remove:function(e,t){t.$table.removeClass("hasResizable").children("thead").unbind("mouseup.tsresize mouseleave.tsresize contextmenu.tsresize").children("tr").children().unbind("mousemove.tsresize mouseup.tsresize").find("."+s.css.resizer).remove(),s.resizableReset(e)}}),s.resizableReset=function(t,i){e(t).each(function(){var r,a=this.config,n=a&&a.widgetOptions;t&&a&&(a.$headers.each(function(t){r=e(this),n.resizable_widths&&n.resizable_widths[t]?r.css("width",n.resizable_widths[t]):r.hasClass("resizable-false")||r.css("width","")}),s.storage&&!i&&s.storage(this,"tablesorter-resizable",{}))})}}(jQuery,window);