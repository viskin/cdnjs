!function(e,r){"use strict";e.fn.hasScrollBar=function(){return this.get(0).scrollHeight>this.height()};var t=e.tablesorter;t.window_resize=function(){this.resize_timer&&clearTimeout(this.resize_timer),this.resize_timer=setTimeout(function(){e(this).trigger("resizeEnd")},250)},e(function(){var r="<style>.tablesorter-scrollbar-measure { width: 100px; height: 100px; overflow: scroll; position: absolute; top: -9999px; } .tablesorter-scroller-reset { width: auto !important; } .tablesorter-scroller { text-align: left; overflow: hidden;  }.tablesorter-scroller-header { overflow: hidden; }.tablesorter-scroller-header table.tablesorter { margin-bottom: 0; }.tablesorter-scroller-footer table.tablesorter thead { visibility: hidden, height: 0; overflow: hidden; }.tablesorter-scroller-table { overflow-y: scroll; }.tablesorter-scroller-table table.tablesorter { margin-top: 0; margin-bottom: 0; overflow: scroll; } .tablesorter-scroller-table .tablesorter-filter-row,.tablesorter-scroller-footer .tablesorter-filter-row,.tablesorter-scroller-table tfoot { display: none; }.tablesorter-scroller-table table.tablesorter thead tr.tablesorter-headerRow *,.tablesorter-scroller-footer table.tablesorter thead * {line-height:0;height:0;border:none;background-image:none;padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;overflow:hidden;}</style>";e(r).appendTo("body")}),t.addWidget({id:"scroller",priority:60,options:{scroller_height:300,scroller_jumpToHeader:!0,scroller_upAfterSort:!0,scroller_barWidth:null},init:function(l,o,s){var i=e(r),a=s.namespace+"tsscroller";i.bind("resize"+a,t.window_resize).bind("resizeEnd"+a,function(){e.isFunction(l.config.widgetOptions.scroller_resizeWidth)&&(i.unbind("resize"+a,t.window_resize),l.config.widgetOptions.scroller_resizeWidth(),i.bind("resize"+a,t.window_resize))})},format:function(l,o,s){var i,a,d,n,c,h,b,f,p=[],g=o.namespace.slice(1)+"tsscroller",w=e(r),u=o.$table;o.isScrolling||(o.widthFixed=!0,i=s.scroller_height||300,a=u.children("tbody").height(),0!==a&&i>a&&(i=a+10),d=e('<table class="'+u.attr("class")+'" cellpadding=0 cellspacing=0>'+u.children("thead")[0].outerHTML+"</table>"),n=u.children("tfoot"),n.length&&(p=e('<table class="'+u.attr("class")+'" cellpadding=0 cellspacing=0 style="margin-top:0"></table>').append(n.clone(!0)).append(u.children("thead")[0].outerHTML).wrap('<div class="tablesorter-scroller-footer"/>'),f=p.children("tfoot").eq(0).children("tr").children()),o.$extraTables=o.$extraTables&&o.$extraTables.length?o.$extraTables.add(d).add(p):d.add(p),u.wrap('<div id="'+g+'" class="tablesorter-scroller" />').before(d).find(".tablesorter-filter-row").addClass("hideme"),p.length&&u.after(p.parent()),b=d.wrap('<div class="tablesorter-scroller-header" />').find("."+t.css.header),u.wrap('<div class="tablesorter-scroller-table" style="max-height:'+i+'px;" />'),t.bindEvents(l,b),u.hasClass("hasFilters")&&t.filter.bindSearch(u,d.find("."+t.css.filter)),h=function(){var r=e('<div class="tablesorter-scrollbar-measure">').appendTo("body"),t=r[0],l=t.offsetWidth-t.clientWidth;return r.remove(),l},c=function(){var r,t,o,i,a=e('div.tablesorter-scroller[id != "'+g+'"]').hide();u.children("thead").show(),u.add(d).add(p).children("colgroup").remove(),u.addClass("tablesorter-scroller-reset").children("thead").find(".tablesorter-header-inner").addClass("tablesorter-scroller-reset").end().find(".tablesorter-filter-row").show(),r=u.parent(),r.addClass("tablesorter-scroller-reset"),r.parent().trigger("resize"),t=parseInt(u.css("border-left-width"),10)+parseInt(u.css("border-right-width"),10),i=(s.scroller_barWidth||h())+t,r.width(r.parent().innerWidth()-(r.parent().hasScrollBar()?i:0)),i=r.innerWidth()-(r.hasScrollBar()?i:0),u.add(d).add(d.parent()).add(p).width(i),u.closest(".tablesorter-scroller").find(".tablesorter-scroller-reset").removeClass("tablesorter-scroller-reset"),e.tablesorter.fixColumnWidth(l),o=u.children("colgroup"),o.length&&(t=o[0].outerHTML,d.prepend(t),p.length&&p.prepend(t)),u.children("thead").find(".tablesorter-filter-row").hide(),a.show()},s.scroller_resizeWidth=c,c(),u.find("thead").css("visibility","hidden"),o.isScrolling=!0,a=u.parent().parent().height(),u.parent().bind("scroll",function(){if(s.scroller_jumpToHeader){var r=w.scrollTop()-d.offset().top;0!==e(this).scrollTop()&&a>r&&r>0&&w.scrollTop(d.offset().top)}d.parent().scrollLeft(e(this).scrollLeft())})),s.scroller_upAfterSort&&u.parent().animate({scrollTop:0},"fast")},remove:function(t,l){var o=l.$table,s=l.namespace+"tsscroller";o.closest(".tablesorter-scroller").find(".tablesorter-scroller-header").remove(),o.closest(".tablesorter-scroller").find(".tablesorter-scroller-footer").remove(),o.unwrap().find(".tablesorter-filter-row").removeClass("hideme").end().find("thead").show().css("visibility","visible"),e(r).unbind("resize"+s+" resizeEnd"+s),l.isScrolling=!1}})}(jQuery,window);