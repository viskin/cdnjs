!function(e,r){"use strict";var l=e.tablesorter,o=l.css;e.extend(l.css,{scrollerWrap:"tablesorter-scroller",scrollerHeader:"tablesorter-scroller-header",scrollerTable:"tablesorter-scroller-table",scrollerFooter:"tablesorter-scroller-footer",scrollerFixed:"tablesorter-scroller-fixed",scrollerHasFix:"tablesorter-scroller-has-fixed-columns",scrollerReset:"tablesorter-scroller-reset",scrollerRtl:"tablesorter-scroller-rtl"}),l.addWidget({id:"scroller",priority:60,options:{scroller_height:300,scroller_jumpToHeader:!0,scroller_upAfterSort:!0,scroller_fixedColumns:0,scroller_rowHighlight:"hover",scroller_barWidth:null},format:function(e,r,o){r.isScrolling||l.scroller.setup(r,o)},remove:function(e,r,o){l.scroller.remove(r,o)}}),l.window_resize=function(){this.resize_timer&&clearTimeout(this.resize_timer),this.resize_timer=setTimeout(function(){e(this).trigger("resizeEnd")},250)},e(function(){var r="<style>."+o.scrollerWrap+"Measure { width: 100px; height: 100px; overflow: scroll; position: absolute; top: -9999px; }."+o.scrollerReset+" { width: auto !important; min-width: auto !important; max-width: auto !important; }."+o.scrollerWrap+" { position: relative; overflow: hidden; }."+o.scrollerHeader+", ."+o.scrollerFooter+" { overflow: hidden; }."+o.scrollerHeader+" table."+o.table+" { margin-bottom: 0; }."+o.scrollerFooter+" table."+o.table+" thead { visibility: hidden, height: 0; overflow: hidden; }."+o.scrollerTable+" { overflow-y: scroll; }."+o.scrollerTable+" table."+o.table+" { border-top: 0; margin-top: 0; margin-bottom: 0; overflow-y: scroll; }."+o.scrollerTable+" ."+(o.filterRow||"tablesorter-filter-row")+",."+o.scrollerFooter+" ."+(o.filterRow||"tablesorter-filter-row")+",."+o.scrollerTable+" tfoot { display: none; }."+o.scrollerWrap+" ."+o.scrollerFixed+" { position: absolute; top: 0; z-index: 1; left: 0 } ."+o.scrollerWrap+" ."+o.scrollerFixed+"."+o.scrollerRtl+" { left: auto; right: 0 } ."+o.scrollerTable+" table."+o.table+" thead tr."+o.headerRow+" *, ."+o.scrollerFooter+" table."+o.table+" thead * { line-height: 0; height: 0; border: none; background-image: none; padding-top: 0; padding-bottom: 0; margin-top: 0; margin-bottom: 0; overflow: hidden; }."+o.scrollerFixed+" { pointer-events: none; }."+o.scrollerWrap+"."+o.scrollerHasFix+" > ."+o.scrollerTable+" { overflow-x: scroll; }."+o.scrollerFixed+" ."+o.scrollerFooter+" { position: absolute; bottom: 0; }."+o.scrollerFixed+" ."+o.scrollerTable+" { position: relative; left: 0; overflow-x: hidden; overflow-y: scroll; -ms-overflow-style: none; }."+o.scrollerFixed+" ."+o.scrollerTable+"::-webkit-scrollbar { display: none; }."+o.scrollerWrap+" ."+o.scrollerFixed+" table { border-right-color: transparent; padding-right: 0; }."+o.scrollerWrap+" ."+o.scrollerFixed+"."+o.scrollerRtl+" table { border-left-color: transparent; padding-left: 0; }</style>";e(r).appendTo("body")}),l.scroller={isFirefox:navigator.userAgent.toLowerCase().indexOf("firefox")>-1,hasScrollBar:function(e){return e.get(0).scrollHeight>e.height()},setWidth:function(e,r){e.css({width:r,"min-width":r,"max-width":r})},getBarWidth:function(){var r=e('<div class="'+o.scrollerWrap+'Measure">').appendTo("body"),l=r[0],t=l.offsetWidth-l.clientWidth;return r.remove(),t},setup:function(t,s){var i,d,a,n,c,h,f,p=e(r),b=t.namespace+"tsscroller",g=e(),u=t.namespace.slice(1)+"tsscroller",w=t.$table;t.widthFixed=!0,i=s.scroller_height||300,d=w.children("tbody").height(),0!==d&&i>d&&(i=d+10),s.scroller_$header=a=e('<table class="'+w.attr("class")+'" cellpadding=0 cellspacing=0>'+w.children("thead")[0].outerHTML+"</table>").addClass(t.namespace.slice(1)+"_extra_table"),n=w.children("tfoot"),n.length&&(g=e('<table class="'+w.attr("class")+'" cellpadding=0 cellspacing=0 style="margin-top:0"></table>').addClass(t.namespace.slice(1)+"_extra_table").append(n.clone(!0)).append(w.children("thead")[0].outerHTML).wrap('<div class="'+o.scrollerFooter+'"/>'),h=g.children("tfoot").eq(0).children("tr").children()),s.scroller_$footer=g,w.wrap('<div id="'+u+'" class="'+o.scrollerWrap+'" />').before(a).find("."+o.filterRow).addClass(o.filterRowHide),s.scroller_$container=w.parent(),g.length&&w.after(g.parent()),c=a.wrap('<div class="'+o.scrollerHeader+'" />').find("."+o.header),w.wrap('<div class="'+o.scrollerTable+'" style="max-height:'+i+'px;" />'),f=w.parent(),l.bindEvents(t.table,c),w.hasClass("hasFilters")&&l.filter.bindSearch(w,a.find("."+o.filter)),s.scroller_$container.find("."+o.scrollerFixed).remove(),s.scroller_fixedColumns>0&&l.scroller.setupFixed(t,s),l.scroller.resize(t,s),w.find("thead").css("visibility","hidden"),d=f.parent().height(),f.off("scroll"+b).on("scroll"+b,function(){if(s.scroller_jumpToHeader){var r=p.scrollTop()-a.offset().top;0!==e(this).scrollTop()&&d>r&&r>0&&p.scrollTop(a.offset().top)}a.parent().add(g.parent()).scrollLeft(e(this).scrollLeft())}),w.off("sortEnd"+b+" setFixedColumnSize"+b).on("sortEnd"+b,function(){s.scroller_upAfterSort&&w.parent().animate({scrollTop:0},"fast")}).on("setFixedColumnSize"+b,function(e,r){"undefined"==typeof r||isNaN(r)||(s.scroller_fixedColumns=parseInt(r,10)),s.scroller_$container.find("."+o.scrollerFixed).remove(),r>0&&r<t.columns-1?l.scroller.setupFixed(t,s):s.scroller_$container.removeClass(o.scrollerHasFix)}),p.off("resize resizeEnd ".split(" ").join(b+" ")).on("resize"+b,l.window_resize).on("resizeEnd"+b,function(){p.off("resize"+b,l.window_resize),l.scroller.resize(t,s),p.on("resize"+b,l.window_resize)}),t.isScrolling=!0},resize:function(t,s){var i,d,a,n,c,h,f,p,b=t.$table,g=b.parent(),u=s.scroller_$header,w=s.scroller_$footer,m=t.namespace.slice(1)+"tsscroller",x=e("div."+o.scrollerWrap+'[id != "'+m+'"]').hide();for(b.children("thead").show(),b.add(u).add(w).children("colgroup").remove(),b.addClass(o.scrollerReset).children("thead").find("."+o.headerIn).addClass(o.scrollerReset).end().find("."+o.filterRow).show(),g.addClass(o.scrollerReset),d=parseInt(b.css("border-left-width"),10),s.scroller_barSetWidth=(s.scroller_barWidth||l.scroller.getBarWidth()||18)+d,g.width(g.parent().innerWidth()-(l.scroller.hasScrollBar(g.parent())?s.scroller_barSetWidth:0)),a=g.innerWidth()-(l.scroller.hasScrollBar(g)?s.scroller_barSetWidth:0)+d,u.parent().add(w.parent()).width(a),n=u.children("thead").children().children("th, td").filter(":visible"),c=b.children("tbody").eq(0).children().eq(0).children("th, td").filter(":visible"),h=w.children("tfoot").children().children("th, td").filter(":visible"),l.scroller.setWidth(n.add(c).add(h),""),f=b.children("thead").children().eq(0).children("th, td"),i=0;i<f.length;i++)p=f.eq(i),"border-box"===p.css("box-sizing")?a=p.outerWidth():"collapse"===n.eq(i).css("border-collapse")?p.length&&r.getComputedStyle?a=parseFloat(r.getComputedStyle(p[0],null).width):(d=parseFloat(p.css("border-width"))||0,a=p.outerWidth()-parseFloat(p.css("padding-left"))-parseFloat(p.css("padding-right"))-d):a=p.width(),l.scroller.setWidth(n.eq(i).add(c.eq(i)).add(h.eq(i)),a);s.scroller_$container.find("."+o.scrollerReset).removeClass(o.scrollerReset),l.fixColumnWidth(t.table),n=b.children("colgroup"),n.length&&(c=n[0].outerHTML,u.prepend(c),w.length&&w.prepend(c)),s.scroller_fixedColumns>0&&l.scroller.updateFixed(t,s,!0),b.children("thead").find("."+o.filterRow).hide(),x.show()},setupFixed:function(r,t){var s,i,d,a,n,c,h,f,p=r.$table,b=r.namespace+"tsscrollerFixed",g=t.scroller_$container,u=t.scroller_fixedColumns;for(c=g.addClass(o.scrollerHasFix).clone().addClass(o.scrollerFixed).removeClass(o.scrollerWrap).attr("id",""),h=c.find("."+o.scrollerTable),h.find("table").addClass(r.namespace.slice(1)+"_extra_table").attr("id",""),f=h.find("tbody"),t.scroller_$fixedColumns=c,p.hasClass(o.scrollerRtl)&&c.addClass(o.scrollerRtl),d=c.find("tr"),a=d.length,s=0;a>s;s++)d.eq(s).children(":gt("+(u-1)+")").remove();if(c.hide().prependTo(g),r.$table.hasClass("hasFilters")){for(l.filter.bindSearch(p,c.find("."+o.filter)),d=g.children("."+o.scrollerHeader).find("."+o.filter),a=d.length,s=0;a>s;s++)d.eq(s).hasClass(o.filterDisabled||"disabled")||d.eq(s).prop("disabled",u>s);c.children("."+o.scrollerHeader).find("."+o.filter).css("pointer-events","all")}for(r.$table.children("thead").children("tr."+o.headerRow).children().attr("tabindex",-1),d=t.scroller_$header.add(c.find("."+o.scrollerTable+" table, ."+o.scrollerFooter+" table")).children("thead").children("tr."+o.headerRow),a=d.length,s=0;a>s;s++)for(n=d.eq(s).children(),i=0;i<n.length;i++)n.eq(i).attr("tabindex",u>i?-1:0);l.bindEvents(r.table,c.find("."+o.header)),n="sortEnd filterEnd ".split(" ").join(b+" "),r.$table.off(n).on(n,function(){l.scroller.updateFixed(r,t,!1)}).parent().off("scroll"+b).on("scroll"+b,function(){h.scrollTop(e(this).scrollTop())}),h.off("scroll"+b).on("scroll"+b,function(){r.$table.parent().scrollTop(h.scrollTop())}).scroll(),""!==t.scroller_rowHighlight&&(n="mouseover mouseleave ".split(" ").join(b+" "),r.$table.off(n,"tr").on(n,"tr",function(r){var l=e(this).index();f.children().eq(l).add(this).toggleClass(t.scroller_rowHighlight,"mouseover"===r.type)}),h.find("table").off(n,"tr").on(n,"tr",function(l){var o=e(this).index();r.$tbodies.children().eq(o).add(this).toggleClass(t.scroller_rowHighlight,"mouseover"===l.type)})),l.scroller.isFirefox&&h.wrap('<div class="scroller-firefox-hack" style="overflow:hidden;">'),l.scroller.updateFixed(r,t,!0)},updateFixed:function(r,t){if(r.isScrolling){r.$table.parent().width(t.scroller_$container.width());var s,i,d,a,n,c,h,f,p=r.$table,b=t.scroller_$container,g=t.scroller_$container.children("."+o.scrollerTable).children("table").children("tbody"),u=t.scroller_$header.children("thead").children("."+o.headerRow),w=t.scroller_$fixedColumns.hide(),m=w.find("."+o.scrollerTable).children("table"),x=m.children("tbody"),v=w.find("."+o.scrollerHeader).children("table").children("thead"),_=l.scroller.isFirefox,F=t.scroller_barSetWidth,W=t.scroller_fixedColumns,T=p.find("tbody td"),C=parseInt(T.css("border-right-width"),10)||1,$=parseInt(T.css("border-bottom-width"),10)||1,y=parseInt(T.css("border-spacing").split(/\s/)[0],10)/2||0,R=parseInt(p.css("padding-left"),10)+parseInt(p.css("padding-right"),10)-C;for(T=v.children("."+o.headerRow),s=0;s<T.length;s++)T.eq(s).height(u.eq(s).outerHeight());if(u=(r.filteredRows>0?r.$tbodies:p.children("thead")).children("tr:visible"),f=u.children(":lt("+W+")").map(function(){return R+=e(this).outerWidth()+y,e(this).outerWidth()}).get(),l.scroller.setWidth(w.add(w.children()),R+2*C-y),l.scroller.setWidth(w.find("table"),R+C),w.height(b.height()),t.scroller_$footer.length)for(T=b.children("."+o.scrollerFooter).find("tfoot tr"),u=w.find("."+o.scrollerFooter+" tfoot tr"),s=0;s<u.length;s++)u.eq(s).height(T.eq(s).height());for(w.find("."+o.scrollerTable).height(p.parent().height()-F+$),i=0;i<r.$tbodies.length;i++)if(a=g.eq(i),a.length){for(u=a.children(),h=u.length,c=l.processTbody(m,x.eq(i),!0),c.empty(),d=0;h>d;d++)n=e(u[d].outerHTML),n.children("td, th").slice(W).remove(),n.children().eq(0).height(u.eq(d).outerHeight()-(_?2*$:0)),0===d&&l.scroller.setWidth(n.children().eq(0),f[0]),c.append(n);for(T=w.find("thead").children("tr."+o.headerRow),s=0;W>s;s++)l.scroller.setWidth(T.children(":eq("+s+")"),f[s]);l.processTbody(m,c,!1)}_&&m.parent().css({width:R+F+C}),w.show()}},remove:function(l,t){var s=t.scroller_$container,i=l.namespace+"tsscroller";l.$table.off(i).insertBefore(s).find("thead").show().css("visibility","visible").children("tr."+o.headerRow+" > *").attr("tabindex",0).end().find("."+o.filterRow).show().removeClass(o.filterRowHide),s.remove(),e(r).off(i),l.isScrolling=!1}}}(jQuery,window);