!function(e,t){"use strict";var s=e.tablesorter=e.tablesorter||{};e.extend(s.css,{resizableContainer:"tablesorter-resizable-container",resizableHandle:"tablesorter-resizable-handle",resizableNoSelect:"tablesorter-disableSelection",resizableStorage:"tablesorter-resizable"}),e(function(){var t="<style>body."+s.css.resizableNoSelect+" { -ms-user-select: none; -moz-user-select: -moz-none;-khtml-user-select: none; -webkit-user-select: none; user-select: none; }."+s.css.resizableContainer+" { position: relative; height: 1px; }."+s.css.resizableHandle+" { position: absolute; display: inline-block; width: 8px; top: 1px;cursor: ew-resize; z-index: 3; user-select: none; -moz-user-select: none; }</style>";e(t).appendTo("body")}),s.resizable={init:function(t,a){if(!t.$table.hasClass("hasResizable")){t.$table.addClass("hasResizable"),s.resizableReset(t.table,!0),a.resizable_={$wrap:t.$table.parent(),mouseXPosition:0,$target:null,$next:null,overflow:"auto"===t.$table.parent().css("overflow"),fullWidth:Math.abs(t.$table.parent().width()-t.$table.width())<20,storedSizes:[]};var i,r,l,n,o=parseInt(t.$table.css("margin-top"),10);for(a.resizable_.storedSizes=n=(s.storage&&a.resizable!==!1?s.storage(t.table,s.css.resizableStorage):[])||[],s.resizable.setWidths(t,a,n),a.$resizable_container=e('<div class="'+s.css.resizableContainer+'">').css({top:o}).insertBefore(t.$table),l=0;l<t.columns;l++)r=t.$headerIndexed[l],i="false"===s.getData(r,s.getColumnData(t.table,t.headers,l),"resizable"),i||e('<div class="'+s.css.resizableHandle+'">').appendTo(a.$resizable_container).attr({"data-column":l,unselectable:"on"}).data("header",r).bind("selectstart",!1);t.$table.one("tablesorter-initialized",function(){s.resizable.setHandlePosition(t,a),s.resizable.bindings(this.config,this.config.widgetOptions)})}},setWidth:function(e,t){e.css({width:t,"min-width":"","max-width":""})},setWidths:function(t,a,i){var r,l=e(t.namespace+"_extra_headers"),n=t.$table.children("colgroup").children("col");if(i=i||a.resizable_.storedSizes||[],i.length){for(r=0;r<t.columns;r++)t.$headers.eq(r).width(i[r]),l.length&&s.resizable.setWidth(l.eq(r).add(n.eq(r)),i[r]);e(t.namespace+"_extra_table").length&&!s.hasWidget(t.table,"scroller")&&s.resizable.setWidth(e(t.namespace+"_extra_table"),t.$table.outerWidth())}},setHandlePosition:function(t,a){var i=(t.$table.outerWidth(),s.hasWidget(t.table,"scroller")),r=t.$table.height(),l=a.$resizable_container.children(),n=Math.floor(l.width()/2-2*parseFloat(t.$headers.css("border-right-width")));i&&(r=0,t.$table.closest("."+s.css.scrollerWrap).children().each(function(){var t=e(this);r+=t.filter('[style*="height"]').length?t.height():t.children("table").height()})),l.each(function(){var s=e(this),i=parseInt(s.attr("data-column"),10),l=t.columns-1,o=s.data("header");(l>i||i===l&&a.resizable_addLastColumn)&&s.css({height:r,left:o.position().left+o.width()-n})})},toggleTextSelection:function(t,a){var i=t.namespace+"tsresize";t.widgetOptions.resizable_.disabled=a,e("body").toggleClass(s.css.resizableNoSelect,a),a?e("body").attr("unselectable","on").bind("selectstart"+i,!1):e("body").removeAttr("unselectable").unbind("selectstart"+i)},bindings:function(a,i){var r=a.namespace+"tsresize";i.$resizable_container.children().bind("mousedown",function(t){var r,l=i.resizable_,n=e(a.namespace+"_extra_headers"),o=e(t.target).data("header");r=parseInt(o.attr("data-column"),10),l.$target=o=o.add(n.filter('[data-column="'+r+'"]')),l.target=r,l.$next=t.shiftKey||i.resizable_targetLast?o.parent().children().not(".resizable-false").filter(":last"):o.nextAll(":not(.resizable-false)").eq(0),r=parseInt(l.$next.attr("data-column"),10),l.$next=l.$next.add(n.filter('[data-column="'+r+'"]')),l.next=r,l.mouseXPosition=t.pageX,l.storedSizes=a.$headers.map(function(){return e(this).width()}).get(),s.resizable.toggleTextSelection(a,!0)}),e(document).bind("mousemove"+r,function(e){var t=i.resizable_;t.disabled&&0!==t.mouseXPosition&&t.$target&&(i.resizable_throttle?(clearTimeout(t.timer),t.timer=setTimeout(function(){s.resizable.mouseMove(a,i,e)},isNaN(i.resizable_throttle)?5:i.resizable_throttle)):s.resizable.mouseMove(a,i,e))}).bind("mouseup"+r,function(){i.resizable_.disabled&&(s.resizable.toggleTextSelection(a,!1),s.resizable.stopResize(a,i),s.resizable.setHandlePosition(a,i))}),e(t).bind("resize"+r+" resizeEnd"+r,function(){s.resizable.setHandlePosition(a,i)}),a.$table.find("thead:first").add(e(a.namespace+"_extra_table").find("thead:first")).bind("contextmenu"+r,function(){var e=0===i.resizable_.storedSizes.length;return s.resizableReset(a.table),s.resizable.setHandlePosition(a,i),i.resizable_.storedSizes=[],e})},mouseMove:function(t,a,i){if(0!==a.resizable_.mouseXPosition&&a.resizable_.$target){{var r=a.resizable_,l=r.$target,n=r.$next,o=i.pageX-r.mouseXPosition;l.width()}r.fullWidth?(r.storedSizes[r.target]+=o,r.storedSizes[r.next]-=o,s.resizable.setWidths(t,a)):r.overflow?(t.$table.add(e(t.namespace+"_extra_table")).width(function(e,t){return t+o}),n.length||(r.$wrap[0].scrollLeft=t.$table.width())):(r.storedSizes[r.target]+=o,s.resizable.setWidths(t,a)),r.mouseXPosition=i.pageX}},stopResize:function(a,i){var r=i.resizable_;r.storedSizes=[],s.storage&&(r.storedSizes=a.$headers.map(function(){return e(this).width()}).get(),i.resizable!==!1&&s.storage(a.table,s.css.resizableStorage,r.storedSizes)),r.mouseXPosition=0,r.$target=r.$next=null,e(t).trigger("resize")}},s.addWidget({id:"resizable",priority:40,options:{resizable:!0,resizable_addLastColumn:!1,resizable_widths:[],resizable_throttle:!1,resizable_targetLast:!1},init:function(e,t,a,i){s.resizable.init(a,i)},remove:function(t,a,i){if(i.$resizable_container){var r=a.namespace+"tsresize";a.$table.add(e(a.namespace+"_extra_table")).removeClass("hasResizable").children("thead").unbind("contextmenu"+r),i.$resizable_container.remove(),s.resizable.toggleTextSelection(a,!1),s.resizableReset(t),e(document).unbind("mousemove"+r+" mouseup"+r)}}}),s.resizableReset=function(a,i){e(a).each(function(){var r,l=this.config,n=l&&l.widgetOptions;a&&l&&(l.$headers.each(function(t){r=e(this),n.resizable_widths&&n.resizable_widths[t]?r.css("width",n.resizable_widths[t]):r.hasClass("resizable-false")||r.css("width","")}),e(t).trigger("resize"),s.storage&&!i&&s.storage(this,s.css.resizableStorage,{}))})}}(jQuery,window);