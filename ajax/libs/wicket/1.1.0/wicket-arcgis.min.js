Array.prototype.map||(Array.prototype.map=function(e){"use strict";var n,t,r,i;if(void 0===this||null===this)throw new TypeError;if(n=Object(this),t=n.length>>>0,"function"!=typeof e)throw new TypeError;r=new Array(t),i=arguments.length>=2?arguments[1]:void 0;for(var o=0;t>o;o++)o in n&&(r[o]=e.call(i,n[o],o,n));return r}),Wkt.Wkt.prototype.isRectangle=!1,Wkt.Wkt.prototype.construct={point:function(e,n){var t=n||this.components;return t instanceof Array&&(t=t[0]),e&&(t.spatialReference=e.spatialReference||e.srs),new esri.geometry.Point(t)},multipoint:function(e){return e=e||{},!e.spatialReference&&e.srs&&(e.spatialReference=e.srs),new esri.geometry.Multipoint({points:this.components.map(function(e){return Wkt.isArray(e)&&(e=e[0]),[e.x,e.y]}),spatialReference:e.spatialReference})},linestring:function(e){return e=e||{},!e.spatialReference&&e.srs&&(e.spatialReference=e.srs),new esri.geometry.Polyline({paths:[this.components.map(function(e){return[e.x,e.y]})],spatialReference:e.spatialReference})},multilinestring:function(e){return e=e||{},!e.spatialReference&&e.srs&&(e.spatialReference=e.srs),new esri.geometry.Polyline({paths:this.components.map(function(e){return e.map(function(e){return[e.x,e.y]})}),spatialReference:e.spatialReference})},polygon:function(e){return e=e||{},!e.spatialReference&&e.srs&&(e.spatialReference=e.srs),new esri.geometry.Polygon({rings:this.components.map(function(e){return e.map(function(e){return[e.x,e.y]})}),spatialReference:e.spatialReference})},multipolygon:function(e){var n=this;return e=e||{},!e.spatialReference&&e.srs&&(e.spatialReference=e.srs),new esri.geometry.Polygon({rings:function(){var e,t,r,i,o;if(r=!1,o=n.components.map(function(e){var n=e.map(function(e){return e.map(function(e){return[e.x,e.y]})});return r=n.length>1,n}),!r&&o[0].length>1)return o;for(i=[],e=0;e<o.length;e+=1)if(o[e].length>1)for(t=0;t<o[e].length;t+=1)i.push(o[e][t]);else i.push(o[e][0]);return i}(),spatialReference:e.spatialReference})}},Wkt.isInnerRingOf=function(e,n,t){var r,i,o,s;for(r=!0,o=new esri.geometry.Polygon({rings:n.map(function(e){return e.map(function(e){return[e.x,e.y]})}),spatialReference:t}),i=0;i<e.length;i+=1)if(s=new esri.geometry.Point(e[i].x,e[i].y,t),!o.contains(s)){r=!1;break}return r},Wkt.Wkt.prototype.deconstruct=function(e){var n,t,r,i,o;if(e.constructor===esri.geometry.Point)return{type:"point",components:[{x:e.getLongitude(),y:e.getLatitude()}]};if(e.constructor===esri.geometry.Multipoint){for(o=[],n=0;n<e.points.length;n+=1)o.push([{x:e.points[n][0],y:e.points[n][1]}]);return{type:"multipoint",components:o}}if(e.constructor===esri.geometry.Polyline){for(r=[],n=0;n<e.paths.length;n+=1){for(o=[],t=0;t<e.paths[n].length;t+=1)o.push({x:e.paths[n][t][0],y:e.paths[n][t][1]});r.push(o)}return e.paths.length>1?{type:"multilinestring",components:r}:{type:"linestring",components:o}}if(e.constructor===esri.geometry.Polygon){for(i=[],n=0;n<e.rings.length;n+=1){for(o=[],t=0;t<e.rings[n].length;t+=1)o.push({x:e.rings[n][t][0],y:e.rings[n][t][1]});n>0&&Wkt.isInnerRingOf(o,i[n-1],e.spatialReference)?i[i.length-1].push(o):i.push([o])}return i.length>1?{type:"multipolygon",components:i}:{type:"polygon",components:i[0]}}};
//# sourceMappingURL=wicket-arcgis.min.js.map