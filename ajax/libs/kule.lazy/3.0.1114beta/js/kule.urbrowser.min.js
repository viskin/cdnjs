/*
Kule urBrowser
Version: 2.151108

License: MIT License

Author: Kei Cheng
Github: https://github.com/keicheng/urbrowser
Website: http://urbrowser.kule.tw
Facebook: https://www.facebook.com/kule.tw
*/

!function(){"use strict";var a=document.documentElement,b=navigator.userAgent.toLowerCase(),c=navigator.platform.toLowerCase(),d=function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},e=function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},f=screen.width,g=screen.height,h={xs:480,sm:768,md:992,lg:1200},i={getName:function(){return-1!=b.indexOf("cordova")?"cordova":-1!=b.indexOf("opr")||-1!=b.indexOf("opera")||-1!=b.indexOf("opios")?-1!=b.indexOf("version")?"version":-1!=b.indexOf("opios")?"opios":"opr":-1!=b.indexOf("firefox")?"firefox":-1!=b.indexOf("iemobile")?"iemobile":-1!=b.indexOf("msie")?"msie":-1!=b.indexOf("rv:")?"rv":-1!=b.indexOf("applewebkit")?-1!=b.indexOf("edge")?"edge":-1!=b.indexOf("vivaldi")?"vivaldi":-1!=b.indexOf("chrome")?"chrome":-1!=b.indexOf("version")?"version":-1!=b.indexOf("crios")?"crios":"safari":null},getVersion:function(a){if(a){var c=a,d=c.length,e=b.indexOf(c)+d+1,f=5,g=b.substr(e,f);return g.split(".")[0]}return a},OSName:function(c){var d=i.platform("get"),e=d;return"windows"==d?e=-1!=b.indexOf("windows nt")?"windows nt":"windows":("iphone"==d||"ipad"==d||"ipod"==d)&&(e="ios"),"get"===c?e:void("set"===c&&a.setAttribute("data-os-name",e))},windowsVersion:function(c){var g,h,d=i.OSName("get"),e=d.length,f=b.indexOf(d)+e+1;return-1!=b.indexOf("win")&&(d.match("windows nt")?(g=3,h=parseFloat(b.substr(f,g))):(g=2,h=parseFloat(b.substr(f,g)))),"get"===c?h:void("set"===c&&"desktop"===i.device("type","get")&&-1!=b.indexOf("win")&&a.setAttribute("data-os-version",h))},getBrowserNameAndCore:function(){var d,e,f,a=i.getName(),c=i.getVersion(a);if(null===a?f=null:("cordova"==a&&(d=" webkit inapp",-1!=b.indexOf("cordova-android")?e="cordova-adr":-1!=b.indexOf("cordova-ios")&&(e="cordova-ios"),f=e+d),"opr"==a||"opera"==a||"opios"==a?(e="opera",d=" presto",-1!=b.indexOf("applewebkit")&&(d=" webkit"),f=e+d):"version"==a||"chrome"==a||"crios"==a||"safari"==a?(d="webkit",e="edge"==a?"edge":"chrome"==a||"crios"==a?"chrome":"version"==a&&-1!=b.indexOf("android")?"adrBuiltin":"safari",f=e+" "+d):"msie"==a||"rv"==a||"iemobile"==a?(d="ie",e="ie",f=d):(-1!=b.indexOf("iemobile")||-1!=b.indexOf("msie")?f=a+" ie":-1!=b.indexOf("applewebkit")?(d=" webkit",d=-1!=b.indexOf("edge")?" webkit":-1!=b.indexOf("chrome")||-1!=b.indexOf("crios")?" chrome webkit":-1!=b.indexOf("version")&&-1!=b.indexOf("android")?" adrBuiltin webkit":" safari webkit",f=a+d):f=a,e=a)),null!==c){var g=e+c,h=f.split(" "),j=h[0]+" "+g;if(h.length>1)for(var k=1;k<h.length;k++)j+=" "+h[k];if("ie"===e)for(var l=11,m=Number(c),n=m;l>n;n++)j+=" "+e+(n+1)+"lt";return j}return f},platform:function(d){var e;return c.match("win32")||c.match("win64")?-1!=b.indexOf("windows phone")||-1!=b.indexOf("iemobile")?e="wp":-1!=b.indexOf("windows")&&(e="windows"):c.match("arm")?-1!=b.indexOf("windows phone")||-1!=b.indexOf("iemobile")?e="wp":-1!=b.indexOf("android")&&(e="android"):e=-1!=c.indexOf("linux")?-1!=b.indexOf("android")?"android":-1!=b.indexOf("cros")?"chromeos":"linux":-1!=c.indexOf("iphone")?"iphone":-1!=c.indexOf("ipad")?"ipad":-1!=c.indexOf("ipod")?"ipod":-1!=c.indexOf("mac")?"mac":-1!=c.indexOf("x11")?"unix":-1!=c.indexOf("sunos")?"solaris":"unknown","get"===d?e:void("set"===d&&a.setAttribute("id",e))},browserVersion:function(c){var f,d=i.getName(),e=i.getVersion(d);return f=-1!=b.indexOf(d)?e:"unknown","get"===c?f:void("set"===c&&a.setAttribute("data-browser-version",f))},device:function(c,e){var j,k,l,g=d();if(j=-1!=b.indexOf("mobile")||window.orientation?"mobile":"android"===i.platform("get")?"mobile":"desktop",k="mobile"==j?f<h.sm?"phone":"tablet":"desktop",g<h.sm?l="phone":g>=h.sm&&g<h.md?l="tablet":g>=h.md&&(l="desktop"),"type"===c){if("get"===e)return j;"set"===e&&a.setAttribute("data-device-type",j)}else if("device"===c){if("get"===e)return k;"set"===e&&a.setAttribute("data-device",k)}else if("sim"===c){if("get"===e)return l;"set"===e&&a.setAttribute("data-device-sim",l)}},orientation:function(b){var c;return c="mobile"===i.device("type","get")?90==Math.abs(window.orientation)?"landscape":"portrait":d()>=e()?"landscape":"portrait","get"===b?c:void("set"===b&&a.setAttribute("data-orientation",c))},sizeInfo:function(b,c){"width"===b?"doc"===c?a.setAttribute("data-doc-width",d()):"screen"===c&&a.setAttribute("data-screen-width",f):"height"===b&&("doc"===c?a.setAttribute("data-doc-height",e()):"screen"===c&&a.setAttribute("data-screen-height",g))},breakpoints:function(b,c){var g,i,e=d();if("doc"===b){if(e<h.sm?g="screen-xs":e>=h.sm&&e<h.md?g="screen-sm":e>=h.md&&e<h.lg?g="screen-md":e>=h.lg&&(g="screen-lg"),"get"===c)return g;"set"===c&&a.setAttribute("data-doc-size",g)}else if("screen"===b){if(f<h.sm?i="screen-xs":f>=h.sm&&f<h.md?i="screen-sm":f>=h.md&&f<h.lg?i="screen-md":f>=h.lg&&(i="screen-lg"),"get"===c)return i;"set"===c&&a.setAttribute("data-screen-size",i)}},setLanguage:function(){if(null===a.lang||""===a.lang){var b=navigator.language||navigator.browserLanguage||navigator.systemLanguage;(void 0!==b||""!==b||null!==b)&&(a.lang=b)}},resizeInfo:function(){i.orientation("set"),i.sizeInfo("width","doc"),i.breakpoints("doc","set"),i.device("sim","set"),i.layout("set"),"phone"!==i.device("device","get")&&i.cookie.run()},browserName:function(b,c){var e,d=i.getBrowserNameAndCore(),f=a.className;if(d){var g=d.split(" ");e=g[0]}else e="unknown";return"get"===b?e:void("set"===b&&("class"===c?f.length?a.className+=" "+d:a.className=d:"attr"===c&&a.setAttribute("data-browser-name",e)))},layout:function(b){var d,c=i.device("type","get");return"desktop"==c||"tablet"==c&&"portrait"===i.orientation?d="desktop":("mobile"==c||"tablet"==c&&"landscape"===i.orientation)&&(d="mobile"),"get"==b?d:void("set"==b&&a.setAttribute("data-layout-mode",d))},inApp:function(c){var d=-1!=b.indexOf("cordova")?!0:!1,e=function(){return-1!=b.indexOf("cordova-ios")?"ios":-1!=b.indexOf("cordova-android")?"android":void 0};return"get"==c?d?e():!1:void("set"==c&&(d?a.setAttribute("data-inapp",e()):a.setAttribute("data-inapp",d)))},cookie:{set:function(a,b,c){var d=new Date;d.setTime(d.getTime()+24*c*60*60*1e3);var e="expires="+d.toUTCString();document.cookie=a+"="+b+"; "+e},get:function(a){var b=a+"=",c=document.cookie.split(";"),d=[];if(c.length>0)for(var e=0;e<c.length;e++){for(var f=c[e];" "==f.charAt(0);)f=f.substring(1);if(d[0]=-1!=f.indexOf(b)?!0:!1,d[0]){d[1]=f.substring(b.length,f.length);break}}else d[0]=!1;return d},isEnabled:function(){var a=navigator.cookieEnabled?!0:!1;return"undefined"!=typeof navigator.cookieEnabled||a||(document.cookie="testcookie",a=-1!=document.cookie.indexOf("testcookie")?!0:!1),a},run:function(){var a=i.cookie;if(a.isEnabled()){var b=location.href,c=a.get("urbrowser"),d=JSON.stringify({device:i.device("device","get"),deviceType:i.device("type","get"),screenWidth:f,breakpoint:i.breakpoints("screen","get"),orientation:i.orientation("get"),layout:i.layout("get"),inApp:i.inApp("get")});if(c[0]&&c[1]===d)(-1!=b.indexOf("http://localhost")||-1!=b.indexOf("http://192.168")||-1!=b.indexOf("http://127.0.0.")||-1!=b.indexOf("http://urbrowser.kule.tw/")||-1!=b.indexOf("file:///"))&&console.log(document.cookie);else{var e=new Date;e.setTime(e.getTime()+31536e6);var g="expires="+e.toUTCString();document.cookie="urbrowser=; expires=Thu, 01 Jan 1970 00:00:00 UTC",document.cookie="urbrowser="+d+"; "+g,-1==b.indexOf("file:///")&&location.reload()}}else console.log("Please open browser cookie.")}},done:function(){i.setLanguage(),i.platform("set"),i.browserName("set","class"),i.device("device","set"),i.device("type","set"),i.device("sim","set"),i.browserName("set","attr"),i.browserVersion("set"),i.OSName("set"),i.windowsVersion("set"),i.breakpoints("doc","set"),i.breakpoints("screen","set"),i.orientation("set"),i.sizeInfo("width","screen"),i.sizeInfo("width","doc"),i.layout("set"),i.inApp("set"),a.setAttribute("data-urbrowser","true"),i.cookie.run(),window.addEventListener?window.addEventListener("resize",i.resizeInfo,!1):window.attachEvent("onresize",i.resizeInfo,!1)}};i.done()}(window);