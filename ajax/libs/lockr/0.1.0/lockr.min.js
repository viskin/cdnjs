!function(root,factory){"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=_),exports._=_):"function"==typeof define&&define.amd?define(["exports"],function(exports){root.Lockr=factory(root,exports)}):root.Lockr=factory(root,{})}(this,function(root,Lockr){"use strict";return root.Lockr=Lockr,Lockr.salt="",Lockr.set=function(key,value){var salted_key=this.salt+key;try{localStorage.setItem(salted_key,JSON.stringify({data:value}))}catch(e){console&&console.warn("Lockr didn't successfully save the '{"+key+": "+value+"}' pair, because the localStorage is full.")}},Lockr.get=function(key,missing){var value,salted_key=this.salt+key;try{value=JSON.parse(localStorage.getItem(salted_key))}catch(e){value=null}return null===value?missing:value.data||missing},Lockr.getAll=function(){var keys=Object.keys(localStorage);return keys.map(function(key){return Lockr.get(key)})},Lockr.rm=function(key){localStorage.removeItem(key)},Lockr.flush=function(){localStorage.clear()},Lockr});