/*!
 * Inspire Tree v1.4.1
 * https://github.com/helion3/inspire-tree
 * 
 * Copyright 2015 Helion3, and other contributors
 * Licensed under MIT. https://github.com/helion3/inspire-tree/blob/master/LICENSE
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("lodash")):"function"==typeof define&&define.amd?define(["lodash"],t):"object"==typeof exports?exports.InspireTree=t(require("lodash")):e.InspireTree=t(e._)}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){function t(e){var t=this;i.each(e,function(e,n){i.isObject(e)?i.isFunction(e.clone)?t[n]=e.clone():t[n]=i.cloneDeep(e):t[n]=e})}function n(e){var t=this;i.isArray(e)&&i.each(e,function(e){t.push(e)})}function r(e){n.prototype[e]=function(){return g.batch(),i.each(this,function(t){t[e]()}),g.end(),this}}function s(e){n.prototype[e+"Deep"]=function(){return g.batch(),this.recurseDown(function(t){t[e]()}),g.end(),this}}function a(e,t,n,r,i){return r.itree.state[e]!==t&&("removed"===e&&d(r),r.itree.state[e]=t,y.emit("node."+n,r),i&&r.hasChildren()&&r.getChildren().recurseDown(function(e){e[i]()}),r.markDirty(),g.applyChanges()),r}function l(e,t){var r=new n;return y.config.sort&&(e=i.sortBy(e,y.config.sort)),i.each(e,function(e){r.push(u(e,t))}),r}function h(e){var t=e;return"string"==typeof e&&(t=function(t){return i.isFunction(t[e])?t[e]():t[e]}),t}function u(e,n){e.id=e.id||o(),"string"!=typeof e.id&&(e.id=e.id.toString());var r=e.itree=e.itree||{};r.icon=r.icon||!1;var s=r.li=r.li||{};s.attributes=s.attributes||{};var c=r.state=r.state||{};return c.collapsed="boolean"==typeof c.collapsed?c.collapsed:m.collapsed,c.selectable="boolean"==typeof c.selectable?c.selectable:m.selectable,c.focused=c.focused||m.focused,c.hidden=c.hidden||m.hidden,c.indeterminate=c.indeterminate||m.indeterminate,c.loading=c.loading||m.loading,c.removed=c.removed||m.removed,c.selected=c.selected||m.selected,e.itree.parent=n,e=i.assign(new t,e),e.hasChildren()&&(e.children=l(e.children,e)),_&&i.each(y.config.allowLoadEvents,function(t){c[t]&&y.emit("node."+t,e)}),e}function f(e,t){var n;return i.isArrayLike(e)?i.each(e,function(e){return n=f(e,t)}):(n=t(e),n!==!1&&e.hasChildren()&&(n=f(e.children,t))),n}function d(e){return i.each(m,function(t,n){e.itree.state[n]=t}),e}var p=!1,v=function(){},y=this;if(y.preventDeselection=!1,!e.data)throw new TypeError("Invalid data loader.");y.config=i.defaults(e,{allowLoadEvents:[],allowSelection:v,checkbox:!1,contextMenu:!1,dragTargets:!1,multiselect:!1,renderer:!1,requireSelection:!1,search:!1,sort:!1,tabindex:-1}),y.config.checkbox&&(y.config.multiselect=!0,y.preventDeselection=!0);var g,m={collapsed:!0,focused:!1,hidden:!1,indeterminate:!1,loading:!1,removed:!1,selectable:!0,selected:!1},_=i.isArray(y.config.allowLoadEvents)&&y.config.allowLoadEvents.length>0,w=i.isFunction(y.config.data);if(g&&(!i.isObject(e)||!e.target))throw new TypeError('Property "target" is required, either an element or a selector.');g||(g=i.isFunction(y.config.renderer)?y.config.renderer(y):{applyChanges:v,attach:v,batch:v,end:v}),t.prototype.addChild=function(e){return e=u(e),!i.isArray(this.children)&&i.isArrayLike(this.children)||(this.children=new n),e.itree.parent=this,this.children.push(e),this.refreshIndeterminateState(),e.markDirty(),g.applyChanges(),e},t.prototype.available=function(){return!this.hidden()&&!this.removed()},t.prototype.blur=function(){return a("focused",!1,"blurred",this)},t.prototype.clean=function(){return this.recurseUp(function(e){if(e.hasParent()){var t=e.getParent();t.hasVisibleChildren()||t.hide()}}),this},t.prototype.clone=function(){var e=new t(this);return this.hasChildren()&&(e.children=this.children.clone()),e},t.prototype.collapse=function(){return a("collapsed",!0,"collapsed",this)},t.prototype.collapsed=function(){return this.itree.state.collapsed},t.prototype.context=function(){return this.hasParent()?this.getParent().children:A},t.prototype.copy=function(e){var t=this;return e&&(t=t.copyHierarchy()),{to:function(e){if(!i.isFunction(e.addNode))throw new Error("Destination must be an Inspire Tree instance.");return e.addNode(t["export"]())}}},t.prototype.copyHierarchy=function(e){var t=this,r=t.getParents(),o=[];i.each(r,function(e){var t=i.clone(e);delete t.itree.parent,delete t.children,o.push(t)}),r=o.reverse(),e||o.push(t);var s=o[0],c=s,a=o.length;return i.each(o,function(e,t){var r=new n;a>t+1&&(r.push(o[t+1]),c.children=r,c=c.children[0])}),s},t.prototype.deselect=function(e){if(!y.config.requireSelection||y.selected().length>1){var t=this;g.batch(),t.itree.state.indeterminate=!1,a("selected",!1,"deselected",this),y.config.checkbox&&(t.hasChildren()&&t.children.recurseDown(function(e){e.deselect(!0)}),!e&&t.hasParent()&&t.getParent().refreshIndeterminateState()),g.end()}return this},t.prototype.expand=function(){var e=this;return new c(function(t,n){var r=e.hasChildren()||w&&e.children===!0;r&&(e.collapsed()||e.hidden())?(e.itree.state.collapsed=!1,e.itree.state.hidden=!1,y.emit("node.expanded",e),w&&e.children===!0?e.loadChildren().then(t)["catch"](n):(e.markDirty(),g.applyChanges(),t(e))):t(e)})},t.prototype.expandParents=function(){return this.hasParent()&&this.getParent().recurseUp(function(e){e.expand()}),this},t.prototype.expanded=function(){return!this.collapsed()},t.prototype["export"]=function(){var e=i.clone(this);return delete e.itree,e.hasChildren()&&(e.children=e.children["export"]()),e.toObject()},t.prototype.focus=function(){var e=this;return e.focused()||(g.batch(),y.nodes().blurDeep(),e.itree.state.focused=!0,y.emit("node.focused",e),e.markDirty(),g.end()),e},t.prototype.focused=function(){return this.itree.state.focused},t.prototype.getChildren=function(){return this.hasChildren()?this.children:new n},t.prototype.getParent=function(){return this.itree.parent},t.prototype.getParents=function(){var e=new n;return this.hasParent()&&this.getParent().recurseUp(function(t){e.push(t)}),e},t.prototype.getTextualHierarchy=function(){var e=[];return this.recurseUp(function(t){e.unshift(t.text)}),e},t.prototype.hasChildren=function(){return i.isArrayLike(this.children)&&this.children.length>0},t.prototype.hasParent=function(){return Boolean(this.itree.parent)},t.prototype.hasVisibleChildren=function(){var e=!1;if(this.hasChildren()){var t=0;i.each(this.children,function(e){e.hidden()||e.removed()||t++}),e=t>0}return e},t.prototype.hidden=function(){return this.itree.state.hidden},t.prototype.hide=function(){var e=a("hidden",!0,"hidden",this);return e.hasChildren()&&e.children.hide(),e},t.prototype.indexPath=function(){var e=[];return this.recurseUp(function(t){e.push(i.indexOf(t.context(),t))}),e.reverse().join(".")},t.prototype.lastDeepestVisibleChild=function(){var e;if(this.hasChildren()&&!this.collapsed()){e=i.findLast(this.children,function(e){return e.visible()});var t=e.lastDeepestVisibleChild();t&&(e=t)}return e},t.prototype.loadChildren=function(){var e=this;return new c(function(t,r){w&&e.children===!0||r(new Error("Node does not have or support dynamic children.")),e.itree.state.loading=!0,e.markDirty(),g.applyChanges(),y.config.data(e,function(n){g.batch(),e.itree.state.loading=!1,e.children=l(n,e),e.markDirty(),g.end(),t(e.children),y.emit("children.loaded",e)},function(t){e.itree.state.loading=!1,e.children=new n,e.markDirty(),g.applyChanges(),r(t),y.emit("tree.loaderror",t)})})},t.prototype.markDirty=function(){return this.itree.dirty||(this.itree.dirty=!0,this.hasParent()&&this.getParent().markDirty()),this},t.prototype.nextVisibleChildNode=function(){var e,t=this;return t.hasChildren()&&(e=i.find(t.children,function(e){return e.visible()})),e},t.prototype.nextVisibleNode=function(){var e,t=this;return e=t.nextVisibleChildNode(),e||(e=t.nextVisibleSiblingNode()),e||(e=t.nextVisibleAncestralSiblingNode()),e},t.prototype.nextVisibleAncestralSiblingNode=function(){var e;if(this.hasParent()){var t=this.getParent();e=t.nextVisibleSiblingNode(),e||(e=t.nextVisibleAncestralSiblingNode())}return e},t.prototype.nextVisibleSiblingNode=function(){var e=this,t=e.hasParent()?e.getParent().children:y.nodes(),n=i.findIndex(t,{id:e.id});return i.find(i.slice(t,n+1),function(e){return e.visible()})},t.prototype.previousVisibleNode=function(){var e,t=this;return e=t.previousVisibleSiblingNode(),e&&e.hasChildren()&&!e.collapsed()&&(e=e.lastDeepestVisibleChild()),!e&&t.hasParent()&&(e=t.getParent()),e},t.prototype.previousVisibleSiblingNode=function(){var e=this.hasParent()?this.getParent().children:y.nodes(),t=i.findIndex(e,{id:this.id});return i.findLast(i.slice(e,0,t),function(e){return e.visible()})},t.prototype.recurseUp=function(e){var t=e(this);return t!==!1&&this.hasParent()&&this.getParent().recurseUp(e),this},t.prototype.recurseDown=function(e){return f(this,e),this},t.prototype.refreshIndeterminateState=function(){var e=this;if(e.itree.state.indeterminate=!1,y.config.checkbox){var t=e.children.length,n=e.itree.state.indeterminate;if(e.hasChildren()){var r=0;i.each(e.children,function(t){return t.itree.state.indeterminate?(e.itree.state.indeterminate=!0,!1):void(t.selected()&&r++)}),r?r===t?e.itree.state.selected=!0:e.itree.state.indeterminate||(e.itree.state.indeterminate=r>0&&t>r):e.itree.state.selected=!1}e.hasParent()&&e.getParent().refreshIndeterminateState(),n!==e.itree.state.indeterminate&&e.markDirty()}return e},t.prototype.remove=function(){var e,t=this;t.hasParent()&&(e=t.getParent());var n=e?e.children:A;i.remove(n,{id:t.id}),e&&e.refreshIndeterminateState(),y.emit("node.removed",t["export"]()),g.applyChanges()},t.prototype.removed=function(){return this.itree.state.removed},t.prototype.restore=function(){return a("removed",!1,"restored",this)},t.prototype.select=function(){var e=this;if(!e.selected()&&e.selectable()){if(g.batch(),e.focus(),!y.preventDeselection){var t=y.config.requireSelection;y.config.requireSelection=!1,y.nodes().deselectDeep(),y.config.requireSelection=t}e.itree.state.selected=!0,y.config.checkbox&&(e.hasChildren()&&e.children.recurseDown(function(e){e.select()}),e.hasParent()&&e.getParent().refreshIndeterminateState()),y.emit("node.selected",e),e.markDirty(),g.end()}return e},t.prototype.selectable=function(){var e=y.config.allowSelection(this);return"boolean"==typeof e?e:this.itree.state.selectable},t.prototype.selected=function(){return this.itree.state.selected},t.prototype.set=function(e,t){return this[e]=t,this.markDirty(),this},t.prototype.setSelectable=function(e){return a("selectable",e,"selectability-changed",this)},t.prototype.show=function(){return a("hidden",!1,"shown",this)},t.prototype.softRemove=function(){return a("removed",!0,"softremoved",this,"softRemove")},t.prototype.toggleCollapse=function(){return this.collapsed()?this.expand():this.collapse()},t.prototype.toggleSelect=function(){return this.selected()?this.deselect():this.select()},t.prototype.toObject=function(){var e={};return i.each(this,function(t,n){e[n]=t}),this.hasChildren()&&i.isFunction(this.children.toArray)&&(e.children=this.children.toArray()),e},t.prototype.visible=function(){var e=this,t=!0;return t=e.hidden()||e.removed()?!1:e.hasParent()?e.getParent().collapsed()?!1:e.getParent().visible():!0},n.prototype=Object.create(Array.prototype),n.prototype.constructor=n,n.prototype.clone=function(){var e=new n;return i.each(this,function(t){e.push(t.clone())}),e},n.prototype.copy=function(e){var t=this;return{to:function(r){if(!i.isFunction(r.addNodes))throw new Error("Destination must be an Inspire Tree instance.");var o=new n;return i.each(t,function(t){o.push(t.copy(e).to(r))}),o}}},n.prototype.concat=function(e){var t=new n,r=function(e){t.push(e)};return i.each(this,r),i.each(e,r),t},n.prototype.deepest=function(){var e=new n;return this.recurseDown(function(t){t.children||e.push(t)}),e},n.prototype.expandDeep=function(){var e=this;return new c(function(t){var n=0,r=function(){0===--n&&t(e)};e.recurseDown(function(e){n++,e.children?e.expand()["catch"](r).then(function(){e.children.expandDeep()["catch"](r).then(r)}):r()})})},n.prototype["export"]=function(){var e=[];return i.each(this,function(t){e.push(t["export"]())}),e},n.prototype.extract=function(e){var t=this.flatten(e),r=new n;return i.each(t,function(e){r.push(e.copyHierarchy())}),r},n.prototype.filter=function(e){var t=h(e),r=new n;return i.each(this,function(e){t(e)&&r.push(e)}),r},n.prototype.flatten=function(e){var t=new n,r=h(e);return this.recurseDown(function(e){r(e)&&t.push(e)}),t},n.prototype.get=function(e){return this[e]},n.prototype.recurseDown=function(e){return f(this,e),this},n.prototype.sort=function(e){var t=this;y.config.sort&&!e&&(e=y.config.sort);var n=i.sortBy(t,e);return t.length=0,i.each(n,function(e){t.push(e)}),t},n.prototype.toArray=function(){var e=[];return i.each(this,function(t){e.push(t.toObject())}),e};var b=["blur","collapse","deselect","hide","restore","select","setSelectable","show"];i.each(b,function(e){r(e),s(e)}),i.each(["expand","expandParents","clean","softRemove"],r),i.each(["available","collapsed","focused","hidden","removed","selected"],function(e){n.prototype[e]=function(t){return t?this.extract(e):this.flatten(e)}});var x=function(e,r){var o=new n;if(r.id){var s=y.node(r.id);s?(s.restore(),s.show(),r.hasChildren()?(i.isArrayLike(s.children)||(s.children=new n),i.each(r.children,function(e){o.concat(x(s,e))})):r.children&&(s.children=r.children)):(e instanceof t?(r.itree.parent=e,e.children.push(r)):e.push(r),r.markDirty(),o.push(r))}return o},A=new n;for(var P in n.prototype)"constructor"!==P&&!y[P]&&i.isFunction(n.prototype[P])&&!function(e){y[e]=function(){return A[e].apply(A,arguments)}}(P);return y.addNode=function(e){e=u(e);var t=x(A,e);return t.length&&(y.emit("node.added",e),e.markDirty(),g.applyChanges()),e},y.addNodes=function(e){g.batch();var t=new n;return i.each(e,function(e){t.push(y.addNode(e))}),g.end(),t},y.clearSearch=function(){y.nodes().showDeep(),y.nodes().collapseDeep()},y.node=function(e,t){var n;return i.isNumber(e)&&(e=e.toString()),(t||A).recurseDown(function(t){return t.id===e?(n=t,!1):void 0}),n},y.nodes=function(e){var t=A;return i.isArray(e)&&(t=new n,i.each(e,function(e){var n=y.node(e);n&&t.push(n)})),t},y.load=function(e){return new c(function(t,n){var r=function(e){!p&&i.isArray(e)?setTimeout(function(){y.emit("data.loaded",e)}):y.emit("data.loaded",e),A.length>0&&y.removeAll(),A=l(e),y.config.requireSelection&&!y.selected().length&&y.selectFirstAvailableNode(),!p&&i.isArray(e)?setTimeout(function(){y.emit("model.loaded",A)}):y.emit("model.loaded",A),t(A),g.applyChanges(),i.isFunction(g.scrollSelectedIntoView)&&g.scrollSelectedIntoView()},o=function(e){y.emit("data.loaderror",e),n(e)};if(i.isArrayLike(e))r(e);else if(i.isFunction(e))e(null,r,o);else{if(!i.isObject(e))throw new Error("Invalid data loader.");i.isFunction(e.then)&&e.then(r),i.isFunction(e.error)?e.error(o):i.isFunction(e["catch"])&&e["catch"](o)}})},y.reload=function(){y.load(y.config.data)},y.removeAll=function(){A=new n,g.applyChanges()},y.search=function(e){var t=new n,r=y.config.search;if(i.isFunction(r))return r(e,function(e){g.batch(),y.nodes().hideDeep(),i.each(e,function(e){x(A,e)}),g.end()},function(e){y.emit("tree.loaderror",e)});if(i.isString(e)&&i.isEmpty(e))return y.clearSearch();i.isString(e)&&(e=new RegExp(e,"i"));var o;if(o=i.isRegExp(e)?function(t){return e.test(t.text)}:e,!i.isFunction(o))throw new TypeError("Search predicate must be a string, RegExp, or function.");return g.batch(),A.recurseDown(function(e){var n=o(e),r=e.hidden();e.itree.state.hidden=!n,r!==e.hidden()&&e.markDirty(),n&&(t.push(e),e.expandParents())}),g.end(),t},y.selectBetween=function(e,t){g.batch();for(var n=e.nextVisibleNode();n&&(n.select(),!n||n.id!==t.id);)n=n.nextVisibleNode();g.end()},y.selectFirstAvailableNode=function(){var e=A.filter("available").get(0);return e&&e.select(),e},g.attach(y.config.target),y.load(y.config.data),p=!0,y}var i=n(8),o=n(1),s=n(3),c=n(2).Promise;n(4),r.prototype=Object.create(s.prototype),e.exports=r},function(e,t,n){!function(t){"use strict";var n="cuid",r=0,i=4,o=36,s=Math.pow(o,i),c=function(e,t){var n="000000000"+e;return n.substr(n.length-t)},a=function(){return c((Math.random()*s<<0).toString(o),i)},l=function(){return r=s>r?r:0,r++,r-1},h=function(){var e,t="c",n=(new Date).getTime().toString(o),r=h.fingerprint(),s=a()+a();return e=c(l().toString(o),i),t+n+e+r+s};h.slug=function(){var e,t=(new Date).getTime().toString(36),n=h.fingerprint().slice(0,1)+h.fingerprint().slice(-1),r=a().slice(-2);return e=l().toString(36).slice(-4),t.slice(-2)+e+n+r},h.globalCount=function(){var e=function(){var e,t=0;for(e in window)t++;return t}();return h.globalCount=function(){return e},e},h.fingerprint=function(){return c((navigator.mimeTypes.length+navigator.userAgent.length).toString(36)+h.globalCount().toString(36),4)},t.register?t.register(n,h):e.exports=h}(this.applitude||this)},function(e,t,n){var r;(function(e,i,o){/*!
	 * @overview es6-promise - a tiny implementation of Promises/A+.
	 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
	 * @license   Licensed under MIT license
	 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
	 * @version   3.1.2
	 */
(function(){"use strict";function s(e){return"function"==typeof e||"object"==typeof e&&null!==e}function c(e){return"function"==typeof e}function a(e){z=e}function l(e){X=e}function h(){return function(){e.nextTick(v)}}function u(){return function(){W(v)}}function f(){var e=0,t=new ee(v),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function d(){var e=new MessageChannel;return e.port1.onmessage=v,function(){e.port2.postMessage(0)}}function p(){return function(){setTimeout(v,1)}}function v(){for(var e=0;Q>e;e+=2){var t=re[e],n=re[e+1];t(n),re[e]=void 0,re[e+1]=void 0}Q=0}function y(){try{var e=n(9);return W=e.runOnLoop||e.runOnContext,u()}catch(t){return p()}}function g(e,t){var n=this,r=n._state;if(r===ce&&!e||r===ae&&!t)return this;var i=new this.constructor(_),o=n._result;if(r){var s=arguments[r-1];X(function(){O(r,i,s,o)})}else T(n,i,e,t);return i}function m(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(_);return D(n,e),n}function _(){}function w(){return new TypeError("You cannot resolve a promise with itself")}function b(){return new TypeError("A promises callback cannot return that same promise.")}function x(e){try{return e.then}catch(t){return le.error=t,le}}function A(e,t,n,r){try{e.call(t,n,r)}catch(i){return i}}function P(e,t,n){X(function(e){var r=!1,i=A(n,t,function(n){r||(r=!0,t!==n?D(e,n):k(e,n))},function(t){r||(r=!0,E(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&i&&(r=!0,E(e,i))},e)}function S(e,t){t._state===ce?k(e,t._result):t._state===ae?E(e,t._result):T(t,void 0,function(t){D(e,t)},function(t){E(e,t)})}function C(e,t,n){t.constructor===e.constructor&&n===ie&&constructor.resolve===oe?S(e,t):n===le?E(e,le.error):void 0===n?k(e,t):c(n)?P(e,t,n):k(e,t)}function D(e,t){e===t?E(e,w()):s(t)?C(e,t,x(t)):k(e,t)}function L(e){e._onerror&&e._onerror(e._result),j(e)}function k(e,t){e._state===se&&(e._result=t,e._state=ce,0!==e._subscribers.length&&X(j,e))}function E(e,t){e._state===se&&(e._state=ae,e._result=t,X(L,e))}function T(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+ce]=n,i[o+ae]=r,0===o&&e._state&&X(j,e)}function j(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r,i,o=e._result,s=0;s<t.length;s+=3)r=t[s],i=t[s+n],r?O(n,r,i,o):i(o);e._subscribers.length=0}}function N(){this.error=null}function F(e,t){try{return e(t)}catch(n){return he.error=n,he}}function O(e,t,n,r){var i,o,s,a,l=c(n);if(l){if(i=F(n,r),i===he?(a=!0,o=i.error,i=null):s=!0,t===i)return void E(t,b())}else i=r,s=!0;t._state!==se||(l&&s?D(t,i):a?E(t,o):e===ce?k(t,i):e===ae&&E(t,i))}function V(e,t){try{t(function(t){D(e,t)},function(t){E(e,t)})}catch(n){E(e,n)}}function I(e){return new ye(this,e).promise}function M(e){function t(e){D(i,e)}function n(e){E(i,e)}var r=this,i=new r(_);if(!J(e))return E(i,new TypeError("You must pass an array to race.")),i;for(var o=e.length,s=0;i._state===se&&o>s;s++)T(r.resolve(e[s]),void 0,t,n);return i}function U(e){var t=this,n=new t(_);return E(n,e),n}function q(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function R(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function B(e){this._id=pe++,this._state=void 0,this._result=void 0,this._subscribers=[],_!==e&&("function"!=typeof e&&q(),this instanceof B?V(this,e):R())}function H(e,t){this._instanceConstructor=e,this.promise=new e(_),Array.isArray(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?k(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&k(this.promise,this._result))):E(this.promise,this._validationError())}function Y(){var e;if("undefined"!=typeof i)e=i;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;n&&"[object Promise]"===Object.prototype.toString.call(n.resolve())&&!n.cast||(e.Promise=ve)}var K;K=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var W,z,G,J=K,Q=0,X=function(e,t){re[Q]=e,re[Q+1]=t,Q+=2,2===Q&&(z?z(v):G())},Z="undefined"!=typeof window?window:void 0,$=Z||{},ee=$.MutationObserver||$.WebKitMutationObserver,te="undefined"!=typeof e&&"[object process]"==={}.toString.call(e),ne="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,re=new Array(1e3);G=te?h():ee?f():ne?d():void 0===Z?y():p();var ie=g,oe=m,se=void 0,ce=1,ae=2,le=new N,he=new N,ue=I,fe=M,de=U,pe=0,ve=B;B.all=ue,B.race=fe,B.resolve=oe,B.reject=de,B._setScheduler=a,B._setAsap=l,B._asap=X,B.prototype={constructor:B,then:ie,"catch":function(e){return this.then(null,e)}};var ye=H;H.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},H.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===se&&e>n;n++)this._eachEntry(t[n],n)},H.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===oe){var i=x(e);if(i===ie&&e._state!==se)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===ve){var o=new n(_);C(o,e,i),this._willSettleAt(o,t)}else this._willSettleAt(new n(function(t){t(e)}),t)}else this._willSettleAt(r(e),t)},H.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===se&&(this._remaining--,e===ae?E(r,n):this._result[t]=n),0===this._remaining&&k(r,this._result)},H.prototype._willSettleAt=function(e,t){var n=this;T(e,void 0,function(e){n._settledAt(ce,t,e)},function(e){n._settledAt(ae,t,e)})};var ge=Y,me={Promise:ve,polyfill:ge};n(6).amd?(r=function(){return me}.call(t,n,t,o),!(void 0!==r&&(o.exports=r))):"undefined"!=typeof o&&o.exports?o.exports=me:"undefined"!=typeof this&&(this.ES6Promise=me),ge()}).call(this)}).call(t,n(5),function(){return this}(),n(7)(e))},function(e,t,n){var r;!function(i){function o(){this._events={},this._conf&&s.call(this,this._conf)}function s(e){e&&(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),e.maxListeners&&(this._events.maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this.newListener=e.newListener),this.wildcard&&(this.listenerTree={}))}function c(e){this._events={},this.newListener=!1,s.call(this,e)}function a(e,t,n,r){if(!n)return[];var i,o,s,c,l,h,u,f=[],d=t.length,p=t[r],v=t[r+1];if(r===d&&n._listeners){if("function"==typeof n._listeners)return e&&e.push(n._listeners),[n];for(i=0,o=n._listeners.length;o>i;i++)e&&e.push(n._listeners[i]);return[n]}if("*"===p||"**"===p||n[p]){if("*"===p){for(s in n)"_listeners"!==s&&n.hasOwnProperty(s)&&(f=f.concat(a(e,t,n[s],r+1)));return f}if("**"===p){u=r+1===d||r+2===d&&"*"===v,u&&n._listeners&&(f=f.concat(a(e,t,n,d)));for(s in n)"_listeners"!==s&&n.hasOwnProperty(s)&&("*"===s||"**"===s?(n[s]._listeners&&!u&&(f=f.concat(a(e,t,n[s],d))),f=f.concat(a(e,t,n[s],r))):f=s===v?f.concat(a(e,t,n[s],r+2)):f.concat(a(e,t,n[s],r)));return f}f=f.concat(a(e,t,n[p],r+1))}if(c=n["*"],c&&a(e,t,c,r+1),l=n["**"])if(d>r){l._listeners&&a(e,t,l,d);for(s in l)"_listeners"!==s&&l.hasOwnProperty(s)&&(s===v?a(e,t,l[s],r+2):s===p?a(e,t,l[s],r+1):(h={},h[s]=l[s],a(e,t,{"**":h},r+1)))}else l._listeners?a(e,t,l,d):l["*"]&&l["*"]._listeners&&a(e,t,l["*"],d);return f}function l(e,t){e="string"==typeof e?e.split(this.delimiter):e.slice();for(var n=0,r=e.length;r>n+1;n++)if("**"===e[n]&&"**"===e[n+1])return;for(var i=this.listenerTree,o=e.shift();o;){if(i[o]||(i[o]={}),i=i[o],0===e.length){if(i._listeners){if("function"==typeof i._listeners)i._listeners=[i._listeners,t];else if(h(i._listeners)&&(i._listeners.push(t),!i._listeners.warned)){var s=u;"undefined"!=typeof this._events.maxListeners&&(s=this._events.maxListeners),s>0&&i._listeners.length>s&&(i._listeners.warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",i._listeners.length),console.trace&&console.trace())}}else i._listeners=t;return!0}o=e.shift()}return!0}var h=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},u=10;c.EventEmitter2=c,c.prototype.delimiter=".",c.prototype.setMaxListeners=function(e){this._events||o.call(this),this._events.maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e},c.prototype.event="",c.prototype.once=function(e,t){return this.many(e,1,t),this},c.prototype.many=function(e,t,n){function r(){0===--t&&i.off(e,r),n.apply(this,arguments)}var i=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");return r._origin=n,this.on(e,r),i},c.prototype.emit=function(){this._events||o.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return!1;if(this._all){for(var t=arguments.length,n=new Array(t-1),r=1;t>r;r++)n[r-1]=arguments[r];for(r=0,t=this._all.length;t>r;r++)this.event=e,this._all[r].apply(this,[e].concat(n))}if("error"===e&&!(this._all||this._events.error||this.wildcard&&this.listenerTree.error))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");var i;if(this.wildcard){i=[];var s="string"==typeof e?e.split(this.delimiter):e.slice();a.call(this,i,s,this.listenerTree,0)}else i=this._events[e];if("function"==typeof i){if(this.event=e,1===arguments.length)i.call(this);else if(arguments.length>1)switch(arguments.length){case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:for(var t=arguments.length,n=new Array(t-1),r=1;t>r;r++)n[r-1]=arguments[r];i.apply(this,n)}return!0}if(i){for(var t=arguments.length,n=new Array(t-1),r=1;t>r;r++)n[r-1]=arguments[r];for(var c=i.slice(),r=0,t=c.length;t>r;r++)this.event=e,c[r].apply(this,n);return c.length>0||!!this._all}return!!this._all},c.prototype.emitAsync=function(){this._events||o.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return Promise.resolve([!1]);var t=[];if(this._all){for(var n=arguments.length,r=new Array(n-1),i=1;n>i;i++)r[i-1]=arguments[i];for(i=0,n=this._all.length;n>i;i++)this.event=e,t.push(this._all[i].apply(this,r))}if("error"===e&&!(this._all||this._events.error||this.wildcard&&this.listenerTree.error))return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");var s;if(this.wildcard){s=[];var c="string"==typeof e?e.split(this.delimiter):e.slice();a.call(this,s,c,this.listenerTree,0)}else s=this._events[e];if("function"==typeof s){if(this.event=e,1===arguments.length)t.push(s.call(this));else if(arguments.length>1)switch(arguments.length){case 2:t.push(s.call(this,arguments[1]));break;case 3:t.push(s.call(this,arguments[1],arguments[2]));break;default:for(var n=arguments.length,r=new Array(n-1),i=1;n>i;i++)r[i-1]=arguments[i];t.push(s.apply(this,r))}}else if(s){for(var n=arguments.length,r=new Array(n-1),i=1;n>i;i++)r[i-1]=arguments[i];for(var l=s.slice(),i=0,n=l.length;n>i;i++)this.event=e,t.push(l[i].apply(this,r))}return Promise.all(t)},c.prototype.on=function(e,t){if("function"==typeof e)return this.onAny(e),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");if(this._events||o.call(this),this.emit("newListener",e,t),this.wildcard)return l.call(this,e,t),this;if(this._events[e]){if("function"==typeof this._events[e])this._events[e]=[this._events[e],t];else if(h(this._events[e])&&(this._events[e].push(t),!this._events[e].warned)){var n=u;"undefined"!=typeof this._events.maxListeners&&(n=this._events.maxListeners),n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),console.trace&&console.trace())}}else this._events[e]=t;return this},c.prototype.onAny=function(e){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),this._all.push(e),this},c.prototype.addListener=c.prototype.on,c.prototype.off=function(e,t){function n(e){if(e!==i){var t=Object.keys(e);for(var r in t){var o=t[r],s=e[o];s instanceof Function||"object"!=typeof s||(Object.keys(s).length>0&&n(e[o]),0===Object.keys(s).length&&delete e[o])}}}if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var r,o=[];if(this.wildcard){var s="string"==typeof e?e.split(this.delimiter):e.slice();o=a.call(this,null,s,this.listenerTree,0)}else{if(!this._events[e])return this;r=this._events[e],o.push({_listeners:r})}for(var c=0;c<o.length;c++){var l=o[c];if(r=l._listeners,h(r)){for(var u=-1,f=0,d=r.length;d>f;f++)if(r[f]===t||r[f].listener&&r[f].listener===t||r[f]._origin&&r[f]._origin===t){u=f;break}if(0>u)continue;return this.wildcard?l._listeners.splice(u,1):this._events[e].splice(u,1),0===r.length&&(this.wildcard?delete l._listeners:delete this._events[e]),this.emit("removeListener",e,t),this}(r===t||r.listener&&r.listener===t||r._origin&&r._origin===t)&&(this.wildcard?delete l._listeners:delete this._events[e],this.emit("removeListener",e,t))}return n(this.listenerTree),this},c.prototype.offAny=function(e){var t,n=0,r=0;if(e&&this._all&&this._all.length>0){for(t=this._all,n=0,r=t.length;r>n;n++)if(e===t[n])return t.splice(n,1),this.emit("removeListenerAny",e),this}else{for(t=this._all,n=0,r=t.length;r>n;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},c.prototype.removeListener=c.prototype.off,c.prototype.removeAllListeners=function(e){if(0===arguments.length)return!this._events||o.call(this),this;if(this.wildcard)for(var t="string"==typeof e?e.split(this.delimiter):e.slice(),n=a.call(this,null,t,this.listenerTree,0),r=0;r<n.length;r++){var i=n[r];i._listeners=null}else{if(!this._events||!this._events[e])return this;this._events[e]=null}return this},c.prototype.listeners=function(e){if(this.wildcard){var t=[],n="string"==typeof e?e.split(this.delimiter):e.slice();return a.call(this,t,n,this.listenerTree,0),t}return this._events||o.call(this),this._events[e]||(this._events[e]=[]),h(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},c.prototype.listenersAny=function(){return this._all?this._all:[]},r=function(){return c}.call(t,n,t,e),!(r!==i&&(e.exports=r))}()},function(e,t){},function(e,t){function n(){l=!1,s.length?a=s.concat(a):h=-1,a.length&&r()}function r(){if(!l){var e=setTimeout(n);l=!0;for(var t=a.length;t;){for(s=a,a=[];++h<t;)s&&s[h].run();h=-1,t=a.length}s=null,l=!1,clearTimeout(e)}}function i(e,t){this.fun=e,this.array=t}function o(){}var s,c=e.exports={},a=[],l=!1,h=-1;c.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];a.push(new i(e,t)),1!==a.length||l||setTimeout(r,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=o,c.addListener=o,c.once=o,c.off=o,c.removeListener=o,c.removeAllListeners=o,c.emit=o,c.binding=function(e){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(e){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(t,n){t.exports=e},function(e,t){}])});