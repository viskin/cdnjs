(function(){var t,n,e,r,i,o,s,u,a,l,f,h,c,p,g,m,d,v,y,b,w,x,M,T,F,H,q,S,k,R,I,z,C,X,Y,Z,O,j,A,L,D,W,$,B,E,G,N=function(t,n){return function(){return t.apply(n,arguments)}};T=function(){return"visible"===document.visibilityState||null!=b.tests},S=function(){var t;return t=[],"undefined"!=typeof document&&null!==document&&document.addEventListener("visibilitychange",function(){var n,e,r,i;for(i=[],e=0,r=t.length;r>e;e++)n=t[e],i.push(n(T()));return i}),function(n){return t.push(n)}}(),g=function(t){var n,e;return e={},n=function(){var n,r,i,o,s;for(r="",o=0,s=arguments.length;s>o;o++)n=arguments[o],r+=n.toString()+",";return i=e[r],i||(e[r]=i=t.apply(this,arguments)),i}},h=function(t,n){var e,r,i;i=[];for(e in n)r=n[e],i.push(null!=t[e]?t[e]:t[e]=r);return i},c=function(t,n){var e,r,i;if(null!=t.style)return b.css(t,n);i=[];for(e in n)r=n[e],i.push(t[e]=r.format());return i},X=function(t,n){var e;return e=Math.pow(10,n),Math.round(t*e)/e},s=function(){function t(t){var n,e,r;for(this.obj={},e=0,r=t.length;r>e;e++)n=t[e],this.obj[n]=1}return t.prototype.contains=function(t){return 1===this.obj[t]},t}(),$=function(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})},z=new s(["marginTop","marginLeft","marginBottom","marginRight","paddingTop","paddingLeft","paddingBottom","paddingRight","top","left","bottom","right","translateX","translateY","translateZ","perspectiveX","perspectiveY","perspectiveZ","width","height","maxWidth","maxHeight","minWidth","minHeight","borderRadius"]),y=new s(["rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY","skewZ"]),B=new s(["translateX","translateY","translateZ","scale","scaleX","scaleY","scaleZ","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY","skewZ","perspective"]),q=new s(["opacity","transform","background","backgroundColor","borderBottomColor","borderTopColor","borderLeftColor","borderRightColor"]),M=function(t){return q.contains(t)||z.contains(t)||B.contains(t)},G=function(t,n){return"number"!=typeof n?"":z.contains(t)?"px":y.contains(t)?"deg":""},E=function(t,n){var e,r;return e=(""+n).match(/^([0-9.-]*)([^0-9]*)$/),null!=e?(n=e[1],r=e[2]):n=parseFloat(n),n=X(parseFloat(n),10),(null==r||""===r)&&(r=G(t,n)),""+t+"("+n+r+")"},p=function(t){return"perspective"===t||"skew"===t?["X","Y"]:["X","Y","Z"]},k=function(t){var n,e,r,i,o,s,u,a;r={};for(i in t)if(o=t[i],B.contains(i))if(e=i.match(/(translate|rotate|skew|scale|perspective)(X|Y|Z|)/),e&&e[2].length>0)r[i]=o;else for(a=p(e[1]),s=0,u=a.length;u>s;s++)n=a[s],r[e[1]+n]=o;else r[i]=o;return r},v=function(t){var n;return n="opacity"===t?1:0,""+n+G(t,n)},w=function(t,n){var e,r,i,s,u,a,l,f;if(i={},null!=t.style)for(s=window.getComputedStyle(t,null),u=0,l=n.length;l>u;u++)r=n[u],B.contains(r)?null==i.transform&&(i.transform=o.fromTransform(s[I("transform")]).decompose()):(e=t.getAttribute(r),i[r]=d(e?e:s[r]?s[r]:v(r)));else for(a=0,f=n.length;f>a;a++)r=n[a],i[r]=d(t[r]);return i},d=function(t){var n,o,s,u,a;for(s=[e,r,i],u=0,a=s.length;a>u;u++)if(o=s[u],n=o.create(t),null!=n)return n;return null},i=function(){function t(t,n,e){this.prefix=n,this.suffix=e,this.format=N(this.format,this),this.interpolate=N(this.interpolate,this),this.value=parseFloat(t)}return t.prototype.interpolate=function(n,e){var r,i;return i=this.value,r=n.value,new t((r-i)*e+i,n.prefix||this.prefix,n.suffix||this.suffix)},t.prototype.format=function(){return null==this.prefix&&null==this.suffix?X(this.value,5):this.prefix+X(this.value,5)+this.suffix},t.create=function(n){var e;return"string"!=typeof n?new t(n):(e=(""+n).match("([^0-9.+-]*)([0-9.+-]+)([^0-9.+-]*)"),null!=e?new t(e[2],e[1],e[3]):null)},t}(),r=function(){function t(t,n){this.values=t,this.sep=n,this.format=N(this.format,this),this.interpolate=N(this.interpolate,this)}return t.prototype.interpolate=function(n,e){var r,i,o,s,u,a;for(s=this.values,r=n.values,o=[],i=u=0,a=Math.min(s.length,r.length);a>=0?a>u:u>a;i=a>=0?++u:--u)o.push(null!=s[i].interpolate?s[i].interpolate(r[i],e):s[i]);return new t(o,this.sep)},t.prototype.format=function(){var t;return t=this.values.map(function(t){return null!=t.format?t.format():t}),null!=this.sep?t.join(this.sep):t},t.createFromArray=function(n,e){var r;return r=n.map(function(t){return d(t)||t}),r=r.filter(function(t){return null!=t}),new t(r,e)},t.create=function(n){var e,r,i,o,s;if(n instanceof Array)return t.createFromArray(n,null);if("string"==typeof n){for(i=[" ",",","|",";","/",":"],o=0,s=i.length;s>o;o++)if(r=i[o],e=n.split(r),e.length>1)return t.createFromArray(e,r);return null}},t}(),t=function(){function t(t,n){this.rgb=null!=t?t:{},this.format=n,this.toRgba=N(this.toRgba,this),this.toRgb=N(this.toRgb,this),this.toHex=N(this.toHex,this)}return t.fromHex=function(n){var e,r;return e=n.match(/^#([a-f\d]{1})([a-f\d]{1})([a-f\d]{1})$/i),null!=e&&(n="#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),r=n.match(/^#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i),null!=r?new t({r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16),a:1},"hex"):null},t.fromRgb=function(n){var e,r;return e=n.match(/^rgba?\(([0-9.]*), ?([0-9.]*), ?([0-9.]*)(?:, ?([0-9.]*))?\)$/),null!=e?new t({r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3]),a:parseFloat(null!=(r=e[4])?r:1)},null!=e[4]?"rgba":"rgb"):null},t.componentToHex=function(t){var n;return n=t.toString(16),1===n.length?"0"+n:n},t.prototype.toHex=function(){return"#"+t.componentToHex(this.rgb.r)+t.componentToHex(this.rgb.g)+t.componentToHex(this.rgb.b)},t.prototype.toRgb=function(){return"rgb("+this.rgb.r+", "+this.rgb.g+", "+this.rgb.b+")"},t.prototype.toRgba=function(){return"rgba("+this.rgb.r+", "+this.rgb.g+", "+this.rgb.b+", "+this.rgb.a+")"},t}(),e=function(){function n(t){this.color=t,this.format=N(this.format,this),this.interpolate=N(this.interpolate,this)}return n.prototype.interpolate=function(e,r){var i,o,s,u,a,l,f,h;for(u=this.color,i=e.color,s={},h=["r","g","b"],l=0,f=h.length;f>l;l++)o=h[l],a=Math.round((i.rgb[o]-u.rgb[o])*r+u.rgb[o]),s[o]=Math.min(255,Math.max(0,a));return o="a",a=X((i.rgb[o]-u.rgb[o])*r+u.rgb[o],5),s[o]=Math.min(1,Math.max(0,a)),new n(new t(s,i.format))},n.prototype.format=function(){return"hex"===this.color.format?this.color.toHex():"rgb"===this.color.format?this.color.toRgb():"rgba"===this.color.format?this.color.toRgba():void 0},n.create=function(e){var r;if("string"==typeof e)return r=t.fromHex(e)||t.fromRgb(e),null!=r?new n(r):null},n}(),u=function(){function t(t){this.els=t,this.combine=N(this.combine,this),this.normalize=N(this.normalize,this),this.length=N(this.length,this),this.cross=N(this.cross,this),this.dot=N(this.dot,this),this.e=N(this.e,this)}return t.prototype.e=function(t){return 1>t||t>this.els.length?null:this.els[t-1]},t.prototype.dot=function(t){var n,e,r;if(n=t.els||t,r=0,e=this.els.length,e!==n.length)return null;for(e+=1;--e;)r+=this.els[e-1]*n[e-1];return r},t.prototype.cross=function(n){var e,r;return r=n.els||n,3!==this.els.length||3!==r.length?null:(e=this.els,new t([e[1]*r[2]-e[2]*r[1],e[2]*r[0]-e[0]*r[2],e[0]*r[1]-e[1]*r[0]]))},t.prototype.length=function(){var t,n,e,r,i;for(t=0,i=this.els,e=0,r=i.length;r>e;e++)n=i[e],t+=Math.pow(n,2);return Math.sqrt(t)},t.prototype.normalize=function(){var n,e,r,i,o;r=this.length(),i=[],o=this.els;for(e in o)n=o[e],i[e]=n/r;return new t(i)},t.prototype.combine=function(n,e,r){var i,o,s;for(o=[],i=s=0;2>=s;i=++s)o[i]=e*this.els[i]+r*n.els[i];return new t(o)},t}(),n=function(){function t(){this.toMatrix=N(this.toMatrix,this),this.format=N(this.format,this),this.interpolate=N(this.interpolate,this)}return t.prototype.interpolate=function(n,e,r){var i,o,s,u,a,l,f,h,c,p,g,m,d,v,y,b,w,x;for(null==r&&(r=null),s=this,o=new t,w=["translate","scale","skew","perspective"],m=0,b=w.length;b>m;m++)for(f=w[m],o[f]=[],u=d=0,x=s[f].length-1;x>=0?x>=d:d>=x;u=x>=0?++d:--d)o[f][u]=null==r||r.indexOf(f)>-1||r.indexOf(""+f+["x","y","z"][u])>-1?(n[f][u]-s[f][u])*e+s[f][u]:s[f][u];if(null==r||-1!==r.indexOf("rotate")){if(h=s.quaternion,c=n.quaternion,i=h[0]*c[0]+h[1]*c[1]+h[2]*c[2]+h[3]*c[3],0>i){for(u=v=0;3>=v;u=++v)h[u]=-h[u];i=-i}for(i+1>.05?1-i>=.05?(g=Math.acos(i),l=1/Math.sin(g),p=Math.sin(g*(1-e))*l,a=Math.sin(g*e)*l):(p=1-e,a=e):(c[0]=-h[1],c[1]=h[0],c[2]=-h[3],c[3]=h[2],p=Math.sin(piDouble*(.5-e)),a=Math.sin(piDouble*e)),o.quaternion=[],u=y=0;3>=y;u=++y)o.quaternion[u]=h[u]*p+c[u]*a}else o.quaternion=s.quaternion;return o},t.prototype.format=function(){return this.toMatrix().toString()},t.prototype.toMatrix=function(){var t,n,e,r,i,s,u,a,l,f,h,c,p,g,m,d;for(t=this,i=o.I(4),n=p=0;3>=p;n=++p)i.els[n][3]=t.perspective[n];for(s=t.quaternion,f=s[0],h=s[1],c=s[2],l=s[3],u=t.skew,r=[[1,0],[2,0],[2,1]],n=g=2;g>=0;n=--g)u[n]&&(a=o.I(4),a.els[r[n][0]][r[n][1]]=u[n],i=i.multiply(a));for(i=i.multiply(new o([[1-2*(h*h+c*c),2*(f*h-c*l),2*(f*c+h*l),0],[2*(f*h+c*l),1-2*(f*f+c*c),2*(h*c-f*l),0],[2*(f*c-h*l),2*(h*c+f*l),1-2*(f*f+h*h),0],[0,0,0,1]])),n=m=0;2>=m;n=++m){for(e=d=0;2>=d;e=++d)i.els[n][e]*=t.scale[n];i.els[3][n]=t.translate[n]}return i},t}(),o=function(){function t(t){this.els=t,this.toString=N(this.toString,this),this.decompose=N(this.decompose,this),this.inverse=N(this.inverse,this),this.augment=N(this.augment,this),this.toRightTriangular=N(this.toRightTriangular,this),this.transpose=N(this.transpose,this),this.multiply=N(this.multiply,this),this.dup=N(this.dup,this),this.e=N(this.e,this)}return t.prototype.e=function(t,n){return 1>t||t>this.els.length||1>n||n>this.els[0].length?null:this.els[t-1][n-1]},t.prototype.dup=function(){return new t(this.els)},t.prototype.multiply=function(n){var e,r,i,o,s,u,a,l,f,h,c,p,g;for(p=n.modulus?!0:!1,e=n.els||n,"undefined"==typeof e[0][0]&&(e=new t(e).els),h=this.els.length,a=h,l=e[0].length,i=this.els[0].length,o=[],h+=1;--h;)for(s=a-h,o[s]=[],c=l,c+=1;--c;){for(u=l-c,g=0,f=i,f+=1;--f;)r=i-f,g+=this.els[s][r]*e[r][u];o[s][u]=g}return e=new t(o),p?e.col(1):e},t.prototype.transpose=function(){var n,e,r,i,o,s,u;for(u=this.els.length,n=this.els[0].length,e=[],o=n,o+=1;--o;)for(r=n-o,e[r]=[],s=u,s+=1;--s;)i=u-s,e[r][i]=this.els[i][r];return new t(e)},t.prototype.toRightTriangular=function(){var t,n,e,r,i,o,s,u,a,l,f,h,c,p;for(t=this.dup(),u=this.els.length,i=u,o=this.els[0].length;--u;){if(e=i-u,0===t.els[e][e])for(r=f=c=e+1;i>=c?i>f:f>i;r=i>=c?++f:--f)if(0!==t.els[r][e]){for(n=[],a=o,a+=1;--a;)l=o-a,n.push(t.els[e][l]+t.els[r][l]);t.els[e]=n;break}if(0!==t.els[e][e])for(r=h=p=e+1;i>=p?i>h:h>i;r=i>=p?++h:--h){for(s=t.els[r][e]/t.els[e][e],n=[],a=o,a+=1;--a;)l=o-a,n.push(e>=l?0:t.els[r][l]-t.els[e][l]*s);t.els[r]=n}}return t},t.prototype.augment=function(n){var e,r,i,o,s,u,a,l,f;if(e=n.els||n,"undefined"==typeof e[0][0]&&(e=new t(e).els),r=this.dup(),i=r.els[0].length,l=r.els.length,u=l,a=e[0].length,l!==e.length)return null;for(l+=1;--l;)for(o=u-l,f=a,f+=1;--f;)s=a-f,r.els[o][i+s]=e[o][s];return r},t.prototype.inverse=function(){var n,e,r,i,o,s,u,a,l,f,h,c,p;for(f=this.els.length,u=f,n=this.augment(t.I(f)).toRightTriangular(),a=n.els[0].length,o=[],f+=1;--f;){for(i=f-1,r=[],h=a,o[i]=[],e=n.els[i][i],h+=1;--h;)c=a-h,l=n.els[i][c]/e,r.push(l),c>=u&&o[i].push(l);for(n.els[i]=r,s=p=0;i>=0?i>p:p>i;s=i>=0?++p:--p){for(r=[],h=a,h+=1;--h;)c=a-h,r.push(n.els[s][c]-n.els[i][c]*n.els[s][i]);n.els[s]=r}}return new t(o)},t.I=function(n){var e,r,i,o,s;for(e=[],o=n,n+=1;--n;)for(r=o-n,e[r]=[],s=o,s+=1;--s;)i=o-s,e[r][i]=r===i?1:0;return new t(e)},t.prototype.decompose=function(){var t,e,r,i,o,s,a,l,f,h,c,p,g,m,d,v,y,b,w,x,M,T,F,H,q,S,k,R,I,z,C,X,Y,Z,O,j,A,L;for(s=this,x=[],y=[],b=[],h=[],l=[],t=[],e=I=0;3>=I;e=++I)for(t[e]=[],i=z=0;3>=z;i=++z)t[e][i]=s.els[e][i];if(0===t[3][3])return!1;for(e=C=0;3>=C;e=++C)for(i=X=0;3>=X;i=++X)t[e][i]/=t[3][3];for(f=s.dup(),e=Y=0;2>=Y;e=++Y)f.els[e][3]=0;if(f.els[3][3]=1,0!==t[0][3]||0!==t[1][3]||0!==t[2][3]){for(p=new u(t.slice(0,4)[3]),r=f.inverse(),M=r.transpose(),l=M.multiply(p).els,e=Z=0;2>=Z;e=++Z)t[e][3]=0;t[3][3]=1}else l=[0,0,0,1];for(e=O=0;2>=O;e=++O)x[e]=t[3][e],t[3][e]=0;for(m=[],e=j=0;2>=j;e=++j)m[e]=new u(t[e].slice(0,3));if(y[0]=m[0].length(),m[0]=m[0].normalize(),b[0]=m[0].dot(m[1]),m[1]=m[1].combine(m[0],1,-b[0]),y[1]=m[1].length(),m[1]=m[1].normalize(),b[0]/=y[1],b[1]=m[0].dot(m[2]),m[2]=m[2].combine(m[0],1,-b[1]),b[2]=m[1].dot(m[2]),m[2]=m[2].combine(m[1],1,-b[2]),y[2]=m[2].length(),m[2]=m[2].normalize(),b[1]/=y[2],b[2]/=y[2],a=m[1].cross(m[2]),m[0].dot(a)<0)for(e=A=0;2>=A;e=++A)for(y[e]*=-1,i=L=0;2>=L;i=++L)m[e].els[i]*=-1;d=function(t,n){return m[t].els[n]},g=[],g[1]=Math.asin(-d(0,2)),0!==Math.cos(g[1])?(g[0]=Math.atan2(d(1,2),d(2,2)),g[2]=Math.atan2(d(0,1),d(0,0))):(g[0]=Math.atan2(-d(2,0),d(1,1)),g[1]=0),w=d(0,0)+d(1,1)+d(2,2)+1,w>1e-4?(v=.5/Math.sqrt(w),q=.25/v,S=(d(2,1)-d(1,2))*v,k=(d(0,2)-d(2,0))*v,R=(d(1,0)-d(0,1))*v):d(0,0)>d(1,1)&&d(0,0)>d(2,2)?(v=2*Math.sqrt(1+d(0,0)-d(1,1)-d(2,2)),S=.25*v,k=(d(0,1)+d(1,0))/v,R=(d(0,2)+d(2,0))/v,q=(d(2,1)-d(1,2))/v):d(1,1)>d(2,2)?(v=2*Math.sqrt(1+d(1,1)-d(0,0)-d(2,2)),S=(d(0,1)+d(1,0))/v,k=.25*v,R=(d(1,2)+d(2,1))/v,q=(d(0,2)-d(2,0))/v):(v=2*Math.sqrt(1+d(2,2)-d(0,0)-d(1,1)),S=(d(0,2)+d(2,0))/v,k=(d(1,2)+d(2,1))/v,R=.25*v,q=(d(1,0)-d(0,1))/v),h=[S,k,R,q],c=new n,c.translate=x,c.scale=y,c.skew=b,c.quaternion=h,c.perspective=l,c.rotate=g;for(F in c){T=c[F];for(o in T)H=T[o],isNaN(H)&&(T[o]=0)}return c},t.prototype.toString=function(){var t,n,e,r,i;for(e="matrix3d(",t=r=0;3>=r;t=++r)for(n=i=0;3>=i;n=++i)e+=this.els[t][n],(3!==t||3!==n)&&(e+=",");return e+=")"},t.matrix3dForTransform=g(function(t){var n,e,r,i,o,s;return n=document.createElement("div"),n.style.position="absolute",n.style.visibility="hidden",n.style[I("transform")]=t,document.body.appendChild(n),r=window.getComputedStyle(n,null),e=null!=(i=null!=(o=r.transform)?o:r[I("transform")])?i:null!=(s=b.tests)?s.matrix3dForTransform(t):void 0,document.body.removeChild(n),e}),t.fromTransform=function(n){var e,r,i,o,s,u;for(o=null!=n?n.match(/matrix3?d?\(([-0-9, \.]*)\)/):void 0,o?(e=o[1].split(","),e=e.map(parseFloat),r=6===e.length?[e[0],e[1],0,0,e[2],e[3],0,0,0,0,1,0,e[4],e[5],0,1]:e):r=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],s=[],i=u=0;3>=u;i=++u)s.push(r.slice(4*i,4*i+4));return new t(s)},t}(),R=g(function(t){var n,e,r,i,o,s,u,a,l,f;if(void 0!==document.body.style[t])return"";for(i=t.split("-"),o="",s=0,a=i.length;a>s;s++)r=i[s],o+=r.substring(0,1).toUpperCase()+r.substring(1);for(f=["Webkit","Moz"],u=0,l=f.length;l>u;u++)if(e=f[u],n=e+o,void 0!==document.body.style[n])return e;return""}),I=g(function(t){var n;return n=R(t),"Moz"===n?""+n+(t.substring(0,1).toUpperCase()+t.substring(1)):""!==n?"-"+n.toLowerCase()+"-"+$(t):$(t)}),C="undefined"!=typeof window&&null!==window?window.requestAnimationFrame:void 0,null==C&&(F=0,C=function(t){var n,e,r;return n=Date.now(),r=Math.max(0,16-(n-F)),e=window.setTimeout(function(){return t(n+r)},r),F=n+r,e}),Z=!1,Y=!1,f=[],A=function(){return Z?void 0:(Z=!0,C(O))},O=function(t){var n,e,r,i;if(Y)return void C(O);for(e=[],r=0,i=f.length;i>r;r++)n=f[r],l(t,n)||e.push(n);return f=f.filter(function(t){return-1===e.indexOf(t)}),0===f.length?Z=!1:C(O)},l=function(t,n){var e,r,i,o,s,u,a,l;if(null==n.tStart&&(n.tStart=t),o=(t-n.tStart)/n.options.duration,s=n.curve(o),r={},o>=1)r=n.curve.initialForce?n.properties.start:n.properties.end;else{l=n.properties.start;for(e in l)i=l[e],r[e]=x(i,n.properties.end[e],s)}return c(n.el,r),"function"==typeof(u=n.options).change&&u.change(),o>=1&&"function"==typeof(a=n.options).complete&&a.complete(),1>o},x=function(t,n,e){return null!=t&&null!=t.interpolate?t.interpolate(n,e):null},W=[],D=0,j=function(t){return T()?t.realTimeoutId=setTimeout(function(){return t.fn(),m(t.id)},t.delay):void 0},a=function(t,n){var e;return D+=1,e={id:D,tStart:Date.now(),fn:t,delay:n},j(e),W.push(e),D},m=function(t){return W=W.filter(function(n){return n.id===t&&clearTimeout(n.realTimeoutId),n.id!==t})},H=function(t,n){var e;return null!=t?(e=t-n.tStart,n.delay-e):n.delay},"undefined"!=typeof window&&null!==window&&window.addEventListener("unload",function(){}),L=null,S(function(t){var n,e,r,i,o,s,u,a,l,h;if(Y=!t,t){if(Z)for(e=Date.now()-L,o=0,a=f.length;a>o;o++)n=f[o],null!=n.tStart&&(n.tStart+=e);for(s=0,l=W.length;l>s;s++)r=W[s],r.delay=H(L,r),j(r);return L=null}for(L=Date.now(),h=[],i=0,u=W.length;u>i;i++)r=W[i],h.push(clearTimeout(r.realTimeoutId));return h}),b={},b.linear=function(){return function(t){return t}},b.spring=function(t){var n,e,r,i,o,s;return null==t&&(t={}),h(t,arguments.callee.defaults),i=Math.max(1,t.frequency/20),o=Math.pow(20,t.friction/100),s=t.anticipationSize/1e3,r=Math.max(0,s),n=function(n){var e,r,i,o,u;return e=.8,o=s/(1-s),u=0,i=(o-e*u)/(o-u),r=(e-i)/o,r*n*t.anticipationStrength/100+i},e=function(t){return Math.pow(o/10,-t)*(1-t)},function(t){var r,o,u,a,l,f,h,c;return f=t/(1-s)-s/(1-s),s>t?(c=s/(1-s)-s/(1-s),h=0/(1-s)-s/(1-s),l=Math.acos(1/n(c)),u=(Math.acos(1/n(h))-l)/(i*-s),r=n):(r=e,l=0,u=1),o=r(f),a=i*(t-s)*u+l,1-o*Math.cos(a)}},b.bounce=function(t){var n,e,r,i;return null==t&&(t={}),h(t,arguments.callee.defaults),r=Math.max(1,t.frequency/20),i=Math.pow(20,t.friction/100),n=function(t){return Math.pow(i/10,-t)*(1-t)},e=function(t){var e,i,o,s;return s=-1.57,i=1,e=n(t),o=r*t*i+s,e*Math.cos(o)},e.initialForce=!0,e},b.gravity=function(t){var n,e,r,i,o,s,u;return null==t&&(t={}),h(t,arguments.callee.defaults),e=Math.min(t.bounciness/1250,.8),i=t.elasticity/1e3,u=100,r=[],n=function(){var r,i;for(r=Math.sqrt(2/u),i={a:-r,b:r,H:1},t.initialForce&&(i.a=0,i.b=2*i.b);i.H>.001;)n=i.b-i.a,i={a:i.b,b:i.b+n*e,H:i.H*e*e};return i.b}(),s=function(e,r,i,o){var s,u;return n=r-e,u=2/n*o-1-2*e/n,s=u*u*i-i+1,t.initialForce&&(s=1-s),s},function(){var o,s,a,l;for(s=Math.sqrt(2/(u*n*n)),a={a:-s,b:s,H:1},t.initialForce&&(a.a=0,a.b=2*a.b),r.push(a),o=n,l=[];a.b<1&&a.H>.001;)o=a.b-a.a,a={a:a.b,b:a.b+o*e,H:a.H*i},l.push(r.push(a));return l}(),o=function(n){var e,i,o;for(i=0,e=r[i];!(n>=e.a&&n<=e.b)&&(i+=1,e=r[i]););return o=e?s(e.a,e.b,e.H,n):t.initialForce?0:1},o.initialForce=t.initialForce,o},b.forceWithGravity=function(t){return null==t&&(t={}),h(t,arguments.callee.defaults),t.initialForce=!0,b.gravity(t)},b.bezier=function(){var t,n,e;return n=function(t,n,e,r,i){return Math.pow(1-t,3)*n+3*Math.pow(1-t,2)*t*e+3*(1-t)*Math.pow(t,2)*r+Math.pow(t,3)*i},t=function(t,e,r,i,o){return{x:n(t,e.x,r.x,i.x,o.x),y:n(t,e.y,r.y,i.y,o.y)}},e=function(t,n,e){var r,i,o,s,u,a,l,f,h,c;for(r=null,h=0,c=n.length;c>h&&(i=n[h],t>=i(0).x&&t<=i(1).x&&(r=i),null===r);h++);if(!r)return e?0:1;for(f=1e-4,s=0,a=1,u=(a+s)/2,l=r(u).x,o=0;Math.abs(t-l)>f&&100>o;)t>l?s=u:a=u,u=(a+s)/2,l=r(u).x,o+=1;return r(u).y},function(n){var r,i,o;return null==n&&(n={}),i=n.points,o=!1,r=function(){var n,e,o;r=[],o=function(n,e){var i;return i=function(r){return t(r,n,n.cp[n.cp.length-1],e.cp[0],e)},r.push(i)};for(n in i){if(e=parseInt(n),e>=i.length-1)break;o(i[e],i[e+1])}return r}(),function(t){return 0===t?0:1===t?1:e(t,r,o)}}}(),b.easeInOut=function(t){var n,e;return null==t&&(t={}),n=null!=(e=t.friction)?e:arguments.callee.defaults.friction,b.bezier({points:[{x:0,y:0,cp:[{x:.92-n/1e3,y:0}]},{x:1,y:1,cp:[{x:.08+n/1e3,y:1}]}]})},b.easeIn=function(t){var n,e;return null==t&&(t={}),n=null!=(e=t.friction)?e:arguments.callee.defaults.friction,b.bezier({points:[{x:0,y:0,cp:[{x:.92-n/1e3,y:0}]},{x:1,y:1,cp:[{x:1,y:1}]}]})},b.easeOut=function(t){var n,e;return null==t&&(t={}),n=null!=(e=t.friction)?e:arguments.callee.defaults.friction,b.bezier({points:[{x:0,y:0,cp:[{x:0,y:0}]},{x:1,y:1,cp:[{x:.08+n/1e3,y:1}]}]})},b.spring.defaults={frequency:300,friction:200,anticipationSize:0,anticipationStrength:0},b.bounce.defaults={frequency:300,friction:200},b.forceWithGravity.defaults=b.gravity.defaults={bounciness:400,elasticity:200},b.easeInOut.defaults=b.easeIn.defaults=b.easeOut.defaults={friction:500},b.css=function(t,n){var e,r,i;n=k(n),r=[];for(e in n)i=n[e],B.contains(e)?r.push(E(e,i)):(i=null!=i.format?i.format():""+i+G(e,i),M(e)?t.style[I(e)]=i:t.setAttribute(e,i));return r.length>0?t.style[I("transform")]=r.join(" "):void 0},b.animate=function(t,n,e){var r,s,u,a,l,c;null==e&&(e={}),b.stop(t),n=k(n),u=w(t,Object.keys(n)),r={},a=[];for(s in n)l=n[s],B.contains(s)?a.push(E(s,l)):(r[s]=d(l),r[s]instanceof i&&null!=t.style&&(r[s].prefix="",null==(c=r[s]).suffix&&(c.suffix=G(s,0))));return a.length>0&&(r.transform=o.fromTransform(o.matrix3dForTransform(a.join(" "))).decompose()),h(e,{type:b.easeInOut,duration:1e3}),f.push({el:t,properties:{start:u,end:r},options:e,curve:e.type.call(e.type,e)}),A()},b.stop=function(t){return f=f.filter(function(n){return n.el!==t})},b.setTimeout=function(t,n){return a(t,n)},b.clearTimeout=function(t){return m(t)},"object"==typeof module&&"object"==typeof module.exports?module.exports=b:"function"==typeof define&&define.amd?define(b):window.dynamics=b}).call(this);