(function(t,e){"use strict";function n(){return e.qoopido.initialize("dom/element",t,arguments)}if("function"==typeof define&&define.amd){var r=["../base","../proxy"];e.getComputedStyle||r.push("../polyfill/window/getcomputedstyle"),define(r,n)}else n()})(function(t,e,n,r,i,o){"use strict";function a(t){return t.target||(t.target=t.srcElement||i),3===t.target.nodeType&&(t.target=t.target.parentNode),!t.relatedTarget&&t.fromElement&&(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t}var s,l,u,c="object",f="string";return s=r.addEventListener?function(t,e){var n=this,r=n.element,i="".concat("listener[",t,"][",e._quid||e,"]");r[i]=function(t){e.call(this,a(t))},r.addEventListener(t,r[i],!1)}:function(t,e){var n=this,i=n.element,s="".concat("listener[",t,"][",e._quid||e,"]");i[s]=function(){e.call(this,a(r.event))},i["on"+t]!==o?i.attachEvent("on"+t,i[s]):(t="".concat("fake[",t,"]"),i[t]=null,i.attachEvent("onpropertychange",function(n){n.propertyName===t&&e.call(this,a(i[t]))}))},l=r.removeEventListener?function(t,e){var n=this,r=n.element,i="".concat("listener[",t,"][",e._quid||e,"]");r.removeEventListener(t,r[i],!1),delete r[i]}:function(t,e){var n=this,r=n.element,i="".concat("listener[",t,"][",e._quid||e,"]");r.detachEvent("on"+t,r[i]),delete r[i]},u=i.createEvent?function(t,e){var n=this,r=n.element,o=i.createEvent("HTMLEvents");o.initEvent(t,!0,!0),o.data=e,r.dispatchEvent(o)}:function(t,e){var n=this,r=n.element,a=i.createEventObject();a.type=a.eventType=t,a.data=e;try{r.fireEvent("on"+a.eventType,a)}catch(s){var l="".concat("fake[",t,"]");r[l]!==o&&(r[l]=a)}},t.base.extend({type:null,element:null,listener:null,_constructor:function(t){var e=this;if(!t)throw Error("Missing element argument");e.type=t.tagName,e.element=t,e.listener={}},getAttribute:function(t){if(t&&typeof t===f){var e=this;return t=t.split(" "),1===t.length?e.element.getAttribute(t[0]):e.getAttributes(t)}},getAttributes:function(t){var e=this,n={};if(t&&(t=typeof t===f?t.split(" "):t,typeof t===c&&t.length)){var r,i;for(r=0;(i=t[r])!==o;r++)n[i]=e.element.getAttributes(i)}return n},setAttribute:function(t,e){var n=this;return t&&typeof t===f&&n.element.setAttribute(t,e),n},setAttributes:function(t){var e=this;if(t&&typeof t===c&&!t.length){var n;for(n in t)e.element.setAttribute(n,t[n])}return e},removeAttribute:function(t){var e=this;return t&&typeof t===f&&(t=t.split(" "),1===t.length?e.element.removeAttribute(t[0]):e.removeAttributes(t)),e},removeAttributes:function(t){var e=this;if(t&&(t=typeof t===f?t.split(" "):t,typeof t===c&&t.length)){var n,r;for(n=0;(r=t[n])!==o;n++)e.element.removeAttribute(r)}return e},getStyle:function(t){if(t&&typeof t===f){var e=this;return t=t.split(" "),1===t.length?r.getComputedStyle(e.element,null).getPropertyValue(t[0]):e.getStyles(t)}},getStyles:function(t){var e=this,n={};if(t&&(t=typeof t===f?t.split(" "):t,typeof t===c&&t.length)){var i,a;for(i=0;(a=t[i])!==o;i++)n[a]=r.getComputedStyle(e.element,null).getPropertyValue(a)}return n},setStyle:function(t,e){var n=this;return t&&typeof t===f&&(n.element.style[t]=e),n},setStyles:function(t){var e=this;if(t&&typeof t===c&&!t.length){var n;for(n in t)e.element.style[n]=t[n]}return e},isVisible:function(){var t=this.element;return!(0>=t.offsetWidth&&0>=t.offsetHeight)},on:function(t,e){var n,r,i=this;for(t=t.split(" "),n=0;(r=t[n])!==o;n++)(i.listener[r]=i.listener[r]||[]).push(e),s.call(i,r,e);return i},one:function(e,n,r){r=r!==!1;var i=this,o=t.proxy.create(i,function(t){i.off(r===!0?t.type:e,o),n.call(i,t)});return i.on(e,o),i},off:function(t,e){var n,r,i,a,s=this;if(t)for(t=t.split(" "),n=0;(r=t[n])!==o;n++)if(s.listener[r]=s.listener[r]||[],e)for(i=0;(a=s.listener[r][i])!==o;i++)a===e&&(s.listener[r].splice(i,1),l.call(s,r,a),i--);else for(;s.listener[r].length>0;)l.call(s,r,s.listener[r].pop());else for(r in s.listener)for(;s.listener[r].length>0;)l.call(s,r,s.listener[r].pop());return s},emit:function(t,e){var n=this;return u.call(n,t,e),n}})},window);