/*! Qoopido.js library 3.7.1, 2015-07-25 | https://github.com/dlueth/qoopido.js | (c) 2015 Dirk Lueth */
!function(e){window.qoopido.registerSingleton("hook/event",e,["../base"])}(function(e,t,r,n,o,a,c){"use strict";function l(e,t,r){for(var n,o=0;(n=r[o])!==c;o++)e[n]=t[n];e._properties=e._properties.concat(r)}var i={general:{properties:"type altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which path".split(" "),process:function(e,t){var r;if(e.originalEvent=t,e.isDefaultPrevented=t.defaultPrevented?!0:!1,e.isPropagationStopped=t.cancelBubble?!0:!1,e.metaKey=t.metaKey&&t.metaKey!==!1?!0:!1,e.target||(e.target=t.srcElement||a),3===e.target.nodeType&&(e.target=e.target.parentNode),!e.path){e.path=[],r=e.target;do e.path.push(r);while(r=r.parentNode);e.path.push(o)}}},mouse:{regex:new RegExp("^(?:mouse|pointer|contextmenu|touch|click|dblclick|drag|drop)"),properties:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement dataTransfer".split(" "),process:function(e,t){var r,n,o;n=t.fromElement,o=t.button,null===e.pageX&&null!==t.clientX&&(r=e.target.ownerDocument||a,r=r.documentElement||r.body,e.pageX=t.clientX+(r.scrollLeft||0)-(r.clientLeft||0),e.pageY=t.clientY+(r.scrollTop||0)-(r.clientTop||0)),!e.relatedTarget&&n&&(e.relatedTarget=n===e.target?t.toElement:n),e.which||o===c||(e.which=1&o?1:2&o?3:4&o?2:0)}},key:{regex:new RegExp("^(?:key)"),properties:"char charCode key keyCode".split(" "),process:function(e,t){null===e.which&&(e.which=null!==t.charCode?t.charCode:t.keyCode)}}};return e.base.extend({add:function(e,t){return e&&t&&i[e]&&(i[e]=t),this},get:function(e){return e&&i[e]?i[e]:null},process:function(e,t){var r,n,o;for(r in i)n=i[r],o=!n.regex||n.regex.test(t.type),o&&(n.properties&&l(e,t,n.properties),n.process&&n.process(e,t),n.delegate&&(e.delegate=n.delegate))}})});