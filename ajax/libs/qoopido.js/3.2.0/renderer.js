(function(t){window.qoopido.registerSingleton("renderer",t,["./emitter","./support","./dom/element"])})(function(t,e,n,r,o,i){"use strict";function l(t){return o.setTimeout(t,x)}function u(){var t=this;i[w]?p&&(a=(new Date).getTime(),t.paused=!0,_(p),p=null,t.emit("suspend")):p||(t.paused=!1,a&&(c=(new Date).getTime()-a,h+=c,f+=c,t.emit("resume",(new Date).getTime()-c)),t._tick())}var s,a,c,p,f,d,h,g,m=t.support,y=t["dom/element"].create(i),v=o[m.getMethod("requestAnimationFrame")]||l,_=o[m.getMethod("cancelAnimationFrame")]||clearTimeout,w=m.getProperty("hidden",i),b=60,x=1e3/b,q=0;return s=t.emitter.extend({framerate:0,ratio:1,paused:!1,_tick:null,_constructor:function(){var t=this;f=h=(new Date).getTime(),t._tick=function(){t.paused===!1&&(d=(new Date).getTime(),g=d-f,t.ratio=(d-h)/x,t.framerate=b/t.ratio,g>=1e3&&(f=d,q=0),h=d,q+=1,t.emit("tick",t.framerate,t.ratio),p=v(t._tick))},y.on("".concat("visibilitychange ",m.getPrefix()[0],"visibilitychange"),function(){u.call(t)}),u.call(t)}})});