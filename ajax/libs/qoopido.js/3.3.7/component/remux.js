/*!
* Qoopido.js library v3.3.7, 2014-5-26
* https://github.com/dlueth/qoopido.js
* (c) 2014 Dirk Lueth
* Dual licensed under MIT and GPL
*/
!function(t){var e=["../emitter","../dom/element"];window.getComputedStyle||e.push("../polyfill/window/getcomputedstyle"),window.qoopido.registerSingleton("component/remux",t,e)}(function(t,e,n,o,l,a){"use strict";function i(t,e){var n=this;return d.fontsize=t||parseInt(p(s).getPropertyValue("font-size"),10),d.layout=e||p(s,":after").getPropertyValue("content")||null,null!==d.layout&&(d.layout=d.layout.replace(m,"")),null===d.layout||d.fontsize===y.fontsize&&d.layout===y.layout||(y.fontsize=d.fontsize,y.layout=d.layout,d.ratio.device=l.devicePixelRatio||1,d.ratio.fontsize=d.fontsize/c,d.ratio.total=d.ratio.device*d.ratio.fontsize,n.emit("statechange",d)),n}var r,u,s=a.getElementsByTagName("html")[0],c=16,d={fontsize:null,layout:null,ratio:{}},y={fontsize:null,layout:null},f=null,m=new RegExp("[\"']","g"),p=l.getComputedStyle||t["polyfill/window/getcomputedstyle"];return r=t.emitter.extend({_constructor:function(){var e=this,n=parseInt(s.getAttribute("data-base"),10),o=function(){null!==f&&l.clearTimeout(f),f=l.setTimeout(function(){i.call(e)},20)};r._parent._constructor.call(e),isNaN(n)===!1&&(c=n),u=a.createElement("style"),u.type="text/css","undefined"!=typeof u.sheet&&u.appendChild(a.createTextNode("")),a.getElementsByTagName("head")[0].appendChild(u),t["dom/element"].create(l).on("resize orientationchange",o),i.call(e)},getState:function(){return d},getLayout:function(){return d.layout},forceLayout:function(t,e){var n=this;return i.call(n,t,e),n},addLayout:function(t,e){var n,o,l,r,s,d,y=this;arguments.length>1?(n={},n[t]=e):n=arguments[0];for(o in n)for(l=n[o],r=l.min;r<=l.max;r++)s=Math.round(l.width*(r/c)),d="@media screen and (min-width: "+s+"px) { html { font-size: "+r+'px; } html:after { content: "'+o+'"; display: none; } }',u.styleSheet&&u.styleSheet.insertRule?u.styleSheet.insertRule(d,u.styleSheet.cssRules.length):u.sheet&&u.appendChild(a.createTextNode(d));return i.call(y),y}})});