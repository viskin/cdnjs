/*!
* Qoopido.js library v3.2.3, 2014-0-13
* https://github.com/dlueth/qoopido.js
* (c) 2014 Dirk Lueth
* Dual licensed under MIT and GPL
*/
!function(t){window.qoopido.registerSingleton("component/remux",t,["../emitter"])}(function(t,e,n,o,a,i){"use strict";function r(){var t=this;return d.fontsize=parseInt(a.getComputedStyle(u).getPropertyValue("font-size"),10),d.layout=a.getComputedStyle(u,":after").getPropertyValue("content")||null,(d.fontsize!==f.fontsize||d.layout!==f.layout)&&(f.fontsize=d.fontsize,f.layout=d.layout,d.ratio.device=a.devicePixelRatio||1,d.ratio.fontsize=d.fontsize/c,d.ratio.total=d.ratio.device*d.ratio.fontsize,t.emit("statechange",d)),t}var l,s,u=i.getElementsByTagName("html")[0],c=16,d={fontsize:null,layout:null,ratio:{}},f={fontsize:null,layout:null},m=null;return l=t.emitter.extend({_constructor:function(){var t=this,e=parseInt(u.getAttribute("data-base"),10),n=function(){null!==m&&a.clearTimeout(m),m=a.setTimeout(function(){r.call(t)},20)};l._parent._constructor.call(t),isNaN(e)===!1&&(c=e),s=i.createElement("style"),s.type="text/css",i.getElementsByTagName("head")[0].appendChild(s),a.addEventListener("resize",n,!1),a.addEventListener("orientationchange",n,!1),r.call(t)},getState:function(){return d},addLayout:function(t,e){var n,o,a,l,u,d,f=this;arguments.length>1?(n={},n[t]=e):n=arguments[0];for(o in n)for(a=n[o],l=a.min;l<=a.max;l++)u=Math.round(a.width*(l/c)),d="@media screen and (min-width: "+u+"px) { html { font-size: "+l+'px; } html:after { content: "'+o+'"; display: none; } }',s.styleSheet?s.styleSheet.cssText+=d:s.appendChild(i.createTextNode(d));return r.call(f),f}})});