(function(t){window.qoopido.register("emitter",t,["./base"])})(function(t,e,n,r,i,o,a){"use strict";function l(t,e){var n=e.charAt(0).toUpperCase()+e.slice(1);return t._mapped[e]=t[e],function(){var r,i=Array.prototype.slice.call(arguments);return t.emit.apply(t,["pre"+n,i]),r=t._mapped[e].apply(t,i),t.emit.apply(t,["post"+n,i,r]),r}}var s=/^(_|extend$|create$|on$|one$|off$|emit$|get.+)/;return t.base.extend({_mapped:null,_listener:{},_constructor:function(){var t,e=this;e._mapped={};for(t in e)"function"==typeof e[t]&&s.test(t)===!1&&(e[t]=l(e,t))},on:function(t,e){var n,r,i=this;for(t=t.split(" "),n=0;(r=t[n])!==a;n++)(i._listener[r]=i._listener[r]||[]).push(e);return i},one:function(t,e,n){n=n!==!1;var r=this;return r.on(t,function i(o){r.off(n===!0?o:t,i),e.apply(this,arguments)}),r},off:function(t,e){var n,r,i,o,l=this;if(t)for(t=t.split(" "),n=0;(r=t[n])!==a;n++)if(l._listener[r]=l._listener[r]||[],e)for(i=0;(o=l._listener[r][i])!==a;i++)o===e&&(l._listener[r].splice(i,1),i--);else l._listener[r].length=0;else for(r in l._listener)l._listener[r].length=0;return l},emit:function(t){var e,n,r=this;if(t!==a)for(r._listener[t]=r._listener[t]||[],e=0;(n=r._listener[t][e])!==a;e++)n.apply(r,arguments);return r}})});