"use strict";angular.module("colorpicker.module",[]).factory("colorpicker.helpers",function(){return{prepareValues:function(b){var a="hex";if(b){a=b}return{name:a,transform:"to"+(a==="hex"?a.charAt(0).toUpperCase()+a.slice(1):a.length>3?a.toUpperCase().slice(0,-1):a.toUpperCase())}},updateView:function(a,b){if(!b){b=""}a.val(b);a.data("colorpicker").color.setColor(b)}}}).directive("colorpicker",["colorpicker.helpers",function(a){return{require:"?ngModel",restrict:"A",link:function(d,c,b,f){var e=a.prepareValues(b.colorpicker);c.colorpicker({format:e.name});if(!f){return}c.colorpicker().on("changeColor",function(g){c.val(c.data("colorpicker").format(g.color[e.transform]()));d.$apply(f.$setViewValue(c.data("colorpicker").format(g.color[e.transform]())))});f.$render=function(){a.updateView(c,f.$viewValue)}}}}]).directive("colorpicker",["colorpicker.helpers",function(a){return{require:"?ngModel",restrict:"E",replace:true,transclude:false,scope:{componentPicker:"=ngModel",inputName:"@inputName",inputClass:"@inputClass",colorFormat:"@colorFormat"},template:'<div class="input-append color" data-color="rgb(0, 0, 0)" data-color-format=""><input type="text" class="{{ inputClass }}" name="{{ inputName }}" ng-model="componentPicker" value="" /><span class="add-on"><i style="background-color: {{componentPicker}}"></i></span></div>',link:function(e,d,b,g){var f=a.prepareValues(b.colorFormat);d.colorpicker();if(!g){return}var c=angular.element(d.children()[0]);d.colorpicker().on("changeColor",function(h){c.val(d.data("colorpicker").format(h.color[f.transform]()));e.$parent.$apply(g.$setViewValue(d.data("colorpicker").format(h.color[f.transform]())))});g.$render=function(){a.updateView(d,g.$viewValue)}}}}]);