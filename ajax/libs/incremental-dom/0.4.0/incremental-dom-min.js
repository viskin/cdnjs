/**
 * @license
 * Copyright 2015 The Incremental DOM Authors. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS-IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.IncrementalDOM=e.IncrementalDOM||{})}(this,function(e){"use strict";function t(e,t){this.attrs=a(),this.attrsArr=[],this.newAttrs=a(),this.key=t,this.keyMap=null,this.keyMapValid=!0,this.nodeName=e,this.text=null}function n(){this.created=m.nodesCreated&&[],this.deleted=m.nodesDeleted&&[]}var r=Object.prototype.hasOwnProperty,l=Object.create,o=function(e,t){return r.call(e,t)},a=function(){return l(null)},u=function(e,n,r){var i=new t(n,r);return e.__incrementalDOMData=i,i},f=function(e){var t=e.__incrementalDOMData;if(!t){var n=e.nodeName.toLowerCase(),r=null;e instanceof Element&&(r=e.getAttribute("key")),t=u(e,n,r)}return t},c=function(e,t){return"svg"===e?"http://www.w3.org/2000/svg":"foreignObject"===f(t).nodeName?null:t.namespaceURI},d=function(e,t,n,r){var i=c(n,t),l=void 0;return l=i?e.createElementNS(i,n):e.createElement(n),u(l,n,r),l},s=function(e){var t=e.createTextNode("");return u(t,"#text",null),t},p=function(e){for(var t=a(),n=e.firstElementChild;n;){var r=f(n).key;r&&(t[r]=n),n=n.nextElementSibling}return t},h=function(e){var t=f(e);return t.keyMap||(t.keyMap=p(e)),t.keyMap},v=function(e,t){return t?h(e)[t]:null},y=function(e,t,n){h(e)[t]=n},m={nodesCreated:null,nodesDeleted:null};n.prototype.markCreated=function(e){this.created&&this.created.push(e)},n.prototype.markDeleted=function(e){this.deleted&&this.deleted.push(e)},n.prototype.notifyChanges=function(){this.created&&this.created.length>0&&m.nodesCreated(this.created),this.deleted&&this.deleted.length>0&&m.nodesDeleted(this.deleted)};var k={"default":"__default",placeholder:"__placeholder"},g=null,x=void 0,w=void 0,C=void 0,b=void 0,M=function(e,t,r){var i=g,l=C,o=b,a=x,u=w;g=new n,C=e,b=e.ownerDocument,t(r),g.notifyChanges(),g=i,C=l,b=o,x=a,w=u},O=function(e,t,n){M(e,function(n){x=e,w=e.parentNode,E(),t(n),S()},n)},D=function(e,t,n){M(e,function(n){x={nextSibling:e},w=e.parentNode,t(n)},n)},N=function(e,t){var n=f(x);return e===n.nodeName&&t==n.key},A=function(e,t,n,r){if(!x||!N(e,t)){var i=void 0;t&&(i=v(w,t)),i||(i="#text"===e?s(b):d(b,w,e,t),n&&n(i,r),t&&y(w,t,i),g.markCreated(i)),x&&f(x).key?(w.replaceChild(i,x),f(w).keyMapValid=!1):w.insertBefore(i,x),x=i}},_=function(){var e=w,t=f(e),n=t.keyMap,r=t.keyMapValid,i=e.lastChild,l=void 0;if(!(i===x&&r||t.attrs[k.placeholder]&&e!==C)){for(;i!==x;)e.removeChild(i),g.markDeleted(i),l=f(i).key,l&&delete n[l],i=e.lastChild;if(!r){for(l in n)i=n[l],i.parentNode!==e&&(g.markDeleted(i),delete n[l]);t.keyMapValid=!0}}},E=function(){w=x,x=null},I=function(){x=x?x.nextSibling:w.firstChild},S=function(){_(),x=w,w=w.parentNode},j=function(e,t,n,r){return I(),A(e,t,n,r),E(),w},V=function(){return S(),x},P=function(){return I(),A("#text",null,null),x},T=function(){return w},L=function(){x=w.lastChild},B=function(e){return 0===e.lastIndexOf("xml:",0)?"http://www.w3.org/XML/1998/namespace":0===e.lastIndexOf("xlink:",0)?"http://www.w3.org/1999/xlink":void 0},R=function(e,t,n){if(null==n)e.removeAttribute(t);else{var r=B(t);r?e.setAttributeNS(r,t,n):e.setAttribute(t,n)}},U=function(e,t,n){e[t]=n},X=function(e,t,n){if("string"==typeof n)e.style.cssText=n;else{e.style.cssText="";var r=e.style,i=n;for(var l in i)o(i,l)&&(r[l]=i[l])}},q=function(e,t,n){var r=typeof n;"object"===r||"function"===r?U(e,t,n):R(e,t,n)},z=function(e,t,n){var r=f(e),i=r.attrs;if(i[t]!==n){var l=F[t]||F[k["default"]];l(e,t,n),i[t]=n}},F=a();F[k["default"]]=q,F[k.placeholder]=function(){},F.style=X;var G=3,H=[],J=function(e,t){if(t)for(i=0;i<t.length;i+=2)z(e,t[i],t[i+1])},K=function(e,t,n){for(var r=j(e,t,J,n),i=f(r),l=i.attrsArr,o=i.newAttrs,a=!1,u=G,c=0;u<arguments.length;u+=1,c+=1)if(l[c]!==arguments[u]){a=!0;break}for(;u<arguments.length;u+=1,c+=1)l[c]=arguments[u];if(c<l.length&&(a=!0,l.length=c),a){for(u=G;u<arguments.length;u+=2)o[arguments[u]]=arguments[u+1];for(var d in o)z(r,d,o[d]),o[d]=void 0}return r},Q=function(e,t,n){H[0]=e,H[1]=t,H[2]=n},W=function(e,t){H.push(e,t)},Y=function(){var e=K.apply(null,H);return H.length=0,e},Z=function(){var e=V();return e},$=function(){var e=K.apply(null,arguments);return Z.apply(null,arguments),e},ee=function(){return K.apply(null,arguments),L(),Z.apply(null,arguments)},te=function(e){var t=P(),n=f(t);if(n.text!==e){n.text=e;for(var r=e,i=1;i<arguments.length;i+=1){var l=arguments[i];r=l(r)}t.data=r}return t};e.patch=O,e.patchInner=O,e.patchOuter=D,e.currentElement=T,e.skip=L,e.elementVoid=$,e.elementOpenStart=Q,e.elementOpenEnd=Y,e.elementOpen=K,e.elementClose=Z,e.elementPlaceholder=ee,e.text=te,e.attr=W,e.symbols=k,e.attributes=F,e.applyAttr=R,e.applyProp=U,e.notifications=m});

//# sourceMappingURL=incremental-dom-min.js.map
