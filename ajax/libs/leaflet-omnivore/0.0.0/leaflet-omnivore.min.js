!function(n){if("object"==typeof exports)module.exports=n();else if("function"==typeof define&&define.amd)define(n);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.omnivore=n()}}(function(){var n;return function e(n,t,r){function o(a,u){if(!t[a]){if(!n[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+a+"'")}var c=t[a]={exports:{}};n[a][0].call(c.exports,function(e){var t=n[a][1][e];return o(t?t:e)},c,c.exports,e,n,t,r)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(n,e,t){function r(n,e){var t=L.geoJson();return g(n,function(n,e){return n?t.fire("error",{error:n}):(t.addData(JSON.parse(e.responseText)),void t.fire("ready"))}),t}function o(n,e){function t(n,e){return n?r.fire("error",{error:n}):(r.addData(i(e.responseText)),void r.fire("ready"))}var r=L.geoJson();return g(n,t),r}function i(n){var e="string"==typeof n?JSON.parse(n):n,t=[];for(var r in e.objects){var o=m.feature(e,e.objects[r]);t=o.features?t.concat(o.features):t.concat([o])}return t}function a(n,e){function t(n,t){function o(){i=!0}var i;return n?r.fire("error",{error:n}):(r.on("error",o),u(t.responseText,e,r),r.off("error",o),void(i||r.fire("ready")))}var r=L.geoJson();return g(n,t),r}function u(n,e,t){function r(n,e){return n?t.fire("error",{error:n}):void t.addData(e)}return t=t||L.geoJson(),e=e||{},v.csv2geojson(n,e,r),t}function s(n,e){function t(n,t){if(n)return r.fire("error",{error:n});var o=h(t);return o?(c(o,e,r),void r.fire("ready")):r.fire("error",{error:"Could not parse GPX"})}var r=L.geoJson();return g(n,t),r}function c(n,e,t){t=t||L.geoJson();var r=w.gpx(n);return t.addData(r),t}function f(n,e){function t(n,t){if(n)return r.fire("error",{error:n});var o=h(t);return o?(l(o,e,r),void r.fire("ready")):r.fire("error",{error:"Could not parse KML"})}var r=L.geoJson();return g(n,t),r}function l(n,e,t){t=t||L.geoJson();var r=w.kml(n);return t.addData(r),t}function p(n,e){function t(n,t){return n?r.fire("error",{error:n}):(d(t.responseText,e,r),void r.fire("ready"))}var r=L.geoJson();return g(n,t),r}function d(n,e,t){t=t||L.geoJson();var r=y(n);return t.addData(r),t}function h(n){try{return n.responseXML||(new DOMParser).parseFromString(n.responseText,"text/xml")}catch(e){return null}}var g=n("corslite"),v=n("csv2geojson"),y=n("wellknown"),m=n("topojson"),w=n("togeojson");e.exports.geojson=r,e.exports.topojson=o,e.exports.topojson.parse=i,e.exports.csv=a,e.exports.csv.parse=u,e.exports.gpx=s,e.exports.gpx.parse=c,e.exports.kml=f,e.exports.kml.parse=l,e.exports.wkt=p,e.exports.wkt.parse=d},{corslite:5,csv2geojson:6,togeojson:9,topojson:10,wellknown:38}],2:[function(n,e,t){},{}],3:[function(n,e,t){e.exports=n(2)},{}],4:[function(n,e,t){var r=e.exports={};r.nextTick=function(){var n="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(n)return function(n){return window.setImmediate(n)};if(e){var t=[];return window.addEventListener("message",function(n){var e=n.source;if((e===window||null===e)&&"process-tick"===n.data&&(n.stopPropagation(),t.length>0)){var r=t.shift();r()}},!0),function(n){t.push(n),window.postMessage("process-tick","*")}}return function(n){setTimeout(n,0)}}(),r.title="browser",r.browser=!0,r.env={},r.argv=[],r.binding=function(n){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(n){throw new Error("process.chdir is not supported")}},{}],5:[function(n,e,t){function r(n,e,t){function r(n){return n>=200&&300>n||304===n}function o(){void 0===u.status||r(u.status)?e.call(u,null,u):e.call(u,u,null)}var i=!1;if("undefined"==typeof window.XMLHttpRequest)return e(Error("Browser not supported"));if("undefined"==typeof t){var a=n.match(/^\s*https?:\/\/[^\/]*/);t=a&&a[0]!==location.protocol+"//"+location.domain+(location.port?":"+location.port:"")}var u;if(!t||"object"!=typeof window.XDomainRequest&&"function"!=typeof window.XDomainRequest)u=new window.XMLHttpRequest;else{u=new window.XDomainRequest;var s=e;e=function(){if(i)s.apply(this,arguments);else{var n=this,e=arguments;setTimeout(function(){s.apply(n,e)},0)}}}return"onload"in u?u.onload=o:u.onreadystatechange=function(){4===u.readyState&&o()},u.onerror=function(n){e.call(this,n||!0,null),e=function(){}},u.onprogress=function(){},u.ontimeout=function(n){e.call(this,n,null),e=function(){}},u.onabort=function(n){e.call(this,n,null),e=function(){}},u.open("GET",n,!0),u.send(null),i=!0,u}"undefined"!=typeof e&&(e.exports=r)},{}],6:[function(n,e,t){function r(n){return!!n.match(/(Lat)(itude)?/gi)}function o(n){return!!n.match(/(L)(on|ng)(gitude)?/i)}function i(n){return"object"==typeof n?Object.keys(n).length:0}function a(n){var e=[",",";","	","|"],t=[];return e.forEach(function(e){var r=l(e).parse(n);if(r.length>=1){for(var o=i(r[0]),a=0;a<r.length;a++)if(i(r[a])!==o)return;t.push({delimiter:e,arity:Object.keys(r[0]).length})}}),t.length?t.sort(function(n,e){return e.arity-n.arity})[0].delimiter:null}function u(n){var e=a(n);return e?l(e).parse(n):null}function s(n,e,t){t||(t=e,e={}),e.delimiter=e.delimiter||",";var i=e.latfield||"",u=e.lonfield||"",s=[],c={type:"FeatureCollection",features:s};if("auto"===e.delimiter&&"string"==typeof n&&(e.delimiter=a(n),!e.delimiter))return t({type:"Error",message:"Could not autodetect delimiter"});var f="string"==typeof n?l(e.delimiter).parse(n):n;if(!f.length)return t(null,c);if(!i||!u){for(var d in f[0])!i&&r(d)&&(i=d),!u&&o(d)&&(u=d);if(!i||!u){var h=[];for(var g in f[0])h.push(g);return t({type:"Error",message:"Latitude and longitude fields not present",data:f,fields:h})}}for(var v=[],y=0;y<f.length;y++)if(void 0!==f[y][u]&&void 0!==f[y][u]){var m,w,x,M=f[y][u],b=f[y][i];x=p(M,"EW"),x&&(M=x),x=p(b,"NS"),x&&(b=x),m=parseFloat(M),w=parseFloat(b),isNaN(m)||isNaN(w)?v.push({message:"A row contained an invalid value for latitude or longitude",row:f[y]}):(e.includeLatLon||(delete f[y][u],delete f[y][i]),s.push({type:"Feature",properties:f[y],geometry:{type:"Point",coordinates:[parseFloat(m),parseFloat(w)]}}))}t(v.length?v:null,c)}function c(n){for(var e=n.features,t={type:"Feature",geometry:{type:"LineString",coordinates:[]}},r=0;r<e.length;r++)t.geometry.coordinates.push(e[r].geometry.coordinates);return t.properties=e[0].properties,{type:"FeatureCollection",features:[t]}}function f(n){for(var e=n.features,t={type:"Feature",geometry:{type:"Polygon",coordinates:[[]]}},r=0;r<e.length;r++)t.geometry.coordinates[0].push(e[r].geometry.coordinates);return t.properties=e[0].properties,{type:"FeatureCollection",features:[t]}}var l=n("dsv"),p=n("sexagesimal");e.exports={isLon:o,isLat:r,csv:l.csv.parse,tsv:l.tsv.parse,dsv:l,auto:u,csv2geojson:s,toLine:c,toPolygon:f}},{dsv:7,sexagesimal:8}],7:[function(n,e,t){n("fs");e.exports=new Function('dsv.version = "0.0.3";\n\ndsv.tsv = dsv("\\t");\ndsv.csv = dsv(",");\n\nfunction dsv(delimiter) {\n  var dsv = {},\n      reFormat = new RegExp("[\\"" + delimiter + "\\n]"),\n      delimiterCode = delimiter.charCodeAt(0);\n\n  dsv.parse = function(text, f) {\n    var o;\n    return dsv.parseRows(text, function(row, i) {\n      if (o) return o(row, i - 1);\n      var a = new Function("d", "return {" + row.map(function(name, i) {\n        return JSON.stringify(name) + ": d[" + i + "]";\n      }).join(",") + "}");\n      o = f ? function(row, i) { return f(a(row), i); } : a;\n    });\n  };\n\n  dsv.parseRows = function(text, f) {\n    var EOL = {}, // sentinel value for end-of-line\n        EOF = {}, // sentinel value for end-of-file\n        rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // the current line number\n        t, // the current token\n        eol; // is the current token followed by EOL?\n\n    function token() {\n      if (I >= N) return EOF; // special case: end of file\n      if (eol) return eol = false, EOL; // special case: end of line\n\n      // special case: quotes\n      var j = I;\n      if (text.charCodeAt(j) === 34) {\n        var i = j;\n        while (i++ < N) {\n          if (text.charCodeAt(i) === 34) {\n            if (text.charCodeAt(i + 1) !== 34) break;\n            ++i;\n          }\n        }\n        I = i + 2;\n        var c = text.charCodeAt(i + 1);\n        if (c === 13) {\n          eol = true;\n          if (text.charCodeAt(i + 2) === 10) ++I;\n        } else if (c === 10) {\n          eol = true;\n        }\n        return text.substring(j + 1, i).replace(/""/g, "\\"");\n      }\n\n      // common case: find next delimiter or newline\n      while (I < N) {\n        var c = text.charCodeAt(I++), k = 1;\n        if (c === 10) eol = true; // \\n\n        else if (c === 13) { eol = true; if (text.charCodeAt(I) === 10) ++I, ++k; } // \\r|\\r\\n\n        else if (c !== delimiterCode) continue;\n        return text.substring(j, I - k);\n      }\n\n      // special case: last token before EOF\n      return text.substring(j);\n    }\n\n    while ((t = token()) !== EOF) {\n      var a = [];\n      while (t !== EOL && t !== EOF) {\n        a.push(t);\n        t = token();\n      }\n      if (f && !(a = f(a, n++))) continue;\n      rows.push(a);\n    }\n\n    return rows;\n  };\n\n  dsv.format = function(rows) {\n    if (Array.isArray(rows[0])) return dsv.formatRows(rows); // deprecated; use formatRows\n    var fieldSet = {}, fields = [];\n\n    // Compute unique fields in order of discovery.\n    rows.forEach(function(row) {\n      for (var field in row) {\n        if (!(field in fieldSet)) {\n          fields.push(fieldSet[field] = field);\n        }\n      }\n    });\n\n    return [fields.map(formatValue).join(delimiter)].concat(rows.map(function(row) {\n      return fields.map(function(field) {\n        return formatValue(row[field]);\n      }).join(delimiter);\n    })).join("\\n");\n  };\n\n  dsv.formatRows = function(rows) {\n    return rows.map(formatRow).join("\\n");\n  };\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(text) {\n    return reFormat.test(text) ? "\\"" + text.replace(/\\"/g, "\\"\\"") + "\\"" : text;\n  }\n\n  return dsv;\n}\n;return dsv')()},{fs:2}],8:[function(n,e,t){e.exports=function(n,e){if(e||(e="NSEW"),"string"!=typeof n)return null;var t=/^([0-9.]+)°? *(?:([0-9.]+)['’′‘] *)?(?:([0-9.]+)(?:''|"|”|″) *)?([NSEW])?/,r=n.match(t);return r?r[4]&&-1===e.indexOf(r[4])?null:((r[1]?parseFloat(r[1]):0)+(r[2]?parseFloat(r[2])/60:0)+(r[3]?parseFloat(r[3])/3600:0))*(r[4]&&"S"===r[4]||"W"===r[4]?-1:1):null}},{}],9:[function(n,e,t){(function(r){toGeoJSON=function(){"use strict";function e(n){if(!n||!n.length)return 0;for(var e=0,t=0;e<n.length;e++)t=(t<<5)-t+n.charCodeAt(e)|0;return t}function o(n,e){return n.getElementsByTagName(e)}function i(n,e){return n.getAttribute(e)}function a(n,e){return parseFloat(i(n,e))}function u(n,e){var t=o(n,e);return t.length?t[0]:null}function s(n){return n.normalize&&n.normalize(),n}function c(n){for(var e=0,t=[];e<n.length;e++)t[e]=parseFloat(n[e]);return t}function f(n){var e={};for(var t in n)n[t]&&(e[t]=n[t]);return e}function l(n){return n&&s(n),n&&n.firstChild&&n.firstChild.nodeValue}function p(n){return c(n.replace(m,"").split(","))}function d(n){for(var e=n.replace(w,"").split(x),t=[],r=0;r<e.length;r++)t.push(p(e[r]));return t}function h(n){var e=[a(n,"lon"),a(n,"lat")],t=u(n,"ele");return t&&e.push(parseFloat(l(t))),e}function g(){return{type:"FeatureCollection",features:[]}}function v(n){return y.serializeToString(n)}var y,m=/\s*/g,w=/^\s*|\s*$/g,x=/\s+/;"undefined"!=typeof XMLSerializer?y=new XMLSerializer:"object"!=typeof t||"object"!=typeof r||r.browser||(y=new(n("xmldom").XMLSerializer));var M={kml:function(n,t){function r(n){return c(n.split(" "))}function a(n){for(var e=o(n,"coord","gx"),t=[],i=0;i<e.length;i++)t.push(r(l(e[i])));return t}function s(n){var e,t,r,i,c,f=[];if(u(n,"MultiGeometry"))return s(u(n,"MultiGeometry"));if(u(n,"MultiTrack"))return s(u(n,"MultiTrack"));for(r=0;r<m.length;r++)if(t=o(n,m[r]))for(i=0;i<t.length;i++)if(e=t[i],"Point"==m[r])f.push({type:"Point",coordinates:p(l(u(e,"coordinates")))});else if("LineString"==m[r])f.push({type:"LineString",coordinates:d(l(u(e,"coordinates")))});else if("Polygon"==m[r]){var h=o(e,"LinearRing"),g=[];for(c=0;c<h.length;c++)g.push(d(l(u(h[c],"coordinates"))));f.push({type:"Polygon",coordinates:g})}else"Track"==m[r]&&f.push({type:"LineString",coordinates:a(e)});return f}function f(n){var e,t=s(n),r={},i=l(u(n,"name")),a=l(u(n,"styleUrl")),c=l(u(n,"description")),f=u(n,"TimeSpan"),p=u(n,"ExtendedData");if(!t.length)return[];if(i&&(r.name=i),a&&y[a]&&(r.styleUrl=a,r.styleHash=y[a]),c&&(r.description=c),f){var d=l(u(f,"begin")),h=l(u(f,"end"));r.timespan={begin:d,end:h}}if(p){var g=o(p,"Data"),v=o(p,"SimpleData");for(e=0;e<g.length;e++)r[g[e].getAttribute("name")]=l(u(g[e],"value"));for(e=0;e<v.length;e++)r[v[e].getAttribute("name")]=l(v[e])}return[{type:"Feature",geometry:1===t.length?t[0]:{type:"GeometryCollection",geometries:t},properties:r}]}t=t||{};for(var h=g(),y={},m=["Polygon","LineString","Point","Track"],w=o(n,"Placemark"),x=o(n,"Style"),M=0;M<x.length;M++)y["#"+i(x[M],"id")]=e(v(x[M])).toString(16);for(var b=0;b<w.length;b++)h.features=h.features.concat(f(w[b]));return h},gpx:function(n,e){function t(n,e){var t,r=o(n,e),a=[];for(t=0;t<r.length;t++)a.push(h(r[t]));return{type:"Feature",properties:i(n),geometry:{type:"LineString",coordinates:a}}}function r(n){var e=i(n);return e.sym=l(u(n,"sym")),{type:"Feature",properties:e,geometry:{type:"Point",coordinates:h(n)}}}function i(n){var e,t=["name","desc","author","copyright","link","time","keywords"],r={};for(e=0;e<t.length;e++)r[t[e]]=l(u(n,t[e]));return f(r)}var a,s=o(n,"trk"),c=o(n,"rte"),p=o(n,"wpt"),d=g();for(a=0;a<s.length;a++)d.features.push(t(s[a],"trkpt"));for(a=0;a<c.length;a++)d.features.push(t(c[a],"rtept"));for(a=0;a<p.length;a++)d.features.push(r(p[a]));return d}};return M}(),"undefined"!=typeof e&&(e.exports=toGeoJSON)}).call(this,n("/Users/tmcw/src/leaflet-omnivore/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"/Users/tmcw/src/leaflet-omnivore/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":4,xmldom:3}],10:[function(n,e,t){var r=e.exports=n("./topojson");r.topology=n("./lib/topojson/topology"),r.simplify=n("./lib/topojson/simplify"),r.clockwise=n("./lib/topojson/clockwise"),r.filter=n("./lib/topojson/filter"),r.prune=n("./lib/topojson/prune"),r.bind=n("./lib/topojson/bind")},{"./lib/topojson/bind":11,"./lib/topojson/clockwise":14,"./lib/topojson/filter":18,"./lib/topojson/prune":21,"./lib/topojson/simplify":23,"./lib/topojson/topology":26,"./topojson":37}],11:[function(n,e,t){function r(){}var o=n("./type");n("../../");e.exports=function(n,e){var t=o({geometry:function(n){var t=n.properties,r=e[n.id];if(r)if(t)for(var o in r)t[o]=r[o];else for(var o in r){n.properties=r;break}this.defaults.geometry.call(this,n)},LineString:r,MultiLineString:r,Point:r,MultiPoint:r,Polygon:r,MultiPolygon:r});for(var i in n.objects)t.object(n.objects[i])}},{"../../":10,"./type":36}],12:[function(n,e,t){e.exports=function(n){function e(n){n&&c.hasOwnProperty(n.type)&&c[n.type](n)}function t(n){var e=n[0],t=n[1];i>e&&(i=e),e>u&&(u=e),a>t&&(a=t),t>s&&(s=t)}function r(n){n.forEach(t)}function o(n){n.forEach(r)}var i=1/0,a=1/0,u=-(1/0),s=-(1/0),c={GeometryCollection:function(n){n.geometries.forEach(e)},Point:function(n){t(n.coordinates)},MultiPoint:function(n){n.coordinates.forEach(t)},LineString:function(n){r(n.coordinates)},MultiLineString:function(n){n.coordinates.forEach(r)},Polygon:function(n){n.coordinates.forEach(r)},MultiPolygon:function(n){n.coordinates.forEach(o)}};for(var f in n)e(n[f]);return[i,a,u,s]}},{}],13:[function(n,e,t){function r(n){return n.toString()}function o(n){for(var e=0,t=n.length,r=n[t-1][1]*n[0][0]-n[t-1][0]*n[0][1];++e<t;)r+=n[e-1][1]*n[e][0]-n[e-1][0]*n[e][1];return.5*-r}function i(n){return Math.abs((n[0][0]-n[2][0])*(n[1][1]-n[0][1])-(n[0][0]-n[1][0])*(n[2][1]-n[0][1]))}function a(n,e,t,r){var o=n-t,i=e-r;return Math.sqrt(o*o+i*i)}t.name="cartesian",t.formatDistance=r,t.ringArea=o,t.absoluteArea=Math.abs,t.triangleArea=i,t.distance=a},{}],14:[function(n,e,t){function r(n,e){function t(n){n.reverse()}var r=null;e&&"coordinate-system"in e&&(r=s[e["coordinate-system"]]);var o=i(r.ringArea,t);u({LineString:a,MultiLineString:a,Point:a,MultiPoint:a,Polygon:function(n){o(n.coordinates)},MultiPolygon:function(n){n.coordinates.forEach(o)}}).object(n)}function o(n,e){function t(e){return o.ringArea(c.feature(n,{type:"Polygon",arcs:[e]}).geometry.coordinates[0])}function r(n){var e=-1,t=n.length;for(n.reverse();++e<t;)n[e]=~n[e]}var o=null;e&&"coordinate-system"in e&&(o=s[e["coordinate-system"]]);var f=i(t,r),l=u({LineString:a,MultiLineString:a,Point:a,MultiPoint:a,Polygon:function(n){f(n.arcs)},MultiPolygon:function(n){n.arcs.forEach(f)}});for(var p in n.objects)l.object(n.objects[p])}function i(n,e){return function(t){if(r=t.length){for(var r,o,i,a,u=new Array(r),s=-(1/0),c=0;r>c;++c){var i=Math.abs(u[c]=n(t[c]));i>s&&(s=i,o=c)}o&&(a=t[o],t[o]=t[0],t[0]=a,a=u[o],u[o]=u[0],u[0]=a),u[0]<0&&e(t[0]);for(var c=1;r>c;++c)u[c]>0&&e(t[c])}}}function a(){}var u=n("./type"),s=n("./coordinate-systems"),c=n("../../");e.exports=function(n,e){"Topology"===n.type?o(n,e):r(n,e)}},{"../../":10,"./coordinate-systems":16,"./type":36}],15:[function(n,e,t){e.exports=function(n,e){function t(n){n&&o.hasOwnProperty(n.type)&&o[n.type](n)}function r(n){var t=e(n);null==t?delete n.id:n.id=t}arguments.length<2&&(e=function(n){return n.id});var o={Feature:r,FeatureCollection:function(n){n.features.forEach(r)}};for(var i in n)t(n[i]);return n}},{}],16:[function(n,e,t){e.exports={cartesian:n("./cartesian"),spherical:n("./spherical")}},{"./cartesian":13,"./spherical":24}],17:[function(n,e,t){e.exports=function(n){for(var e=n.arcs,t=-1,r=e.length;++t<r;)for(var o,i,a=e[t],u=0,s=a.length,c=a[0],f=c[0],l=c[1];++u<s;)c=a[u],o=c[0],i=c[1],a[u]=[o-f,i-l],f=o,l=i;return n}},{}],18:[function(n,e,t){function r(){}var o=n("./type"),i=n("./prune"),a=n("./clockwise"),u=n("./coordinate-systems"),s=n("../../");e.exports=function(n,e){function t(e){var t={type:"Polygon",arcs:[e]},r=s.feature(n,t),o=r.geometry.coordinates[0],i=f.absoluteArea(f.ringArea(o));return i>=c}var c,f=null,l=!0;e&&("coordinate-system"in e&&(f=u[e["coordinate-system"]]),"minimum-area"in e&&(c=+e["minimum-area"]),"force-clockwise"in e&&(l=!!e["force-clockwise"])),l&&a(n,e),c>0||(c=Number.MIN_VALUE);var p=o({LineString:r,MultiLineString:r,Point:r,MultiPoint:r,Polygon:function(n){n.arcs=n.arcs.filter(t),n.arcs.length||(n.type=null,delete n.arcs)},MultiPolygon:function(n){n.arcs=n.arcs.map(function(n){return n.filter(t)}).filter(function(n){return n.length}),n.arcs.length||(n.type=null,delete n.arcs)},GeometryCollection:function(n){this.defaults.GeometryCollection.call(this,n),n.geometries=n.geometries.filter(function(n){return null!=n.type}),n.geometries.length||(n.type=null,delete n.geometries)}});for(var d in n.objects)p.object(n.objects[d]);i(n,e)}},{"../../":10,"./clockwise":14,"./coordinate-systems":16,"./prune":21,"./type":36}],19:[function(n,e,t){e.exports=function(n){function e(n){return(n&&o.hasOwnProperty(n.type)?o[n.type]:r)(n)}function t(n){var e=n.geometry;return null==e?n.type=null:(r(e),n.type=e.type,e.geometries?n.geometries=e.geometries:e.coordinates&&(n.coordinates=e.coordinates)),delete n.geometry,n}function r(n){return n?(i.hasOwnProperty(n.type)&&i[n.type](n),n):{type:null}}var o={Feature:t,FeatureCollection:function(n){return n.type="GeometryCollection",n.geometries=n.features,n.features.forEach(t),delete n.features,n}},i={GeometryCollection:function(n){for(var e=n.geometries,t=-1,o=e.length;++t<o;)e[t]=r(e[t])},MultiPoint:function(n){n.coordinates.length?n.coordinates.length<2&&(n.type="Point",n.coordinates=n.coordinates[0]):(n.type=null,delete n.coordinates)},LineString:function(n){n.coordinates.length||(n.type=null,delete n.coordinates)},MultiLineString:function(n){for(var e=n.coordinates,t=0,r=0,o=e.length;o>t;++t){var i=e[t];i.length&&(e[r++]=i)}r?2>r?(n.type="LineString",n.coordinates=e[0]):n.coordinates.length=r:(n.type=null,delete n.coordinates)},Polygon:function(n){for(var e=n.coordinates,t=0,r=0,o=e.length;o>t;++t){var i=e[t];i.length&&(e[r++]=i)}r?n.coordinates.length=r:(n.type=null,delete n.coordinates)},MultiPolygon:function(n){for(var e=n.coordinates,t=0,r=0,o=e.length;o>t;++t){for(var i=e[t],a=0,u=0,s=i.length;s>a;++a){var c=i[a];c.length&&(i[u++]=c)}u&&(i.length=u,e[r++]=i)}r?2>r?(n.type="Polygon",n.coordinates=e[0]):e.length=r:(n.type=null,delete n.coordinates)}};for(var a in n)n[a]=e(n[a]);return n}},{}],20:[function(n,e,t){e.exports=function(n,e){function t(n){return n?(r.hasOwnProperty(n.type)&&r[n.type](n),n):{type:null}}var r={GeometryCollection:function(n){for(var e=n.geometries,r=-1,o=e.length;++r<o;)e[r]=t(e[r])},Polygon:function(n){for(var t=n.coordinates,r=0,o=0,i=t.length;i>r;++r){var a=t[r];e(a)&&(t[o++]=a)}o?n.coordinates.length=o:(n.type=null,delete n.coordinates)},MultiPolygon:function(n){for(var t=n.coordinates,r=0,o=0,i=t.length;i>r;++r){for(var a=t[r],u=0,s=0,c=a.length;c>u;++u){var f=a[u];e(f)&&(a[s++]=f)}s&&(a.length=s,t[o++]=a)}o?2>o?(n.type="Polygon",n.coordinates=t[0]):t.length=o:(n.type=null,delete n.coordinates)}};for(var o in n)n[o]=t(n[o]);return n}},{}],21:[function(n,e,t){e.exports=function(n,e){function t(n){n&&p.hasOwnProperty(n.type)&&p[n.type](n)}function r(n){for(var e=0,t=0,r=n.length;r>e;++e){var o,i=n[e],a=0>i&&(i=~i,!0),s=u[i];s.length<3&&!s[1][0]&&!s[1][1]||(null==(o=l[i])&&(l[i]=o=f++,c[o]=u[i]),n[t++]=a?~o:o)}!(n.length=t)&&r&&(null==(o=l[i])&&(l[i]=o=f++,c[o]=u[i]),n[0]=a?~o:o)}function o(n){n.forEach(r)}var i=!1,a=n.objects,u=n.arcs,s=u.length,c=n.arcs=[],f=0,l=new Array(u.length);e&&"verbose"in e&&(i=!!e.verbose);var p={GeometryCollection:function(n){n.geometries.forEach(t)},LineString:function(n){r(n.arcs)},MultiLineString:function(n){n.arcs.forEach(r)},Polygon:function(n){n.arcs.forEach(r)},MultiPolygon:function(n){n.arcs.forEach(o)}};for(var d in a)t(a[d]);return i&&console.warn("prune: retained "+f+" / "+s+" arcs ("+Math.round(f/s*100)+"%)"),n}},{}],22:[function(n,e,t){e.exports=function(n,e,t){function r(n){n&&p.hasOwnProperty(n.type)&&p[n.type](n)}function o(n){n[0]=Math.round((n[0]-a)*f),n[1]=Math.round((n[1]-u)*l)}function i(n){for(var e,t,r,o=0,i=1,s=n.length,c=n[0],p=c[0]=Math.round((c[0]-a)*f),d=c[1]=Math.round((c[1]-u)*l);++o<s;)c=n[o],t=Math.round((c[0]-a)*f),r=Math.round((c[1]-u)*l),t===p&&r===d||(e=n[i++],e[0]=p=t,e[1]=d=r);n.length=i}var a=isFinite(e[0])?e[0]:0,u=isFinite(e[1])?e[1]:0,s=isFinite(e[2])?e[2]:0,c=isFinite(e[3])?e[3]:0,f=s-a?(t-1)/(s-a):1,l=c-u?(t-1)/(c-u):1,p={GeometryCollection:function(n){n.geometries.forEach(r)},Point:function(n){o(n.coordinates)},MultiPoint:function(n){n.coordinates.forEach(o)},LineString:function(n){var e=n.coordinates;i(e),e.length<2&&(e[1]=e[0])},MultiLineString:function(n){for(var e=n.coordinates,t=0,r=e.length;r>t;++t){var o=e[t];i(o),o.length<2&&(o[1]=o[0])}},Polygon:function(n){for(var e=n.coordinates,t=0,r=e.length;r>t;++t){var o=e[t];for(i(o);o.length<4;)o.push(o[0])}},MultiPolygon:function(n){for(var e=n.coordinates,t=0,r=e.length;r>t;++t)for(var o=e[t],a=0,u=o.length;u>a;++a){var s=o[a];for(i(s);s.length<4;)s.push(s[0])}}};for(var d in n)r(n[d]);return{scale:[1/f,1/l],translate:[a,u]}}},{}],23:[function(n,e,t){var r=n("../../"),o=n("./coordinate-systems");e.exports=function(n,e){var t,i=0,a=!1,u=null,s=n.arcs.reduce(function(n,e){return n+e.length},0),c=0;if(e&&("minimum-area"in e&&(i=+e["minimum-area"]),"coordinate-system"in e&&(u=o[e["coordinate-system"]]),"retain-proportion"in e&&(t=+e["retain-proportion"]),"verbose"in e&&(a=!!e.verbose)),r.presimplify(n,u.triangleArea),t){var f=[];n.arcs.forEach(function(n){n.forEach(function(n){f.push(n[2])})}),e["minimum-area"]=i=s?f.sort(function(n,e){return e-n})[Math.ceil((s-1)*t)]:0,a&&console.warn("simplification: effective minimum area "+i.toPrecision(3))}return n.arcs.forEach(n.transform?function(n){for(var e,t,r=0,o=0,a=-1,u=-1,s=n.length;++a<s;)e=n[a],e[2]>=i?(t=n[++u],t[0]=e[0]+r,t[1]=e[1]+o,r=o=0):(r+=e[0],o+=e[1]);n.length=++u}:function(n){for(var e,t=-1,r=-1,o=n.length;++t<o;)e=n[t],e[2]>=i&&(n[++r]=e);n.length=++r}),n.arcs.forEach(function(n){for(var e=-1,t=n.length;++e<t;)n[e].length=2;c+=n.length}),a&&console.warn("simplification: retained "+c+" / "+s+" points ("+Math.round(c/s*100)+"%)"),n}},{"../../":10,"./coordinate-systems":16}],24:[function(n,e,t){function r(n){var e=6371*n;return(e>1?e.toFixed(3)+"km":(1e3*e).toPrecision(3)+"m")+" ("+(180*n/Math.PI).toPrecision(3)+"°)"}function o(n){if(!n.length)return 0;for(var e=0,t=n[0],r=t[0]*p,o=t[1]*p/2+l,i=r,a=Math.cos(o),u=Math.sin(o),s=1,c=n.length;c>s;++s){t=n[s],r=t[0]*p,o=t[1]*p/2+l;var d=r-i,h=Math.cos(o),g=Math.sin(o),v=u*g,y=a*h+v*Math.cos(d),m=v*Math.sin(d);e+=Math.atan2(m,y),i=r,a=h,u=g}return 2*(e>f?e-2*f:-f>e?e+2*f:e)}function i(n){return 0>n?n+4*f:n}function a(n){var e=u(n[0],n[1]),t=u(n[1],n[2]),r=u(n[2],n[0]),o=(e+t+r)/2;return 4*Math.atan(Math.sqrt(Math.max(0,Math.tan(o/2)*Math.tan((o-e)/2)*Math.tan((o-t)/2)*Math.tan((o-r)/2))))}function u(n,e){var t,r=(e[0]-n[0])*p,o=Math.sin(r),i=Math.cos(r),a=Math.sin(n[1]*p),u=Math.cos(n[1]*p),s=Math.sin(e[1]*p),c=Math.cos(e[1]*p);return Math.atan2(Math.sqrt((t=c*o)*t+(t=u*s-a*c*i)*t),a*s+u*c*i)}function s(n,e,t,r){return n*=p,e*=p,t*=p,r*=p,2*Math.asin(Math.sqrt(c(r-e)+Math.cos(e)*Math.cos(r)*c(t-n)))}function c(n){return(n=Math.sin(n/2))*n}var f=Math.PI,l=f/4,p=f/180;t.name="spherical",t.formatDistance=r,t.ringArea=o,t.absoluteArea=i,t.triangleArea=a,t.distance=s},{}],25:[function(n,e,t){var r=n("./type");e.exports=function(n,e){function t(n){return f>=n?[0,c]:n>=p?[0,l]:[i,n]}var o=.01,i=-180,a=i+o,u=180,s=u-o,c=-90,f=c+o,l=90,p=l-o;if(e){var d=e.scale[0],h=e.scale[1],g=e.translate[0],v=e.translate[1];i=Math.round((i-g)/d),u=Math.round((u-g)/d),c=Math.round((c-v)/h),l=Math.round((l-v)/h),a=Math.round((a-g)/d),s=Math.round((s-g)/d),f=Math.round((f-v)/h),p=Math.round((p-v)/h)}var y=r({polygon:function(n){for(var e=[],r=0,o=n.length;o>r;++r){var i=n[r],u=[];u.push(i);for(var c=0,l=i.length;l>c;++c){var d=i[c],h=d[0],g=d[1];if(a>=h||h>=s||f>=g||g>=p){for(var v=c+1;l>v;++v){var y=i[v],m=y[0],w=y[1];if(m>a&&s>m&&w>f&&p>w)break}if(v===c+1)continue;if(c){var x=i.slice(0,c+1);x[x.length-1]=t(g),u[u.length-1]=x}else u.pop();if(v>=l)break;u.push(i=i.slice(v-1)),i[0]=t(i[0][1]),c=-1,l=i.length}}for(var M={},b={},c=0,l=u.length;l>c;++c){var P=u[c],L=P[0],j=P[P.length-1];L[0]!==j[0]||L[1]!==j[1]?(P.index=c,M[L]=b[j]=P):(e.push(P),u[c]=null)}for(var c=0;l>c;++c){var P=u[c];if(P){var L=P[0],j=P[P.length-1],E=b[L],S=M[j];if(delete M[L],delete b[j],L[0]===j[0]&&L[1]===j[1]){e.push(P);continue}E?(delete b[L],delete M[E[0]],E.pop(),u[E.index]=null,P=E.concat(P),E===S?e.push(P):(P.index=l++,u.push(M[P[0]]=b[P[P.length-1]]=P))):S?(delete M[j],delete b[S[S.length-1]],P.pop(),P=P.concat(S),P.index=l++,u[S.index]=null,u.push(M[P[0]]=b[P[P.length-1]]=P)):(P.push(P[0]),e.push(P))}}}for(var c=0,l=n.length=e.length;l>c;++c)n[c]=e[c]}});for(var m in n)y.object(n[m])}},{"./type":36}],26:[function(n,e,t){var r=(n("./type"),n("./stitch")),o=n("./coordinate-systems"),i=n("./topology/index"),a=n("./delta"),u=n("./geomify"),s=n("./prefilter"),c=n("./quantize"),f=n("./bounds"),l=n("./compute-id"),p=n("./transform-properties"),d=1e-6;e.exports=function(n,e){var t,h=1e4,g=function(n){return n.id},v=function(){},y=0,m=!0,w=!1,x=null;e&&("verbose"in e&&(w=!!e.verbose),"stitch-poles"in e&&(m=!!e["stitch-poles"]),"coordinate-system"in e&&(x=o[e["coordinate-system"]]),"minimum-area"in e&&(y=+e["minimum-area"]),"quantization"in e&&(h=+e.quantization),"id"in e&&(g=e.id),"property-transform"in e&&(v=e["property-transform"])),l(n,g),p(n,v),u(n);var M=f(n),b=M[0]<-180-d||M[1]<-90-d||M[2]>180+d||M[3]>90+d;if(x||(x=o[b?"cartesian":"spherical"],e&&(e["coordinate-system"]=x.name)),x===o.spherical){if(b)throw new Error("spherical coordinates outside of [±180°, ±90°]");M[0]<-180+d&&(M[0]=-180),M[1]<-90+d&&(M[1]=-90),M[2]>180-d&&(M[2]=180),M[3]>90-d&&(M[3]=90)}w&&console.warn("bounds: "+M.join(" ")+" ("+x.name+")"),y&&s(n,function(n){return x.absoluteArea(x.ringArea(n))>=y}),h&&(t=c(n,M,h),w&&console.warn("quantization: "+t.scale.map(function(n){return x.formatDistance(n/180*Math.PI)}).join(" "))),x===o.spherical&&m&&r(n,t);var P=i(n);return P.bbox=M,w&&console.warn("topology: "+P.arcs.length+" arcs, "+P.arcs.reduce(function(n,e){return n+e.length},0)+" points"),h&&(P.transform=t,a(P)),P}},{"./bounds":12,"./compute-id":15,"./coordinate-systems":16,"./delta":17,"./geomify":19,"./prefilter":20,"./quantize":22,"./stitch":25,"./topology/index":31,"./transform-properties":35,"./type":36}],27:[function(n,e,t){function r(n,e,t,r){o(n,e,t),o(n,e,e+r),o(n,e+r,t)}function o(n,e,t){for(var r,o=e+(t-- -e>>1);o>e;++e,--t)r=n[e],n[e]=n[t],n[t]=r}var i=n("./join");e.exports=function(n){for(var e=i(n),t=n.coordinates,o=n.lines,a=n.rings,u=0,s=o.length;s>u;++u)for(var c=o[u],f=c[0],l=c[1];++f<l;)if(e.get(t[f])){var p={0:f,1:c[1]};c[1]=f,c=c.next=p}for(var u=0,s=a.length;s>u;++u)for(var d=a[u],h=d[0],g=h,v=d[1],y=e.get(t[h]);++g<v;)if(e.get(t[g]))if(y){var p={0:g,1:d[1]};d[1]=g,d=d.next=p}else r(t,h,v,v-g),t[v]=t[h],y=!0,g=h;return n}},{"./join":32}],28:[function(n,e,t){var r=(n("./join"),n("./hashtable")),o=n("./point-hash"),i=n("./point-equal");e.exports=function(n){function e(n){var e,t,r,o;if(r=w.get(e=l[n[0]]))for(var i=0,s=r.length;s>i;++i){var c=r[i];if(a(c,n))return n[0]=c[0],void(n[1]=c[1])}if(o=w.get(t=l[n[1]]))for(var i=0,s=o.length;s>i;++i){var f=o[i];if(u(f,n))return n[1]=f[0],void(n[0]=f[1])}r?r.push(n):w.set(e,[n]),o?o.push(n):w.set(t,[n]),x.push(n)}function t(n){var e,t;if(t=w.get(e=l[n[0]]))for(var r=0,o=t.length;o>r;++r){var i=t[r];if(s(i,n))return n[0]=i[0],void(n[1]=i[1]);if(c(i,n))return n[0]=i[1],void(n[1]=i[0])}if(t=w.get(e=l[n[0]+f(n)]))for(var r=0,o=t.length;o>r;++r){var i=t[r];if(s(i,n))return n[0]=i[0],void(n[1]=i[1]);if(c(i,n))return n[0]=i[1],void(n[1]=i[0])}t?t.push(n):w.set(e,[n]),x.push(n)}function a(n,e){var t=n[0],r=e[0],o=n[1],a=e[1];if(t-o!==r-a)return!1;for(;o>=t;++t,++r)if(!i(l[t],l[r]))return!1;return!0}function u(n,e){var t=n[0],r=e[0],o=n[1],a=e[1];if(t-o!==r-a)return!1;for(;o>=t;++t,--a)if(!i(l[t],l[a]))return!1;return!0}function s(n,e){var t=n[0],r=e[0],o=n[1],a=e[1],u=o-t;if(u!==a-r)return!1;for(var s=f(n),c=f(e),p=0;u>p;++p)if(!i(l[t+(p+s)%u],l[r+(p+c)%u]))return!1;return!0}function c(n,e){var t=n[0],r=e[0],o=n[1],a=e[1],u=o-t;if(u!==a-r)return!1;for(var s=f(n),c=u-f(e),p=0;u>p;++p)if(!i(l[t+(p+s)%u],l[a-(p+c)%u]))return!1;return!0}function f(n){for(var e=n[0],t=n[1],r=e,o=r,i=l[r];++r<t;){var a=l[r];(a[0]<i[0]||a[0]===i[0]&&a[1]<i[1])&&(o=r,i=a)}return o-e}var l=n.coordinates,p=n.lines,d=n.rings,h=p.length+d.length;delete n.lines,delete n.rings;for(var g=0,v=p.length;v>g;++g)for(var y=p[g];y=y.next;)++h;for(var g=0,v=d.length;v>g;++g)for(var m=d[g];m=m.next;)++h;for(var w=r(2*h,o,i),x=n.arcs=[],g=0,v=p.length;v>g;++g){var y=p[g];do e(y);while(y=y.next)}for(var g=0,v=d.length;v>g;++g){var m=d[g];if(m.next){do e(m);while(m=m.next)}else t(m)}return n}},{"./hashtable":30,"./join":32,"./point-equal":33,"./point-hash":34}],29:[function(n,e,t){e.exports=function(n){function e(n){n&&c.hasOwnProperty(n.type)&&c[n.type](n)}function t(n){for(var e=0,t=n.length;t>e;++e)s[++i]=n[e];var r={0:i-t+1,1:i};return a.push(r),r}function r(n){for(var e=0,t=n.length;t>e;++e)s[++i]=n[e];var r={0:i-t+1,1:i};return u.push(r),r}function o(n){return n.map(r)}var i=-1,a=[],u=[],s=[],c={GeometryCollection:function(n){n.geometries.forEach(e)},LineString:function(n){
n.arcs=t(n.coordinates),delete n.coordinates},MultiLineString:function(n){n.arcs=n.coordinates.map(t),delete n.coordinates},Polygon:function(n){n.arcs=n.coordinates.map(r),delete n.coordinates},MultiPolygon:function(n){n.arcs=n.coordinates.map(o),delete n.coordinates}};for(var f in n)e(n[f]);return{type:"Topology",coordinates:s,lines:a,rings:u,objects:n}}},{}],30:[function(n,e,t){e.exports=function(n,e,t){function r(n,r){for(var o=e(n)&s,i=u[o],a=!o;null!=i;){if(t(i.key,n))return i.value=r;if(i=u[o=o+1&s],!o&&a++)throw new Error("full hashtable")}return u[o]={key:n,value:r},--c,r}function o(n,r){for(var o=e(n)&s,i=u[o],a=!o;null!=i;){if(t(i.key,n))return i.value;if(i=u[o=o+1&s],!o&&a++)break}return r}function i(n){for(var o=e(n)&s,i=u[o],a=!o;null!=i;){if(t(i.key,n))return u[o]=null,i=u[o=o+1&s],null!=i&&(++c,u[o]=null,r(i.key,i.value)),++c,!0;if(i=u[o=o+1&s],!o&&a++)break}return!1}function a(){for(var n=[],e=0,t=u.length;t>e;++e){var r=u[e];null!=r&&n.push(r.key)}return n}var u=new Array(n=1<<Math.ceil(Math.log(n)/Math.LN2)),s=n-1,c=n;return{set:r,get:o,remove:i,keys:a}}},{}],31:[function(n,e,t){function r(n){var e,t=n[0],r=n[1];return t>r&&(e=t,t=r,r=e),t+31*r}function o(n,e){var t,r=n[0],o=n[1],i=e[0],a=e[1];return r>o&&(t=r,r=o,o=t),i>a&&(t=i,i=a,a=t),r===i&&o===a}var i=n("./hashtable"),a=n("./extract"),u=n("./cut"),s=n("./dedup");e.exports=function(n){function e(n){n&&d.hasOwnProperty(n.type)&&d[n.type](n)}function t(n){var e=[];do{var t=p.get(n);e.push(n[0]<n[1]?t:~t)}while(n=n.next);return e}function c(n){return n.map(t)}var f=s(u(a(n))),l=f.coordinates,p=i(f.arcs.length,r,o);n=f.objects,f.arcs=f.arcs.map(function(n,e){return p.set(n,e),l.slice(n[0],n[1]+1)}),delete f.coordinates,l=null;var d={GeometryCollection:function(n){n.geometries.forEach(e)},LineString:function(n){n.arcs=t(n.arcs)},MultiLineString:function(n){n.arcs=n.arcs.map(t)},Polygon:function(n){n.arcs=n.arcs.map(t)},MultiPolygon:function(n){n.arcs=n.arcs.map(c)}};for(var h in n)e(n[h]);return f}},{"./cut":27,"./dedup":28,"./extract":29,"./hashtable":30}],32:[function(n,e,t){var r=n("./hashtable"),o=n("./point-hash"),i=n("./point-equal");e.exports=function(n){function e(n,e,r){if(!t.get(e)){t.set(e,!0);var o=c.get(e);o?i(o[0],n)&&i(o[1],r)||i(o[0],r)&&i(o[1],n)||f.set(e,!0):c.set(e,[n,r])}}for(var t,a=n.coordinates,u=n.lines,s=n.rings,c=r(a.length,o,i),f=r(a.length,o,i),l=0,p=u.length;p>l;++l){var d=u[l],h=d[0],g=d[1],v=null,y=a[h],m=a[++h];for(t=r(g-h,o,i),f.set(y,!0);++h<=g;)e(v=y,y=m,m=a[h]);f.set(m,!0)}for(var l=0,p=s.length;p>l;++l){var w=s[l],x=w[0]+1,M=w[1],v=a[M-1],y=a[x-1],m=a[x];for(t=r(M-x+1,o,i),e(v,y,m);++x<=M;)e(v=y,y=m,m=a[x])}return f}},{"./hashtable":30,"./point-equal":33,"./point-hash":34}],33:[function(n,e,t){e.exports=function(n,e){return n[0]===e[0]&&n[1]===e[1]}},{}],34:[function(n,e,t){function r(n){return i[0]=n,n=a[1]^a[0],n^=n>>>20^n>>>12,n^=n>>>7^n>>>4}var o=new ArrayBuffer(8),i=new Float64Array(o),a=new Int32Array(o);e.exports=function(n){var e=r(n[0])+31*r(n[1])|0;return 0>e?~e:e}},{}],35:[function(n,e,t){e.exports=function(n,e){function t(n){n&&o.hasOwnProperty(n.type)&&o[n.type](n)}function r(n){if(n.properties){var t=n.properties,r={},o=!0;for(var i in t)e(r,i,t[i])&&(o=!1);o?delete n.properties:n.properties=r}}arguments.length<2&&(e=function(){});var o={Feature:r,FeatureCollection:function(n){n.features.forEach(r)}};for(var i in n)t(n[i]);return n}},{}],36:[function(n,e,t){e.exports=function(n){for(var e in r)e in n||(n[e]=r[e]);return n.defaults=r,n};var r={Feature:function(n){n.geometry&&this.geometry(n.geometry)},FeatureCollection:function(n){for(var e=n.features,t=-1,r=e.length;++t<r;)this.Feature(e[t])},GeometryCollection:function(n){for(var e=n.geometries,t=-1,r=e.length;++t<r;)this.geometry(e[t])},LineString:function(n){this.line(n.coordinates)},MultiLineString:function(n){for(var e=n.coordinates,t=-1,r=e.length;++t<r;)this.line(e[t])},MultiPoint:function(n){for(var e=n.coordinates,t=-1,r=e.length;++t<r;)this.point(e[t])},MultiPolygon:function(n){for(var e=n.coordinates,t=-1,r=e.length;++t<r;)this.polygon(e[t])},Point:function(n){this.point(n.coordinates)},Polygon:function(n){this.polygon(n.coordinates)},object:function(n){return null==n?null:i.hasOwnProperty(n.type)?this[n.type](n):this.geometry(n)},geometry:function(n){return null==n?null:o.hasOwnProperty(n.type)?this[n.type](n):null},point:function(){},line:function(n){for(var e=-1,t=n.length;++e<t;)this.point(n[e])},polygon:function(n){for(var e=-1,t=n.length;++e<t;)this.line(n[e])}},o={LineString:1,MultiLineString:1,MultiPoint:1,MultiPolygon:1,Point:1,Polygon:1,GeometryCollection:1},i={Feature:1,FeatureCollection:1}},{}],37:[function(e,t,r){!function(){function e(n,e){function t(e){var t=n.arcs[e],r=t[0],o=[0,0];return t.forEach(function(n){o[0]+=n[0],o[1]+=n[1]}),[r,o]}var r={},o={};e.forEach(function(n){var e,i,a=t(n),u=a[0],s=a[1];if(e=o[u])if(delete o[e.end],e.push(n),e.end=s,i=r[s]){delete r[i.start];var c=i===e?e:e.concat(i);r[c.start=e.start]=o[c.end=i.end]=c}else if(i=o[s]){delete r[i.start],delete o[i.end];var c=e.concat(i.map(function(n){return~n}).reverse());r[c.start=e.start]=o[c.end=i.start]=c}else r[e.start]=o[e.end]=e;else if(e=r[s])if(delete r[e.start],e.unshift(n),e.start=u,i=o[u]){delete o[i.end];var f=i===e?e:i.concat(e);r[f.start=i.start]=o[f.end=e.end]=f}else if(i=r[u]){delete r[i.start],delete o[i.end];var f=i.map(function(n){return~n}).reverse().concat(e);r[f.start=i.end]=o[f.end=e.end]=f}else r[e.start]=o[e.end]=e;else if(e=r[u])if(delete r[e.start],e.unshift(~n),e.start=s,i=o[s]){delete o[i.end];var f=i===e?e:i.concat(e);r[f.start=i.start]=o[f.end=e.end]=f}else if(i=r[s]){delete r[i.start],delete o[i.end];var f=i.map(function(n){return~n}).reverse().concat(e);r[f.start=i.end]=o[f.end=e.end]=f}else r[e.start]=o[e.end]=e;else if(e=o[s])if(delete o[e.end],e.push(~n),e.end=u,i=o[u]){delete r[i.start];var c=i===e?e:e.concat(i);r[c.start=e.start]=o[c.end=i.end]=c}else if(i=r[u]){delete r[i.start],delete o[i.end];var c=e.concat(i.map(function(n){return~n}).reverse());r[c.start=e.start]=o[c.end=i.start]=c}else r[e.start]=o[e.end]=e;else e=[n],r[e.start=u]=o[e.end=s]=e});var i=[];for(var a in o)i.push(o[a]);return i}function r(n,t,r){function o(n){0>n&&(n=~n),(l[n]||(l[n]=[])).push(f)}function i(n){n.forEach(o)}function u(n){n.forEach(i)}function s(n){"GeometryCollection"===n.type?n.geometries.forEach(s):n.type in p&&(f=n,p[n.type](n.arcs))}var c=[];if(arguments.length>1){var f,l=[],p={LineString:i,MultiLineString:u,Polygon:u,MultiPolygon:function(n){n.forEach(u)}};s(t),l.forEach(arguments.length<3?function(n,e){c.push(e)}:function(n,e){r(n[0],n[n.length-1])&&c.push(e)})}else for(var d=0,h=n.arcs.length;h>d;++d)c.push(d);return a(n,{type:"MultiLineString",arcs:e(n,c)})}function o(n,e){return"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map(function(e){return i(n,e)})}:i(n,e)}function i(n,e){var t={type:"Feature",id:e.id,properties:e.properties||{},geometry:a(n,e)};return null==e.id&&delete t.id,t}function a(n,e){function t(n,e){e.length&&e.pop();for(var t,r=f[0>n?~n:n],o=0,i=r.length;i>o;++o)e.push(t=r[o].slice()),c(t,o);0>n&&u(e,i)}function r(n){return n=n.slice(),c(n,0),n}function o(n){for(var e=[],r=0,o=n.length;o>r;++r)t(n[r],e);return e.length<2&&e.push(e[0].slice()),e}function i(n){for(var e=o(n);e.length<4;)e.push(e[0].slice());return e}function a(n){return n.map(i)}function s(n){var e=n.type;return"GeometryCollection"===e?{type:e,geometries:n.geometries.map(s)}:e in l?{type:e,coordinates:l[e](n)}:null}var c=h(n.transform),f=n.arcs,l={Point:function(n){return r(n.coordinates)},MultiPoint:function(n){return n.coordinates.map(r)},LineString:function(n){return o(n.arcs)},MultiLineString:function(n){return n.arcs.map(o)},Polygon:function(n){return a(n.arcs)},MultiPolygon:function(n){return n.arcs.map(a)}};return s(e)}function u(n,e){for(var t,r=n.length,o=r-e;o<--r;)t=n[o],n[o++]=n[r],n[r]=t}function s(n,e){for(var t=0,r=n.length;r>t;){var o=t+r>>>1;n[o]<e?t=o+1:r=o}return t}function c(n){function e(n,e){n.forEach(function(n){0>n&&(n=~n);var t=o[n];t?t.push(e):o[n]=[e]})}function t(n,t){n.forEach(function(n){e(n,t)})}function r(n,e){"GeometryCollection"===n.type?n.geometries.forEach(function(n){r(n,e)}):n.type in a&&a[n.type](n.arcs,e)}var o={},i=n.map(function(){return[]}),a={LineString:e,MultiLineString:t,Polygon:t,MultiPolygon:function(n,e){n.forEach(function(n){t(n,e)})}};n.forEach(r);for(var u in o)for(var c=o[u],f=c.length,l=0;f>l;++l)for(var p=l+1;f>p;++p){var d,h=c[l],g=c[p];(d=i[h])[u=s(d,g)]!==g&&d.splice(u,0,g),(d=i[g])[u=s(d,h)]!==h&&d.splice(u,0,h)}return i}function f(n,e){function t(n){a.remove(n),n[1][2]=e(n),a.push(n)}var r,o=h(n.transform),i=g(n.transform),a=d(p),u=0;for(e||(e=l),n.arcs.forEach(function(n){var t=[];n.forEach(o);for(var i=1,u=n.length-1;u>i;++i)r=n.slice(i-1,i+2),r[1][2]=e(r),t.push(r),a.push(r);n[0][2]=n[u][2]=1/0;for(var i=0,u=t.length;u>i;++i)r=t[i],r.previous=t[i-1],r.next=t[i+1]});r=a.pop();){var s=r.previous,c=r.next;r[1][2]<u?r[1][2]=u:u=r[1][2],s&&(s.next=c,s[2]=r[2],t(s)),c&&(c.previous=s,c[0]=r[0],t(c))}return n.arcs.forEach(function(n){n.forEach(i)}),n}function l(n){return Math.abs((n[0][0]-n[2][0])*(n[1][1]-n[0][1])-(n[0][0]-n[1][0])*(n[2][1]-n[0][1]))}function p(n,e){return n[1][2]-e[1][2]}function d(n){function e(e){for(var t=o[e];e>0;){var r=(e+1>>1)-1,i=o[r];if(n(t,i)>=0)break;o[i.index=e]=i,o[t.index=e=r]=t}}function t(e){for(var t=o[e];;){var r=e+1<<1,i=r-1,a=e,u=o[a];if(i<o.length&&n(o[i],u)<0&&(u=o[a=i]),r<o.length&&n(o[r],u)<0&&(u=o[a=r]),a===e)break;o[u.index=e]=u,o[t.index=e=a]=t}}var r={},o=[];return r.push=function(){for(var n=0,t=arguments.length;t>n;++n){var r=arguments[n];e(r.index=o.push(r)-1)}return o.length},r.pop=function(){var n=o[0],e=o.pop();return o.length&&(o[e.index=0]=e,t(0)),n},r.remove=function(r){var i=r.index,a=o.pop();return i!==o.length&&(o[a.index=i]=a,(n(a,r)<0?e:t)(i)),i},r}function h(n){if(!n)return v;var e,t,r=n.scale[0],o=n.scale[1],i=n.translate[0],a=n.translate[1];return function(n,u){u||(e=t=0),n[0]=(e+=n[0])*r+i,n[1]=(t+=n[1])*o+a}}function g(n){if(!n)return v;var e,t,r=n.scale[0],o=n.scale[1],i=n.translate[0],a=n.translate[1];return function(n,u){u||(e=t=0);var s=(n[0]-i)/r|0,c=(n[1]-a)/o|0;n[0]=s-e,n[1]=c-t,e=s,t=c}}function v(){}var y={version:"1.4.6",mesh:r,feature:o,neighbors:c,presimplify:f};"function"==typeof n&&n.amd?n(y):"object"==typeof t&&t.exports?t.exports=y:this.topojson=y}()},{}],38:[function(n,e,t){function r(n){function e(e){var t=n.substring(d).match(e);return t?(d+=t[0].length,t[0]):null}function t(){e(/^\s*/)}function r(){t();for(var n,r=0,i=[],a=i;n=e(/^(\()/)||e(/^(\))/)||e(/^(\,)/)||o();){if("("==n)r++;else if(")"==n){if(r--,0==r)break}else n&&Array.isArray(n)&&n.length&&a.push(n);t()}return 0!==r?null:i}function o(){for(var n,r,o=[];r=e(/^[-+]?([0-9]*\.[0-9]+|[0-9]+)/)||e(/^(\,)/);)","==r?(o.push(n),n=[]):(n||(n=[]),n.push(parseFloat(r))),t();return n&&o.push(n),o.length?o:null}function i(){if(!e(/^(point)/i))return null;if(t(),!e(/^(\()/))return null;var n=o();return t(),e(/^(\))/)?{type:"Point",coordinates:n[0]}:null}function a(){if(!e(/^(multipoint)/i))return null;t();var n=r();return t(),{type:"MultiPoint",coordinates:n[0]}}function u(){if(!e(/^(multilinestring)/i))return null;t();var n=r();return t(),{type:"MultiLineString",coordinates:n}}function s(){if(!e(/^(linestring)/i))return null;if(t(),!e(/^(\()/))return null;var n=o();return e(/^(\))/)?{type:"LineString",coordinates:n}:null}function c(){return e(/^(polygon)/i)?(t(),{type:"Polygon",coordinates:r()}):null}function f(){return e(/^(multipolygon)/i)?(t(),{type:"MultiPolygon",coordinates:r()}):null}function l(){var n,r=[];if(!e(/^(geometrycollection)/i))return null;if(t(),!e(/^(\()/))return null;for(;n=p();)r.push(n),t(),e(/^(\,)/),t();return e(/^(\))/)?{type:"GeometryCollection",geometries:r}:null}function p(){return i()||s()||c()||a()||u()||f()||l()}var d=0;return p()}e.exports=r},{}]},{},[1])(1)});