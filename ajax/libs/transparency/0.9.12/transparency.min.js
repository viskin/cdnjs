(function(e,t,n,r){function i(r){if(!n[r]){if(!t[r]){if(e)return e(r);throw Error("Cannot find module '"+r+"'")}var o=n[r]={exports:{}};t[r][0](function(e){var n=t[r][1][e];return i(n?n:e)},o,o.exports)}return n[r].exports}for(var o=0;r.length>o;o++)i(r[o]);return i})("undefined"!=typeof require&&require,{1:[function(e,t){(function(){var n,r,i,o,s=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};o=e("./helpers.coffee"),r=e("./context.coffee"),i={},i.render=function(e,t,n,s){var u,l;return null==t&&(t=[]),null==n&&(n={}),null==s&&(s={}),u=s.debug&&console?o.consoleLogger:o.nullLogger,u("Transparency.render:",e,t,n,s),e?(o.isArray(t)||(t=[t]),e=(l=o.data(e)).context||(l.context=new r(e,i)),e.render(t,n,s).el):void 0},i.matcher=function(e,t){return e.el.id===t||s.call(e.classNames,t)>=0||e.el.name===t||e.el.getAttribute("data-bind")===t},i.clone=function(e){return n(e).clone()[0]},i.jQueryPlugin=o.chainable(function(e,t,n){var r,o,s,u;for(u=[],o=0,s=this.length;s>o;o++)r=this[o],u.push(i.render(r,e,t,n));return u}),("undefined"!=typeof jQuery&&null!==jQuery||"undefined"!=typeof Zepto&&null!==Zepto)&&(n=jQuery||Zepto,null!=n&&(n.fn.render=i.jQueryPlugin)),(t!==void 0&&null!==t?t.exports:void 0)&&(t.exports=i),"undefined"!=typeof window&&null!==window&&(window.Transparency=i),("undefined"!=typeof define&&null!==define?define.amd:void 0)&&define(function(){return i})}).call(this)},{"./helpers.coffee":2,"./context.coffee":3}],2:[function(e,t,n){(function(){var t,r,i,o;t=e("./elementFactory.coffee"),n.before=function(e){return function(t){return function(){return e.apply(this,arguments),t.apply(this,arguments)}}},n.after=function(e){return function(t){return function(){return t.apply(this,arguments),e.apply(this,arguments)}}},n.chainable=n.after(function(){return this}),n.onlyWith$=function(e){return"undefined"!=typeof jQuery&&null!==jQuery||"undefined"!=typeof Zepto&&null!==Zepto?function(){return e(arguments)}(jQuery||Zepto):void 0},n.getChildNodes=function(e){var t,n;for(n=[],t=e.firstChild;t;)n.push(t),t=t.nextSibling;return n},n.getElements=function(e){var t;return t=[],o(e,t),t},o=function(e,r){var i,s;for(i=e.firstChild,s=[];i;)i.nodeType===n.ELEMENT_NODE&&(r.push(new t.createElement(i)),o(i,r)),s.push(i=i.nextSibling);return s},n.ELEMENT_NODE=1,n.TEXT_NODE=3,i=function(){return"<:nav></:nav>"!==document.createElement("nav").cloneNode(!0).outerHTML},n.cloneNode="undefined"==typeof document||null===document||i()?function(e){return e.cloneNode(!0)}:function(e){var t,i,o,s,u;if(t=Transparency.clone(e),t.nodeType===n.ELEMENT_NODE)for(t.removeAttribute(r),u=t.getElementsByTagName("*"),o=0,s=u.length;s>o;o++)i=u[o],i.removeAttribute(r);return t},r="transparency",n.data=function(e){return e[r]||(e[r]={})},n.nullLogger=function(){},n.consoleLogger=function(){return console.log(arguments)},n.log=n.nullLogger,n.toString=Object.prototype.toString,n.isArray=Array.isArray||function(e){return"[object Array]"===n.toString.call(e)},n.isDate=function(e){return"[object Date]"===n.toString.call(e)},n.isDomElement=function(e){return e.nodeType===n.ELEMENT_NODE},n.isPlainValue=function(e){var t;return t=typeof e,"object"!==t&&"function"!==t||n.isDate(e)},n.isBoolean=function(e){return e===!0||e===!1}}).call(this)},{"./elementFactory.coffee":4}],3:[function(e,t){(function(){var n,r,i;i=e("./helpers.coffee"),r=e("./instance.coffee"),t.exports=n=function(){function e(e,t){this.el=e,this.Transparency=t,this.template=i.cloneNode(this.el),this.instances=[new r(this.el,this.Transparency)],this.instanceCache=[]}var t,n;return n=i.chainable(function(){return this.parent=this.el.parentNode,this.parent?(this.nextSibling=this.el.nextSibling,this.parent.removeChild(this.el)):void 0}),t=i.chainable(function(){return this.parent?this.nextSibling?this.parent.insertBefore(this.el,this.nextSibling):this.parent.appendChild(this.el):void 0}),e.prototype.render=i.before(n)(i.after(t)(i.chainable(function(e,t,n){for(var o,s,u,l,a,c,h;e.length<this.instances.length;)this.instanceCache.push(this.instances.pop().remove());for(;e.length>this.instances.length;)u=this.instanceCache.pop()||new r(i.cloneNode(this.template),this.Transparency),this.instances.push(u.appendTo(this.el));for(h=[],s=a=0,c=e.length;c>a;s=++a)l=e[s],u=this.instances[s],o=[],h.push(u.prepare(l,o).renderValues(l,o).renderDirectives(l,s,t).renderChildren(l,o,t,n));return h}))),e}()}).call(this)},{"./helpers.coffee":2,"./instance.coffee":5}],4:[function(e,t){(function(){var n,r,i,o,s,u,l,a,c,h,f={}.hasOwnProperty,p=function(e,t){function n(){this.constructor=e}for(var r in t)f.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};n=e("./attributeFactory.coffee"),h=e("./helpers.coffee"),t.exports=o={Elements:{input:{}},createElement:function(e){var t,n;return t="input"===(n=e.nodeName.toLowerCase())?o.Elements[n][e.type.toLowerCase()]||s:o.Elements[n]||i,new t(e)}},i=function(){function e(e){this.el=e,this.attributes={},this.childNodes=h.getChildNodes(this.el),this.nodeName=this.el.nodeName.toLowerCase(),this.classNames=this.el.className.split(" "),this.originalAttributes={}}return e.prototype.empty=function(){for(var e;e=this.el.firstChild;)this.el.removeChild(e);return this},e.prototype.reset=function(){var e,t,n,r;n=this.attributes,r=[];for(t in n)e=n[t],r.push(e.set(e.templateValue));return r},e.prototype.render=function(e){return this.attr("text",e)},e.prototype.attr=function(e,t){var r,i;return r=(i=this.attributes)[e]||(i[e]=n.createAttribute(this.el,e,t)),null!=t&&r.set(t),r},e.prototype.renderDirectives=function(e,t,n){var r,i,o,s;s=[];for(i in n)f.call(n,i)&&(r=n[i],"function"==typeof r&&(o=r.call(e,{element:this.el,index:t,value:this.attr(i).templateValue}),null!=o?s.push(this.attr(i,o)):s.push(void 0)));return s},e}(),l=function(e){function t(e){t.__super__.constructor.call(this,e),this.elements=h.getElements(e)}return p(t,e),o.Elements.select=t,t.prototype.render=function(e){var t,n,r,i,o;for(e=""+e,i=this.elements,o=[],n=0,r=i.length;r>n;n++)t=i[n],"option"===t.nodeName&&o.push(t.attr("selected",t.el.value===e));return o},t}(i),c=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}var n,r,i,s;for(p(t,e),n=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],i=0,s=n.length;s>i;i++)r=n[i],o.Elements[r]=t;return t.prototype.attr=function(e,n){return"text"!==e&&"html"!==e?t.__super__.attr.call(this,e,n):void 0},t}(i),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.render=function(e){return this.attr("value",e)},t}(c),a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),o.Elements.textarea=t,t}(s),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),o.Elements.input.checkbox=t,t.prototype.render=function(e){return this.attr("checked",Boolean(e))},t}(s),u=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),o.Elements.input.radio=t,t}(r)}).call(this)},{"./attributeFactory.coffee":6,"./helpers.coffee":2}],5:[function(e,t){(function(){var n,r,i={}.hasOwnProperty;r=e("./helpers.coffee"),t.exports=n=function(){function e(e,t){this.Transparency=t,this.queryCache={},this.childNodes=r.getChildNodes(e),this.elements=r.getElements(e)}return e.prototype.remove=r.chainable(function(){var e,t,n,r,i;for(r=this.childNodes,i=[],t=0,n=r.length;n>t;t++)e=r[t],i.push(e.parentNode.removeChild(e));return i}),e.prototype.appendTo=r.chainable(function(e){var t,n,r,i,o;for(i=this.childNodes,o=[],n=0,r=i.length;r>n;n++)t=i[n],o.push(e.appendChild(t));return o}),e.prototype.prepare=r.chainable(function(e){var t,n,i,o,s;for(o=this.elements,s=[],n=0,i=o.length;i>n;n++)t=o[n],t.reset(),s.push(r.data(t.el).model=e);return s}),e.prototype.renderValues=r.chainable(function(e,t){var n,o,s,u;if(r.isDomElement(e)&&(n=this.elements[0]))return n.empty().el.appendChild(e);if("object"==typeof e){u=[];for(o in e)i.call(e,o)&&(s=e[o],null!=s&&(r.isPlainValue(s)?u.push(function(){var e,t,r,i;for(r=this.matchingElements(o),i=[],e=0,t=r.length;t>e;e++)n=r[e],i.push(n.render(s));return i}.call(this)):"object"==typeof s?u.push(t.push(o)):u.push(void 0)));return u}}),e.prototype.renderDirectives=r.chainable(function(e,t,n){var r,o,s,u;u=[];for(s in n)i.call(n,s)&&(r=n[s],"object"==typeof r&&("object"!=typeof e&&(e={value:e}),u.push(function(){var n,i,u,l;for(u=this.matchingElements(s),l=[],n=0,i=u.length;i>n;n++)o=u[n],l.push(o.renderDirectives(e,t,r));return l}.call(this))));return u}),e.prototype.renderChildren=r.chainable(function(e,t,n,r){var i,o,s,u,l;for(l=[],s=0,u=t.length;u>s;s++)o=t[s],l.push(function(){var t,s,u,l;for(u=this.matchingElements(o),l=[],t=0,s=u.length;s>t;t++)i=u[t],l.push(this.Transparency.render(i.el,e[o],n[o],r));return l}.call(this));return l}),e.prototype.matchingElements=function(e){var t,n,i;return n=(i=this.queryCache)[e]||(i[e]=function(){var n,r,i,o;for(i=this.elements,o=[],n=0,r=i.length;r>n;n++)t=i[n],this.Transparency.matcher(t,e)&&o.push(t);return o}.call(this)),r.log("Matching elements for '"+e+"':",n),n},e}()}).call(this)},{"./helpers.coffee":2}],6:[function(e,t){(function(){var n,r,i,o,s,u,l,a={}.hasOwnProperty,c=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};l=e("./helpers.coffee"),t.exports=r={Attributes:{},createAttribute:function(e,t){var i;return i=r.Attributes[t]||n,new i(e,t)}},n=function(){function e(e,t){this.el=e,this.name=t,this.templateValue=this.el.getAttribute(this.name)||""}return e.prototype.set=function(e){return this.el[this.name]=e,this.el.setAttribute(this.name,""+e)},e}(),i=function(e){function t(e,t){this.el=e,this.name=t,this.templateValue=this.el.getAttribute(this.name)||!1}var n,i,o,s;for(c(t,e),n=["hidden","async","defer","autofocus","formnovalidate","disabled","autofocus","formnovalidate","multiple","readonly","required","checked","scoped","reversed","selected","loop","muted","autoplay","controls","seamless","default","ismap","novalidate","open","typemustmatch","truespeed"],o=0,s=n.length;s>o;o++)i=n[o],r.Attributes[i]=t;return t.prototype.set=function(e){return this.el[this.name]=e,e?this.el.setAttribute(this.name,this.name):this.el.removeAttribute(this.name)},t}(n),u=function(e){function t(e,t){var n;this.el=e,this.name=t,this.templateValue=function(){var e,t,r,i;for(r=l.getChildNodes(this.el),i=[],e=0,t=r.length;t>e;e++)n=r[e],n.nodeType===l.TEXT_NODE&&i.push(n.nodeValue);return i}.call(this).join(""),this.children=function(){var e,t,r,i;for(r=this.el.children,i=[],e=0,t=r.length;t>e;e++)n=r[e],i.push(n);return i}.call(this),(this.textNode=this.el.firstChild)?this.textNode.nodeType!==l.TEXT_NODE&&(this.textNode=this.el.insertBefore(this.el.ownerDocument.createTextNode(""),this.textNode)):this.el.appendChild(this.textNode=this.el.ownerDocument.createTextNode(""))}return c(t,e),r.Attributes.text=t,t.prototype.set=function(e){for(var t,n,r,i,o;t=this.el.firstChild;)this.el.removeChild(t);for(this.textNode.nodeValue=e,this.el.appendChild(this.textNode),i=this.children,o=[],n=0,r=i.length;r>n;n++)t=i[n],o.push(this.el.appendChild(t));return o},t}(n),s=function(e){function t(e){var t;this.el=e,this.templateValue="",this.children=function(){var e,n,r,i;for(r=this.el.children,i=[],e=0,n=r.length;n>e;e++)t=r[e],i.push(t);return i}.call(this)}return c(t,e),r.Attributes.html=t,t.prototype.set=function(e){for(var t,n,r,i,o;t=this.el.firstChild;)this.el.removeChild(t);for(this.el.innerHTML=e+this.templateValue,i=this.children,o=[],n=0,r=i.length;r>n;n++)t=i[n],o.push(this.el.appendChild(t));return o},t}(n),o=function(e){function t(e){t.__super__.constructor.call(this,e,"class")}return c(t,e),r.Attributes["class"]=t,t}(n)}).call(this)},{"./helpers.coffee":2}]},{},[1]);