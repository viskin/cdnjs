!function(Ua){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=Ua();else if("function"==typeof define&&define.amd)define([],Ua);else{var H;"undefined"!=typeof window?H=window:"undefined"!=typeof global?H=global:"undefined"!=typeof self&&(H=self);H.ForerunnerDBAutoBind=Ua()}}(function(){return function H(ca,N,k){function a(f,g){if(!N[f]){if(!ca[f]){var ga="function"==typeof require&&require;if(!g&&ga)return ga(f,!0);if(b)return b(f,!0);ga=Error("Cannot find module '"+f+"'");throw ga.code=
"MODULE_NOT_FOUND",ga;}ga=N[f]={exports:{}};ca[f][0].call(ga.exports,function(b){var g=ca[f][1][b];return a(g?g:b)},ga,ga.exports,H,ca,N,k)}return N[f].exports}for(var b="function"==typeof require&&require,f=0;f<k.length;f++)a(k[f]);return a}({1:[function(H,ca,N){H=H("../lib/AutoBind");ca.exports=H},{"../lib/AutoBind":2}],2:[function(H,ca,N){N=ForerunnerDB.shared;var k={};N.addModule("AutoBind",k);k.extendCollection=function(b){var a=b.prototype.init,hb=b.prototype._dataReplace,g=b.prototype._dataInsertAtIndex,
ga=b.prototype._dataRemoveAtIndex,k=b.prototype._updateProperty,O=b.prototype._updateIncrement,R=b.prototype._updateSpliceMove,H=b.prototype._updateSplicePush,ja=b.prototype._updatePush,N=b.prototype._updatePull,oa=b.prototype._updateMultiply,va=b.prototype._updateRename,ca=b.prototype._updateUnset,da=b.prototype._updatePop,sa=b.prototype.drop;b.prototype.init=function(){this._linked=0;a.apply(this,arguments)};b.prototype.isLinked=function(){return Boolean(this._linked)};b.prototype.link=function(b,
a){if(window.jQuery){this._links=this._links||{};var f,g;a&&"object"===typeof a?a.template&&"string"===typeof a.template&&(f=this.objectId(a.template),g=a.template):f=a;if(!this._links[f]){if(jQuery(b).length){if(!jQuery.templates[f]){if(!g)if(g=jQuery(a),g.length)g=jQuery(g[0]).html();else throw'ForerunnerDB.AutoBind "'+this.name()+'": Unable to bind collection to target because template "'+a+'" does not exist';jQuery.views.templates(f,g)}jQuery.templates[f].link(b,this._data);this._links[f]=b;this._linked++;
this.debug()&&console.log('ForerunnerDB.AutoBind: Added binding collection "'+this.name()+'" to output target: '+b);return this}throw'ForerunnerDB.AutoBind "'+this.name()+'": Cannot bind collection to target selector "'+b+'" because it does not exist in the DOM!';}throw'ForerunnerDB.AutoBind "'+this.name()+'": Attempt to bind a duplicate link from collection to the target: '+b+" with the template: "+f;}throw'ForerunnerDB.AutoBind "'+this.name()+'": Cannot data-bind without jQuery. Please add jQuery to your page!';
};b.prototype.unlink=function(b,a){if(window.jQuery){this._links=this._links||{};var f;a&&"object"===typeof a?a.template&&"string"===typeof a.template&&(f=this.objectId(a.template)):f=a;if(this._links[f])return jQuery.templates[f].unlink(b),delete this._links[f],this._linked--,this.debug()&&console.log('ForerunnerDB.AutoBind: Removed binding collection "'+this.name()+'" to output target: '+b),this;console.log('ForerunnerDB.AutoBind "'+this.name()+'": Cannot remove link from collection, one does not exist to the target: '+
b+" with the template: "+a)}else throw'ForerunnerDB.AutoBind "'+this.name()+'": Cannot data-bind without jQuery. Please add jQuery to your page!';return this};b.prototype._dataReplace=function(b){this._linked?(this.debug()&&console.log('ForerunnerDB.AutoBind: Replacing some data in document for collection "'+this.name()+'"'),jQuery.observable(this._data).refresh(b)):hb.apply(this,arguments)};b.prototype._dataInsertAtIndex=function(b,a){this._linked?(this.debug()&&console.log('ForerunnerDB.AutoBind: Inserting some data for collection "'+
this.name()+'"'),jQuery.observable(this._data).insert(b,a)):g.apply(this,arguments)};b.prototype._dataRemoveAtIndex=function(b){this._linked?(this.debug()&&console.log('ForerunnerDB.AutoBind: Removing some data for collection "'+this.name()+'"'),jQuery.observable(this._data).remove(b)):ga.apply(this,arguments)};b.prototype._updateProperty=function(b,a,f){this._linked?(this.debug()&&console.log('ForerunnerDB.AutoBind: Setting document property "'+a+'" for collection "'+this.name()+'"'),jQuery.observable(b).setProperty(a,
f)):k.apply(this,arguments)};b.prototype._updateIncrement=function(b,a,f){this._linked?(this.debug()&&console.log('ForerunnerDB.AutoBind: Incrementing document property "'+a+'" for collection "'+this.name()+'"'),jQuery.observable(b).setProperty(a,b[a]+f)):O.apply(this,arguments)};b.prototype._updateSpliceMove=function(b,a,f){this._linked?(this.debug()&&console.log('ForerunnerDB.AutoBind: Moving document array index from "'+a+'" to "'+f+'" for collection "'+this.name()+'"'),jQuery.observable(b).move(a,
f)):R.apply(this,arguments)};b.prototype._updateSplicePush=function(b,a,f){this._linked?(this.debug()&&console.log('ForerunnerDB.AutoBind: Pushing item into document sub-array for collection "'+this.name()+'"'),b.length>a?jQuery.observable(b).insert(a,f):jQuery.observable(b).insert(f)):H.apply(this,arguments)};b.prototype._updatePush=function(b,a){this._linked?(this.debug()&&console.log('ForerunnerDB.AutoBind: Pushing item into document sub-array for collection "'+this.name()+'"'),jQuery.observable(b).insert(a)):
ja.apply(this,arguments)};b.prototype._updatePull=function(b,a){this._linked?(this.debug()&&console.log('ForerunnerDB.AutoBind: Pulling item from document sub-array for collection "'+this.name()+'"'),jQuery.observable(b).remove(a)):N.apply(this,arguments)};b.prototype._updateMultiply=function(b,a,f){this._linked?(this.debug()&&console.log('ForerunnerDB.AutoBind: Multiplying value for collection "'+this.name()+'"'),jQuery.observable(b).setProperty(a,b[a]*f)):oa.apply(this,arguments)};b.prototype._updateRename=
function(b,a,f){this._linked?(this.debug()&&console.log('ForerunnerDB.AutoBind: Renaming property "'+a+'" to "'+f+'" on document for collection "'+this.name()+'"'),jQuery.observable(b).setProperty(f,b[a]),jQuery.observable(b).removeProperty(a)):va.apply(this,arguments)};b.prototype._updateUnset=function(b,a){this._linked?(this.debug()&&console.log('ForerunnerDB.AutoBind: Removing property "'+a+'" from document for collection "'+this.name()+'"'),jQuery.observable(b).removeProperty(a)):ca.apply(this,
arguments)};b.prototype._updatePop=function(b,a){var f,g=!1;this._linked?0<b.length&&(this.debug()&&console.log('ForerunnerDB.AutoBind: Popping item from sub-array in document for collection "'+this.name()+'"'),1===a?f=b.length-1:-1===a&&(f=0),-1<f&&(jQuery.observable(arr).remove(f),g=!0)):g=da.apply(this,arguments);return g};b.prototype.drop=function(){var b;if(this._linked)for(b in this._links)this._links.hasOwnProperty(b)&&this.unlink(this._links[b],b);return sa.apply(this,arguments)}};k.extendView=
function(b){var a=b.prototype.init;b.prototype.init=function(){this._linked=0;a.apply(this,arguments)};b.prototype.isLinked=function(){return this.data().isLinked()};b.prototype.link=function(b,a){var f=this.publicData();this.debug()&&console.log('ForerunnerDB.AutoBind: Setting up data binding on view "'+this.name()+'" in underlying (internal) view collection "'+f.name()+'" for output target: '+b);f.link(b,a);return this};b.prototype.unlink=function(b,a){var f=this.publicData();this.debug()&&console.log('ForerunnerDB.AutoBind: Removing data binding on view "'+
this.name()+'" in underlying (internal) view collection "'+f.name()+'" for output target: '+b);f.unlink(b,a);return this}};k.extendOverview=function(b){b.prototype.isLinked=function(){return this.data().isLinked()};b.prototype.link=function(b,a){this._data.link.apply(this._data,arguments);this._refresh()};b.prototype.unlink=function(b,a){this._data.unlink.apply(this._data,arguments);this._refresh()}};k.extendDocument=function(b){b.prototype.isLinked=function(){return Boolean(this._linked)};b.prototype.link=
function(b,a){if(window.jQuery){this._links=this._links||{};this._linked||(this._linked=0);var g,k;a&&"object"===typeof a?a.template&&"string"===typeof a.template&&(g=this.objectId(a.template),k=a.template):g=a;if(!this._links[g]){if(jQuery(b).length){if(!jQuery.templates[g]){if(!k)if(k=jQuery(a),k.length)k=jQuery(k[0]).html();else throw'ForerunnerDB.AutoBind "'+this.name()+'": Unable to bind document to target because template does not exist: '+a;jQuery.views.templates(g,k)}jQuery.templates[g].link(b,
this._data);this._links[g]=b;this._linked++;this.debug()&&console.log('ForerunnerDB.AutoBind: Added binding document "'+this.name()+'" to target: '+b);return this}throw'ForerunnerDB.AutoBind "'+this.name()+'": Cannot bind document to target "'+b+'" because it does not exist in the DOM!';}throw'ForerunnerDB.AutoBind "'+this.name()+'": Cannot create a duplicate link from document to the target: '+b+" with the template: "+g;}throw'ForerunnerDB.AutoBind "'+this.name()+'": Cannot data-bind without jQuery. Please add jQuery to your page!';
};b.prototype.unlink=function(b,a){if(window.jQuery){this._links=this._links||{};var g;a&&"object"===typeof a?a.template&&"string"===typeof a.template&&(g=this.objectId(a.template)):g=a;if(this._links[g])return jQuery.templates[g].unlink(b),delete this._links[g],this._linked--,this.debug()&&console.log('ForerunnerDB.AutoBind "'+this.name()+'": Removed binding document to target: '+b),this;console.log('ForerunnerDB.AutoBind "'+this.name()+'": Cannot remove link from document, one does not exist to the target: '+
b+" with the template: "+a)}else throw'ForerunnerDB.AutoBind "'+this.name()+'": Cannot data-bind without jQuery. Please add jQuery to your page!';}};if("undefined"!==typeof jQuery)if(H("../lib/vendor/jsviews"),"undefined"!==typeof jQuery.views){H=["Collection","View","Overview","Document"];var a;for(a=0;a<H.length;a++)N.moduleFinished(H[a],function(b,a){if(k["extend"+b])k["extend"+b](a)});N.finishModule("AutoBind")}else throw'ForerunnerDB.AutoBind "'+this.name()+'": Plugin cannot continue because jsViews is not loaded. Check your error log for url errors; it should have automatically loaded with this plugin.';
else throw'ForerunnerDB.AutoBind "'+this.name()+'": Cannot data-bind without jQuery. Please add jQuery to your page!';N.finishModule("AutoBind");ca.exports=k},{"../lib/vendor/jsviews":3}],3:[function(H,ca,N){window.jQuery&&(this.jQuery=window.jQuery,function(){(function(k,a,b){function f(b,m){for(var a in m.props)W.test(a)&&(b[a]=m.props[a])}function H(b){return b}function g(b){debugger;return b}function ga(b){M=(Da._dbgMode=b)?"Unavailable (nested view): use #getIndex()":"";ma("dbg",Pa.dbg=Ma.dbg=
b?g:H)}function N(b){this.name=(t.link?"JsViews":"JsRender")+" Error";this.message=b||this.name}function O(b,m){for(var a in m)b[a]=m[a];return b}function R(b){return"function"===typeof b}function ca(b,m,a){if(!wa.rTag||b)J=b?b.charAt(0):J,s=b?b.charAt(1):s,z=m?m.charAt(0):z,U=m?m.charAt(1):U,X=a||X,b="\\"+J+"(\\"+X+")?\\"+s,m="\\"+z+"\\"+U,A="(?:(?:(\\w+(?=[\\/\\s\\"+z+"]))|(?:(\\w+)?(:)|(>)|!--((?:[^-]|-(?!-))*)--|(\\*)))\\s*((?:[^\\"+z+"]|\\"+z+"(?!\\"+U+"))*?)",wa.rTag=A+")",A=RegExp(b+A+"(\\/)?|(?:\\/(\\w+)))"+
m,"g"),u=RegExp("<.*>|([^\\\\]|^)[{}]|"+b+".*"+m);return[J,s,z,U,X]}function ja(ia,m){m||(m=ia,ia=b);var a,c,y,h;y=this;a=!m||"root"===m;if(ia){if(h=y.type===m?y:b,!h)if(a=y.views,y._.useKey)for(c in a){if(h=a[c].get(ia,m))break}else for(c=0,y=a.length;!h&&c<y;c++)h=a[c].get(ia,m)}else if(a)for(;y.parent.parent;)h=y=y.parent;else for(;y&&!h;)h=y.type===m?y:b,y=y.parent;return h}function pa(){var ia=this.get("item");return ia?ia.index:b}function oa(){return this.index}function va(ia){var m,a=this,
c=a.linkCtx,y=(a.ctx||{})[ia];y===b&&c&&c.ctx&&(y=c.ctx[ia]);y===b&&(y=Pa[ia]);y&&R(y)&&!y._wrp&&(m=function(){return y.apply(this&&this!==k?this:a,arguments)},m._wrp=!0,O(m,y));return m||y}function Ra(ia,m,a,c){var y,h,l=+a===a&&m.tmpl.bnds[a-1],e=m.linkCtx;a=(c=c!==b&&{props:{},args:[c]})||(l?l(m.data,m,Q):a);h=a.args[0];if(ia||l)y=e&&e.tag,y||(y={_:{inline:!e,bnd:l},tagName:":",cvt:ia,flow:!0,tagCtx:a,_is:"tag"},e&&(e.tag=y,y.linkCtx=e,a.ctx=C(a.ctx,e.view.ctx)),wa._lnk(y)),y._er=c&&h,f(y,a),a.view=
m,y.ctx=a.ctx||{},delete a.ctx,m._.tag=y,h=da(y,y.convert||"true"!==ia&&ia)[0],h=l&&m._.onRender?m._.onRender(h,m,l):h,m._.tag=b;return h!=b?h:""}function da(b,m){var a=b.tagCtx,c=a.view,y=a.args;m=m&&(""+m===m?c.getRsc("converters",m)||Z("Unknown converter: '"+m+"'"):m);y=y.length||a.index?m?y.slice():y:[c.data];m&&(m.depends&&(b.depends=wa.getDeps(b.depends,b,m.depends,m)),y[0]=m.apply(b,y));return y}function sa(a,m){for(var c,h=this;c===b&&h;)c=(c=h.tmpl[a])&&c[m],h=h.parent;return c||Q[a][m]}
function La(a,m,c,h,y,e){var l,d,p,t,g,w,z,V,P,u="",k=m.linkCtx||0,s=m.ctx,A=c||m.tmpl,v=+h===h&&A.bnds[h-1];"tag"===a._is&&(l=a,a=l.tagName,h=l.tagCtxs);l=l||k.tag;h=(e=e!==b&&(u+=e,[{props:{},args:[]}]))||(v?v(m.data,m,Q):h);w=h.length;for(g=0;g<w;g++){g||c&&l||(V=m.getRsc("tags",a)||Z("Unknown tag: {{"+a+"}}"));d=h[g];if(!k.tag||l._er)c=d.tmpl,c=d.content=c&&A.tmpls[c-1],O(d,{tmpl:(l?l:V).template||c,render:Fa,index:g,view:m,ctx:C(d.ctx,s)});if(c=d.props.tmpl)c=""+c===c?m.getRsc("templates",c)||
K(c):c,d.tmpl=c;l||(V._ctr?(l=new V._ctr,P=!!l.init):wa._lnk(l={render:V.render}),l._={inline:!k},k&&(k.tag=l,l.linkCtx=k),(l._.bnd=v||k.fn)?l._.arrVws={}:l.dataBoundOnly&&Z("{^{"+a+"}} tag must be data-bound"),l.tagName=a,l.parent=t=s&&s.tag,l._is="tag",l._def=V,l.tagCtxs=h);d.tag=l;l.dataMap&&l.tagCtxs&&(d.map=l.tagCtxs[g].map);l.flow||(z=d.ctx=d.ctx||{},d=l.parents=z.parentTags=s&&C(z.parentTags,s.parentTags)||{},t&&(d[t.tagName]=t),d[l.tagName]=z.tag=l)}m._.tag=l;if(!(l._er=e)){f(l,h[0]);l.rendering=
{};for(g=0;g<w;g++){d=l.tagCtx=l.tagCtxs[g];t=d.props;a=da(l,l.convert);if(h=t.dataMap||l.dataMap)if(a.length||t.dataMap){e=d.map;if(!e||e.src!==a[0]||y)e&&e.src&&e.unmap(),e=d.map=h.map(a[0],t);a=[e.tgt]}l.ctx=d.ctx;!g&&P&&(h=l.template,l.init(d,k,l.ctx),P=b,l.template!==h&&(l._.tmpl=l.template),k&&(k.attr=l.attr=k.attr||l.attr));h=b;l.render&&(h=l.render.apply(l,a));a=a.length?a:[m];h=h!==b?h:d.render(a[0],!0)||(y?b:"");u=u?u+(h||""):h}delete l.rendering}l.tagCtx=l.tagCtxs[0];l.ctx=l.tagCtx.ctx;
l._.inline&&(p=l.attr)&&p!==B&&(u="text"===p?Ma.html(u):"");return v&&m._.onRender?m._.onRender(u,m,v):u}function T(b,a,c,h,y,e,l,d){var f="array"===a,p={key:0,useKey:f?0:1,id:""+F++,onRender:d,bnds:{}};this.data=h;this.tmpl=y;this.content=l;this.views=f?[]:{};this.parent=c;this.type=a||"top";this._=p;this.linked=!!d;c?(a=c.views,h=c._,h.useKey?(a[p.key="_"+h.useKey++]=this,this.index=M,this.getIndex=pa,e=h.tag,p.bnd=f&&(!e||!!e._.bnd&&e)):a.splice(p.key=this.index=e,0,this),this.ctx=b||c.ctx):this.ctx=
b}function ea(b){var a,c,h,y,e,l;for(a in fa)if(y=fa[a],(e=y.compile)&&(c=b[a+"s"]))for(h in c)(y=c[h]=e(h,c[h],b))&&(l=wa.onStore[a])&&l(h,y,e)}function Ca(a,c,h){R(c)?c={depends:c.depends,render:c}:(c.baseTag&&(c.flow=!!c.flow,c=O(O({},c.baseTag),c)),(a=c.template)!==b&&(c.template=""+a===a?K[a]||K(a):a),!1!==c.init&&(a=c._ctr=function(){},(a.prototype=c).constructor=a));h&&(c._parentTmpl=h);return c}function Ga(c,m,h,e){function y(m){if(""+m===m||0<m.nodeType){try{l=0<m.nodeType?m:!u.test(m)&&
a&&a(k.document).find(m)[0]}catch(y){}l&&(m=K[c=c||l.getAttribute($)],m||(c=c||"_"+ka++,l.setAttribute($,c),m=K[c]=Ga(c,l.innerHTML,h,e)),l=b);return m}}var d,l;m=m||"";d=y(m);e=e||(m.markup?m:{});e.tmplName=c;h&&(e._parentTmpl=h);!d&&m.markup&&(d=y(m.markup))&&d.fn&&(d.debug!==m.debug||d.allowCode!==m.allowCode)&&(d=d.markup);if(d!==b)return c&&!h&&(Sa[c]=function(){return m.render.apply(m,arguments)}),d.fn||m.fn?d.fn&&(m=c&&c!==d.tmplName?C(e,d):d):(m=ra(d,e),Ka(d.replace(v,"\\$&"),m)),ea(e),m}
function Na(b){function a(c,m){this.tgt=b.getTgt(c,m)}R(b)&&(b={getTgt:b});b.baseMap&&(b=O(O({},b.baseMap),b));b.map=function(b,c){return new a(b,c)};return b}function ra(b,a){var c,h=Da.wrapMap||{},e=O({markup:b,tmpls:[],links:{},tags:{},bnds:[],_is:"template",render:aa},a);a.htmlTag||(c=Qa.exec(b),e.htmlTag=c?c[1].toLowerCase():"");(c=h[e.htmlTag])&&c!==h.div&&(e.markup=t.trim(e.markup));return e}function xa(a,c){function h(d,f,l){var p,g,t;if(d&&"object"===typeof d&&!d.nodeType&&!d.markup&&!d.getTgt){for(g in d)h(g,
d[g],f);return Q}f===b&&(f=d,d=b);d&&""+d!==d&&(l=f,f=d,d=b);t=l?l[e]=l[e]||{}:h;g=c.compile;null===f?d&&delete t[d]:(f=g?f=g(d,f,l):f,d&&(t[d]=f));g&&f&&(f._is=a);f&&(p=wa.onStore[a])&&p(d,f,g);return f}var e=a+"s";Q[e]=h;fa[a]=c}function Aa(b,a,c){var h=this.jquery&&(this[0]||Z('Unknown template: "'+this.selector+'"')),d=h.getAttribute($);return aa.call(d?K[d]:K(h),b,a,c)}function Oa(b,a,c){if(Da._dbgMode)try{return b.fn(a,c,Q)}catch(h){return Z(h,c)}return b.fn(a,c,Q)}function aa(b,a,c,h,d,e){return h||
!this.fn._nvw||t.isArray(b)?Fa.call(this,b,a,c,h,d,e):Oa(this,b,{tmpl:this})}function Fa(a,c,h,d,e,f){var l,p,g,w,k,z,u,V,P;g=this;var s="";!!c===c&&(h=c,c=b);!0===e&&(l=!0,e=0);g.tag?(z=g,g=g.tag,p=g._,k=g.tagName,V=p.tmpl||z.tmpl,P=g.attr&&g.attr!==B,c=C(c,g.ctx),u=z.content,!1===z.props.link&&(c=c||{},c.link=!1),d=d||z.view,a=arguments.length?a:d):V=g;if(V&&(!d&&a&&"view"===a._is&&(d=a),d&&(u=u||d.content,f=f||d._.onRender,a===d&&(a=d.data),c=C(c,d.ctx)),d&&"top"!==d.type||((c=c||{}).root=a),V.fn||
(V=K[V]||K(V)),V)){z=f=!1!==(c&&c.link)&&!P&&f;!0===f&&(z=b,f=d._.onRender);c=V.helpers?C(V.helpers,c):c;if(t.isArray(a)&&!h)for(w=l?d:e!==b&&d||new T(c,"array",d,a,V,e,u,f),l=0,p=a.length;l<p;l++)g=a[l],k=new T(c,"item",w,g,V,(e||0)+l,u,f),g=Oa(V,g,k),s+=w._.onRender?w._.onRender(g,k):g;else{if(d||!V.fn._nvw)w=l?d:new T(c,k||"data",d,a,V,e,u,f),p&&!g.flow&&(w.tag=g);s+=Oa(V,a,w)}return z?z(s,w):s}return""}function Z(b,a,c){c=Da.onError(b,a,c);if(""+b===b)throw new wa.Err(c);return!a.linkCtx&&a.linked?
Ma.html(c):c}function la(b){Z("Syntax error\n"+b)}function Ka(b,a,h,f){function y(a){(a-=C)&&k.push(b.substr(C,a).replace(L,"\\n"))}function g(a){a&&la('Unmatched or missing tag: "{{/'+a+'}}" in template:\n'+b)}var l,p,t,w=a&&a.allowCode,z=[],C=0,u=[],k=z,s=[,,z];h&&(b=J+b+U);g(u[0]&&u[0][2].pop()[0]);b.replace(A,function(c,d,l,z,P,v,A,F,E,J,Q,K){v&&(P=":",z=B);J=J||h;d=(d||h)&&[[]];var M="",r="",q="",n="",x="",ta="",na="",Ta="";A=!J&&!P&&!A;l=l||(E=E||"#data",P);y(K);C=K+c.length;F?w&&k.push(["*",
"\n"+E.replace(G,"$1")+"\n"]):l?("else"===l&&(S.test(E)&&la('for "{{else if expr}}" use "{{else expr}}"'),d=s[7],s[8]=b.substring(s[8],K),s=u.pop(),k=s[2],A=!0),E&&(e(E.replace(L," "),d,a).replace(Ba,function(b,a,c,h,d,e,m,l){m?(r+=e+",",n+="'"+l+"',"):c?(q+=h+e+",",ta+=h+"'"+l+"',"):a?na+=e:("trigger"===d&&(Ta+=e),M+=h+e+",",x+=h+"'"+l+"',",t=t||W.test(d));return""}).slice(0,-1),d&&d[0]&&d.pop()),p=[l,z||!!f||t||"",A&&[],[n.slice(0,-1),x.slice(0,-1),ta.slice(0,-1)],[r.slice(0,-1),M.slice(0,-1),q.slice(0,
-1)],na,Ta,d||0],k.push(p),A&&(u.push(s),s=p,s[8]=C)):Q&&(g(Q!==s[0]&&"else"!==s[0]&&Q),s[8]=b.substring(s[8],K),s=u.pop());g(!s&&Q);k=s[2]});y(b.length);(C=z[z.length-1])&&g(""+C!==C&&+C[8]===C[8]&&C[0]);h?(l=d(z,b,h),c(l,z[0][7])):l=d(z,a);l._nvw&&(l._nvw=!/[~#]/.test(b));return l}function c(b,a){b.deps=[];for(var c in a)"_jsvto"!==c&&a[c].length&&(b.deps=b.deps.concat(a[c]));b.paths=a}function h(b,a){return"\n\t"+(a?a+":{":"")+"args:["+b[0]+"]"+(b[1]||!a?",\n\tprops:{"+b[1]+"}":"")+(b[2]?",\n\tctx:{"+
b[2]+"}":"")}function e(b,a,c){var h,d,e,l,f,g=a&&a[0],p=0,t=c?c.links:g&&(g.links=g.links||{}),C={},u={0:-1},w=0;return(b+(c?" ":"")).replace(/\)\^/g,").").replace(Ha,function(k,P,A,B,v,E,F,Q,K,L,J,M,G,fa,r,q,n,x,ta,na){function Ta(r,q,b,n,c,x,ta,na){return b&&(g&&("linkTo"===h&&(d=a._jsvto=a._jsvto||[],d.push(v)),h&&!e||g.push(v.slice(q.length))),"."!==b)?(r=(n?'view.hlp("'+n+'")':c?"view":"data")+(na?(x?"."+x:n?"":c?"":"."+b)+(ta||""):(na=n?"":c?x||"":b,"")),r+=na?"."+na:"",q+("view.data"===r.slice(0,
9)?r.slice(5):r)):r}E=E||"";A=A||P||M;v=v||K;L=L||n||"";K=na.length-1;if(!F||f||l)return!g||!q||f||l||h&&!e&&!d||(q=u[w],K>ta-q&&(q=na.slice(q,ta+1),q=s+":"+q+" onerror=''"+z,F=t[q],F||(t[q]=!0,t[q]=F=Ka(q,c||g,!0),F.paths.push({_jsvOb:F})),!0!==F&&(d||g).push({_jsvOb:F}))),f?(f=!G,f?k:'"'):l?(l=!fa,l?k:'"'):(A?(w++,u[w]=ta++,A):"")+(x?w?"":(p=na.slice(p,ta),h?(h=e=d=!1,"\b"):"\b,")+p+(p=ta+k.length,g&&a.push(g=[]),"\b"):Q?(w&&la(b),g&&a.pop(),h=v,e=B,p=ta+k.length,B&&(g=a[h]=[]),v+":"):v?v.split("^").join(".").replace(ha,
Ta)+(L?(C[++w]=!0,"."!==v.charAt(0)&&(u[w]=ta),L):E):E?E:r?(C[w--]=!1,r)+(L?(C[++w]=!0,L):""):J?(C[w]||la(b),","):P?"":(f=G,l=fa,'"'));la(b)})}function d(a,e,f){var g,p,C,l,t,w,z,k,s,u,P,v,A,F,E,K,Q,J,G,M,fa,T,O,U,X,r,q=0,n="",x={},ta=a.length;""+e===e?(J=f?'data-link="'+e.replace(L," ").slice(1,-1)+'"':e,e=0):(J=e.tmplName||"unnamed",e.allowCode&&(x.allowCode=!0),e.debug&&(x.debug=!0),P=e.bnds,Q=e.tmpls);for(g=0;g<ta;g++)if(p=a[g],""+p===p)n+='\n+"'+p+'"';else if(C=p[0],"*"===C)n+=";\n"+p[1]+"\nret=ret";
else{l=p[1];fa=p[2];t=h(p[3],"params")+"},"+h(A=p[4]);U=p[5];r=p[6];E=p[8];(F="else"===C)||(q=0,P&&(v=p[7])&&(q=P.push(v)));(p=":"===C)?l&&(C=l===B?">":l+C):(fa&&(G=ra(E,x),G.tmplName=J+"/"+C,d(fa,G),Q.push(G)),F||(M=C,T=n,n=""),G=(G=a[g+1])&&"else"===G[0]);X=U?";\ntry{\nret+=":"\n+";E=F="";if(p&&(v||r||l&&l!==B)){O="return {"+t+"};";K='c("'+l+'",view,';O=new Function("data,view,j,u"," // "+J+" "+q+" "+C+"\n"+O);O._er=U;F=K+q+",";E=")";O._tag=C;if(f)return O;c(O,v);u=!0}n+=p?(f?(U?"\ntry{\n":"")+
"return ":X)+(u?(u=b,s=k=!0,K+(v?(P[q-1]=O,q):"{"+t+"}")+")"):">"===C?(z=!0,"h("+A[0]+")"):"((v="+A[0]+')!=null?v:"")'):(s=w=!0,"\n{view:view,tmpl:"+(fa?Q.length:"0")+","+t+"},");if(M&&!G){n="["+n.slice(0,-1)+"]";K='t("'+M+'",view,this,';if(f||v){n=new Function("data,view,j,u"," // "+J+" "+q+" "+M+"\nreturn "+n+";");n._er=U;n._tag=C;v&&c(P[q-1]=n,v);if(f)return n;F=K+q+",undefined,";E=")"}n=T+X+K+(q||n)+")";M=v=0}U&&(s=!0,n+=";\n}catch(e){ret"+(f?"urn ":"+=")+F+"j._err(e,view,"+U+")"+E+";}\n"+(f?
"":"ret=ret"))}n="// "+J+"\nvar v"+(w?",t=j._tag":"")+(k?",c=j._cnvt":"")+(z?",h=j.converters.html":"")+(f?";\n":',ret=""\n')+(x.debug?"debugger;":"")+n+(f?"\n":";\nreturn ret;");try{n=new Function("data,view,j,u",n)}catch(na){la("Compiled template code:\n\n"+n+'\n: "'+na.message+'"')}e&&(e.fn=n);s||(n._nvw=!0);return n}function C(b,a){return b&&b!==a?a?O(O({},a),b):b:a&&O({},a)}function P(b){return ba[b]||(ba[b]="&#"+b.charCodeAt(0)+";")}function w(b){var a,c,h=[];if("object"===typeof b)for(a in b)(c=
b[a])&&c.toJSON&&!c.toJSON()||R(c)||h.push({key:a,prop:c});return h}function p(b){return null!=b?Za.test(b)&&(""+b).replace(Y,P)||b:""}if(!(a&&a.render||k.jsviews)){var t,E,A,u,M,J="{",s="{",z="}",U="}",X="^",ha=/^(!*?)(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,Ha=/(\()(?=\s*\()|(?:([([])\s*)?(?:(\^?)(!*?[#~]?[\w$.^]+)?\s*((\+\+|--)|\+|-|&&|\|\||===|!==|==|!=|<=|>=|[<>%*:?\/]|(=))\s*|(!*?[#~]?[\w$.^]+)([([])?)|(,\s*)|(\(?)\\?(?:(')|("))|(?:\s*(([)\]])(?=\s*\.|\s*\^|\s*$)|[)\]])([([]?))|(\s+)/g,
L=/[ \t]*(\r\n|\n|\r)/g,G=/\\(['"])/g,v=/['"\\]/g,Ba=/(?:\x08|^)(onerror:)?(?:(~?)(([\w$]+):)?([^\x08]+))\x08(,)?([^\x08]+)/gi,S=/^if\s/,Qa=/<(\w+)[>\s]/,Za=/[\x00`><\"'&]/,W=/^on[A-Z]|^convert(Back)?$/,Y=/[\x00`><"'&]/g,ka=0,F=0,ba={"&":"&amp;","<":"&lt;",">":"&gt;","\x00":"&#0;","'":"&#39;",'"':"&#34;","`":"&#96;"},B="html",$="data-jsv-tmpl",Sa={},fa={template:{compile:Ga},tag:{compile:Ca},helper:{},converter:{}},Q={jsviews:"v1.0.0-beta",settings:function(b){O(Da,b);ga(Da._dbgMode);Da.jsv&&Da.jsv()},
sub:{View:T,Err:N,tmplFn:Ka,cvt:da,parse:e,extend:O,syntaxErr:la,onStore:{},_lnk:H,_ths:f},map:Na,_cnvt:Ra,_tag:La,_err:Z};(N.prototype=Error()).constructor=N;pa.depends=function(){return[this.get("item"),"index"]};oa.depends=function(){return["index"]};T.prototype={get:ja,getIndex:oa,getRsc:sa,hlp:va,_is:"view"};for(E in fa)xa(E,fa[E]);var K=Q.templates,Ma=Q.converters,Pa=Q.helpers,ma=Q.tags,wa=Q.sub,Da=Q.settings;a?(t=a,t.fn.render=Aa,t.observable&&(O(wa,t.views.sub),Q.map=t.views.map)):(t=k.jsviews=
{},t.isArray=Array&&Array.isArray||function(b){return"[object Array]"===Object.prototype.toString.call(b)});t.render=Sa;t.views=Q;t.templates=K=Q.templates;Da({debugMode:ga,delimiters:ca,onError:function(a,c,h){c&&(a=h===b?"{Error: "+a+"}":R(h)?h(a,c):h);return a==b?"":a},_dbgMode:!0});ma({"else":function(){},"if":{render:function(b){return this.rendering.done||!b&&(arguments.length||!this.tagCtx.index)?"":(this.rendering.done=!0,this.selected=this.tagCtx.index,this.tagCtx.render(this.tagCtx.view,
!0))},onUpdate:function(b,a,c){var h;for(b=0;(h=this.tagCtxs[b])&&h.args.length;b++)if(h=h.args[0],a=!h!==!c[b].args[0],!this.convert&&h||a)return a;return!1},flow:!0},"for":{render:function(a){var c,h=this.tagCtx,d="",e=0;if(!this.rendering.done){if(c=!arguments.length)a=h.view.data;a!==b&&(d+=h.render(a,c),e+=t.isArray(a)?a.length:1);if(this.rendering.done=e)this.selected=h.index}return d},flow:!0},include:{flow:!0},"*":{render:H,flow:!0}});ma("props",{baseTag:ma["for"],dataMap:Na(w)});Ma({html:p,
attr:p,url:function(a){return a!=b?encodeURI(""+a):null===a?a:""}});ca()}})(this,this.jQuery);(function(k,a,b){function f(b){return T(b)?new g(b):new H(b)}function H(b){this._data=b;return this}function g(b){this._data=b;return this}function ga(b,a){b=T(b)?b:[b];var e,d,f=a,g=f,w=b.length,p=[];for(e=0;e<w;e++)d=b[e],aa(d)?p=p.concat(ga(d.call(a,a),a)):""+d!==d?(a=g=d,g!==f&&p.push(f=g)):(g!==f&&p.push(f=g),p.push(d));return p}function N(b,a){var e,d;for(e in b){d=!0;break}d||delete Aa[a]}function O(a,
h){if(!a.data||!a.data.off){var e,d,f,g,w,p=h.oldValue,t=h.value,k=a.data,A=k.observeAll,u=!k.cb.noArray,M=k.paths;if(a.type===xa)(k.cb.array||k.cb).call(k,a,h);else if(k.prop===h.path||"*"===k.prop)g=typeof p===Ca&&(M[0]||u&&T(p)),w=typeof t===Ca&&(M[0]||u&&T(t)),A?(e=A._path+"."+h.path,d=A.filter,f=[a.target].concat(A.parents()),g&&ja(u,A.ns,[p],M,k.cb,!0,d,[f],e),w&&ja(u,A.ns,[t],M,k.cb,b,d,[f],e)):(g&&ja(u,[p],M,k.cb,!0),w&&ja(u,[t],M,k.cb)),k.cb(a,h)}}function R(){function c(b,c,h,d){var e,f=
la(B),g=T(B)?[B]:B;b=S?b+"."+S:b;if(A||d)f&&a(g).off(b,O);else{if(z=f&&a._data(B))for(J=(z=(z=z&&z.events)&&z[h?xa:ra])&&z.length;J--;)if((s=z[J].data)&&s.cb._cId===u._cId&&s.ns===S){if(h)return;("*"===c&&s.prop!==c||s.prop===p)&&a(B).off(b,O)}c=h?{}:{fullPath:t,paths:c?[c]:[],prop:p};c.ns=S;c.cb=u;v&&(c.observeAll={_path:v,path:function(){e=G.length;return v.replace(/[[.]/g,function(b){e--;return"["===b?"["+a.inArray(G[e-1],G[e]):"."})},parents:function(){return G},filter:da,ns:S});a(g).on(b,null,
c,O);H&&((Aa[u._cId]=H)[a.data(B,"obId")||a.data(B,"obId",Fa++)]=B)}}function h(b,a){b._ob=U(b,ba);var c=ba;return function(h,d){var f=b._ob,g=a.length;typeof f===Ca&&(e(f,!0),(g||W&&T(f))&&ja(W,[f],a,u,U,!0));f=b._ob=U(b,c);typeof f===Ca&&(e(f),(g||W&&T(f))&&ja(W,[f],a,u,U,[c]));u(h,d)}}function e(a,h,d,e){if(W){var g=B,p=v;B=a;e&&(B=a[e],v+="."+e);da&&B&&(B=f._fltr(v,B,e?[a].concat(G):G,da));B&&(d||T(B))&&c(xa+".observe"+(u?".obs"+(M=u._cId=u._cId||Z++):""),b,!0,h);B=g;v=p}}var d,g,k,w,p,t,E,A,
u,M,J,s,z,U,X,H,R,L,G,v,da,S,ea,ca,W=!1!=this,Y=!0,ka=Oa,F=Array.apply(0,arguments);d=F.pop();var ba=F.shift(),B=L=ba,$=F.length;ba+""===ba&&W&&(S=ba,ba=B=L=F.shift(),$--);if(aa(d))u=d;else if(d+""===d&&(v=d,G=F.pop(),da=F.pop(),d=F.pop(),$-=3),!0===d?A=d:d&&(ba=d,Y=b),d=F[$-1],$&&d===b||aa(d))u=F.pop(),$--;$&&aa(F[$-1])&&(U=u,u=F.pop(),$--);ka+=A?u?".obs"+u._cId:"":".obs"+(M=u._cId=u._cId||Z++);A||(H=Aa[M]=Aa[M]||{});ea=S&&S.match(Na)||[""];for(ca=ea.length;ca--;)for(S=ea[ca],T(L)?e(L,A,!0):A&&0===
$&&L&&c(ka,""),d=R=0;d<$;d++)if(t=F[d],""!==t){B=L;if(""+t===t){w=t.split("^");w[1]&&(R=w[0].split(".").length,t=w.join("."),R=t.split(".").length-R);if(U&&(X=U(t,L))){$+=X.length-1;La.apply(F,[d--,1].concat(X));continue}w=t.split(".")}else Y&&!aa(t)&&(t&&t._jsvOb&&(L=h(t,F.slice(d+1)),L.noArray=!W,L._cId=u._cId,ja(W,[ba],F.slice(0,d),L,U),L=b,t=t._ob),B=t),L=t,w=[L];for(;B&&(p=w.shift())!==b;)if(typeof B===Ca){if(""+p===p){if(""===p)continue;if(w.length<R+1&&!B.nodeType){if(!A&&(z=la(B)&&a._data(B))){J=
(z=(z=z.events)&&z[ra])&&z.length;for(k=0;J--;)!(s=z[J].data)||s.cb!==u||s.ns!==S||s.prop!==p&&"*"!==s.prop||((g=w.join("."))&&s.paths.push(g),k++);if(k){B=B[p];continue}}if("*"===p){!A&&z&&z.length&&c(ka,"",!1,!0);aa(B)?(E=B.depends)&&ja(W,[E],u,A||ba):c(ka,"");for(g in B)e(B,A,b,g);break}else p&&c(ka+"."+p,w.join("^"))}v&&(v+="."+p);p=B[p]}if(aa(p)){(E=p.depends)&&ja(W,[B],ga(E,B),u,U,A||[ba]);break}B=p}e(B,A)}M&&N(H,M);return{cbId:M,bnd:H}}function ca(){[].push.call(arguments,!0);return R.apply(this,
arguments)}function ja(){var b=[].concat.apply([],arguments);return R.apply(b.shift(),b)}function pa(b,a,e,d){b+""!==b&&(e=a,a=b,b="");va(b,this._data,a,e,[],"root",d)}function oa(b,a,e){pa.call(this,b,a,e,!0)}function va(a,h,e,d,g,k,w){function p(b,a){A=b.length;J=[[b]].concat(J);for(M=k+"[]";A--;)t(b,A,a,1)}function t(h,g,p,k){var t;g!==ea&&(t=f._fltr(M,h[g],J,d))&&va(a,t,e,d||(k?b:0),J.slice(),M,p)}function E(b,a){var c=g;k=b.data.observeAll._path;J=[b.target].concat(g);switch(a.change){case "insert":p(a.items);
break;case "remove":p(a.items,!0);break;case "refresh":p(a.oldItems,!0);p(b.target);break;case "set":M=k+"."+a.path,t(a,"oldValue",!0),t(a,"value")}e.apply(this,arguments);g=c}var A,u,M,J;if(typeof h===Ca){u=T(h)?"":"*";if(e){if(u||0!==d)E._cId=e._cId=e._cId||Z++,R(a,h,u,E,w,d,g,k)}else R(a,h,u,b,w,d,g,k);if(u)for(A in J=[h].concat(g),h)M=k+"."+A,t(h,A,w);else p(h,w)}}function Ra(b){return 0>b.indexOf(".")&&0>b.indexOf("[")}if(!a)throw"jsViews/jsObservable require jQuery";if(!a.observable){k=a.views=
a.views||{jsviews:"v1.0.0-alpha",sub:{}};var da=k.sub,sa=a.event.special,La=[].splice,T=a.isArray,ea=a.expando,Ca="object",Ga=parseInt,Na=/\S+/g,ra=da.propChng=da.propChng||"propertyChange",xa=da.arrChng=da.arrChng||"arrayChange",Aa=da._cbBnds=da._cbBnds||{},Oa=ra+".observe",aa=a.isFunction,Fa=1,Z=1,la=a.hasData,Ka={};da.getDeps=function(){var b=arguments;return function(){for(var a,e,d=[],f=b.length;f--;)a=b[f--],(e=b[f])&&(d=d.concat(aa(e)?e(a,a):e));return d}};a.observable=f;f._fltr=function(b,
a,e,d){if(d&&aa(d)?d(b,a,e):1)return a=aa(a)?a.set&&a.call(e[0]):a,typeof a===Ca&&a};f.Object=H;f.Array=g;a.observe=f.observe=R;a.unobserve=f.unobserve=ca;f._apply=ja;H.prototype={_data:null,observeAll:pa,unobserveAll:oa,data:function(){return this._data},setProperty:function(a,h,e){var d,f=this._data;a=a||"";if(f)if(T(a))for(d=a.length;d--;)h=a[d],this.setProperty(h.name,h.value,e===b||e);else if(""+a!==a)for(d in a)this.setProperty(d,a[d],h);else if(a!==ea){for(a=a.split(".");f&&1<a.length;)f=f[a.shift()];
f&&this._setProperty(f,a[0],h,e)}return this},removeProperty:function(b){this.setProperty(b,Ka);return this},_setProperty:function(a,h,e,d){var f,g,k,p=h?a[h]:a;aa(p)&&p.set&&(g=p,f=!0===p.set?p:p.set,p=p.call(a));if(p!==e||d&&p!=e)if(!(p instanceof Date)||p>e||p<e)f?(f.call(a,e),e=g.call(a)):(k=e===Ka)?(delete a[h],e=b):h&&(a[h]=e),this._trigger(a,{change:"set",path:h,value:e,oldValue:p,remove:k})},_trigger:function(b,h){a(b).triggerHandler(ra,h)}};g.prototype={_data:null,observeAll:pa,unobserveAll:oa,
data:function(){return this._data},insert:function(a,b){var e=this._data;1===arguments.length&&(b=a,a=e.length);a=Ga(a);-1<a&&a<=e.length&&(b=T(b)?b:[b],b.length&&this._insert(a,b));return this},_insert:function(a,b){var e=this._data,d=e.length;La.apply(e,[a,0].concat(b));this._trigger({change:"insert",index:a,items:b},d)},remove:function(a,h){var e;e=this._data;a===b&&(a=e.length-1);a=Ga(a);h=h?Ga(h):0===h?0:1;-1<h&&-1<a&&(e=e.slice(a,a+h),(h=e.length)&&this._remove(a,h,e));return this},_remove:function(a,
b,e){var d=this._data,f=d.length;d.splice(a,b);this._trigger({change:"remove",index:a,items:e},f)},move:function(a,b,e){e=e?Ga(e):0===e?0:1;a=Ga(a);b=Ga(b);if(0<e&&-1<a&&-1<b&&a!==b){var d=this._data.slice(a,a+e);(e=d.length)&&this._move(a,b,e,d)}return this},_move:function(a,b,e,d){var f=this._data,g=f.length;f.splice(a,e);f.splice.apply(f,[b,0].concat(d));this._trigger({change:"move",oldIndex:a,index:b,items:d},g)},refresh:function(a){var b=this._data.slice();this._refresh(b,a);return this},_refresh:function(a,
b){var e=this._data,d=e.length;La.apply(e,[0,e.length].concat(b));this._trigger({change:"refresh",oldItems:a},d)},_trigger:function(b,h){var e=this._data,d=e.length,e=a([e]);e.triggerHandler(xa,b);d!==h&&e.triggerHandler(ra,{change:"set",path:"length",value:d,oldValue:h})}};sa[ra]=sa[xa]={remove:function(b){var h,e,d,f,g=b.data;if(g&&(g.off=!0,g=g.cb)&&(h=Aa[g._cId])){b=a._data(this).events[b.type];for(d=b.length;d--&&!e;)e=(f=b[d].data)&&f.cb===g;e||(delete h[a.data(this,"obId")],N(h,g._cId))}}};
k.map=function(c){function h(a,d,h){var g,k=this;this.src&&this.unmap();"object"===typeof a&&(k.src=a,k.tgt=h||k.tgt||[],k.options=d||k.options,k.update(),c.obsSrc&&f(k.src).observeAll(k.obs=function(a,d){g||(g=!0,c.obsSrc(k,a,d),g=b)},k.srcFlt),c.obsTgt&&f(k.tgt).observeAll(k.obt=function(a,d){g||(g=!0,c.obsTgt(k,a,d),g=b)},k.tgtFlt))}aa(c)&&(c={getTgt:c});c.baseMap&&(c=a.extend({},c.baseMap,c));c.map=function(a,b,c){return new h(a,b,c)};(h.prototype={srcFlt:c.srcFlt||Ra,tgtFlt:c.tgtFlt||Ra,update:function(a){f(this.tgt).refresh(c.getTgt(this.src,
this.options=a||this.options))},unmap:function(){this.src&&(this.obs&&f(this.src).unobserveAll(this.obs,this.srcFlt),this.obt&&f(this.tgt).unobserveAll(this.obt,this.tgtFlt),this.src=b)},map:h,_def:c}).constructor=h;return c}}})(this,this.jQuery);(function(k,a,b){function f(r,q,n){var x,d,c,h,e,f,g,l,k,p=r.target,m=p._jsvBnd,t=/&(\d+)\+?/g;if(m)for(;c=t.exec(m);)if(c=Ea[c[1]])if(q=c.to){c=c.linkCtx;g=c.view;k=c.tag;f=a(p);e=g.hlp(Sa);l=g.hlp(fa);d=R(p);x=y[d];n===b&&(n=Qa(d)?d(p):x?f[x]():f.attr(d));
x=q[1];q=q[0];x&&(h=Qa(x)?x:g.getRsc("converters",x));h&&(n=h.call(k,n));x=g.linkCtx;g.linkCtx=c;d={change:"change",oldValue:c._val,value:n};if(!(e&&!1===e.call(c,r,d)||k&&k.onBeforeChange&&!1===k.onBeforeChange(r,d)||n===b)&&(e=q[0],n!==b&&e)){e=e._jsvOb?e._ob:e;k&&(k._.chging=!0);Y(e).setProperty(q[2]||q[1],n);l&&l.call(c,r,d);if(k){if(k.onAfterChange)k.onAfterChange(r,d);delete k._.chging}c._val=n}g.linkCtx=x}}function H(r,q,n){var x,c,d,e,h,f=this.tag,g=this.data,l=this.elem;d=this.convert;var f=
l.parentNode,k=this.view,p=k.linkCtx,m=k.hlp(Sa);k.linkCtx=this;if(f&&!(m&&q&&!1===m.call(this,r,q)||q&&"*"!==r.data.prop&&r.data.prop!==q.path)){q&&(this.eventArgs=q);if(q||this._initVal){delete this._initVal;if(n._er)try{c=n(g,k)}catch(t){e=n._er,h=J(t,k,(new Function("data,view","return "+e+";"))(g,k)),c=[{props:{},args:[h]}]}else c=n(g,k,G);a:{var u=c,v=f=this.tag;x=this.attr||R(l,!0,d!==b);var s,z,w=v&&v.parentElem||this.elem;if(u!==b){z=a(w);x=v&&v.attr||x;Qa(u)&&J(this.expr+": missing parens");
if(v=/^css-/.test(x)&&x.slice(4))s=a.style(w,v),+u===u&&(s=parseInt(s));else if("link"!==x){if("value"===x)w.type===Ma&&(s=z.prop(x=K));else if(x===Pa)if(w.value===""+u)s=z.prop(K);else break a;s===b&&(s=(s=y[x])?z[s]():z.attr(x))}this._val=s}}if(f){d=e||f._er;c=c[0]?c:[c];n=!d&&q&&f.onUpdate&&!1===f.onUpdate(r,q,c);Oa(f,c,d);if(n||x===ma){x===qa&&f.onBeforeLink&&f.onBeforeLink();Na(f,f.tagCtx);pa(this,g,l);k.linkCtx=p;return}if(f._.chging)return;c=":"===f.tagName?G._cnvt(f.cvt,k,c[0]):G._tag(f,k,
k.tmpl,c,!0,h)}else n._tag&&(c=(d=""===d?wa:d)?G._cnvt(d,k,c[0]||c):G._tag(n._tag,k,k.tmpl,c,!0,h),f=this.tag,x=this.attr||x);N(c,this,x,f)&&q&&(m=k.hlp(fa))&&m.call(this,r,q);f&&(f._er=e,Na(f,f.tagCtx))}pa(this,g,l);k.linkCtx=p}}function g(a,b){a._df=b;a[(b?"set":"remove")+"Attribute"](m,"")}function N(r,q,n,x){var c,d,f,l,p,m,t=r!==b,u=q.data,s=x&&x.parentElem||q.elem,v=a(s),D=q.view;m=q._val;var z=D.linkCtx,w=x||n===qa;x&&(x.parentElem=x.parentElem||q.expr||x._elCnt?s:s.parentNode,d=x._prv,f=x._nxt);
if(t){"visible"===n&&(n="css-display");if(/^css-/.test(n))"visible"===q.attr&&(q=(s.currentStyle||gb.call(k,s,"")).display,r?(r=s._jsvd||q,r!==ma||(r=cb[c=s.nodeName])||(q=L.createElement(c),L.body.appendChild(q),r=cb[c]=(q.currentStyle||gb.call(k,q,"")).display,L.body.removeChild(q))):(s._jsvd=q,r=ma)),(w=w||m!==r)&&a.style(s,n.slice(4),r);else if("link"!==n){if(n===K)p=!0,r=r&&"false"!==r;else if(n===Pa)if(s.value===""+r)r=p=!0,n=K;else{pa(q,u,s);return}else if("selected"===n||"disabled"===n||"multiple"===
n||"readonly"===n)r=r&&"false"!==r?n:null;if(c=y[n])if(n===qa){D.linkCtx=q;if(x&&x._.inline){n=x.nodes(!0);if(x._elCnt){if(d&&d!==f)h(d,f,s,x._tgId,"^",!0);else if(l=s._df)m=x._tgId+"^",c=l.indexOf("#"+m)+1,p=l.indexOf("/"+m),c&&0<p&&(c+=m.length,p>c&&(g(s,l.slice(0,c)+l.slice(p)),e(l.slice(c,p))));d=d?d.previousSibling:f?f.previousSibling:s.lastChild}a(n).remove();if(x&&x.onBeforeLink)x.onBeforeLink();l=D.link(D.data,s,d,f,r,x&&{tag:x._tgId,lazyLink:x.tagCtx.props.lazyLink})}else{t&&v.empty();if(x&&
x.onBeforeLink)x.onBeforeLink();t&&(l=D.link(u,s,d,f,r,x&&{tag:x._tgId}))}D.linkCtx=z}else{if(w=w||m!==r)if("text"===n&&s.children&&!s.children[0])s.textContent!==b?s.textContent=r:s.innerText=null===r?"":r;else v[c](r)}else if(w=w||m!==r)v[p?"prop":"attr"](n,r!==b||p?r:null);q._val=r}return l||w}if(n===qa&&x&&x.onBeforeLink)x.onBeforeLink()}function ca(a,b){var n=this.hlp(Sa),x=this.hlp(fa);if(!n||!1!==n.call(this,a,b)){if(b){var n=b.index,c=b.items;switch(b.change){case "insert":this.addViews(n,
c);break;case "remove":this.removeViews(n,c.length);break;case "move":this.refresh();break;case "refresh":this.refresh()}}x&&x.call(this,a,b)}}function O(r){var q,n=r.type,x=r.data,c=r._.bnd;if(!r._.useKey&&c){if(q=r._.bndArr)a([q[1]]).off(B,q[0]),r._.bndArr=b;c!==!!c&&c._.inline?n?c._.arrVws[r._.id]=r:delete c._.arrVws[r._.id]:n&&x&&(q=function(a){a.data&&a.data.off||ca.apply(r,arguments)},a([x]).on(B,q),r._.bndArr=[q,x])}}function R(a,b,n){var c=a.nodeName.toLowerCase(),d=Ba.merge[c]||a.contentEditable===
wa&&{to:qa,from:qa};return d?b?"input"===c&&a.type===Pa?Pa:d.to:d.from:b?n?"text":qa:""}function $a(r,q,n,c,d,f,e){var g,l,k,p=r.parentElem,m=r._prv,s=r._nxt,t=r._elCnt;m&&m.parentNode!==p&&J("Missing parentNode");if(e)for(k in l=r.nodes(),t&&m&&m!==s&&h(m,s,p,r._.id,"_",!0),r.removeViews(b,b,!0),c=s,t&&(m=m?m.previousSibling:s?s.previousSibling:p.lastChild),a(l).remove(),r._.bnds)Fa(k);else{if(q){g=c[q-1];if(!g)return!1;m=g._nxt}t?m=(c=m)?c.previousSibling:p.lastChild:c=m.nextSibling}q=n.render(d,
f,r._.useKey&&e,r,e||q,!0);r.link(d,p,m,c,q,g)}function ja(a,q,n){var c;n?(c="^`",q=q._.tag,n=q._tgId,n||(Ea[n=db++]=q,q._tgId=""+n)):(c="_`",Ha[n=q._.id]=q);return"#"+n+c+(a!=b?a:"")+"/"+n+c}function pa(a,q,n){var c,d=a.tag,f=a.convertBack,e=[],h=a._bndId||""+db++,g=a._hdlr;delete a._bndId;d&&(e=d.depends||e,e=Qa(e)?d.depends(d):e,c=d.linkedElem);if(!a._depends||""+a._depends!==""+e)if(a._depends&&Y._apply(!1,[q],a._depends,g,!0),q=Y._apply(!1,[q],a.fn.deps,e,g,a._ctxCb),q.elem=n,q.linkCtx=a,q._tgId=
h,n._jsvBnd=n._jsvBnd||"",n._jsvBnd+="&"+h,a._depends=e,a.view._.bnds[h]=h,Ea[h]=q,c&&(q.to=[[],f]),(c||f!==b)&&Aa(q,d&&d.convertBack||f),d){if(d.onAfterBind)d.onAfterBind(q);d.flow||d._.inline||(n.setAttribute(F,(n.getAttribute(F)||"")+"#"+h+"^/"+h+"^"),d._tgId=""+h)}if(c&&c[0])for(d._.radio&&(c=c.children("input[type=radio]")),a=c.length;a--;)c[a]._jsvBnd=c[a]._jsvBnd||n._jsvBnd+"+",c[a]._jsvLkEl=d}function oa(a,b,n,c,d,e,f){return va(this,a,b,n,c,d,e,f)}function va(r,q,n,c,d,e,h,l){if(r&&q){q=
q.jquery?q:a(q);w||(w=L.body,a(w).on($,f).on("blur","[contenteditable]",f));for(var k,m,s,t,u,v,D,z,y=ja,A=c&&"replace"===c.target,B=q.length;B--;)if(D=q[B],""+r===r)da(r,D,p(D),b,!0,n,c);else{e=e||p(D);if(r.markup!==b)!1===e.link&&(c=c||{},c.link=y=!1),A&&(v=D.parentNode),s=r.render(n,c,d,e,b,y),v?(h=D.previousSibling,l=D.nextSibling,a.cleanData([D],!0),v.removeChild(D),D=v):(h=l=b,a(D).empty());else if(!0===r&&e===ha)z={lnk:1};else break;if(D._df&&!l){t=ea(D._df,!0,eb);k=0;for(m=t.length;k<m;k++)u=
t[k],(u=Ha[u.id])&&u.data!==b&&u.parent.removeViews(u._.key,b,!0);g(D)}e.link(n,D,h,l,s,z,c)}}return q}function Ra(r,q,n,c,d,e,f,h){function l(a,r,q,c,n,e,f,h,x,g,k,m,p){var s,na="";if(p)return v=0,a;D=h||x||"";c=c||g;q=q||m;ka&&!q&&(c||D||e)&&(ka=b,ya=ma.shift());if(c=c||q)v=0,ka=b,ga&&(q||m?Ya[ya]||/;svg;|;math;/.test(";"+ma.join(";")+";")||(s="'<"+ya+".../"):Ya[c]?s="'</"+c:ma.length&&c===ya||(s="Mismatch: '</"+c),s&&Wa(s+">' in:\n"+d)),qa=za,ya=ma.shift(),za=Xa[ya],g=g?"</"+g+">":"",qa&&(ua+=
Ia,Ia="",za?ua+="-":(na=g+ia+"@"+ua+Da+(k||""),ua=Fa.shift()));za?(e?Ia+=e:r=g||m||"",D&&(r+=D,Ia&&(r+=" "+F+'="'+Ia+'"',Ia=""))):r=e?r+na+n+ia+e+Da+f+D:na||a;v&&e&&Wa(" No {^{ tags within elem markup ("+v+' ). Use data-link="..."');D&&(v=D,ma.unshift(ya),ya=D.slice(1),ma[0]&&ma[0]===mb[ya]&&J("Parent of <tr> must be <tbody>"),ka=Ya[ya],(za=Xa[ya])&&!qa&&(Fa.unshift(ua),ua=""),qa=za,ua&&za&&(ua+="+"));return r}function k(a,r){var c,n,d,e,f=[];if(a){"@"===a._tkns.charAt(0)&&(r=I.previousSibling,I.parentNode.removeChild(I),
I=b);for(B=a.length;B--;){E=a[B];d=E.ch;if(c=E.path)for(A=c.length-1;n=c.charAt(A--);)"+"===n?"-"===c.charAt(A)?(A--,r=r.previousSibling):r=r.parentNode:r=r.lastChild;if("^"===d){if(D=Ea[c=E.id]){n=r&&(!I||I.parentNode!==r);if(!I||n)D.parentElem=r;E.elCnt&&n&&g(r,(E.open?"#":"/")+c+d+(r._df||""));f.push([n?null:I,E])}}else if(C=Ha[c=E.id])(C.parentElem||(C.parentElem=r||I&&I.parentNode||q,C._.onRender=ja,C._.onArrayChange=ca,O(C)),n=C.parentElem,E.open)?(C._elCnt=E.elCnt,r&&!I?g(r,"#"+c+d+(r._df||
"")):(C._prv||g(n,La(n._df,"#"+c+d)),C._prv=I)):(!r||I&&I.parentNode===r?I&&(C._nxt||g(n,La(n._df,"/"+c+d)),C._nxt=I):(g(r,"/"+c+d+(r._df||"")),C._nxt=b),z=C.linkCtx,(e=C.ctx&&C.ctx.onAfterCreate||Ma)&&e.call(z,C))}for(B=f.length;B--;)sa.push(f[B])}return!a||a.elCnt}function t(a){var b,r;if(a)for(B=a.length,A=0;A<B;A++)if(E=a[A],r=D=Ea[E.id].linkCtx.tag,!D.flow){if(!Y){for(b=1;r=r.parent;)b++;fa=fa||b}!Y&&b!==fa||$&&D.tagName!==$||W.push(D)}}function u(){var e,h,g="";h={};e=U+(Ja?",["+m+"]":"");G=
V?q.querySelectorAll(e):a(e,q).get();y=G.length;n&&n.innerHTML&&(K=V?n.querySelectorAll(e):a(e,n).get(),n=K.length?K[K.length-1]:n);for(w=fa=0;w<y;w++)if(I=G[w],n&&!xa)xa=I===n;else if(c&&I===c){Ja&&(g+=T(I));break}else if(I.parentNode)if(Ja){g+=T(I);if(I._df){for(e=w+1;e<y&&I.contains(G[e]);)e++;h[e-1]=I._df}h[w]&&(g+=h[w]||"")}else va&&(E=ea(I,b,fb))&&(E=E[0])&&(pa=pa?E.id!==pa&&pa:E.open&&E.id),!pa&&Ka(ea(I))&&I.getAttribute(s)&&sa.push([I]);if(Ja){g+=q._df||"";if(h=g.indexOf("#"+Ja.id)+1)g=g.slice(h+
Ja.id.length);h=g.indexOf("/"+Ja.id);h+1&&(g=g.slice(0,h));t(ea(g,b,qb))}d===b&&q.getAttribute(s)&&sa.push([q]);Ca(n,za);Ca(c,za);if(!Ja){if(za&&ua+Ia&&(I=c,ua&&(c?k(ea(ua+"+",!0),c):k(ea(ua,!0),q)),k(ea(Ia,!0),q),c)){g=c.getAttribute(F);if(y=g.indexOf(ra)+1)g=g.slice(y+ra.length-1);c.setAttribute(F,Ia+g)}y=sa.length;for(w=0;w<y;w++)if(I=sa[w],H=I[1],I=I[0],H){if(D=Ea[H.id]){if(z=D.linkCtx)D=z.tag,D.linkCtx=z;H.open?(I&&(D.parentElem=I.parentNode,D._prv=I),D._elCnt=H.elCnt,!D||D.onBeforeLink&&!1===
D.onBeforeLink()||D._.bound||(D._.bound=!0,C=D.tagCtx.view,da(b,D._prv,C,H.id)),D._.linking=!0):(D._nxt=I,D._.linking&&(aa=D.tagCtx,C=aa.view,delete D._.linking,D._.bound||(D._.bound=!0,da(b,D._prv,C,H.id)),Na(D,aa)))}}else da(I.getAttribute(s),I,p(I),b,va,r,f)}oa&&oa.resolve()}var v,z,D,w,y,A,B,G,I,C,E,H,K,N,R,S,P,W,Y,$,aa,ga,fa,ba,Z,ya,ka,la,ha,za,qa,Ia,ra,xa,pa,oa,va,Ja,Aa=this._.id+"_",ua="",sa=[],ma=[],Fa=[],Ma=this.hlp(Q),Ka=k;if(e){oa=e.lazyLink&&a.Deferred();if(e.tmpl)R="/"+e._.id+"_";else if(va=
e.lnk,e.tag&&(Aa=e.tag+"^",e=!0),Ja=e.get)Ka=t,W=Ja.tags,Y=Ja.deep,$=Ja.name;e=!0===e}q=q?""+q===q?a(q)[0]:q.jquery?q[0]:q:this.parentElem||L.body;ga=!Ba.noValidate&&q.contentEditable!==wa;ya=q.tagName.toLowerCase();za=!!Xa[ya];n=n&&Ga(n,za);c=c&&Ga(c,za)||null;if(d!=b){la=ba=L.createElement("div");ra=Ia="";Z="http://www.w3.org/2000/svg"===q.namespaceURI?"svg_ns":(N=kb.exec(d))&&N[1]||"";M&&N&&N[2]&&J("Unsupported: "+N[2]);if(za){for(P=c;P&&!(S=ea(P));)P=P.nextSibling;if(ha=S?S._tkns:q._df){N=R||
"";if(e||!R)N+="#"+Aa;A=ha.indexOf(N);A+1&&(A+=N.length,ra=Ia=ha.slice(0,A),ha=ha.slice(A),S?P.setAttribute(F,ha):g(q,ha))}}ka=b;d=(""+d).replace(ob,l);ga&&ma.length&&Wa("Mismatched '<"+ya+"...>' in:\n"+d);if(h)return;bb.appendChild(ba);Z=X[Z]||X.div;e=Z[0];for(la.innerHTML=Z[1]+d+Z[2];e--;)la=la.lastChild;bb.removeChild(ba);for(ba=L.createDocumentFragment();Z=la.firstChild;)ba.appendChild(Z);q.insertBefore(ba,c)}oa?setTimeout(u,0):u();return oa&&oa.promise()}function da(r,q,c,d,e,f,h){var g,k,l,
m,p,s,u;if(d)e=Ea[d],e=e.linkCtx?e.linkCtx.tag:e,s=e.linkCtx||{data:c.data,elem:e._elCnt?e.parentElem:q,view:c,ctx:c.ctx,attr:qa,fn:e._.bnd,tag:e,_bndId:d},sa(s,s.fn);else if(r&&q)for(f=e?f:c.data,d=c.tmpl,k=R(q),r=a.trim(r).replace(lb,"\\$&"),r=r.slice(-1)!==A?E+":"+r+(k?":":"")+A:r,t.lastIndex=0;g=t.exec(r);)u=t.lastIndex,k=g[1],p=g[3],m=g[10],l=b,s={data:f,elem:q,view:c,ctx:h,attr:k,isLk:e,_initVal:!g[2]},g[6]&&(!k&&(l=/:([\w$]*)$/.exec(m))&&(l=l[1],l!==b&&(m=-l.length-1,p=p.slice(0,m-1)+A)),null===
l&&(l=b),s.convert=g[5]||""),s.expr=k+p,(g=d.links[p])||(d.links[p]=g=v.tmplFn(p,d,!0,l)),s.fn=g,k||l===b||(s.convertBack=l),sa(s,g),t.lastIndex=u}function sa(a,q){function c(b,n){H.call(a,b,n,q)}c.noArray=!0;a.isLk&&(a.view=new v.View(a.ctx,"link",ha,a.data,ha.tmpl,b,b,ja));a._ctxCb=Ka(a.view);a._hdlr=c;c(!0)}function La(a,b){var c;return a?(c=a.indexOf(b),c+1?a.slice(0,c)+a.slice(c+b.length):a):""}function T(a){return a&&(""+a===a?a:"SCRIPT"===a.tagName?a.type.slice(3):1===a.nodeType&&a.getAttribute(F)||
"")}function ea(a,b,c){function d(a,b,r,c,q,n){f.push({elCnt:e,id:c,ch:q,open:b,close:r,path:n,token:a})}var e,f=[];if(b=b?a:T(a))return f.elCnt=!a.type,e="@"===b.charAt(0)||!a.type,f._tkns=b,b.replace(c||rb,d),f}function Ca(a,b){a&&("jsv"===a.type?a.parentNode.removeChild(a):b&&""===a.getAttribute(s)&&a.removeAttribute(s))}function Ga(a,b){for(var c=a;b&&c&&1!==c.nodeType;)c=c.previousSibling;c&&(1!==c.nodeType?(c=L.createElement("SCRIPT"),c.type="jsv",a.parentNode.insertBefore(c,a)):T(c)||c.getAttribute(s)||
c.setAttribute(s,""));return c}function Na(c,q){var n,d,e,f,g,h,l;n=q.view;var k=c.linkCtx=c.linkCtx||{tag:c,data:n.data,view:n,ctx:n.ctx};if(c.onAfterLink)c.onAfterLink(q,k);if(d=(n=c.targetTag?c.targetTag.linkedElem:c.linkedElem)&&n[0]){if(e=c._.radio)n=n.children("input[type=radio]");if(e||!c._.chging){f=v.cvt(c,c.convert)[0];if(e||d!==k.elem){for(l=n.length;l--;){d=n[l];g=d._jsvLkEl;if(c._.inline&&(!g||g!==c&&g.targetTag!==c))for(d._jsvLkEl=c,g=k.elem?k.elem._jsvBnd:c._prv._jsvBnd,d._jsvBnd=g+
"+",g=g.slice(1).split("&"),h=g.length;h--;)Aa(Ea[g[h]],c.convertBack);e&&(d[K]=f===d.value)}k._val=f}f!==b&&(e||d.value===b?d.contentEditable===wa&&(d.innerHTML=f):d.type===Ma?d[K]=f&&"false"!==f:n.val(f))}}if(d=d||":"===c.tagName&&k.elem)e=d._jsvTr,f=q.props.trigger,e!==f&&(d._jsvTr=f,n=n||a(d),xa(n,e,"off"),xa(n,f,"on"))}function ra(a){setTimeout(function(){f(a)},0)}function xa(a,b,c){b&&a[c](!0===b?"keydown":b,!0===b?ra:f)}function Aa(a,b){var c,d,e,f,g,h=a.linkCtx,l=h.data,k=h.fn.paths;if(a&&
k){for(d=(k=(c=k._jsvto)||k[0])&&k.length;d&&""+(f=k[--d])!==f;);!f||h.tag&&!h.tag.tagCtx.args.length?a.to=[[],b]:(f=f.split("^").join("."),a.to="."===f.charAt(0)?[[g=k[d-1],f.slice(1)],b]:[h._ctxCb(e=d?k[0].split("^").join("."):f)||[l,e],b],c&&g&&(a.to[0][0]=h._ctxCb(g,l)))}}function Oa(a,b,c){var d;d=a.tagCtx.view;var e=a.tagCtxs||[a.tagCtx],f=e.length,g=!b;b=b||a._.bnd.call(d.tmpl,(a.linkCtx||d).data,d,G);if(c)e=a.tagCtxs=b,a.tagCtx=e[0];else for(;f--;)c=e[f],d=b[f],Y(c.props).setProperty(d.props),
S(c.ctx,d.ctx),c.args=d.args,g&&(c.tmpl=d.tmpl);v._ths(a,e[0]);return e}function aa(a){for(var b,c,d=[],f=b=a.length;f--;)d.push(a[f]);for(f=b;f--;)if(b=d[f],b.parentNode){if(c=b._jsvBnd)for(c=c.slice(1).split("&"),b._jsvBnd="",a=c.length;a--;)Fa(c[a],b._jsvLkEl,b);e(T(b)+(b._df||""))}}function Fa(c,d,e){var f,g,h,k=Ea[c];if(d)e===d.linkedElem[0]&&(delete e._jsvLkEl,delete d.linkedElem);else if(k){delete Ea[c];for(f in k.bnd)d=k.bnd[f],e=".obs"+k.cbId,a.isArray(d)?a([d]).off(B+e).off(ba+e):a(d).off(ba+
e),delete k.bnd[f];if(f=k.linkCtx){if(d=f.tag){if(e=d.tagCtxs)for(g=e.length;g--;)(h=e[g].map)&&h.unmap();if(g=(e=(h=d.linkedElem)&&h[0]||f.elem)&&e._jsvTr)xa(h||a(e),g,"off"),e._jsvTr=b;if(d.onDispose)d.onDispose();d._elCnt||(d._prv&&d._prv.parentNode.removeChild(d._prv),d._nxt&&d._nxt.parentNode.removeChild(d._nxt))}delete f.view._.bnds[c]}delete v._cbBnds[k.cbId]}}function Z(c,d){c===b?(w&&(a(w).off($,f).off("blur","[contenteditable]",f),w=b),c=!0,ha.removeViews(),aa(L.body.getElementsByTagName("*"))):
d&&!0===c&&(d=d.jquery?d:a(d),d.each(function(){for(var a;(a=p(this,!0))&&a.parent;)a.parent.removeViews(a._.key,b,!0);aa(this.getElementsByTagName("*"));aa([this])}));return d}function la(a,b){return Z(this,a,b)}function Ka(a){return function(b,c){var d,e,f=[c];if(a&&b){if(b._jsvOb)return b._jsvOb.call(a.tmpl,c,a,G);if("~"===b.charAt(0)){if("~tag"===b.slice(0,4)&&(e=a.ctx,"."===b.charAt(4)&&(d=b.slice(5).split("."),e=e.tag),d))return e?[e,d.join("."),c]:[];b=b.slice(1).split(".");if(c=a.hlp(b.shift()))b.length&&
f.unshift(b.join(".")),f.unshift(c);return c?f:[]}if("#"===b.charAt(0))return"#data"===b?[]:[a,b.replace(nb,""),c]}}}function c(a){return a.type===Ma?a[K]:a.value}function h(a,b,c,d,e,f){var h,k,l,m,p,s,t=0,u=a===b;if(a){l=ea(a)||[];h=0;for(k=l.length;h<k;h++){m=l[h];s=m.id;if(s===d&&m.ch===e)if(f)k=0;else break;u||(p="_"===m.ch?Ha[s]:Ea[s].linkCtx.tag,m.open?p._prv=b:m.close&&(p._nxt=b));t+=s.length+2}t&&a.setAttribute(F,a.getAttribute(F).slice(t));a=b?b.getAttribute(F):c._df;if(k=a.indexOf("/"+
d+e)+1)a=l._tkns.slice(0,t)+a.slice(k+(f?-1:d.length+1));a&&(b?b.setAttribute(F,a):g(c,a))}else g(c,La(c._df,"#"+d+e)),f||b||g(c,La(c._df,"/"+d+e))}function e(a){var c,d,e;if(e=ea(a,!0,pb))for(a=0,c=e.length;a<c;a++)d=e[a],"_"===d.ch?(d=Ha[d.id])&&d.type&&d.parent.removeViews(d._.key,b,!0):Fa(d.id)}function d(a,b,c){if("set"===c.change){a=a.tgt;for(b=a.length;b--&&a[b].key!==c.path;);-1===b?c.path&&Y(a).insert({key:c.path,prop:c.value}):c.remove?Y(a).remove(b):Y(a[b]).setProperty("prop",c.value)}}
function C(a,b,c){a=a.src;var d=c.change;"set"===d?"prop"===c.path?Y(a).setProperty(b.target.key,c.value):(Y(a).setProperty(c.oldValue,null),delete a[c.oldValue],Y(a).setProperty(c.value,b.target.prop)):"remove"===d?(b=c.items[0],Y(a).removeProperty(b.key),delete a[b.key]):"insert"===d&&(b=c.items[0],b.key&&Y(a).setProperty(b.key,b.prop))}function P(a){return 0>a.indexOf(".")}var w,p,t,E,A,u,M,J,s,z,U,X,ha,Ha,L=k.document,G=a.views,v=G.sub,Ba=G.settings,S=v.extend,Qa=a.isFunction,Za=G.converters,
W=G.tags,Y=a.observable,ka=Y.observe,F="data-jsv",ba=v.propChng=v.propChng||"propertyChange",B=v.arrChng=v.arrChng||"arrayChange",$="change.jsv",Sa="onBeforeChange",fa="onAfterChange",Q="onAfterCreate",K="checked",Ma="checkbox",Pa="radio",ma="none",wa="true",Da='">\x3c/script>',ia='<script type="jsv',m=F+"-df",Va="script,["+F+"]",qa="html",y={value:"val",input:"val",html:qa,text:"text"},ab={from:"value",to:"value"},l=0,ib=a.cleanData,jb=Ba.delimiters,Wa=v.syntaxErr,kb=/<(?!script)(\w+)(?:[^>]*(on\w+)\s*=)?[^>]*>/,
lb=/['"\\]/g,bb=L.createDocumentFragment(),V=L.querySelector,Xa={ol:1,ul:1,table:1,tbody:1,thead:1,tfoot:1,tr:1,colgroup:1,dl:1,select:1,optgroup:1,svg:1,svg_ns:1},mb={tr:"table"},Ya={br:1,img:1,input:1,hr:1,area:1,base:1,col:1,link:1,meta:1,command:1,embed:1,keygen:1,param:1,source:1,track:1,wbr:1},cb={},Ea={},db=1,nb=/^#(view\.?)?/,ob=/(^|(\/>)|<\/(\w+)>|)(\s*)([#\/]\d+[_^])`(\s*)(<\w+(?=[\s\/>]))?|\s*(?:(<\w+(?=[\s\/>]))|<\/(\w+)>(\s*)|(\/>)\s*|(>))/g,eb=/(#)()(\d+)(_)/g,pb=/(#)()(\d+)([_^])/g,
fb=/(?:(#)|(\/))(\d+)(_)/g,qb=/(#)()(\d+)(\^)/g,rb=/(?:(#)|(\/))(\d+)([_^])([-+@\d]+)?/g,gb=k.getComputedStyle;if(!a)throw"JsViews requires jQuery";if(!G)throw"JsViews requires JsRender";if(!Y)throw"JsViews requires jquery.observable";a.link||(z={contents:function(c,d){c!==!!c&&(d=c,c=b);var e,f=a(this.nodes());f[0]&&(e=d?f.filter(d):f,f=c&&d?e.add(f.find(d)):e);return f},nodes:function(a,b,c){var d=this._elCnt,e=!b&&d,f=[];b=b||this._prv;c=c||this._nxt;for(b=e?b===this._nxt?this.parentElem.lastSibling:
b:!1===this._.inline?b||this.linkCtx.elem.firstChild:b&&b.nextSibling;b&&(!c||b!==c);)(a||d||"SCRIPT"!==b.tagName)&&f.push(b),b=b.nextSibling;return f},childTags:function(a,c){a!==!!a&&(c=a,a=b);var d=this._prv,e=[];(this.link?this:this.tagCtx.view).link(b,this.parentElem,this._elCnt?d&&d.previousSibling:d,this._nxt,b,{get:{tags:e,deep:a,name:c,id:this.link?this._.id+"_":this._tgId+"^"}});return e},refresh:function(a){var c,d=this.linkCtx,e=this.tagCtx.view;this.disposed&&J("Removed tag");a===b&&
(a=G._tag(this,e,e.tmpl,Oa(this),!0));a+""===a&&(c=this._.inline?qa:d.attr||R(this.parentElem,!0),c=N(a,d,c,this));Na(this,this.tagCtx);return c||this},update:function(a){var c=this.linkedElem;c&&f({target:c[0]},b,a)}},v.onStore.template=function(b,c){c.link=oa;c.unlink=la;b&&(a.link[b]=function(){return oa.apply(c,arguments)},a.unlink[b]=function(){return la.apply(c,arguments)})},v.onStore.tag=function(a,b){v._lnk(b)},v._lnk=function(a){return S(a,z)},v.viewInfos=ea,(Ba.delimiters=function(){var a=
jb.apply(G,arguments);E=a[1];A=a[2];u=a[4];t=RegExp("(?:^|\\s*)([\\w-]*)(\\"+u+")?(\\"+E+v.rTag+"\\"+A+")","g");return this})(),S(v._lnk(v.View.prototype),{addViews:function(a,b,c){var d,e=b.length,f=this.views;if(!this._.useKey&&e&&(c=this.tmpl)&&(d=f.length+e,!1!==$a(this,a,c,f,b,this.ctx)))for(a+=e;a<d;a++)Y(f[a]).setProperty("index",a);return this},removeViews:function(c,d,e){function f(c){var d,g,r,k,q,l=m[c];if(l&&l.link){c=l._.id;e||(q=l.nodes());l.removeViews(b,b,!0);l.type=b;r=l._prv;k=l._nxt;
g=l.parentElem;e||(l._elCnt&&h(r,k,g,c,"_"),a(q).remove());if(!l._elCnt)try{r.parentNode.removeChild(r),k.parentNode.removeChild(k)}catch(p){}O(l);for(d in l._.bnds)Fa(d);delete Ha[c]}}var g,k,l=!this._.useKey,m=this.views;l&&(k=m.length);if(c===b)if(l){for(g=k;g--;)f(g);this.views=[]}else{for(g in m)f(g);this.views={}}else if(d===b&&(l?d=1:(f(c),delete m[c])),l&&d){for(g=c+d;g-- >c;)f(g);m.splice(c,d);if(k=m.length)for(;c<k;)Y(m[c]).setProperty("index",c++)}return this},refresh:function(a){var b=
this.parent;b&&($a(this,this.index,this.tmpl,b.views,this.data,a,!0),O(this));return this},link:Ra}),Ha={0:ha=new v.View},Za.merge=function(a){var b,c=this.linkCtx._val||"",d=this.tagCtx.props.toggle;d&&(b=d.replace(/[\\^$.|?*+()[{]/g,"\\$&"),c=c.replace(RegExp("(\\s(?="+b+"$)|(\\s)|^)("+b+"(\\s|$))"),"$2"),a=c+(a?(c&&" ")+d:""));return a},W("on",{attr:ma,onAfterLink:function(c,d){for(var e,f,g=0,h=c.args,k=h.length,l=c.props.data,m=c.view,p=c.props.context;g<k&&!(f=Qa(e=h[g++])););if(f){f=h.slice(g);
h=h.slice(0,g-1);p||(p=(p=/^(.*)[\.^][\w$]+$/.exec(c.params.args.slice(-f.length-1)[0]))&&v.tmplFn("{:"+p[1]+"}",m.tmpl,!0)(d.data,m));if(this._evs)this.onDispose();a(d.elem).on(this._evs=h[0]||"click",this._sel=h[1],l==b?null:l,this._hlr=function(a){return e.apply(p||d.data,[].concat(f,a,{change:a.type,view:m,linkCtx:d}))})}},onDispose:function(){a(this.parentElem).off(this._evs,this._sel,this._hlr)},flow:!0}),S(W["for"],{onArrayChange:function(a,b){var c,d=b.change;if(this.tagCtxs[1]&&("insert"===
d&&a.target.length===b.items.length||"remove"===d&&!a.target.length||"refresh"===d&&!b.oldItems.length!==!a.target.length))this.refresh();else for(c in this._.arrVws)c=this._.arrVws[c],c.data===a.target&&c._.onArrayChange.apply(c,arguments);a.done=!0},onAfterLink:function(){var b,c,d,e,f=this,g=f._ars||{},h=f.tagCtxs,k=h.length,l=f.selected||0;for(b=0;b<=l;b++)c=h[b],e=c.map?c.map.tgt:c.args.length?c.args[0]:c.view.data,(d=g[b])&&e!==d[0]&&(ka(d[0],d[1],!0),delete g[b]),!g[b]&&a.isArray(e)&&(ka(e,
c=function(a,b){f.onArrayChange(a,b)}),g[b]=[e,c]);for(b=l+1;b<k;b++)if(d=g[b])ka(d[0],d[1],!0),delete g[b];f._ars=g},onDispose:function(){for(var a in this._ars)ka(this._ars[a][0],this._ars[a][1],!0)}}),S(W["for"],z),S(W["if"],z),S(W.include,z),W("props",{baseTag:W["for"],dataMap:G.map({getTgt:W.props.dataMap.getTgt,obsSrc:d,obsTgt:C,tgtFlt:P})}),S(a,{view:G.view=p=function(c,d,e){function f(a,b){if(a)for(h=ea(a,b,eb),k=0,l=h.length;k<l&&(!(g=Ha[h[k].id])||!(g=g&&e?g.get(!0,e):g));k++);}d!==!!d&&
(e=d,d=b);var g,h,k,l,m;m=0;var p=L.body;if(c&&c!==p&&1<ha._.useKey&&(c=""+c===c?a(c)[0]:c.jquery?c[0]:c)){if(d){f(c._df,!0);if(!g)for(m=V?c.querySelectorAll(Va):a(Va,c).get(),d=m.length,c=0;!g&&c<d;c++)f(m[c]);return g}for(;c;){if(h=ea(c,b,fb))for(d=h.length;d--;)if(g=h[d],g.open){if(1>m)return(g=Ha[g.id])&&e?g.get(e):g||ha;m--}else m++;c=c.previousSibling||c.parentNode}}return ha},link:G.link=va,unlink:G.unlink=Z,cleanData:function(b){b.length&&l&&aa(b);ib.apply(a,arguments)}}),G.utility={validate:function(a){try{ha.link(b,
L.createElement("div"),b,b,a,b,b,1)}catch(c){return c.message}}},S(a.fn,{link:function(a,b,c,d,e,f,g){return va(a,this,b,c,d,e,f,g)},unlink:function(a){return Z(a,this)},view:function(a){return p(this[0],a)}}),a.each([qa,"replaceWith","empty","remove"],function(b,c){var d=a.fn[c];a.fn[c]=function(){var a;l=1;try{a=d.apply(this,arguments)}finally{l=0}return a}}),S(ha,{tmpl:{links:{},tags:{}}}),ha._.onRender=ja,Ba({wrapMap:X={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>",
"</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],svg_ns:[1,"<svg>","</svg>"],div:jQuery.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},linkAttr:s="data-link",merge:{input:{from:c,to:"value"},textarea:ab,select:ab,optgroup:{to:"label"}},jsrDbgMode:Ba.debugMode,debugMode:function(a){Ba.jsrDbgMode(a);
a?k._jsv={views:Ha,bindings:Ea}:delete k._jsv},jsv:function(){Ba.debugMode(Ba._dbgMode);s=Ba.linkAttr;J=G._err;U=Va+",["+s+"]";M=Ba.noDomLevel0;X.optgroup=X.option;X.tbody=X.tfoot=X.colgroup=X.caption=X.thead;X.th=X.td}}))})(this,this.jQuery)}())},{}]},{},[1])(1)});
