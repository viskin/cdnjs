!function(e,t){"function"==typeof define&&define.amd?define(["exports"],t):t("object"==typeof exports&&"string"!=typeof exports.nodeName?exports:e.maquette={})}(this,function(e){var t,r,o="http://www.w3.org/2000/svg",n=[],i=function(e,t){var r={};return Object.keys(e).forEach(function(t){r[t]=e[t]}),t&&Object.keys(t).forEach(function(e){r[e]=t[e]}),r},a=function(e,t){return e.vnodeSelector!==t.vnodeSelector?!1:e.properties&&t.properties?e.properties.key===t.properties.key:!e.properties&&!t.properties},s=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},d=function(e,t,r){for(var o=0;o<t.length;o++){var n=t[o];Array.isArray(n)?d(e,n,r):null!==n&&void 0!==n&&(n.hasOwnProperty("vnodeSelector")||(n=s(n)),r.push(n))}},p=function(){throw new Error("Provide a transitions object to the projectionOptions to do animations")},u={namespace:void 0,eventHandlerInterceptor:void 0,styleApplyer:function(e,t,r){e.style[t]=r},transitions:{enter:p,exit:p}},c=function(e){return i(u,e)},f=function(e){if("string"!=typeof e)throw new Error("Style values must be strings")},l=function(e,t,r){if(t)for(var o=r.eventHandlerInterceptor,n=Object.keys(t),i=n.length,a=0;i>a;a++){var s=n[a],d=t[s];if("className"===s)throw new Error('Property "className" is not supported, use "class".');if("class"===s)e.className?e.className+=" "+d:e.className=d;else if("classes"===s)for(var p=Object.keys(d),u=p.length,c=0;u>c;c++){var l=p[c];d[l]&&e.classList.add(l)}else if("styles"===s)for(var v=Object.keys(d),h=v.length,c=0;h>c;c++){var m=v[c],g=d[m];g&&(f(g),r.styleApplyer(e,m,g))}else{if("key"===s)continue;if(null===d||void 0===d)continue;var y=typeof d;"function"===y?(o&&0===s.lastIndexOf("on",0)&&(d=o(s,d,e,t),"oninput"===s&&!function(){var e=d;d=function(t){t.target["oninput-value"]=t.target.value,e.apply(this,[t])}}()),e[s]=d):"string"===y&&"value"!==s?e.setAttribute(s,d):e[s]=d}}},v=function(e,t,r,o){if(r){for(var n=!1,i=Object.keys(r),a=i.length,s=0;a>s;s++){var d=i[s],p=r[d],u=t[d];if("class"===d){if(u!==p)throw new Error('"class" property may not be updated. Use the "classes" property for conditional css classes.')}else if("classes"===d)for(var c=e.classList,l=Object.keys(p),v=l.length,h=0;v>h;h++){var m=l[h],g=!!p[m],y=!!u[m];g!==y&&(n=!0,g?c.add(m):c.remove(m))}else if("styles"===d)for(var N=Object.keys(p),x=N.length,h=0;x>h;h++){var w=N[h],b=p[w],S=u[w];b!==S&&(n=!0,b?(f(b),o.styleApplyer(e,w,b)):o.styleApplyer(e,w,""))}else if(p||"string"!=typeof u||(p=""),"value"===d)e[d]!==p&&e["oninput-value"]!==p&&(e[d]=p,e["oninput-value"]=void 0),p!==u&&(n=!0);else if(p!==u){var A=typeof p;if("function"===A)throw new Error("Functions may not be updated on subsequent renders (property: "+d+"). Hint: declare event handler functions outside the render() function.");"string"===A?e.setAttribute(d,p):e[d]!==p&&(e[d]=p),n=!0}}return n}},h=function(e,t,r){if(""!==t.vnodeSelector)for(var o=r;o<e.length;o++)if(a(e[o],t))return o;return-1},m=function(e,t){if(e.properties){var r=e.properties.enterAnimation;r&&("function"==typeof r?r(e.domNode,e.properties):t.enter(e.domNode,e.properties,r))}},g=function(e,t){var r=e.domNode;if(e.properties){var o=e.properties.exitAnimation;if(o){r.style.pointerEvents="none";var n=function(){r.parentNode&&r.parentNode.removeChild(r)};return"function"==typeof o?void o(r,n,e.properties):void t.exit(e.domNode,e.properties,o,n)}}r.parentNode&&r.parentNode.removeChild(r)},y=function(e,t,r,o){var n=e[t];if(""!==n.vnodeSelector){var i=n.properties?n.properties.key:void 0;if(!i)for(var s=0;s<e.length;s++)if(s!==t){var d=e[s];if(a(d,n))throw new Error("added"===o?r.vnodeSelector+" had a "+n.vnodeSelector+" child added, but there is now more than one. You must add unique key properties to make them distinguishable.":r.vnodeSelector+" had a "+n.vnodeSelector+" child removed, but there were more than one. You must add unique key properties to make them distinguishable.")}}},N=function(e,o,i,s,d){if(i===s)return!1;i=i||n,s=s||n;for(var p,u=i.length,c=s.length,f=d.transitions,l=0,v=0,N=!1;c>v;){var x=u>l?i[l]:void 0,w=s[v];if(void 0!==x&&a(x,w))N=r(x,w,d)||N,l++;else{var b=h(i,w,l+1);if(b>=0){for(p=l;b>p;p++)g(i[p],f),y(i,p,e,"removed");N=r(i[b],w,d)||N,l=b+1}else t(w,o,u>l?i[l].domNode:void 0,d),m(w,f),y(s,v,e,"added")}v++}if(u>l)for(p=l;u>p;p++)g(i[p],f),y(i,p,e,"removed");return N},x=function(e,r,o){if(r)for(var n=0;n<r.length;n++)t(r[n],e,void 0,o)},w=function(e,t,r){x(e,t.children,r),t.text&&(e.textContent=t.text),l(e,t.properties,r),t.properties&&t.properties.afterCreate&&t.properties.afterCreate(e,r,t.vnodeSelector,t.properties,t.children)};t=function(e,t,r,n){var a,s,d,p,u,c=0,f=e.vnodeSelector;if(""===f)a=e.domNode=document.createTextNode(e.text),void 0!==r?t.insertBefore(a,r):t.appendChild(a);else{for(s=0;s<=f.length;++s)d=f.charAt(s),(s===f.length||"."===d||"#"===d)&&(p=f.charAt(c-1),u=f.slice(c,s),"."===p?a.classList.add(u):"#"===p?a.id=u:("svg"===u&&(n=i(n,{namespace:o})),a=e.domNode=void 0!==n.namespace?document.createElementNS(n.namespace,u):document.createElement(u),void 0!==r?t.insertBefore(a,r):t.appendChild(a)),c=s+1);w(a,e,n)}},r=function(e,t,r){var n=e.domNode,a=!1;if(e===t)return a;var s=!1;if(""===t.vnodeSelector){if(t.text!==e.text){var d=document.createTextNode(t.text);return n.parentNode.replaceChild(d,n),t.domNode=d,a=!0}}else 0===t.vnodeSelector.lastIndexOf("svg",0)&&(r=i(r,{namespace:o})),e.text!==t.text&&(s=!0,void 0===t.text?n.removeChild(n.firstChild):n.textContent=t.text),s=N(t,n,e.children,t.children,r)||s,s=v(n,e.properties,t.properties,r)||s,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate(n,r,t.vnodeSelector,t.properties,t.children);return s&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(n,t.properties,e.properties),t.domNode=e.domNode,a};var b=function(e,t){return{update:function(o){if(e.vnodeSelector!==o.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");r(e,o,t),e=o},domNode:e.domNode}};e.h=function(e,t){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return void 0},e.h=function(e){var t=arguments[1];if("string"!=typeof e)throw new Error;var r=1;!t||t.hasOwnProperty("vnodeSelector")||Array.isArray(t)||"object"!=typeof t?t=void 0:r=2;var o=void 0,n=void 0,i=arguments.length;if(i===r+1){var a=arguments[r];"string"==typeof a?o=a:void 0!==a&&1===a.length&&"string"==typeof a[0]&&(o=a[0])}if(void 0===o)for(n=[];r<arguments.length;r++){var p=arguments[r];null!==p&&void 0!==p&&(Array.isArray(p)?d(e,p,n):n.push(p.hasOwnProperty("vnodeSelector")?p:s(p)))}return{vnodeSelector:e,properties:t,children:n,text:o,domNode:null}},e.dom={create:function(e,r){return r=c(r),t(e,document.createElement("div"),void 0,r),b(e,r)},append:function(e,r,o){return o=c(o),t(r,e,void 0,o),b(r,o)},insertBefore:function(e,r,o){return o=c(o),t(r,e.parentNode,e,o),b(r,o)},merge:function(e,t,r){return r=c(r),t.domNode=e,w(e,t,r),b(t,r)}},e.createCache=function(){var e=void 0,t=void 0,r={invalidate:function(){t=void 0,e=void 0},result:function(r,o){if(e)for(var n=0;n<r.length;n++)e[n]!==r[n]&&(t=void 0);return t||(t=o(),e=r),t}};return r},e.createMapping=function(e,t,r){var o=[],n=[];return{results:n,map:function(i){for(var a=i.map(e),s=n.slice(),d=0,p=0;p<i.length;p++){var u=i[p],c=a[p];if(c===o[d])n[p]=s[d],r(u,s[d],p),d++;else{for(var f=!1,l=1;l<o.length;l++){var v=(d+l)%o.length;if(o[v]===c){n[p]=s[v],r(i[p],s[v],p),d=v+1,f=!0;break}}f||(n[p]=t(u,p))}}n.length=i.length,o=a}}},e.createProjector=function(r){var o;r=c(r),r.eventHandlerInterceptor=function(e,t){return function(){return o.scheduleRender(),t.apply(this,arguments)}};var n,i=!0,a=!1,s=[],d=[],p=function(){if(n=void 0,i){i=!1;for(var e=0;e<s.length;e++){var t=d[e]();s[e].update(t)}i=!0}};return o={scheduleRender:function(){n||a||(n=requestAnimationFrame(p))},stop:function(){n&&(cancelAnimationFrame(n),n=void 0),a=!0},resume:function(){a=!1,i=!0,o.scheduleRender()},append:function(t,o){s.push(e.dom.append(t,o(),r)),d.push(o)},insertBefore:function(t,o){s.push(e.dom.insertBefore(t,o(),r)),d.push(o)},merge:function(t,o){s.push(e.dom.merge(t,o(),r)),d.push(o)},replace:function(e,o){var n=o();t(n,e.parentNode,e,r),e.parentNode.removeChild(e),s.push(b(n,r)),d.push(o)}}}});
//# sourceMappingURL=maquette.min.js.map
