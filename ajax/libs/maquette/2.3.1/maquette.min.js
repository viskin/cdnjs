!function(e,t){"function"==typeof define&&define.amd?define(["exports"],t):t("object"==typeof exports&&"string"!=typeof exports.nodeName?exports:e.maquette={})}(this,function(e){var t,r,o="http://www.w3.org/",n=o+"2000/svg",i=o+"1999/xlink",a=[],s=function(e,t){var r={};return Object.keys(e).forEach(function(t){r[t]=e[t]}),t&&Object.keys(t).forEach(function(e){r[e]=t[e]}),r},d=function(e,t){return e.vnodeSelector!==t.vnodeSelector?!1:e.properties&&t.properties?e.properties.key!==t.properties.key?!1:e.properties.bind===t.properties.bind:!e.properties&&!t.properties},p=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},c=function(e,t,r){for(var o=0;o<t.length;o++){var n=t[o];Array.isArray(n)?c(e,n,r):null!==n&&void 0!==n&&(n.hasOwnProperty("vnodeSelector")||(n=p(n)),r.push(n))}},u=function(){throw new Error("Provide a transitions object to the projectionOptions to do animations")},f={namespace:void 0,eventHandlerInterceptor:void 0,styleApplyer:function(e,t,r){e.style[t]=r},transitions:{enter:u,exit:u}},l=function(e){return s(f,e)},v=function(e){if("string"!=typeof e)throw new Error("Style values must be strings")},h=function(e,t,r){if(t)for(var o=r.eventHandlerInterceptor,a=Object.keys(t),s=a.length,d=0;s>d;d++){var p=a[d],c=t[p];if("className"===p)throw new Error('Property "className" is not supported, use "class".');if("class"===p)e.className?e.className+=" "+c:e.className=c;else if("classes"===p)for(var u=Object.keys(c),f=u.length,l=0;f>l;l++){var h=u[l];c[h]&&e.classList.add(h)}else if("styles"===p)for(var m=Object.keys(c),y=m.length,l=0;y>l;l++){var g=m[l],N=c[g];N&&(v(N),r.styleApplyer(e,g,N))}else{if("key"===p)continue;if(null===c||void 0===c)continue;var b=typeof c;"function"===b?o&&0===p.lastIndexOf("on",0)&&(c=o(p,c,e,t),"oninput"===p&&!function(){var e=c;c=function(t){t.target["oninput-value"]=t.target.value,e.apply(this,[t])}}(),e[p]=c):"string"===b&&"value"!==p&&"innerHTML"!==p?r.namespace===n&&"href"===p?e.setAttributeNS(i,p,c):e.setAttribute(p,c):e[p]=c}}},m=function(e,t,r,o){if(r){for(var a=!1,s=Object.keys(r),d=s.length,p=0;d>p;p++){var c=s[p],u=r[c],f=t[c];if("class"===c){if(f!==u)throw new Error('"class" property may not be updated. Use the "classes" property for conditional css classes.')}else if("classes"===c)for(var l=e.classList,h=Object.keys(u),m=h.length,y=0;m>y;y++){var g=h[y],N=!!u[g],b=!!f[g];N!==b&&(a=!0,N?l.add(g):l.remove(g))}else if("styles"===c)for(var w=Object.keys(u),x=w.length,y=0;x>y;y++){var S=w[y],A=u[S],k=f[S];A!==k&&(a=!0,A?(v(A),o.styleApplyer(e,S,A)):o.styleApplyer(e,S,""))}else if(u||"string"!=typeof f||(u=""),"value"===c)e[c]!==u&&e["oninput-value"]!==u&&(e[c]=u,e["oninput-value"]=void 0),u!==f&&(a=!0);else if(u!==f){var E=typeof u;if("function"===E)throw new Error("Functions may not be updated on subsequent renders (property: "+c+"). Hint: declare event handler functions outside the render() function.");"string"===E&&"innerHTML"!==c?o.namespace===n&&"href"===c?e.setAttributeNS(i,c,u):e.setAttribute(c,u):e[c]!==u&&(e[c]=u),a=!0}}return a}},y=function(e,t,r){if(""!==t.vnodeSelector)for(var o=r;o<e.length;o++)if(d(e[o],t))return o;return-1},g=function(e,t){if(e.properties){var r=e.properties.enterAnimation;r&&("function"==typeof r?r(e.domNode,e.properties):t.enter(e.domNode,e.properties,r))}},N=function(e,t){var r=e.domNode;if(e.properties){var o=e.properties.exitAnimation;if(o){r.style.pointerEvents="none";var n=function(){r.parentNode&&r.parentNode.removeChild(r)};return"function"==typeof o?void o(r,n,e.properties):void t.exit(e.domNode,e.properties,o,n)}}r.parentNode&&r.parentNode.removeChild(r)},b=function(e,t,r,o){var n=e[t];if(""!==n.vnodeSelector){var i=n.properties,a=i?void 0===i.key?i.bind:i.key:void 0;if(!a)for(var s=0;s<e.length;s++)if(s!==t){var p=e[s];if(d(p,n))throw new Error("added"===o?r.vnodeSelector+" had a "+n.vnodeSelector+" child added, but there is now more than one. You must add unique key properties to make them distinguishable.":r.vnodeSelector+" had a "+n.vnodeSelector+" child removed, but there were more than one. You must add unique key properties to make them distinguishable.")}}},w=function(e,o,n,i,s){if(n===i)return!1;n=n||a,i=i||a;for(var p,c=n.length,u=i.length,f=s.transitions,l=0,v=0,h=!1;u>v;){var m=c>l?n[l]:void 0,w=i[v];if(void 0!==m&&d(m,w))h=r(m,w,s)||h,l++;else{var x=y(n,w,l+1);if(x>=0){for(p=l;x>p;p++)N(n[p],f),b(n,p,e,"removed");h=r(n[x],w,s)||h,l=x+1}else t(w,o,c>l?n[l].domNode:void 0,s),g(w,f),b(i,v,e,"added")}v++}if(c>l)for(p=l;c>p;p++)N(n[p],f),b(n,p,e,"removed");return h},x=function(e,r,o){if(r)for(var n=0;n<r.length;n++)t(r[n],e,void 0,o)},S=function(e,t,r){x(e,t.children,r),t.text&&(e.textContent=t.text),h(e,t.properties,r),t.properties&&t.properties.afterCreate&&t.properties.afterCreate(e,r,t.vnodeSelector,t.properties,t.children)};t=function(e,t,r,o){var i,a,d,p,c,u=0,f=e.vnodeSelector;if(""===f)i=e.domNode=document.createTextNode(e.text),void 0!==r?t.insertBefore(i,r):t.appendChild(i);else{for(a=0;a<=f.length;++a)d=f.charAt(a),(a===f.length||"."===d||"#"===d)&&(p=f.charAt(u-1),c=f.slice(u,a),"."===p?i.classList.add(c):"#"===p?i.id=c:("svg"===c&&(o=s(o,{namespace:n})),i=e.domNode=void 0!==o.namespace?document.createElementNS(o.namespace,c):document.createElement(c),void 0!==r?t.insertBefore(i,r):t.appendChild(i)),u=a+1);S(i,e,o)}},r=function(e,t,r){var o=e.domNode,i=!1;if(e===t)return!1;var a=!1;if(""===t.vnodeSelector){if(t.text!==e.text){var d=document.createTextNode(t.text);return o.parentNode.replaceChild(d,o),t.domNode=d,i=!0}}else 0===t.vnodeSelector.lastIndexOf("svg",0)&&(r=s(r,{namespace:n})),e.text!==t.text&&(a=!0,void 0===t.text?o.removeChild(o.firstChild):o.textContent=t.text),a=w(t,o,e.children,t.children,r)||a,a=m(o,e.properties,t.properties,r)||a,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate(o,r,t.vnodeSelector,t.properties,t.children);return a&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(o,t.properties,e.properties),t.domNode=e.domNode,i};var A=function(e,t){return{update:function(o){if(e.vnodeSelector!==o.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");r(e,o,t),e=o},domNode:e.domNode}};e.h=function(e){var t=arguments[1];if("string"!=typeof e)throw new Error;var r=1;!t||t.hasOwnProperty("vnodeSelector")||Array.isArray(t)||"object"!=typeof t?t=void 0:r=2;var o=void 0,n=void 0,i=arguments.length;if(i===r+1){var a=arguments[r];"string"==typeof a?o=a:void 0!==a&&1===a.length&&"string"==typeof a[0]&&(o=a[0])}if(void 0===o)for(n=[];r<arguments.length;r++){var s=arguments[r];null!==s&&void 0!==s&&(Array.isArray(s)?c(e,s,n):n.push(s.hasOwnProperty("vnodeSelector")?s:p(s)))}return{vnodeSelector:e,properties:t,children:n,text:""===o?void 0:o,domNode:null}},e.dom={create:function(e,r){return r=l(r),t(e,document.createElement("div"),void 0,r),A(e,r)},append:function(e,r,o){return o=l(o),t(r,e,void 0,o),A(r,o)},insertBefore:function(e,r,o){return o=l(o),t(r,e.parentNode,e,o),A(r,o)},merge:function(e,t,r){return r=l(r),t.domNode=e,S(e,t,r),A(t,r)}},e.createCache=function(){var e=void 0,t=void 0,r={invalidate:function(){t=void 0,e=void 0},result:function(r,o){if(e)for(var n=0;n<r.length;n++)e[n]!==r[n]&&(t=void 0);return t||(t=o(),e=r),t}};return r},e.createMapping=function(e,t,r){var o=[],n=[];return{results:n,map:function(i){for(var a=i.map(e),s=n.slice(),d=0,p=0;p<i.length;p++){var c=i[p],u=a[p];if(u===o[d])n[p]=s[d],r(c,s[d],p),d++;else{for(var f=!1,l=1;l<o.length;l++){var v=(d+l)%o.length;if(o[v]===u){n[p]=s[v],r(i[p],s[v],p),d=v+1,f=!0;break}}f||(n[p]=t(c,p))}}n.length=i.length,o=a}}},e.createProjector=function(r){var o,n=l(r);n.eventHandlerInterceptor=function(e,t,r,n){return function(){return o.scheduleRender(),t.apply(n.bind||this,arguments)}};var i,a=!0,s=!1,d=[],p=[],c=function(){if(i=void 0,a){a=!1;for(var e=0;e<d.length;e++){var t=p[e]();d[e].update(t)}a=!0}};return o={scheduleRender:function(){i||s||(i=requestAnimationFrame(c))},stop:function(){i&&(cancelAnimationFrame(i),i=void 0),s=!0},resume:function(){s=!1,a=!0,o.scheduleRender()},append:function(t,r){d.push(e.dom.append(t,r(),n)),p.push(r)},insertBefore:function(t,r){d.push(e.dom.insertBefore(t,r(),n)),p.push(r)},merge:function(t,r){d.push(e.dom.merge(t,r(),n)),p.push(r)},replace:function(e,r){var o=r();t(o,e.parentNode,e,n),e.parentNode.removeChild(e),d.push(A(o,n)),p.push(r)},detach:function(e){for(var t=0;t<p.length;t++)if(p[t]===e)return p.splice(t,1),d.splice(t,1)[0];throw new Error("renderMaquetteFunction was not found")}}}});
//# sourceMappingURL=maquette.min.js.map
