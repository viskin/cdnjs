/*! formstone v0.6.1 [navigation.js] 2015-05-22 | MIT License | formstone.it */

!function(a,b,c){"use strict";function d(){w=a("html, body")}function e(b){b.guid="__"+v++,b.eventGuid=u.namespace+b.guid,b.rawGuid=t.base+b.guid,b.classGuid="."+b.rawGuid,b.handleGuid=t.handle+b.guid,b.isToggle="toggle"===b.type,b.isToggle&&(b.gravity="");var c=t.base,d=[c,b.type].join("-"),e=b.gravity?[d,b.gravity].join("-"):"",f=[b.rawGuid,b.customClass].join(" ");b.handle=this.data(r+"-handle"),b.content=this.data(r+"-content"),b.handleClasses=[t.handle,t.handle.replace(c,d),e?t.handle.replace(c,e):"",b.handleGuid,f].join(" "),b.navClasses=[t.nav.replace(c,d),e?t.nav.replace(c,e):"",f].join(" "),b.contentClasses=[t.content.replace(c,d),e?t.content.replace(c,e):"",f].join(" "),b.$nav=this.addClass(b.navClasses),b.$handle=a(b.handle).addClass(b.handleClasses),b.$content=a(b.content).addClass(b.contentClasses),b.$animate=a().add(b.$nav).add(b.$content),b.label&&(b.originalLabel=b.$handle.text()),b.$handle.attr("data-swap-target",b.classGuid).attr("data-swap-linked","."+b.handleGuid).attr("data-swap-group",t.base).on("activate.swap"+b.eventGuid,b,k).on("deactivate.swap"+b.eventGuid,b,l).on("enable.swap"+b.eventGuid,b,m).on("disable.swap"+b.eventGuid,b,n).swap({maxWidth:b.maxWidth,classes:{target:b.classGuid,enabled:s.enabled,active:s.open,raw:{target:b.rawGuid,enabled:t.enabled,active:t.open}}})}function f(a){a.$content.removeClass(a.contentClasses).off(u.namespace),a.$handle.removeAttr("data-swap-target").removeData("swap-target").removeAttr("data-swap-linked").removeData("swap-linked").removeClass(a.handleClasses).off(a.eventGuid).text(a.originalLabel).swap("destroy"),p(a),this.removeClass(a.navClasses).off(u.namespace)}function g(a){a.$handle.swap("activate")}function h(a){a.$handle.swap("deactivate")}function i(a){a.$handle.swap("enable")}function j(a){a.$handle.swap("disable")}function k(a){if(!a.originalEvent){var b=a.data;b.$el.trigger(u.open),b.$content.addClass(t.open).one(u.clickTouchStart,function(){h(b)}),b.label&&b.$handle.text(b.labels.open),o(b)}}function l(a){if(!a.originalEvent){var b=a.data;b.$el.trigger(u.close),b.$content.removeClass(t.open).off(u.namespace),b.label&&b.$handle.text(b.labels.closed),p(b)}}function m(a){var b=a.data;b.$content.addClass(t.enabled),setTimeout(function(){b.$animate.addClass(t.animated)},0),b.label&&b.$handle.text(b.labels.closed)}function n(a){var b=a.data;b.$content.removeClass(t.enabled,t.animated),b.$animate.removeClass(t.animated),b.label&&b.$handle.text(b.originalLabel),p(b)}function o(a){a.isToggle||w.addClass(t.lock)}function p(a){a.isToggle||w.removeClass(t.lock)}var q=b.Plugin("navigation",{widget:!0,defaults:{customClass:"",gravity:"left",label:!0,labels:{closed:"Menu",open:"Close"},maxWidth:"980px",type:"toggle"},classes:["handle","nav","content","animated","enabled","open","toggle","push","reveal","overlay","left","right","lock"],events:{tap:"tap",open:"open",close:"close"},methods:{_setup:d,_construct:e,_destruct:f,open:g,close:h,enable:i,disable:j}}),r=q.namespace,s=q.classes,t=s.raw,u=q.events,v=(q.functions,0),w=null}(jQuery,Formstone);