{"version":3,"file":"rx.dom.compat.min.js","sources":["rx.dom.compat.js"],"names":["factory","objectTypes","boolean","function","object","number","string","undefined","root","window","this","freeExports","exports","nodeType","freeModule","module","freeGlobal","global","define","amd","Rx","require","call","exp","fixEvent","event","stopPropagation","cancelBubble","preventDefault","bubbledKeyCode","keyCode","ctrlKey","e","defaultPrevented","returnValue","modified","target","srcElement","type","relatedTarget","fromElement","toElement","c","charCode","keyChar","String","fromCharCode","createListener","element","name","handler","addEventListener","disposableCreate","removeEventListener","attachEvent","innerHandler","detachEvent","createEventListener","el","eventName","disposables","CompositeDisposable","Object","prototype","toString","i","len","length","add","item","getXMLHttpRequest","XMLHttpRequest","progId","progIds","ActiveXObject","Error","getCORSRequest","XDomainRequest","normalizeAjaxLoadEvent","xhr","settings","response","responseType","JSON","parse","responseText","status","originalEvent","normalizeAjaxErrorEvent","Observable","AnonymousObservable","observerCreate","Observer","create","Disposable","SingleAssignmentDisposable","AsyncSubject","Subject","Scheduler","defaultNow","Date","now","dom","DOM","hasOwnProperty","noop","helpers","fromEvent","selector","observer","results","arguments","err","onError","onNext","publish","refCount","events","PointerEvent","TouchEvent","split","ready","onCompleted","document","returnFn","readyState","setTimeout","ajaxRequest","ajax","options","method","crossDomain","contentType","async","headers","url","prop","hasContent","body","isDone","user","open","password","header","setRequestHeader","upload","onload","progressObserver","onprogress","onerror","onabort","onreadystatechange","send","abort","post","get","getJSON","TypeError","map","x","destroy","trash","createElement","appendChild","innerHTML","jsonpRequest","id","callbackId","jsonp","jsonpCallback","script","src","replace","data","called","onreadystatechanged","head","getElementsByTagName","documentElement","insertBefore","firstChild","fromWebSocket","protocol","openObserver","closingObserver","WebSocket","socket","socketClose","code","reason","close","observable","obs","buffer","isOpen","openHandler","messageHandler","shift","push","errHandler","closeHandler","wasClean","OPEN","fromWebWorker","Worker","worker","postMessage","fromEventSource","EventSource","onOpen","source","CLOSED","onMessage","fromMutationObserver","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","observableCreate","mutationObserver","bind","observe","disconnect","requestAnimFrame","cancelAnimFrame","requestAnimationFrame","cancelAnimationFrame","mozRequestAnimationFrame","mozCancelAnimationFrame","webkitRequestAnimationFrame","webkitCancelAnimationFrame","msRequestAnimationFrame","msCancelAnimationFrame","oRequestAnimationFrame","oCancelAnimationFrame","cb","clearTimeout","scheduleNow","state","action","scheduler","disposable","isDisposed","setDisposable","scheduleRelative","dueTime","dt","normalize","scheduleWithState","scheduleAbsolute","scheduleWithRelativeAndState","microtask","clearMethod","handle","tasksByHandle","runTask","currentlyRunning","task","postMessageSupported","importScripts","isAsync","oldHandler","onmessage","onGlobalPostMessage","substring","MSG_PREFIX","scheduleMethod","nextHandle","PREFIX","mutations","forEach","mutation","attributeName","attributes","setAttribute","setImmediate","Math","random","currentId","MessageChannel","channel","port1","port2","scriptElement","parentNode","removeChild","geolocation","getCurrentPosition","geolocationOptions","navigator","navigation","watchPosition","watchId","clearWatch","fromReader","file","_fromReader","readerFn","encoding","loadHandler","subject","result","errorHandler","error","progressHandler","reader","FileReader","subscribe","LOADING","asArrayBuffer","asBinaryString","asDataURL","asText"],"mappings":"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"}