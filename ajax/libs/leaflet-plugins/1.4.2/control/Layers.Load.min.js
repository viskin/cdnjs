L.Control.Layers.include({_loadScripts:function(scripts,cb,args){function _cb(){_this._loadScripts(scripts,cb,args)}if(!scripts||0===scripts.length)return cb(args);var c,_this=this,s=scripts.pop();if(c=L.Control.Layers._script_cache[s],void 0===c){c={url:s,wait:[]};var script=document.createElement("script");script.src=s,script.type="text/javascript",script.onload=function(){var i=0;for(i=0;i<c.wait.length;i++)c.wait[i]()},c.e=script,document.getElementsByTagName("head")[0].appendChild(script)}c.wait.push(_cb),"completed"===c.e.readyState&&_cb(),L.Control.Layers._script_cache[s]=c},addLayerDef:function(name,def){void 0===this._layer_defs&&(this._layer_defs={}),this._layer_defs[name]=def},addLayerDefs:function(defs){void 0===this._layer_defs&&(this._layer_defs={}),L.Util.extend(this._layer_defs,defs)},loadLayer:function(name,deflt){var _this=this,l=this._layer_defs[name];l["default"]=deflt,this._loadScripts(l.js.reverse(),function(l){_this._loadLayer(l)},l)},_loadLayer:function(l){var x=l.init();l["default"]&&this._map&&this._map.addLayer(x),l.overlay?this.addOverlay(x,l.name):this.addBaseLayer(x,l.name)}}),L.Control.Layers._script_cache={};