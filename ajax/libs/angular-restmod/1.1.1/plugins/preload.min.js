/**
 * API Bound Models for AngularJS
 * @version v1.1.1 - 2014-09-23
 * @link https://github.com/angular-platanus/restmod
 * @author Ignacio Baixas <ignacio@platan.us>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
!function(a){"use strict";a.module("restmod").factory("restmod.Preload",["restmod","$q",function(b,c){function d(a){for(var b=[],d=0;d<a.length;d++)b.push(a[d].$resolve().$asPromise());return c.all(b)}function e(b,e){for(var f,g=[],h=0,i=b.length;i>h;h++)f=b[h][e],a.isArray(f)?g.push.apply(g,f):f&&g.push(f);if(g.length>0){var j="function"==typeof g[0].$type.$populate?g[0].$type.$populate(g).$asPromise():d(g);if(j)return j.then(function(){return g})}return c.when(g)}function f(a){return function(b){return e(b,a)}}return b.mixin(function(){this.define("Resource.$preload",function(){var a=arguments;return this.$always(function(){for(var b,d,g,h,i={},j=[],k=this.$isCollection?this:[this],l=0;l<a.length;l++){var m=a[l];if(!i[m]){b="",m=m.split("."),h=null;for(var n=0;n<m.length;n++)d=m[n],g=b+"."+d,i[g]?h=i[g]:(h=h?h.then(f(d)):e(k,d),i[g]=h);j.push(h)}}return c.all(j)})})})}])}(angular);