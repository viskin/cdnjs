/**
 * API Bound Models for AngularJS
 * @version v0.5.2 - 2013-11-08
 * @link https://github.com/angular-platanus/restmod
 * @author Ignacio Baixas <iobaixas@gmai.com>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
!function(a,b){"use strict";var c=a.bind,d=a.isObject;a.module("plRestmod").factory("DebouncedModel",["$restmod","$timeout","$q",function(a,e,f){return a.mixin(function(){this.attrIgnored("$dmPromise",!0).define("$dmTimeout",500).define("$dmAdjourn",!0).extend("setDebounceOptions",function(a){return a.timeout!==b&&this.define("$dmTimeout",a.timeout),a.adjourn!==b&&this.define("$dmAdjourn",a.adjourn),this}).define("$save",function(a){function g(){k.call(l).$then(c(j,j.resolve),c(j,j.reject)),l.$dmPromise=null}var h=this.$dmTimeout,i=this.$dmAdjourn;if(a!==b&&d(a)&&(a.timeout!==b&&(h=a.timeout),a.adjourn!==b&&(i=a.adjourn)),this.$dmPromise){if(!i)return this;e.cancel(this.$dmPromise),this.$dmPromise=null}if(!h)return this.$super();var j=f.defer(),k=this.$super,l=this;return this.$dmPromise=e(g,h),this.$promise=j,this}).define("$saveNow",function(){return this.$save({timeout:0,adjourn:!0})})})}])}(angular);