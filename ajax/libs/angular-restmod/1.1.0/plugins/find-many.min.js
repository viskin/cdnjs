/**
 * API Bound Models for AngularJS
 * @version v1.1.0 - 2014-09-23
 * @link https://github.com/angular-platanus/restmod
 * @author Ignacio Baixas <ignacio@platan.us>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
!function(a){"use strict";a.module("restmod").factory("restmod.FindMany",["restmod","RMPackerCache","inflector",function(a,b,c){return a.mixin(function(){this.define("Scope.$findManyUrl",function(a){return this.$fetchManyUrl?this.$fetchManyUrl(a):this.$url(a)}).define("Scope.$populate",function(a){for(var d,e,f=[],g={},h={},i=this.$type,j=i.dummy(!0),k=0;k<a.length;k++)d=a[k],d.$resolved||(g[d.$pk]?g[d.$pk].push(d):(g[d.$pk]=[d],f.push(d.$pk)));return 0===f.length?j:(h[i.getProperty("findManyKey",c.pluralize(i.getProperty("primaryKey")))]=f,e={url:(this.$scope||this).$findManyUrl(this),method:"GET",params:h},j.$dispatch("before-find-many",[e]),i.dummy(!0).$send(e,function(a){try{b.prepare();for(var c,d,e=i.unpack(this,a.data),f=0;f<e.length;f++)if(c=i.inferKey(e[f]),d=g[c])for(var h=0;h<d.length;h++)d[h].$resolved||d[h].$decode(e[f])}finally{b.clear()}}))})})}])}(angular);