function TimeSeries(){this.data=[],this.max=void 0,this.min=void 0}function SmoothieChart(e){e=e||{},e.grid=e.grid||{fillStyle:"#000000",strokeStyle:"#777777",lineWidth:1,millisPerLine:1e3,verticalSections:2},e.millisPerPixel=e.millisPerPixel||20,e.fps=e.fps||20,e.labels=e.labels||{fillStyle:"#ffffff"},this.options=e,this.seriesSet=[]}TimeSeries.prototype.append=function(e,i){this.data.push([e,i]),this.maxValue=this.maxValue?Math.max(this.maxValue,i):i,this.minValue=this.minValue?Math.min(this.minValue,i):i},SmoothieChart.prototype.addTimeSeries=function(e,i){this.seriesSet.push({timeSeries:e,options:i||{}})},SmoothieChart.prototype.streamTo=function(e,i){var t=this;!function l(){t.render(e,(new Date).getTime()-(i||0)),setTimeout(l,1e3/t.options.fps)}()},SmoothieChart.prototype.render=function(e,i){var t=e.getContext("2d"),l=this.options,h={top:0,left:0,width:e.clientWidth,height:e.clientHeight};if(t.save(),i-=i%l.millisPerPixel,t.translate(h.left,h.top),t.beginPath(),t.rect(0,0,h.width,h.height),t.clip(),t.save(),t.fillStyle=l.grid.fillStyle,t.fillRect(0,0,h.width,h.height),t.restore(),t.save(),t.lineWidth=l.grid.lineWidth||1,t.strokeStyle=l.grid.strokeStyle||"#ffffff",l.grid.millisPerLine>0)for(var r=i-i%l.grid.millisPerLine;r>=i-h.width*l.millisPerPixel;r-=l.grid.millisPerLine){t.beginPath();var s=Math.round(h.width-(i-r)/l.millisPerPixel);t.moveTo(s,0),t.lineTo(s,h.height),t.stroke(),t.closePath()}for(var a=1;a<l.grid.verticalSections;a++){var o=Math.round(a*h.height/l.grid.verticalSections);t.beginPath(),t.moveTo(0,o),t.lineTo(h.width,o),t.stroke(),t.closePath()}t.beginPath(),t.strokeRect(0,0,h.width,h.height),t.closePath(),t.restore();for(var n=void 0,d=void 0,f=0;f<this.seriesSet.length;f++){var m=this.seriesSet[f].timeSeries;m.maxValue&&(n=n?Math.max(n,m.maxValue):m.maxValue),m.minValue&&(d=d?Math.min(d,m.minValue):m.minValue)}if(n||d){for(var g=n-d,f=0;f<this.seriesSet.length;f++){t.save();for(var m=this.seriesSet[f].timeSeries,S=m.data,u=this.seriesSet[f].options;S.length>=2&&S[1][0]<i-h.width*l.millisPerPixel;)S.splice(0,1);t.lineWidth=u.lineWidth||1,t.fillStyle=u.fillStyle,t.strokeStyle=u.strokeStyle||"#ffffff",t.beginPath();for(var v=0,P=0,c=0,p=0;p<S.length;p++){var x=Math.round(h.width-(i-S[p][0])/l.millisPerPixel),y=S[p][1],T=n-y,w=Math.round(T/g*h.height),M=Math.max(Math.min(w,h.height-1),1);0==p&&(v=x),t.bezierCurveTo(Math.round((P+x)/2),c,Math.round(P+x)/2,M,x,M),P=x,c=M}S.length>0&&u.fillStyle&&(t.lineTo(h.width+u.lineWidth+1,c),t.lineTo(h.width+u.lineWidth+1,h.height+u.lineWidth+1),t.lineTo(v,h.height+u.lineWidth),t.fill()),t.stroke(),t.closePath(),t.restore()}if(!l.labels.disabled){t.fillStyle=l.labels.fillStyle;var V=n.toFixed(2),b=d.toFixed(2);t.fillText(V,h.width-t.measureText(V).width-2,10),t.fillText(b,h.width-t.measureText(b).width-2,h.height-2)}t.restore()}};