+function(c){var b=window.navigator.appName=="Microsoft Internet Explorer";var a=function(f,e){this.$element=c(f);this.$input=this.$element.find(":file");if(this.$input.length===0){return}this.name=this.$input.attr("name")||e.name;this.$hidden=this.$element.find('input[type=hidden][name="'+this.name+'"]');if(this.$hidden.length===0){this.$hidden=c('<input type="hidden" />');this.$element.prepend(this.$hidden)}this.$preview=this.$element.find(".fileinput-preview");var d=this.$preview.css("height");if(this.$preview.css("display")!="inline"&&d!="0px"&&d!="none"){this.$preview.css("line-height",d)}this.original={exists:this.$element.hasClass("fileinput-exists"),preview:this.$preview.html(),hiddenVal:this.$hidden.val()};this.inline_flag=this.$element.find(".input-group").length;if(this.inline_flag){this.$change=this.$element.find('[data-role="change"]');this.$select_file=this.$element.find('[data-role="select-file"]')}this.listen()};a.prototype.listen=function(){this.$input.on("change.bs.fileinput",c.proxy(this.change,this));c(this.$input[0].form).on("reset.bs.fileinput",c.proxy(this.reset,this));if(this.inline_flag){this.$element.on("mousemove.bs.fileinput",c.proxy(this.checkmove,this)).on("mouseout.bs.fileinput",c.proxy(this.resetControlsClass,this)).on("mousedown.bs.fileinput",c.proxy(this.activateControls,this))}this.$element.find('[data-trigger="fileinput"]').on("click.bs.fileinput",c.proxy(this.trigger,this));this.$element.find('[data-dismiss="fileinput"]').on("click.bs.fileinput",c.proxy(this.clear,this))},a.prototype.change=function(i){if(i.target.files===undefined){i.target.files=i.target&&i.target.value?[{name:i.target.value.replace(/^.+\\/,"")}]:[]}if(i.target.files.length===0){return}this.$hidden.val("");this.$hidden.attr("name","");this.$input.attr("name",this.name);var g=i.target.files[0];if(this.$preview.length>0&&(typeof g.type!=="undefined"?g.type.match("image.*"):g.name.match(/\.(gif|png|jpe?g)$/i))&&typeof FileReader!=="undefined"){var d=new FileReader();var h=this.$preview;var f=this.$element;d.onload=function(j){var e=c("<img>");e[0].src=j.target.result;i.target.files[0].result=j.target.result;f.find(".fileinput-filename").text(g.name);if(h.css("max-height")!="none"){e.css("max-height",parseInt(h.css("max-height"),10)-parseInt(h.css("padding-top"),10)-parseInt(h.css("padding-bottom"),10)-parseInt(h.css("border-top"),10)-parseInt(h.css("border-bottom"),10))}h.html(e);f.addClass("fileinput-exists").removeClass("fileinput-new");f.trigger("change.bs.fileinput",i.target.files)};d.readAsDataURL(g)}else{this.$element.find(".fileinput-filename").text(g.name);this.$preview.text(g.name);this.$element.addClass("fileinput-exists").removeClass("fileinput-new");this.$element.trigger("change.bs.fileinput")}},a.prototype.clear=function(f){if(f){f.preventDefault()}this.$hidden.val("");this.$hidden.attr("name",this.name);this.$input.attr("name","");if(b){var d=this.$input.clone(true);this.$input.after(d);this.$input.remove();this.$input=d}else{this.$input.val("")}this.$preview.html("");this.$element.find(".fileinput-filename").text("");this.$element.addClass("fileinput-new").removeClass("fileinput-exists");if(f!==false){this.$input.trigger("change");this.$element.trigger("clear.bs.fileinput")}},a.prototype.reset=function(){this.clear(false);this.$hidden.val(this.original.hiddenVal);this.$preview.html(this.original.preview);this.$element.find(".fileinput-filename").text("");if(this.original.exists){this.$element.addClass("fileinput-exists").removeClass("fileinput-new")}else{this.$element.addClass("fileinput-new").removeClass("fileinput-exists")}this.$element.trigger("reset.bs.fileinput")},a.prototype.checkmove=function(f){var d=this.$select_file.offset()["left"],g=this.$change.offset()["left"];if(this.$change.is(":hidden")){if(f.pageX>d&&f.pageX<d+this.$select_file.width()){this.$select_file.addClass("hover")}else{this.$select_file.removeClass("hover")}}else{if(f.pageX>g&&f.pageX<g+this.$select_file.width()){this.$change.addClass("hover")}else{this.$change.removeClass("hover")}}},a.prototype.activateControls=function(){if(this.$change.is(":hidden")){this.$select_file.addClass("active")}else{this.$change.addClass("active")}},a.prototype.resetControlsClass=function(){this.$change.removeClass("hover active");this.$select_file.removeClass("hover active")},a.prototype.trigger=function(d){this.$input.trigger("click");d.preventDefault()};c.fn.fileinput=function(d){return this.each(function(){var f=c(this),e=f.data("fileinput");if(!e){f.data("fileinput",(e=new a(this,d)))}if(typeof d=="string"){e[d]()}})};c.fn.fileinput.Constructor=a;c(document).on("click.fileinput.data-api",'[data-provides="fileinput"]',function(f){var d=c(f.target).closest('[data-dismiss="fileinput"], [data-trigger="fileinput"]');if(d.length>0){f.preventDefault()}});c(function(){c('[data-provides="fileinput"]').each(function(){var d=c(this);if(d.data("fileinput")){return}d.fileinput(d.data())})})}(window.jQuery);