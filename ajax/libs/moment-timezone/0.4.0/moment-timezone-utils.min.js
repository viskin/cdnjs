(function(a,b){if(typeof define==="function"&&define.amd){define(["moment"],b)}else{if(typeof exports==="object"){module.exports=b(require("./"))}else{b(a.moment)}}}(this,function(p){if(!p.tz){throw new Error("moment-timezone-utils.js must be loaded after moment-timezone.js")}var n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWX",d=0.000001;function b(t,r){var q=".",s="",u;while(r>0){r-=1;t*=60;u=Math.floor(t+d);q+=n[u];t-=u;if(u){s+=q;q=""}}return s}function c(u,q){var r="",v=Math.abs(u),t=Math.floor(v),s=b(v-t,Math.min(~~q,10));while(t>0){r=n[t%60]+r;t=Math.floor(t/60)}if(u<0){r="-"+r}if(r&&s){return r+s}if(!s&&r==="-"){return"0"}return r||s||"0"}function j(t){var q=[],s=0,r;for(r=0;r<t.length-1;r++){q[r]=c(Math.round((t[r]-s)/1000)/60,1);s=t[r]}return q.join(" ")}function m(u){var q=0,w=[],t=[],x=[],v={},s,r;for(s=0;s<u.abbrs.length;s++){r=u.abbrs[s]+"|"+u.offsets[s];if(v[r]===undefined){v[r]=q;w[q]=u.abbrs[s];t[q]=c(Math.round(u.offsets[s]*60)/60,1);q++}x[s]=c(v[r],0)}return w.join(" ")+"|"+t.join(" ")+"|"+x.join("")}function h(q){if(!q.name){throw new Error("Missing name")}if(!q.abbrs){throw new Error("Missing abbrs")}if(!q.untils){throw new Error("Missing untils")}if(!q.offsets){throw new Error("Missing offsets")}if(q.offsets.length!==q.untils.length||q.offsets.length!==q.abbrs.length){throw new Error("Mismatched array lengths")}}function l(q){h(q);return q.name+"|"+m(q)+"|"+j(q.untils)}function a(r,q){var s;if(r.length!==q.length){return false}for(s=0;s<r.length;s++){if(r[s]!==q[s]){return false}}return true}function g(r,q){return a(r.offsets,q.offsets)&&a(r.abbrs,q.abbrs)&&a(r.untils,q.untils)}function i(u,t,s){var w,v,r,q,x;for(w=0;w<u.length;w++){x=true;r=u[w];for(v=0;v<t.length;v++){q=t[v];if(g(r,q)){s.push(q.name+"|"+r.name);x=false;continue}}if(x){t.push(r)}}}function k(s){var q=[],r=[];if(s.links){r=s.links.slice()}i(s.zones,q,r);return{version:s.version,zones:q,links:r.sort()}}function f(u,w,q){var s=0,v=u.length+1,t,r;if(!q){q=w}if(w>q){r=w;w=q;q=r}for(r=0;r<u.length;r++){if(u[r]==null){continue}t=new Date(u[r]).getUTCFullYear();if(t<w){s=r+1}if(t>q){v=Math.min(v,r+1)}}return[s,v]}function e(r,v,q){var u=Array.prototype.slice,t=f(r.untils,v,q),s=u.apply(r.untils,t);s[s.length-1]=null;return{name:r.name,abbrs:u.apply(r.abbrs,t),untils:s,offsets:u.apply(r.offsets,t)}}function o(s,w,q){var t,u=s.zones,v=[],r;for(t=0;t<u.length;t++){v[t]=e(u[t],w,q)}r=k({zones:v,links:s.links.slice(),version:s.version});for(t=0;t<r.zones.length;t++){r.zones[t]=l(r.zones[t])}return r}p.tz.pack=l;p.tz.packBase60=c;p.tz.createLinks=k;p.tz.filterYears=e;p.tz.filterLinkPack=o;return p}));