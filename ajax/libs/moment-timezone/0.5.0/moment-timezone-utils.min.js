(function(a,b){if(typeof define==="function"&&define.amd){define(["moment"],b)}else{if(typeof module==="object"&&module.exports){module.exports=b(require("./"))}else{b(a.moment)}}}(this,function(q){if(!q.tz){throw new Error("moment-timezone-utils.js must be loaded after moment-timezone.js")}var o="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWX",d=0.000001;function b(u,s){var r=".",t="",v;while(s>0){s-=1;u*=60;v=Math.floor(u+d);r+=o[v];u-=v;if(v){t+=r;r=""}}return t}function c(v,r){var s="",w=Math.abs(v),u=Math.floor(w),t=b(w-u,Math.min(~~r,10));while(u>0){s=o[u%60]+s;u=Math.floor(u/60)}if(v<0){s="-"+s}if(s&&t){return s+t}if(!t&&s==="-"){return"0"}return s||t||"0"}function k(u){var r=[],t=0,s;for(s=0;s<u.length-1;s++){r[s]=c(Math.round((u[s]-t)/1000)/60,1);t=u[s]}return r.join(" ")}function n(v){var r=0,x=[],u=[],y=[],w={},t,s;for(t=0;t<v.abbrs.length;t++){s=v.abbrs[t]+"|"+v.offsets[t];if(w[s]===undefined){w[s]=r;x[r]=v.abbrs[t];u[r]=c(Math.round(v.offsets[t]*60)/60,1);r++}y[t]=c(w[s],0)}return x.join(" ")+"|"+u.join(" ")+"|"+y.join("")}function e(s){if(!s){return""}if(s<1000){return"|"+s}var t=String(s|0).length-2;var r=Math.round(s/Math.pow(10,t));return"|"+r+"e"+t}function i(r){if(!r.name){throw new Error("Missing name")}if(!r.abbrs){throw new Error("Missing abbrs")}if(!r.untils){throw new Error("Missing untils")}if(!r.offsets){throw new Error("Missing offsets")}if(r.offsets.length!==r.untils.length||r.offsets.length!==r.abbrs.length){throw new Error("Mismatched array lengths")}}function m(r){i(r);return[r.name,n(r),k(r.untils)+e(r.population)].join("|")}function a(s,r){var t;if(s.length!==r.length){return false}for(t=0;t<s.length;t++){if(s[t]!==r[t]){return false}}return true}function h(s,r){return a(s.offsets,r.offsets)&&a(s.abbrs,r.abbrs)&&a(s.untils,r.untils)}function j(x,t,A){var v,u,y,w,z,r,s=[];for(v=0;v<x.length;v++){r=false;y=x[v];for(u=0;u<s.length;u++){z=s[u];w=z[0];if(h(y,w)){if(y.population>w.population){z.unshift(y)}else{z.push(y)}r=true}}if(!r){s.push([y])}}for(v=0;v<s.length;v++){z=s[v];t.push(z[0]);for(u=1;u<z.length;u++){A.push(z[0].name+"|"+z[u].name)}}}function l(t){var r=[],s=[];if(t.links){s=t.links.slice()}j(t.zones,r,s);return{version:t.version,zones:r,links:s.sort()}}function g(v,x,r){var t=0,w=v.length+1,u,s;if(!r){r=x}if(x>r){s=x;x=r;r=s}for(s=0;s<v.length;s++){if(v[s]==null){continue}u=new Date(v[s]).getUTCFullYear();if(u<x){t=s+1}if(u>r){w=Math.min(w,s+1)}}return[t,w]}function f(s,w,r){var v=Array.prototype.slice,u=g(s.untils,w,r),t=v.apply(s.untils,u);t[t.length-1]=null;return{name:s.name,abbrs:v.apply(s.abbrs,u),untils:t,offsets:v.apply(s.offsets,u),population:s.population}}function p(t,x,r){var u,v=t.zones,w=[],s;for(u=0;u<v.length;u++){w[u]=f(v[u],x,r)}s=l({zones:w,links:t.links.slice(),version:t.version});for(u=0;u<s.zones.length;u++){s.zones[u]=m(s.zones[u])}return s}q.tz.pack=m;q.tz.packBase60=c;q.tz.createLinks=l;q.tz.filterYears=f;q.tz.filterLinkPack=p;return q}));