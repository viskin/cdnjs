!function(e,t){"use strict";function a(){var t={},a={},n=!1;this.registerStickyState=function(e){a[e.name]=e},this.enableDebug=this.debugMode=function(t){return e.isDefined(t)&&(n=t),n},this.$get=["$rootScope","$state","$stateParams","$injector","$log",function(a,r,s,o,i){function u(){var a={};return e.forEach(t,function(e){for(var t=l(e),n=0;n<t.length;n++){var r=t[n].parent;a[r.name]=a[r.name]||[],a[r.name].push(e)}a[""]&&(a.__inactives=a[""])}),a}function l(e){var t=[];if(!e)return t;do e.sticky&&t.push(e),e=e.parent;while(e);return t.reverse(),t}function f(e,t,a){if(e[a]===t[a])return{from:!1,to:!1};var n=a<e.length&&e[a].self.sticky,r=a<t.length&&t[a].self.sticky;return{from:n,to:r}}function v(e,a,n,r){if(r)return"updateStateParams";var s=t[e.self.name];if(!s)return"enter";if(e.self===n)return"updateStateParams";var o=m(a,s.locals.globals.$stateParams,e.ownParams);return o?"reactivate":"updateStateParams"}function d(e,a){var n=t[e.name];if(!n)return null;if(!a)return n;var r=m(a,n.locals.globals.$stateParams,e.ownParams);return r?n:null}function m(t,a,n){if(!e.isArray(n)&&e.isObject(n)&&(n=protoKeys(n,["$$keys","$$values","$$equals","$$validates","$$new","$$parent"])),!n){n=[];for(var r in t)n.push(r)}for(var s=0;s<n.length;s++){var o=n[s];if(t[o]!=a[o])return!1}return!0}var p={getInactiveStates:function(){var a=[];return e.forEach(t,function(e){a.push(e)}),a},getInactiveStatesByParent:function(){return u()},processTransition:function(t){var a={inactives:[],enter:[],exit:[],keep:0},n=t.fromState.path,o=t.fromParams,i=t.toState.path,l=t.toParams,c=t.reloadStateTree,d=t.options,p=0,h=i[p];for(d.inherit&&(l=inheritParams(s,l||{},r.$current,t.toState));h&&h===n[p]&&m(l,o,h.ownParams);)h=i[++p];a.keep=p;var g,$,x,S={},E=f(n,i,p),P=!!d.reload;for(g=p;g<i.length;g++){var b=E.to?v(i[g],l,c,P):"enter";P=P||"updateStateParams"==b,a.enter[g]=b,"reactivate"==b&&(x=S[i[g].name]=i[g]),"updateStateParams"==b&&($=S[i[g].name]=i[g])}x=x?x.self.name+".":"",$=$?$.self.name+".":"";var k=u(),y=[""].concat(map(n.slice(0,p),function(e){return e.self.name}));for(e.forEach(y,function(e){for(var t=k[e],n=0;t&&n<t.length;n++){var r=t[n];S[r.name]||x&&0===r.self.name.indexOf(x)||$&&0===r.self.name.indexOf($)||a.inactives.push(r)}}),g=p;g<n.length;g++){var w="exit";E.from&&(a.inactives.push(n[g]),w="inactivate"),a.exit[g]=w}return a},stateInactivated:function(e){t[e.self.name]=e,e.self.status="inactive",e.self.onInactivate&&o.invoke(e.self.onInactivate,e.self,e.locals.globals)},stateReactivated:function(e){t[e.self.name]&&delete t[e.self.name],e.self.status="entered",e.self.onReactivate&&o.invoke(e.self.onReactivate,e.self,e.locals.globals)},stateExiting:function(a,r,s){var u={};e.forEach(r,function(e){u[e.self.name]=!0}),e.forEach(t,function(r,s){!u[s]&&r.includes[a.name]&&(n&&i.debug("Exiting "+s+" because it's a substate of "+a.name+" and wasn't found in ",u),r.self.onExit&&o.invoke(r.self.onExit,r.self,r.locals.globals),e.forEach(r.locals,function(e,t){delete c.locals[t]}),r.locals=null,r.self.status="exited",delete t[s])}),s&&o.invoke(s,a.self,a.locals.globals),a.locals=null,a.self.status="exited",delete t[a.self.name]},stateEntering:function(e,t,a,n){var r=d(e);if(r&&(n||!d(e,t))){var s=e.locals;this.stateExiting(r),e.locals=s}e.self.status="entered",a&&o.invoke(a,e.self,e.locals.globals)},reset:function(e,t){var n=r.get(e),s=d(n,t);return s?(p.stateExiting(s),a.$broadcast("$viewContentLoading"),!0):!1}};return p}]}function n(e){return{resolve:{},locals:{globals:u&&u.locals&&u.locals.globals},views:{},self:{},params:{},ownParams:v.hasParamSet?{$$equals:function(){return!0}}:[],surrogateType:e}}function r(t,a,n){function r(e,t,a){return e[t]?e[t].toUpperCase()+": "+a.self.name:"("+a.self.name+")"}var s=map(n.inactives,function(e){return e.self.name}),o=map(a.toState.path,function(e,t){return r(n.enter,t,e)}),u=map(a.fromState.path,function(e,t){return r(n.exit,t,e)}),l=a.fromState.self.name+": "+e.toJson(a.fromParams)+":  -> "+a.toState.self.name+": "+e.toJson(a.toParams);t.debug("   Current transition: ",l),t.debug("Before transition, inactives are:   : ",map(i.getInactiveStates(),function(e){return e.self.name})),t.debug("After transition,  inactives will be: ",s),t.debug("Transition will exit:  ",u),t.debug("Transition will enter: ",o)}function s(e,t,a){e.debug("Current state: "+t.self.name+", inactive states: ",map(i.getInactiveStates(),function(e){return e.self.name}));for(var n=function(e,t){return"'"+t+"' ("+e.$$state.name+")"},r=function(e,t){return"globals"!=t&&"resolve"!=t},s=function(e){var t=map(filterObj(e.locals,r),n).join(", ");return"("+(e.self.name?e.self.name:"root")+".locals"+(t.length?": "+t:"")+")"},o=s(t),u=t.parent;u&&u!==t;)""===u.self.name&&(o=s(a.$current.path[0])+" / "+o),o=s(u)+" / "+o,t=u,u=t.parent;e.debug("Views: "+o)}e.module("ct.ui.router.extras.sticky",["ct.ui.router.extras.core"]);var o=e.module("ct.ui.router.extras.sticky");a.$inject=["$stateProvider"],o.provider("$stickyState",a);var i,u,l,c,f=[],v={hasParamSet:!1};e.module("ct.ui.router.extras.sticky").run(["$stickyState",function(e){i=e}]),e.module("ct.ui.router.extras.sticky").config(["$provide","$stateProvider","$stickyStateProvider","$urlMatcherFactoryProvider","uirextras_coreProvider",function(a,o,d,m,p){var h=p.internalStates;v.hasParamSet=!!m.ParamSet,c=e.extend(new n("__inactives"),{self:{name:"__inactives"}}),u=l=t,f=[],p.onStateRegistered(function(e){e.self.sticky===!0&&d.registerStickyState(e.self)});var g;a.decorator("$state",["$delegate","$log","$q",function(a,o,p){return u=a.$current,h[""]=u,u.parent=c,c.parent=t,u.locals=inherit(c.locals,u.locals),delete c.locals.globals,g=a.transitionTo,a.transitionTo=function(t,$,x){function S(t){var a=e.extend(new n("reactivate_phase1"),{locals:t.locals});return a.self=e.extend({},t.self),a}function E(t){var a=e.extend(new n("reactivate_phase2"),t),r=a.self.onEnter;return a.resolve={},a.views={},a.self.onEnter=function(){a.locals=t.locals,i.stateReactivated(t)},D.addRestoreFunction(function(){t.self.onEnter=r}),a}function P(e){var t=new n("inactivate");t.self=e.self;var a=e.self.onExit;return t.self.onExit=function(){i.stateInactivated(e)},D.addRestoreFunction(function(){e.self.onExit=a}),t}function b(e,t){var a=e.self.onEnter;return e.self.onEnter=function(){i.stateEntering(e,t,a)},D.addRestoreFunction(function(){e.self.onEnter=a}),e}function k(e,t){var a=e.self.onEnter;return e.self.onEnter=function(){i.stateEntering(e,t,a,!0)},D.addRestoreFunction(function(){e.self.onEnter=a}),e}function y(e){var t=e.self.onExit;return e.self.onExit=function(){i.stateExiting(e,A,t)},D.addRestoreFunction(function(){e.self.onExit=t}),e}var w=d.debugMode();c.locals||(c.locals=u.locals);var F=f.length;l&&(l(),w&&o.debug("Restored paths from pending transition"));var R,T,I,_,O=a.$current,j=a.params,C=x&&x.relative||a.$current,M=a.get(t,C),q=[],A=[];$=$||{},arguments[1]=$;var B=function(){},D=function(){R&&(J.path=R,R=null),T&&(O.path=T,T=null),e.forEach(D.restoreFunctions,function(e){e()}),D=B,l=null,f.splice(F,1)};if(D.restoreFunctions=[],D.addRestoreFunction=function(e){this.restoreFunctions.push(e)},M){var J=h[M.name];if(J){R=J.path,T=O.path;var K=x&&x.reload||!1,L=K&&(K===!0?R[0].self:a.get(K,C));x&&K&&K!==!0&&delete x.reload;var U={toState:J,toParams:$||{},fromState:O,fromParams:j||{},options:x,reloadStateTree:L};if(f.push(U),l=D,L){U.toParams.$$uirouterextrasreload=Math.random();var V=L.$$state().params,z=L.$$state().ownParams;if(v.hasParamSet){var G=new m.Param("$$uirouterextrasreload");V.$$uirouterextrasreload=z.$$uirouterextrasreload=G,D.restoreFunctions.push(function(){delete V.$$uirouterextrasreload,delete z.$$uirouterextrasreload})}else V.push("$$uirouterextrasreload"),z.push("$$uirouterextrasreload"),D.restoreFunctions.push(function(){V.length=V.length-1,z.length=z.length-1})}I=i.processTransition(U),w&&r(o,U,I);var H=J.path.slice(0,I.keep),N=O.path.slice(0,I.keep);e.forEach(c.locals,function(e,t){-1!=t.indexOf("@")&&delete c.locals[t]});for(var Q=0;Q<I.inactives.length;Q++){var W=I.inactives[Q].locals;e.forEach(W,function(e,t){W.hasOwnProperty(t)&&-1!=t.indexOf("@")&&(c.locals[t]=e)})}if(e.forEach(I.enter,function(e,t){var a,n=J.path[t];"reactivate"===e?(a=S(n),H.push(a),N.push(a),q.push(E(n)),_=n):"updateStateParams"===e?(a=k(n),H.push(a),_=n):"enter"===e&&H.push(b(n))}),e.forEach(I.exit,function(e,t){var a=O.path[t];"inactivate"===e?(N.push(P(a)),A.push(a)):"exit"===e&&(N.push(y(a)),A.push(a))}),q.length&&e.forEach(q,function(e){H.push(e)}),J===_){var X=_.self.name+".",Y=i.getInactiveStates(),Z=[];Y.forEach(function(e){0===e.self.name.indexOf(X)&&Z.push(e)}),Z.sort(),Z.reverse(),N=N.concat(map(Z,function(e){return y(e)})),A=A.concat(Z)}J.path=H,O.path=N;var et=function(e){return(e.surrogateType?e.surrogateType+":":"")+e.self.name};w&&o.debug("SurrogateFromPath: ",map(N,et)),w&&o.debug("SurrogateToPath:   ",map(H,et))}}var tt=g.apply(a,arguments);return tt.then(function(e){return D(),w&&s(o,h[e.name],a),e.status="active",e},function(e){return D(),w&&"transition prevented"!==e.message&&"transition aborted"!==e.message&&"transition superseded"!==e.message&&(o.debug("transition failed",e),console.log(e.stack)),p.reject(e)})},a}])}])}(angular);