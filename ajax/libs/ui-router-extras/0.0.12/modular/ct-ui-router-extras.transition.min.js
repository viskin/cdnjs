!function(t){"use strict";t.module("ct.ui.router.extras.transition",["ct.ui.router.extras.core"]).config(["$provide",function(n){n.decorator("$state",["$delegate","$rootScope","$q","$injector",function(n,r,o,e){function i(n){var r=e.invoke,o=e.instantiate;return e.invoke=function(o,e,i){return r(o,e,t.extend({$transition$:n},i))},e.instantiate=function(r,e){return o(r,t.extend({$transition$:n},e))},function(){e.invoke=r,e.instantiate=o}}function a(){p.pop()(),$.pop(),f--}function u(t,n){return function(o){return a(),r.$broadcast("$transitionSuccess",n),t.resolve(o)}}function s(t,n){return function(o){return a(),r.$broadcast("$transitionError",n,o),t.reject(o)}}var c=n.transitionTo,f=-1,$=[],p=[];return n.transitionTo=function(){var t=o.defer(),r=$[++f]={promise:t.promise};p[f]=function(){};var e=c.apply(n,arguments);return e.then(u(t,r),s(t,r))},r.$on("$stateChangeStart",function(n,o,e,a,u){var s=f,c=t.extend($[s],{to:{state:o,params:e},from:{state:a,params:u}}),d=i(c);p[s]=d,r.$broadcast("$transitionStart",c)}),n}])}])}(angular);