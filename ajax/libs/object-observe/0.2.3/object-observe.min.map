{"version":3,"file":"object-observe.min.js","sources":["object-observe.js"],"names":["Object","observe","O","A","root","observed","handlers","defaultAcceptList","isArray","toString","object","call","prototype","inArray","indexOf","array","pivot","start","i","length","createMap","Map","forEach","keys","values","size","has","key","get","set","value","push","this","delete","splice","callback","arguments","getProps","getOwnPropertyNames","func","callee","e","avoid","join","replace","slice","split","props","j","prop","hop","hasOwnProperty","getPrototype","getPrototypeOf","getDescriptor","defineProperties","getOwnPropertyDescriptor","nextFrame","requestAnimationFrame","webkitRequestAnimationFrame","initial","Date","last","now","setTimeout","doObserve","handler","acceptList","data","setHandler","createObjectData","runGlobalLoop","descs","frozen","isFrozen","extensible","isExtensible","proto","properties","notifier","retrieveNotifier","descriptors","performPropertyChecks","updateCheck","idx","except","descr","ovalue","odesc","addChangeRecord","name","type","oldValue","configurable","writable","enumerable","deletionCheck","proplen","deliverHandlerRecords","hdata","changeRecords","notify","changeRecord","recordCopy","performChange","changeType","TypeError","result","odata","unobserve","getNotifier","deliverChangeRecords","Array"],"mappings":"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"}