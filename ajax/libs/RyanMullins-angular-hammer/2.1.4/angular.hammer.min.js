// ---- Angular Hammer ----
// Copyright (c) 2014 Ryan S Mullins <ryan@ryanmullins.org>
// Licensed under the MIT Software License
!function(a,b,c){"use strict";function d(a,b){if(!a||!b||!b.type)return null;var d;return d=b.type.indexOf("pan")>-1?new c.Pan(b):b.type.indexOf("pinch")>-1?new c.Pinch(b):b.type.indexOf("press")>-1?new c.Press(b):b.type.indexOf("rotate")>-1?new c.Rotate(b):b.type.indexOf("swipe")>-1?new c.Swipe(b):new c.Tap(b),a.add(d),d}function e(a,b){return a&&(b.preventGhosts=a.preventGhosts),b}function f(a){return a.indexOf("pan")>-1?"pan":a.indexOf("pinch")>-1?"pinch":a.indexOf("press")>-1?"press":a.indexOf("rotate")>-1?"rotate":a.indexOf("swipe")>-1?"swipe":"tap"}function g(a,b,c){if(a&&b){var e=a.get(b.type);e||(e=d(a,b)),b.directions||(b.directions="pan"===b.type||"swipe"===b.type?"DIRECTION_ALL":b.type.indexOf("left")>-1?"DIRECTION_LEFT":b.type.indexOf("right")>-1?"DIRECTION_RIGHT":b.type.indexOf("up")>-1?"DIRECTION_UP":b.type.indexOf("down")>-1?"DIRECTION_DOWN":""),b.direction=h(b.directions),e.set(b),b.recognizeWith&&(a.get(b.recognizeWith)||d(a,{type:b.recognizeWith}),e.recognizeWith(b.recognizeWith)),b.dropRecognizeWith&&hammer.get(b.dropRecognizeWith)&&e.dropRecognizeWith(b.dropRecognizeWith),b.requireFailure&&(a.get(b.requireFailure)||d(a,{type:b.requireFailure}),e.requireFailure(b.requireFailure)),b.dropRequireFailure&&hammer.get(b.dropRequireFailure)&&e.dropRequireFailure(b.dropRequireFailure),b.preventGhosts&&c&&i(c)}}function h(a){var d=0;return b.forEach(a.split("|"),function(a){c.hasOwnProperty(a)&&(d|=c[a])}),d}function i(b){function c(a){for(var b=0;b<g.length;b++){var c=g[b][0],d=g[b][1];if(Math.abs(a.clientX-c)<h&&Math.abs(a.clientY-d)<h){a.stopPropagation(),a.preventDefault();break}}}function d(){g=[]}function e(){g.splice(0,1)}function f(a){if(a.touches.length-a.changedTouches.length<=0){var b=a.changedTouches[0];g.push([b.clientX,b.clientY]),setTimeout(e,i)}}if(b){var g=[],h=25,i=2500;"ontouchstart"in a&&(b[0].addEventListener("touchstart",d,!0),b[0].addEventListener("touchend",f,!0),b[0].addEventListener("click",c,!0))}}if("undefined"==typeof b)if("undefined"!=typeof require&&require)try{b=require("angular")}catch(j){return console.log("ERROR: Angular Hammer could not require() a reference to angular")}else{if("undefined"==typeof a.angular)return console.log("ERROR: Angular Hammer could not find or require() a reference to angular");b=a.angular}if("undefined"==typeof c)if("undefined"!=typeof require&&require)try{c=require("hammerjs")}catch(j){return console.log("ERROR: Angular Hammer could not require() a reference to Hammer")}else{if("undefined"==typeof a.Hammer)return console.log("ERROR: Angular Hammer could not find or require() a reference to Hammer");c=a.Hammer}var k=["hmCustom:custom","hmSwipe:swipe","hmSwipeleft:swipeleft","hmSwiperight:swiperight","hmSwipeup:swipeup","hmSwipedown:swipedown","hmPan:pan","hmPanstart:panstart","hmPanmove:panmove","hmPanend:panend","hmPancancel:pancancel","hmPanleft:panleft","hmPanright:panright","hmPanup:panup","hmPandown:pandown","hmPress:press","hmRotate:rotate","hmRotatestart:rotatestart","hmRotatemove:rotatemove","hmRotateend:rotateend","hmRotatecancel:rotatecancel","hmPinch:pinch","hmPinchstart:pinchstart","hmPinchmove:pinchmove","hmPinchend:pinchend","hmPinchcancel:pinchcancel","hmPinchin:pinchin","hmPinchout:pinchout","hmTap:tap","hmDoubletap:doubletap"];b.module("hmTouchEvents",[]),b.forEach(k,function(a){var d=a.split(":"),h=d[0],i=d[1];b.module("hmTouchEvents").directive(h,["$parse","$window",function(a,d){return{restrict:"A",link:function(j,k,l){var m=l[h],n=a(m),o=function(a){a.element=k;var b=j.$root.$$phase,c=n(j);c&&("$apply"===b||"$digest"===b?c.call(j,a):j.$apply(function(){c.call(j,a)}))},p=b.fromJson(l.hmManagerOptions),q=b.fromJson(l.hmRecognizerOptions),r=k.data("hammer");return c&&d.addEventListener?(r||(r=new c.Manager(k[0],p),k.data("hammer",r),j.$on("$destroy",function(){r.destroy()})),b.isArray(q)?b.forEach(q,function(a){"hmCustom"===h?i=a.event:(a.type||(a.type=f(i)),a.event&&delete a.event),("hmCustom"===h||i.indexOf(a.type)>-1)&&g(r,e(p,a),k)}):b.isObject(q)?("hmCustom"===h?i=q.event:(q.type||(q.type=f(i)),q.event&&delete q.event),("hmCustom"===h||i.indexOf(q.type)>-1)&&g(r,e(p,q),k)):"hmCustom"!==h?(q={type:f(i)},"hmDoubletap"===h&&(q.event=i,q.taps=2,r.get("tap")&&(q.recognizeWith="tap")),q.type.indexOf("pan")>-1&&r.get("swipe")&&(q.recognizeWith="swipe"),q.type.indexOf("pinch")>-1&&r.get("rotate")&&(q.recognizeWith="rotate"),g(r,e(p,q),k)):i=null,void(i&&r.on(i,o))):("hmTap"===h&&k.bind("click",o),void("hmDoubletap"===h&&k.bind("dblclick",o)))}}}])})}(window,window.angular,window.Hammer);
//# sourceMappingURL=angular.hammer.min.js.map