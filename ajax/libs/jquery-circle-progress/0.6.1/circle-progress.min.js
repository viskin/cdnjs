$.circleProgress={defaults:{value:0,size:100,startAngle:-Math.PI,thickness:"auto",fill:{gradient:["#3aeabb","#fdd250"]},emptyFill:"rgba(0, 0, 0, .1)",animation:{duration:1200,easing:"circleProgressEasing"},reversedAnimation:false}};$.easing.circleProgressEasing=function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f+a}return h/2*((f-=2)*f*f+2)+a};$.fn.circleProgress=function(a){if(a=="widget"){return this.data("circle-progress")}a=$.extend({},$.circleProgress.defaults,a);return this.each(function(){var d=$(this),l=a.size,f=l/2,b=l/14,n=a.value,q=a.startAngle,p=a.emptyFill,c=a.reversedAnimation,t;if($.isNumeric(a.thickness)){b=a.thickness}var e=d.data("circle-progress");if(!e){e=$("<canvas>").prependTo(d)[0];d.data("circle-progress",e)}e.width=l;e.height=l;var o=e.getContext("2d");if(!a.fill){throw Error("The fill is not specified!")}if(a.fill.color){t=a.fill.color}if(a.fill.gradient){var m=a.fill.gradient;if(m.length==1){t=m[0]}else{if(m.length>1){var k=o.createLinearGradient(0,0,l,0);for(var r=0;r<m.length;r++){k.addColorStop(r/(m.length-1),m[r])}t=k}}}if(a.fill.image){var u=new Image();u.src=a.fill.image;u.onload=function(){var i=$("<canvas>")[0];i.width=l;i.height=l;i.getContext("2d").drawImage(u,0,0,l,l);t=o.createPattern(i,"no-repeat");if(!a.animation){j(n)}}}if(a.animation){s(n)}else{j(n)}function j(i){o.clearRect(0,0,l,l);g(i);h(i)}function g(i){o.save();o.beginPath();o.arc(f,f,f-b/2,q,q+Math.PI*2*i);o.lineWidth=b;o.strokeStyle=t;o.stroke();o.restore()}function h(i){o.save();if(i<1){o.beginPath();if(i<=0){o.arc(f,f,f-b/2,0,Math.PI*2)}else{o.arc(f,f,f-b/2,q+Math.PI*2*i,q)}o.lineWidth=b;o.strokeStyle=p;o.stroke()}o.restore()}function s(i){d.trigger("circle-animation-start");$(e).css({progress:0}).animate({progress:c?1-i:i},$.extend({},a.animation,{step:function(x){var w=c?x/(1-i):x/i,v=c?1-x:x;j(v);d.trigger("circle-animation-progress",[w,v])},complete:function(){d.trigger("circle-animation-end")}}))}})};