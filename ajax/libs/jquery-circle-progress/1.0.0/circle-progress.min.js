$.circleProgress={defaults:{value:0,size:100,startAngle:-Math.PI,thickness:"auto",fill:{gradient:["#3aeabb","#fdd250"]},emptyFill:"rgba(0, 0, 0, .1)",animation:{duration:1200,easing:"circleProgressEasing"},animationStartValue:0},reverse:false};$.easing.circleProgressEasing=function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f+a}return h/2*((f-=2)*f*f+2)+a};$.fn.circleProgress=function(a){if(typeof a=="string"&&a!="widget"&&a!="redraw"){throw Error("Only 2 commands supported: 'widget' and 'redraw'")}if(a=="widget"){return this.data("circle-progress").widget}return this.each(function(){var c=$(this);var l="circle-progress",w=c.data(l);if(!w){w={options:null,widget:null};c.data(l,w)}var e;if(typeof a=="undefined"||a=="redraw"){e=w.options}else{e=$.extend({},$.circleProgress.defaults,a);w.options=e}var n=e.size,g=n/2,b=n/14,p=e.value,s=e.startAngle,r=e.emptyFill,x=e.animationStartValue,v;if($.isNumeric(e.thickness)){b=e.thickness}var d=w.widget;if(!d){d=$("<canvas>").prependTo(c)[0];w.widget=d}d.width=n;d.height=n;var q=d.getContext("2d");if(!e.fill){throw Error("The fill is not specified!")}if(e.fill.color){v=e.fill.color}if(e.fill.gradient){var o=e.fill.gradient;if(o.length==1){v=o[0]}else{if(o.length>1){var m=q.createLinearGradient(0,0,n,0);for(var t=0;t<o.length;t++){m.addColorStop(t/(o.length-1),o[t])}v=m}}}if(e.fill.image){var y;if(e.fill.image instanceof Image){y=e.fill.image}else{y=new Image();y.src=e.fill.image}if(y.complete){f()}else{y.onload=f()}}if(e.animation){u(p)}else{k(p)}function f(){var i=$("<canvas>")[0];i.width=n;i.height=n;i.getContext("2d").drawImage(y,0,0,n,n);v=q.createPattern(i,"no-repeat");if(!e.animation){k(p)}}function k(i){q.clearRect(0,0,n,n);h(i);j(i)}function h(i){q.save();q.beginPath();if(!e.reverse){q.arc(g,g,g-b/2,s,s+Math.PI*2*i)}else{q.arc(g,g,g-b/2,s-Math.PI*2*i,s)}q.lineWidth=b;q.strokeStyle=v;q.stroke();q.restore()}function j(i){q.save();if(i<1){q.beginPath();if(i<=0){q.arc(g,g,g-b/2,0,Math.PI*2)}else{if(!e.reverse){q.arc(g,g,g-b/2,s+Math.PI*2*i,s)}else{q.arc(g,g,g-b/2,s,s-Math.PI*2*i)}}q.lineWidth=b;q.strokeStyle=r;q.stroke()}q.restore()}function u(i){c.trigger("circle-animation-start");$(d).stop(true,true).css({animationProgress:0}).animate({animationProgress:1},$.extend({},e.animation,{step:function(A){var z=x*(1-A)+i*A;k(z);c.trigger("circle-animation-progress",[A,z])},complete:function(){c.trigger("circle-animation-end")}}))}})};