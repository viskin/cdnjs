$.circleProgress={defaults:{value:0,size:100,startAngle:-Math.PI,thickness:"auto",fill:{gradient:["#3aeabb","#fdd250"]},emptyFill:"rgba(0, 0, 0, .1)",animation:{duration:1200,easing:"circleProgressEasing"},animationStartValue:0}};$.easing.circleProgressEasing=function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f+a}return h/2*((f-=2)*f*f+2)+a};$.fn.circleProgress=function(a){if(typeof a=="string"&&a!="widget"&&a!="redraw"){throw Error("Only 2 commands supported: 'widget' and 'redraw'")}if(a=="widget"){return this.data("circle-progress").widget}return this.each(function(){var c=$(this);var k="circle-progress",v=c.data(k);if(!v){v={options:null,widget:null};c.data(k,v)}var e;if(typeof a=="undefined"||a=="redraw"){e=v.options}else{e=$.extend({},$.circleProgress.defaults,a);v.options=e}var m=e.size,f=m/2,b=m/14,o=e.value,r=e.startAngle,q=e.emptyFill,w=e.animationStartValue,u;if($.isNumeric(e.thickness)){b=e.thickness}var d=v.widget;if(!d){d=$("<canvas>").prependTo(c)[0];v.widget=d}d.width=m;d.height=m;var p=d.getContext("2d");if(!e.fill){throw Error("The fill is not specified!")}if(e.fill.color){u=e.fill.color}if(e.fill.gradient){var n=e.fill.gradient;if(n.length==1){u=n[0]}else{if(n.length>1){var l=p.createLinearGradient(0,0,m,0);for(var s=0;s<n.length;s++){l.addColorStop(s/(n.length-1),n[s])}u=l}}}if(e.fill.image){var x=new Image();x.src=e.fill.image;x.onload=function(){var i=$("<canvas>")[0];i.width=m;i.height=m;i.getContext("2d").drawImage(x,0,0,m,m);u=p.createPattern(i,"no-repeat");if(!e.animation){j(o)}}}if(e.animation){t(o)}else{j(o)}function j(i){p.clearRect(0,0,m,m);g(i);h(i)}function g(i){p.save();p.beginPath();p.arc(f,f,f-b/2,r,r+Math.PI*2*i);p.lineWidth=b;p.strokeStyle=u;p.stroke();p.restore()}function h(i){p.save();if(i<1){p.beginPath();if(i<=0){p.arc(f,f,f-b/2,0,Math.PI*2)}else{p.arc(f,f,f-b/2,r+Math.PI*2*i,r)}p.lineWidth=b;p.strokeStyle=q;p.stroke()}p.restore()}function t(i){c.trigger("circle-animation-start");$(d).css({animationProgress:0}).animate({animationProgress:1},$.extend({},e.animation,{step:function(z){var y=w*(1-z)+i*z;j(y);c.trigger("circle-animation-progress",[z,y])},complete:function(){c.trigger("circle-animation-end")}}))}})};