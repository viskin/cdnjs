$.circleProgress={defaults:{value:0,size:100,startAngle:-Math.PI,thickness:"auto",fill:{gradient:["#3aeabb","#fdd250"]},emptyFill:"rgba(0, 0, 0, .1)",animation:{duration:1200,easing:"circleProgressEasing"}}};$.easing.circleProgressEasing=function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f+a}return h/2*((f-=2)*f*f+2)+a};$.fn.circleProgress=function(a){if(a=="widget"){return this.data("circle-progress")}a=$.extend({},$.circleProgress.defaults,a);return this.each(function(){var c=$(this),k=a.size,e=k/2,b=k/14,m=a.value,p=a.startAngle,o=a.emptyFill,s;if($.isNumeric(a.thickness)){b=a.thickness}var d=c.data("circle-progress");if(!d){d=$("<canvas>").prependTo(c)[0];c.data("circle-progress",d)}d.width=k;d.height=k;var n=d.getContext("2d");if(!a.fill){throw Error("The fill is not specified!")}if(a.fill.color){s=a.fill.color}if(a.fill.gradient){var l=a.fill.gradient;if(l.length==1){s=l[0]}else{if(l.length>1){var j=n.createLinearGradient(0,0,k,0);for(var q=0;q<l.length;q++){j.addColorStop(q/(l.length-1),l[q])}s=j}}}if(a.fill.image){var t=new Image();t.src=a.fill.image;t.onload=function(){var i=$("<canvas>")[0];i.width=k;i.height=k;i.getContext("2d").drawImage(t,0,0,k,k);s=n.createPattern(i,"no-repeat");if(!a.animation){h(m)}}}if(a.animation){r(m)}else{h(m)}function h(i){n.clearRect(0,0,k,k);f(i);g(i)}function f(i){n.save();n.beginPath();n.arc(e,e,e-b/2,p,p+Math.PI*2*i);n.lineWidth=b;n.strokeStyle=s;n.stroke();n.restore()}function g(i){n.save();if(i<1){n.beginPath();if(i<=0){n.arc(e,e,e-b/2,0,Math.PI*2)}else{n.arc(e,e,e-b/2,p+Math.PI*2*i,p)}n.lineWidth=b;n.strokeStyle=o;n.stroke()}n.restore()}function r(i){c.trigger("circle-animation-start");$(d).css({progress:0}).animate({progress:i},$.extend({},a.animation,{step:function(u){h(u);c.trigger("circle-animation-progress",[u/i,u])},complete:function(){c.trigger("circle-animation-end")}}))}})};