/*
  Copyright 2014 The Lovefield Project Authors. All Rights Reserved.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
*/
(function(){'use strict';var aa=window,ba=Object,ca=Function,da=document,ea=Math,e=Array,fa=Error,ga=parseInt,ha=String;function ia(a,b){return a.exec=b}function ja(a,b){return a.getName=b}function ka(a,b){return a.remove=b}function la(a,b){return a.forEach=b}function ma(a,b){return a.values=b}function na(a,b){return a.clear=b}function oa(a,b){return a.bind=b}function f(a,b){return a.toString=b}function pa(a,b){return a.table=b}function qa(a,b){return a.dump=b}function ra(a,b){return a.next=b}
function sa(a,b){return a.close=b}function ta(a,b){return a.clone=b}function ua(a,b){return a.child=b}function va(a,b){return a.onerror=b}function wa(a,b){return a.value=b}function xa(a,b){return a.getPriority=b}function ya(a,b){return a.delete=b}function za(a,b){return a.subscribe=b}function Aa(a,b){return a.name=b}function Ba(a,b){return a.length=b}function Ca(a,b){return a.onsuccess=b}function Da(a,b){return a.update=b}
var Ea="context",Fa="filter",Ga="version",Ha="getParent",Ia="shift",Ja="exec",Ka="replace",La="concat",Ma="objectStoreNames",k="getName",m="remove",Na="orderByChild",Oa="autoIncrement",n="forEach",Pa="values",Qa="clear",q="bind",Sa="getTime",Ta="continue",r="toString",Ua="global",Va="propertyIsEnumerable",Wa="create",t="table",Xa="compare",Ya="result",Za="size",$a="index",ab="next",bb="split",cb="hasOwnProperty",db="close",eb="once",fb="setImmediate",gb="transaction",hb="child",ib="rows",u="contains",
jb="apply",v="push",kb="reject",lb="reduce",mb="addAll",w="slice",x="value",nb="item",ob="objectStore",pb="indexOf",qb="getPriority",rb="delete",sb="name",y="length",z="prototype",A="then",C="entries",tb="removeChild",ub="openCursor",vb="target",D="call",wb="resolve",xb="some",yb="sort",zb="every",Ab="update",E="splice",F="join",Bb="unshift";function Cb(){return function(){}}function Db(a){return function(b){this[a]=b}}function G(a){return function(){return this[a]}}
function Eb(a){return function(){return a}}var H,Fb=this;function Gb(a){return void 0!==a}function I(a,b,c){a=a[bb](".");c=c||Fb;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a[y]&&(d=a[Ia]());)!a[y]&&Gb(b)?c[d]=b:c=c[d]?c[d]:c[d]={}}function Hb(){}function Ib(a){a.ve=function(){return a.Xf?a.Xf:a.Xf=new a}}
function Jb(a){var b=typeof a;if("object"==b)if(a){if(a instanceof e)return"array";if(a instanceof ba)return b;var c=ba[z][r][D](a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a[y]&&"undefined"!=typeof a[E]&&"undefined"!=typeof a[Va]&&!a[Va]("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a[D]&&"undefined"!=typeof a[Va]&&!a[Va]("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a[D])return"object";return b}
function Kb(a){return null===a}function Lb(a){return null!=a}function Mb(a){var b=Jb(a);return"array"==b||"object"==b&&"number"==typeof a[y]}function Nb(a){return"string"==typeof a}function Ob(a){return"function"==Jb(a)}function Pb(a){return a[Qb]||(a[Qb]=++Rb)}var Qb="closure_uid_"+(1E9*ea.random()>>>0),Rb=0;function Sb(a,b,c){return a[D][jb](a[q],arguments)}
function Tb(a,b,c){if(!a)throw fa();if(2<arguments[y]){var d=e[z][w][D](arguments,2);return function(){var c=e[z][w][D](arguments);e[z][Bb][jb](c,d);return a[jb](b,c)}}return function(){return a[jb](b,arguments)}}function J(a,b,c){J=ca[z][q]&&-1!=ca[z][q][r]()[pb]("native code")?Sb:Tb;return J[jb](null,arguments)}function Ub(a,b){var c=e[z][w][D](arguments,1);return function(){var b=c[w]();b[v][jb](b,arguments);return a[jb](this,b)}}
function K(a,b){function c(){}c.prototype=b[z];a.eb=b[z];a.prototype=new c;a[z].constructor=a;a.Pk=function(a,c,h){for(var l=e(arguments[y]-2),p=2;p<arguments[y];p++)l[p-2]=arguments[p];return b[z][c][jb](a,l)}}oa(ca[z],ca[z][q]||function(a,b){if(1<arguments[y]){var c=e[z][w][D](arguments,1);c[Bb](this,a);return J[jb](null,c)}return J(this,a)});function Vb(a){if(fa.captureStackTrace)fa.captureStackTrace(this,Vb);else{var b=fa().stack;b&&(this.stack=b)}a&&(this.message=ha(a))}K(Vb,fa);Aa(Vb[z],"CustomError");function Wb(a,b){for(var c=a[bb]("%s"),d="",g=e[z][w][D](arguments,1);g[y]&&1<c[y];)d+=c[Ia]()+g[Ia]();return d+c[F]("%s")};function Xb(a,b){b[Bb](a);Vb[D](this,Wb[jb](null,b));b[Ia]()}K(Xb,Vb);Aa(Xb[z],"AssertionError");function Yb(a,b,c,d){var g="Assertion failed";if(c)var g=g+(": "+c),h=d;else a&&(g+=": "+a,h=b);throw new Xb(""+g,h||[]);}function L(a,b,c){a||Yb("",null,b,e[z][w][D](arguments,2));return a}function Zb(a,b){throw new Xb("Failure"+(a?": "+a:""),e[z][w][D](arguments,1));}function $b(a,b,c){Ob(a)||Yb("Expected function but got %s: %s.",[Jb(a),a],b,e[z][w][D](arguments,2));return a};function ac(a,b,c){this.Hj=c;this.$h=a;this.qk=b;this.Nd=0;this.Gd=null}ac[z].get=function(){var a;0<this.Nd?(this.Nd--,a=this.Gd,this.Gd=a[ab],ra(a,null)):a=this.$h();return a};ac[z].put=function(a){this.qk(a);this.Nd<this.Hj&&(this.Nd++,ra(a,this.Gd),this.Gd=a)};var bc=e[z],cc=bc[pb]?function(a,b,c){L(null!=a[y]);return bc[pb][D](a,b,c)}:function(a,b,c){c=null==c?0:0>c?ea.max(0,a[y]+c):c;if(Nb(a))return Nb(b)&&1==b[y]?a[pb](b,c):-1;for(;c<a[y];c++)if(c in a&&a[c]===b)return c;return-1},dc=bc[n]?function(a,b,c){L(null!=a[y]);bc[n][D](a,b,c)}:function(a,b,c){for(var d=a[y],g=Nb(a)?a[bb](""):a,h=0;h<d;h++)h in g&&b[D](c,g[h],h,a)},ec=bc.map?function(a,b,c){L(null!=a[y]);return bc.map[D](a,b,c)}:function(a,b,c){for(var d=a[y],g=e(d),h=Nb(a)?a[bb](""):a,l=0;l<
d;l++)l in h&&(g[l]=b[D](c,h[l],l,a));return g},fc=bc[lb]?function(a,b,c,d){L(null!=a[y]);d&&(b=J(b,d));return bc[lb][D](a,b,c)}:function(a,b,c,d){var g=c;dc(a,function(c,l){g=b[D](d,g,c,l,a)});return g},gc=bc[xb]?function(a,b,c){L(null!=a[y]);return bc[xb][D](a,b,c)}:function(a,b,c){for(var d=a[y],g=Nb(a)?a[bb](""):a,h=0;h<d;h++)if(h in g&&b[D](c,g[h],h,a))return!0;return!1},hc=bc[zb]?function(a,b,c){L(null!=a[y]);return bc[zb][D](a,b,c)}:function(a,b,c){for(var d=a[y],g=Nb(a)?a[bb](""):a,h=0;h<
d;h++)if(h in g&&!b[D](c,g[h],h,a))return!1;return!0};function ic(a,b){L(null!=a[y]);return 1==bc[E][D](a,b,1)[y]}function jc(a,b,c){a:{for(var d=a[y],g=Nb(a)?a[bb](""):a,h=0;h<d;h++)if(h in g&&b[D](c,g[h],h,a)){b=h;break a}b=-1}return 0<=b?(ic(a,b),!0):!1}function kc(a){var b=a[y];if(0<b){for(var c=e(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function lc(a,b){for(var c=1;c<arguments[y];c++){var d=arguments[c];if(Mb(d)){var g=a[y]||0,h=d[y]||0;Ba(a,g+h);for(var l=0;l<h;l++)a[g+l]=d[l]}else a[v](d)}}function mc(a,b,c,d){L(null!=a[y]);return bc[E][jb](a,nc(arguments,1))}function nc(a,b,c){L(null!=a[y]);return 2>=arguments[y]?bc[w][D](a,b):bc[w][D](a,b,c)}function oc(a,b,c,d,g){for(var h=0,l=a[y],p;h<l;){var B=h+l>>1,Ra;Ra=c?b[D](g,a[B],B,a):b(d,a[B]);0<Ra?h=B+1:(l=B,p=!Ra)}return p?h:~h}function pc(a,b){return a>b?1:a<b?-1:0}
function qc(a,b,c){c=oc(a,c||pc,!1,b);return 0>c?(mc(a,-(c+1),0,b),!0):!1}function rc(a,b){for(var c=[],d=0;d<b;d++)c[d]=a;return c}function sc(a){for(var b=[],c=0;c<arguments[y];c++){var d=arguments[c];if("array"==Jb(d))for(var g=0;g<d[y];g+=8192)for(var h=nc(d,g,g+8192),h=sc[jb](null,h),l=0;l<h[y];l++)b[v](h[l]);else b[v](d)}return b};function tc(a,b,c){for(var d in a)b[D](c,a[d],d,a)}function uc(a,b,c){for(var d in a)if(b[D](c,a[d],d,a))return!0;return!1}function vc(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function wc(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b};var xc;a:{var yc=Fb.navigator;if(yc){var zc=yc.userAgent;if(zc){xc=zc;break a}}xc=""};function Ac(a){Fb.setTimeout(function(){throw a;},0)}var Bc;
function Cc(){var a=Fb.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof aa&&aa.postMessage&&aa.addEventListener&&-1==xc[pb]("Presto")&&(a=function(){var a=da.createElement("IFRAME");a.style.display="none";a.src="";da.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a[db]();var c="callImmediate"+ea.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=J(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},
this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&-1==xc[pb]("Edge")&&-1==xc[pb]("Trident")&&-1==xc[pb]("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(Gb(c[ab])){c=c[ab];var a=c.xf;c.xf=null;a()}};return function(a){ra(d,{xf:a});d=d[ab];b.port2.postMessage(0)}}return"undefined"!==typeof da&&"onreadystatechange"in da.createElement("SCRIPT")?function(a){var b=da.createElement("SCRIPT");b.onreadystatechange=
function(){b.onreadystatechange=null;b.parentNode[tb](b);b=null;a();a=null};da.documentElement.appendChild(b)}:function(a){Fb.setTimeout(a,0)}};function Dc(){this.be=this.Zb=null}var Fc=new ac(function(){return new Ec},function(a){a.reset()},100);Dc[z].add=function(a,b){var c=this.lj();c.set(a,b);this.be?ra(this.be,c):(L(!this.Zb),this.Zb=c);this.be=c};ka(Dc[z],function(){var a=null;this.Zb&&(a=this.Zb,this.Zb=this.Zb[ab],this.Zb||(this.be=null),ra(a,null));return a});Dc[z].rk=function(a){Fc.put(a)};Dc[z].lj=function(){return Fc.get()};function Ec(){this.scope=this.qe=null;ra(this,null)}
Ec[z].set=function(a,b){this.qe=a;this.scope=b;ra(this,null)};Ec[z].reset=function(){this.scope=this.qe=null;ra(this,null)};function Gc(a,b){Hc||Ic();Jc||(Hc(),Jc=!0);Kc.add(a,b)}var Hc;function Ic(){if(Fb.Promise&&Fb.Promise[wb]){var a=Fb.Promise[wb]();Hc=function(){a[A](Lc)}}else Hc=function(){var a=Lc;if(!Ob(Fb[fb])||Fb.Window&&Fb.Window[z]&&Fb.Window[z][fb]==Fb[fb])Bc||(Bc=Cc()),Bc(a);else Fb[fb](a)}}var Jc=!1,Kc=new Dc;[][v](function(){Jc=!1;Kc=new Dc});function Lc(){for(var a=null;a=Kc[m]();){try{a.qe[D](a.scope)}catch(b){Ac(b)}Kc.rk(a)}Jc=!1};function M(a,b){this.Fa=0;this.Dg=void 0;this.gd=this.cc=this.C=null;this.Fd=this.pe=!1;if(a!=Hb)try{var c=this;a[D](b,function(a){c.qc(2,a)},function(a){if(!(a instanceof Mc))try{if(a instanceof fa)throw a;throw fa("Promise rejected.");}catch(b){}c.qc(3,a)})}catch(d){this.qc(3,d)}}function Nc(){ua(this,null);this.context=this.oc=this.Ob=null;ra(this,null);this.ee=!1}Nc[z].reset=function(){ua(this,null);this.context=this.oc=this.Ob=null;this.ee=!1};
var Oc=new ac(function(){return new Nc},function(a){a.reset()},100);function Pc(a,b,c){var d=Oc.get();d.Ob=a;d.oc=b;d.context=c;return d}function Qc(a){if(a instanceof M)return a;var b=new M(Hb);b.qc(2,a);return b}function Rc(a){return new M(function(b,c){c(a)})}function Sc(a,b,c){Tc(a,b,c,null)||Gc(Ub(b,a))}function Uc(a){return new M(function(b,c){var d=a[y],g=[];if(d)for(var h=function(a,c){d--;g[a]=c;0==d&&b(g)},l=function(a){c(a)},p=0,B;B=a[p];p++)Sc(B,Ub(h,p),l);else b(g)})}
function Vc(){var a,b,c=new M(function(c,g){a=c;b=g});return new Wc(c,a,b)}M[z].then=function(a,b,c){null!=a&&$b(a,"opt_onFulfilled should be a function.");null!=b&&$b(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");return this.nf(Ob(a)?a:null,Ob(b)?b:null,c)};M[z].then=M[z][A];M[z].$goog_Thenable=!0;H=M[z];
H.Ek=function(a,b,c){null!=a&&$b(a,"opt_onFulfilled should be a function.");null!=b&&$b(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");this.mf(Pc(a||Hb,b||null,c))};H.Pg=function(a,b){return this.nf(null,a,b)};H.mf=function(a){this.vj()||2!=this.Fa&&3!=this.Fa||this.Gg();this.gk(a)};
H.nf=function(a,b,c){var d=Pc(null,null,null);ua(d,new M(function(g,h){d.Ob=a?function(b){try{var d=a[D](c,b);g(d)}catch(B){h(B)}}:g;d.oc=b?function(a){try{var d=b[D](c,a);!Gb(d)&&a instanceof Mc?h(a):g(d)}catch(B){h(B)}}:h}));d[hb].C=this;this.mf(d);return d[hb]};H.Hk=function(a){L(1==this.Fa);this.Fa=0;this.qc(2,a)};H.Ik=function(a){L(1==this.Fa);this.Fa=0;this.qc(3,a)};
H.qc=function(a,b){0==this.Fa&&(this==b&&(a=3,b=new TypeError("Promise cannot resolve to itself")),this.Fa=1,Tc(b,this.Hk,this.Ik,this)||(this.Dg=b,this.Fa=a,this.C=null,this.Gg(),3!=a||b instanceof Mc||Xc(this,b)))};
function Tc(a,b,c,d){if(a instanceof M)return a.Ek(b,c,d),!0;var g;if(a)try{g=!!a.$goog_Thenable}catch(h){g=!1}else g=!1;if(g)return a[A](b,c,d),!0;g=typeof a;if("object"==g&&null!=a||"function"==g)try{var l=a[A];if(Ob(l))return Yc(a,l,b,c,d),!0}catch(p){return c[D](d,p),!0}return!1}function Yc(a,b,c,d,g){function h(a){p||(p=!0,d[D](g,a))}function l(a){p||(p=!0,c[D](g,a))}var p=!1;try{b[D](a,l,h)}catch(B){h(B)}}H.Gg=function(){this.pe||(this.pe=!0,Gc(this.vi,this))};H.vj=function(){return!!this.cc};
H.gk=function(a){L(null!=a.Ob);this.gd?ra(this.gd,a):this.cc=a;this.gd=a};H.$j=function(){var a=null;this.cc&&(a=this.cc,this.cc=a[ab],ra(a,null));this.cc||(this.gd=null);null!=a&&L(null!=a.Ob);return a};H.vi=function(){for(var a=null;a=this.$j();)this.ui(a,this.Fa,this.Dg);this.pe=!1};H.ui=function(a,b,c){3==b&&a.oc&&!a.ee&&this.nk();if(a[hb])a[hb].C=null,Zc(a,b,c);else try{a.ee?a.Ob[D](a[Ea]):Zc(a,b,c)}catch(d){$c[D](null,d)}Oc.put(a)};
function Zc(a,b,c){2==b?a.Ob[D](a[Ea],c):a.oc&&a.oc[D](a[Ea],c)}H.gh=Cb();H.nk=function(){var a;for(a=this;a&&a.Fd;a=a.C)a.Fd=!1};function Xc(a,b){a.Fd=!0;Gc(function(){a.Fd&&(a.gh(b),$c[D](null,b))})}var $c=Ac;function Mc(a){Vb[D](this,a)}K(Mc,Vb);Aa(Mc[z],"cancel");function Wc(a,b,c){this.ga=a;this.resolve=b;this.reject=c};
function ad(a,b){this.va=a;this.Qb=b||this.Df()}var bd=0;H=ad[z];H.id=G("va");H.oh=Db("va");H.w=G("Qb");H.Df=function(){return{}};H.Qg=G("Qb");H.Ea=function(){return{id:this.va,value:this.Qg()}};H.Rc=function(a){return"#"==a.substr(-1)?this.va:null};function cd(a){return new ad(a.id,a[x])}function dd(a){return new ad(bd++,a||{})}function ed(a){if(null==a)return"";a=new Uint8Array(a);for(var b="",c=0;c<a[y];++c)var d=a[c][r](16),b=b+(2>d[y]?"0"+d:d);return b};
function fd(a){this.type=a}function gd(a){ad[D](this,-1,a)}K(gd,ad);
var hd={};I("lf.TransactionType",hd,void 0);hd.READ_ONLY=0;hd.READ_WRITE=1;

function id(a,b){this.Ya=a;this.Rg=b;this.ca=Vc()}H=id[z];H.Yi=G("Ya");H.U=function(){return(0==this.Rg?Qc():this.Mj())[A](J(function(){this.Ya.U()},this))};H.Mj=function(){this.Nj();this.Lj();return this.ca.ga};H.Nj=function(){var a=this.Ya.Mf();a.H()[n](function(b){var c=this.Ya.da().get(b),c=this.Z(c[k](),J(c.fc,c));b=a.get(b);var d=b.td().c().map(function(a){return a.id()});0<d[y]&&c[m](d).Pg(this.Ce,this);b=b.zd().c().map(function(a){return a[1]})[La](b.sd().c());c.put(b).Pg(this.Ce,this)},this)};
H.Lj=function(){this.Ya.Vi()[n](function(a){var b=this.Z(a[k](),cd),c;b.get([-1])[A](function(a){c=a;return b[m]([])})[A](function(){b.put(c);b.put(a.Ea())},J(this.Ce,this))},this)};H.Ce=function(a){this.ca[kb](a)};function jd(a,b,c,d){c=c||function(a,b){return a==b};d=d||function(b){return a[b]};for(var g=a[y],h=b[y],l=[],p=0;p<g+1;p++)l[p]=[],l[p][0]=0;for(var B=0;B<h+1;B++)l[0][B]=0;for(p=1;p<=g;p++)for(B=1;B<=h;B++)c(a[p-1],b[B-1])?l[p][B]=l[p-1][B-1]+1:l[p][B]=ea.max(l[p-1][B],l[p][B-1]);for(var Ra=[],p=g,B=h;0<p&&0<B;)c(a[p-1],b[B-1])?(Ra[Bb](d(p-1,B-1)),p--,B--):l[p-1][B]>l[p][B-1]?p--:B--;return Ra}function kd(a){return fc(arguments,function(a,c){return a+c},0)}
function ld(a){return kd[jb](null,arguments)/arguments[y]}function md(a){var b=arguments[y];if(2>b)return 0;var c=ld[jb](null,arguments);return kd[jb](null,ec(arguments,function(a){return ea.pow(a-c,2)}))/(b-1)}function nd(a){return ea.sqrt(md[jb](null,arguments))};var od="StopIteration"in Fb?Fb.StopIteration:{message:"StopIteration",stack:""};function pd(){}ra(pd[z],function(){throw od;});pd[z].tc=function(){return this};function qd(a){if(a instanceof pd)return a;if("function"==typeof a.tc)return a.tc(!1);if(Mb(a)){var b=0,c=new pd;ra(c,function(){for(;;){if(b>=a[y])throw od;if(b in a)return a[b++];b++}});return c}throw fa("Not implemented");}
function rd(a,b,c){if(Mb(a))try{dc(a,b,c)}catch(d){if(d!==od)throw d;}else{a=qd(a);try{for(;;)b[D](c,a[ab](),void 0,a)}catch(g){if(g!==od)throw g;}}}function sd(a){if(gc(arguments,function(a){return!a[y]})||!arguments[y])return new pd;var b=new pd,c=arguments,d=rc(0,c[y]);ra(b,function(){if(d){for(var a=ec(d,function(a,b){return c[b][a]}),b=d[y]-1;0<=b;b--){L(d);if(d[b]<c[b][y]-1){d[b]++;break}if(0==b){d=null;break}d[b]=0}return a}throw od;});return b};function N(a,b){this.g={};this.b=[];this.Ma=this.aa=0;var c=arguments[y];if(1<c){if(c%2)throw fa("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this[mb](a)}H=N[z];H.na=G("aa");H.c=function(){this.zc();for(var a=[],b=0;b<this.b[y];b++)a[v](this.g[this.b[b]]);return a};H.H=function(){this.zc();return this.b[La]()};H.s=function(a){return td(this.g,a)};H.md=function(a){for(var b=0;b<this.b[y];b++){var c=this.b[b];if(td(this.g,c)&&this.g[c]==a)return!0}return!1};
H.Fc=function(a,b){if(this===a)return!0;if(this.aa!=a.na())return!1;var c=b||ud;this.zc();for(var d,g=0;d=this.b[g];g++)if(!c(this.get(d),a.get(d)))return!1;return!0};function ud(a,b){return a===b}H.Ha=function(){return 0==this.aa};na(H,function(){this.g={};Ba(this.b,0);this.Ma=this.aa=0});ka(H,function(a){return td(this.g,a)?(delete this.g[a],this.aa--,this.Ma++,this.b[y]>2*this.aa&&this.zc(),!0):!1});
H.zc=function(){if(this.aa!=this.b[y]){for(var a=0,b=0;a<this.b[y];){var c=this.b[a];td(this.g,c)&&(this.b[b++]=c);a++}Ba(this.b,b)}if(this.aa!=this.b[y]){for(var d={},b=a=0;a<this.b[y];)c=this.b[a],td(d,c)||(this.b[b++]=c,d[c]=1),a++;Ba(this.b,b)}};H.get=function(a,b){return td(this.g,a)?this.g[a]:b};H.set=function(a,b){td(this.g,a)||(this.aa++,this.b[v](a),this.Ma++);this.g[a]=b};H.addAll=function(a){var b;a instanceof N?(b=a.H(),a=a.c()):(b=wc(a),a=vc(a));for(var c=0;c<b[y];c++)this.set(b[c],a[c])};
la(H,function(a,b){for(var c=this.H(),d=0;d<c[y];d++){var g=c[d],h=this.get(g);a[D](b,h,g,this)}});ta(H,function(){return new N(this)});H.tc=function(a){this.zc();var b=0,c=this.Ma,d=this,g=new pd;ra(g,function(){if(c!=d.Ma)throw fa("The map has changed since the iterator was created");if(b>=d.b[y])throw od;var g=d.b[b++];return a?g:d.g[g]});return g};function td(a,b){return ba[z][cb][D](a,b)};
function vd(a){this.sk=a}f(vd[z],G("sk"));var wd=new vd("backstore"),xd=new vd("cache"),yd=new vd("indexstore"),zd=new vd("engine"),Ad=new vd("runner"),Bd=new vd("observerregistry"),Cd=new vd("schema");
function Dd(a){if("function"==typeof a.na)a=a.na();else if(Mb(a)||Nb(a))a=a[y];else{var b=0,c;for(c in a)b++;a=b}return a}function Ed(a){if("function"==typeof a.c)return a.c();if(Nb(a))return a[bb]("");if(Mb(a)){for(var b=[],c=a[y],d=0;d<c;d++)b[v](a[d]);return b}return vc(a)}
function Fd(a,b,c){if("function"==typeof a[zb])return a[zb](b,c);if(Mb(a)||Nb(a))return hc(a,b,c);var d;if("function"==typeof a.H)d=a.H();else if("function"!=typeof a.c)if(Mb(a)||Nb(a)){d=[];for(var g=a[y],h=0;h<g;h++)d[v](h)}else d=wc(a);else d=void 0;for(var g=Ed(a),h=g[y],l=0;l<h;l++)if(!b[D](c,g[l],d&&d[l],a))return!1;return!0};function O(a){this.g=new N;a&&this[mb](a)}function Gd(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+Pb(a):b.substr(0,1)+a}H=O[z];H.na=function(){return this.g.na()};H.add=function(a){this.g.set(Gd(a),a)};H.addAll=function(a){a=Ed(a);for(var b=a[y],c=0;c<b;c++)this.add(a[c])};ka(H,function(a){return this.g[m](Gd(a))});na(H,function(){this.g[Qa]()});H.Ha=function(){return this.g.Ha()};H.contains=function(a){return this.g.s(Gd(a))};H.Th=function(a){return Fd(a,this[u],this)};H.c=function(){return this.g.c()};
ta(H,function(){return new O(this)});H.Fc=function(a){return this.na()==Dd(a)&&this.Ej(a)};H.Ej=function(a){var b=Dd(a);if(this.na()>b)return!1;!(a instanceof O)&&5<b&&(a=new O(a));return Fd(this,function(b){var d=a;if("function"==typeof d[u])b=d[u](b);else if("function"==typeof d.md)b=d.md(b);else if(Mb(d)||Nb(d))b=0<=cc(d,b);else a:{for(var g in d)if(d[g]==b){b=!0;break a}b=!1}return b})};H.tc=function(){return this.g.tc(!1)};
function Hd(a,b){this.va=a;this.Qb=b||{}}function Id(a){var b=new O;a[n](function(a){b.add(a>>9)});return b.c()}H=Hd[z];H.ka=G("va");H.lc=G("Qb");H.Jg=function(a){a[n](function(a){this.Qb[a.id()]=a.Ea()},this)};H.mk=function(a){a[n](function(a){var c=this.Qb;a in c&&delete c[a]},this)};H.Ea=function(){return{id:this.va,value:JSON.stringify(this.Qb)}};function Jd(a){return new Hd(a.id,JSON.parse(a[x]))};

function Kd(a,b,c){this.O=a;this.Ib=b;this.Eg=c}H=Kd[z];H.get=function(a){return 0==a[y]?this.te():this.bj(a)[A](J(function(b){return a.map(function(a){var d=b.get(a>>9);L(d,"Containing page is empty");return this.Ib(d.lc()[a])},this)},this))};H.bj=function(a){var b=new N,c=Vc();a=Id(a).map(function(a){return new M(function(c,h){var l;try{l=this.O.get(a)}catch(p){h(p);return}va(l,h);Ca(l,J(function(a){a=Jd(a[vb][Ya]);b.set(a.ka(),a);c()},this))},this)},this);Uc(a)[A](function(){c[wb](b)});return c.ga};
H.te=function(){return new M(function(a,b){var c=[],d;try{d=this.O[ub]()}catch(g){b(g);return}va(d,b);Ca(d,J(function(){var b=d[Ya];if(b){var g=Jd(b[x]).lc(),p;for(p in g)c[v](this.Ib(g[p]));b[Ta]()}else a(c)},this))},this)};H.Rb=function(a){return new M(function(b,c){var d;try{d=a()}catch(g){c(g);return}Ca(d,b);va(d,c)},this)};
H.put=function(a){if(0==a[y])return Qc();var b=new N;a[n](function(a){var d;d=a.id()>>9;var g=b.get(d,null);null===g&&(g=this.Eg(this.O[sb],d));g.Jg([a]);b.set(d,g)},this);a=b.c().map(function(a){return this.Rb(J(function(){return this.O.put(a.Ea())},this))},this);return Uc(a)};
ka(H,function(a){if(0==a[y])return this.Rb(J(function(){return this.O[Qa]()},this));var b=new N;a[n](function(a){var d=a>>9,g=b.get(d,null);null===g&&(g=this.Eg(this.O[sb],d));g.mk([a]);b.set(d,g)},this);a=b.c().map(function(a){return this.Rb(J(function(){var b;a:{b=a.lc();for(var g in b){b=!1;break a}b=!0}return b?this.O[rb](a.ka()):this.O.put(a.Ea())},this))},this);return Uc(a)});function Ld(a,b,c){a=a.o(xd);var d=[c<<9,(c+1<<9)-1];b=a.Va(b,d[0],d[1]);c=new Hd(c);c.Jg(b);return c}
function Md(a,b){return new Hd(b)};
function Nd(){};
function Od(a){this.pa=a.o(xd);this.N=a.o(yd);this.A=a.o(Cd)}Da(Od[z],function(a){a[n](function(a){this.Lk(a);this.Jk(a)},this)});Od[z].Jk=function(a){var b=a[k]();a.td().c()[n](function(a){this.pa[m](b,[a.id()])},this);a.sd()[n](function(a){this.pa.set(b,[a])},this);a.zd()[n](function(a){this.pa.set(b,[a[1]])},this)};Od[z].Lk=function(a){var b=this.A[t](a[k]());a.Ti()[n](function(a){this.Vg(b,a)},this)};
Od[z].Vg=function(a,b){a.Ga().map(function(a){return this.N.get(a.l())},this)[La]([this.N.get(a.Kb())])[n](function(a){var d=null===b[1]?null:b[1].Rc(a[k]()),g=null===b[0]?null:b[0].Rc(a[k]());null===g&&null!==d?a.add(d,b[1].id()):null===g||null===d?null!==g&&null===d&&a[m](g,b[0].id()):0!=a.Bc()[Xa](g,d)&&(a.add(d,b[1].id()),a[m](g,b[0].id()))})};
function P(a,b){this.code=a;this.message="http://sn.im/2a0j3wn?c="+a;if(1<arguments[y])for(var c=1;c<=ea.min(4,arguments[y]-1);++c)this.message+="&p"+(c-1)+"="+encodeURIComponent(ha(arguments[c][r]()[w](0,64)))};
function Pd(a){this.N=a.o(yd)}Pd[z].Ci=function(a,b){var c=a.kc().ye();return null===c?null:this.Bi(c,b)};Pd[z].Bi=function(a,b){var c=a.l(),d=b.Rc(c),c=this.N.get(c).get(d);return 0==c[y]?null:c[0]};Pd[z].je=function(a,b){var c=a.kc().$i();b[n](function(a){c[n](function(b){if(null===a.w()[b[k]()])throw new P(202,b.l());},this)},this)};
function Qd(a){this.hb=new N;this.Ia=new N;this.kb=new N;this.B=a}H=Qd[z];ja(H,G("B"));H.sd=G("hb");H.zd=G("Ia");H.td=G("kb");H.add=function(a){if(this.kb.s(a.id())){var b=[this.kb.get(a.id()),a];this.Ia.set(a.id(),b);this.kb[m](a.id())}else this.hb.set(a.id(),a)};H.modify=function(a){var b=a[0],c=a[1];L(b.id()==c.id(),"Row ID mismatch between old/new values.");b=b.id();this.hb.s(b)?this.hb.set(b,c):(this.Ia.s(b)&&(a=[this.Ia.get(a[0].id())[0],c]),this.Ia.set(b,a))};
ya(H,function(a){if(this.hb.s(a.id()))this.hb[m](a.id());else if(this.Ia.s(a.id())){var b=this.Ia.get(a.id())[0];this.Ia[m](a.id());this.kb.set(a.id(),b)}else this.kb.set(a.id(),a)});H.Ti=function(){var a=[];this.hb.c()[n](function(b){a[v]([null,b])},this);this.Ia.c()[n](function(b){a[v](b)},this);this.kb.c()[n](function(b){a[v]([b,null])},this);return a};f(H,function(){return"["+this.hb.H()[r]()+"], ["+this.Ia.H()[r]()+"], ["+this.kb.H()[r]()+"]"});
H.fj=function(){var a=new Qd(this.B);this.hb.c()[n](function(b){a[rb](b)},this);this.kb.c()[n](function(b){a.add(b)},this);this.Ia.c()[n](function(b){a.modify([b[1],b[0]])},this);return a};H.Ha=function(){return this.hb.Ha()&&this.kb.Ha()&&this.Ia.Ha()};
function Rd(a,b){this.Sa=new N;b[n](function(a){this.Sa.set(a[k](),a)},this);this.pa=a.o(xd);this.N=a.o(yd);this.ld=new Pd(a);this.Hd=new Od(a);this.Te=this.Yd=!1;this.Eb=new N}H=Rd[z];H.Mf=G("Eb");H.Vi=function(){var a=[];this.Eb.H().map(function(a){return this.Sa.get(a)},this)[n](function(b){b.Sb()&&(b.Ga()[n](function(b){a[v](this.N.get(b.l()))},this),a[v](this.N.get(b[k]()+".#")))},this);return a};H.da=G("Sa");
H.Wi=function(){var a=[];this.Sa.c()[n](function(b){b.Sb()&&(b.Ga()[n](function(b){a[v](b.l())}),a[v](b[k]()+".#"))});return a};H.ub=function(a,b){this.yc();this.hd(a);this.ld.je(a,b);for(var c=0;c<b[y];c++)this.Id(a,null,b[c])};
H.Id=function(a,b,c){var d=a[k](),g=this.Eb.get(d,null)||new Qd(d);this.Eb.set(d,g);var h=[b,c];try{this.Hd.Vg(a,h)}catch(l){throw this.Te=!0,l;}null===b&&null!==c?(this.pa.set(d,[c]),g.add(c)):null!==b&&null!==c?(this.pa.set(d,[c]),g.modify(h)):null!==b&&null===c&&(this.pa[m](d,[b.id()]),g[rb](b))};Da(H,function(a,b){this.yc();this.hd(a);this.ld.je(a,b);for(var c=0;c<b[y];c++){var d=b[c],g=this.pa.get([d.id()])[0];this.Id(a,g,d)}});
H.Fe=function(a,b){this.yc();this.hd(a);this.ld.je(a,b);for(var c=0;c<b[y];c++){var d=b[c],g=null,h=this.ld.Ci(a,d);null!=h&&(g=this.pa.get([h])[0],d.oh(h));this.Id(a,g,d)}};ka(H,function(a,b){this.yc();this.hd(a);for(var c=0;c<b[y];c++)this.Id(a,b[c],null)});H.U=function(){this.yc();this.Yd=!0};H.yc=function(){L(!this.Te,"Attemptted to use journal that needs to be rolled back.");L(!this.Yd,"Attemptted to commit a terminated journal.")};
H.Cb=function(){L(!this.Yd,"Attempted to rollback a terminated journal.");var a=this.Eb.c().map(function(a){return a.fj()},this);this.Hd[Ab](a);this.Yd=!0;this.Te=!1};H.hd=function(a){if(!this.Sa.s(a[k]()))throw new P(106,a[k]());};
var Sd={};I("lf.ConstraintAction",Sd,void 0);Sd.RESTRICT=0;Sd.CASCADE=1;var Td={};I("lf.ConstraintTiming",Td,void 0);Td.IMMEDIATE=0;Td.DEFERRABLE=1;var Ud={};I("lf.Order",Ud,void 0);Ud.DESC=0;Ud.ASC=1;var Vd={};I("lf.Type",Vd,void 0);Vd.ARRAY_BUFFER=0;Vd.BOOLEAN=1;Vd.DATE_TIME=2;Vd.INTEGER=3;Vd.NUMBER=4;Vd.STRING=5;Vd.OBJECT=6;var Wd={0:new ArrayBuffer(0),1:!1,2:ba.freeze(new Date(0)),3:0,4:0,5:"",6:ba.freeze({})};I("lf.type.DEFAULT_VALUES",Wd,void 0);
function Xd(a,b,c,d){this.f=a;this.u=b;this.ba=null===this.f?!1:c;this.fa=null===this.u?!1:d}H=Xd[z];f(H,function(){return(this.ba?"(":"[")+(null===this.f?"unbound":this.f)+", "+(null===this.u?"unbound":this.u)+(this.fa?")":"]")});H.Ph=function(){if(null===this.f&&null===this.u)return[];var a=null,b=null;null===this.f||(a=new Xd(null,this.f,!1,!this.ba));null===this.u||(b=new Xd(this.u,null,!this.fa,!1));return[a,b][Fa](function(a){return null!==a})};
H.reverse=function(){return new Xd(this.u,this.f,this.fa,this.ba)};H.rg=function(a){var b=Yd(this.f,a.f,!0,this.ba,a.ba);if(0==b)return!0;var c=-1==b?this:a;a=1==b?this:a;return null===c.u||c.u>a.f||c.u==a.f&&!c.fa&&!a.ba};function Zd(){return new Xd(null,null,!1,!1)}H.contains=function(a){var b=null===this.u||a<this.u||a==this.u&&!this.fa;return(null===this.f||a>this.f||a==this.f&&!this.ba)&&b};H.Fc=function(a){return this.f==a.f&&this.ba==a.ba&&this.u==a.u&&this.fa==a.fa};
function Yd(a,b,c,d,g){function h(a){return c?a:1==a?-1:1}d=d||!1;g=g||!1;return null===a?null===b?(d?!g:g)?d?h(1):h(-1):0:h(-1):null===b?h(1):a<b?-1:a==b?(d?!g:g)?d?h(1):h(-1):0:1}function $d(a,b){var c=Yd(a.f,b.f,!0,a.ba,b.ba);0==c&&(c=Yd(a.u,b.u,!1,a.fa,b.fa));return c};
function ae(a,b){this.entries=a;this.I=new O(b);this.Fb=null}H=ae[z];H.Bj=function(a){return this.I.Fc(a.I)};function be(a,b){L(a.Bj(b),"Intersection/union operations only apply to compatible relations.")}H.W=function(){return this.I.c()};H.He=function(){return 1<this.I.na()};H.we=function(){return this[C].map(function(a){return a.ta.w()})};H.hj=function(){return this[C].map(function(a){return a.ta.id()})};H.tk=function(a,b){null===this.Fb&&(this.Fb=new N);this.Fb.set(a.l(),b)};
H.jc=function(a){L(null!==this.Fb,"getAggregationResult called before any results have been calculated.");var b=this.Fb.get(a.l(),void 0);L(Gb(b),"Could not find result for "+a.l());return b};H.tj=function(a){return null!==this.Fb&&this.Fb.s(a.l())};var ce=null;function de(){null===ce&&(ce=new ae([],[]));return ce}
function ee(a){if(0==a[y])return de();for(var b=a[lb](function(b,c){be(a[0],c);return b+c[C][y]},0),c=e(b),d=0,b=a.map(function(a){var b=new N;a[C][n](function(a){c[d++]=a;b.set(a.id,a)});return b}),g=new N,h=0;h<c[y];h++)b[zb](function(a){return a.s(c[h].id)})&&g.set(c[h].id,c[h]);return new ae(g.c(),a[0].I.c())}function fe(a){if(0==a[y])return de();var b=new N;a[n](function(c){be(a[0],c);c[C][n](function(a){b.set(a.id,a)})});return new ae(b.c(),a[0].I.c())}
function ge(a,b){var c=1<b[y],d=a.map(function(a){return new he(a,c)});return new ae(d,b)}function he(a,b){this.ta=a;this.id=ie++;this.Ie=b}var ie=0;he[z].M=function(a){var b=a.Ua();return null!==b&&this.ta.w()[cb](b)?this.ta.w()[b]:this.Ie?this.ta.w()[a.Z().za()][a[k]()]:this.ta.w()[a[k]()]};he[z].$e=function(a,b){var c=a.Ua();if(null!=c)this.ta.w()[c]=b;else if(this.Ie){var c=a.Z().za(),d=this.ta.w()[c];null==d&&(d={},this.ta.w()[c]=d);d[a[k]()]=b}else this.ta.w()[a[k]()]=b};
function je(a,b,c,d){function g(a,b){if(a.Ie){var c=a.ta.w(),d;for(d in c)h[d]=c[d]}else L(!h[cb](b[0]),"Attempted to join table with itself, without using table alias, or same alias "+b[0]+"is reused for multiple tables."),h[b[0]]=a.ta.w()}var h={};g(a,b);g(c,d);a=new ad(-1,h);return new he(a,!0)};
I("lf.bind",function(a){return new ke(a)},void 0);function ke(a){this.wa=a}I("lf.Binder",ke,void 0);ke[z].rb=G("wa");
function le(){var a=me();this.li=new N(1,ne(),2,oe(),4,a,3,a,5,pe())}Ib(le);le[z].ue=function(a,b){var c=this.li.get(a,null);L(null!==c,"Could not find evaluation map for "+a);c=c.get(b,null);L(null!==c,"Could not find evaluator for "+a+", "+b);return c};
function me(){return new N("between",function(a,b){return a>=b[0]&&a<=b[1]},"eq",function(a,b){return a==b},"gte",function(a,b){return a>=b},"gt",function(a,b){return a>b},"in",function(a,b){return-1!=b[pb](a)},"lte",function(a,b){return a<=b},"lt",function(a,b){return a<b},"neq",function(a,b){return a!=b})}
function pe(){return new N("between",function(a,b){return a>=b[0]&&a<=b[1]},"eq",function(a,b){return a==b},"gte",function(a,b){return a>=b},"gt",function(a,b){return a>b},"in",function(a,b){return-1!=b[pb](a)},"lte",function(a,b){return a<=b},"lt",function(a,b){return a<b},"match",function(a,b){return(new RegExp(b)).test(a)},"neq",function(a,b){return a!=b})}
function oe(){return new N("between",function(a,b){return a[Sa]()>=b[0][Sa]()&&a[Sa]()<=b[1][Sa]()},"eq",function(a,b){return(null===a?-1:a[Sa]())==(null===b?-1:b[Sa]())},"gte",function(a,b){return a[Sa]()>=b[Sa]()},"gt",function(a,b){return a[Sa]()>b[Sa]()},"in",function(a,b){return b[xb](function(b){return b[Sa]()==a[Sa]()})},"lte",function(a,b){return a[Sa]()<=b[Sa]()},"lt",function(a,b){return a[Sa]()<b[Sa]()},"neq",function(a,b){return(null===a?-1:a[Sa]())!=(null===b?-1:b[Sa]())})}
function ne(){return new N("eq",function(a,b){return a==b},"neq",function(a,b){return a!=b})};function qe(a,b){this.fg=a;this.Wg=b}qe[z].getKey=G("fg");qe[z].mj=G("Wg");ta(qe[z],function(){return new qe(this.fg,this.Wg)});function re(a,b){qe[D](this,a,b);this.i=this.C=null}K(re,qe);var se=[];H=re[z];ta(H,function(){return new re(this.getKey(),this.mj())});H.getParent=G("C");H.$f=function(){return!this.ua()};H.Y=function(){return this.i||se};H.qb=function(a){return this.Y()[a]||null};H.ua=function(){return this.Y()[y]};H.Ui=function(){for(var a=0,b=this;b[Ha]();)a++,b=b[Ha]();return a};H.Jb=function(){for(var a=this;a[Ha]();)a=a[Ha]();return a};H.contains=function(a){do a=a[Ha]();while(a&&a!=this);return Boolean(a)};
H.rc=function(a,b){if(!1!==a[D](b,this))for(var c=this.Y(),d=0;d<c[y];d++)c[d].rc(a,b)};H.bf=Db("C");H.ia=function(a){this.uc(a,this.i?this.i[y]:0)};H.uc=function(a,b){L(!a[Ha]());a.bf(this);this.i=this.i||[];L(0<=b&&b<=this.i[y]);mc(this.i,b,0,a)};H.Ud=function(a){var b=this.i&&this.i[a];return b?(b.bf(null),ic(this.i,a),0==this.i[y]&&(this.i=null),b):null};H.removeChild=function(a){return this.Ud(cc(this.Y(),a))};

function te(){re[D](this,"","");this.va=ue++}K(te,re);var ue=0;te[z].ka=G("va");te[z].af=Db("va");
function ve(a,b,c){te[D](this);this.K=a;wa(this,b);this.V=c;this.pd=le.ve().ue(this.K.$(),this.V);this.Xa=!1;this.bc=b}K(ve,te);H=ve[z];H.Gb=function(){var a=new ve(this.K,this[x],this.V);a.uk(this.bc);a.Xd(this.Xa);a.af(this.ka());return a};H.zb=function(a){return null!=a?(a[v](this.K),a):[this.K]};H.Xd=Db("Xa");H.uk=Db("bc");H.yf=function(){var a=!1;this[x]instanceof ke||(a="array"==Jb(this[x])?!this[x][xb](function(a){return a instanceof ke}):!0);if(!a)throw new P(501);};
H.eval=function(a){this.yf();if("in"==this.V)return this.gi(a);var b=a[C][Fa](function(a){return this.pd(a.M(this.K),this[x])!=this.Xa},this);return new ae(b,a.W())};oa(H,function(a){if(this.bc instanceof ke){var b=this.bc.rb();if(a[y]<=b)throw new P(510);wa(this,a[b])}else"array"==Jb(this.bc)&&wa(this,this.bc.map(function(b){if(b instanceof ke){if(a[y]<=b.rb())throw new P(510);return a[b.rb()]}return b}))});
H.gi=function(a){L("in"==this.V,"ValuePredicate#evalAsIn_() called for wrong predicate type.");var b=new O(this[x]),c=J(function(a){return b[u](a)!=this.Xa},this),d=a[C][Fa](function(a){return c(a.M(this.K))},this);return new ae(d,a.W())};f(H,function(){return"value_pred("+this.K.l()+" "+this.V+(this.Xa?"(complement)":"")+" "+this[x]+")"});H.Zf=function(){this.yf();return null!==this[x]&&("between"==this.V||"eq"==this.V||"gt"==this.V||"gte"==this.V||"lt"==this.V||"lte"==this.V)};
H.Fk=function(){L(this.Zf(),"Could not convert predicate to key range.");var a=null;"between"==this.V?a=new Xd(this[x][0],this[x][1],!1,!1):"eq"==this.V?(a=this[x],a=new Xd(a,a,!1,!1)):a="gte"==this.V?new Xd(this[x],null,!1,!1):"gt"==this.V?new Xd(this[x],null,!0,!1):"lte"==this.V?new Xd(null,this[x],!1,!1):new Xd(null,this[x],!1,!0);return this.Xa?a.Ph():[a]};
function we(){this.Ac=this.ra=null}we[z].Bd=function(a){null===this.ra&&null!=this.D&&(this.ra=xe(this.D));a=this.ra.get(a,null);L(null!==a);return a};function xe(a){var b=new N;a.rc(function(a){b.set(a.ka(),a)});return b}we[z].jd=function(a){a.D&&(this.D=a.D.Gb());this.Ac=a};oa(we[z],function(){L(null==this.Ac);return this});we[z].ge=function(a){var b=this.D;null!=b&&b.rc(function(b){b instanceof ve&&b[q](a)})};
function ye(){we[D](this)}K(ye,we);function ze(a){var b="";a[n](function(c,d){b+=c.K.l()+" ";b+=1==c.mb?"ASC":"DESC";d<a[y]-1&&(b+=", ")});return b}ta(ye[z],function(){var a=new ye;a.jd(this);this.h&&(a.h=this.h[w]());this.f&&(a.f=this.f[w]());a.oa=this.oa;a.ma=this.ma;this.J&&(a.J=this.J[w]());this.la&&(a.la=this.la[w]());this.Nb&&(a.Nb=this.Nb);this.Yb&&(a.Yb=this.Yb);return a});
oa(ye[z],function(a){ye.eb[q][D](this,a);null!=this.Nb&&(this.oa=a[this.Nb.rb()]);null!=this.Yb&&(this.ma=a[this.Yb.rb()]);this.ge(a);return this});
function Ae(a){this.Da=a}Ae[z].Jb=G("Da");Ae[z].Hf=Eb("plan description");Ae[z].da=function(){function a(c){var d=c.da();d&&b.add(d);c.Y()[n](function(b){a(b)})}var b=new O;a(this.Da);return b.c()};function Be(a){var b=new O;a[n](function(a){b[mb](a.da())});return b};

function De(a,b){this.global=a;this.xb=a.o(wd);this.Rd=b.map(function(a){return a[Ea]});this.ug=b.map(function(a){return a.Ue});this.Af=Be(this.ug);this.Sg=this.ci();this.Ub=Vc()}H=De[z];H.ci=function(){return this.Rd[xb](function(a){return!(a instanceof ye)})?1:0};
ia(H,function(){var a=new Rd(this[Ua],this.Af.c()),b=[],c=this.ug[w](),d=J(function(){var g=c[Ia]();if(g){var h=this.Rd[b[y]];return g.Jb()[Ja](a,h)[A](function(a){b[v](a[0]);return d()})}return Qc()},this);return d()[A](J(function(){return this.xb.Hb(this.Sg,a).U()},this))[A](J(function(){this.Qe(b);return b},this),J(function(b){a.Cb();throw b;},this))});H.$=G("Sg");H.da=G("Af");H.Kc=G("Ub");H.ka=function(){return Pb(this)};H.Qe=Cb();
function Ee(a,b){De[D](this,a,b);this.Ab=a.o(Bd)}K(Ee,De);xa(Ee[z],Eb(0));Ee[z].Qe=function(a){this.Rd[n](function(b,c){this.Ab.Ug(b,a[c])},this)};
function Fe(a,b){this.m=a;this.Ab=a.o(Bd);this.Ra=a.o(Ad);this.Hd=new Od(a);this.Eb=b;var c=a.o(Cd),d=this.Eb.map(function(a){return c[t](a[k]())});this.Sa=new O(d);this.Ub=Vc()}H=Fe[z];ia(H,function(){this.Hd[Ab](this.Eb);this.Zc();return Qc()});H.$=Eb(1);H.da=G("Sa");H.Kc=G("Ub");H.ka=function(){return Pb(this)};xa(H,Eb(1));H.Zc=function(){var a=this.Ab.Be(this.Sa.c());0!=a[y]&&(a=new Ee(this.m,a),this.Ra.Vb(a))};
function Ge(a){this.m=a;this.xb=a.o(wd);this.Ra=a.o(Ad)}Ge[z].Bk=function(){this.xb.subscribe(this.Oe[q](this))};Ge[z].Oe=function(a){a=new Fe(this.m,a);this.Ra.Vb(a)};


function Q(a,b){this.Ma=a;this.j=b;this.fb=new N}I("lf.backstore.FirebaseRawBackStore",Q,void 0);H=Q[z];H.Cd=G("j");H.Dd=function(){throw new P(51);};function He(a,b){var c=Vc(),d=a;b[y]&&(d=a[hb](b));d[eb]("value",function(a){c[wb](a.val())},function(a){c[kb](a)});return c.ga}function Ie(a,b,c){function d(a){a?g[kb](a):g[wb]()}c=c||!1;var g=Vc();c?a.set(b,d):a[Ab](b,d);return g.ga}
H.Aa=function(a){return He(this.j,"@rev/R")[A](function(a){this.Qa=a;return He(this.j,"@table")}[q](this))[A](function(b){var c=0,d;for(d in b)this.fb.set(d,b[d]),b[d]>c&&(c=b[d]);a.gb()[n](function(a){this.fb.s(a[k]())||(b[a[k]()]=++c)},this);d=this.j[hb]("@table");return Ie(d,b)}[q](this))};
H.Zd=function(a,b){var c=this.fb.get(a);return null!=c?function(){var a={},g=Vc();this.j[Na]("T").equalTo(c)[eb]("value",function(c){c[n](function(c){var g=b(c.val());a[ga(c.key(),10)]=g});g[wb](a)});return g.ga}[D](this)[A](function(a){a["@rev"]={R:++this.Qa};return Ie(this.j,a)}[q](this)):Qc()};H.Dc=function(a){return this.Zd(a,Eb(null))[A](function(){this.fb[m](a);return Ie(this.j[hb]("@table/"+a),null,!0)}[q](this))};Q[z].dropTable=Q[z].Dc;
Q[z].vc=function(a,b,c){return this.Zd(a,function(a){var g=a.P;g[b]=c;return{R:this.Qa+1,T:a.T,P:g}}[q](this))};Q[z].addTableColumn=Q[z].vc;Q[z].Ec=function(a,b){return this.Zd(a,function(a){var d=a.P;delete d[b];return{R:this.Qa+1,T:a.T,P:d}}[q](this))};Q[z].dropTableColumn=Q[z].Ec;Q[z].Yc=function(a,b,c){return this.Zd(a,function(a){var g=a.P;g[c]=g[b];delete g[b];return{R:this.Qa+1,T:a.T,P:g}}[q](this))};Q[z].renameTableColumn=Q[z].Yc;Q[z].yb=function(){throw new P(51);};Q[z].createRow=Q[z].yb;
Q[z].Nc=G("Ma");Q[z].getVersion=Q[z].Nc;Q[z].gc=function(a){var b=Vc();a=this.fb.get(a);this.j[Na]("T").equalTo(a)[eb]("value",function(a){var d=[];a[n](function(a){d[v](a.val().P)});b[wb](d)});return b.ga};qa(Q[z],function(){var a={},b=this.fb.H().map(function(b){return this.gc(b)[A](function(d){a[b]=d})}[q](this));return Uc(b)[A](function(){return a})});qa(Q[z],Q[z].dump);
function Je(a,b,c){id[D](this,c,b);this.j=a}K(Je,id);Je[z].Z=function(a){return this.j.Lc(a)};
Je[z].U=function(){Je.eb.U[D](this);var a=this.Yi().Mf();if(0==a.na())this.ca[wb]();else{var b=this.j.gj()+1;this.j.Ig(b);var c={"@rev":{R:b}};a[n](function(a){var g=this.j.Rf(a[k]());a.sd()[n](function(a,d){c[d]={R:b,T:g,P:a.w()}});a.zd()[n](function(a,d){c[d]={R:b,T:g,P:a[1].w()}});a.td()[n](function(a,b){c[b]=null})},this);this.j.ej()[Ab](c,function(c){if(null===c)this.ca[wb]();else this.j.Ig(b-1),c=a.c().map(function(a){return this.j.zg(a[k]())},this),Uc(c)[A](this.ca[kb][q](this.ca),this.ca[kb][q](this.ca))}[q](this))}return this.ca.ga};
function Ke(){this.pb=new N}H=Ke[z];H.Ae=function(a){if(0==a[y])return this.pb.c();var b=[];a[n](function(a){a=this.pb.get(a,null);null===a||b[v](a)},this);return b};H.getData=G("pb");H.get=function(a){return Qc(this.Ae(a))};H.Ve=function(a){a[n](function(a){this.pb.set(a.id(),a)},this)};H.put=function(a){this.Ve(a);return Qc()};H.Ag=function(a){0==a[y]||a[y]==this.pb.na()?this.pb[Qa]():a[n](function(a){this.pb[m](a)},this)};ka(H,function(a){this.Ag(a);return Qc()});
H.Zi=function(){return this.pb.Ha()?0:this.pb.H()[lb](function(a,b){return a>b?a:b},0)};
function Le(a,b){this.A=a;this.fh=b;this.Xc=new N;this.Qa=-1;this.I=new N;this.fb=new N;this.he=null}H=Le[z];H.gj=G("Qa");H.Ig=Db("Qa");
H.Aa=function(a){this.j=this.fh[hb](this.A[sb]());var b=a||function(){return Qc()};return He(this.j,"@db/version")[A](function(a){return null===a?Ie(this.j,this.Uh(),!0)[A](function(){var a=new Q(0,this.j);return b(a)}[q](this)):a==this.A[Ga]()?He(this.j,"@rev/R")[A](function(a){this.Qa=a;return He(this.j,"@table")}[q](this))[A](function(a){for(var b in a)this.fb.set(b,a[b]);a=this.A.gb().map(function(a){return this.zg(a[k]())},this);return Uc(a)}[q](this))[A](function(){this.yj();this.jg();return Qc()}[q](this)):
this.Re(a,b)[A](function(){return this.Aa()}[q](this))}[q](this))};H.Re=function(a,b){var c=new Q(a,this.j);return c.Aa(this.A)[A](function(){return this.Kk()}[q](this))[A](function(){return b(c)})[A](function(){var a=this.j[hb]("@db");return Ie(a,{version:this.A[Ga]()},!0)}[q](this))};H.Kk=function(){return Qc()};H.jg=function(){this.j.off();this.j.on("child_removed",this.Tj[q](this));this.ie&&(this.ie.off(),this.Xc[Qa]());this.ie=this.j[Na]("R").startAt(this.Qa+1);this.ie.on("value",this.Oe[q](this))};
H.yj=function(){bd=this.I.c().map(function(a){return a.Zi()})[lb](function(a,b){return a>b?a:b},0)+1};H.Tj=function(a){var b=a.val(),c=this.Xc.get(b.T,null);null===c&&(c=new O,this.Xc.set(b.T,c));c.add(ga(a.key(),10))};H.Oe=function(a){var b=a[hb]("@rev/R").val();null!=b&&b!=this.Qa&&(this.Qa=b,a=this.Hi(a),a[n](function(a){var b=this.I.get(a[k]()),g=a.td().H();g[y]&&b.Ag(g);var h=a.sd().c();a.zd()[n](function(a){h[v](a[1])});b.Ve(h)},this),a[y]&&this.Uc(a),this.jg())};
H.Hi=function(a){var b=new O,c=new N;this.fb[n](function(a,g){var h=this.I.get(g),l=new Qd(g);if(this.Xc.s(a)){var p=this.Xc.get(a).c();b[mb](p);h.Ae(p)[n](function(a){l[rb](a)})}c.set(a,l)}[q](this));a[n](function(a){if("@rev"!=a.key()){var g=ga(a.key(),10);if(!b[u](g)){a=a.val();var h=c.get(a.T),l=this.I.get(h[k]());l.getData().s(g)?h.modify([l.Ae([g])[0],new ad(g,a.P)]):h.add(new ad(g,a.P))}}}[q](this));return c.c()[Fa](function(a){return!a.Ha()})};
H.zg=function(a){var b=Vc(),c=this.Rf(a);this.j[Na]("T").equalTo(c)[eb]("value",function(c){var g=new Ke,h=[];c[n](function(a){h[v](new ad(ga(a.key(),10),a.val().P))});g.Ve(h);this.I.set(a,g);b[wb]()}[q](this));return b.ga};H.Rf=function(a){return this.fb.get(a)};H.Uh=function(){var a={};a["@db"]={version:this.A[Ga]()};a["@rev"]={R:1};this.Qa=1;a["@table"]={};this.A.gb()[n](function(b,c){var d=b[k]();a["@table"][d]=c;this.I.set(d,new Ke);this.fb.set(d,c)},this);return a};
H.Hb=function(a,b){return new Je(this,a,b)};H.Lc=function(a){var b=this.I.get(a,null);if(null!==b)return b;throw new P(101,a);};H.ej=G("j");sa(H,Cb());za(H,Db("he"));H.Uc=function(a){null!=this.he&&this.he(a)};
function R(a,b,c,d){this.j=b;this.La=c;this.Ma=a;this.ed=d}I("lf.backstore.IndexedDBRawBackStore",R,void 0);R[z].Cd=G("j");R[z].getRawDBInstance=R[z].Cd;R[z].Dd=G("La");R[z].getRawTransaction=R[z].Dd;R[z].Dc=function(a){return new M(function(b,c){try{this.j.deleteObjectStore(a)}catch(d){c(d);return}b()},this)};R[z].dropTable=R[z].Dc;
R[z].Xj=function(a,b,c){return new M(function(d,g){var h;try{var l=this.La[ob](a);h=l[ub]()}catch(p){g(p);return}Ca(h,function(){var a=h[Ya];a?(b(a),a[Ta]()):(c(l),d())});va(h,g)},this)};function Me(a){var b=null;return b=a instanceof ArrayBuffer?ed(a):a instanceof Date?a[Sa]():a}R[z].ff=function(a,b){function c(a){var c=Jd(a[x]),d=c.lc(),p;for(p in d){var B=cd(d[p]);b(B);d[p]=B.Ea()}a[Ab](c.Ea())}function d(a){var c=cd(a[x]);b(c);a[Ab](c.Ea())}return this.Xj(a,this.ed?c:d,Cb())};
R[z].vc=function(a,b,c){var d=Me(c);return this.ff(a,function(a){a.w()[b]=d})};R[z].addTableColumn=R[z].vc;R[z].Ec=function(a,b){return this.ff(a,function(a){delete a.w()[b]})};R[z].dropTableColumn=R[z].Ec;R[z].Yc=function(a,b,c){return this.ff(a,function(a){a.w()[c]=a.w()[b];delete a.w()[b]})};R[z].renameTableColumn=R[z].Yc;
R[z].kj=function(a){var b=[];return new M(function(c,d){var g;try{g=this.La[ob](a)[ub]()}catch(h){d(h);return}Ca(g,J(function(){var a=g[Ya];if(a){if(this.ed){var d=Jd(a[x]).lc(),h;for(h in d)b[v](d[h])}else b[v](a[x]);a[Ta]()}else c(b)},this));va(g,d)},this)};R[z].yb=function(a){var b={};tc(a,J(function(a,d){b[d]=Me(a)},this));return dd(b)};R[z].createRow=R[z].yb;R[z].Nc=G("Ma");R[z].getVersion=R[z].Nc;
qa(R[z],function(){for(var a=this.j[Ma],b=[],c=0;c<a[y];++c){var d=a[nb](c);b[v](this.gc(d))}return Uc(b)[A](function(b){var c={};b[n](function(b,d){c[a[nb](d)]=b});return c})});qa(R[z],R[z].dump);R[z].gc=function(a){return this.kj(a)[A](function(a){return a.map(function(a){return a[x]})})};
function Ne(a,b){this.O=a;this.Ib=b}H=Ne[z];H.get=function(a){if(0==a[y])return this.te();a=a.map(function(a){return new M(function(c,d){var g;try{g=this.O.get(a)}catch(h){d(h);return}va(g,d);Ca(g,J(function(a){c(this.Ib(a[vb][Ya]))},this))},this)},this);return Uc(a)};H.te=function(){return new M(function(a,b){var c=[],d;try{d=this.O[ub]()}catch(g){b(g);return}va(d,b);Ca(d,J(function(){var b=d[Ya];b?(c[v](this.Ib(b[x])),b[Ta]()):a(c)},this))},this)};
H.Rb=function(a){return new M(function(b,c){var d;try{d=a()}catch(g){c(g);return}Ca(d,b);va(d,c)},this)};H.put=function(a){if(0==a[y])return Qc();a=a.map(function(a){return this.Rb(J(function(){return this.O.put(a.Ea())},this))},this);return Uc(a)};
ka(H,function(a){return new M(function(b,c){var d=this.O.count();Ca(d,J(function(d){if(0==a[y]||d[vb][Ya]==a[y])return this.Rb(J(function(){return this.O[Qa]()},this))[A](b,c);d=a.map(function(a){return this.Rb(J(function(){return this.O[rb](a)},this))},this);Uc(d)[A](b,c)},this));va(d,c)},this)});
function Oe(a,b,c,d,g){id[D](this,c,d);this.m=a;this.La=b;this.ed=g;this.La.oncomplete=J(this.ca[wb],this.ca);this.La.onabort=J(this.ca[kb],this.ca)}K(Oe,id);Oe[z].Z=function(a,b,c){return this.ed?(c=null!=c?c:0,a=this.La[ob](a),new Kd(a,b,0==c?Ub(Ld,this.m):Md)):new Ne(this.La[ob](a),b)};
function Pe(a,b){this.m=a;this.A=b;this.fd=b.vg().ei||!1}H=Pe[z];H.Aa=function(a){var b=aa.indexedDB||aa.mozIndexedDB||aa.webkitIndexedDB||aa.msIndexedDB;if(null==b)throw new P(52);var c=a||function(){return Qc()};return new M(function(a,g){var h;try{h=b.open(this.A[sb](),this.A[Ga]())}catch(l){g(l);return}va(h,g);h.onupgradeneeded=J(function(a){this.Wj(c,a)[A](Cb(),g)},this);Ca(h,J(function(b){this.j=b[vb][Ya];this.Ze()[A](J(function(b){bd=b+1;a(this.j)},this))},this))},this)};
H.Wj=function(a,b){var c=b[vb][Ya],d=b[vb][gb],g=new R(b.oldVersion,c,d,this.fd);this.lk(c,d);this.Yh(c,d);return a(g)};H.lk=function(a){for(var b=[],c=0;c<a[Ma][y];++c){var d=a[Ma][nb](c);-1!=d[pb](".")&&b[v](d)}b[n](function(b){try{a.deleteObjectStore(b)}catch(c){}})};H.Yh=function(a,b){this.A.gb()[n](Ub(this.Vh,a,b),this)};H.Vh=function(a,b,c){a[Ma][u](c[k]())||a.createObjectStore(c[k](),{keyPath:"id"});c.Sb()&&(c.Ga()[n](function(c){this.Cc(a,b,c.l(),"btree")},this),this.Cc(a,b,c.Kb(),"rowid"))};
H.Cc=function(a,b,c,d){a[Ma][u](c)||(a.createObjectStore(c,{keyPath:"id"}),a=b[ob](c),(this.fd?new Kd(a,cd,Md):new Ne(a,cd)).put([new gd(new fd(d))]))};H.Hb=function(a,b){var c=b.da().c().map(function(a){return a[k]()});b.Wi()[n](function(a){c[v](a)});var d=this.j[gb](c,0==a?"readonly":"readwrite");return new Oe(this.m,d,b,a,this.fd)};
H.Ze=function(a){function b(){if(0==c[y])return Qc();var a=c[Ia]();return l(a)[A](b)}var c=this.A.gb().map(function(a){return a[k]()}),d=this.j,g=0,h=J(function(a){return this.fd?(a=Jd(a[x]),wc(a.lc())[lb](function(a,b){return ea.max(a,b)},0)):a.key},this),l=J(function(b){return new M(function(c,l){var Ce;try{Ce=(a||d[gb]([b]))[ob](b)[ub](null,"prev")}catch(dh){l(dh);return}Ca(Ce,function(a){(a=a[vb][Ya])&&(g=ea.max(g,h(a)));c(g)});va(Ce,function(){c(g)})},this)},this);return new M(function(a){b()[A](function(){a(g)})})};
sa(H,function(){this.j[db]()});H.Lc=function(){throw new P(511);};za(H,Cb());H.Uc=Cb();



function Qe(a,b,c){id[D](this,c,b);this.O=a;0==b&&this.ca[wb]()}K(Qe,id);Qe[z].Z=function(a){return this.O.Lc(a)};Qe[z].U=function(){Qe.eb.U[D](this);this.ca[wb]();return this.ca.ga};
function Re(a){this.A=a;this.I=new N}H=Re[z];H.Aa=function(){this.A.gb()[n](this.zj,this);return Qc()};H.Lc=function(a){var b=this.I.get(a,null);if(null===b)throw new P(101,a);return b};H.Hb=function(a,b){return new Qe(this,a,b)};H.Bf=function(a){if(!this.I.s(a)){var b=new Ke;this.I.set(a,b);return b}return null};H.zj=function(a){this.Bf(a[k]());a.Sb()&&(a.Ga()[n](function(a){this.Cc(a.l(),"btree")},this),this.Cc(a.Kb(),"rowid"))};H.Cc=function(a,b){var c=this.Bf(a);null===c||c.put([new gd(new fd(b))])};
sa(H,Cb());za(H,Cb());H.Uc=Cb();
function Se(a){Re[D](this,a);this.Md=null}K(Se,Re);za(Se[z],function(a){null===this.Md&&(this.Md=a)});Se[z].Uc=function(a){null===this.Md||this.Md(a)};
function Te(a,b,c){this.La=a;this.B=b;this.Ib=c}Te[z].get=function(a){var b=this.Ib;this.La.Ja("SELECT id, value FROM "+this.B+" "+(0==a[y]?"":"WHERE id IN ("+a[F](",")+")"),[],function(a){for(var d=a[ib][y],g=e(d),h=0;h<d;++h)g[h]=b({id:a[ib][nb](h).id,value:JSON.parse(a[ib][nb](h)[x])});return g});return this.La.U()};
Te[z].put=function(a){if(0==a[y])return Qc();var b="INSERT OR REPLACE INTO "+this.B+"(id, value) VALUES (?, ?)";a[n](function(a){this.La.Ja(b,[a.id(),JSON.stringify(a.w())])},this);return Qc()};ka(Te[z],function(a){this.La.Ja("DELETE FROM "+this.B+" "+(0==a[y]?"":"WHERE id IN ("+a[F](",")+")"),[]);return Qc()});
function Ue(a,b,c){id[D](this,b,c);this.j=a;this.I=new N;this.le=[]}K(Ue,id);Ue[z].Z=function(a,b){var c=this.I.get(a,null);null===c&&(c=new Te(this,a,b),this.I.set(a,c));return c};Ue[z].Ja=function(a,b,c){this.le[v]({Ck:a,Yj:b,transform:c})};
Ue[z].U=function(){Ue.eb.U[D](this);var a,b,c=this.ca[kb][q](this.ca),d=function(a,b){this.ca[kb](b)}[q](this),g=J(function(c,l){a=l;if(this.le[y]){var p=this.le[Ia]();b=p.transform;c.executeSql(p.Ck,p.Yj,g,d)}else p=a,null!=b&&null!=a&&(p=b(a)),this.ca[wb](p)},this);0==this.Rg?this.j.readTransaction(g,c):this.j[gb](g,c);return this.ca.ga};
function S(a,b,c){this.j=c;this.m=a;this.Ma=b}I("lf.backstore.WebSqlRawBackStore",S,void 0);S[z].Cd=G("j");S[z].getRawDBInstance=S[z].Cd;S[z].Dd=function(){throw new P(56);};S[z].getRawTransaction=S[z].Dd;S[z].od=function(){return new Ue(this.j,new Rd(this.m,[]),1)};S[z].Dc=function(a){var b=this.od();b.Ja("DROP TABLE "+a,[]);return b.U()};S[z].dropTable=S[z].Dc;
S[z].gc=function(a){var b=this.od();b.Ja("SELECT id, value FROM "+a,[]);return b.U()[A](function(a){for(var b=a[ib][y],g=e(b),h=0;h<b;++h)g[h]={id:a[ib][nb](h).id,value:JSON.parse(a[ib][nb](h)[x])};return Qc(g)})};S[z].ef=function(a,b){var c=this.od(),d="UPDATE "+a+" SET value=? WHERE id=?";return this.gc(a)[A](function(a){a[n](function(a){a=b(a);c.Ja(d,[JSON.stringify(a[x]),a.id])});return c.U()})};S[z].vc=function(a,b,c){var d=Me(c);return this.ef(a,function(a){a[x][b]=d;return a})};
S[z].addTableColumn=S[z].vc;S[z].Ec=function(a,b){return this.ef(a,function(a){delete a[x][b];return a})};S[z].dropTableColumn=S[z].Ec;S[z].Yc=function(a,b,c){return this.ef(a,function(a){a[x][c]=a[x][b];delete a[x][b];return a})};S[z].renameTableColumn=S[z].Yc;S[z].yb=function(a){var b={},c;for(c in a)b[c]=Me(a[c]);return dd(b)};S[z].createRow=S[z].yb;S[z].Nc=G("Ma");S[z].getVersion=S[z].Nc;
function Ve(a){a.Ja('SELECT tbl_name FROM sqlite_master WHERE type="table"',[],function(a){for(var c=e(a[ib][y]),d=0;d<c[y];++d)c[d]=a[ib][nb](d).tbl_name;return c})}qa(S[z],function(){var a=Vc(),b=this.od();Ve(b);var c={};b.U()[A](J(function(b){b=b[Fa](function(a){return"__lf_ver"!=a&&"__WebKitDatabaseInfoTable__"!=a}).map(function(a){return this.gc(a)[A](function(b){c[a]=b})},this);Uc(b)[A](function(){a[wb](c)})},this));return a.ga});qa(S[z],S[z].dump);
function We(a,b,c){this.m=a;this.A=b;this.yk=c||4194304}H=We[z];H.ud=function(){return new Rd(this.m,[])};H.Aa=function(a){if(null==aa.openDatabase)throw new P(53);var b=a||function(){return Qc()};return new M(J(function(a,d){try{var g=aa.openDatabase(this.A[sb](),"",this.A[sb](),this.yk);if(null!=g)this.j=g,this.Lh(b)[A](a,d);else throw new P(54);}catch(h){d(h)}},this))};
H.Lh=function(a){var b=Vc(),c=new Ue(this.j,this.ud(),1);c.Ja("CREATE TABLE IF NOT EXISTS __lf_ver(id INTEGER PRIMARY KEY, v INTEGER)",[]);c.Ja("SELECT v FROM __lf_ver WHERE id = 0",[]);c.U()[A](J(function(c){var g=0;c[ib][y]&&(g=c[ib][nb](0).v);g<this.A[Ga]()?this.Re(a,g)[A](b[wb][q](b)):g>this.A[Ga]()?b[kb](new P(108)):b[wb]()},this));return b.ga};H.Hb=function(a,b){if(null!=this.j)return new Ue(this.j,b,a);throw new P(2);};sa(H,Cb());H.Lc=function(){throw new P(512);};
H.mg=function(){throw new P(55);};za(H,function(){this.mg()});H.Uc=function(){this.mg()};H.Re=function(a,b){var c=Vc();this.ak()[A](J(function(){a(new S(this.m,b,this.j))[A](J(function(){return this.Ze()},this))[A](c[wb][q](c))},this),c[kb][q](c));return c.ga};
H.ak=function(){var a=this.A.gb(),b=new Ue(this.j,this.ud(),1),c=new Ue(this.j,this.ud(),1);b.Ja("INSERT OR REPLACE INTO __lf_ver VALUES (0, ?)",[this.A[Ga]()]);Ve(b);return b.U()[A](function(b){b[Fa](function(a){return-1!=a[pb](".")})[n](function(a){c.Ja("DROP TABLE "+a,[])});var g=b[Fa](function(a){return-1==a[pb](".")});a.map(function(a){return a[k]()})[Fa](function(a){return-1==g[pb](a)})[n](function(a){c.Ja("CREATE TABLE "+a+"(id INTEGER PRIMARY KEY, value TEXT)",[])});return c.U()})};
H.Ze=function(){var a=0,b=Vc(),c=J(function(b){var c=new Ue(this.j,this.ud(),0);c.Ja("SELECT MAX(id) FROM "+b,[]);return c.U()[A](function(b){b=b[ib][nb](0)[0];a=ea.max(b,a)})},this),d=this.A.gb().map(function(a){return c(a[k]())});Uc(d)[A](function(){b[wb](a)},function(a){b[kb](a)});return b.ga};

function Xe(){this.g=new N;ba.defineProperty(this,"size",{get:function(){return this.g.na()}})}na(Xe[z],function(){this.g[Qa]()});na(Xe[z],Xe[z][Qa]);ya(Xe[z],function(a){return this.g[m](a)});Xe[z]["delete"]=Xe[z][rb];la(Xe[z],function(a,b){return this.g[n](a,b)});la(Xe[z],Xe[z][n]);Xe[z].get=function(a){return this.g.get(a)};Xe[z].get=Xe[z].get;Xe[z].has=function(a){return this.g.s(a)};Xe[z].has=Xe[z].has;Xe[z].set=function(a,b){return this.g.set(a,b)};Xe[z].set=Xe[z].set;
var Ye=aa.Map&&aa.Map[z][Pa]&&aa.Map[z][n]?aa.Map:Xe;function Ze(a){if(a instanceof Xe)return a.g.c();var b=0,c=e(a[Za]);a[n](function(a){c[b++]=a});return c};
function $e(){this.Wb=new O;ba.defineProperty(this,"size",{get:function(){return this.Wb.na()}})}$e[z].add=function(a){this.Wb.add(a)};$e[z].add=$e[z].add;na($e[z],function(){this.Wb[Qa]()});na($e[z],$e[z][Qa]);ya($e[z],function(a){return this.Wb[m](a)});$e[z]["delete"]=$e[z][rb];la($e[z],function(a,b){this.Wb.c()[n](a,b)});$e[z].has=function(a){return this.Wb[u](a)};$e[z].has=$e[z].has;var af=aa.Set&&aa.Set[z][Pa]&&aa.Set[z][n]?aa.Set:$e;
function bf(a){if(a instanceof $e)return a.Wb.c();var b=0,c=e(a[Za]);a[n](function(a){c[b++]=a});return c};
function cf(){this.g=new Ye;this.Ng=new Ye}H=cf[z];H.Ed=function(a){var b=this.Ng.get(a);Gb(b)||(b=new af,this.Ng.set(a,b));return b};H.set=function(a,b){var c=this.Ed(a);b[n](J(function(a){this.g.set(a.id(),a);c.add(a.id())},this))};H.get=function(a){return a.map(J(function(a){return this.g.get(a)||null},this))};
H.Va=function(a,b,c){var d=[],g=ea.min(b,c),h=ea.max(b,c);a=this.Ed(a);if(a[Za]<h-g)a[n](function(a){a>=g&&a<=h&&(a=this.g.get(a),L(null!=a,"Inconsistent cache"),d[v](a))},this);else for(b=g;b<=h;++b)a.has(b)&&(c=this.g.get(b),L(null!=c,"Inconsistent cache"),d[v](c));return d};ka(H,function(a,b){var c=this.Ed(a);b[n](function(a){this.g[rb](a);c[rb](a)},this)});H.na=function(a){return null!=a?this.Ed(a)[Za]:this.g[Za]};
function df(a,b,c,d){a=b?a.reverse():a;if(null==c&&null==d)return a;c=ea.min(Gb(c)?c:a[y],a[y]);if(0==c)return[];d=ea.min(d||0,a[y]);return a[w](d,d+c)};
function ef(a,b,c,d){this.B=a;this.L=b;this.hf=c;if(d){a=511;a*=a*a;if(d[y]>=a)throw new P(6,a);d=ff(this,d);this.sa=d=gf(d)}else this[Qa]()}var hf=[];H=ef[z];ja(H,G("B"));f(H,function(){return this.sa[r]()});H.add=function(a,b){this.sa=this.sa.ub(a,b)};H.set=function(a,b){this.sa=this.sa.ub(a,b,!0)};ka(H,function(a,b){this.sa=this.sa[m](a,b)});H.get=function(a){return this.sa.get(a)};H.nd=function(a){return null!=a?this.Va([a])[y]:this.Va()[y]};
H.Va=function(a,b,c,d){var g=this.sa.yd().b[0];if(!Gb(g)||0==c)return hf;var h=(c||0)+(d||0),h=0<h&&!b?h:Number.POSITIVE_INFINITY,l=[];(Gb(a)?this.L.Lg(a):[this.L.se()])[n](function(a){for(var b=this.L.Sd(a),b=this.L.Ge(a)?g:b[0],b=this.sa.Lf(b),c=0;null!=b&&l[y]<h;)0!=b.Va(a,l)?c=0:c++,b=2==c?null:b[ab]()},this);return df(l,b,c,d)};na(H,function(){this.sa=jf(this)});H.s=function(a){return this.sa.s(a)};H.min=function(){return this.Tc(J(this.L.min,this.L))};
H.max=function(){return this.Tc(J(this.L.max,this.L))};H.Tc=function(a){var b=this.sa.yd(),c=this.sa.Qf();if(0==b.b[y]&&0==c.b[y])return[null,null];var d=b.b[0],b=b.S[0],g=c.b[c.b[y]-1],c=c.S[c.b[y]-1];return 1==a(d,g)?[d,this.hf?[b]:b]:[g,this.hf?[c]:c]};H.Qc=G("hf");H.Bc=G("L");H.Me=function(a,b){return null!=a?-1==this.L[Xa](a,b):!1};H.Na=function(a,b){return null!=a?0==this.L[Xa](a,b):!1};H.Ea=function(){for(var a=[],b=this.sa.yd();b;)a[v](new ad(b.va,[b.b,b.S])),b=b.xa;return a};
function kf(a,b,c,d){a=new ef(b,a,c);d=mf(d,a);a.sa=d;return a}function nf(a,b){this.va=a;this.X=b;this.lb=0;this.xa=this.vb=this.C=null;this.b=[];this.S=[];this.i=[]}function jf(a){return new nf(bd++,a)}H=nf[z];H.ea=function(){return 0==this.lb};H.cg=function(){return null==this.C};ra(H,G("xa"));
function of(a){function b(a){return null!=a?a.va[r]():"_"}var c=a.va+"["+a.b[F]("|")+"]",d=a.i.map(function(a){return a.va})[F]("|"),g=a.S[F]("/"),h=b(a.vb)+"{",h=a.ea()?h+g:h+d,h=h+"}"+b(a.C);a.xa&&(a=of(a.xa),c=c+"  "+a[0],h=h+"  "+a[1]);return[c,h]}f(H,function(){var a="",b=of(this),a=a+(b[0]+"\n"+b[1]+"\n");this.i[y]&&(a+=this.i[0][r]());return a});H.yd=function(){return this.ea()?this:this.i[0].yd()};H.Qf=function(){return this.ea()?this:this.i[this.i[y]-1].Qf()};
function pf(a,b){b&&(b.vb=a);a&&(a.xa=b)}function ff(a,b){for(var c=b[y],d=0,g=jf(a),h=g;0<c;){var l=768<=c?511:257<=c&&511>=c?c:257,p=b[w](d,d+l);g.b=p.map(function(a){return a.key});g.S=p.map(function(a){return a[x]});d+=l;c-=l;0<c&&(l=jf(g.X),pf(g,l),g=l)}return h}function qf(a){var b=a[0],c=jf(b.X);c.lb=b.lb+1;c.i=a;for(b=0;b<a[y];++b)a[b].C=c,0<b&&c.b[v](a[b].b[0]);return c}
function gf(a){var b=a,c=[];do c[v](b),b=b.xa;while(b);if(512>=c[y])b=qf(c);else{var d=c[y],g=0,b=jf(a.X);for(b.lb=a.lb+2;0<d;){a=768<=d?511:257<=d&&511>=d?d:257;var h=c[w](g,g+a),l=qf(h);l.C=b;b.i[y]&&(b.b[v](h[0].b[0]),pf(b.i[b.i[y]-1],l));b.i[v](l);g+=a;d-=a}}return b}H.get=function(a){var b=this.$c(a);if(this.ea()){var c=hf;this.X.Na(this.b[b],a)&&(c=c[La](this.S[b]));return c}b=this.X.Na(this.b[b],a)?b+1:b;return this.i[b].get(a)};
H.s=function(a){var b=this.$c(a);return this.X.Na(this.b[b],a)?!0:this.ea()?!1:this.i[b].s(a)};ka(H,function(a,b){this.Ef(a,-1,b);if(this.cg()){var c=this;1==this.i[y]&&(c=this.i[0],c.C=null);return c}return this});function rf(a){return a.ea()?a.b[0]:rf(a.i[0])}H.qd=function(){this.b=[];for(var a=1;a<this.i[y];++a)this.b[v](rf(this.i[a]))};
H.Ef=function(a,b,c){var d=this.$c(a);if(!this.ea()){var g=this.X.Na(this.b[d],a)?d+1:d;if(this.i[g].Ef(a,g,c))this.qd();else return!1}else if(!this.X.Na(this.b[d],a))return!1;if(this.b[y]>d&&this.X.Na(this.b[d],a)){if(Gb(c)&&!this.X.Qc()&&this.ea()&&(a=this.S[d],c=oc(a,pc,!1,c),0<=c&&ic(a,c),this.S[d][y]))return!1;this.b[E](d,1);this.ea()&&this.S[E](d,1)}256>this.b[y]&&!this.cg()&&(this.Dk()||this.Pj(b));return!0};
H.Dk=function(){var a=null,b,c,d;if(this.xa&&256<this.xa.b[y])a=this.xa,c=b=0,d=this.b[y]+1;else if(this.vb&&256<this.vb.b[y])a=this.vb,b=this.vb.b[y]-1,c=this.ea()?b:b+1,d=0;else return!1;this.b[E](d,0,a.b[b]);a.b[E](b,1);b=this.ea()?this.S:this.i;var g=null;this.ea()?g=a.S:(g=a.i,g[c].C=this);b[E](d,0,g[c]);g[E](c,1);a.ea()||(a.qd(),this.qd());return!0};
H.Pj=function(a){var b,c,d;this.xa&&511>this.xa.b[y]?(b=this.xa,d=c=0):this.vb&&(b=this.vb,c=b.b[y],d=b.ea()?b.S[y]:b.i[y]);c=[c,0][La](this.b);e[z][E][jb](b.b,c);c=null;this.ea()?c=this.S:(c=this.i,c[n](function(a){a.C=b}));c=[d,0][La](c);e[z][E][jb](b.ea()?b.S:b.i,c);pf(this.vb,this.xa);b.ea()||b.qd();-1!=a&&(this.C.b[E](a,1),this.C.i[E](a,1))};
H.ub=function(a,b,c){var d=this.$c(a);if(this.ea()){if(this.X.Na(this.b[d],a)){if(c)return this.S[d]=this.X.Qc()?b:[b],this;if(this.X.Qc())throw new P(201);if(this.S[d])return qc(this.S[d],b),this;this.S[d]=[b]}this.b[E](d,0,a);this.S[E](d,0,this.X.Qc()?b:[b]);return 512==this.b[y]?this.Ak():this}d=this.X.Na(this.b[d],a)?d+1:d;a=this.i[d].ub(a,b,c);a.ea()||1!=a.b[y]||(this.b[E](d,0,a.b[0]),a.i[1].C=this,a.i[0].C=this,this.i[E](d,1,a.i[1]),this.i[E](d,0,a.i[0]));return 512==this.b[y]?this.zk():this};
H.Ak=function(){var a=jf(this.X),b=jf(this.X);b.lb=1;b.b=[this.b[256]];b.i=[this,a];b.C=this.C;this.C=b;a.b=this.b[E](256);a.S=this.S[E](256);a.C=b;pf(a,this.xa);pf(this,a);return b};H.zk=function(){var a=jf(this.X),b=jf(this.X);a.C=this.C;a.lb=this.lb+1;a.b=[this.b[256]];a.i=[this,b];this.b[E](256,1);b.C=a;b.lb=this.lb;b.b=this.b[E](256);b.i=this.i[E](257);b.i[n](function(a){a.C=b});this.C=a;pf(b,this.xa);pf(this,b);return a};
H.$c=function(a){for(var b=0,c=this.b[y];b<c;){var d=b+c>>1;this.X.Me(this.b[d],a)?b=d+1:c=d}return b};H.Lf=function(a){if(!this.ea()){var b=this.$c(a);this.X.Na(this.b[b],a)&&b++;return this.i[b].Lf(a)}return this};
H.Va=function(a,b){var c=-1,d=this.b[y]-1,g=this.X.Bc(),h=J(function(b){for(;b<this.b[y];++b){var h=g.mc(this.b[b],a);if(-1!=c){if(!h){d=b-1;break}}else h&&(c=b)}},this);g.mc(this.b[0],a)?c=0:h(1);if(-1==c)return 0;g.mc(this.b[d],a)||h(c);return d==this.b[y]-1?this.rf(b,this.S[w](c)):d>=c?this.rf(b,this.S[w](c,d+1)):0};H.rf=function(a,b){var c=this.X.Qc()?b:sc(b);a[v][jb](a,c);return c[y]};
function mf(a,b){for(var c=a.map(function(a){var c=new nf(a.id(),b);c.b=a.w()[0];c.S=a.w()[1];return c}),d=0;d<c[y]-1;++d)pf(c[d],c[d+1]);return 1<c[y]?gf(c[0]):c[0]};
function sf(a){if(1==a.h[y])return new tf(a.h[0].mb);a=a.h.map(function(a){return a.mb});return new uf(a)}function tf(a){this.kd=0==a?vf:wf;this.Ne=0==a?function(a){return null!=a?a.reverse():null}:function(a){return a||null};this.qg=0==a?xf:yf}K(tf,Nd);function wf(a,b){return a>b?1:a<b?-1:0}function vf(a,b){return wf(b,a)}function yf(a,b){return $d(a,b)}function xf(a,b){return $d(b,a)}H=tf[z];
H.me=function(a,b){var c=this.Ne(b),d=[null===c.f,null===c.u];if(!d[0]){var g=this.kd(a,c.f);d[0]=c.ba?1==g:-1!=g}d[1]||(g=this.kd(a,c.u),d[1]=c.fa?-1==g:1!=g);return d};H.compare=function(a,b){return this.kd(a,b)};H.min=function(a,b){return a<b?1:a==b?0:-1};H.max=function(a,b){return a>b?1:a==b?0:-1};H.mc=function(a,b){var c=this.me(a,b);return c[0]&&c[1]};H.se=function(){return Zd()};H.pg=function(a,b){return this.qg(a,b)};
H.Lg=function(a){return a[Fa](function(a){return null!==a})[yb](J(function(a,c){return this.qg(a,c)},this))};H.Ge=function(a){return Kb(this.Ne(a).f)};H.Sd=function(a){a=this.Ne(a);return[a.f,a.u]};f(H,function(){return this.kd==vf?"SimpleComparator_DESC":"SimpleComparator_ASC"});function uf(a){this.ya=a.map(function(a){return new tf(a)})}K(uf,Nd);H=uf[z];H.re=function(a,b,c){for(var d=0,g=0;g<this.ya[y]&&0==d;++g)d=c(this.ya[g],a[g],b[g]);return d};
H.compare=function(a,b){return this.re(a,b,function(a,b,g){return a[Xa](b,g)})};H.min=function(a,b){return this.re(a,b,function(a,b,g){return a.min(b,g)})};H.max=function(a,b){return this.re(a,b,function(a,b,g){return a.max(b,g)})};H.me=function(a,b){for(var c=[!0,!0],d=0;d<this.ya[y]&&(c[0]||c[1]);++d){var g=this.ya[d].me(a[d],b[d]);c[0]=c[0]&&g[0];c[1]=c[1]&&g[1]}return c};H.mc=function(a,b){for(var c=!0,d=0;d<this.ya[y]&&c;++d)c=this.ya[d].mc(a[d],b[d]);return c};H.se=function(){return this.ya.map(function(a){return a.se()})};
H.Lg=function(a){var b=a[Fa](function(a){return a[zb](Lb)});a=e(this.ya[y]);for(var c=0;c<a[y];c++)a[c]=b.map(function(a){return a[c]});a[n](function(a,b){a[yb](J(function(a,c){return this.ya[b].pg(a,c)},this))},this);b=e(b[y]);for(c=0;c<b[y];c++)b[c]=a.map(function(a){return a[c]});return b[yb](J(function(a,b){for(var c=0,l=0;l<this.ya[y]&&0==c;++l)c=this.ya[l].pg(a[l],b[l]);return c},this))};H.Ge=function(a){return this.ya[0].Ge(a[0])};
H.Sd=function(a){var b=a.map(function(a,b){return this.ya[b].Sd(a)[0]},this);a=a.map(function(a,b){return this.ya[b].Sd(a)[1]},this);return[b,a]};
function zf(a){this.wa=a;this.Za=new O}H=zf[z];ja(H,function(){return this.wa[k]()});H.add=function(a,b){null===a?this.Za.add(b):this.wa.add(a,b)};H.set=function(a,b){null===a?(this.Za[Qa](),this.Za.add(b)):this.wa.set(a,b)};ka(H,function(a,b){null===a?b?this.Za[m](b):this.Za[Qa]():this.wa[m](a,b)});H.get=function(a){return null===a?this.Za.c():this.wa.get(a)};H.nd=function(a){return this.wa.nd(a)};H.Va=function(a,b,c,d){b=this.wa.Va(a,b,c,d);return null!=a?b:b[La](this.Za.c())};
na(H,function(){this.Za[Qa]();this.wa[Qa]()});H.s=function(a){return null===a?!this.Za.Ha():this.wa.s(a)};H.min=function(){return this.wa.min()};H.max=function(){return this.wa.max()};H.Ea=function(){return[new ad(-2,this.Za.c())][La](this.wa.Ea())};H.Bc=function(){return this.wa.Bc()};
function Af(a){this.B=a;this.wb=new af;this.L=new tf(1)}H=Af[z];ja(H,G("B"));H.add=function(a){if("number"!=typeof a)throw new P(103);this.wb.add(a)};H.set=function(a,b){this.add(a,b)};ka(H,function(a){this.wb[rb](a)});H.get=function(a){return this.s(a)?[a]:[]};H.min=function(){return this.Tc(J(this.L.min,this.L))};H.max=function(){return this.Tc(J(this.L.max,this.L))};
H.Tc=function(a){if(0==this.wb[Za])return[null,null];var b=bf(this.wb)[lb](J(function(b,d){return null===b||1==a(d,b)?d:b},this),null);return[b,[b]]};H.nd=function(){return this.wb[Za]};H.Va=function(a,b,c,d){var g=a||[Zd()];a=bf(this.wb)[Fa](function(a){return g[xb](function(b){return this.L.mc(a,b)},this)},this);return df(a,b,c,d)};na(H,function(){this.wb[Qa]()});H.s=function(a){return this.wb.has(a)};H.Ea=function(){return[new ad(0,bf(this.wb))]};H.Bc=G("L");
function Bf(a,b){var c=new Af(a);b[0].w()[n](function(a){c.add(a,a)});return c};
function Cf(a){this.m=a;this.xb=a.o(wd);this.N=a.o(yd);this.pa=a.o(xd)}H=Cf[z];H.Aa=function(a){var b=a.gb(),c=J(function(){if(0==b[y])return Qc();var a=b[Ia]();return(a.Sb()?this.wi(a):this.xi(a))[A](c)},this);return c()};H.xi=function(a){var b=new Rd(this.m,[a]);return this.xb.Hb(0,b).Z(a[k](),J(a.fc,a)).get([])[A](J(function(b){this.pa.set(a[k](),b);this.hk(a,b)},this))};H.hk=function(a,b){var c=this.N.jj(a[k]());b[n](function(a){c[n](function(b){var c=a.Rc(b[k]());b.add(c,a.id())})})};
H.wi=function(a){var b=new Rd(this.m,[a]),c=this.xb.Hb(0,b),b=c.Z(a[k](),a.fc).get([])[A](J(function(b){this.pa.set(a[k](),b)},this)),d=a.Ga().map(function(a){return this.ik(a,c)},this)[La](this.jk(a,c));return Uc(d[La](b))};
H.ik=function(a,b){var c=b.Z(a.l(),cd,1),d=sf(a);return c.get([])[A](J(function(b){L("btree"==b[0].w().type);if(1<b[y]){if(a.Vf()){var c=kf[q](void 0,d,a.l(),a.Pc),l=b[w](1),p=-1;for(b=0;b<l[y];++b)if(-2==l[b].id()){p=b;break}if(-1==p)throw new P(102);b=l[p].w();l=l[w](0);l[E](p,1);c=c(l);c=new zf(c);c.Za[mb](b)}else c=kf(d,a.l(),a.Pc,b[w](1));this.N.set(c)}},this))};
H.jk=function(a,b){return b.Z(a.Kb(),cd,1).get([])[A](J(function(b){L("rowid"==b[0].w().type);1<b[y]&&(b=Bf(a.Kb(),b[w](1)),this.N.set(b))},this))};


function Df(){this.O=new N}Df[z].Aa=function(a){a.gb()[n](function(a){var c=a.Kb();if(null===this.get(c)){var d=new Af(c);this.O.set(c,d)}a.Ga()[n](function(a){this.O.set(a.l(),Ef(a))},this)},this);return Qc()};function Ef(a){var b=sf(a),b=new ef(a.l(),b,a.Pc);return a.Vf()?new zf(b):b}Df[z].get=function(a){return this.O.get(a,null)};Df[z].set=function(a){return this.O.set(a[k](),a)};Df[z].jj=function(a){var b=[],c=a+".";this.O.H()[n](function(a){0==a[pb](c)&&b[v](this.O.get(a))},this);return b};
function Ff(a){this.$a=[];Gb(a)&&this.add(a)}H=Ff[z];f(H,function(){return this.$a.map(function(a){return a[r]()})[F](",")});H.s=function(a){return this.$a[xb](function(b){return b[u](a)})};H.c=G("$a");
H.add=function(a){if(0!=a[y])if(a=this.$a[La](a),1==a[y])this.$a=a;else{a[yb]($d);for(var b=[],c=a[0],d=1;d<a[y];++d)if(c.rg(a[d])){var g=a[d],h=Zd();if(null!==c.f&&null!==g.f){var l=Yd(c.f,g.f,!0);1!=l?(h.f=c.f,h.ba=0!=l?c.ba:c.ba&&g.ba):(h.f=g.f,h.ba=g.ba)}null!==c.u&&null!==g.u&&(l=Yd(c.u,g.u,!1),-1!=l?(h.u=c.u,h.fa=0!=l?c.fa:c.fa&&g.fa):(h.u=g.u,h.fa=g.fa));c=h}else b[v](c),c=a[d];b[v](c);this.$a=b}};
H.Fc=function(a){return this.$a[y]==a.$a[y]?0==this.$a[y]||this.$a[zb](function(b,c){return b.Fc(a.$a[c])}):!1};function Gf(a,b){var c=[];a.c().map(function(a){return b.c().map(function(b){var c;if(a.rg(b)){c=Zd();var l=Yd(a.f,b.f,!0),l=0==l?a.ba?a:b:-1!=l?a:b;c.f=l.f;c.ba=l.ba;null===a.u||null===b.u?b=null===a.u?b:a:(l=Yd(a.u,b.u,!1),b=0==l?a.fa?a:b:-1==l?a:b);c.u=b.u;c.fa=b.fa}else c=null;return c})})[n](function(a){c=c[La](a)});return new Ff(c[Fa](function(a){return null!==a}))};
function Hf(a,b){var c=[],d=null,g=null;a.rc(function(a){var l=b(a);null==a[Ha]()?g=l:d.ia(l);var p=a[Ha]();null!==p&&p.ua()==d.ua()&&(p=c[pb](d),-1!=p&&c[E](p,1));1<a.ua()&&c[v](l);d=a.$f()?c[c[y]-1]:l});return g}function If(a){return Jf(a,function(a){return a.$f()})}function Kf(a){var b=a[Ha](),c=0;null!==b&&(c=b.Y()[pb](a),b[tb](a));var d=a.Y()[w]();d[n](function(d,h){a[tb](d);null===b||b.uc(d,c+h)});return{parent:b,children:d}}
function Lf(a,b){a.Y()[w]()[n](function(c){a[tb](c);b.ia(c)});a.ia(b)}function Mf(a){L(1==a.ua());var b=a.qb(0);L(1==b.ua());Kf(a);Lf(b,a);return b}function Nf(a,b,c){L(1==a.ua());var d=a.qb(0);L(1<d.ua());var g=d.Y()[w]();if(!g[xb](function(a){return b(a)}))return a;Kf(a);g[n](function(g,l){if(b(g)){var p=c(a);d.Ud(l);p.ia(g);d.uc(p,l)}});return d}function Of(a,b,c,d){var g=a[Ha]();null!==g&&(a=g.Y()[pb](a),g.Ud(a),g.uc(c,a));b.Y()[w]()[n](function(a){b[tb](a);d.ia(a)});return c}
function Jf(a,b,c){function d(a){b(a)&&g[v](a);null!=c&&c(a)||a.Y()[n](d)}var g=[];d(a);return g}function Pf(a,b){var c=b||function(a){return a[r]()+"\n"},d="";a.rc(function(a){for(var b=0;b<a.Ui();b++)d+="-";d+=c(a)});return d};

function Qf(a){te[D](this);this.Pb=a;this.Xa=!1}K(Qf,te);H=Qf[z];H.Gb=function(){return Hf(this,function(a){if(a instanceof Qf){var b=new Qf(a.Pb);b.Xa=a.Xa;b.af(a.ka());return b}return a.Gb()}[q](this))};H.zb=function(a){var b=a||[];this.rc(function(a){a!=this&&a.zb(b)}[q](this));return(new O(b)).c()};H.Xd=function(a){this.Xa!=a&&(this.Xa=a,this.Pb="and"==this.Pb?"or":"and",this.Y()[n](function(b){return b.Xd(a)}))};H.eval=function(a){var b=this.Y().map(function(b){return b.eval(a)});return this.Oh(b)};
H.Oh=function(a){return"and"==this.Pb?ee(a):fe(a)};f(H,function(){return"combined_pred_"+this.Pb[r]()});function Rf(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b};function Sf(){this[Qa]()}var Tf=ba[z][Va],Uf=ba[z][cb];H=Sf[z];H.set=function(a,b){this.cd(a);var c=!this.Oc(a);this.g[a]=b;if("__proto__"==a||!Vf&&!Tf[D](this.g,a)){delete this.g[a];var d=cc(this.Db,a);if(c=0>d)d=this.Db[y];this.Db[d]=a;this.Vd[d]=b}c&&this.aa++};H.get=function(a,b){this.cd(a);if(this.Oc(a))return this.g[a];var c=cc(this.Db,a);return 0<=c?this.Vd[c]:b};
ka(H,function(a){this.cd(a);if(this.Oc(a))return this.aa--,delete this.g[a],!0;a=cc(this.Db,a);return 0<=a?(this.aa--,ic(this.Db,a),ic(this.Vd,a),!0):!1});H.addAll=function(a){dc(a.H(),function(b){this.set(b,a.get(b))},this)};H.Ha=function(){return!this.aa};H.na=G("aa");H.s=function(a){this.cd(a);return this.Oc(a)||0<=cc(this.Db,a)};H.md=function(a){return uc(this.g,function(b,c){return this.Oc(c)&&Rf(b,a)},this)||0<=cc(this.Vd,a)};
H.H=function(){var a;if(Wf)a=kc(ba.keys(this.g));else{a=[];for(var b in this.g)Uf[D](this.g,b)&&a[v](b)}lc(a,this.Db);return a};H.c=function(){for(var a=[],b=this.H(),c=0;c<b[y];c++)a[v](this.get(b[c]));return a};H.getEntries=function(){for(var a=[],b=this.H(),c=0;c<b[y];c++){var d=b[c];a[v]([d,this.get(d)])}return a};na(H,function(){this.g=Vf?ba[Wa](null):{};this.Db=[];this.Vd=[];this.aa=0});ta(H,function(){var a=new Sf;a[mb](this);return a});
H.Oc=function(a){return"__proto__"==a?!1:Vf?a in this.g:Uf[D](this.g,a)};H.cd=function(a){L(Nb(a),"key must be a string.")};var Vf=!!ba[Wa],Wf=!!ba.keys;function Xf(){this[Qa]()}H=Xf[z];H.aa=0;na(H,function(){this.aa=0;this.g=new Sf});ta(H,function(){var a=new Xf;a.Zg(this);return a});H.add=function(a,b){var c=this.g.get(a);c||this.g.set(a,c=[]);c[v](b);this.aa++};H.Zg=function(a){dc(a.getEntries(),function(a){this.add(a[0],a[1])},this)};H.get=function(a){return(a=this.g.get(a))?kc(a):[]};ka(H,function(a,b){var c=this.g.get(a);if(!c)return!1;var d=jc(c,function(a){return Rf(b,a)});d&&(this.aa--,0==c[y]&&this.g[m](a));return d});H.Ha=function(){return!this.aa};
H.na=G("aa");H.s=function(a){return this.g.s(a)};H.md=function(a){return gc(this.g.c(),function(b){return gc(b,function(b){return Rf(b,a)})})};H.H=function(){return this.g.H()};H.c=function(){return sc(this.g.c())};H.getEntries=function(){for(var a=this.H(),b=[],c=0;c<a[y];c++)for(var d=a[c],g=this.get(d),h=0;h<g[y];h++)b[v]([d,g[h]]);return b};
function Yf(a,b,c){te[D](this);this.Oa=a;this.bb=b;this.V=c;this.pd=le.ve().ue(this.Oa.$(),this.V)}K(Yf,te);H=Yf[z];H.Gb=function(){var a=new Yf(this.Oa,this.bb,this.V);a.af(this.ka());return a};H.zb=function(a){return null!=a?(a[v](this.Oa),a[v](this.bb),a):[this.Oa,this.bb]};H.eval=function(a){var b=a[C][Fa](function(a){var b=a.M(this.Oa);a=a.M(this.bb);return this.pd(b,a)},this);return new ae(b,a.W())};f(H,function(){return"join_pred("+this.Oa.l()+", "+this.bb.l()+")"});
H.sf=function(a){return-1!=a.W()[pb](this.Oa.Z().za())};H.hh=function(a){return-1!=a.W()[pb](this.bb.Z().za())};H.bi=function(a,b){var c=null,d=null;this.sf(a)?(this.uf(a,b),c=a,d=b):(this.uf(b,a),c=b,d=a);return[c,d]};H.uf=function(a,b){L(this.sf(a),"Mismatch between join predicate left operand and right relation.");L(this.hh(b),"Mismatch between join predicate right operand and right relation.")};H.ii=function(a,b){var c=this.bi(a,b),d=c[0],c=c[1];return"eq"==this.V?this.ji(d,c):this.ki(d,c)};
H.ki=function(a,b){for(var c=[],d=a.W(),g=b.W(),h=0;h<a[C][y];h++)for(var l=0;l<b[C][y];l++)if(this.pd(a[C][h].M(this.Oa),b[C][l].M(this.bb))){var p=je(a[C][h],d,b[C][l],g);c[v](p)}d=a.W()[La](b.W());return new ae(c,d)};
H.ji=function(a,b){var c=a,d=b,g=this.Oa,h=this.bb;a[C][y]>b[C][y]&&(c=b,d=a,g=this.bb,h=this.Oa);var l=new Xf,p=[];c[C][n](function(a){var b=ha(a.M(g));l.add(b,a)});var B=c.W(),Ra=d.W();d[C][n](function(a){var b=ha(a.M(h));l.s(b)&&l.get(b)[n](function(b){b=je(a,Ra,b,B);p[v](b)})});c=a.W()[La](b.W());return new ae(p,c)};
function Zf(a,b,c){return null===b?new ve(a,b,c):Gb(b.l)?new Yf(a,b,c):new ve(a,b,c)};
var $f={};I("lf.schema.DataStoreType",$f,void 0);$f.INDEXED_DB=0;$f.MEMORY=1;$f.LOCAL_STORAGE=2;$f.FIREBASE=3;$f.WEB_SQL=4;$f.OBSERVABLE_STORE=5;function ag(a,b,c,d){this.df=a;Aa(this,b);this.Pc=c;this.h=d}ag[z].l=function(){return this.df+"."+this[sb]};ag[z].Vf=function(){return this.h[xb](function(a){return a.cb.nc()})};function bg(a,b,c,d){this.B=a;this.qa=c;this.G=b;this.Od=d;this.ib=null}I("lf.schema.Table",bg,void 0);ja(bg[z],G("B"));bg[z].Ua=G("ib");bg[z].za=function(){return this.ib||this.B};
bg[z].xc=function(a){var b=new this.constructor(this.B);b.ib=a;return b};bg[z].as=bg[z].xc;bg[z].createRow=bg[z].yb;bg[z].deserializeRow=bg[z].fc;bg[z].Ga=G("qa");bg[z].zb=G("G");bg[z].getConstraint=bg[z].kc;bg[z].Sb=G("Od");bg[z].Kb=function(){return this.B+".#"};
function T(a,b){ua(this,a);this.$b=b;this.ib=null}H=T[z];ja(H,function(){return this.$b+"("+this[hb][k]()+")"});H.l=function(){return this.$b+"("+this[hb].l()+")"};H.Z=function(){return this[hb].Z()};f(H,function(){return this.l()});H.$=function(){return this[hb].$()};H.Ua=G("ib");H.Ga=function(){return[]};H.nc=Eb(!1);H.xc=function(a){this.ib=a;return this};T[z].as=T[z].xc;T[z].Kf=function(){for(var a=[this],b=this;b instanceof T;)a[v](b[hb]),b=b[hb];return a};
function cg(a){this.ib=a||null;this.F=new bg("#UnknownTable",[],[],!1)}H=cg[z];ja(H,Eb("*"));H.l=function(){return this[k]()};f(H,function(){return this.l()});H.Z=G("F");H.$=Eb(4);H.Ua=G("ib");H.Ga=function(){return[]};H.nc=Eb(!1);
I("lf.fn.avg",function(a){return new T(a,"AVG")},void 0);I("lf.fn.count",function(a){return new T(a||new cg,"COUNT")},void 0);function dg(a){return new T(a,"DISTINCT")}I("lf.fn.distinct",dg,void 0);I("lf.fn.max",function(a){return new T(a,"MAX")},void 0);I("lf.fn.min",function(a){return new T(a,"MIN")},void 0);I("lf.fn.stddev",function(a){return new T(a,"STDDEV")},void 0);I("lf.fn.sum",function(a){return new T(a,"SUM")},void 0);I("lf.fn.geomean",function(a){return new T(a,"GEOMEAN")},void 0);
function U(a,b){re[D](this,"","");this.ti=b;this.ng=a}K(U,re);H=U[z];H.da=Eb(null);ia(H,function(a,b){switch(this.ti){case 1:return this.ni(a,b);case 0:return this.mi(a,b);default:return this.pi(a,b)}});f(H,Eb("dummy_node"));H.ad=function(){return this[r]()};H.tf=function(a){L(-1==this.ng||a[y]==this.ng)};H.pi=function(a,b){return new M(J(function(c){c(this.ja(a,[],b))},this))};H.ni=function(a,b){return this.qb(0)[Ja](a,b)[A](J(function(c){this.tf(c);return this.ja(a,c,b)},this))};
H.mi=function(a,b){var c=this.Y().map(function(c){return c[Ja](a,b)});return Uc(c)[A](J(function(c){var g=[];c[n](function(a){for(var b=0;b<a[y];++b)g[v](a[b])});this.tf(g);return this.ja(a,g,b)},this))};
function eg(a){U[D](this,-1,1);this.pf=a}K(eg,U);f(eg[z],function(){return"aggregation("+this.pf.map(function(a){return a.l()})[r]()+")"});eg[z].ja=function(a,b){b[n](function(a){(new fg(a,this.pf)).uh()},this);return b};function fg(a,b){this.Ca=a;this.G=b}
fg[z].uh=function(){this.G[n](function(a){a=a.Kf().reverse();for(var b=1;b<a[y];b++){var c=a[b],d=c.Kf()[w](-1)[0],g=this.Xi(c),h=null;switch(c.$b){case "MIN":h=gg(g,d);break;case "MAX":h=hg(g,d);break;case "DISTINCT":h=ig(g,d);break;case "COUNT":h=g[C][y];break;case "SUM":h=jg(g,d);break;case "AVG":0<g[C][y]&&(h=jg(g,d)/g[C][y]);break;case "GEOMEAN":h=kg(g,d);break;default:h=lg(g,d)}this.Ca.tk(c,h)}},this)};fg[z].Xi=function(a){return a[hb]instanceof T?this.Ca.jc(a[hb]):this.Ca};
function gg(a,b){var c=null;a[C][n](function(a){a=a.M(b);if(null===c||a<c)c=a});return c}function hg(a,b){var c=null;a[C][n](function(a){a=a.M(b);if(null===c||a>c)c=a});return c}function jg(a,b){return a[C][lb](function(a,d){return a+d.M(b)},0)}function lg(a,b){var c=a[C].map(function(a){return a.M(b)});return nd[jb](null,c)}function kg(a,b){var c=0,d=a[C][lb](function(a,d){var l=d.M(b);return 0!=l?(c++,a+ea.log(l)):a},0);return 0==c?null:ea.pow(ea.E,d/c)}
function ig(a,b){var c=new N;a[C][n](function(a){var g=a.M(b);c.set(g,a)});return new ae(c.c(),a.W())};
function V(){re[D](this,"","")}K(V,re);function mg(a,b){V[D](this);pa(this,a);ma(this,b)}K(mg,V);function ng(a,b){mg[D](this,a,b)}K(ng,mg);function og(a){V[D](this);pa(this,a)}K(og,V);f(og[z],function(){return"delete("+this[t][k]()+")"});function pg(a,b){V[D](this);pa(this,a);this.jf=b}K(pg,V);f(pg[z],function(){var a=[];this.jf&&(a=this.jf.map(function(a){return a.K[k]()},this));return"update("+this[t][k]()+", ["+a[F](",")+"])"});function qg(a){V[D](this);this.Ba=a}K(qg,V);
f(qg[z],function(){return"select("+this.Ba[r]()+")"});function rg(a){V[D](this);pa(this,a)}K(rg,V);f(rg[z],function(){var a="table_access("+this[t][k]();null===this[t].Ua()||(a+=" as "+this[t].Ua());return a+")"});function sg(){V[D](this)}K(sg,V);f(sg[z],Eb("cross_product"));function tg(a,b){V[D](this);this.h=a;this.Lb=b}K(tg,V);f(tg[z],function(){var a="project("+this.h[r]();if(null!==this.Lb)var b=this.Lb.map(function(a){return a.l()})[F](", "),a=a+(", groupBy("+b+")");return a+")"});
function ug(a){V[D](this);this.J=a}K(ug,V);f(ug[z],function(){return"order_by("+ze(this.J)+")"});function vg(a){V[D](this);this.h=a}K(vg,V);f(vg[z],function(){return"aggregation("+this.h[r]()+")"});function wg(a){V[D](this);this.h=a}K(wg,V);f(wg[z],function(){return"group_by("+this.h[r]()+")"});function xg(a){V[D](this);this.oa=a}K(xg,V);f(xg[z],function(){return"limit("+this.oa+")"});function yg(a){V[D](this);this.ma=a}K(yg,V);f(yg[z],function(){return"skip("+this.ma+")"});
function zg(a){V[D](this);this.Ba=a}K(zg,V);f(zg[z],function(){return"join("+this.Ba[r]()+")"});
function Ag(){};
function Bg(){}K(Bg,Ag);Bg[z].Bb=function(a){this.ha=a;this.Ta(this.ha);return this.ha};Bg[z].Ta=function(a){if(a instanceof qg){L(1==a.ua(),"SelectNode must have exactly one child.");var b=this.wf(a.Ba),b=this.Wh(b);Of(a,a,b[0],b[1]);a==this.ha&&(this.ha=b[0]);a=b[0]}a.Y()[n](function(a){this.Ta(a)},this)};Bg[z].wf=function(a){if(0==a.ua()||"and"!=a.Pb)return[a];var b=a.Y()[w]().map(function(b){a[tb](b);return this.wf(b)},this);return sc(b)};
Bg[z].Wh=function(a){var b=null,c=null;a.map(function(a,g){var h=new qg(a);0==g?b=h:c.ia(h);c=h},this);return[b,c]};
function Cg(){}K(Cg,Ag);Cg[z].Bb=function(a){this.ha=a;this.Ta(this.ha);return this.ha};Cg[z].Ta=function(a){if(a instanceof sg)for(;2<a.ua();){for(var b=new sg,c=0;2>c;c++){var d=a.Ud(0);b.ia(d)}a.uc(b,0)}a.Y()[n](function(a){this.Ta(a)},this)};
function Dg(){U[D](this,2,0)}K(Dg,U);f(Dg[z],Eb("cross_product"));Dg[z].ja=function(a,b){for(var c=b[0],d=b[1],g=[],h=c.W(),l=d.W(),p=0;p<c[C][y];p++)for(var B=0;B<d[C][y];B++){var Ra=je(c[C][p],h,d[C][B],l);g[v](Ra)}c=c.W()[La](d.W());return[new ae(g,c)]};

function Eg(a,b){De[D](this,a,b);this.Ra=a.o(Ad);this.Ab=a.o(Bd)}K(Eg,De);xa(Eg[z],Eb(2));Eg[z].Qe=function(a){0==this.$()?this.Rj(a):this.Zc()};Eg[z].Rj=function(a){this.Rd[n](function(b,c){b instanceof ye&&this.Ab.Ug(b,a[c])},this)};Eg[z].Zc=function(){var a=this.Ab.Be(this.da().c());0!=a[y]&&(a=new Ee(this[Ua],a),this.Ra.Vb(a))};
function Fg(){we[D](this)}K(Fg,we);ta(Fg[z],function(){var a=new Fg;a.jd(this);a.f=this.f;return a});oa(Fg[z],function(a){Fg.eb[q][D](this,a);this.ge(a);return this});
function Gg(){we[D](this)}K(Gg,we);ta(Gg[z],function(){var a=new Gg;a.jd(this);a.Wa=this.Wa;this[Pa]&&ma(a,this[Pa]instanceof ke?this[Pa]:this[Pa][w]());a.wc=this.wc;a.ac=this.ac;return a});oa(Gg[z],function(a){Gg.eb[q][D](this,a);this.ac&&ma(this,this.ac instanceof ke?a[this.ac.rb()]:this.ac.map(function(b){return b instanceof ke?a[b.rb()]:b}));return this});
function Hg(){we[D](this)}K(Hg,we);ta(Hg[z],function(){var a=new Hg;a.jd(this);pa(a,this[t]);a.set=this.set?this.set[w]():this.set;return a});oa(Hg[z],function(a){Hg.eb[q][D](this,a);this.set[n](function(b){-1!=b.dd&&wa(b,a[b.dd])});this.ge(a);return this});
function Ig(a,b){if(null==b)return"NULL";switch(a){case 1:return b?1:0;case 3:case 4:return b;case 0:return"'"+ed(b)+"'";default:return"'"+b[r]()+"'"}}function Jg(a,b){var c=a.wc?"INSERT OR REPLACE":"INSERT",d=a.Wa.zb(),c=c+(" INTO "+a.Wa[k]()+"("),c=c+d.map(function(a){return a[k]()})[F](", "),c=c+") VALUES (";return a[Pa].map(function(a){var h=d.map(function(c){var d=a.w()[c[k]()];return b?null!=d?"#":"NULL":Ig(c.$(),d)});return c+h[F](", ")+");"})[F]("\n")}
function Kg(a){switch(a){case "between":return"BETWEEN";case "eq":return"=";case "gte":return">=";case "gt":return">";case "in":return"IN";case "lte":return"<=";case "lt":return"<";case "match":return"LIKE";case "neq":return"<>";default:return"UNKNOWN"}}function Lg(a,b,c,d){return a instanceof ke?"?"+a.rb()[r]():d?null!=a?"#":"NULL":"match"==b?"'"+a[r]()+"'":"in"==b?"("+a.map(function(a){return Ig(c,a)})[F](", ")+")":"between"==b?Ig(c,a[0])+" AND "+Ig(c,a[1]):Ig(c,a)[r]()}
function Mg(a,b){return a.Y().map(function(a){return"("+Ng(a,b)+")"})[F]("and"==a.Pb?" AND ":" OR ")}function Ng(a,b){if(a instanceof ve)return[a.K.l(),Kg(a.V),Lg(a[x],a.V,a.K.$(),b)][F](" ");if(a instanceof Qf)return Mg(a,b);if(a instanceof Yf)return[a.Oa.l(),Kg(a.V),a.bb.l()][F](" ");throw new P(57,typeof a);}function Og(a,b){var c=Ng(a,b);return c?" WHERE "+c:""}
function Pg(a,b){var c="UPDATE "+a[t][k]()+" SET ",c=c+a.set.map(function(a){var b=a.K.l()+" = ";return-1!=a.dd?b+"?"+a.dd[r]():b+Ig(a.K.$(),a[x])[r]()})[F](", ");a.D&&(c+=Og(a.D,b));return c+";"}
function Qg(a,b){var c="*";a.h[y]&&(c=a.h.map(function(a){return a.Ua()?a.l()+" AS "+a.Ua():a.l()})[F](", "));var d=a.f.map(function(a){return a.za()!=a[k]()?a[k]()+" AS "+a.za():a[k]()})[F](", "),c="SELECT "+c+" FROM "+d;a.D&&(c+=Og(a.D,b));a.J&&(d=a.J.map(function(a){return a.K.l()+(0==a.mb?" DESC":" ASC")})[F](", "),c+=" ORDER BY "+d);a.la&&(d=a.la.map(function(a){return a.l()})[F](", "),c+=" GROUP BY "+d);a.oa&&(c+=" LIMIT "+a.oa[r]());a.ma&&(c+=" SKIP "+a.ma[r]());return c+";"}
function Rg(a,b){var c=b||!1,d=a.Pf();if(d instanceof Gg)return Jg(d,c);if(d instanceof Fg){var g="DELETE FROM "+d.f[k]();d.D&&(g+=Og(d.D,c));return g+";"}if(d instanceof Hg)return Pg(d,c);if(d instanceof ye)return Qg(d,c);throw new P(58,typeof d);};
function Sg(a,b){this.global=a;this.fk=a.o(zd);this.Ra=a.o(Ad);this.a=b}I("lf.query.BaseBuilder",Sg,void 0);ia(Sg[z],function(){try{this.jb()}catch(a){return Rc(a)}return new M(function(a,c){var d=new Eg(this[Ua],[this.Mc()]);this.Ra.Vb(d)[A](function(c){a(c[0].we())},c)},this)});ia(Sg[z],Sg[z][Ja]);Sg[z].Hf=function(){var a=J(function(a){return a.ad(this.a)+"\n"},this);return Pf(this.xe().Jb(),a)};Sg[z].explain=Sg[z].Hf;oa(Sg[z],function(a){this.a[q](a);return this});oa(Sg[z],Sg[z][q]);
Sg[z].Gk=function(a){return Rg(this,a)};Sg[z].toSql=Sg[z].Gk;H=Sg[z];H.jb=Cb();H.Pf=function(){return this.a.clone()};H.Ad=G("a");H.xe=function(){null==this.tg&&(this.tg=this.fk.cj(this.a));return this.tg};H.Mc=function(){return{context:this.Pf(),Ue:this.xe()}};H.aj=function(){return{context:this.Ad(),Ue:this.xe()}};
function Tg(a){Sg[D](this,a,new Fg)}K(Tg,Sg);I("lf.query.DeleteBuilder",Tg,void 0);Tg[z].f=function(a){this.lh();this.a.f=a;return this};Tg[z].from=Tg[z].f;Tg[z].D=function(a){this.fe();this.a.D=a;return this};Tg[z].where=Tg[z].D;Tg[z].lh=function(){if(null!=this.a.f)throw new P(515);};Tg[z].fe=function(){if(null!=this.a.D)throw new P(516);};Tg[z].jb=function(){Tg.eb.jb[D](this);if(null==this.a.f)throw new P(517);};
function Ug(a,b){Sg[D](this,a,new Gg);this.a.wc=b||!1}K(Ug,Sg);I("lf.query.InsertBuilder",Ug,void 0);Ug[z].jb=function(){Ug.eb.jb[D](this);var a=this.a;if(null==a.Wa||null==a[Pa])throw new P(518);if(a.wc&&null===a.Wa.kc().ye())throw new P(519);};Ug[z].Wa=function(a){this.mh();this.a.Wa=a;return this};Ug[z].into=Ug[z].Wa;ma(Ug[z],function(a){this.nh();a instanceof ke||a[xb](function(a){return a instanceof ke})?this.a.ac=a:ma(this.a,a);return this});ma(Ug[z],Ug[z][Pa]);
Ug[z].mh=function(){if(null!=this.a.Wa)throw new P(520);};Ug[z].nh=function(){if(null!=this.a[Pa])throw new P(521);};
function Vg(a){return Wg("and",e[z][w][D](arguments))}I("lf.op.and",Vg,void 0);I("lf.op.or",function(a){return Wg("or",e[z][w][D](arguments))},void 0);function Wg(a,b){var c=new Qf(a);b[n](function(a){c.ia(a)});return c}I("lf.op.not",function(a){a.Xd(!0);return a},void 0);
function W(a,b){Sg[D](this,a,new ye);this.Jf=this.Xg=!1;this.a.h=b;this.Bh();this.Ah()}K(W,Sg);I("lf.query.SelectBuilder",W,void 0);H=W[z];H.jb=function(){W.eb.jb[D](this);var a=this.a;if(null==a.f)throw new P(522);if(Gb(a.Nb)&&!Gb(a.oa)||Gb(a.Yb)&&!Gb(a.ma))throw new P(523);this.Kh()};H.Bh=function(){var a=this.a.h[Fa](function(a){return a instanceof T&&"DISTINCT"==a.$b},this);if(0!=a[y]&&(1!=a[y]||1!=this.a.h[y]))throw new P(524);};H.Kh=function(){null!=this.a.la?this.Fh():this.Jh()};
H.Fh=function(){var a=this.a.h[Fa](function(a){return!(a instanceof T)}).map(function(a){return a.l()}),b=!1;if(0==this.a.la[y]||0==this.a.h[y])b=!0;else{var c=this.a.la.map(function(a){return a.l()});(b=a[xb](function(a){return-1==c[pb](a)}))||(b=this.a.la[xb](function(a){a=a.$();return 6==a||0==a}))}if(b)throw new P(525);};
H.Jh=function(){var a=this.a.h[xb](function(a){return a instanceof T},this),b=this.a.h[xb](function(a){return!(a instanceof T)},this)||0==this.a.h[y];if(a&&b)throw new P(526);};H.Ah=function(){this.a.h[n](function(a){if(a instanceof T&&!Xg(a.$b,a.$()))throw new P(527,a.l());},this)};H.f=function(a){if(this.Jf)throw new P(515);this.Jf=!0;null==this.a.f&&(this.a.f=[]);this.a.f[v][jb](this.a.f,e[z][w][D](arguments));return this};W[z].from=W[z].f;
W[z].D=function(a){if(this.Xg)throw new P(516);this.Xg=!0;this.vf(a);return this};W[z].where=W[z].D;W[z].vf=function(a){null!=this.a.D&&(a=Vg(a,this.a.D));this.a.D=a};W[z].Ee=function(a,b){null==this.a.f&&(this.a.f=[]);this.a.f[v](a);this.vf(b);return this};W[z].innerJoin=W[z].Ee;W[z].Gj=function(){throw new P(60);};W[z].leftOuterJoin=W[z].Gj;W[z].oa=function(a){if(null!=(this.a.oa||this.a.Nb))throw new P(528);if(a instanceof ke)this.a.Nb=a;else{if(0>a)throw new P(531);this.a.oa=a}return this};
W[z].limit=W[z].oa;W[z].ma=function(a){if(null!=(this.a.ma||this.a.Yb))throw new P(529);if(a instanceof ke)this.a.Yb=a;else{if(0>a)throw new P(531);this.a.ma=a}return this};W[z].skip=W[z].ma;W[z].J=function(a,b){null==this.a.J&&(this.a.J=[]);this.a.J[v]({K:a,mb:null!=b?b:1});return this};W[z].orderBy=W[z].J;W[z].la=function(a){if(null!=this.a.la)throw new P(530);null==this.a.la&&(this.a.la=[]);this.a.la[v][jb](this.a.la,e[z][w][D](arguments));return this};W[z].groupBy=W[z].la;
function Xg(a,b){switch(a){case "COUNT":case "DISTINCT":return!0;case "AVG":case "GEOMEAN":case "STDDEV":case "SUM":return 4==b||3==b;case "MAX":case "MIN":return 4==b||3==b||5==b||2==b}return!1}ta(W[z],function(){var a=new W(this[Ua],this.a.h);a.a=this.a.clone();a.a.Ac=null;return a});ta(W[z],W[z].clone);
function Yg(a,b){Sg[D](this,a,new Hg);pa(this.a,b)}K(Yg,Sg);I("lf.query.UpdateBuilder",Yg,void 0);Yg[z].set=function(a,b){var c={dd:b instanceof ke?b.rb():-1,K:a,value:b};null!=this.a.set?this.a.set[v](c):this.a.set=[c];return this};Yg[z].set=Yg[z].set;Yg[z].D=function(a){this.fe();this.a.D=a;return this};Yg[z].where=Yg[z].D;Yg[z].fe=function(){if(null!=this.a.D)throw new P(516);};
Yg[z].jb=function(){Yg.eb.jb[D](this);if(null==this.a.set)throw new P(532);if(this.a.set[xb](function(a){return a[x]instanceof ke}))throw new P(501);};
function Zg(a){this.a=a;this.Da=null}Zg[z].ic=function(){null===this.Da&&(this.Da=this.rd());return this.Da};function $g(a){Zg[D](this,a)}K($g,Zg);$g[z].rd=function(){return this.a.wc?new ng(this.a.Wa,this.a[Pa]):new mg(this.a.Wa,this.a[Pa])};function ah(a){Zg[D](this,a)}K(ah,Zg);ah[z].rd=function(){var a=new pg(this.a[t],this.a.set),b=null!=this.a.D?new qg(this.a.D.Gb()):null,c=new rg(this.a[t]);null===b?a.ia(c):(b.ia(c),a.ia(b));return a};
function bh(a,b){this.Da=a;this.Ye=b}bh[z].ic=function(){this.Ye[n](function(a){this.Da=a.Bb(this.Da)},this);return this.Da};
function ch(a){Zg[D](this,a)}K(ch,Zg);ch[z].rd=function(){var a=new og(this.a.f),b=null!=this.a.D?new qg(this.a.D.Gb()):null,c=new rg(this.a.f);null===b?a.ia(c):(b.ia(c),a.ia(b));return(new bh(a,[new Bg])).ic()};
function eh(){}K(eh,Ag);eh[z].Bb=function(a){this.ha=a;this.Ta(this.ha);return this.ha};eh[z].Ta=function(a){if(a instanceof qg&&a.Ba instanceof Yf){L(1==a.ua(),"SelectNode must have exactly one child.");var b=a.qb(0);if(b instanceof sg){var c=new zg(a.Ba);Of(a,b,c,c);a==this.ha&&(this.ha=c);a=c}}a.Y()[n](function(a){this.Ta(a)},this)};
function fh(){this.de=new O}K(fh,Ag);H=fh[z];H.Bb=function(a){this.ha=a;this.Ta(this.ha);this.de[Qa]();return this.ha};H.Ta=function(a){if(this.Yf(a)){var b=a.Ba instanceof ve?this.dk(a):this.ck(a);this.de.add(a);b==a&&(b=a.qb(0));null!==b&&(Kb(b[Ha]())&&(this.ha=b),this.Yf(b)&&!this.de[u](b)&&this.Ta(b))}else a.Y()[n](function(a){this.Ta(a)},this)};
H.Qd=function(a,b){var c=a;if(this.xk(a))c=Mf(a),this.Qd(a,b);else if(this.wk(a)){var d=[],c=Nf(a,b,function(a){a=new qg(a.Ba);d[v](a);return a});d[n](function(a){this.Qd(a,b)},this)}return c};H.dk=function(a){var b=new O([a.Ba.K.Z().za()]),c=function(a){return this.Ff(a,b)}[q](this);return this.Qd(a,c)};H.ck=function(a){var b=new O([a.Ba.Oa.Z().za(),a.Ba.bb.Z().za()]),c=function(a){return this.Ff(a,b)}[q](this);return this.Qd(a,c)};
H.Ff=function(a,b){var c=new O;If(a)[n](function(a){c.add(a[t].za())},this);a instanceof rg&&c.add(a[t].za());return c.Th(b)};H.Yf=function(a){return a instanceof qg&&!(a.Ba instanceof Qf)};H.wk=function(a){a=a.qb(0);return a instanceof sg||a instanceof zg};H.xk=function(a){return a.qb(0)instanceof qg};
function gh(a){Zg[D](this,a);this.yg=this.ig=this.Kg=this.og=this.qf=this.Uf=this.Hg=this.Cf=this.Mg=null}K(gh,Zg);H=gh[z];H.rd=function(){this.Li();var a=this.Qh(),b=[new Bg,new Cg,new fh,new eh];return(new bh(a,b)).ic()};H.Li=function(){this.Ri();this.Gi();this.Pi();this.Mi();this.Qi();this.Ki();this.Ii();this.Fi();this.Ni()};
H.Qh=function(){for(var a=[this.ig,this.Kg,this.yg,this.og,this.qf,this.Uf,this.Hg,this.Cf],b=null,c=null,d=0;d<a[y];d++){var g=a[d];null!==g&&(null===c?c=g:a[b].ia(g),b=d)}this.Mg[n](function(c){a[b].ia(c)});return c};H.Ri=function(){this.Mg=this.a.f.map(function(a){return new rg(a)},this)};H.Gi=function(){2<=this.a.f[y]&&(this.Cf=new sg)};H.Pi=function(){this.Hg=null!=this.a.D?new qg(this.a.D.Gb()):null};H.Mi=function(){this.a.J&&(this.og=new ug(this.a.J))};
H.Ki=function(){null!=this.a.oa&&(this.ig=new xg(this.a.oa))};H.Qi=function(){null!=this.a.ma&&0<this.a.ma&&(this.Kg=new yg(this.a.ma))};H.Ii=function(){null!=this.a.la&&(this.Uf=new wg(this.a.la))};H.Fi=function(){var a=this.a.h[Fa](function(a){return a instanceof T});null!=this.a.J&&this.a.J[n](function(b){b.K instanceof T&&a[v](b.K)});0<a[y]&&(this.qf=new vg(a))};H.Ni=function(){this.yg=new tg(this.a.h||[],this.a.la||null)};
function hh(){}hh[z].create=function(a){var b=null;if(a instanceof Gg)b=new $g(a);else if(a instanceof Fg)b=new ch(a);else if(a instanceof ye)b=new gh(a);else if(a instanceof Hg)b=new ah(a);else throw new P(513);return b.ic()};
function ih(a){U[D](this,1,1);this.F=a}K(ih,U);f(ih[z],function(){return"delete("+this.F[k]()+")"});ih[z].da=G("F");ih[z].ja=function(a,b){var c=b[0][C].map(function(a){return a.ta});a[m](this.F,c);return[de()]};
function jh(a){U[D](this,1,1);this.Tf=a}K(jh,U);f(jh[z],function(){return"groupBy("+this.Tf.map(function(a){return a.l()})[r]()+")"});jh[z].ja=function(a,b){return this.wh(b[0])};jh[z].wh=function(a){var b=new Xf,c=function(a){return this.Tf.map(function(b){return a.M(b)},this)[F](",")}[q](this);a[C][n](function(a){b.add(c(a),a)},this);return b.H().map(function(c){return new ae(b.get(c),a.W())},this)};
function kh(a){L(1<a[y],"Should only be called for cross-column indices.");a=a.map(function(a){return a.c()});a=sd[jb](null,a);var b=[];rd(a,function(a){b[v](a)});return b}function lh(a){this.Mb=a}lh[z].xd=function(){return 1==this.Mb.h[y]?[Zd()]:[this.Mb.h.map(function(){return Zd()})]};function mh(a,b){this.Mb=a;this.ra=b;this.ke=this.gg=null}
mh[z].xh=function(a){var b=new N;this.ra.H()[n](function(c){var d=this.ra.get(c).map(function(b){return a.Bd(b)},this),g=new Ff([Zd()]);d[n](function(a){a=new Ff(a.Fk());g=Gf(g,a)});b.set(c,g)},this);return b};mh[z].yi=function(a){for(var b=this.Mb.h[y]-1;0<=b;b--){var c=this.Mb.h[b];if(null!==a.get(c.cb[k](),null))break;a.set(c.cb[k](),new Ff([Zd()]))}};mh[z].xd=function(a){if(this.gg==a)return this.ke;var b=this.xh(a);this.yi(b);this.ke=1==this.Mb.h[y]?b.c()[0].c():kh(this.ij(b));this.gg=a;return this.ke};
mh[z].ij=function(a){var b=new N,c=0;this.Mb.h[n](function(a){b.set(a.cb[k](),c);c++});return a.H()[yb](function(a,c){return b.get(a)-b.get(c)}).map(function(b){return a.get(b)})};
function nh(a,b){this.Og=b;this.N=a.o(yd)}nh[z].Mh=function(a,b){var c=b[Fa](this.Aj,this);if(0==c[y])return null;c=this.Ji(c);if(0==c[y])return null;if(1==c[y])return c[0];var d=Number.MAX_VALUE;return c[lb](function(b,c){var l=c.vh(a);return l<d?(d=l,c):b},null)};nh[z].Ji=function(a){return this.Og.Ga().map(function(b){b=new oh(this.N,b);b.Sh(a);return b},this)[Fa](function(a){return a.Fj()})};nh[z].Aj=function(a){return a instanceof ve&&a.Zf()?a.K.Z()==this.Og:!1};
function oh(a,b){this.N=a;this.tb=b;this.Wf=new O;this.Wf[mb](this.tb.h.map(function(a){return a.cb[k]()}));this.Ke=this.ra=null}H=oh[z];H.dj=function(){return null===this.ra?[]:this.ra.c()};H.Of=function(){L(this.ra);null===this.Ke&&(this.Ke=new mh(this.tb,this.ra));return this.Ke};H.Sh=function(a){a[n](function(a){var c=a.zb()[0][k]();this.Wf[u](c)&&(null===this.ra&&(this.ra=new Xf),this.ra.add(c,a.ka()))},this)};
H.Fj=function(){if(null===this.ra)return!1;for(var a=!1,b=!0,c=0;c<this.tb.h[y];c++){var d=this.ra.s(this.tb.h[c].cb[k]());if(a&&d){b=!1;break}d||(a=!0)}return b};H.vh=function(a){a=this.Of().xd(a);var b=this.N.get(this.tb.l());return a[lb](function(a,d){return a+b.nd(d)},0)};
function ph(a,b,c,d){U[D](this,0,-1);this.N=a.o(yd);this.index=b;this.eg=c;this.Xe=d;this.ae=this.$d=!1}K(ph,U);f(ph[z],function(){return"index_range_scan("+this[$a].l()+", ?, "+(this.Xe?"reverse":"natural")+(this.$d?", limit:?":"")+(this.ae?", skip:?":"")+")"});ph[z].ad=function(a){var b=this[r](),c=this.eg.xd(a),b=b[Ka]("?",c[r]());this.$d&&(b=b[Ka]("?",a.oa[r]()));this.ae&&(b=b[Ka]("?",a.ma[r]()));return b};
ph[z].ja=function(a,b,c){a=this.eg.xd(c);c=this.N.get(this[$a].l()).Va(a,this.Xe,this.$d?c.oa:void 0,this.ae?c.ma:void 0).map(function(a){return new ad(a,{})},this);return[ge(c,[this[$a].df])]};
function qh(a){U[D](this,1,1);this.Pd=a}K(qh,U);f(qh[z],Eb("select(?)"));qh[z].ad=function(a){a=a.Bd(this.Pd);return this[r]()[Ka]("?",a[r]())};qh[z].ja=function(a,b,c){return[c.Bd(this.Pd).eval(b[0])]};
function rh(a,b){U[D](this,1,1);this.pa=a.o(xd);this.F=b}K(rh,U);f(rh[z],function(){return"table_access_by_row_id("+this.F[k]()+")"});rh[z].da=G("F");rh[z].ja=function(a,b){return[ge(this.pa.get(b[0].hj()),[this.F.za()])]};
function sh(a,b){U[D](this,0,-1);this.pa=a.o(xd);this.N=a.o(yd);pa(this,b)}K(sh,U);f(sh[z],function(){var a="table_access("+this[t][k]();null===this[t].Ua()||(a+=" as "+this[t].Ua());return a+")"});sh[z].da=G("table");sh[z].ja=function(){var a=this.N.get(this[t].Kb()).Va();return[ge(this.pa.get(a),[this[t].za()])]};
function th(a){this.m=a}K(th,Ag);th[z].Bb=function(a,b){this.ha=a;Jf(a,function(a){return a instanceof sh})[n](function(a){var d=this.Ei(a);if(0!=d[y]){var g=(new nh(this.m,a[t])).Mh(b,d.map(function(a){return b.Bd(a.Pd)}));if(null!==g){var h=new N;d[n](function(a){h.set(a.Pd,a)},this);this.ha=this.pk(g,h,a,b)}}},this);return this.ha};th[z].Ei=function(a){var b=[];for(a=a[Ha]();a;)a instanceof qh&&b[v](a),a=a[Ha]();return b};
th[z].pk=function(a,b,c){a.dj().map(function(a){return b.get(a)})[n](Kf);a=new ph(this.m,a.tb,a.Of(),!1);var d=new rh(this.m,c[t]);d.ia(a);Of(c,c,d,a);return a.Jb()};
function uh(a,b){U[D](this,0,-1);this.N=a.o(yd);this.F=b}K(uh,U);f(uh[z],function(){return"insert("+this.F[k]()+")"});uh[z].da=G("F");uh[z].ja=function(a,b,c){vh(this.F,c[Pa],this.N);a.ub(this.F,c[Pa]);return[ge(c[Pa],[this.F[k]()])]};function vh(a,b,c){a=a.kc().ye();if(null===a?0:a.h[0][Oa]){var d=a.h[0].cb[k](),g=c.get(a.l()).max()[0]||0;b[n](function(a){if(0==a.w()[d]||null==a.w()[d])g++,a.w()[d]=g})}}function wh(a,b){U[D](this,0,-1);this.N=a.o(yd);this.F=b}K(wh,U);
f(wh[z],function(){return"insert_replace("+this.F[k]()+")"});wh[z].da=G("F");wh[z].ja=function(a,b,c){vh(this.F,c[Pa],this.N);a.Fe(this.F,c[Pa]);return[ge(c[Pa],[this.F[k]()])]};
function xh(a){U[D](this,2,0);this.xg=a}K(xh,U);f(xh[z],function(){return"join("+this.xg[r]()+")"});xh[z].ja=function(a,b){return[this.xg.ii(b[0],b[1])]};
function yh(){U[D](this,1,1)}K(yh,U);f(yh[z],Eb("limit(?)"));yh[z].ad=function(a){return this[r]()[Ka]("?",a.oa[r]())};yh[z].ja=function(a,b,c){b[0][C][E](c.oa);return b};
function zh(a){U[D](this,-1,1);this.J=a}K(zh,U);H=zh[z];f(H,function(){return"order_by("+ze(this.J)+")"});H.ja=function(a,b){if(1==b[y]){var c=this.Ai(b[0]);(null===c?b[0]:b[0].jc(c))[C][yb](this.fi[q](this))}else b[yb](this.kk[q](this));return b};H.Ai=function(a){for(var b=null,c=0;c<this.J[y];c++){var d=dg(this.J[c].K);if(a.tj(d)){b=d;break}}return b};
H.L=function(a,b){var c=null,d=null,g=null,h=-1;do h++,g=this.J[h].K,c=this.J[h].mb,d=a(g),g=b(g);while(d==g&&h+1<this.J[y]);d=d<g?-1:d>g?1:0;return 1==c?d:-d};H.kk=function(a,b){return this.L(function(b){return b instanceof T?a.jc(b):a[C][a[C][y]-1].M(b)},function(a){return a instanceof T?b.jc(a):b[C][b[C][y]-1].M(a)})};H.fi=function(a,b){return this.L(function(b){return a.M(b)},function(a){return b.M(a)})};
function Ah(a,b){this.Ca=a;this.G=b}Ah[z].Sf=function(){return this.G[xb](function(a){return a instanceof T},this)?this.rj():this.sj()};
Ah[z].rj=function(){if(1==this.G[y]&&"DISTINCT"==this.G[0].$b){var a=this.Ca.jc(this.G[0])[C].map(function(a){var b=new he(new ad(-1,{}),this.Ca.He());b.$e(this.G[0],a.M(this.G[0][hb]));return b},this);return new ae(a,[])}var b=new he(new ad(-1,{}),this.Ca.He());this.G[n](function(a){var d=a instanceof T?this.Ca.jc(a):this.Ca[C][0].M(a);b.$e(a,d)},this);return new ae([b],this.Ca.W())};
Ah[z].sj=function(){var a=e(this.Ca[C][y]),b=this.Ca.He();this.Ca[C][n](function(c,d){a[d]=new he(new ad(c.ta.id(),{}),b);this.G[n](function(b){a[d].$e(b,c.M(b))},this)},this);return new ae(a,this.Ca.W())};function Bh(a,b){var c=a.map(function(a){return(new Ah(a,b)).Sf()[C][0]});return new ae(c,a[0].W())};
function Ch(a,b){U[D](this,-1,1);this.h=a;this.Lb=b}K(Ch,U);H=Ch[z];f(H,function(){var a="project("+this.h[r]();if(null!==this.Lb)var b=this.Lb.map(function(a){return a.l()})[F](", "),a=a+(", groupBy("+b+")");return a+")"});H.ja=function(a,b){return 0==b[y]?[de()]:1==b[y]?[this.ri(b[0])]:[this.oi(b)]};H.uj=function(){return this.h[xb](function(a){return a instanceof T})||null!==this.Lb};H.oi=function(a){return Bh(a,this.h)};H.ri=function(a){return 0==this.h[y]?a:(new Ah(a,this.h)).Sf()};
function Dh(){U[D](this,1,1)}K(Dh,U);f(Dh[z],Eb("skip(?)"));Dh[z].ad=function(a){return this[r]()[Ka]("?",a.ma[r]())};Dh[z].ja=function(a,b,c){return[new ae(b[0][C][w](c.ma),b[0].W())]};
function Eh(){}K(Eh,Ag);Eh[z].Bb=function(a){var b=Jf(a,function(a){return a instanceof yh||a instanceof Dh});if(0==b[y])return a;var c=this.Di(a);if(null===c)return a;b[n](function(a){this.Oj(a,c)},this);return c.Jb()};Eh[z].Oj=function(a,b){a instanceof yh?b.$d=!0:b.ae=!0;return Kf(a).parent};Eh[z].Di=function(a){a=Jf(a,function(a){return a instanceof ph},function(a){return a instanceof Ch&&a.uj()||a instanceof zh||1!=a.ua()||a instanceof qh});return 0<a[y]?a[0]:null};
function Fh(a){this.m=a}K(Fh,Ag);Fh[z].Bb=function(a){var b=Gh(a);if(null===b)return a;a=this.kh(b);a==b&&(a=this.jh(b));return a.Jb()};Fh[z].kh=function(a){var b=a,c=Hh(a.qb(0));if(null!==c){var d;d=a.J;for(var g=null,h=c[t].Ga(),l=0;l<h[y]&&null===g;l++)g=Ih(h[l],d);d=g;if(null===d)return b;b=new ph(this.m,d.tb,new lh(d.tb),d.bg);d=new rh(this.m,c[t]);d.ia(b);Kf(a);b=Of(c,c,d,b)}return b};
Fh[z].jh=function(a){var b=a,c=Jh(a.qb(0));if(null!==c){var d=Ih(c[$a],a.J);if(null===d)return b;c.Xe=d.bg;b=Kf(a).parent}return b};function Jh(a){a=Jf(a,function(a){return a instanceof ph},function(a){return 1!=a.ua()});return 0<a[y]?a[0]:null}function Hh(a){a=Jf(a,function(a){return a instanceof sh},function(a){return 1!=a.ua()});return 0<a[y]?a[0]:null}function Gh(a){a=Jf(a,function(a){return a instanceof zh});return 0<a[y]?a[0]:null}
function Ih(a,b){if(a.h[y]!=b[y]||!b[zb](function(b,c){return b.K[k]()==a.h[c].cb[k]()}))return null;var c=Kh(b,a);return c[0]||c[1]?{tb:a,bg:c[1]}:null}function Kh(a,b){var c=a[lb](function(a,b){return a<<1|(0==b.mb?0:1)},0),d=b.h[lb](function(a,b){return a<<1|(0==b.mb?0:1)},0),d=c^d,c=0==d,d=d==ea.pow(2,ea.max(a[y],b.h[y]))-1;return[c,d]};
function Lh(a,b,c){this.Da=a;this.ek=b;this.Ye=c}Lh[z].ic=function(){this.Ye[n](function(a){this.Da=a.Bb(this.Da,this.ek)},this);return this.Da};
function Mh(a,b){U[D](this,1,1);this.F=a;this.Nk=b}K(Mh,U);f(Mh[z],function(){return"update("+this.F[k]()+")"});Mh[z].da=G("F");Mh[z].ja=function(a,b){var c=b[0][C].map(function(a){var b=this.F.fc(a.ta.Ea());this.Nk[n](function(a){b.w()[a.K[k]()]=a[x]},this);return b},this);a[Ab](this.F,c);return[de()]};
function Nh(a){this.m=a}Nh[z].create=function(a,b){if(a instanceof ng||a instanceof mg)return this.oe(a,b);if(a instanceof tg||a instanceof xg||a instanceof yg)return this.oe(a,b,[new th(this.m),new Fh(this.m),new Eh]);if(a instanceof og||a instanceof pg)return this.oe(a,b,[new th(this.m)]);throw new P(8);};Nh[z].oe=function(a,b,c){a=Hf(a,J(this.Kj,this));return null!=c?new Ae((new Lh(a,b,c)).ic()):new Ae(a)};
Nh[z].Kj=function(a){if(a instanceof tg)return new Ch(a.h,a.Lb);if(a instanceof wg)return new jh(a.h);if(a instanceof vg)return new eg(a.h);if(a instanceof ug)return new zh(a.J);if(a instanceof yg)return new Dh;if(a instanceof xg)return new yh;if(a instanceof qg)return new qh(a.Ba.ka());if(a instanceof sg)return new Dg;if(a instanceof zg)return new xh(a.Ba);if(a instanceof rg)return new sh(this.m,a[t]);if(a instanceof og)return new ih(a[t]);if(a instanceof pg)return new Mh(a[t],a.jf);if(a instanceof
ng)return new wh(this.m,a[t]);if(a instanceof mg)return new uh(this.m,a[t]);throw new P(514);};

function Oh(a){this.Ij=new hh;this.Zj=new Nh(a)}Oh[z].cj=function(a){var b=this.Ij[Wa](a);return this.Zj[Wa](b,a)};
function Ph(){this.kg=new N}H=Ph[z];H.vd=function(a){var b=this.kg.get(a[k](),null);null===b&&(b=new Qh,this.kg.set(a[k](),b));return b};H.oj=function(a,b,c){b[n](function(b){this.vd(b).nj(a,c)},this)};H.zh=function(a,b,c){return b[zb](function(b){return this.vd(b).yh(a,c)},this)};H.Bg=function(a,b,c){var d=this.zh(a,b,c);d&&this.oj(a,b,c);return d};H.Td=function(a,b){b[n](function(b){this.vd(b).Td(a)},this)};H.Nh=function(a){a[n](function(a){this.vd(a).ab=null},this)};
function Qh(){this.Xb=this.Pa=this.ab=this.Gc=null}Qh[z].Td=function(a){this.Gc==a&&(this.Gc=null);this.ab==a&&(this.ab=null);null===this.Pa||this.Pa[m](a);null===this.Xb||this.Xb[m](a)};Qh[z].yh=function(a,b){var c=null===this.Pa||this.Pa.Ha();return 0==b?(null===this.Xb||this.Xb.Ha())&&c&&null===this.Gc&&null!==this.ab&&this.ab==a:3==b?null===this.Gc&&null===this.ab&&null!==this.Pa&&this.Pa[u](a):1==b?null===this.ab:c&&(null===this.ab||this.ab==a)};
Qh[z].nj=function(a,b){0==b?(this.ab=null,this.Gc=a):3==b?(null===this.Xb&&(this.Xb=new O),this.Xb.add(a),null===this.Pa&&(this.Pa=new O),this.Pa[m](a)):1==b?(null===this.Pa&&(this.Pa=new O),this.Pa.add(a)):2==b&&(this.ab=a)};
function Rh(){this.Tb=new Sh;this.Sc=new Ph}H=Rh[z];H.Vb=function(a){(2>a[qb]()||2>a[qb]())&&this.Sc.Nh(a.da().c());this.Tb.ub(a);this.ne();return a.Kc().ga};H.ne=function(){for(var a=this.Tb.c(),b=0;b<a[y];b++){var c=a[b],d=!1;if(d=0==c.$()?this.Cg(c,1,3):this.Cg(c,2,0))this.Tb[m](c),this.si(c)}};H.Cg=function(a,b,c){var d=!1,g=a.da().c();this.Sc.Bg(a.ka(),g,b)&&(d=this.Sc.Bg(a.ka(),g,c));return d};H.si=function(a){a[Ja]()[A](J(this.Vj,this,a),J(this.Uj,this,a))};
H.Vj=function(a,b){this.Sc.Td(a.ka(),a.da().c());a.Kc()[wb](b);this.ne()};H.Uj=function(a,b){this.Sc.Td(a.ka(),a.da().c());a.Kc()[kb](b);this.ne()};function Sh(){this.Tb=[]}Sh[z].ub=function(a){qc(this.Tb,a,function(a,c){var d=a[qb]()-c[qb]();return 0==d?a.ka()-c.ka():d})};Sh[z].c=function(){return this.Tb[w]()};ka(Sh[z],function(a){var b=this.Tb;a=cc(b,a);var c;(c=0<=a)&&ic(b,a);return c});
function Th(a,b){this.hi=le.ve();this.Wc=a;this.Ld=b;this.G=this.ai()}Th[z].ai=function(){if(0<this.Wc.h[y])return this.Wc.h;var a=[],b=this.Wc.f[w]();null!=this.Wc.Ee&&b[v](this.Wc.Ee);b[n](function(b){b.zb()[n](function(b){a[v](b)})});return a};Th[z].L=function(a,b){return this.G[zb](function(c){return this.hi.ue(c.$(),"eq")(a.M(c),b.M(c))},this)};
Th[z].ih=function(a,b){for(var c=null===a?[]:a[C],d=jd(c,b[C],J(this.L,this),function(a){return c[a]}),g=[],h=0,l=0;l<c[y];l++){var p=c[l];d[h]==p?h++:(p=this.Ld[E](h,1),p=Uh(l,p,0,this.Ld),g[v](p))}d=jd(c,b[C],J(this.L,this),function(a,c){return b[C][c]});for(l=h=0;l<b[C][y];l++)p=b[C][l],d[h]==p?h++:(this.Ld[E](l,0,p.ta.w()),p=Uh(l,[],1,this.Ld),g[v](p));return g};function Uh(a,b,c,d){return{Ok:c,index:a,object:d,Qk:b,type:"splice"}};
function Vh(){this.hc=new N}H=Vh[z];H.ze=function(a){return Pb(a)[r]()};H.ce=function(a,b){var c=this.ze(a.Ad()),d=this.hc.get(c,null);null===d&&(d=new Wh(a),this.hc.set(c,d));d.ce(b)};H.We=function(a,b){var c=this.ze(a.Ad()),d=this.hc.get(c,null);L(null!=d,"Attempted to unobserve a query that was not observed.");var g=d.We(b);L(g,"removeObserver: Inconsistent state detected.");d.wj()||this.hc[m](c)};
H.Be=function(a){var b=new O;a[n](function(a){b.add(a[k]())});var c=[];this.hc.c()[n](function(a){a=a.Mc();a[Ea].f[xb](function(a){return b[u](a[k]())})&&c[v](a)});return c};H.Ug=function(a,b){var c=this.ze(null!=a.Ac?a.Ac:a),c=this.hc.get(c,null);return null!==c?(c.Mk(b),!0):!1};function Wh(a){this.th=a;this.Vc=new O;this.Sj=[];this.hg=null;this.di=new Th(a.Ad(),this.Sj)}H=Wh[z];H.ce=function(a){this.Vc[u](a)?Zb("Attempted to register observer twice."):this.Vc.add(a)};H.We=function(a){return this.Vc[m](a)};
H.Mc=function(){return this.th.aj()};H.wj=function(){return 0<this.Vc.na()};H.Mk=function(a){var b=this.di.ih(this.hg,a);this.hg=a;0<b[y]&&this.Vc.c()[n](function(a){a(b)})};
function Xh(a,b){var c=a.o(Cd),d=b||{},g=d.storeType||0,h=new cf;a.nb(xd,h);var h=null,l=!1;switch(g){case 1:h=new Re(c);break;case 5:h=new Se(c);break;case 4:h=new We(a,c,d.webSqlDbSize);break;case 3:h=new Le(c,d.firebase);l=!0;break;default:h=new Pe(a,c)}a.nb(wd,h);var p=new Df;a.nb(yd,p);return h.Aa(d.onUpgrade)[A](function(){a.nb(zd,new Oh(a));var b=new Rh;a.nb(Ad,b);b=new Vh;a.nb(Bd,b);return p.Aa(c)})[A](function(){l&&(new Ge(a)).Bk();return(new Cf(a)).Aa(c)})};

function Yh(a,b){this.m=a;this.xb=a.o(wd);this.Ra=a.o(Ad);this.Ab=a.o(Bd);this.Sa=new O(b);this.Ya=new Rd(this.m,this.Sa.c());this.Ub=Vc();this.Hc=Vc();this.lf=Vc()}H=Yh[z];ia(H,function(){this.lf[wb]();return this.Hc.ga});H.$=Eb(1);H.da=G("Sa");H.Kc=G("Ub");H.ka=function(){return Pb(this)};xa(H,Eb(2));H.Yg=function(){this.Ra.Vb(this);return this.lf.ga};
H.qh=function(a){a=a.Mc();return a.Ue.Jb()[Ja](this.Ya,a[Ea])[A](function(a){return a[0].we()},J(function(a){this.Ya.Cb();var c=new Mc(a[sb]);this.Hc[kb](c);throw a;},this))};H.U=function(){this.xb.Hb(this.$(),this.Ya).U()[A](J(function(){this.Zc();this.Hc[wb]()},this),J(function(a){this.Ya.Cb();this.Hc[kb](a)},this));return this.Ub.ga};H.Cb=function(){this.Ya.Cb();this.Hc[wb]();return this.Ub.ga};H.Zc=function(){var a=this.Ab.Be(this.Sa.c());0!=a[y]&&(a=new Ee(this.m,a),this.Ra.Vb(a))};
function Zh(a){this.m=a;this.Ra=a.o(Ad);this.bd=null;this.Fa=0}I("lf.proc.Transaction",Zh,void 0);var $h=new N(0,new O([1,4]),1,new O([2]),2,new O([3,5,6]),3,new O([2,7]),4,new O([7]),5,new O([7]),6,new O([7]));Zh[z].Ka=function(a){var b=$h.get(this.Fa,null);if(null===b||!b[u](a))throw new P(107,this.Fa,a);this.Fa=a};
ia(Zh[z],function(a){this.Ka(4);var b=[];try{a[n](function(a){a.jb();b[v](a.Mc())},this)}catch(c){return this.Ka(7),Rc(c)}a=new Eg(this.m,b);return this.Ra.Vb(a)[A](J(function(a){this.Ka(7);return a.map(function(a){return a.we()})},this),J(function(a){this.Ka(7);throw a;},this))});ia(Zh[z],Zh[z][Ja]);Zh[z].rh=function(a){this.Ka(1);this.bd=new Yh(this.m,a);return this.bd.Yg()[A](J(function(){this.Ka(2)},this))};Zh[z].begin=Zh[z].rh;
Zh[z].ph=function(a){this.Ka(3);return this.bd.qh(a)[A](J(function(a){this.Ka(2);return a},this),J(function(a){this.Ka(7);throw a;},this))};Zh[z].attach=Zh[z].ph;Zh[z].U=function(){this.Ka(5);return this.bd.U()[A](J(function(){this.Ka(7)},this))};Zh[z].commit=Zh[z].U;Zh[z].Cb=function(){this.Ka(6);return this.bd.Cb()[A](J(function(){this.Ka(7)},this))};Zh[z].rollback=Zh[z].Cb;
function X(a){this.m=a;this.A=a.o(Cd);this.De=!1}I("lf.proc.Database",X,void 0);X[z].Aa=function(a){this.m.nb(Cd,this.A);return Xh(this.m,a)[A](J(function(){this.De=!0;return this},this))};X[z].init=X[z].Aa;X[z].sb=G("A");X[z].getSchema=X[z].sb;X[z].dc=function(){if(!this.De)throw new P(2);};X[z].select=function(a){this.dc();return new W(this.m,1!=arguments[y]||null!=arguments[0]?e[z][w][D](arguments):[])};X[z].select=X[z].select;X[z].ub=function(){this.dc();return new Ug(this.m)};X[z].insert=X[z].ub;
X[z].Fe=function(){this.dc();return new Ug(this.m,!0)};X[z].insertOrReplace=X[z].Fe;Da(X[z],function(a){this.dc();return new Yg(this.m,a)});Da(X[z],X[z][Ab]);ya(X[z],function(){this.dc();return new Tg(this.m)});X[z]["delete"]=X[z][rb];X[z].observe=function(a,b){this.m.o(Bd).ce(a,b)};X[z].observe=X[z].observe;X[z].unobserve=function(a,b){this.m.o(Bd).We(a,b)};X[z].unobserve=X[z].unobserve;X[z].Zh=function(){this.dc();return new Zh(this.m)};X[z].createTransaction=X[z].Zh;
sa(X[z],function(){try{this.m.o(wd)[db]()}catch(a){}this.m[Qa]();this.De=!1});sa(X[z],X[z][db]);
function Y(a,b,c,d,g,h){this.F=a;this.B=b;this.dg=c;this.ag=d;this.Tg=g;this.ib=h||null;this.i=this.C=null}I("lf.schema.BaseColumn",Y,void 0);H=Y[z];ja(H,G("B"));H.l=function(){return this.F.za()+"."+this.B};f(H,function(){return this.l()});H.Z=G("F");H.$=G("Tg");H.Ua=G("ib");H.Ga=function(){null==this.qa&&(this.qa=[],this.Z().Ga()[n](function(a){-1!=a.h.map(function(a){return a.cb[k]()})[pb](this.B)&&this.qa[v](a)},this));return this.qa};H.nc=G("ag");H.Pc=G("dg");H.bf=Db("C");H.getParent=G("C");
H.Y=G("i");H.Na=function(a){return Zf(this,a,"eq")};Y[z].eq=Y[z].Na;Y[z].lg=function(a){return Zf(this,a,"neq")};Y[z].neq=Y[z].lg;Y[z].Me=function(a){return Zf(this,a,"lt")};Y[z].lt=Y[z].Me;Y[z].Jj=function(a){return Zf(this,a,"lte")};Y[z].lte=Y[z].Jj;Y[z].pj=function(a){return Zf(this,a,"gt")};Y[z].gt=Y[z].pj;Y[z].qj=function(a){return Zf(this,a,"gte")};Y[z].gte=Y[z].qj;Y[z].match=function(a){return Zf(this,a,"match")};Y[z].match=Y[z].match;Y[z].sh=function(a,b){return Zf(this,[a,b],"between")};
Y[z].between=Y[z].sh;Y[z].xj=function(a){return Zf(this,a,"in")};Y[z]["in"]=Y[z].xj;Y[z].Dj=function(){return this.Na(null)};Y[z].isNull=Y[z].Dj;Y[z].Cj=function(){return this.lg(null)};Y[z].isNotNull=Y[z].Cj;Y[z].xc=function(a){return new Y(this.F,this.B,this.dg,this.ag,this.Tg,a)};Y[z].as=Y[z].xc;
function ai(){this.Wd=new N}var bi;na(ai[z],function(){this.Wd[Qa]()});na(ai[z],ai[z][Qa]);ai[z].nb=function(a,b){this.Wd.set(a[r](),b);return b};ai[z].registerService=ai[z].nb;ai[z].o=function(a){var b=this.Wd.get(a[r](),null);if(null==b)throw new P(7,a[r]());return b};ai[z].getService=ai[z].o;ai[z].Je=function(a){return this.Wd.s(a[r]())};ai[z].isRegistered=ai[z].Je;
function ci(a,b){this.bk=a;this.Qj=b}ci[z].ye=G("bk");ci[z].$i=G("Qj");
function Z(a){this.B=a;this.G=new N;this.gf=new O;this.sc=new O;this.Kd=new O;var b=this.B;this.pc="pk"+(b[0].toUpperCase()+b.substring(1));this.qa=new N;this.Od=!1;this.ec(a);this.If=[]}I("lf.schema.TableBuilder",Z,void 0);function di(a,b){var c=a.ref[bb](".");if(2!=c[y])throw new P(540,b);this.Le=a.local;this.Se=c[0];this.sg=c[1];this.Jc=b;this.action=a.action;this.timing=a.timing}function ei(a){Aa(this,a[sb]);this.mb=a.order;this.autoIncrement=a[Oa]}var fi=new O([0,6]);
Z[z].ec=function(a){if(!/^[A-Za-z_][A-Za-z0-9_]*$/.test(a))throw new P(502,a);if(this.G.s(a)||this.qa.s(a)||this.sc[u](a))throw new P(503,this.B+"."+a);};Z[z].Ih=function(a){var b=!1;a[n](function(a){var d=this.G.get(a[sb]);b=b||a[Oa];if(a[Oa]&&3!=d)throw new P(504);},this);if(b&&1<a[y])throw new P(505);};Z[z].$g=function(a,b){this.ec(a);this.G.set(a,b);fi[u](b)&&this.of([a]);return this};Z[z].addColumn=Z[z].$g;
Z[z].dh=function(a,b){this.ec(this.pc);var c=this.Jd(a,!0,void 0,b);this.Ih(c);1==c[y]&&this.gf.add(c[0][sb]);this.sc.add(this.pc);this.qa.set(this.pc,c);return this};Z[z].addPrimaryKey=Z[z].dh;Z[z].ah=function(a,b){this.ec(a);var c=new di(b,a);Gb(c.action)||(c.action=0);Gb(c.timing)||(c.timing=0);if(1==c.action&&1==c.timing)throw new P(506);if(!this.G.s(c.Le))throw new P(540,a);this.If[v](c);return this};Z[z].addForeignKey=Z[z].ah;
Z[z].eh=function(a,b){this.ec(a);var c=this.Jd(b,!0);1==c[y]&&this.gf.add(c[0][sb]);this.qa.set(a,c);this.sc.add(a);return this};Z[z].addUnique=Z[z].eh;Z[z].of=function(a){a=this.Jd(a,!1);this.Hh(a);a[n](function(a){this.Kd.add(a[sb])},this);return this};Z[z].addNullable=Z[z].of;Z[z].Hh=function(a){this.qa.H()[n](function(b){var c=new O;this.qa.get(b)[n](function(a){c.add(a[sb])});var d=a[Fa](function(a){return c[u](a[sb])});if(1<c.na()&&0<d[y])throw new P(507,b,d[F](","));},this)};
Z[z].bh=function(a,b,c,d){this.ec(a);b=this.Jd(b,!0,d);this.Gh(a,b);c&&this.sc.add(a);this.qa.set(a,b);return this};Z[z].addIndex=Z[z].bh;Z[z].Gh=function(a,b){if(1<b[y]){var c=b[Fa](function(a){return this.Kd[u](a[sb])},this);if(0<c[y])throw new P(507,a,c[F](","));}};Z[z].Sb=Db("Od");Z[z].persistentIndex=Z[z].Sb;Z[z].sb=function(){return new (this.Si())};Z[z].getSchema=Z[z].sb;Z[z].wd=G("If");
Z[z].Jd=function(a,b,c,d){var g=a,g="string"==typeof a[0]?a.map(function(a){return new ei({name:a,order:c||1,autoIncrement:d||!1})}):a.map(function(a){return new ei(a)});g[n](function(a){if(!this.G.s(a[sb]))throw new P(508,this.B,a[sb]);if(b){var c=this.G.get(a[sb]);if(0==c||6==c)throw new P(509,this.B,a[sb]);}},this);return g};
Z[z].Si=function(){function a(){function a(c){return b.qa.get(c).map(function(a){return{cb:this[a[sb]],mb:a.mb,autoIncrement:a[Oa]}},this)}var d=b.G.H().map(function(a){this[a]=new Y(this,a,b.gf[u](a),b.Kd[u](a),b.G.get(a));return this[a]},this),g=b.qa.H().map(function(d){return new ag(b.B,d,b.sc[u](d),a[D](this,d))},this);bg[D](this,b.B,d,g,b.Od);var h=b.qa.s(b.pc)?new ag(b.B,b.pc,!0,a[D](this,b.pc)):null,l=d[Fa](function(a){return!b.Kd[u](a[k]())}),p=b.sc.c().map(function(d){return new ag(b.B,d,
!0,a[D](this,d))},this);this.Rh=new ci(h,l,[],p);this.Fg=b.Oi(d,g)}var b=this;K(a,bg);a[z].yb=function(a){return new this.Fg(bd++,a)};a[z].createRow=a[z].yb;a[z].fc=function(a){var b={};this.zb()[n](function(g){var h=g[k]();g=g.$();var l=a[x][h];if(0==g)if(null===l)g=l;else if(g=l,""==g)g=null;else{0!=g[y]%2&&(g="0"+g);for(var l=new ArrayBuffer(g[y]/2),p=new Uint8Array(l),B=0,Ra=0;B<g[y];B+=2)p[Ra++]=ga(g.substr(B,2),16);g=l}else g=2==g?null===l?l:new Date(l):l;b[h]=g},this);return new this.Fg(a.id,
b)};a[z].deserializeRow=a[z].fc;a[z].kc=G("Rh");a[z].getConstraint=a[z].kc;return a};
Z[z].Oi=function(a,b){function c(c,d){this.G=a;this.qa=b;ad[D](this,c,d)}K(c,ad);c[z].Df=function(){var a={};this.G[n](function(b){a[b[k]()]=b.nc()?null:Wd[b.$()]});return a};c[z].Qg=function(){var a={};this.G[n](function(b){var c=b[k]();b=b.$();var d=this.w()[c];a[c]=0==b?null===d?d:ed(d):2==b?null===d?d:d[Sa]():d},this);return a};var d=J(function(a){var b=this.G.get(a[k]());return 2==b?function(b){b=b[a[k]()];return a.nc()&&null===b?null:b[Sa]()}:1==b?function(b){return a.nc()?(b=b[a[k]()],null===
b?null:b?1:0):b[a[k]()]?1:0}:function(b){return b[a[k]()]}},this),g=J(function(a){var b=a.map(function(a){return d(a.cb)});return function(a){return b.map(function(b){return b(a)})}},this),h={};b[n](function(a){var b=a.l();a=1==a.h[y]?d(a.h[0].cb):g(a.h);h[b]=a});c[z].Rc=function(a){return-1!=a[pb]("#")?this.id():h[cb](a)?h[a](this.w()):null};return c};
function gi(a,b){this.A=new hi(a,b);this.ob=new N;this.Ic=!1}I("lf.schema.Builder",gi,void 0);H=gi[z];H.Eh=function(a){a.wd()[n](function(b){var c=b.Se;if(!this.ob.s(c))throw new P(536,b.Jc);var c=this.ob.get(c).sb(),d=b.sg;if(!c[cb](d))throw new P(537,b.Jc);if(a.sb()[b.Le].$()!=c[d].$())throw new P(538,b.Jc);if(!c[d].Pc())throw new P(539,b.Jc);},this)};H.Dh=function(a){a.wd()[n](function(a){this.ob.get(a.Se).wd()[n](function(c){if(c.Le==a.sg)throw new P(534,a.Jc);},this)},this)};
H.zi=function(){this.Ic||(this.ob.c()[n](function(a){this.Eh(a);this.A.vk(a.sb())},this),this.ob.c()[n](function(a){this.Dh(a)},this),this.Ch(),this.ob[Qa](),this.Ic=!0)};H.zf=function(a,b){a.kf||(a.kf=!0,a.Pe=!0,a.Gf[n](function(c){c=b.get(c);if(!c.kf)this.zf(c,b);else if(c.Pe&&a!=c)throw new P(533);},this));a.Pe=!1};
H.Ch=function(){var a=new Ye;this.A.I.H()[n](function(b){a.set(b,new ii(b))},this);this.ob[n](function(b,c){b.wd()[n](function(b){a.get(b.Se).Gf.add(c)})});Ze(a)[n](function(b){this.zf(b,a)},this)};function ii(a){this.Pe=this.kf=!1;this.Gf=new af;this.df=a}H.sb=function(){this.Ic||this.zi();return this.A};gi[z].getSchema=gi[z].sb;gi[z].Nf=function(){var a=new vd("ns_"+this.A[sb]()),b;bi||(bi=new ai);b=bi;var c=null;b.Je(a)?c=b.o(a):(c=new ai,b.nb(a,c));return c};gi[z].getGlobal=gi[z].Nf;
gi[z].connect=function(a){var b=this.Nf();b.Je(Cd)||b.nb(Cd,this.sb());return(new X(b)).Aa(a)};gi[z].connect=gi[z].connect;gi[z].Xh=function(a){if(this.ob.s(a))throw new P(503,a);if(this.Ic)throw new P(535);this.ob.set(a,new Z(a));return this.ob.get(a)};gi[z].createTable=gi[z].Xh;gi[z].cf=function(a){if(this.Ic)throw new P(535);this.A.cf(a);return this};gi[z].setPragma=gi[z].cf;function hi(a,b){this.B=a;this.Ma=b;this.I=new N;this.wg={ei:!1}}I("lf.schema.DatabaseSchema",hi,void 0);Aa(hi[z],G("B"));
Aa(hi[z],hi[z][sb]);hi[z].version=G("Ma");hi[z].version=hi[z][Ga];hi[z].gb=function(){return this.I.c()};hi[z].tables=hi[z].gb;pa(hi[z],function(a){if(!this.I.s(a))throw new P(101,a);return this.I.get(a)});pa(hi[z],hi[z][t]);hi[z].vk=function(a){this.I.set(a[k](),a)};hi[z].vg=G("wg");hi[z].pragma=hi[z].vg;hi[z].cf=Db("wg");I("lf.schema.create",function(a,b){return new gi(a,b)},void 0);}.bind(window))()
