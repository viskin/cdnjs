!function(){TimeMe={startStopTimes:{},currentPageName:"default-page-name",startTimer:function(){var e=TimeMe.currentPageName;if(void 0===TimeMe.startStopTimes[e])TimeMe.startStopTimes[e]=[];else{var i=TimeMe.startStopTimes[e],t=i[i.length-1];if(void 0!==t&&void 0===t.stopTime)return}TimeMe.startStopTimes[e].push({startTime:new Date,stopTime:void 0})},stopTimer:function(){var e=TimeMe.currentPageName,i=TimeMe.startStopTimes[e];void 0!==i&&0!==i.length&&void 0===i[i.length-1].stopTime&&(i[i.length-1].stopTime=new Date)},getTimeOnCurrentPageInSeconds:function(){return TimeMe.getTimeOnPageInSeconds(TimeMe.currentPageName)},getTimeOnPageInSeconds:function(e){var i=0,t=TimeMe.startStopTimes[e];if(void 0!==t){for(var n=0,r=0;r<t.length;r++){var a=t[r].startTime,m=t[r].stopTime;void 0===m&&(m=new Date);var o=m-a;n+=o/1e3}return i=Number(n)}},getTimeOnAllPagesInSeconds:function(){for(var e=[],i=Object.keys(TimeMe.startStopTimes),t=0;t<i.length;t++){var n=i[t],r=TimeMe.getTimeOnPageInSeconds(n);e.push({pageName:n,timeOnPage:r})}return e},setIdleDurationInSeconds:function(e){var i=parseFloat(e);if(isNaN(i)!==!1)throw{name:"InvalidDurationException",message:"An invalid duration time ("+e+") was provided."};ifvisible.setIdleDuration(i)},setCurrentPageName:function(e){TimeMe.currentPageName=e},resetRecordedPageTime:function(e){TimeMe.startStopTimes[e]=[]},resetAllRecordedPageTimes:function(){for(var e=Object.keys(TimeMe.startStopTimes),i=0;i<e.length;i++)TimeMe.resetRecordedPageTime(e[i])},initialize:function(){TimeMe.startTimer()}},ifvisible.on("blur",function(){TimeMe.stopTimer()}),ifvisible.on("focus",function(){TimeMe.startTimer()}),ifvisible.on("idle",function(){TimeMe.stopTimer()}),ifvisible.on("wakeup",function(){TimeMe.startTimer()}),"function"==typeof define&&define.amd?define(function(){return TimeMe}):window.TimeMe=TimeMe}();
//# sourceMappingURL=./timeme.min.js.map