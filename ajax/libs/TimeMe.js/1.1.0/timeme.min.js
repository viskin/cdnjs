!function(e){TimeMe={startStopTimes:{},idleTimeout:60,currentPageName:"default-page-name",getIfVisibleHandle:function(){if("object"==typeof e)return e;throw"undefined"!=typeof console&&console.log("Required dependency (ifvisible.js) not found.  Make sure it has been included."),{name:"MissingDependencyException",message:"Required dependency (ifvisible.js) not found.  Make sure it has been included."}},startTimer:function(){var e=TimeMe.currentPageName;if(void 0===TimeMe.startStopTimes[e])TimeMe.startStopTimes[e]=[];else{var i=TimeMe.startStopTimes[e],t=i[i.length-1];if(void 0!==t&&void 0===t.stopTime)return}TimeMe.startStopTimes[e].push({startTime:new Date,stopTime:void 0})},stopTimer:function(){var e=TimeMe.currentPageName,i=TimeMe.startStopTimes[e];void 0!==i&&0!==i.length&&void 0===i[i.length-1].stopTime&&(i[i.length-1].stopTime=new Date)},getTimeOnCurrentPageInSeconds:function(){return TimeMe.getTimeOnPageInSeconds(TimeMe.currentPageName)},getTimeOnPageInSeconds:function(e){var i=0,t=TimeMe.startStopTimes[e];if(void 0!==t){for(var n=0,o=0;o<t.length;o++){var s=t[o].startTime,m=t[o].stopTime;void 0===m&&(m=new Date);var r=m-s;n+=r/1e3}return i=Number(n)}},getTimeOnAllPagesInSeconds:function(){for(var e=[],i=Object.keys(TimeMe.startStopTimes),t=0;t<i.length;t++){var n=i[t],o=TimeMe.getTimeOnPageInSeconds(n);e.push({pageName:n,timeOnPage:o})}return e},setIdleDurationInSeconds:function(e){var i=parseFloat(e);if(isNaN(i)!==!1)throw{name:"InvalidDurationException",message:"An invalid duration time ("+e+") was provided."};TimeMe.getIfVisibleHandle().setIdleDuration(i),TimeMe.idleTimeout=i},setCurrentPageName:function(e){TimeMe.currentPageName=e},resetRecordedPageTime:function(e){delete TimeMe.startStopTimes[e]},resetAllRecordedPageTimes:function(){for(var e=Object.keys(TimeMe.startStopTimes),i=0;i<e.length;i++)TimeMe.resetRecordedPageTime(e[i])},listenForVisibilityEvents:function(){TimeMe.getIfVisibleHandle().on("blur",function(){TimeMe.stopTimer()}),TimeMe.getIfVisibleHandle().on("focus",function(){TimeMe.startTimer()}),TimeMe.getIfVisibleHandle().on("idle",function(){TimeMe.idleTimeout>0&&TimeMe.stopTimer()}),TimeMe.getIfVisibleHandle().on("wakeup",function(){TimeMe.idleTimeout>0&&TimeMe.startTimer()})},initialize:function(){TimeMe.listenForVisibilityEvents(),TimeMe.startTimer()}},"function"==typeof define&&define.amd?define(function(){return TimeMe}):window.TimeMe=TimeMe}(this.ifvisible);
//# sourceMappingURL=./timeme.min.js.map