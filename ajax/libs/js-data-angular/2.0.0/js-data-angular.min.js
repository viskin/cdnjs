/**
* @author Jason Dobry <jason.dobry@gmail.com>
* @file js-data-angular.min.js
* @version 2.0.0 - Homepage <https://www.js-data.io/js-data-angular/>
* @copyright (c) 2014 Jason Dobry <https://github.com/jmdobry/>
* @license MIT <https://github.com/js-data/js-data-angular/blob/master/LICENSE>
*
* @overview Angular wrapper for js-data.
*/
!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a){!function(b,c,d){"use strict";function e(){}function f(a){this.defaults=new e,k(this.defaults,a)}function g(d){var e;try{e=a(d.project)}catch(f){}e||(e=b[d["class"]]),e&&("http"===d.name&&(l=!0),d.loaded=!0,c.module("js-data").provider(d["class"],function(){var a=this;a.defaults={},a.$get=[function(){return new e(a.defaults)}]}))}var h;try{h=a("js-data")}catch(i){}if(h||(h=b.JSData),!h)throw new Error("js-data must be loaded!");var j=h.DSUtils,k=h.DSUtils.deepMixIn,l=!1,m=[{project:"js-data-http",name:"http","class":"DSHttpAdapter"},{project:"js-data-localstorage",name:"localstorage","class":"DSLocalStorageAdapter"},{project:"js-data-localforage",name:"localforage","class":"DSLocalForageAdapter"},{project:"js-data-firebase",name:"firebase","class":"DSFirebaseAdapter"}],n=["compute","digest","eject","inject","link","linkAll","linkInverse","unlinkInverse"];c.module("js-data",["ng"]).value("DSUtils",h.DSUtils).value("DSErrors",h.DSErrors).provider("DS",function(){function a(){function a(a){var b=g.defer();try{a.call(d,c.bind(b,b.resolve),c.bind(b,b.reject))}catch(e){b.reject(e)}return b.promise}var e=Array.prototype.slice.call(arguments),f=e[e.length-2],g=e[e.length-1],i=new h.DS(b.defaults),k={};if(a.all=g.all,a.when=g.when,a.reject=g.reject,j.Promise=a,e.length)for(var l=0;l<e.length;l++)for(var o=0;o<m.length;o++)m[o].loaded&&!m[o].registered&&(m[o].registered=!0,i.registerAdapter(m[o].name,e[l]));for(var p=0;p<n.length;p++)k[n[p]]=i[n[p]],i[n[p]]=function(a){return function(){var b=arguments;return f.$$phase?k[a].apply(i,b):f.$apply(function(){return k[a].apply(i,b)})}}(n[p]);return("function"!=typeof Object.observe||"function"!=typeof Array.observe)&&f.$watch(function(){i.observe.Platform.performMicrotaskCheckpoint()}),i}for(var b=this,e=h.DSErrors,f=[],g=0;g<m.length;g++)m[g].loaded&&f.push(m[g]["class"]);b.defaults={},h.DS.prototype.bindAll=function(a,b,c,d,f){var g=this;if(b=b||{},!g.definitions[a])throw new e.NER(a);if(!j.isObject(b))throw new e.IA('"params" must be an object!');if(!j.isObject(c))throw new e.IA('"scope" must be an object!');if(!j.isString(d))throw new e.IA('"expr" must be a string!');try{return c.$watch(function(){return g.lastModified(a)},function(){var e=g.filter(a,b);j.set(c,d,e),f&&f(null,e)})}catch(h){if(!f)throw h;f(h)}},h.DS.prototype.bindOne=function(a,b,c,d,f){var g=this;if(b=j.resolveId(g.definitions[a],b),!g.definitions[a])throw new e.NER(a);if(!j.isString(b)&&!j.isNumber(b))throw new e.IA('"id" must be a string or a number!');if(!j.isObject(c))throw new e.IA('"scope" must be an object!');if(!j.isString(d))throw new e.IA('"expr" must be a string!');try{return c.$watch(function(){return g.lastModified(a,b)},function(){var e=g.get(a,b);j.set(c,d,e),f&&f(null,e)})}catch(h){if(!f)throw h;f(h)}},f.push("$rootScope"),f.push("$q"),f.push(a),b.$get=f});for(var o=0;o<m.length;o++)g(m[o]);if(!l){var p=e.prototype;p.queryTransform=function(a,b){return b},p.basePath="",p.forceTrailingSlash="",p.httpConfig={},p.log=console?function(a,b){console["function"==typeof console.info?"info":"log"](a,b)}:function(){},p.error=console?function(a,b){console["function"==typeof console.error?"error":"log"](a,b)}:function(){},p.deserialize=function(a,b){return b&&"data"in b?b.data:b},p.serialize=function(a,b){return b};var q=f.prototype;q.getPath=function(a,b,c,d){var e=this;d=d||{};var f=[d.basePath||e.defaults.basePath||b.basePath,b.getEndpoint(j.isString(c)||j.isNumber(c)||"create"===a?c:null,d)];return("find"===a||"update"===a||"destroy"===a)&&f.push(c),j.makePath.apply(j,f)},q.GET=function(a,b){return b=b||{},"method"in b||(b.method="get"),this.HTTP(k(b,{url:a}))},q.POST=function(a,b,c){return c=c||{},c=j.copy(c),"method"in c||(c.method="post"),this.HTTP(k(c,{url:a,data:b}))},q.PUT=function(a,b,c){return c=c||{},"method"in c||(c.method="put"),this.HTTP(k(c,{url:a,data:b||{}}))},q.DEL=function(a,b){return b=b||{},"method"in b||(b.method="delete"),this.HTTP(k(b,{url:a}))},q.find=function(a,b,c){var d=this;return c=c||{},d.GET(d.getPath("find",a,b,c),c).then(function(b){return(c.deserialize?c.deserialize:d.defaults.deserialize)(a,b)})},q.findAll=function(a,b,c){var d=this;return c=c||{},c=j.copy(c),c.params=c.params||{},b&&(b=d.defaults.queryTransform(a,b),k(c.params,b)),d.GET(d.getPath("findAll",a,b,c),c).then(function(b){return(c.deserialize?c.deserialize:d.defaults.deserialize)(a,b)})},q.create=function(a,b,c){var d=this;return c=c||{},d.POST(d.getPath("create",a,b,c),(c.serialize?c.serialize:d.defaults.serialize)(a,b),c).then(function(b){return(c.deserialize?c.deserialize:d.defaults.deserialize)(a,b)})},q.update=function(a,b,c,d){var e=this;return d=d||{},e.PUT(e.getPath("update",a,b,d),(d.serialize?d.serialize:e.defaults.serialize)(a,c),d).then(function(b){return(d.deserialize?d.deserialize:e.defaults.deserialize)(a,b)})},q.updateAll=function(a,b,c,d){var e=this;return d=d||{},d=j.copy(d),d.params=d.params||{},c&&(c=e.defaults.queryTransform(a,c),k(d.params,c)),this.PUT(e.getPath("updateAll",a,b,d),(d.serialize?d.serialize:e.defaults.serialize)(a,b),d).then(function(b){return(d.deserialize?d.deserialize:e.defaults.deserialize)(a,b)})},q.destroy=function(a,b,c){var d=this;return c=c||{},d.DEL(d.getPath("destroy",a,b,c),c).then(function(b){return(c.deserialize?c.deserialize:d.defaults.deserialize)(a,b)})},q.destroyAll=function(a,b,c){var d=this;return c=c||{},c=j.copy(c),c.params=c.params||{},b&&(b=d.defaults.queryTransform(a,b),k(c.params,b)),this.DEL(d.getPath("destroyAll",a,b,c),c).then(function(b){return(c.deserialize?c.deserialize:d.defaults.deserialize)(a,b)})},c.module("js-data").provider("DSHttpAdapter",function(){var a=this;a.defaults={},a.$get=["$http","DS","$q",function(b,c,d){q.HTTP=function(a){function c(a){var b=f.toUTCString()+" - "+a.config.method.toUpperCase()+" "+a.config.url+" - "+a.status+" "+((new Date).getTime()-f.getTime())+"ms";return a.status>=200&&a.status<300?(e.defaults.log&&e.defaults.log(b,a),a):(e.defaults.error&&e.defaults.error("FAILED: "+b,a),d.reject(a))}var e=this,f=new Date;return a=k(a,e.defaults.httpConfig),e.defaults.forceTrailingSlash&&"/"!==a.url[a.url.length]&&(a.url+="/"),a.method=a.method.toUpperCase(),b(a).then(c,c)};var e=new f(a.defaults);return c.registerAdapter("http",e,{"default":!0}),e}]}),c.module("js-data").run(["DS","DSHttpAdapter",function(a,b){a.registerAdapter("http",b,{"default":!0})}])}}(window,window.angular)},{"js-data":"js-data"}]},{},[1]);