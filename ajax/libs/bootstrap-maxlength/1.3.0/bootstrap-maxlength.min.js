(function(a){a.fn.extend({maxlength:function(n,l){var h=a("body"),c={alwaysShow:false,threshold:10,warningClass:"badge badge-success",limitReachedClass:"badge badge-important",separator:" / ",preText:"",postText:"",placement:"bottom",validate:false};if(a.isFunction(n)&&!l){l=n;n={}}n=a.extend(c,n);function g(o,q,p){if(n.alwaysShow){return true}else{if((p-d(o))<=q){return true}else{return false}}}function d(o){return o.val().length}function i(o,p){var q=p-d(o);return q}function f(o){o.css({display:"block"})}function j(o){o.css({display:"none"})}function e(p,o,q,r){r.html(k(q,p));if(p){if(g(o,n.threshold,q)){f(r.removeClass(n.limitReachedClass).addClass(n.warningClass))}else{j(r)}}else{f(r.removeClass(n.warningClass).addClass(n.limitReachedClass))}}function k(p,q){var o="";if(n.preText){o+=n.preText}o=o+q+n.separator+p;if(n.postText){o+=n.postText}return o}function m(o){var p=o[0];return a.extend({},(typeof p.getBoundingClientRect=="function")?p.getBoundingClientRect():{width:p.offsetWidth,height:p.offsetHeight},o.offset())}function b(o,q){var t=m(o),r=o.offset(),p=q.width(),s=q.height();switch(n.placement){case"bottom":q.css({top:r.top+t.height,left:r.left+t.width/2-p/2});break;case"top":q.css({top:t.top-s,left:t.left+t.width/2-p/2});break;case"left":q.css({top:t.top+t.height/2-s/2,left:t.left-p});break;case"right":q.css({top:t.top+t.height/2-s/2,left:t.left+t.width});break}}return this.each(function(){var o=a(this),p=o.attr("maxlength")||o.attr("size"),q=a("<span></span>").css({display:"none",position:"absolute",whiteSpace:"nowrap",zIndex:999}).html(k(p,"0"));h.append(q);o.focus(function(){var r=i(o,p);b(o,q);q.css({zIndex:99999});e(r,o,p,q)});o.blur(function(){q.css("display","none")});o.keyup(function(){var r=i(o,p);if(n.validate&&r<0){return false}else{e(r,o,p,q)}})})}})})(jQuery);