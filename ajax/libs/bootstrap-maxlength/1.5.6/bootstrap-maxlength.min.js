(function(a){if(!a.event.special.destroyed){a.event.special.destroyed={remove:function(b){if(b.handler){b.handler()}}}}a.fn.extend({maxlength:function(q,o){var h=a("body"),c={showOnReady:false,alwaysShow:false,threshold:10,warningClass:"label label-success",limitReachedClass:"label label-important label-danger",separator:" / ",preText:"",postText:"",showMaxLength:true,placement:"bottom",showCharsTyped:true,validate:false,utf8:false,appendToParent:false,twoCharLinebreak:true,allowOverMax:false};if(a.isFunction(q)&&!o){o=q;q={}}q=a.extend(c,q);function d(r){var t=r.val();if(q.twoCharLinebreak){t=t.replace(/\r(?!\n)|\n(?!\r)/g,"\r\n")}else{t=t.replace(new RegExp("\r?\n","g"),"\n")}var s=0;if(q.utf8){s=k(t)}else{s=t.length}return s}function i(r,s){var u=r.val();var t=0;if(q.twoCharLinebreak){u=u.replace(/\r(?!\n)|\n(?!\r)/g,"\r\n");if(u.substr(u.length-1)==="\n"&&u.length%2===1){t=1}}r.val(u.substr(0,s-t))}function k(s){var r=0;for(var u=0;u<s.length;u++){var t=s.charCodeAt(u);if(t<128){r++}else{if((t>127)&&(t<2048)){r=r+2}else{r=r+3}}}return r}function g(s,u,t){var r=true;if(!q.alwaysShow&&(t-d(s)>u)){r=false}return r}function j(r,s){var t=s-d(r);return t}function f(r){r.css({display:"block"})}function m(r){r.css({display:"none"})}function n(s,t){var r="";if(q.message){r=q.message.replace("%charsTyped%",t).replace("%charsRemaining%",s-t).replace("%charsTotal%",s)}else{if(q.preText){r+=q.preText}if(!q.showCharsTyped){r+=s-t}else{r+=t}if(q.showMaxLength){r+=q.separator+s}if(q.postText){r+=q.postText}}return r}function e(s,r,t,u){u.html(n(t,(t-s)));if(s>0){if(g(r,q.threshold,t)){f(u.removeClass(q.limitReachedClass).addClass(q.warningClass))}else{m(u)}}else{f(u.removeClass(q.warningClass).addClass(q.limitReachedClass))}if(q.allowOverMax){if(s<0){r.addClass("overmax")}else{r.removeClass("overmax")}}}function p(r){var s=r[0];return a.extend({},(typeof s.getBoundingClientRect==="function")?s.getBoundingClientRect():{width:s.offsetWidth,height:s.offsetHeight},r.offset())}function b(r,v){var x=p(r),u=r.outerWidth(),t=v.outerWidth(),s=v.width(),w=v.height();if(q.appendToParent){x.top-=r.parent().offset().top;x.left-=r.parent().offset().left}switch(q.placement){case"bottom":v.css({top:x.top+x.height,left:x.left+x.width/2-s/2});break;case"top":v.css({top:x.top-w,left:x.left+x.width/2-s/2});break;case"left":v.css({top:x.top+x.height/2-w/2,left:x.left-s});break;case"right":v.css({top:x.top+x.height/2-w/2,left:x.left+x.width});break;case"bottom-right":v.css({top:x.top+x.height,left:x.left+x.width});break;case"top-right":v.css({top:x.top-w,left:x.left+u});break;case"top-left":v.css({top:x.top-w,left:x.left-t});break;case"bottom-left":v.css({top:x.top+r.outerHeight(),left:x.left-t});break;case"centered-right":v.css({top:x.top+(w/2),left:x.left+u-t-3});break;case"bottom-right-inside":v.css({top:x.top+x.height,left:x.left+x.width-t});break;case"top-right-inside":v.css({top:x.top-w,left:x.left+u-t});break;case"top-left-inside":v.css({top:x.top-w,left:x.left});break;case"bottom-left-inside":v.css({top:x.top+r.outerHeight(),left:x.left});break}}function l(s){var r="maxlength";if(q.allowOverMax){r="data-bs-mxl"}return s.attr(r)||s.attr("size")}return this.each(function(){var s=a(this),t,u;a(window).resize(function(){if(u){b(s,u)}});if(q.allowOverMax){a(this).attr("data-bs-mxl",a(this).attr("maxlength"));a(this).removeAttr("maxlength")}function r(){var w=n(t,"0");t=l(s);if(!u){u=a('<span class="bootstrap-maxlength"></span>').css({display:"none",position:"absolute",whiteSpace:"nowrap",zIndex:1099}).html(w)}if(s.is("textarea")){s.data("maxlenghtsizex",s.outerWidth());s.data("maxlenghtsizey",s.outerHeight());s.mouseup(function(){if(s.outerWidth()!==s.data("maxlenghtsizex")||s.outerHeight()!==s.data("maxlenghtsizey")){b(s,u)}s.data("maxlenghtsizex",s.outerWidth());s.data("maxlenghtsizey",s.outerHeight())})}if(q.appendToParent){s.parent().append(u);s.parent().css("position","relative")}else{h.append(u)}var v=j(s,l(s));e(v,s,t,u);b(s,u)}if(q.showOnReady){s.ready(function(){r()})}else{s.focus(function(){r()})}s.on("destroyed",function(){if(u){u.remove()}});s.on("blur",function(){if(u&&!q.showOnReady){u.remove()}});s.on("input",function(){var w=l(s),x=j(s,w),v=true;if(q.validate&&x<0){i(s,w);v=false}else{e(x,s,t,u)}if(q.placement==="bottom-right-inside"||q.placement==="top-right-inside"){b(s,u)}return v})})}})}(jQuery));