(function(a){if(!a.event.special.destroyed){a.event.special.destroyed={remove:function(b){if(b.handler){b.handler()}}}}a.fn.extend({maxlength:function(r,p){var h=a("body"),c={showOnReady:false,alwaysShow:false,threshold:10,warningClass:"label label-success",limitReachedClass:"label label-important label-danger",separator:" / ",preText:"",postText:"",showMaxLength:true,placement:"bottom",message:null,showCharsTyped:true,validate:false,utf8:false,appendToParent:false,twoCharLinebreak:true,allowOverMax:false};if(a.isFunction(r)&&!p){p=r;r={}}r=a.extend(c,r);function d(s){var u=s.val();if(r.twoCharLinebreak){u=u.replace(/\r(?!\n)|\n(?!\r)/g,"\r\n")}else{u=u.replace(new RegExp("\r?\n","g"),"\n")}var t=0;if(r.utf8){t=k(u)}else{t=u.length}return t}function i(s,t){var v=s.val();var u=0;if(r.twoCharLinebreak){v=v.replace(/\r(?!\n)|\n(?!\r)/g,"\r\n");if(v.substr(v.length-1)==="\n"&&v.length%2===1){u=1}}s.val(v.substr(0,t-u))}function k(t){var s=0;for(var v=0;v<t.length;v++){var u=t.charCodeAt(v);if(u<128){s++}else{if((u>127)&&(u<2048)){s=s+2}else{s=s+3}}}return s}function g(t,v,u){var s=true;if(!r.alwaysShow&&(u-d(t)>v)){s=false}return s}function j(s,t){var u=t-d(s);return u}function f(s,t){t.css({display:"block"});s.trigger("maxlength.shown")}function n(s,t){t.css({display:"none"});s.trigger("maxlength.hidden")}function o(v,t,u){var s="";if(r.message){if(typeof r.message==="function"){s=r.message(v,t)}else{s=r.message.replace("%charsTyped%",u).replace("%charsRemaining%",t-u).replace("%charsTotal%",t)}}else{if(r.preText){s+=r.preText}if(!r.showCharsTyped){s+=t-u}else{s+=u}if(r.showMaxLength){s+=r.separator+t}if(r.postText){s+=r.postText}}return s}function e(t,s,u,v){if(v){v.html(o(s.val(),u,(u-t)));if(t>0){if(g(s,r.threshold,u)){f(s,v.removeClass(r.limitReachedClass).addClass(r.warningClass))}else{n(s,v)}}else{f(s,v.removeClass(r.warningClass).addClass(r.limitReachedClass))}}if(r.allowOverMax){if(t<0){s.addClass("overmax")}else{s.removeClass("overmax")}}}function q(s){var t=s[0];return a.extend({},(typeof t.getBoundingClientRect==="function")?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},s.offset())}function b(s,w){var y=q(s);if(a.type(r.placement)==="function"){r.placement(s,w,y);return}if(a.isPlainObject(r.placement)){m(r.placement,w);return}var v=s.outerWidth(),u=w.outerWidth(),t=w.width(),x=w.height();if(r.appendToParent){y.top-=s.parent().offset().top;y.left-=s.parent().offset().left}switch(r.placement){case"bottom":w.css({top:y.top+y.height,left:y.left+y.width/2-t/2});break;case"top":w.css({top:y.top-x,left:y.left+y.width/2-t/2});break;case"left":w.css({top:y.top+y.height/2-x/2,left:y.left-t});break;case"right":w.css({top:y.top+y.height/2-x/2,left:y.left+y.width});break;case"bottom-right":w.css({top:y.top+y.height,left:y.left+y.width});break;case"top-right":w.css({top:y.top-x,left:y.left+v});break;case"top-left":w.css({top:y.top-x,left:y.left-u});break;case"bottom-left":w.css({top:y.top+s.outerHeight(),left:y.left-u});break;case"centered-right":w.css({top:y.top+(x/2),left:y.left+v-u-3});break;case"bottom-right-inside":w.css({top:y.top+y.height,left:y.left+y.width-u});break;case"top-right-inside":w.css({top:y.top-x,left:y.left+v-u});break;case"top-left-inside":w.css({top:y.top-x,left:y.left});break;case"bottom-left-inside":w.css({top:y.top+s.outerHeight(),left:y.left});break}}function m(u,v){if(!u||!v){return}var t=["top","bottom","left","right","position"];var s={};a.each(t,function(x,w){var y=r.placement[w];if(typeof y!=="undefined"){s[w]=y}});v.css(s);return}function l(t){var s="maxlength";if(r.allowOverMax){s="data-bs-mxl"}return t.attr(s)||t.attr("size")}return this.each(function(){var t=a(this),u,v;a(window).resize(function(){if(v){b(t,v)}});if(r.allowOverMax){a(this).attr("data-bs-mxl",a(this).attr("maxlength"));a(this).removeAttr("maxlength")}function s(){var x=o(t.val(),u,"0");u=l(t);if(!v){v=a('<span class="bootstrap-maxlength"></span>').css({display:"none",position:"absolute",whiteSpace:"nowrap",zIndex:1099}).html(x)}if(t.is("textarea")){t.data("maxlenghtsizex",t.outerWidth());t.data("maxlenghtsizey",t.outerHeight());t.mouseup(function(){if(t.outerWidth()!==t.data("maxlenghtsizex")||t.outerHeight()!==t.data("maxlenghtsizey")){b(t,v)}t.data("maxlenghtsizex",t.outerWidth());t.data("maxlenghtsizey",t.outerHeight())})}if(r.appendToParent){t.parent().append(v);t.parent().css("position","relative")}else{h.append(v)}var w=j(t,l(t));e(w,t,u,v);b(t,v)}if(r.showOnReady){t.ready(function(){s()})}else{t.focus(function(){s()})}t.on("maxlength.reposition",function(){b(t,v)});t.on("destroyed",function(){if(v){v.remove()}});t.on("blur",function(){if(v&&!r.showOnReady){v.remove()}});t.on("input",function(){var x=l(t),y=j(t,x),w=true;if(r.validate&&y<0){i(t,x);w=false}else{e(y,t,u,v)}if(r.placement==="bottom-right-inside"||r.placement==="top-right-inside"){b(t,v)}return w})})}})}(jQuery));