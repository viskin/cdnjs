!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.frzr=e.frzr||{})}(this,function(e){"use strict";function t(e){return document.createTextNode(e)}function n(e,n){for(var r=document.createElement(e),o=1;o<arguments.length;o++){var i=arguments[o];if(null!=i){var l="string"==typeof i||"number"==typeof i||"boolean"==typeof i;if(o>1||l||(i.el||i)instanceof Node)l?u(r,t(i)):u(r,i);else if(1===o)for(var a in i)null!=r[a]?r[a]=i[a]:r.setAttribute(a,i[a])}}return r}function r(e){for(var n=document.createElementNS("http://www.w3.org/2000/svg",e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o){var i="string"==typeof o||"number"==typeof o||"boolean"==typeof o;if(r>1||i||(o.el||o)instanceof Node)i?u(n,t(o)):u(n,o);else if(1===r)for(var l in o)n.setAttribute(l,o[l])}}return n}function o(e,t,n){return new i(e,t,n)}function i(e,t,n){this.View=e,this.key=t,this.initData=n,this.lookup=null!=t?{}:[],this.views=[]}function l(e,t){t.remove(function(){f(e,t)})}function u(e,t){var n=e.el||e,r=t.el||t;return t instanceof i?(t.parent=e,void s(e,t.views)):void(t.el?(n.appendChild(r),t.parent?t.reorder&&t.reorder():t.mount&&t.mount(),t.parent=e):n.appendChild(r))}function a(e,t,n){var r=e.el||e,o=t.el||t,i=n.el||n;r.insertBefore(o,i),t.el&&(t.parent?t.reorder&&t.reorder():t.mount&&t.mount(),t.parent=e)}function f(e,t){var n=e.el||e,r=t.el||t;n.removeChild(r),t.el&&(t.parent=null,t.unmount&&t.unmount())}function s(e,t){for(var n=e.el||e,r=n.firstChild,o=0;o<t.length;o++){var i=t[o],l=i.el||i;l!==r?r?a(e,i,r):u(e,i):r=r.nextSibling}for(;r;){var f=r.nextSibling;r.removing||n.removeChild(r),r=f}}i.prototype.update=function(e,t){var n=this.View,r=this.key,o=this.lookup,i=this.views,u=r?{}:[],a=[],p=[],h=[];i.length=e.length;for(var v=0;v<e.length;v++){var d=e[v],c=null!=r?d[r]:v,m=o[c];m?p[p.length]=m:(m=new n(this.initData,d),a[a.length]=m),m.update&&m.update(d),i[v]=m,u[c]=m}for(var c in o)if(!u[c]){var m=o[c];m.el.removing=!0,h[h.length]=m}this.parent&&s(this.parent,i);for(var v=0;v<i.length;v++){var d=e[v],m=i[v];m.updated&&m.updated(d)}this.lookup=u,t&&t(a,p,h);for(var v=0;v<h.length;v++){var m=h[v];m.remove?this.parent&&l(this.parent,m):this.parent&&f(this.parent,m)}return this},e.text=t,e.el=n,e.svg=r,e.list=o,e.List=i,e.mount=u,e.mountBefore=a,e.unmount=f,e.setChildren=s});