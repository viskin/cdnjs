"use strict";var frzr=function(){function t(){this.listeners={}}function e(t,e){for(var n=t.length,r=0;n>r;r++)e(t[r],r,n)}function n(t,e){for(var n,r=[],i=t.length,o=0;i>o;o++)n=t[o],e(n,o,i)&&r.push(n);return r}function r(t){if(!t||!t.length)return t;for(var e,n,r=t.length-1;r>0;r--)e=Math.random()*r|0,n=t[r],t[r]=t[e],t[e]=n;return t}function i(t,e){for(var n=t.length,r=new Array(n),i=0;n>i;i++)r[i]=e(t[i],i,n);return r}function o(t,e){t["super"]=e,t.prototype=Object.create(e.prototype,{constructor:{configurable:!0,value:t,writable:!0}})}function u(t){return t}function s(t){return L(t,2)}function f(t){return 1-s(1-t)}function a(t){return.5>t?s(2*t)/2:1-s(2*(1-t))/2}function l(t){return L(t,3)}function c(t){return 1-l(1-t)}function p(t){return.5>t?l(2*t)/2:1-l(2*(1-t))/2}function d(t){return L(t,4)}function g(t){return 1-d(1-t)}function h(t){return.5>t?d(2*t)/2:1-d(2*(1-t))/2}function v(t){return L(t,5)}function y(t){return 1-y(1-t)}function m(t){return.5>t?v(2*t)/2:1-v(2*(1-t))/2}function w(t){var e=7.5625,n=2.75;return 1/n>t?e*t*t:2/n>t?(t-=1.5/n,e*t*t+.75):2.5/n>t?(t-=2.25/n,e*t*t+.9375):(t-=2.625/n,e*t*t+.984375)}function $(t){return 1-w(1-t)}function b(t){return.5>t?$(2*t)/2:1-$(2*(1-t))/2}function x(t){var e=t.delay,n=void 0===e?0:e,r=t.duration,i=void 0===r?0:r,o=t.easing,u=t.start,s=t.progress,f=t.end;x["super"].call(this);var a=Date.now();this.startTime=a+n,this.endTime=this.startTime+i,this.easing=P[o]||P.quadOut,this.started=!1,u&&this.on("start",u),s&&this.on("progress",s),f&&this.on("end",f),F.push(this),z||(z=!0,D(_))}function _(){var t=Date.now();if(!F.length)return void(z=!1);for(var e,n=0;n<F.length;n++)if(e=F[n],!(t<e.startTime)){e.started||(e.started=!0,e.trigger("start"));var r=(t-e.startTime)/(e.endTime-e.startTime);r>1&&(r=1),e.trigger("progress",e.easing(r),r),t>e.endTime&&(e.trigger("end"),F.splice(n--,1))}D(_,!0)}function O(t,e){var n=G.createElement(t);if("undefined"!=typeof e)for(var r in e)n.setAttribute(r,e[r]);return n}function A(t,e){var n=G.createElementNS("http://www.w3.org/2000/svg",t);if("undefined"!=typeof e)for(var r in e)n.setAttribute(e,e[r]);return n}function q(t){N.length||(U.trigger("render"),D(C)),N.push(t)}function C(){for(var t=N.splice(0,N.length),e=0,n=t.length;n>e;e++)t[e]();return 0===N.length?void U.trigger("rendered"):void C()}function I(t){if("undefined"!=typeof J[t])return J[t];if("undefined"!=typeof H[t])return J[t]=t,t;for(var e,n=t[0].toUpperCase()+t.slice(1),r=["webkit","moz","Moz","ms","o"],i=0,o=r.length;o>i;i++)if(e=r[i]+n,"undefined"!=typeof H[e])return J[t]=e,e}function T(t,e,n){return"undefined"!=typeof j||(j=B()),n=n||0,j?"translate3d("+t+", "+e+", "+n+")":"translate("+t+", "+e+")"}function B(){var t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);if(!t)return!1;var e=I("transform"),n=K.createElement("p");return Q.appendChild(n),n.style[e]="translate3d(1px,1px,1px)",j=n.style[e],j=null!=j&&j.length&&"none"!==j,Q.removeChild(n),j}function E(t){var e=this,n=e instanceof E;if(!n)return new E(t);var r=t&&t.svg||!1;E["super"].call(e),e.$el=r?A(t.el||"svg"):O(t.el||"div"),e.$root=null,e.parent=null,e.data={},e._attrs={},e._class={},e._style={},e._text="",t&&e.opt(t,null,!0),e.trigger("init",e),t.data&&e.set(t.data),e.trigger("inited",e)}function k(){this.trigger("parentmount")}function M(){this.trigger("parentmounted")}function S(){this.$el.focus()}function V(t,e){var n=this instanceof V;return n?(this.view=new E(e),this.views=[],this.lookup={},void(this.ChildView=t||E)):new V(t,e)}t.prototype.on=function(t,e,n,r){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({once:r||!1,cb:e,ctx:n})},t.prototype.one=function(t,e,n){this.on(t,e,n,!0)},t.prototype.off=function(t,e,n){if("undefined"==typeof t)return void(this.listeners={});if("undefined"==typeof e)return void(this.listeners[t]=[]);var r=this.listeners[t];if(r)for(var i=0,o=r.length;o>i;i++)n?r[i].ctx===n&&(r.splice(i--,1),o--):r[i].cb===e&&(r.splice(i--,1),o--)},t.prototype.trigger=function(t){for(var e=this.listeners[t],n=arguments.length-1,r=new Array(n),i=0;n>i;i++)r[i]=arguments[i+1];if(e){var o;for(i=0;i<e.length;i++)o=e[i],o.cb.apply(o.ctx||this,r),o.once&&(e.splice(i--,1),n--)}};var z,L=Math.pow,P={linear:u,quadIn:s,quadOut:f,quadInOut:a,cubicIn:l,cubicOut:c,cubicInOut:p,quartIn:d,quartOut:g,quartInOut:h,quintIn:v,quintOut:y,quintInOut:m,bounceIn:$,bounceOut:w,bounceInOut:b},D=window.requestAnimationFrame||function(t){setTimeout(t,1e3/60)},F=[];o(x,t),x.prototype.destroy=function(){for(var t=0;t<F.length;t++)if(F[t]===this)return void F.splice(t,1)};var j,G=document,N=[],U=new t,H=document.createElement("p").style,J={},K=document,Q=document.body;o(E,t),E.extend=function(t){return function(e){if(!e)return new E(t);var n={};for(var r in t)n[r]=t[r];for(r in e)n[r]=e[r];return new E(n)}},E.prototype.mount=function(t){var e=this;e.parent&&(e.parent.off("mount",k,e),e.parent.off("mounted",M,e)),e.$root&&(e.trigger("unmount"),e.trigger("unmounted")),t instanceof E?(e.parent=t,e.$root=t.$el):e.$root=t,q(function(){e.parent&&(e.parent.on("mount",k,e),e.parent.on("mounted",M,e)),e.trigger("mount"),e.$root.appendChild(e.$el),e.trigger("mounted")})},E.prototype.unmount=function(){var t=this,e=t.$el;t.$root&&(t.parent&&(t.parent.off("mount",k,t),t.parent.off("mounted",M,t)),q(function(){t.trigger("unmount"),t.$root.removeChild(e),t.$root=null,t.parent=null,t.trigger("unmounted")}))},E.prototype.destroy=function(){var t=this;t.trigger("destroy"),t.off(),t.unmount(),t.trigger("destroyed")},E.prototype.mountBefore=function(t,e){var n=this,r=n.$el;n.$root=t,q(function(){t.insertBefore(r,e)})},E.prototype.set=function(t,e){var n=this,r={};"string"==typeof t?r[t]=e:null!=t&&(r=t),q(function(){n.trigger("render")}),n.trigger("update",r);for(t in r)n.data[t]=r[t];n.trigger("updated"),q(function(){n.trigger("rendered")})},E.prototype.opt=function(t,e,n){var r=this,i={};if("undefined"!=typeof t){"string"==typeof t?i[t]=e:null!=t&&(i=t);for(t in i)if("attr"===t)r.attr(i.attr);else if("href"===t)r.attr({href:i.href});else if("id"===t)r.attr({id:i.id});else if("data"===t)n||r.set(i.data);else if("style"===t){if("string"==typeof i.style){r.attr({style:i.style});continue}r.style(i.style)}else if("class"===t){if("string"==typeof i["class"]){r.attr({"class":i["class"]});continue}r["class"](i["class"])}else"text"===t?r.text(i.text):"listen"===t?r.listen(i.listen):"init"===t?r.on("init",i.init):"update"===t?r.on("update",i.update):"parent"===t?r.mount(i.parent):"$root"===t?r.mount(i.$root):r[t]=i[t]}},E.prototype.text=function(t){var e=this,n=e.$el;t!==e._text&&(e._text=t,q(function(){t===e._text&&(n.textContent=t)}))},E.prototype.listen=function(t,e){function n(t,e){r.on(t,e),i.addEventListener(t,function(e){r.trigger(t,e)})}var r=this,i=r.$el,o={};"string"==typeof t?o[t]=e:null!=t&&(o=t);for(t in o)e=o[t],n(t,e)},E.prototype["class"]=function(t,e){function n(t,e){q(function(){r._class[t]===e&&(e?i.classList.add(t):i.classList.remove(t))})}var r=this,i=r.$el,o={};"string"==typeof t?o[t]=e:null!=t&&(o=t);for(t in o)e=o[t],r._class[t]!==e&&(r._class[t]=e,n(t,e))},E.prototype.style=function(t,e){function n(t,e){q(function(){r._style[t]===o[t]&&(i.style[t]=e)})}var r=this,i=r.$el,o={};"string"==typeof t?o[t]=e:null!=t&&(o=t);for(t in o)e=o[t],r._style[t]!==e&&(r._style[t]=e,n(t,e))},E.prototype.attr=function(t,e){function n(t,e){q(function(){if(e===i._attrs[t]){if(e===!1||null==e)return void o.removeAttribute(t);o.setAttribute(t,e),"autofocus"===t&&(e?(o.focus(),i.on("mounted",S),i.on("parentmounted",S,i)):(i.off("mounted",S),i.off("parentmounted",S,i)))}})}var r,i=this,o=i.$el,u=i._attrs,s={};"string"==typeof t?s[t]=e:null!=t&&(s=t);for(r in s)e=s[r],e!==u[r]&&(i._attrs[r]=e,e===i._attrs[r]&&n(r,e))},o(V,t),V.prototype.mount=function(t){this.view.mount(t)},V.prototype.mountBefore=function(t,e){this.view.mountBefore(t,e)},V.prototype.unmount=function(){this.view.unmount()},V.prototype.reset=function(t,n){var r=this,i=r.ChildView,o=new Array(t.length),u={},s=r.lookup;e(t,function(t,e){var f=n?t[n]:e,a=s[f];a||(a=new i({parent:r.view})),u[f]=a,a.set(t),o[e]=a});for(var f in s)u[f]||s[f].destroy();r.views=o,r.lookup=u,r.reorder()},V.prototype.reorder=function(){var t=this,n=t.view.$el;q(function(){var r=n.firstChild;e(t.views,function(t,e){return r===t.$el?void(r=r.nextSibling):void(r?(t.$root=n,n.insertBefore(t.$el,r)):(t.$root=n,n.appendChild(t.$el)))});for(var i;r;)i=r.nextSibling,n.removeChild(r),r=i})};var R={Animation:x,batchAnimationFrame:q,each:e,element:O,filter:n,inherits:o,map:i,shuffle:r,prefix:I,renderer:U,translate:T,Observable:t,SVGelement:A,View:E,Views:V};return R}();