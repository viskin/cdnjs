!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.frzr={})}(this,function(t){"use strict";function e(t){return t}function n(t){return Math.pow(t,2)}function r(t){return 1-n(1-t)}function i(t){return.5>t?n(2*t)/2:1-n(2*(1-t))/2}function s(t){return Math.pow(t,3)}function o(t){return 1-s(1-t)}function u(t){return.5>t?s(2*t)/2:1-s(2*(1-t))/2}function a(t){return Math.pow(t,4)}function l(t){return 1-a(1-t)}function h(t){return.5>t?a(2*t)/2:1-a(2*(1-t))/2}function f(t){return Math.pow(t,5)}function c(t){return 1-c(1-t)}function d(t){return.5>t?f(2*t)/2:1-f(2*(1-t))/2}function p(t){var e=7.5625,n=2.75;return 1/n>t?e*t*t:2/n>t?(t-=1.5/n,e*t*t+.75):2.5/n>t?(t-=2.25/n,e*t*t+.9375):(t-=2.625/n,e*t*t+.984375)}function g(t){return 1-p(1-t)}function v(t){return.5>t?g(2*t)/2:1-g(2*(1-t))/2}function m(t,e){for(var n=0;n<t.length;n++)e(t[n],n)}function y(t){return"undefined"!=typeof t||null!==t}function w(t,e){for(var n=t.split(";"),r=0;r<n.length;r++)if(n[r].length){var i=n[r].split(":"),s=i[0].trim(),o=i[1].trim();s.length&&e(s,o)}}function C(t){if(!t||!t.length)return t;for(var e=t.length-1;e>0;e--){var n=Math.random()*e|0,r=t[e];t[e]=t[n],t[n]=r}return t}function b(t){t.extend=function(e){return function(t){function n(){q.classCallCheck(this,n);for(var r=arguments.length,i=Array(r),s=0;r>s;s++)i[s]=arguments[s];return q.possibleConstructorReturn(this,t.call.apply(t,[this,e].concat(i)))}return q.inherits(n,t),n}(t)}}function x(t){if("undefined"!=typeof R[t])return R[t];if("undefined"!=typeof M[t])return R[t]=t,t;for(var e=t[0].toUpperCase()+t.slice(1),n=0,r=E.length;r>n;n++){var i=E[n]+e;if("undefined"!=typeof M[i])return R[t]=i,i}}function O(){var t=arguments.length<=0||void 0===arguments[0]?"div":arguments[0],e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=document.createElement(t);for(var r in e)"text"===r?n.textContent=e[r]:"html"===r?n.innerHTML=e[r]:"style"===r?w(e.style,function(t,e){var r=x(t);n.style[r]=e}):n.setAttribute(r,e[r]);return n}function A(t){return _?window.requestAnimationFrame(t):setTimeout(t,1e3/60)}function L(){var t=Date.now();if(!z.length)return void(F=!1);for(var e=0;e<z.length;e++){var n=z[e];if(!(t<n.startTime)){n.started||(n.started=!0,n.trigger("start"));var r=(t-n.startTime)/(n.endTime-n.startTime);r>1&&(r=1),n.trigger("progress",n.easing(r),r),t>n.endTime&&(n.trigger("end"),z.splice(e--,1))}}A(L,!0)}function T(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];return"undefined"==typeof V&&(V=k()),V||n?"translate3d("+t+", "+e+", "+n+")":"translate("+t+", "+e+")"}function k(){var t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);if(!t)return!1;var e=x("transform"),n=document.createElement("p");return document.body.appendChild(n),n.style[e]="translate3d(1px,1px,1px)",V=n.style[e],V=y(V)&&V.length&&"none"!==V?!0:!1,document.body.removeChild(n),V}var q={};q.classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},q.inherits=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},q.possibleConstructorReturn=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e};var I={linear:e,quadIn:n,quadOut:r,quadInOut:i,cubicIn:s,cubicOut:o,cubicInOut:u,quartIn:a,quartOut:l,quartInOut:h,quintIn:f,quintOut:c,quintInOut:d,bounceIn:g,bounceOut:p,bounceInOut:v},M=document.createElement("p").style,E=["webkit","moz","Moz","ms","o"],R={},j=function(){function t(){q.classCallCheck(this,t),this.listeners={}}return t.prototype.on=function(t,e){return"undefined"==typeof this.listeners[t]&&(this.listeners[t]=[]),this.listeners[t].push({handler:e,one:!1}),this},t.prototype.one=function(t,e){return this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({handler:e,one:!0}),this},t.prototype.trigger=function(t){var e=this.listeners[t];if(!e)return this;for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;n>i;i++)r[i-1]=arguments[i];for(var s=0;s<e.length;s++)e[s].handler.apply(this,r),e[s].one&&e.splice(s--,1);return this},t.prototype.off=function(t,e){if("undefined"==typeof t)this.listeners={};else if("undefined"==typeof e)this.listeners[t]=[];else{var n=this.listeners[t];if(!n)return this;for(var r=0;r<n.length;r++)n[r].handler===e&&n.splice(r--,1)}return this},t}(),B="init inited mount mounted unmount unmounted sort sorted update updated destroy".split(" ").reduce(function(t,e){return t[e]=e,t},{}),P=function(t){function e(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=arguments[1];q.classCallCheck(this,e);var i=q.possibleConstructorReturn(this,t.call(this));i.attrs={},i.classes={},i.el=null,i.eventListeners=[],i.html="",i.listeners={},i.styles={},i.text="";for(var s in n)B[s]?i.on(s,n[s]):i[s]=n[s];return i.trigger(B.init,r),i.el||(i.el=document.createElement("div")),i.el.view=i,i.trigger(B.inited,r),i}return q.inherits(e,t),e.prototype.setAttr=function(t,e){return this.attrs||(this.attrs={}),this.attrs[t]===e?this:(e||""===e?(this.el.setAttribute(t,e),this.attrs[t]=e):(this.el.removeAttribute(t),this.attrs[t]=null),this)},e.prototype.setClass=function(t,e){return this.classes||(this.classes={}),this.classes[t]===e?this:(e?this.el.classList.add(t):this.el.classList.remove(t),this.classes[t]=e,this)},e.prototype.setStyle=function(t,e){if(this.styles||(this.styles={}),this.styles[t]===e)return this;var n=x(t);return this.el.style[n]=e,this.styles[t]=e,this},e.prototype.setText=function(t){return this.text===t?this:(this.el.textContent=t,this.text=t,this)},e.prototype.setHTML=function(t){return this.html===t?this:(this.el.innerHTML=t,this.html=t,this)},e.prototype.addListener=function(t,e,n){var r=this,i={name:t,handler:e,proxy:function(){for(var t=arguments.length,n=Array(t),i=0;t>i;i++)n[i]=arguments[i];e.apply(r,n)}};return this.eventListeners||(this.eventListeners=[]),this.eventListeners.push(i),this.el.addEventListener(name,i.proxy,n),this},e.prototype.removeListener=function(t,e){var n=this.eventListeners;if(!n)return this;if("undefined"==typeof t){for(var r=0;r<n.length;r++)this.el.removeEventListener(n[r].proxy);this.listeners=[]}else if("undefined"==typeof e)for(var r=0;r<n.length;r++)n[r].name===t&&n.splice(r--,1);else for(var r=0;r<n.length;r++){var i=n[r];i.name===t&&e===i.handler&&n.splice(r--,1)}return this},e.prototype.addChild=function(t){if(t.views)return t.parent=this,this.setChildren.apply(this,t.views);var e=!1;return t.parent?(e=!0,t.trigger(B.sort)):t.trigger(B.mount),this.el.appendChild(t.el),t.parent=this,e?t.trigger(B.sorted):t.trigger(B.mounted),this},e.prototype.addBefore=function(t,e){var n=!1;return t.parent?(n=!0,t.trigger(B.sort)):t.trigger(B.mount),this.el.insertBefore(t.el,e.el||e),t.parent=this,n?t.trigger(B.sorted):t.trigger(B.mounted),this},e.prototype.setChildren=function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];if(e.length&&e[0].views){if(e[0].parent=this,!e[0].views.length)return this;this.setChildren.apply(this,e[0].views)}for(var r=this.el.firstChild,i=0;i<e.length;i++){var s=e[i];r!==s.el?r?this.addBefore(s,r):this.addChild(s):r=r.nextSibling}for(;r;){var o=r.nextSibling;r.view?r.view.parent.removeChild(r.view):this.el.removeChild(r),r=o}return this},e.prototype.removeChild=function(t){return t.parent?(t.trigger(B.unmount),this.el.removeChild(t.el),t.parent=null,t.trigger(B.unmounted),this):this},e.prototype.update=function(t){this.trigger(B.update,t)},e.prototype.destroy=function(){this.trigger(B.destroy),this.parent&&this.parent.removeChild(this);for(var t=this.el.firstChild;t;)t.view?t.view.destroy():this.el.removeChild(t),t=this.el.firstChild;this.off(),this.removeListener()},e}(j);b(P);var S="init inited mount mounted unmount unmounted sort sorted update updated destroy".split(" ").reduce(function(t,e){return t[e]=!0,t},{}),D=function(t){function e(n){q.classCallCheck(this,e);var r=q.possibleConstructorReturn(this,t.call(this));r.lookup={},r.views=[];for(var i in n)S[i]?r.on(i,n[i]):r[i]=n[i];return r}return q.inherits(e,t),e.prototype.setData=function(t){for(var e,n=this,r=new Array(t.length),i={},s=this.views,o=this.lookup,u=this.key,a=function(e){for(var a=t[e],l=u&&a[u],h=n.View||P,f=(u?o[l]:s[e])||new h,c=function(t){var e=S[t];f.on(e,function(){for(var t=arguments.length,r=Array(t),i=0;t>i;i++)r[i]=arguments[i];n.trigger(e,[f].concat(r))})},d=0;d<S.length;d++)c(d);u&&(i[l]=f),r[e]=f,f.update(a)},l=0;l<t.length;l++)a(l);if(u)for(var h in o)i[h]||o[h].destroy();else for(var l=r.length;l<s.length;l++)s[l].destroy();this.views=r,this.lookup=i,this.parent&&(e=this.parent).setChildren.apply(e,r)},e.prototype.destroy=function(){this.setData([]),this.off()},e}(j);b(D);var _="undefined"!=typeof window.requestAnimationFrame;A.cancel=function(t){_?window.cancelAnimationFrame(t):clearTimeout(t)};var z=[],F=void 0,H=function(t){function e(n){var r=n.delay,i=void 0===r?0:r,s=n.duration,o=void 0===s?0:s,u=n.easing,a=void 0===u?I.quadOut:u,l=n.init,h=n.start,f=n.progress,c=n.end;q.classCallCheck(this,e);var d=q.possibleConstructorReturn(this,t.call(this)),p=Date.now();return d.startTime=p+i,d.endTime=d.startTime+o,d.easing=a,d.started=!1,l&&d.on("init",l),h&&d.on("start",h),f&&d.on("progress",f),c&&d.on("end",c),z.push(d),d.trigger("init"),F||(F=!0,A(L)),d}return q.inherits(e,t),e.prototype.destroy=function(){for(var t=0;t<z.length;t++)if(z[t]===this)return void z.splice(t,1)},e}(j),V=void 0;t.ease=I,t.el=O,t.prefix=x,t.View=P,t.ViewList=D,t.Animation=H,t.Observable=j,t.each=m,t.extendable=b,t.shuffle=C,t.translate=T,t.raf=A});