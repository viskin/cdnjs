!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.frzr={})}(this,function(t){"use strict";function e(t){return t}function n(t){return Math.pow(t,2)}function i(t){return 1-n(1-t)}function r(t){return.5>t?n(2*t)/2:1-n(2*(1-t))/2}function s(t){return Math.pow(t,3)}function o(t){return 1-s(1-t)}function u(t){return.5>t?s(2*t)/2:1-s(2*(1-t))/2}function a(t){return Math.pow(t,4)}function l(t){return 1-a(1-t)}function h(t){return.5>t?a(2*t)/2:1-a(2*(1-t))/2}function f(t){return Math.pow(t,5)}function d(t){return 1-d(1-t)}function c(t){return.5>t?f(2*t)/2:1-f(2*(1-t))/2}function p(t){var e=7.5625,n=2.75;return 1/n>t?e*t*t:2/n>t?(t-=1.5/n,e*t*t+.75):2.5/n>t?(t-=2.25/n,e*t*t+.9375):(t-=2.625/n,e*t*t+.984375)}function v(t){return 1-p(1-t)}function g(t){return.5>t?v(2*t)/2:1-v(2*(1-t))/2}function m(t,e){for(var n=0;n<t.length;n++)e(t[n],n)}function y(t){if(!t||!t.length)return t;for(var e=t.length-1;e>0;e--){var n=Math.random()*e|0,i=t[e];t[e]=t[n],t[n]=i}return t}function w(t,e){t.prototype=Object.create(e.prototype,{constructor:{value:t}})}function x(t,e){for(var n in e)Object.defineProperty(t,n,{value:e[n]})}function b(t,e){for(var n in e)t[n]=e[n];return t}function C(t){t.extend=function(e){function n(n){t.call(this,e,n)}return w(n,t),n}}function L(t){if("undefined"!=typeof N[t])return N[t];if("undefined"!=typeof F[t])return N[t]=t,t;for(var e=t[0].toUpperCase()+t.slice(1),n=0,i=D.length;i>n;n++){var r=D[n]+e;if("undefined"!=typeof F[r])return N[t]=r,r}}function T(t,e){if(e=e||{},e.svg)var n=document.createElementNS("http://www.w3.org/2000/svg","svg");else var n=document.createElement(t||"div");for(var i in e)if("text"===i)n.textContent=e.text;else{if("svg"===i)continue;if("style"===i)for(var r=e.style.split(";"),s=0;s<r.length;s++){var o=r[s].split(":");o.length>1&&(n.style[o[0].trim()]=o[1].trim())}else"html"===i?n.innerHTML=e[i]:n[i]=e[i]}return n}function O(t){Object.defineProperty(this,"listeners",{enumerable:!1,value:{},writable:!0});for(var e in t)this[e]=t[e]}function M(t){return new O(t)}function q(t,e){if(O.call(this),t=t||{},this.el=null,this.eventListeners=[],this.listeners={},window.HTMLElement&&t instanceof window.HTMLElement)this.el=t;else for(var n in t)U[n]?this.on(n,t[n]):"text"===n?this.el=document.createTextNode(t.text||""):"el"===n?"string"==typeof t.el?this.el=document.createElement(t.el):t.el instanceof Array?this.el=T(t.el[0],t.el[1]):this.el=t.el:this[n]=t[n];this.trigger(U.init,e),this.el||(this.el=document.createElement("div")),this.el.view=this,this.trigger(U.inited,e)}function A(t,e){return new q(t,e)}function E(t){if(O.call(this),this.lookup={},this.views=[],"function"==typeof t)this.View=t;else for(var e in t)G[e]?this.on(e,t[e]):this[e]=t[e]}function I(t){return new E(t)}function k(t){return J?requestAnimationFrame(t):setTimeout(t,1e3/60)}function B(t){Q.push(t),K||(K=k(function(){K=!1;for(var t=Q.splice(0,Q.length),e=0;e<t.length;e++)t[e]()}))}function H(t){O.call(this);var e=t.delay||0,n=t.duration||0,i=t.easing||"quadOut",r=t.init,s=t.start,o=t.progress,u=t.end,a=Date.now();this.startTime=a+e,this.endTime=this.startTime+n,this.easing=z[i],this.started=!1,r&&this.on("init",r),s&&this.on("start",s),o&&this.on("progress",o),u&&this.on("end",u),W.push(this),this.trigger("init"),R||(R=!0,B(P))}function S(t){return new H(t)}function P(){var t=Date.now();if(!W.length)return void(R=!1);for(var e=0;e<W.length;e++){var n=W[e];if(!(t<n.startTime)){n.started||(n.started=!0,n.trigger("start"));var i=(t-n.startTime)/(n.endTime-n.startTime);i>1&&(i=1),n.trigger("progress",n.easing(i),i),t>n.endTime&&(n.trigger("end"),W.splice(e--,1))}}B(P)}function j(t,e,n){return"undefined"==typeof X&&(X=V()),X||n?"translate3d("+(t||0)+", "+(e||0)+", "+(n||0)+")":"translate("+(t||0)+", "+(e||0)+")"}function V(){var t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);if(!t)return!1;var e=L("transform"),n=document.createElement("p");return document.body.appendChild(n),n.style[e]="translate3d(1px,1px,1px)",X=n.style[e],X="undefined"!=typeof X&&null!==X&&X.length&&"none"!==X?!0:!1,document.body.removeChild(n),X}var z={linear:e,quadIn:n,quadOut:i,quadInOut:r,cubicIn:s,cubicOut:o,cubicInOut:u,quartIn:a,quartOut:l,quartInOut:h,quintIn:f,quintOut:d,quintInOut:c,bounceIn:v,bounceOut:p,bounceInOut:g},F="undefined"!=typeof document?document.createElement("p").style:{},D=["webkit","moz","Moz","ms","o"],N={};x(O.prototype,{on:function(t,e){return"undefined"==typeof this.listeners[t]&&(this.listeners[t]=[]),this.listeners[t].push({handler:e,one:!1}),this},one:function(t,e){return this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({handler:e,one:!0}),this},trigger:function(t){var e=this.listeners[t];if(!e)return this;for(var n=new Array(arguments.length-1),i=1;i<arguments.length;i++)n[i-1]=arguments[i];for(i=0;i<e.length;i++)e[i].handler.apply(this,n),e[i].one&&e.splice(i--,1);return this},off:function(t,e){if("undefined"==typeof t)this.listeners={};else if("undefined"==typeof e)this.listeners[t]=[];else{var n=this.listeners[t];if(!n)return this;for(var i=0;i<n.length;i++)n[i].handler===e&&n.splice(i--,1)}return this}});var U="init inited mount mounted unmount unmounted sort sorted update updated destroy".split(" ").reduce(function(t,e){return t[e]=e,t},{});w(q,O),x(q.prototype,{setAttr:function(t,e){return this.el[t]!==e&&(this.el[t]=e),this},setClass:function(t,e){return this.el.classList.contains(t)!==e&&(e?this.el.classList.add(t):this.el.classList.remove(t)),this},setStyle:function(t,e){return this.el.style[t]!==e&&(this.el.style[t]=e),this},setText:function(t){return this.el.textContent!==t&&(this.el.textContent=t),this},setHTML:function(t){return this.el.innerHTML!==t&&(this.el.innerHTML=t),this},addListener:function(t,e,n){var i=this,r={name:t,handler:e,proxy:function(t){e.call(i,t)}};return this.eventListeners||(this.eventListeners=[]),this.eventListeners.push(r),this.el.addEventListener(t,r.proxy,n),this},removeListener:function(t,e){var n=this.eventListeners;if(!n)return this;if("undefined"==typeof t){for(var i=0;i<n.length;i++)this.el.removeEventListener(n[i].proxy);this.listeners=[]}else if("undefined"==typeof e)for(var i=0;i<n.length;i++)n[i].name===t&&n.splice(i--,1);else for(var i=0;i<n.length;i++){var r=n[i];r.name===t&&e===r.handler&&n.splice(i--,1)}return this},addChild:function(t){if(t.views)return t.parent=this,this.setChildren(t.views);var e=!1;return t.parent?(e=!0,t.trigger(U.sort)):t.trigger(U.mount),this.el.appendChild(t.el),t.parent=this,e?t.trigger(U.sorted):t.trigger(U.mounted),this},addBefore:function(t,e){var n=!1;return t.parent?(n=!0,t.trigger(U.sort)):t.trigger(U.mount),this.el.insertBefore(t.el,e.el||e),t.parent=this,n?t.trigger(U.sorted):t.trigger(U.mounted),this},addAfter:function(t,e){var n=e.el||e,i=n.nextSibling;i?this.addBefore(t,i):this.addChild(t)},setChildren:function(t){if(t.views)return t.parent=this,this.setChildren(t.views);for(var e=this.el.firstChild,n=0;n<t.length;n++){var i=t[n];e!==i.el?e?this.addBefore(i,e):this.addChild(i):e=e.nextSibling}for(;e;){var r=e.nextSibling;e.view?e.view.parent.removeChild(e.view):this.el.removeChild(e),e=r}return this},removeChild:function(t){return t.parent?(t.trigger(U.unmount),this.el.removeChild(t.el),t.parent=null,t.trigger(U.unmounted),this):this},update:function(t){this.trigger(U.update,t)},destroy:function(){this.trigger(U.destroy),this.parent&&this.parent.removeChild(this);for(var t=this.el.firstChild;t;)t.view?t.view.destroy():this.el.removeChild(t),t=this.el.firstChild;this.off(),this.removeListener()}}),C(q),A.extend=function(t){return function(e){return new q(t,e)}};var G="init inited mount mounted unmount unmounted sort sorted update updated destroy".split(" ").reduce(function(t,e){return t[e]=!0,t},{});w(E,O),x(E.prototype,{update:function(t){for(var e=this,n=new Array(t.length),i={},r=this.views,s=this.lookup,o=this.key,u=0;u<t.length;u++){for(var a=t[u],l=o&&a[o],h=this.View||q,f=(o?s[l]:r[u])||new h,d=0;d<G.length;d++){var c=G[d];f.on(c,function(t){e.trigger(c,f,t)})}o&&(i[l]=f),n[u]=f,f.update(a)}if(o)for(var l in s)i[l]||s[l].destroy();else for(var u=n.length;u<r.length;u++)r[u].destroy();this.views=n,this.lookup=i,this.parent&&this.parent.setChildren(n)},destroy:function(){this.update([]),this.off()}}),C(E),I.extend=function(t){return function(e){return new E(t,e)}};var J="undefined"!=typeof requestAnimationFrame;k.cancel=function(t){J?cancelAnimationFrame(t):clearTimeout(t)};var K,Q=[];B.cancel=function(t){for(var e=0;e<Q.length;e++)Q[e]===t&&Q.splice(e--,1)};var R,W=[];w(H,O),x(H.prototype,{destroy:function(){for(var t=0;t<W.length;t++)if(W[t]===this)return void W.splice(t,1)}});var X;t.ease=z,t.el=T,t.prefix=L,t.view=A,t.View=q,t.viewList=I,t.ViewList=E,t.animation=S,t.Animation=H,t.observable=M,t.Observable=O,t.define=x,t.each=m,t.extend=b,t.extendable=C,t.inherits=w,t.shuffle=y,t.translate=j,t.baf=B,t.raf=k});