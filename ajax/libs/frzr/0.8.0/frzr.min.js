!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.frzr={})}(this,function(t){"use strict";function e(t){return t}function n(t){return Math.pow(t,2)}function i(t){return 1-n(1-t)}function r(t){return.5>t?n(2*t)/2:1-n(2*(1-t))/2}function s(t){return Math.pow(t,3)}function o(t){return 1-s(1-t)}function u(t){return.5>t?s(2*t)/2:1-s(2*(1-t))/2}function h(t){return Math.pow(t,4)}function a(t){return 1-h(1-t)}function l(t){return.5>t?h(2*t)/2:1-h(2*(1-t))/2}function f(t){return Math.pow(t,5)}function d(t){return 1-d(1-t)}function c(t){return.5>t?f(2*t)/2:1-f(2*(1-t))/2}function p(t){var e=7.5625,n=2.75;return 1/n>t?e*t*t:2/n>t?(t-=1.5/n,e*t*t+.75):2.5/n>t?(t-=2.25/n,e*t*t+.9375):(t-=2.625/n,e*t*t+.984375)}function v(t){return 1-p(1-t)}function g(t){return.5>t?v(2*t)/2:1-v(2*(1-t))/2}function m(t,e){for(var n=0;n<t.length;n++)e(t[n],n)}function y(t){return"undefined"!=typeof t||null!==t}function w(t){if(!t||!t.length)return t;for(var e=t.length-1;e>0;e--){var n=Math.random()*e|0,i=t[e];t[e]=t[n],t[n]=i}return t}function C(t,e){t.prototype=Object.create(e.prototype,{constructor:{value:t}})}function x(t,e){for(var n in e)t[n]=e[n];return t}function b(t){t.extend=function(e){function n(n){t.call(this,e,n)}return C(n,t),n}}function L(t){if("undefined"!=typeof j[t])return j[t];if("undefined"!=typeof P[t])return j[t]=t,t;for(var e=t[0].toUpperCase()+t.slice(1),n=0,i=V.length;i>n;n++){var r=V[n]+e;if("undefined"!=typeof P[r])return j[t]=r,r}}function O(t,e){var n=document.createElement(t||"div");if(e)for(var i in e)"text"===i?n.textContent=e[i]:"html"===i?n.innerHTML=e[i]:n[i]=e[i];return n}function T(){this.listeners={}}function q(t,e){T.call(this),this.el=null,this.eventListeners=[],this.listeners={};for(var n in t)D[n]?this.on(n,t[n]):"el"===n?"string"==typeof t.el?this.el=document.createElement(t.el):t.el instanceof Array?this.el=O(t.el[0],t.el[1]):this.el=t.el:this[n]=t[n];this.trigger(D.init,e),this.el||(this.el=document.createElement("div")),this.el.view=this,this.trigger(D.inited,e)}function M(t,e){return new q(t,e)}function I(t){T.call(this),this.lookup={},this.views=[];for(var e in t)U[e]?this.on(e,t[e]):this[e]=t[e]}function A(t){return new I(t)}function E(t){return G?window.requestAnimationFrame(t):setTimeout(t,1e3/60)}function k(t){K.push(t),J||(J=E(function(){J=!1;for(var t=K.splice(0,K.length),e=0;e<t.length;e++)t[e]()}))}function B(t){T.call(this);var e=t.delay||0,n=t.duration||0,i=t.easing||"quadOut",r=t.init,s=t.start,o=t.progress,u=t.end,h=Date.now();this.startTime=h+e,this.endTime=this.startTime+n,this.easing=F[i],this.started=!1,r&&this.on("init",r),s&&this.on("start",s),o&&this.on("progress",o),u&&this.on("end",u),Q.push(this),this.trigger("init"),N||(N=!0,k(H))}function H(){var t=Date.now();if(!Q.length)return void(N=!1);for(var e=0;e<Q.length;e++){var n=Q[e];if(!(t<n.startTime)){n.started||(n.started=!0,n.trigger("start"));var i=(t-n.startTime)/(n.endTime-n.startTime);i>1&&(i=1),n.trigger("progress",n.easing(i),i),t>n.endTime&&(n.trigger("end"),Q.splice(e--,1))}}k(H)}function S(t,e,n){return"undefined"==typeof R&&(R=z()),R||n?"translate3d("+(t||0)+", "+(e||0)+", "+(n||0)+")":"translate("+(t||0)+", "+(e||0)+")"}function z(){var t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);if(!t)return!1;var e=L("transform"),n=document.createElement("p");return document.body.appendChild(n),n.style[e]="translate3d(1px,1px,1px)",R=n.style[e],R=y(R)&&R.length&&"none"!==R?!0:!1,document.body.removeChild(n),R}var F={linear:e,quadIn:n,quadOut:i,quadInOut:r,cubicIn:s,cubicOut:o,cubicInOut:u,quartIn:h,quartOut:a,quartInOut:l,quintIn:f,quintOut:d,quintInOut:c,bounceIn:v,bounceOut:p,bounceInOut:g},P=document.createElement("p").style,V=["webkit","moz","Moz","ms","o"],j={};x(T.prototype,{on:function(t,e){return"undefined"==typeof this.listeners[t]&&(this.listeners[t]=[]),this.listeners[t].push({handler:e,one:!1}),this},one:function(t,e){return this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({handler:e,one:!0}),this},trigger:function(t){var e=this.listeners[t];if(!e)return this;for(var n=new Array(arguments.length-1),i=1;i<arguments.length;i++)n[i-1]=arguments[i];for(i=0;i<e.length;i++)e[i].handler.apply(this,n),e[i].one&&e.splice(i--,1);return this},off:function(t,e){if("undefined"==typeof t)this.listeners={};else if("undefined"==typeof e)this.listeners[t]=[];else{var n=this.listeners[t];if(!n)return this;for(var i=0;i<n.length;i++)n[i].handler===e&&n.splice(i--,1)}return this}});var D="init inited mount mounted unmount unmounted sort sorted update updated destroy".split(" ").reduce(function(t,e){return t[e]=e,t},{});C(q,T),x(q.prototype,{setAttr:function(t,e){return this.el[t]!==e&&(this.el[t]=e),this},setClass:function(t,e){return this.el.classList.contains(t)!==e&&(e?this.el.classList.add(t):this.el.classList.remove(t)),this},setStyle:function(t,e){return this.el.style[t]!==e&&(this.el.style[t]=e),this},setText:function(t){return this.el.textContent!==t&&(this.el.textContent=t),this},setHTML:function(t){return this.el.innerHTML!==t&&(this.el.innerHTML=t),this},addListener:function(t,e,n){var i={name:t,handler:e,proxy:function(t){e.call(this,t)}};return this.eventListeners||(this.eventListeners=[]),this.eventListeners.push(i),this.el.addEventListener(t,i.proxy,n),this},removeListener:function(t,e){var n=this.eventListeners;if(!n)return this;if("undefined"==typeof t){for(var i=0;i<n.length;i++)this.el.removeEventListener(n[i].proxy);this.listeners=[]}else if("undefined"==typeof e)for(var i=0;i<n.length;i++)n[i].name===t&&n.splice(i--,1);else for(var i=0;i<n.length;i++){var r=n[i];r.name===t&&e===r.handler&&n.splice(i--,1)}return this},addChild:function(t){if(t.views)return t.parent=this,this.setChildren(t.views);var e=!1;return t.parent?(e=!0,t.trigger(D.sort)):t.trigger(D.mount),this.el.appendChild(t.el),t.parent=this,e?t.trigger(D.sorted):t.trigger(D.mounted),this},addBefore:function(t,e){var n=!1;return t.parent?(n=!0,t.trigger(D.sort)):t.trigger(D.mount),this.el.insertBefore(t.el,e.el||e),t.parent=this,n?t.trigger(D.sorted):t.trigger(D.mounted),this},setChildren:function(t){if(t.views)return t.parent=this,this.setChildren(t.views);for(var e=this.el.firstChild,n=0;n<t.length;n++){var i=t[n];e!==i.el?e?this.addBefore(i,e):this.addChild(i):e=e.nextSibling}for(;e;){var r=e.nextSibling;e.view?e.view.parent.removeChild(e.view):this.el.removeChild(e),e=r}return this},removeChild:function(t){return t.parent?(t.trigger(D.unmount),this.el.removeChild(t.el),t.parent=null,t.trigger(D.unmounted),this):this},update:function(t){this.trigger(D.update,t)},destroy:function(){this.trigger(D.destroy),this.parent&&this.parent.removeChild(this);for(var t=this.el.firstChild;t;)t.view?t.view.destroy():this.el.removeChild(t),t=this.el.firstChild;this.off(),this.removeListener()}}),b(q),M.extend=function(t){return function(e){return new q(t,e)}};var U="init inited mount mounted unmount unmounted sort sorted update updated destroy".split(" ").reduce(function(t,e){return t[e]=!0,t},{});C(I,T),x(I.prototype,{update:function(t){for(var e=this,n=new Array(t.length),i={},r=this.views,s=this.lookup,o=this.key,u=0;u<t.length;u++){for(var h=t[u],a=o&&h[o],l=this.View||q,f=(o?s[a]:r[u])||new l,d=0;d<U.length;d++){var c=U[d];f.on(c,function(t){e.trigger(c,f,t)})}o&&(i[a]=f),n[u]=f,f.update(h)}if(o)for(var a in s)i[a]||s[a].destroy();else for(var u=n.length;u<r.length;u++)r[u].destroy();this.views=n,this.lookup=i,this.parent&&this.parent.setChildren(n)},destroy:function(){this.update([]),this.off()}}),b(I),A.extend=function(t){return function(e){return new I(t,e)}};var G="undefined"!=typeof window.requestAnimationFrame;E.cancel=function(t){G?window.cancelAnimationFrame(t):clearTimeout(t)};var J,K=[];k.cancel=function(t){for(var e=0;e<K.length;e++)K[e]===t&&K.splice(e--,1)};var N,Q=[];C(B,T),x(B.prototype,{destroy:function(){for(var t=0;t<Q.length;t++)if(Q[t]===this)return void Q.splice(t,1)}});var R;t.ease=F,t.el=O,t.prefix=L,t.view=M,t.View=q,t.viewList=A,t.ViewList=I,t.Animation=B,t.Observable=T,t.each=m,t.extend=x,t.extendable=b,t.inherits=C,t.shuffle=w,t.translate=S,t.baf=k,t.raf=E});