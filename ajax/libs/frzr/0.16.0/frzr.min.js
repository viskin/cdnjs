!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.frzr=e.frzr||{})}(this,function(e){"use strict";function t(e){return document.createTextNode(e)}function n(e){for(var t=document.createElement(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r&&!l(t,r)&&"object"==typeof r)for(var i in r)null!=t[i]?t[i]=r[i]:t.setAttribute(i,r[i])}return t}function r(e){for(var t=document.createElementNS("http://www.w3.org/2000/svg",e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r&&!l(t,r)&&"object"==typeof r)for(var i in r)t.setAttribute(i,r[i])}return t}function i(e,t,n,r){return new o(e,t,n,r)}function o(e,t,n,r){this.View=e,this.views=[],this.initData=n,this.skipRender=r,t&&(this.key=t,this.lookup={})}function l(e,t,n){var r=e.el||e,i=t.el||t;if(i instanceof Node){if(n){var f=n;r.insertBefore(i,f)}else r.appendChild(i);t.el!==t&&(t.parent=e)}else if(a(i))l(r,document.createTextNode(i),n);else if(i instanceof Array)for(var u=0;u<i.length;u++)l(r,i[u],n);else{if(!(t instanceof o))return!1;t.parent=e,s(r,t.views)}return!0}function f(e,t,n){var r=e.el||e,i=t.el||t,o=n.el||n;r.replaceChild(i,o),i!==t&&(t.parent=e),o!==n&&(n.parent=null)}function u(e,t){var n=e.el||e,r=t.el||t;n.removeChild(r),r!==t&&(t.parent=null)}function a(e){return"string"==typeof e||"number"===e||"boolean"===e}function s(e,t){for(var n=e.el||e,r=n.firstChild,i=0;i<t.length;i++){var o=t[i],f=o.el||o;r!==f?l(e,o,r):r=r.nextSibling}for(;r;){var a=r.nextSibling;u(n,r),r=a}}o.prototype.update=function(e,t){var n=this.View,r=this.views,i=this.parent,o=this.key,l=this.initData,f=this.skipRender;if(t)var a=[],h=[],p=[];if(o){var c=this.lookup,v={};r.length=e.length;for(var d=0;d<e.length;d++){var g=e[d],m=g[o],w=c[m];w?t&&h.push(w):(w=new n(l,g,d),t&&a.push(w)),r[d]=v[m]=w,w.update&&w.update(g,d)}if(t)for(var m in c)v[m]||(p.push(c[m]),!f&&i&&u(i,c[m]));this.lookup=v}else{if(t)for(var d=e.length;d<r.length;d++){var w=r[d];!f&&i&&u(i,w),p.push(w)}r.length=e.length;for(var d=0;d<e.length;d++){var g=e[d],w=r[d];w?t&&h.push(w):(w=new n(l,g,d),t&&a.push(w)),w.update&&w.update(g,d),r[d]=w}}!f&&i&&s(i,r),t&&t(a,h,p)};var h=l;e.text=t,e.el=n,e.svg=r,e.list=i,e.List=o,e.mount=l,e.mountBefore=h,e.replace=f,e.unmount=u,e.setChildren=s});