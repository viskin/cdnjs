!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.frzr={})}(this,function(t){"use strict";function n(){var t=this,e=t instanceof n;return e?(t.listeners={},t):new n}function e(t,n,e){var r=this,o=r.listeners[t]||(r.listeners[t]=[]);return o.push({cb:n,ctx:e}),r}function r(t){var n=this,e=b(arguments,1),r=n.listeners[t];return r?(g(r,function(t){t.cb.apply(t.ctx||n,e)}),n):n}function o(t,n){var e,r=this;return n?(e=r.listeners[t])?(r.listeners=$(e,function(t){return t.cb===n}),r):r:t?(delete e[t],r):(r.listeners={},r)}function i(t){var n=this,e=n instanceof i;return e?(i["super"].call(this),n.data={},void(n.$el=document.createElement(t||"div"))):new i(t)}function u(t){var n=this;return n.root=t,t instanceof i&&(t=t.$el),t.appendChild(n.$el),n}function s(){var t=this,n=t.root;return n?(n instanceof i&&(n=n.$el),n.removeChild(t.$el),t):void 0}function f(t){var n=this;return n.$el.textContent=t,n}function a(t){var n=this;return n.$el.innerHTML=t,n}function c(t){var n=this;return n.$el.classList.add(t),n}function l(t){var n=this;return n.$el.classList.remove(t),n}function v(t){var n=this;return n.trigger("update",n,t,n.data),n.data=t,n}function d(){var t=this;return t.trigger("destroy",t),t.off(),t.unmount(),t}function p(t){function e(n){var e=new i(n||t);return e.listeners=r.listeners,g(o,function(t){e.addClass(t)}),s.root&&e.mount(s.root),e.trigger("init",e),e}var r=new n,o=[],u={},s={};return e.mount=function(t){return s.root=t,e},e.unmount=function(t){return delete s.root,e},e.addClass=function(t){return u[t]?e:(o.push(t),u[t]=!0,e)},e.removeClass=function(t){return u[t]&&(o=$(o,function(n){return n!==t}),delete u[t]),e},e.on=function(t,n,o){return r.on(t,n,o),e},e.off=function(t,n,o){return r.off(t,n,o),e},e}function h(t,n){var e=this,r=e instanceof h;return r?(e.idAttribute=n,e.View=t||i,e.views=[],e.lookup={},e):new h(t,n)}function m(t){var n=this;if(t=t||n.root){t instanceof i&&(t=t.$el);var e=t.firstChild;g(n.views,function(n,r){return e===n.$el?void(e=e.nextSibling):void(e?t.insertBefore(n.$el,e):t.appendChild(n.$el))});for(var r;e;)r=e.nextSibling,t.removeChild(e),e=r;return n.root=t,n}}function w(t){var n,e=this,r=e.idAttribute;if(null==r)return n=A(t,new Array(t.length),function(t,n,r){var o=e.views[r];return o||(o=new e.View),o.reset(n),t[r]=o,t}),e.views=n,e.mount(),e;var o={};return n=A(t,[],function(t,n,i){var u=n[r],s=e.lookup[u];return s||(s=new e.View),s.reset(n),t[i]=o[u]=s,t}),g(e.views,function(t,n){var e=t[r];o[e]||(t.destroy(),delete o[e])}),e.views=n,e.lookup=o,e.mount(),e}function y(t,e){function r(n,r){var u=new u(n||t,r||e);return u.listeners=o.listeners,i.root&&u.mount(i.root),u}var o=new n,i={};return r.mount=function(t){return i.root=t,r},r.unmount=function(){return delete i.root,r},r.on=function(t,n,e){return o.on(t,n,e),r},r}function g(t,n){for(var e=0,r=t.length;r>e;e++)n(t[e],e)}function $(t,n){var e=[];return g(t,function(t,r){n(t,r)&&e.push(t)}),e}function b(t,n,e){var r=t.length;null==n&&(n=0),null==e&&(e=r),0>n&&(n=r+n),0>e&&(e=r+e),r=e-n;for(var o=new Array(r),i=0;r>i;i++)o[i]=t[n+i];return o}function x(t,n){for(var e=t.length,r=new Array(e),o=0;e>o;o++)r[o]=n(t[o],o);return r}function C(t,n){for(var e=new Array(t),r=0;t>r;r++)e[r]=n(r);return e}function A(t,n,e){return g(t,function(t,r){n=e(n,t,r)}),n}function V(t,n){var e=n&&n.prototype||null;return t["super"]=n,t.prototype=Object.create(e,{constructor:{configurable:!0,value:t,writable:!0}}),t.prototype}function L(t,n){var e;for(e in t)n(t[e],e)}var k=n.prototype;k.on=e,k.off=o,k.trigger=r,t.Emitter=n,V(i,n);var j=i.prototype;j.mount=u,j.unmount=s,j.text=f,j.html=a,j.addClass=c,j.removeClass=l,j.reset=v,j.destroy=d,i.extend=p,t.View=i,V(h,n);var E=h.prototype;E.mount=m,E.reset=w,h.extend=y,t.ViewList=h,t.each=g,t.filter=$,t.map=x,t.slice=b,t.timesMap=C,t.reduce=A,t.inherit=V,t.forIn=L});