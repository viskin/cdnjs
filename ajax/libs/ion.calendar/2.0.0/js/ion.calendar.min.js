// Ion.Calendar
// version 2.0.0, build: 85
// http://ionden.com/a/plugins/ion.calendar/
(function(f){try{var s=moment()}catch(t){throw alert("Can't find Moment.js, please read the ion.calendar description."),Error("Can't find Moment.js library");}var l={init:function(e){var c=f.extend({lang:"en",sundayFirst:!0,years:"80",format:"",clickable:!0,startDate:"",onClick:null},e),a,b;return this.each(function(){var m=f(this);if(!m.data("isActive")){m.data("isActive",!0);var e,n,l,u,x,g,d=moment(s.lang(c.lang)),h,k,p,y,v,q,r;this.updateData=function(a){c=f.extend(c,a);w()};var w=function(){e.off();
n.off();l.off();u.off();m.empty();t();A()},t=function(){c.startDate&&(g=0<=c.format.indexOf("L")?moment(c.startDate,"YYYY.MM.DD").lang(c.lang):moment(c.startDate,c.format).lang(c.lang));c.years=c.years.toString();v=c.years.split("-");1===v.length?(q=moment().subtract("years",v[0]).format("YYYY"),r=moment().format("YYYY")):2===v.length&&(q=v[0],r=v[1]);q=parseInt(q);r=parseInt(r);r<d.format("YYYY")&&d.year(r).month(11);q>d.format("YYYY")&&d.year(q).month(0)},A=function(){h=moment(d);k=parseInt(h.startOf("month").format("d"));
p=parseInt(h.endOf("month").format("d"));y=parseInt(h.endOf("month").format("D"));a='<div class="ic__container">';a+='<div class="ic__header">';a+='<div class="ic__prev"><div></div></div>';a+='<div class="ic__next"><div></div></div>';a+='<div class="ic__month"><select class="ic__month-select">';for(b=0;12>b;b++)a=b===parseInt(d.format("M"))-1?a+('<option value="'+b+'" selected="selected">'+h.month(b).format("MMMM")+"</option>"):a+('<option value="'+b+'">'+h.month(b).format("MMMM")+"</option>");a+=
"</select></div>";a+='<div class="ic__year"><select class="ic__year-select">';for(b=q;b<=r;b++)a=b===parseInt(d.format("YYYY"))?a+('<option value="'+b+'" selected="selected">'+b+"</option>"):a+('<option value="'+b+'">'+b+"</option>");a+="</select></div>";a+="</div>";if(c.sundayFirst){a+='<table class="ic__week-head"><tr>';for(b=0;7>b;b++)a+="<td>"+h.day(b).format("dd")+"</td>";a+="</tr></table>";a+='<table class="ic__days"><tr>';for(b=0;b<k;b++)a+='<td class="ic__day-empty">&nbsp;</td>';for(b=1;b<=
y;b++)a=moment(d).date(b).format("D.M.YYYY")===s.format("D.M.YYYY")?a+('<td class="ic__day ic__day_state_current">'+b+"</td>"):g&&moment(d).date(b).format("D.M.YYYY")===g.format("D.M.YYYY")?a+('<td class="ic__day ic__day_state_selected">'+b+"</td>"):a+('<td class="ic__day">'+b+"</td>"),(k+b)/7===Math.floor((k+b)/7)&&(a+="</tr><tr>");b=p}else{a+='<table class="ic__week-head"><tr>';for(b=1;8>b;b++)a=7>b?a+("<td>"+h.day(b).format("dd")+"</td>"):a+("<td>"+h.day(0).format("dd")+"</td>");a+="</tr></table>";
a+='<table class="ic__days"><tr>';k=0<k?k-1:6;for(b=0;b<k;b++)a+='<td class="ic__day-empty">&nbsp;</td>';for(b=1;b<=y;b++)a=moment(d).date(b).format("D.M.YYYY")===s.format("D.M.YYYY")?a+('<td class="ic__day ic__day_state_current">'+b+"</td>"):g&&moment(d).date(b).format("D.M.YYYY")===g.format("D.M.YYYY")?a+('<td class="ic__day ic__day_state_selected">'+b+"</td>"):a+('<td class="ic__day">'+b+"</td>"),(k+b)/7===Math.floor((k+b)/7)&&(a+="</tr><tr>");1>p&&(p=7);b=p-1}for(;6>b;b++)a+='<td class="ic__day-empty">&nbsp;</td>';
a+="</tr></table>";a+="</div>";B()},B=function(){m.html(a);e=m.find(".ic__prev");n=m.find(".ic__next");l=m.find(".ic__month-select");u=m.find(".ic__year-select");x=m.find(".ic__day");e.on("click",function(a){a.preventDefault();d.subtract("months",1);parseInt(d.format("YYYY"))<q&&d.add("months",1);w()});n.on("click",function(a){a.preventDefault();d.add("months",1);parseInt(d.format("YYYY"))>r&&d.subtract("months",1);w()});l.on("change",function(a){a.preventDefault();a=f(this).prop("value");d.month(parseInt(a));
w()});u.on("change",function(a){a.preventDefault();a=f(this).prop("value");d.year(parseInt(a));w()});if(c.clickable)x.on("click",function(a){a.preventDefault();a=f(this).text();d.date(parseInt(a));g=moment(d);0<=c.format.indexOf("L")?c.startDate=g.format("YYYY-MM-DD"):c.startDate=g.format(c.format);"function"===typeof c.onClick&&(c.format?"moment"===c.format?c.onClick.call(this,g):c.onClick.call(this,g.format(c.format)):c.onClick.call(this,g.format()));w()})};t();A()}})},update:function(e){return this.each(function(){this.updateData(e)})}};
f.fn.ionCalendar=function(e){if(l[e])return l[e].apply(this,Array.prototype.slice.call(arguments,1));if("object"!==typeof e&&e)f.error("Method "+e+" does not exist for jQuery.ionCalendar");else return l.init.apply(this,arguments)}})(jQuery);
(function(f){var s=0,t,l=f(document.body),e=function(){f(".ic__datepicker").css("left","-9999px").css("top","-9999px")},c={init:function(a){var b=f.extend({lang:"en",sundayFirst:!0,years:"80",clickable:!0,format:""},a);return this.each(function(){var a=f(this),c,n={},z=this,u,x,g,d,h,k;if(!a.data("isActive")){a.data("isActive",!0);s++;this.pluginCount=s;n.lang=a.data("lang")||b.lang;!1===a.data("sundayfirst")&&(n.sundayFirst=a.data("sundayfirst"));n.years=a.data("years")||b.years;n.format=a.data("format")||
b.format;f.extend(b,n);l.on("mousedown",function(){e()});b.onClick=function(b){a.prop("value",b);d=b;e()};var p=function(){u=parseInt(a.offset().left);x=parseInt(a.offset().top);g=parseInt(a.outerWidth(!0));c.css("left",u+g+10+"px").css("top",x-10+"px");(h=a.prop("value"))&&(h!==d&&0>b.format.indexOf("L"))&&(k=moment(h,b.format),k.isValid()&&c.ionCalendar("update",{startDate:h}))};(function(){t='<div class="ic__datepicker" id="ic__datepicker-'+z.pluginCount+'"></div>';l.append(t);c=f("#ic__datepicker-"+
z.pluginCount);c.ionCalendar(b);c.on("mousedown",function(a){a.stopPropagation()});a.on("mousedown",function(a){a.stopPropagation()});a.on("focusin",function(){e();p()});a.on("keyup",function(){p()})})()}})},close:function(){e()}};f.fn.ionDatePicker=function(a){if(c[a])return c[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"!==typeof a&&a)f.error("Method "+a+" does not exist for jQuery.ionDatePicker");else return c.init.apply(this,arguments)}})(jQuery);