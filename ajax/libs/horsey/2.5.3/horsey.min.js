!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.horsey=e()}}(function(){return function e(t,n,r){function o(a,u){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!u&&c)return c(a,!0);if(i)return i(a,!0);var f=new Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return o(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t){(function(n){"use strict";function r(e){var t,n;for(n=0;n<E.length;n++)if(t=E[n],t.el===e)return t.api;return null}function o(e,t){function n(e){$(!0),Lt=Ht.attachment=e,lt="INPUT"===Lt.tagName||"TEXTAREA"===Lt.tagName,st=lt||p(Lt),$()}function o(){ft&&ft.refresh()}function c(){h.remove(Lt,"focus",At),Tt(d)}function d(e){e.forEach(O),Ht.suggestions=e}function k(){for(;kt.lastChild;)kt.removeChild(kt.lastChild)}function O(t){function n(){var e=wt(t);A(e),M(),Lt.focus(),h.fabricate(Lt,"horsey-selected",e)}function r(){var n=lt?e.value:e.innerHTML;I(n,t)?i.className=i.className.replace(/ sey-hide/g,""):h.fabricate(i,"horsey-hide")}function o(){U(i)||(i.className+=" sey-hide",Ot===i&&z())}var i=f("li","sey-item");return yt(i,t),h.add(i,"click",n),h.add(i,"horsey-filter",r),h.add(i,"horsey-hide",o),kt.appendChild(i),Ht.suggestions.push(t),i}function A(e){return mt.anchor?(L()?at:ut)(e):void St(e)}function I(e,t){return mt.anchor?(L()?rt:ot)(e,t):Nt(e,t)}function L(){return!Rt||i(Lt)}function R(){return-1!==kt.className.indexOf("sey-show")}function U(e){return-1!==e.className.indexOf("sey-hide")}function H(){R()||(kt.className+=" sey-show",ft.refresh(),h.fabricate(Lt,"horsey-show"))}function P(e){var t=1===e.which&&!e.metaKey&&!e.ctrlKey;t!==!1&&B()}function B(){R()?M():H()}function D(e){z(),e&&(Ot=e,Ot.className+=" sey-selected")}function z(){Ot&&(Ot.className=Ot.className.replace(/ sey-selected/g,""),Ot=null)}function W(e,t){var n=kt.children.length;if(t>n)return void z();if(0!==n){var r=e?"lastChild":"firstChild",o=e?"previousSibling":"nextSibling",i=Ot&&Ot[o]||kt[r];D(i),U(i)&&W(e,t?t+1:1)}}function M(){ft.sleep(),kt.className=kt.className.replace(/ sey-show/g,""),z(),h.fabricate(Lt,"horsey-hide")}function X(e){var t=R(),n=e.which||e.keyCode;n===x?(st&&mt.autoShowOnUpDown&&H(),t&&(W(),j(e))):n===w?(st&&mt.autoShowOnUpDown&&H(),t&&(W(!0),j(e))):t&&(n===y?(Ot?h.fabricate(Ot,"click"):M(),j(e)):n===b&&(M(),j(e)))}function j(e){e.stopPropagation(),e.preventDefault()}function q(){if(R()){h.fabricate(Lt,"horsey-filter");for(var e=kt.firstChild,t=0;e;)t>=Ct&&h.fabricate(e,"horsey-hide"),Ct>t&&(h.fabricate(e,"horsey-filter"),-1===e.className.indexOf("sey-hide")&&t++),e=e.nextSibling;Ot||W(),Ot||M()}}function V(e){var t=e.which||e.keyCode;t!==y&&It()}function F(e){var t=e.which||e.keyCode;t!==y&&setTimeout(H,0)}function G(e){var t=e.target;if(t===Lt)return!0;for(;t;){if(t===kt||t===Lt)return!0;t=t.parentNode}}function K(e){G(e)||M()}function Y(e){G(e)||M()}function $(e){var t=e?"remove":"add";ft&&(ft.destroy(),ft=null),e||(ft=m(kt,Lt,{caret:st&&"INPUT"!==Lt.tagName,getSelection:xt}),R()||ft.sleep()),"function"!=typeof Tt||At.used||(e||st&&C.activeElement!==Lt?h[t](Lt,"focus",At):At()),Rt&&(h[t](Rt.editable,"horsey-filter",nt),h[t](Rt.textarea,"woofmark-mode-change",_)),st?(h[t](Lt,"keypress",F),h[t](Lt,"keypress",It),h[t](Lt,"keydown",V),h[t](Lt,"paste",It),h[t](Lt,"keydown",X),mt.autoHideOnBlur&&h[t](T,"focus",K,!0)):(h[t](Lt,"click",P),h[t](T,"keydown",X)),mt.autoHideOnClick&&h[t](C,"click",Y),Et&&h[t](Et,"submit",M)}function _(){Rt.mode!==Ut&&n("wysiwyg"===Rt.mode?Rt.editable:Rt.textarea),Ut=Rt.mode}function J(){$(!0),gt.contains(kt)&&gt.removeChild(kt),E.splice(E.indexOf(Pt),1)}function Q(t){lt?e.value=t:e.innerHTML=t}function Z(e,t){e.innerText=e.textContent=bt(t)}function et(e,t){var n=bt(t)||"",r=wt(t)||"",o=e.toLowerCase();return g(o,n.toLowerCase())||g(o,r.toLowerCase())}function tt(e,t){for(var n="",r=!1,o=t.start;r===!1&&o>=0;)n=e.substr(o-1,t.start-o+1),r=vt.test(n),o--;return{text:r?n:null,start:o}}function nt(){Rt.runCommand(function(e){for(var t=e.before+e.selection,n=!1,r=t.length;n===!1&&r>=0;)pt=t.substr(r-1,t.length-r+1),n=vt.test(pt),r--;n===!1&&(pt=null),dt=e})}function rt(t,n){var r=v(e),o=tt(t,r).text;return o?Nt(o,n):void 0}function ot(e,t){return pt?Nt(pt,t):void 0}function it(e){return Rt&&"markdown"!==Rt.mode?Rt.parseMarkdown(e).replace(S,""):e}function at(t){var n=it(t),r=e.value,o=v(e),i=tt(r,o),a=r.substr(0,i.start),u=r.substr(i.start+i.text.length+(o.end-o.start)),c=a+n+" ";e.value=c+u,v(e,{start:c.length,end:c.length})}function ut(e){function t(t){for(var n=it(e),r=dt.before,o=r.length-1;o>0&&!ht.test(r);)r=r.substr(0,--o);t.before=r.substr(0,o)+n+"&nbsp;",t.after=dt.selection+dt.after,t.selection=""}Rt.runCommand(t)}var ct=r(e);if(ct)return ct;var ft,lt,st,dt,pt,vt,ht,mt=t||{},gt=mt.appendTo||C.body,yt=mt.render||Z,bt=mt.getText||u,wt=mt.getValue||a,xt=mt.getSelection||N.getSelection,Et=mt.form,Ct="number"==typeof mt.limit?mt.limit:1/0,Tt=mt.suggestions,Nt=mt.filter||et,St=mt.set||Q,kt=f("ul","sey-list"),Ot=null,At=l(c),It=s(q),Lt=e,Rt=mt.editor;void 0===mt.autoHideOnBlur&&(mt.autoHideOnBlur=!0),void 0===mt.autoHideOnClick&&(mt.autoHideOnClick=!0),void 0===mt.autoShowOnUpDown&&(mt.autoShowOnUpDown="INPUT"===e.tagName),mt.anchor&&(vt=new RegExp("^"+mt.anchor),ht=new RegExp(mt.anchor+"$"));var Ut,Ht={add:O,clear:k,show:H,hide:M,toggle:B,destroy:J,refreshPosition:o,defaultRenderer:Z,defaultGetText:u,defaultGetValue:a,defaultSetter:Q,defaultFilter:et,retarget:n,attachment:Lt,list:kt,suggestions:[]},Pt={el:e,api:Ht};return n(e),E.push(Pt),gt.appendChild(kt),e.setAttribute("autocomplete","off"),Array.isArray(Tt)&&d(Tt),Ht}function i(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName}function a(e){return c("value",e)}function u(e){return c("text",e)}function c(e,t){return t&&void 0!==t[e]?t[e]:t}function f(e,t){var n=C.createElement(e);return n.className=t,n}function l(e){function t(){n||(t.used=n=!0,(e||d).apply(null,arguments))}var n;return t}function s(e){return function(){setTimeout(e,0)}}function d(){}function p(e){var t=e.getAttribute("contentEditable");return"false"===t?!1:"true"===t?!0:e.parentElement?p(e.parentElement):!1}var v=e("sell"),h=e("crossvent"),m=e("bullseye"),g=e("fuzzysearch"),y=13,b=27,w=38,x=40,E=[],C=document,T=C.documentElement,N=n,S=/^<p>|<\/p>\n?$/g;o.find=r,t.exports=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{bullseye:2,crossvent:7,fuzzysearch:9,sell:10}],2:[function(e,t){"use strict";function n(e,t,n){function a(){m.sleeping=!0}function u(){return c()}function c(e){var n=t.getBoundingClientRect(),r=document.body.scrollTop||document.documentElement.scrollTop;return g?(e=g.read(),{x:(e.absolute?0:n.left)+e.x,y:(e.absolute?0:n.top)+r+e.y+20}):{x:n.left,y:n.top+r}}function f(e){l(e)}function l(n){if(v)throw new Error("Bullseye can't refresh after being destroyed. Create another instance instead.");if(g&&!n)return m.sleeping=!1,void g.refresh();var r=c(n);g||t===e||(r.y+=t.offsetHeight),e.style.left=r.x+"px",e.style.top=r.y+"px"}function s(){g&&g.destroy(),r.remove(window,"resize",h),v=!0}var d=n,p=t&&t.tagName;p||2!==arguments.length||(d=t),p||(t=e),d||(d={});var v=!1,h=o(l,30),m={update:d.autoupdateToCaret!==!1&&f},g=d.caret&&i(t,m);return l(),d.tracking!==!1&&r.add(window,"resize",h),{read:u,refresh:l,destroy:s,sleep:a}}var r=e("crossvent"),o=e("./throttle"),i=e("./tailormade");t.exports=n},{"./tailormade":4,"./throttle":5,crossvent:7}],3:[function(e,t){"use strict";function n(e){return{start:e.selectionStart,end:e.selectionEnd}}function r(e){function t(t,r){return n!==e&&(n?n.focus():e.blur()),{start:t,end:r}}var n=document.activeElement;n!==e&&e.focus();var r=document.selection.createRange(),a=r.getBookmark(),u=e.value,c=o(u),f=r.parentElement();if(null===f||!i(f))return t(0,0);r.text=c+r.text+c;var l=e.value;return e.value=u,r.moveToBookmark(a),r.select(),t(l.indexOf(c),l.lastIndexOf(c)-c.length)}function o(e){var t;do t="@@marker."+Math.random()*new Date;while(-1!==e.indexOf(t));return t}function i(e){return"INPUT"===e.tagName&&"text"===e.type||"TEXTAREA"===e.tagName}function a(e,t){e.selectionStart=c(e,t.start),e.selectionEnd=c(e,t.end)}function u(e,t){var n=e.createTextRange();"end"===t.start&&"end"===t.end?(n.collapse(!1),n.select()):(n.collapse(!0),n.moveEnd("character",c(e,t.end)),n.moveStart("character",c(e,t.start)),n.select())}function c(e,t){return"end"===t?e.value.length:t||0}function f(e,t){return 2===arguments.length&&s(e,t),l(e)}var l=n,s=a;document.selection&&document.selection.createRange&&(l=r,s=u),t.exports=f},{}],4:[function(e,t){(function(n){"use strict";function r(e,t){function n(){}function r(){return(w?d:p)()}function s(){return E.sleeping?void 0:(E.update||n)(r())}function d(){var t=o(e),n=m(),r=v(n,t.start);return f.body.removeChild(n.mirror),r}function p(){var e=(E.getSelection||c.getSelection)();if(e.rangeCount){var t=e.getRangeAt(0),n="P"===t.startContainer.nodeName&&0===t.startOffset;if(n)return{x:t.startContainer.offsetLeft,y:t.startContainer.offsetTop,absolute:!0};if(t.getClientRects){var r=t.getClientRects();if(r.length>0)return{x:r[0].left,y:r[0].top,absolute:!0}}}return{x:0,y:0}}function v(t,n){var r=f.createElement("span"),o=t.mirror,i=t.computed;return g(o,h(e).substring(0,n)),"INPUT"===e.tagName&&(o.textContent=o.textContent.replace(/\s/g,"Â ")),g(r,h(e).substring(n)||"."),o.appendChild(r),{x:r.offsetLeft+parseInt(i.borderLeftWidth),y:r.offsetTop+parseInt(i.borderTopWidth)}}function h(e){return w?e.value:e.innerHTML}function m(){function t(e){o[e]=n[e]}var n=c.getComputedStyle?getComputedStyle(e):e.currentStyle,r=f.createElement("div"),o=r.style;return f.body.appendChild(r),"INPUT"!==e.tagName&&(o.wordWrap="break-word"),o.whiteSpace="pre-wrap",o.position="absolute",o.visibility="hidden",u.forEach(t),l?(o.width=parseInt(n.width)-2+"px",e.scrollHeight>parseInt(n.height)&&(o.overflowY="scroll")):o.overflow="hidden",{mirror:r,computed:n}}function g(e,t){w?e.textContent=t:e.innerHTML=t}function y(t){var n=t?"remove":"add";i[n](e,"keydown",x),i[n](e,"keyup",x),i[n](e,"input",x),i[n](e,"paste",x),i[n](e,"change",x)}function b(){y(!0)}var w="INPUT"===e.tagName||"TEXTAREA"===e.tagName,x=a(s,30),E=t||{};return y(),{read:r,refresh:x,destroy:b}}var o=e("sell"),i=e("crossvent"),a=e("./throttle"),u=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing"],c=n,f=document,l=null!==c.mozInnerScreenX&&void 0!==c.mozInnerScreenX;t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./throttle":5,crossvent:7,sell:3}],5:[function(e,t){"use strict";function n(e,t){var n,r=-1/0;return function(){function o(){clearTimeout(n),n=null;var i=r+t,a=Date.now();a>i?(r=a,e()):n=setTimeout(o,i-a)}n||o()}}t.exports=n},{}],6:[function(e,t){(function(e){function n(){try{var e=new r("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(t){}return!1}var r=e.CustomEvent;t.exports=n()?r:"function"==typeof document.createEvent?function(e,t){var n=document.createEvent("CustomEvent");return t?n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):n.initCustomEvent(e,!1,!1,void 0),n}:function(e,t){var n=document.createEventObject();return n.type=e,t?(n.bubbles=Boolean(t.bubbles),n.cancelable=Boolean(t.cancelable),n.detail=t.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(e,t){(function(n){"use strict";function r(e,t,n,r){return e.addEventListener(t,n,r)}function o(e,t,n){return e.attachEvent("on"+t,f(e,t,n))}function i(e,t,n,r){return e.removeEventListener(t,n,r)}function a(e,t,n){return e.detachEvent("on"+t,l(e,t,n))}function u(e,t,n){function r(){var e;return v.createEvent?(e=v.createEvent("Event"),e.initEvent(t,!0,!0)):v.createEventObject&&(e=v.createEventObject()),e}function o(){return new d(t,{detail:n})}var i=-1===p.indexOf(t)?o():r();e.dispatchEvent?e.dispatchEvent(i):e.fireEvent("on"+t,i)}function c(e,t,r){return function(t){var o=t||n.event;o.target=o.target||o.srcElement,o.preventDefault=o.preventDefault||function(){o.returnValue=!1},o.stopPropagation=o.stopPropagation||function(){o.cancelBubble=!0},o.which=o.which||o.keyCode,r.call(e,o)}}function f(e,t,n){var r=l(e,t,n)||c(e,t,n);return g.push({wrapper:r,element:e,type:t,fn:n}),r}function l(e,t,n){var r=s(e,t,n);if(r){var o=g[r].wrapper;return g.splice(r,1),o}}function s(e,t,n){var r,o;for(r=0;r<g.length;r++)if(o=g[r],o.element===e&&o.type===t&&o.fn===n)return r}var d=e("custom-event"),p=e("./eventmap"),v=document,h=r,m=i,g=[];n.addEventListener||(h=o,m=a),t.exports={add:h,remove:m,fabricate:u}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./eventmap":8,"custom-event":6}],8:[function(e,t){(function(e){"use strict";var n=[],r="",o=/^on/;for(r in e)o.test(r)&&n.push(r.slice(2));t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(e,t){"use strict";function n(e,t){var n=t.length,r=e.length;if(r>n)return!1;if(r===n)return e===t;e:for(var o=0,i=0;r>o;o++){for(var a=e.charCodeAt(o);n>i;)if(t.charCodeAt(i++)===a)continue e;return!1}return!0}t.exports=n},{}],10:[function(e,t,n){arguments[4][3][0].apply(n,arguments)},{dup:3}]},{},[1])(1)});