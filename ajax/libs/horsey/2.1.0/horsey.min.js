!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.horsey=e()}}(function(){return function e(t,n,r){function o(a,u){if(!n[a]){if(!t[a]){var f="function"==typeof require&&require;if(!u&&f)return f(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return o(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t){(function(n){"use strict";function r(e){var t,n;for(n=0;n<y.length;n++)if(t=y[n],t.el===e)return t.api;return null}function o(e,t){function n(e){W(!0),ut=ft.attachment=e,G="INPUT"===ut.tagName||"TEXTAREA"===ut.tagName,W()}function o(){F&&F.refresh()}function l(){s.remove(ut,"focus",it),tt(x)}function x(e){e.forEach(E)}function C(){for(;rt.lastChild;)rt.removeChild(rt.lastChild)}function E(t){function n(){$(Q(t)),L(),ut.focus(),s.fabricate(ut,"horsey-selected")}function r(){var n=G?e.value:e.innerHTML;nt(n,t)?o.className=o.className.replace(/ sey-hide/g,""):N(o)||(o.className+=" sey-hide",ot===o&&O())}var o=u("li","sey-item");return J(o,t),s.add(o,"click",n),s.add(o,"horsey-filter",r),rt.appendChild(o),o}function T(){return-1!==rt.className.indexOf("sey-show")}function N(e){return-1!==e.className.indexOf("sey-hide")}function S(){T()||(rt.className+=" sey-show",F.refresh(),s.fabricate(ut,"horsey-show"))}function k(e){O(),e&&(ot=e,ot.className+=" sey-selected")}function O(){ot&&(ot.className=ot.className.replace(/ sey-selected/g,""),ot=null)}function I(e,t){var n=rt.children.length;if(t>n)return void O();if(0!==n){var r=e?"lastChild":"firstChild",o=e?"previousSibling":"nextSibling",i=ot&&ot[o]||rt[r];k(i),N(i)&&I(e,t?t+1:1)}}function L(){F.sleep(),rt.className=rt.className.replace(/ sey-show/g,""),O(),s.fabricate(ut,"horsey-hide")}function A(e){var t=T(),n=e.which||e.keyCode;n===m?(Y.autoShowOnUpDown&&S(),t&&(I(),H(e))):n===g?(Y.autoShowOnUpDown&&S(),t&&(I(!0),H(e))):t&&(n===v?(ot?s.fabricate(ot,"click"):L(),H(e)):n===h&&(L(),H(e)))}function H(e){e.stopPropagation(),e.preventDefault()}function R(){if(T()){s.fabricate(ut,"horsey-filter");for(var e=rt.firstChild;e;)s.fabricate(e,"horsey-filter"),e=e.nextSibling;ot||I(),ot||L()}}function U(e){var t=e.which||e.keyCode;t!==v&&at()}function D(e){var t=e.which||e.keyCode;t!==v&&setTimeout(S,0)}function P(e){var t=e.target;if(t===ut)return!0;for(;t;){if(t===rt)return!0;t=t.parentNode}}function z(e){P(e)||L()}function B(e){P(e)||L()}function W(e){var t=e?"remove":"add";F&&(F.destroy(),F=null),e||(F=d(rt,ut,{caret:"INPUT"!==ut.tagName,getSelection:Z}),T()||F.sleep()),"function"!=typeof tt||it.used||(e||w.activeElement!==ut?s[t](ut,"focus",it):it()),s[t](ut,"keypress",D),s[t](ut,"keypress",at),s[t](ut,"paste",at),s[t](ut,"keydown",U),s[t](ut,"keydown",A),Y.autoHideOnBlur&&s[t](w.documentElement,"focus",z,!0),Y.autoHideOnClick&&s[t](w,"click",B),et&&s[t](et,"submit",L)}function M(){W(!0),_.contains(rt)&&_.removeChild(rt),y.splice(y.indexOf(ct),1)}function X(t){G?e.value=t:e.innerHTML=t}function j(e,t){e.innerText=e.textContent=K(t)}function q(e,t){var n=K(t)||"",r=Q(t)||"";return p(e,n.toLowerCase())||p(e,r.toLowerCase())}var V=r(e);if(V)return V;var F,G,Y=t||{},_=Y.appendTo||w.body,J=Y.render||j,K=Y.getText||a,Q=Y.getValue||i,Z=Y.getSelection||b.getSelection,$=Y.set||X,et=Y.form,tt=Y.suggestions,nt=Y.filter||q,rt=u("ul","sey-list"),ot=null,it=f(l),at=c(R),ut=e;void 0===Y.autoHideOnBlur&&(Y.autoHideOnBlur=!0),void 0===Y.autoHideOnClick&&(Y.autoHideOnClick=!0),void 0===Y.autoShowOnUpDown&&(Y.autoShowOnUpDown="INPUT"===e.tagName);var ft={add:E,clear:C,show:S,hide:L,destroy:M,refreshPosition:o,defaultRenderer:j,defaultGetText:a,defaultGetValue:i,defaultSetter:X,defaultFilter:q,retarget:n,attachment:ut},ct={el:e,api:ft};return n(e),y.push(ct),_.appendChild(rt),e.setAttribute("autocomplete","off"),Array.isArray(tt)&&x(tt),ft}function i(e){return"string"==typeof e?e:e.value}function a(e){return"string"==typeof e?e:e.text}function u(e,t){var n=w.createElement(e);return n.className=t,n}function f(e){function t(){n||(t.used=n=!0,(e||l).apply(null,arguments))}var n;return t}function c(e){return function(){setTimeout(e,0)}}function l(){}var s=e("crossvent"),d=e("bullseye"),p=e("fuzzysearch"),v=13,h=27,g=38,m=40,y=[],w=document,b=n;o.find=r,t.exports=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{bullseye:2,crossvent:6,fuzzysearch:7}],2:[function(e,t){"use strict";function n(e,t,n){function a(){p.sleeping=!0}function u(e){f(e)}function f(n){if(s)throw new Error("Bullseye can't refresh after being destroyed. Create another instance instead.");if(v&&!n)return p.sleeping=!1,void v.refresh();var r=t.getBoundingClientRect(),o=document.body.scrollTop||document.documentElement.scrollTop;n?(e.style.top=(n.absolute?0:r.top)+o+n.y+20+"px",e.style.left=(n.absolute?0:r.left)+n.x+"px"):(e.style.top=r.top+o+t.offsetHeight+"px",e.style.left=r.left+"px")}function c(){v&&v.destroy(),r.remove(window,"resize",d),s=!0}var l=n||{},s=!1,d=o(f,30),p={update:u},v=l.caret&&i(t,p);return f(),l.tracking!==!1&&r.add(window,"resize",d),{refresh:f,destroy:c,sleep:a}}var r=e("crossvent"),o=e("./throttle"),i=e("./tailormade");t.exports=n},{"./tailormade":4,"./throttle":5,crossvent:6}],3:[function(e,t){"use strict";function n(e){return{start:e.selectionStart,end:e.selectionEnd}}function r(e){function t(t,r){return n!==e&&(n?n.focus():e.blur()),{start:t,end:r}}var n=document.activeElement;n!==e&&e.focus();var r=document.selection.createRange(),a=r.getBookmark(),u=e.value,f=o(u),c=r.parentElement();if(null===c||!i(c))return t(0,0);r.text=f+r.text+f;var l=e.value;return e.value=u,r.moveToBookmark(a),r.select(),t(l.indexOf(f),l.lastIndexOf(f)-f.length)}function o(e){var t;do t="@@marker."+Math.random()*new Date;while(-1!==e.indexOf(t));return t}function i(e){return"INPUT"===e.tagName&&"text"===e.type||"TEXTAREA"===e.tagName}function a(e,t){e.selectionStart=f(e,t.start),e.selectionEnd=f(e,t.end)}function u(e,t){var n=e.createTextRange();"end"===t.start&&"end"===t.end?(n.collapse(!1),n.select()):(n.collapse(!0),n.moveEnd("character",f(e,t.end)),n.moveStart("character",f(e,t.start)),n.select())}function f(e,t){return"end"===t?e.value.length:t||0}function c(e,t){return 2===arguments.length&&s(e,t),l(e)}var l=n,s=a;document.selection&&document.selection.createRange&&(l=r,s=u),t.exports=c},{}],4:[function(e,t){(function(n){"use strict";function r(e,t){function n(){return b.sleeping?void 0:y?r():b.update(s())}function r(){var t=o(e),n=p(),r=h(n,t.start);c.body.removeChild(n.mirror),b.update(r)}function s(){var e=(b.getSelection||f.getSelection)();if(e.rangeCount){var t=e.getRangeAt(0),n="P"===t.startContainer.nodeName&&0===t.startOffset;if(n)return{x:t.startContainer.offsetLeft,y:t.startContainer.offsetTop,absolute:!0};if(t.getClientRects){var r=t.getClientRects();if(r.length>0)return{x:r[0].left,y:r[0].top,absolute:!0}}}return{x:0,y:0}}function d(e){return y?e.value:e.innerHTML}function p(){function t(e){o[e]=n[e]}var n=f.getComputedStyle?getComputedStyle(e):e.currentStyle,r=c.createElement("div"),o=r.style;return c.body.appendChild(r),"INPUT"!==e.tagName&&(o.wordWrap="break-word"),o.whiteSpace="pre-wrap",o.position="absolute",o.visibility="hidden",u.forEach(t),l?(o.width=parseInt(n.width)-2+"px",e.scrollHeight>parseInt(n.height)&&(o.overflowY="scroll")):o.overflow="hidden",{mirror:r,computed:n}}function v(e,t){y?e.textContent=t:e.innerHTML=t}function h(t,n){var r=c.createElement("span"),o=t.mirror,i=t.computed;return v(o,d(e).substring(0,n)),"INPUT"===e.tagName&&(o.textContent=o.textContent.replace(/\s/g,"Â ")),v(r,d(e).substring(n)||"."),o.appendChild(r),{x:r.offsetLeft+parseInt(i.borderLeftWidth),y:r.offsetTop+parseInt(i.borderTopWidth)}}function g(t){var n=t?"remove":"add";i[n](e,"keydown",w),i[n](e,"keyup",w),i[n](e,"input",w),i[n](e,"paste",w),i[n](e,"change",w)}function m(){g(!0)}var y="INPUT"===e.tagName||"TEXTAREA"===e.tagName,w=a(n,30),b=t||{};return g(),{refresh:w,destroy:m}}var o=e("sell"),i=e("crossvent"),a=e("./throttle"),u=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing"],f=n,c=document,l=null!==f.mozInnerScreenX&&void 0!==f.mozInnerScreenX;t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./throttle":5,crossvent:6,sell:3}],5:[function(e,t){"use strict";function n(e,t){var n,r=-1/0;return function(){function o(){clearTimeout(n),n=null;var i=r+t,a=Date.now();a>i?(r=a,e()):n=setTimeout(o,i-a)}n||o()}}t.exports=n},{}],6:[function(e,t){(function(e){"use strict";function n(e,t,n,r){return e.addEventListener(t,n,r)}function r(e,t,n){return e.attachEvent("on"+t,f(e,t,n))}function o(e,t,n,r){return e.removeEventListener(t,n,r)}function i(e,t,n){return e.detachEvent("on"+t,c(e,t,n))}function a(e,t){var n;s.createEvent?(n=s.createEvent("Event"),n.initEvent(t,!0,!0),e.dispatchEvent(n)):s.createEventObject&&(n=s.createEventObject(),e.fireEvent("on"+t,n))}function u(t,n,r){return function(n){var o=n||e.event;o.target=o.target||o.srcElement,o.preventDefault=o.preventDefault||function(){o.returnValue=!1},o.stopPropagation=o.stopPropagation||function(){o.cancelBubble=!0},r.call(t,o)}}function f(e,t,n){var r=c(e,t,n)||u(e,t,n);return v.push({wrapper:r,element:e,type:t,fn:n}),r}function c(e,t,n){var r=l(e,t,n);if(r){var o=v[r].wrapper;return v.splice(r,1),o}}function l(e,t,n){var r,o;for(r=0;r<v.length;r++)if(o=v[r],o.element===e&&o.type===t&&o.fn===n)return r}var s=document,d=n,p=o,v=[];e.addEventListener||(d=r,p=i),t.exports={add:d,remove:p,fabricate:a}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(e,t){"use strict";function n(e,t){var n=t.length,r=e.length;if(r>n)return!1;if(r===n)return e===t;e:for(var o=0,i=0;r>o;o++){for(var a=e.charCodeAt(o);n>i;)if(t.charCodeAt(i++)===a)continue e;return!1}return!0}t.exports=n},{}]},{},[1])(1)});