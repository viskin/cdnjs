/*!
 * Globalize v1.1.0-rc.4 2015-10-20T16:52Z Released under the MIT license
 * http://git.io/TrdQbw
 */
(function(a,b){if(typeof define==="function"&&define.amd){define(["cldr","../globalize","cldr/event"],b)}else{if(typeof exports==="object"){module.exports=b(require("cldrjs"),require("globalize"))}else{b(a.Cldr,a.Globalize)}}}(this,function(g,q){var t=q._alwaysArray,a=q._createError,k=q._isPlainObject,b=q._runtimeBind,p=q._validateDefaultLocale,l=q._validate,c=q._validateParameterPresence,i=q._validateParameterType,d=q._validateParameterTypePlainObject;var h;h=(function(){u._parse=(function(){function y(B,z){function A(){this.constructor=B}A.prototype=z.prototype;B.prototype=new A()}function w(C,B,D,E,z,A){this.message=C;this.expected=B;this.found=D;this.offset=E;this.line=z;this.column=A;this.name="SyntaxError"}y(w,Error);function x(br){var ay=arguments.length>1?arguments[1]:{},bd={},J={start:C},a2=C,aV=[],aT=function(bx){return{type:"messageFormatPattern",statements:bx}},aR=bd,aP="{",aN={type:"literal",value:"{",description:'"{"'},aL=null,aJ=",",aH={type:"literal",value:",",description:'","'},aF="}",aD={type:"literal",value:"}",description:'"}"'},z=function(bx,bz){var by={type:"messageFormatElement",argumentIndex:bx};if(bz&&bz.length){by.elementFormat=bz[1]}else{by.output=true}return by},bw="plural",bv={type:"literal",value:"plural",description:'"plural"'},bu=function(bx,by){return{type:"elementFormat",key:bx,val:by}},bt="selectordinal",bs={type:"literal",value:"selectordinal",description:'"selectordinal"'},bq="select",bo={type:"literal",value:"select",description:'"select"'},bn=function(bx,by){return{type:"elementFormat",key:bx,val:by}},bm=function(by,bx){return{type:"pluralFormatPattern",pluralForms:bx,offset:by||0}},bf="offset",be={type:"literal",value:"offset",description:'"offset"'},bc=":",ba={type:"literal",value:":",description:'":"'},a9=function(bx){return bx},a8=function(bx,by){return{key:bx,val:by}},a7=function(bx){return bx},a5="=",a4={type:"literal",value:"=",description:'"="'},a3=function(bx){return{type:"selectFormatPattern",pluralForms:bx}},aU=function(bx){return bx},aS="#",aQ={type:"literal",value:"#",description:'"#"'},aO=function(){return{type:"octothorpe"}},aM=function(bx){return{type:"string",val:bx.join("")}},aK={type:"other",description:"identifier"},aI=/^[0-9a-zA-Z$_]/,aG={type:"class",value:"[0-9a-zA-Z$_]",description:"[0-9a-zA-Z$_]"},aE=/^[^ \t\n\r,.+={}]/,aB={type:"class",value:"[^ \\t\\n\\r,.+={}]",description:"[^ \\t\\n\\r,.+={}]"},av=function(bx){return bx},au=function(bx){return bx.join("")},at=/^[^{}#\\\0-\x1F \t\n\r]/,aq={type:"class",value:"[^{}#\\\\\\0-\\x1F \\t\\n\\r]",description:"[^{}#\\\\\\0-\\x1F \\t\\n\\r]"},ap=function(bx){return bx},an="\\\\",al={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},ak=function(){return"\\"},ah="\\#",ag={type:"literal",value:"\\#",description:'"\\\\#"'},ad=function(){return"#"},ac="\\{",ab={type:"literal",value:"\\{",description:'"\\\\{"'},Z=function(){return"\u007B"},Y="\\}",X={type:"literal",value:"\\}",description:'"\\\\}"'},W=function(){return"\u007D"},V="\\u",U={type:"literal",value:"\\u",description:'"\\\\u"'},T=function(bA,bz,by,bx){return String.fromCharCode(parseInt("0x"+bA+bz+by+bx))},Q=/^[0-9]/,O={type:"class",value:"[0-9]",description:"[0-9]"},N=function(bx){return parseInt((bx.join("")),10)},M=/^[0-9a-fA-F]/,L={type:"class",value:"[0-9a-fA-F]",description:"[0-9a-fA-F]"},K={type:"other",description:"whitespace"},I=function(bx){return bx.join("")},H=/^[ \t\n\r]/,G={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},aA=0,am=0,a6=0,A={line:1,column:1,seenCR:false},ar=0,bp=[],ax=0,P;if("startRule" in ay){if(!(ay.startRule in J)){throw new Error("Can't start parsing from rule \""+ay.startRule+'".')}a2=J[ay.startRule]}function a1(){return br.substring(am,aA)}function F(){return am}function E(){return aX(am).line}function ae(){return aX(am).column}function D(bx){throw a0(null,[{type:"other",description:bx}],am)}function aW(bx){throw a0(bx,null,am)}function aX(by){function bx(bB,bA,bz){var bD,bC;for(bD=bA;bD<bz;bD++){bC=br.charAt(bD);if(bC==="\n"){if(!bB.seenCR){bB.line++}bB.column=1;bB.seenCR=false}else{if(bC==="\r"||bC==="\u2028"||bC==="\u2029"){bB.line++;bB.column=1;bB.seenCR=true}else{bB.column++;bB.seenCR=false}}}}if(a6!==by){if(a6>by){a6=0;A={line:1,column:1,seenCR:false}}bx(A,a6,by);a6=by}return A}function ao(bx){if(aA<ar){return}if(aA>ar){ar=aA;bp=[]}bp.push(bx)}function a0(bz,by,bD){function bC(bF){var bE=1;bF.sort(function(bH,bG){if(bH.description<bG.description){return -1}else{if(bH.description>bG.description){return 1}else{return 0}}});while(bE<bF.length){if(bF[bE-1]===bF[bE]){bF.splice(bE,1)}else{bE++}}}function bx(bI,bJ){function bE(bL){function bM(bN){return bN.charCodeAt(0).toString(16).toUpperCase()}return bL.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(bN){return"\\x0"+bM(bN)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(bN){return"\\x"+bM(bN)}).replace(/[\u0180-\u0FFF]/g,function(bN){return"\\u0"+bM(bN)}).replace(/[\u1080-\uFFFF]/g,function(bN){return"\\u"+bM(bN)})}var bF=new Array(bI.length),bK,bG,bH;for(bH=0;bH<bI.length;bH++){bF[bH]=bI[bH].description}bK=bI.length>1?bF.slice(0,-1).join(", ")+" or "+bF[bI.length-1]:bF[0];bG=bJ?'"'+bE(bJ)+'"':"end of input";return"Expected "+bK+" but "+bG+" found."}var bB=aX(bD),bA=bD<br.length?br.charAt(bD):null;if(by!==null){bC(by)}return new w(bz!==null?bz:bx(by,bA),by,bA,bD,bB.line,bB.column)}function C(){var bx;bx=aY();return bx}function aY(){var bz,by,bx;bz=aA;by=[];bx=aZ();if(bx===bd){bx=af();if(bx===bd){bx=aj()}}while(bx!==bd){by.push(bx);bx=aZ();if(bx===bd){bx=af();if(bx===bd){bx=aj()}}}if(by!==bd){am=bz;by=aT(by)}bz=by;return bz}function aZ(){var bC,bB,bA,bz,by,bx,bD;bC=aA;if(br.charCodeAt(aA)===123){bB=aP;aA++}else{bB=bd;if(ax===0){ao(aN)}}if(bB!==bd){bA=bh();if(bA!==bd){bz=az();if(bz!==bd){by=aA;if(br.charCodeAt(aA)===44){bx=aJ;aA++}else{bx=bd;if(ax===0){ao(aH)}}if(bx!==bd){bD=R();if(bD!==bd){bx=[bx,bD];by=bx}else{aA=by;by=aR}}else{aA=by;by=aR}if(by===bd){by=aL}if(by!==bd){bx=bh();if(bx!==bd){if(br.charCodeAt(aA)===125){bD=aF;aA++}else{bD=bd;if(ax===0){ao(aD)}}if(bD!==bd){am=bC;bB=z(bz,by);bC=bB}else{aA=bC;bC=aR}}else{aA=bC;bC=aR}}else{aA=bC;bC=aR}}else{aA=bC;bC=aR}}else{aA=bC;bC=aR}}else{aA=bC;bC=aR}return bC}function R(){var bC,bB,bA,bz,by,bx,bE,bD;bC=aA;bB=bh();if(bB!==bd){if(br.substr(aA,6)===bw){bA=bw;aA+=6}else{bA=bd;if(ax===0){ao(bv)}}if(bA!==bd){bz=bh();if(bz!==bd){if(br.charCodeAt(aA)===44){by=aJ;aA++}else{by=bd;if(ax===0){ao(aH)}}if(by!==bd){bx=bh();if(bx!==bd){bE=aC();if(bE!==bd){bD=bh();if(bD!==bd){am=bC;bB=bu(bA,bE);bC=bB}else{aA=bC;bC=aR}}else{aA=bC;bC=aR}}else{aA=bC;bC=aR}}else{aA=bC;bC=aR}}else{aA=bC;bC=aR}}else{aA=bC;bC=aR}}else{aA=bC;bC=aR}if(bC===bd){bC=aA;bB=bh();if(bB!==bd){if(br.substr(aA,13)===bt){bA=bt;aA+=13}else{bA=bd;if(ax===0){ao(bs)}}if(bA!==bd){bz=bh();if(bz!==bd){if(br.charCodeAt(aA)===44){by=aJ;aA++}else{by=bd;if(ax===0){ao(aH)}}if(by!==bd){bx=bh();if(bx!==bd){bE=aC();if(bE!==bd){bD=bh();if(bD!==bd){am=bC;bB=bu(bA,bE);bC=bB}else{aA=bC;bC=aR}}else{aA=bC;bC=aR}}else{aA=bC;bC=aR}}else{aA=bC;bC=aR}}else{aA=bC;bC=aR}}else{aA=bC;bC=aR}}else{aA=bC;bC=aR}if(bC===bd){bC=aA;bB=bh();if(bB!==bd){if(br.substr(aA,6)===bq){bA=bq;aA+=6}else{bA=bd;if(ax===0){ao(bo)}}if(bA!==bd){bz=bh();if(bz!==bd){if(br.charCodeAt(aA)===44){by=aJ;aA++}else{by=bd;if(ax===0){ao(aH)}}if(by!==bd){bx=bh();if(bx!==bd){bE=bg();if(bE!==bd){bD=bh();if(bD!==bd){am=bC;bB=bu(bA,bE);bC=bB}else{aA=bC;bC=aR}}else{aA=bC;bC=aR}}else{aA=bC;bC=aR}}else{aA=bC;bC=aR}}else{aA=bC;bC=aR}}else{aA=bC;bC=aR}}else{aA=bC;bC=aR}if(bC===bd){bC=aA;bB=bh();if(bB!==bd){bA=az();if(bA!==bd){bz=[];by=bi();while(by!==bd){bz.push(by);by=bi()}if(bz!==bd){am=bC;bB=bn(bA,bz);bC=bB}else{aA=bC;bC=aR}}else{aA=bC;bC=aR}}else{aA=bC;bC=aR}}}}return bC}function aC(){var bA,bz,by,bx;bA=aA;bz=aw();if(bz===bd){bz=aL}if(bz!==bd){by=[];bx=B();if(bx!==bd){while(bx!==bd){by.push(bx);bx=B()}}else{by=aR}if(by!==bd){am=bA;bz=bm(bz,by);bA=bz}else{aA=bA;bA=aR}}else{aA=bA;bA=aR}return bA}function aw(){var bC,bB,bA,bz,by,bx,bE,bD;bC=aA;bB=bh();if(bB!==bd){if(br.substr(aA,6)===bf){bA=bf;aA+=6}else{bA=bd;if(ax===0){ao(be)}}if(bA!==bd){bz=bh();if(bz!==bd){if(br.charCodeAt(aA)===58){by=bc;aA++}else{by=bd;if(ax===0){ao(ba)}}if(by!==bd){bx=bh();if(bx!==bd){bE=bl();if(bE!==bd){bD=bh();if(bD!==bd){am=bC;bB=a9(bE);bC=bB}else{aA=bC;bC=aR}}else{aA=bC;bC=aR}}else{aA=bC;bC=aR}}else{aA=bC;bC=aR}}else{aA=bC;bC=aR}}else{aA=bC;bC=aR}}else{aA=bC;bC=aR}return bC}function B(){var bF,bE,bD,bC,bB,bA,bz,by,bx;bF=aA;bE=bh();if(bE!==bd){bD=bk();if(bD!==bd){bC=bh();if(bC!==bd){if(br.charCodeAt(aA)===123){bB=aP;aA++}else{bB=bd;if(ax===0){ao(aN)}}if(bB!==bd){bA=bh();if(bA!==bd){bz=aY();if(bz!==bd){by=bh();if(by!==bd){if(br.charCodeAt(aA)===125){bx=aF;aA++}else{bx=bd;if(ax===0){ao(aD)}}if(bx!==bd){am=bF;bE=a8(bD,bz);bF=bE}else{aA=bF;bF=aR}}else{aA=bF;bF=aR}}else{aA=bF;bF=aR}}else{aA=bF;bF=aR}}else{aA=bF;bF=aR}}else{aA=bF;bF=aR}}else{aA=bF;bF=aR}}else{aA=bF;bF=aR}return bF}function bk(){var bz,by,bx;bz=aA;by=az();if(by!==bd){am=bz;by=a7(by)}bz=by;if(bz===bd){bz=aA;if(br.charCodeAt(aA)===61){by=a5;aA++}else{by=bd;if(ax===0){ao(a4)}}if(by!==bd){bx=bl();if(bx!==bd){am=bz;by=a9(bx);bz=by}else{aA=bz;bz=aR}}else{aA=bz;bz=aR}}return bz}function bg(){var bz,by,bx;bz=aA;by=[];bx=aa();if(bx!==bd){while(bx!==bd){by.push(bx);bx=aa()}}else{by=aR}if(by!==bd){am=bz;by=a3(by)}bz=by;return bz}function aa(){var bF,bE,bD,bC,bB,bA,bz,by,bx;bF=aA;bE=bh();if(bE!==bd){bD=az();if(bD!==bd){bC=bh();if(bC!==bd){if(br.charCodeAt(aA)===123){bB=aP;aA++}else{bB=bd;if(ax===0){ao(aN)}}if(bB!==bd){bA=bh();if(bA!==bd){bz=aY();if(bz!==bd){by=bh();if(by!==bd){if(br.charCodeAt(aA)===125){bx=aF;aA++}else{bx=bd;if(ax===0){ao(aD)}}if(bx!==bd){am=bF;bE=a8(bD,bz);bF=bE}else{aA=bF;bF=aR}}else{aA=bF;bF=aR}}else{aA=bF;bF=aR}}else{aA=bF;bF=aR}}else{aA=bF;bF=aR}}else{aA=bF;bF=aR}}else{aA=bF;bF=aR}}else{aA=bF;bF=aR}return bF}function bi(){var bC,bB,bA,bz,by,bx;bC=aA;bB=bh();if(bB!==bd){if(br.charCodeAt(aA)===44){bA=aJ;aA++}else{bA=bd;if(ax===0){ao(aH)}}if(bA!==bd){bz=bh();if(bz!==bd){by=az();if(by!==bd){bx=bh();if(bx!==bd){am=bC;bB=aU(by);bC=bB}else{aA=bC;bC=aR}}else{aA=bC;bC=aR}}else{aA=bC;bC=aR}}else{aA=bC;bC=aR}}else{aA=bC;bC=aR}return bC}function aj(){var by,bx;by=aA;if(br.charCodeAt(aA)===35){bx=aS;aA++}else{bx=bd;if(ax===0){ao(aQ)}}if(bx!==bd){am=by;bx=aO()}by=bx;return by}function af(){var bz,by,bx;bz=aA;by=[];bx=bb();if(bx===bd){bx=S()}if(bx!==bd){while(bx!==bd){by.push(bx);bx=bb();if(bx===bd){bx=S()}}}else{by=aR}if(by!==bd){am=bz;by=aM(by)}bz=by;return bz}function az(){var bC,bB,bA,bz,by,bx,bD;ax++;bC=aA;bB=bh();if(bB!==bd){bA=aA;bz=aA;if(aI.test(br.charAt(aA))){by=br.charAt(aA);aA++}else{by=bd;if(ax===0){ao(aG)}}if(by!==bd){bx=[];if(aE.test(br.charAt(aA))){bD=br.charAt(aA);aA++}else{bD=bd;if(ax===0){ao(aB)}}while(bD!==bd){bx.push(bD);if(aE.test(br.charAt(aA))){bD=br.charAt(aA);aA++}else{bD=bd;if(ax===0){ao(aB)}}}if(bx!==bd){by=[by,bx];bz=by}else{aA=bz;bz=aR}}else{aA=bz;bz=aR}if(bz!==bd){bz=br.substring(bA,aA)}bA=bz;if(bA!==bd){bz=bh();if(bz!==bd){am=bC;bB=av(bA);bC=bB}else{aA=bC;bC=aR}}else{aA=bC;bC=aR}}else{aA=bC;bC=aR}ax--;if(bC===bd){bB=bd;if(ax===0){ao(aK)}}return bC}function bb(){var bz,by,bx;bz=aA;by=[];bx=ai();if(bx!==bd){while(bx!==bd){by.push(bx);bx=ai()}}else{by=aR}if(by!==bd){am=bz;by=au(by)}bz=by;return bz}function ai(){var bC,bB,bA,bz,by,bx;bC=aA;if(at.test(br.charAt(aA))){bB=br.charAt(aA);aA++}else{bB=bd;if(ax===0){ao(aq)}}if(bB!==bd){am=bC;bB=ap(bB)}bC=bB;if(bC===bd){bC=aA;if(br.substr(aA,2)===an){bB=an;aA+=2}else{bB=bd;if(ax===0){ao(al)}}if(bB!==bd){am=bC;bB=ak()}bC=bB;if(bC===bd){bC=aA;if(br.substr(aA,2)===ah){bB=ah;aA+=2}else{bB=bd;if(ax===0){ao(ag)}}if(bB!==bd){am=bC;bB=ad()}bC=bB;if(bC===bd){bC=aA;if(br.substr(aA,2)===ac){bB=ac;aA+=2}else{bB=bd;if(ax===0){ao(ab)}}if(bB!==bd){am=bC;bB=Z()}bC=bB;if(bC===bd){bC=aA;if(br.substr(aA,2)===Y){bB=Y;aA+=2}else{bB=bd;if(ax===0){ao(X)}}if(bB!==bd){am=bC;bB=W()}bC=bB;if(bC===bd){bC=aA;if(br.substr(aA,2)===V){bB=V;aA+=2}else{bB=bd;if(ax===0){ao(U)}}if(bB!==bd){bA=bj();if(bA!==bd){bz=bj();if(bz!==bd){by=bj();if(by!==bd){bx=bj();if(bx!==bd){am=bC;bB=T(bA,bz,by,bx);bC=bB}else{aA=bC;bC=aR}}else{aA=bC;bC=aR}}else{aA=bC;bC=aR}}else{aA=bC;bC=aR}}else{aA=bC;bC=aR}}}}}}return bC}function bl(){var bz,by,bx;bz=aA;by=[];if(Q.test(br.charAt(aA))){bx=br.charAt(aA);aA++}else{bx=bd;if(ax===0){ao(O)}}if(bx!==bd){while(bx!==bd){by.push(bx);if(Q.test(br.charAt(aA))){bx=br.charAt(aA);aA++}else{bx=bd;if(ax===0){ao(O)}}}}else{by=aR}if(by!==bd){am=bz;by=N(by)}bz=by;return bz}function bj(){var bx;if(M.test(br.charAt(aA))){bx=br.charAt(aA);aA++}else{bx=bd;if(ax===0){ao(L)}}return bx}function bh(){var bz,by,bx;ax++;bz=aA;by=[];bx=S();while(bx!==bd){by.push(bx);bx=S()}if(by!==bd){am=bz;by=I(by)}bz=by;ax--;if(bz===bd){by=bd;if(ax===0){ao(K)}}return bz}function S(){var bx;if(H.test(br.charAt(aA))){bx=br.charAt(aA);aA++}else{bx=bd;if(ax===0){ao(G)}}return bx}P=a2();if(P!==bd&&aA===br.length){return P}else{if(P!==bd&&aA<br.length){ao({type:"end",description:"end of input"})}throw a0(null,bp,ar)}}return{SyntaxError:w,parse:x}}()).parse;function v(w,y){if(/^[A-Z_$][0-9A-Z_$]*$/i.test(w)){return y?y+"."+w:w}else{var x=JSON.stringify(w);return y?y+"["+x+"]":x}}function u(w,y,x){this.lc=[w];this.runtime.pluralFuncs={};this.runtime.pluralFuncs[this.lc[0]]=y;this.runtime.fmt={};if(x){for(var z in x){this.runtime.fmt[z]=x[z]}}}u.plurals={};u.formatters={};u.prototype.runtime={number:function(w,x){if(isNaN(w)){throw new Error("'"+w+"' isn't a number.")}return w-(x||0)},plural:function(z,A,B,y,x){if({}.hasOwnProperty.call(y,z)){return y[z]()}if(A){z-=A}var w=B(z,x);if(w in y){return y[w]()}return y.other()},select:function(x,w){if({}.hasOwnProperty.call(w,x)){return w[x]()}return w.other()},pluralFuncs:{},fmt:{},toString:function(){var w=function(B,C){if(typeof B!="object"){var y=B.toString().replace(/^(function )\w*/,"$1");var x=/([ \t]*)\S.*$/.exec(y);return x?y.replace(new RegExp("^"+x[1],"mg"),""):y}var A=[];for(var z in B){if(z!="toString"){if(C==0){A.push("var "+z+" = "+w(B[z],C+1)+";\n")}else{A.push(v(z)+": "+w(B[z],C+1))}}}if(C==0){return A.join("")}if(A.length==0){return"{}"}var x="  ";while(--C){x+="  "}return"{\n"+A.join(",\n").replace(/^/gm,x)+"\n}"};return w(this,0)}};u.prototype._precompile=function(x,A){A=A||{keys:{},offset:{}};var w=[],B,C,D=[];switch(x.type){case"messageFormatPattern":for(B=0;B<x.statements.length;++B){w.push(this._precompile(x.statements[B],A))}C=w.join(" + ")||'""';return A.pf_count?C:"function(d) { return "+C+"; }";case"messageFormatElement":A.pf_count=A.pf_count||0;if(x.output){return v(x.argumentIndex,"d")}else{A.keys[A.pf_count]=x.argumentIndex;return this._precompile(x.elementFormat,A)}return"";case"elementFormat":D=[v(A.keys[A.pf_count],"d")];switch(x.key){case"select":D.push(this._precompile(x.val,A));return"select("+D.join(", ")+")";case"selectordinal":D=D.concat([0,v(this.lc[0],"pluralFuncs"),this._precompile(x.val,A),1]);return"plural("+D.join(", ")+")";case"plural":A.offset[A.pf_count||0]=x.val.offset||0;D=D.concat([A.offset[A.pf_count]||0,v(this.lc[0],"pluralFuncs"),this._precompile(x.val,A)]);return"plural("+D.join(", ")+")";default:if(this.withIntlSupport&&!(x.key in this.runtime.fmt)&&(x.key in u.formatters)){C=u.formatters[x.key];this.runtime.fmt[x.key]=(typeof C(this)=="function")?C(this):C}D.push(JSON.stringify(this.lc));if(x.val&&x.val.length){D.push(JSON.stringify(x.val.length==1?x.val[0]:x.val))}return"fmt."+x.key+"("+D.join(", ")+")"}case"pluralFormatPattern":case"selectFormatPattern":A.pf_count=A.pf_count||0;if(x.type=="selectFormatPattern"){A.offset[A.pf_count]=0}var z=true;for(B=0;B<x.pluralForms.length;++B){var E=x.pluralForms[B].key;if(E==="other"){z=false}var y=JSON.parse(JSON.stringify(A));y.pf_count++;w.push(v(E)+": function() { return "+this._precompile(x.pluralForms[B].val,y)+";}")}if(z){throw new Error("No 'other' form found in "+x.type+" "+A.pf_count)}return"{ "+w.join(", ")+" }";case"string":return JSON.stringify(x.val||"");case"octothorpe":if(!A.pf_count){return'"#"'}D=[v(A.keys[A.pf_count-1],"d")];if(A.offset[A.pf_count-1]){D.push(A.offset[A.pf_count-1])}return"number("+D.join(", ")+")";default:throw new Error("Bad AST type: "+x.type)}};u.prototype.compile=function(A,x){var w={},H=this.lc,C=function(K,M){try{var J=u._parse(M);return K._precompile(J)}catch(L){throw new Error((J?"Precompiler":"Parser")+" error: "+L.toString())}},B=function(M,O){if(!O){O=0}if(typeof M!="object"){return M}var N=[],J="";for(var L=0;L<O;++L){J+="  "}for(var K in M){N.push("\n"+J+"  "+v(K)+": "+B(M[K],O+1))}return"{"+N.join(",")+"\n"+J+"}"};if(typeof A=="string"){var D=new Function("number, plural, select, pluralFuncs, fmt","return "+C(this,A));return D(this.runtime.number,this.runtime.plural,this.runtime.select,this.runtime.pluralFuncs,this.runtime.fmt)}x=x||{};for(var F in A){if(x.locale){this.lc=x.locale[F]&&[].concat(x.locale[F])||H}if(typeof A[F]=="string"){try{w[F]=C(this,A[F])}catch(E){E.message=E.message.replace(":"," with `"+F+"`:");throw E}}else{w[F]={};for(var G in A[F]){try{w[F][G]=C(this,A[F][G])}catch(E){E.message=E.message.replace(":"," with `"+G+"` in `"+F+"`:");throw E}}}}this.lc=H;var I=this.runtime.toString()+"\n";switch(x.global||""){case"exports":var y=[];for(var z in w){y.push(v(z,"exports")+" = "+B(w[z]))}return new Function(I+y.join(";\n"));case"module.exports":return new Function(I+"module.exports = "+B(w));case"":return new Function(I+"return "+B(w));default:return new Function("G",I+v(x.global,"G")+" = "+B(w))}};return u}());var e=function(){return a("E_MISSING_PLURAL_MODULE","Plural module not loaded.")};var n=function(u){l("E_MISSING_MESSAGE_BUNDLE","Missing message bundle for locale `{locale}`.",u.attributes.bundle&&u.get("globalize-messages/{bundle}")!==undefined,{locale:u.locale})};var s=function(v,u){v=v.join("/");l("E_MISSING_MESSAGE","Missing required message content `{path}`.",u!==undefined,{path:v})};var o=function(v,u){v=v.join("/");l("E_INVALID_MESSAGE","Invalid message content `{path}`. {expected} expected.",typeof u==="string",{expected:"a string",path:v})};var f=function(v,u){i(v,u,v===undefined||k(v)||Array.isArray(v),"Array or Plain Object")};var j=function(v){return function u(w){if(typeof w==="number"||typeof w==="string"){w=[].slice.call(arguments,0)}f(w,"variables");return v(w)}};var r=function(x,v){var u=x.locale,w=v.toString;v.toString=function(){var y,B,z,A={};z=w.call(v);if(/number\(/.test(z)){A.number="messageFormat.number"}if(/plural\(/.test(z)){A.plural="messageFormat.plural"}if(/select\(/.test(z)){A.select="messageFormat.select"}z.replace(/pluralFuncs(\[([^\]]+)\]|\.([a-zA-Z]+))/,function(C){A.pluralFuncs='{"'+u+'": Globalize("'+u+'").pluralGenerator()}';return C});y=Object.keys(A).join(", ");B=Object.keys(A).map(function(C){return A[C]}).join(", ");return"(function( "+y+" ) {\n  return "+z+"\n})("+B+")"};return v};var m=[].slice;q.loadMessages=function(v){var u,w={"globalize-messages":v,main:{}};c(v,"json");d(v,"json");for(u in v){if(v.hasOwnProperty(u)){w.main[u]={}}}g.load(w)};q.messageFormatter=q.prototype.messageFormatter=function(A){var y,x,z,v,u,w=m.call(arguments,0);c(A,"path");i(A,"path",typeof A==="string"||Array.isArray(A),"a String nor an Array");A=t(A);y=this.cldr;p(y);n(y);z=y.get(["globalize-messages/{bundle}"].concat(A));s(A,z);if(Array.isArray(z)){z=z.join(" ")}o(A,z);v=this.plural!==undefined?this.pluralGenerator():e;x=new h(y.locale,v).compile(z);u=j(x);b(w,y,u,[r(y,x),v]);return u};q.formatMessage=q.prototype.formatMessage=function(u){return this.messageFormatter(u).apply({},m.call(arguments,1))};return q}));