/*!
 * Globalize v1.1.0-rc.4 2015-10-20T16:52Z Released under the MIT license
 * http://git.io/TrdQbw
 */
(function(a,b){if(typeof define==="function"&&define.amd){define(["cldr","../globalize","./number","cldr/event","cldr/supplemental"],b)}else{if(typeof exports==="object"){module.exports=b(require("cldrjs"),require("globalize"))}else{b(a.Cldr,a.Globalize)}}}(this,function(f,o){var j=o._createError,c=o._createErrorUnsupportedFeature,n=o._formatMessage,C=o._numberSymbol,x=o._regexpEscape,N=o._runtimeBind,G=o._stringPad,z=o._validateCldr,r=o._validateDefaultLocale,K=o._validateParameterPresence,L=o._validateParameterType,A=o._validateParameterTypePlainObject,b=o._validateParameterTypeString;var a=function(R,Q){L(R,Q,R===undefined||R instanceof Date,"Date")};var l=function(Q,R){return j("E_INVALID_PAR_VALUE","Invalid `{name}` value ({value}).",{name:Q,value:R})};var v=function(T,V){var S,R,X,Q,U;function W(aa,Z,Y){return n(V.main(["dates/calendars/gregorian/dateTimeFormats",aa]),[Y,Z])}switch(true){case"skeleton" in T:X=T.skeleton;R=V.main(["dates/calendars/gregorian/dateTimeFormats/availableFormats",X]);if(!R){Q=X.split(/[^hHKkmsSAzZOvVXx]/).slice(-1)[0];S=X.split(/[^GyYuUrQqMLlwWdDFgEec]/)[0];if(/(MMMM|LLLL).*[Ec]/.test(S)){U="full"}else{if(/MMMM/g.test(S)){U="long"}else{if(/MMM/g.test(S)||/LLL/g.test(S)){U="medium"}else{U="short"}}}R=W(U,V.main(["dates/calendars/gregorian/dateTimeFormats/availableFormats",S]),V.main(["dates/calendars/gregorian/dateTimeFormats/availableFormats",Q]))}break;case"date" in T:case"time" in T:R=V.main(["dates/calendars/gregorian","date" in T?"dateFormats":"timeFormats",(T.date||T.time)]);break;case"datetime" in T:R=W(T.datetime,V.main(["dates/calendars/gregorian/dateFormats",T.datetime]),V.main(["dates/calendars/gregorian/timeFormats",T.datetime]));break;case"raw" in T:R=T.raw;break;default:throw l({name:"options",value:T})}return R};var B=function(R,Q){return(R.getDay()-Q+7)%7};var M=function(S,R){var Q=86400000;return(R.getTime()-S.getTime())/Q};var g=function(Q,R){Q=new Date(Q.getTime());switch(R){case"year":Q.setMonth(0);case"month":Q.setDate(1);case"day":Q.setHours(0);case"hour":Q.setMinutes(0);case"minute":Q.setSeconds(0);case"second":Q.setMilliseconds(0)}return Q};var D=function(Q){return Math.floor(M(g(Q,"year"),Q))};var O=function(Q){return Q-g(Q,"day")};var p=(/([a-z])\1*|'([^']|'')+'|''|./ig);var h=function(R,T,S,Q){var V,U=R.getTimezoneOffset();V=Math.abs(U);Q=Q||{1:function(W){return G(W,1)},2:function(W){return G(W,2)}};return T.split(";")[U>0?1:0].replace(":",S).replace(/HH?/,function(W){return Q[W.length](Math.floor(V/60))}).replace(/mm/,function(){return Q[2](V%60)})};var i=["sun","mon","tue","wed","thu","fri","sat"];var t=function(Q,S,R){var T=R.timeSeparator;return R.pattern.replace(p,function(X){var U,V=X.charAt(0),W=X.length;if(V==="j"){V=R.preferredTime}if(V==="Z"){if(W<4){V="x";W=4}else{if(W<5){V="O";W=4}else{V="X";W=5}}}switch(V){case"G":U=R.eras[Q.getFullYear()<0?0:1];break;case"y":U=Q.getFullYear();if(W===2){U=String(U);U=+U.substr(U.length-2)}break;case"Y":U=new Date(Q.getTime());U.setDate(U.getDate()+7-B(Q,R.firstDay)-R.firstDay-R.minDays);U=U.getFullYear();if(W===2){U=String(U);U=+U.substr(U.length-2)}break;case"Q":case"q":U=Math.ceil((Q.getMonth()+1)/3);if(W>2){U=R.quarters[V][W][U]}break;case"M":case"L":U=Q.getMonth()+1;if(W>2){U=R.months[V][W][U]}break;case"w":U=B(g(Q,"year"),R.firstDay);U=Math.ceil((D(Q)+U)/7)-(7-U>=R.minDays?0:1);break;case"W":U=B(g(Q,"month"),R.firstDay);U=Math.ceil((Q.getDate()+U)/7)-(7-U>=R.minDays?0:1);break;case"d":U=Q.getDate();break;case"D":U=D(Q)+1;break;case"F":U=Math.floor(Q.getDate()/7)+1;break;case"e":case"c":if(W<=2){U=B(Q,R.firstDay)+1;break}case"E":U=i[Q.getDay()];U=R.days[V][W][U];break;case"a":U=R.dayPeriods[Q.getHours()<12?"am":"pm"];break;case"h":U=(Q.getHours()%12)||12;break;case"H":U=Q.getHours();break;case"K":U=Q.getHours()%12;break;case"k":U=Q.getHours()||24;break;case"m":U=Q.getMinutes();break;case"s":U=Q.getSeconds();break;case"S":U=Math.round(Q.getMilliseconds()*Math.pow(10,W-3));break;case"A":U=Math.round(O(Q)*Math.pow(10,W-3));break;case"z":case"O":if(Q.getTimezoneOffset()===0){U=R.gmtZeroFormat}else{U=h(Q,W<4?"+H;-H":R.tzLongHourFormat,T,S);U=R.gmtFormat.replace(/\{0\}/,U)}break;case"X":if(Q.getTimezoneOffset()===0){U="Z";break}case"x":U=W===1?"+HH;-HH":(W%2?"+HH:mm;-HH:mm":"+HHmm;-HHmm");U=h(Q,U,":");break;case":":U=T;break;case"'":X=X.replace(/''/,"'");if(W>2){X=X.slice(1,-1)}U=X;break;default:U=X}if(typeof U==="number"){U=S[W](U)}return U})};var P=function(R,Q){return function S(T){K(T,"value");a(T,"value");return t(T,R,Q)}};var w=function(Q){return i.indexOf(Q.supplemental.weekData.firstDay())};var k=function(U,S){var Q={pattern:U,timeSeparator:C("timeSeparator",S)},T=["abbreviated","wide","narrow"];function R(V){if(!Q.numberFormatters){Q.numberFormatters={}}Q.numberFormatters[V]=G("",V)}U.replace(p,function(Y){var V,W=Y.charAt(0),X=Y.length;if(W==="j"){Q.preferredTime=W=S.supplemental.timeData.preferred()}if(W==="Z"&&X===4){W="O";X=4}switch(W){case"G":Q.eras=S.main(["dates/calendars/gregorian/eras",X<=3?"eraAbbr":(X===4?"eraNames":"eraNarrow")]);break;case"y":V=true;break;case"Y":Q.firstDay=w(S);Q.minDays=S.supplemental.weekData.minDays();V=true;break;case"u":case"U":throw c({feature:"year pattern `"+W+"`"});case"Q":case"q":if(X>2){if(!Q.quarters){Q.quarters={}}if(!Q.quarters[W]){Q.quarters[W]={}}Q.quarters[W][X]=S.main(["dates/calendars/gregorian/quarters",W==="Q"?"format":"stand-alone",T[X-3]])}else{V=true}break;case"M":case"L":if(X>2){if(!Q.months){Q.months={}}if(!Q.months[W]){Q.months[W]={}}Q.months[W][X]=S.main(["dates/calendars/gregorian/months",W==="M"?"format":"stand-alone",T[X-3]])}else{V=true}break;case"w":case"W":Q.firstDay=w(S);Q.minDays=S.supplemental.weekData.minDays();V=true;break;case"d":case"D":case"F":V=true;break;case"g":throw c({feature:"Julian day pattern `g`"});case"e":case"c":if(X<=2){Q.firstDay=w(S);V=true;break}case"E":if(!Q.days){Q.days={}}if(!Q.days[W]){Q.days[W]={}}if(X===6){Q.days[W][X]=S.main(["dates/calendars/gregorian/days",W==="c"?"stand-alone":"format","short"])||S.main(["dates/calendars/gregorian/days",W==="c"?"stand-alone":"format","abbreviated"])}else{Q.days[W][X]=S.main(["dates/calendars/gregorian/days",W==="c"?"stand-alone":"format",T[X<3?0:X-3]])}break;case"a":Q.dayPeriods=S.main("dates/calendars/gregorian/dayPeriods/format/wide");break;case"h":case"H":case"K":case"k":case"m":case"s":case"S":case"A":V=true;break;case"z":case"O":Q.gmtFormat=S.main("dates/timeZoneNames/gmtFormat");Q.gmtZeroFormat=S.main("dates/timeZoneNames/gmtZeroFormat");Q.tzLongHourFormat=S.main("dates/timeZoneNames/hourFormat");case"Z":case"X":case"x":R(1);R(2);break;case"v":case"V":throw c({feature:"timezone pattern `"+W+"`"})}if(V){R(X)}});return Q};var m=function(Q){return new Date(Q,1,29).getMonth()===1};var e=function(Q){return new Date(Q.getFullYear(),Q.getMonth()+1,0).getDate()};var u=function(R,Q){var S=new Date(R.getFullYear(),R.getMonth()+1,0).getDate();R.setDate(Q<1?1:Q<S?Q:S)};var I=function(R,S){var Q=R.getDate();R.setDate(1);R.setMonth(S);u(R,Q)};var J=function(S,Q,R){return S<Q||S>R};var F=function(ad,Y,U){var ac,af,R,aa,S,T,W,ab,ag=0,X=1,aj=2,Z=3,Q=4,V=5,ai=6,ak=new Date(),ah=[],ae=["year","month","day","hour","minute","second","milliseconds"];if(!Y.length){return null}ab=Y.every(function(al){var ap,am,ao,an;if(al.type==="literal"){return true}am=al.type.charAt(0);an=al.type.length;if(am==="j"){am=U.preferredTimeData}switch(am){case"G":ah.push(ag);aa=+al.value;break;case"y":ao=al.value;if(an===2){if(J(ao,0,99)){return false}ap=Math.floor(ak.getFullYear()/100)*100;ao+=ap;if(ao>ak.getFullYear()+20){ao-=100}}ak.setFullYear(ao);ah.push(ag);break;case"Y":throw c({feature:"year pattern `"+am+"`"});case"Q":case"q":break;case"M":case"L":if(an<=2){ao=al.value}else{ao=+al.value}if(J(ao,1,12)){return false}I(ak,ao-1);ah.push(X);break;case"w":case"W":break;case"d":af=al.value;ah.push(aj);break;case"D":R=al.value;ah.push(aj);break;case"F":break;case"e":case"c":case"E":break;case"a":ac=al.value;break;case"h":ao=al.value;if(J(ao,1,12)){return false}S=T=true;ak.setHours(ao===12?0:ao);ah.push(Z);break;case"K":ao=al.value;if(J(ao,0,11)){return false}S=T=true;ak.setHours(ao);ah.push(Z);break;case"k":ao=al.value;if(J(ao,1,24)){return false}S=true;ak.setHours(ao===24?0:ao);ah.push(Z);break;case"H":ao=al.value;if(J(ao,0,23)){return false}S=true;ak.setHours(ao);ah.push(Z);break;case"m":ao=al.value;if(J(ao,0,59)){return false}ak.setMinutes(ao);ah.push(Q);break;case"s":ao=al.value;if(J(ao,0,59)){return false}ak.setSeconds(ao);ah.push(V);break;case"A":ak.setHours(0);ak.setMinutes(0);ak.setSeconds(0);case"S":ao=Math.round(al.value*Math.pow(10,3-an));ak.setMilliseconds(ao);ah.push(ai);break;case"Z":case"z":case"O":case"X":case"x":W=al.value-ak.getTimezoneOffset();break}return true});if(!ab){return null}if(S&&!(!ac^T)){return null}if(aa===0){ak.setFullYear(ak.getFullYear()*-1+1)}if(af!==undefined){if(J(af,1,e(ak))){return null}ak.setDate(af)}else{if(R!==undefined){if(J(R,1,m(ak.getFullYear())?366:365)){return null}ak.setMonth(0);ak.setDate(R)}}if(T&&ac==="pm"){ak.setHours(ak.getHours()+12)}if(W){ak.setMinutes(ak.getMinutes()+W)}ah=Math.max.apply(null,ah);ak=g(ak,ae[ah]);return ak};var q=/[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D66-\u0D75\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDD16-\uDD1B\uDE40-\uDE47\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDE60-\uDE7E]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9]|\uD806[\uDCE0-\uDCF2]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59\uDF5B-\uDF61]|\uD834[\uDF60-\uDF71]|\uD835[\uDFCE-\uDFFF]|\uD83A[\uDCC7-\uDCCF]|\uD83C[\uDD00-\uDD0C]/;var y=function(V,Q,R){var U,S=R.timeSeparator,W=[],T=["abbreviated","wide","narrow"];U=R.pattern.match(p).every(function(af){var ad,X,ai,ab,aa={};function ac(al,ak){var aj=V.match(al);ak=ak||function(am){return +am};if(!aj){return false}if(aj.length<8){aa.value=(aj[1]?-ak(aj[1]):ak(aj[4]))*60}else{aa.value=(aj[1]?-ak(aj[1]):ak(aj[7]))*60+(aj[1]?-ak(aj[4]):ak(aj[10]))}return true}function ae(am,aj,al){var ak;if(!aj){aj="{0}"}ak=am.replace("+","\\+").replace(/HH|mm/g,"(("+q.source+")("+q.source+"))").replace(/H|m/g,"(("+q.source+")("+q.source+")?)");if(al){ak=ak.replace(/:/g,al)}ak=ak.split(";").map(function(an){return aj.replace("{0}",an)}).join("|");return new RegExp(ak)}function ag(){if(X===1){ai=true;return ab=q}}function ah(){if(X===1){ai=true;return ab=new RegExp("("+q.source+")("+q.source+")?")}}function Z(){if(X===2){ai=true;return ab=new RegExp("("+q.source+")("+q.source+")")}}function Y(am){var aj,ak,al=R[am.join("/")];for(aj in al){ak=new RegExp("^"+al[aj]);if(ak.test(V)){aa.value=aj;return ab=new RegExp(al[aj])}}return null}aa.type=af;ad=af.charAt(0),X=af.length;if(ad==="Z"){if(X<4){ad="x";X=4}else{if(X<5){ad="O";X=4}else{ad="X";X=5}}}switch(ad){case"G":Y(["gregorian/eras",X<=3?"eraAbbr":(X===4?"eraNames":"eraNarrow")]);break;case"y":case"Y":ai=true;if(X===1){ab=new RegExp("("+q.source+")+")}else{if(X===2){ab=new RegExp("("+q.source+")("+q.source+")")}else{ab=new RegExp("("+q.source+"){"+X+",}")}}break;case"Q":case"q":ag()||Z()||Y(["gregorian/quarters",ad==="Q"?"format":"stand-alone",T[X-3]]);break;case"M":case"L":ah()||Z()||Y(["gregorian/months",ad==="M"?"format":"stand-alone",T[X-3]]);break;case"D":if(X<=3){ai=true;ab=new RegExp("("+q.source+"){"+X+",3}")}break;case"W":case"F":ag();break;case"e":case"c":if(X<=2){ag()||Z();break}case"E":if(X===6){Y(["gregorian/days",[ad==="c"?"stand-alone":"format"],"short"])||Y(["gregorian/days",[ad==="c"?"stand-alone":"format"],"abbreviated"])}else{Y(["gregorian/days",[ad==="c"?"stand-alone":"format"],T[X<3?0:X-3]])}break;case"a":Y(["gregorian/dayPeriods/format/wide"]);break;case"w":case"d":case"h":case"H":case"K":case"k":case"j":case"m":case"s":ah()||Z();break;case"S":ai=true;ab=new RegExp("("+q.source+"){"+X+"}");break;case"A":ai=true;ab=new RegExp("("+q.source+"){"+(X+5)+"}");break;case"z":case"O":if(V===R["timeZoneNames/gmtZeroFormat"]){aa.value=0;ab=new RegExp(R["timeZoneNames/gmtZeroFormat"])}else{ab=ae(X<4?"+H;-H":R["timeZoneNames/hourFormat"],R["timeZoneNames/gmtFormat"],S);if(!ac(ab,Q)){return null}}break;case"X":if(V==="Z"){aa.value=0;ab=/Z/;break}case"x":ab=ae(X===1?"+HH;-HH":(X%2?"+HH:mm;-HH:mm":"+HHmm;-HHmm"));if(!ac(ab)){return null}break;case"'":aa.type="literal";af=af.replace(/''/,"'");if(X>2){af=af.slice(1,-1)}ab=new RegExp(x(af));break;default:aa.type="literal";ab=/./}if(!ab){return false}V=V.replace(new RegExp("^"+ab.source),function(aj){aa.lexeme=aj;if(ai){aa.value=Q(aj)}return""});if(!aa.lexeme){return false}W.push(aa);return true});return U?W:[]};var s=function(S,T,Q){return function R(U){var V;K(U,"value");b(U,"value");V=y(U,S,Q);return F(U,V,T)||null}};var E=function(Q){return{preferredTimeData:Q.supplemental.timeData.preferred()}};var d=function(T,R){var Q={pattern:T,timeSeparator:C("timeSeparator",R)},S=["abbreviated","wide","narrow"];function U(W,V){Q[W.replace(/^.*\/dates\//,"").replace(/calendars\//,"")]=V}R.on("get",U);T.match(p).forEach(function(X){var V,W;V=X.charAt(0),W=X.length;if(V==="Z"&&W<5){V="O";W=4}switch(V){case"G":R.main(["dates/calendars/gregorian/eras",W<=3?"eraAbbr":(W===4?"eraNames":"eraNarrow")]);break;case"u":case"U":throw c({feature:"year pattern `"+V+"`"});case"Q":case"q":if(W>2){R.main(["dates/calendars/gregorian/quarters",V==="Q"?"format":"stand-alone",S[W-3]])}break;case"M":case"L":if(W>2){R.main(["dates/calendars/gregorian/months",V==="M"?"format":"stand-alone",S[W-3]])}break;case"g":throw c({feature:"Julian day pattern `g`"});case"e":case"c":if(W<=2){break}case"E":if(W===6){R.main(["dates/calendars/gregorian/days",[V==="c"?"stand-alone":"format"],"short"])||R.main(["dates/calendars/gregorian/days",[V==="c"?"stand-alone":"format"],"abbreviated"])}else{R.main(["dates/calendars/gregorian/days",[V==="c"?"stand-alone":"format"],S[W<3?0:W-3]])}break;case"a":R.main(["dates/calendars/gregorian/dayPeriods/format/wide"]);break;case"z":case"O":R.main("dates/timeZoneNames/gmtFormat");R.main("dates/timeZoneNames/gmtZeroFormat");R.main("dates/timeZoneNames/hourFormat");break;case"v":case"V":throw c({feature:"timezone pattern `"+V+"`"})}});R.off("get",U);return Q};function H(R,Q){z(R,Q,{skip:[/dates\/calendars\/gregorian\/dateTimeFormats\/availableFormats/,/dates\/calendars\/gregorian\/days\/.*\/short/,/supplemental\/timeData\/(?!001)/,/supplemental\/weekData\/(?!001)/]})}o.dateFormatter=o.prototype.dateFormatter=function(S){var R,V,U,X,W,T,Q;A(S,"options");V=this.cldr;S=S||{skeleton:"yMd"};R=[S];r(V);V.on("get",H);W=v(S,V);T=k(W,V);V.off("get",H);U=T.numberFormatters;delete T.numberFormatters;for(X in U){U[X]=this.numberFormatter({raw:U[X]})}Q=P(U,T);N(R,V,Q,[U,T]);return Q};o.dateParser=o.prototype.dateParser=function(U){var T,V,S,X,W,R,Q;A(U,"options");V=this.cldr;U=U||{skeleton:"yMd"};T=[U];r(V);V.on("get",H);W=v(U,V);R=d(W,V);X=E(V);V.off("get",H);S=this.numberParser({raw:"0"});Q=s(S,X,R);N(T,V,Q,[S,X,R]);return Q};o.formatDate=o.prototype.formatDate=function(R,Q){K(R,"value");a(R,"value");return this.dateFormatter(Q)(R)};o.parseDate=o.prototype.parseDate=function(R,Q){K(R,"value");b(R,"value");return this.dateParser(Q)(R)};return o}));