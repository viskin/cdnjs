/*!
 * Globalize v1.1.0-rc.4 2015-10-20T16:52Z Released under the MIT license
 * http://git.io/TrdQbw
 */
(function(a,b){if(typeof define==="function"&&define.amd){define(["cldr","../globalize","cldr/event","cldr/supplemental"],b)}else{if(typeof exports==="object"){module.exports=b(require("cldrjs"),require("globalize"))}else{b(a.Cldr,a.Globalize)}}}(this,function(j,n){var l=n._createError,o=n._objectExtend,x=n._regexpEscape,J=n._runtimeBind,E=n._stringPad,y=n._validateCldr,p=n._validateDefaultLocale,F=n._validateParameterPresence,a=n._validateParameterRange,G=n._validateParameterType,A=n._validateParameterTypePlainObject;var e=function(N){return l("E_UNSUPPORTED","Unsupported {feature}.",{feature:N})};var H=function(O,N){G(O,N,O===undefined||typeof O==="number","Number")};var d=function(O,N){G(O,N,O===undefined||typeof O==="string","a string")};var h=function(R,N,U){var Q,T=N,P="",O=",",S=U?true:false;R=String(R).split(".");Q=R[0].length;while(Q>T){P=R[0].slice(Q-T,Q)+(P.length?O:"")+P;Q-=T;if(S){T=U;S=false}}R[0]=R[0].slice(0,Q)+(P.length?O:"")+P;return R.join(".")};var r=function(R,Q,O,S,N,P){if(S){if(P){R=N(R,P)}else{R=N(R,{exponent:-S})}if(O){R=String(R).split(".");R[1]=E(R[1]||"",O,true);R=R.join(".")}}else{R=N(R)}R=String(R);if(Q){R=R.split(".");R[0]=E(R[0],Q);R=R.join(".")}return R};var u=function(Q,N,O){var P;Q=Q.toPrecision(N+2);P=Math.ceil(Math.log(Math.abs(Q))/Math.log(10));P-=N;return O(Q,{exponent:P})};var D=function(Q,S,R,N){var O,P;if(S>R){R=S}O=u(Q,S,N);P=u(Q,R,N);Q=+O===+P?O:P;Q=(+Q).toString(10);if((/e/).test(Q)){throw e({feature:"integers out of (1e21, 1e-7)"})}if(S-Q.replace(/^0+|\./g,"").length>0){Q=Q.split(".");Q[1]=E(Q[1]||"",S-Q[0].replace(/^0+/,"").length,true);Q=Q.join(".")}return Q};var M=function(N,R){var X,ac,O,W,ae,S,af,aa,V,Z,Y,ab,ag,ad,U,Q,P,T;V=R[1];ae=R[2];W=R[3];ac=R[4];S=R[5];O=R[6];U=R[7];Y=R[8];Q=R[9];ad=R[15];X=R[16];af=R[17];T=R[18];aa=R[19];if(isNaN(N)){return af}if(N<0){ab=R[12];Z=R[13];P=R[14]}else{ab=R[11];Z=R[0];P=R[10]}if(!isFinite(N)){return Z+X+P}ag=Z;if(ab.indexOf("%")!==-1){N*=100}else{if(ab.indexOf("\u2030")!==-1){N*=1000}}if(!isNaN(S*O)){N=D(N,S,O,ad)}else{N=r(N,ae,W,ac,ad,U)}N=N.replace(/^-/,"");if(Y){N=h(N,Y,Q)}ag+=N;ag+=P;return ag.replace(/('([^']|'')+'|'')|./g,function(ai,ah){if(ah){ah=ah.replace(/''/,"'");if(ah.length>2){ah=ah.slice(1,-1)}return ah}ai=ai.replace(/[.,\-+E%\u2030]/,function(aj){return T[aj]});if(aa){ai=ai.replace(/[0-9]/,function(aj){return aa[+aj]})}return ai})};var I=function(N){return function O(P){F(P,"value");H(P,"value");return M(P,N)}};var v=function(O){var N=O.attributes["u-nu"];if(N){if(N==="traditio"){N="traditional"}if(["native","traditional","finance"].indexOf(N)!==-1){return O.main(["numbers/otherNumberingSystems",N])}return N}return O.main("numbers/defaultNumberingSystem")};var t=function(P){var N,O=v(P);if(O==="latn"){return}N=P.supplemental(["numberingSystems",O]);if(N._type!=="numeric"){throw e("`"+N._type+"` numbering system")}return N._digits};var b=(/^(('[^']+'|''|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/);var k=function(ab){var af,ae,Z,O,V,ac,N,X,ad,S,U,aa,Y,T,W,Q,R,P;ab=ab.match(b);if(!ab){throw new Error("Invalid pattern: "+ab)}aa=ab[1];U=ab[3];O=ab[4];R=ab[8];W=ab[9];P=ab[10];if(R){R.replace(/(@+)(#*)/,function(ah,ag,ai){S=ag.length;N=S+ai.length})}else{Z=ab[7];V=ab[6];if(Z){Z.replace(/[0-9]+/,function(ag){X=ag});if(X){T=+("0."+X);X=X.length}else{X=0}ac=Z.length-1}V.replace(/0+$/,function(ag){ad=ag.length})}if(W){throw e({feature:"scientific notation (not implemented)"})}if(U){throw e({feature:"padding (not implemented)"})}if((af=O.lastIndexOf(","))!==-1){ae=O.split(".")[0];Y=ae.length-af-1;if((ae=O.lastIndexOf(",",af-1))!==-1){Q=af-1-ae}}return[aa,U,ad,X,ac,S,N,T,Y,Q,P]};var C=function(N,O){return O.main(["numbers/symbols-numberSystem-"+v(O),N])};var f={".":"decimal",",":"group","%":"percentSign","+":"plusSign","-":"minusSign",E:"exponential","\u2030":"perMille"};var s=function(O){var P,N={};for(P in f){N[P]=C(f[P],O)}return N};var L=function(N){if(isNaN(N)){return NaN}return Math[N<0?"ceil":"floor"](N)};var i=function(N){N=N||"round";N=N==="truncate"?L:Math[N];return function(P,R){var Q,O;P=+P;if(isNaN(P)){return NaN}if(typeof R==="object"&&R.exponent){Q=+R.exponent;O=1;if(Q===0){return N(P)}if(!(typeof Q==="number"&&Q%1===0)){return NaN}}else{O=+R||1;if(O===1){return N(P)}if(isNaN(O)){return NaN}O=O.toExponential().split("e");Q=+O[1];O=+O[0]}P=P.toString().split("e");P[0]=+P[0]/O;P[1]=P[1]?(+P[1]-Q):-Q;P=N(+(P[0]+"e"+P[1]));P=P.toString().split("e");P[0]=+P[0]*O;P[1]=P[1]?(+P[1]+Q):Q;return +(P[0]+"e"+P[1])}};var c=function(R,W,X){var O,N,U,T,V,P,Q;function S(Y,Z){if(Y in X){Q[Z]=X[Y]}}X=X||{};R=R.split(";");V=R[0];O=R[1]||"-"+V;U=k(O);N=U[0];T=U[10];P=i(X.round);P.generatorString=function(){return"numberRound("+(X.round?'"'+X.round+'"':"")+")"};Q=k(V).concat([V,N+V+T,N,T,P,C("infinity",W),C("nan",W),s(W),t(W)]);S("minimumIntegerDigits",2);S("minimumFractionDigits",3);S("maximumFractionDigits",4);S("minimumSignificantDigits",5);S("maximumSignificantDigits",6);if(X.useGrouping===false){Q[8]=null}if("minimumFractionDigits" in X&&!("maximumFractionDigits" in X)){Q[4]=Math.max(Q[3],Q[4])}else{if(!("minimumFractionDigits" in X)&&"maximumFractionDigits" in X){Q[3]=Math.min(Q[3],Q[4])}}return Q};var z=(/^([^0-9]*)(([0-9,]*[0-9]+)(\.[0-9]+)?)(E[+-]?[0-9]+)?([^0-9]*)$/);var B=function(Y,V){var O,P,U,W,Q,S,N,X,R,T,Z;P=V[0];W=V[1];N=V[2];X=V[3];U=V[4];if(O=Y.match(P)){R=Infinity;T=Y.slice(0,O.length);Z=Y.slice(O.length+1)}else{S=new RegExp(Object.keys(W).map(function(aa){return x(aa)}).join("|"),"g");Y=Y.replace(S,function(aa){return W[aa]});if(U){Q=new RegExp(Object.keys(U).map(function(aa){return x(aa)}).join("|"),"g");Y=Y.replace(Q,function(aa){return U[aa]})}if(Y.charAt(0)==="."){Y="0"+Y}Y=Y.match(z);if(!Y){return NaN}T=Y[1];Z=Y[6];R=Y[2].replace(/,/g,"");if(Y[5]){R+=Y[5]}R=+R;if(isNaN(R)){return NaN}if(Y[0].indexOf("%")!==-1){R/=100;Z=Z.replace("%","")}else{if(Y[0].indexOf("\u2030")!==-1){R/=1000;Z=Z.replace("\u2030","")}}}if(T===N&&Z===X){R*=-1}return R};var q=function(O){return function N(P){F(P,"value");d(P,"value");return B(P,O)}};var m=function(O){var P,N={};for(P in f){N[C(f[P],O)]=P}return N};var w=function(S,P){var O,T,R,N,Q=t(P);S=S.split(";");R=S[1]||"-"+S[0];N=k(R);if(Q){O=Q.split("").reduce(function(U,W,V){U[W]=String(V);return U},{});T="0123456789".split("").reduce(function(U,V){U[V]="invalid";return U},{});O=o(T,O)}return[C("infinity",P),o({},f,m(P)),N[0],N[10].replace("%","").replace("\u2030",""),O]};var g=function(O,N){if(O!=="decimal"&&O!=="percent"){throw new Error("Invalid style")}return N.main(["numbers",O+"Formats-numberSystem-"+v(N),"standard"])};function K(O){var P=O[2],N=O[3],Q=O[4],S=O[5],R=O[6];if(!isNaN(S*R)){a(S,"minimumSignificantDigits",1,21);a(R,"maximumSignificantDigits",S,21)}else{if(!isNaN(S)||!isNaN(R)){throw new Error("Neither or both the minimum and maximum significant digits must be present")}else{a(P,"minimumIntegerDigits",1,21);a(N,"minimumFractionDigits",0,20);a(Q,"maximumFractionDigits",N,20)}}}n.numberFormatter=n.prototype.numberFormatter=function(P){var O,R,S,Q,N;A(P,"options");P=P||{};R=this.cldr;O=[P];p(R);R.on("get",y);if(P.raw){S=P.raw}else{S=g(P.style||"decimal",R)}Q=c(S,R,P);R.off("get",y);K(Q);N=I(Q);J(O,R,N,[Q]);return N};n.numberParser=n.prototype.numberParser=function(P){var O,R,S,Q,N;A(P,"options");P=P||{};R=this.cldr;O=[P];p(R);R.on("get",y);if(P.raw){S=P.raw}else{S=g(P.style||"decimal",R)}Q=w(S,R);R.off("get",y);N=q(Q);J(O,R,N,[Q]);return N};n.formatNumber=n.prototype.formatNumber=function(O,N){F(O,"value");H(O,"value");return this.numberFormatter(N)(O)};n.parseNumber=n.prototype.parseNumber=function(O,N){F(O,"value");d(O,"value");return this.numberParser(N)(O)};n._createErrorUnsupportedFeature=e;n._numberNumberingSystem=v;n._numberPattern=g;n._numberSymbol=C;n._stringPad=E;n._validateParameterTypeNumber=H;n._validateParameterTypeString=d;return n}));