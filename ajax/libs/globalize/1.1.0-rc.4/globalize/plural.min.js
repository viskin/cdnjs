/*!
 * Globalize v1.1.0-rc.4 2015-10-20T16:52Z Released under the MIT license
 * http://git.io/TrdQbw
 */
(function(a,b){if(typeof define==="function"&&define.amd){define(["cldr","../globalize","cldr/event","cldr/supplemental"],b)}else{if(typeof exports==="object"){module.exports=b(require("cldrjs"),require("globalize"))}else{b(a.Cldr,a.Globalize)}}}(this,function(d,a){var j=a._runtimeBind,h=a._validateCldr,f=a._validateDefaultLocale,g=a._validateParameterPresence,l=a._validateParameterType,e=a._validateParameterTypePlainObject;var c;c=(function(){var n=function(s){return Array.isArray(s)?s:Array.from(s)};var m=function(s){if(Array.isArray(s)){for(var u=0,t=Array(s.length);u<s.length;u++){t[u]=s[u]}return t}else{return Array.from(s)}};var q=function(s,t){if(!(s instanceof t)){throw new TypeError("Cannot call a class as a function")}};var p=(function(){function s(w,u){for(var t=0;t<u.length;t++){var v=u[t];v.enumerable=v.enumerable||false;v.configurable=true;if("value" in v){v.writable=true}Object.defineProperty(w,v.key,v)}}return function(v,t,u){if(t){s(v.prototype,t)}if(u){s(v,u)}return v}})();var r=(function(){function t(){q(this,t)}p(t,[{key:"parse",value:function s(u){var v=this;if(u==="i = 0 or n = 1"){return"n >= 0 && n <= 1"}if(u==="i = 0,1"){return"n >= 0 && n < 2"}if(u==="i = 1 and v = 0"){this.v0=1;return"n == 1 && v0"}return u.replace(/([tv]) (!?)= 0/g,function(w,x,y){var z=x+"0";v[z]=1;return y?"!"+z:z}).replace(/\b[fintv]\b/g,function(w){v[w]=1;return w}).replace(/([fin]) % (10+)/g,function(w,x,y){var z=x+y;v[z]=1;return z}).replace(/n10+ = 0/g,"t0 && $&").replace(/(\w+ (!?)= )([0-9.]+,[0-9.,]+)/g,function(y,A,z,w){if(y==="n = 0,1"){return"(n == 0 || n == 1)"}if(z){return A+w.split(",").join(" && "+A)}return"("+A+w.split(",").join(" || "+A)+")"}).replace(/(\w+) (!?)= ([0-9]+)\.\.([0-9]+)/g,function(w,x,A,z,y){if(Number(z)+1===Number(y)){if(A){return""+x+" != "+z+" && "+x+" != "+y}return"("+x+" == "+z+" || "+x+" == "+y+")"}if(A){return"("+x+" < "+z+" || "+x+" > "+y+")"}if(x==="n"){v.t0=1;return"(t0 && n >= "+z+" && n <= "+y+")"}return"("+x+" >= "+z+" && "+x+" <= "+y+")"}).replace(/ and /g," && ").replace(/ or /g," || ").replace(/ = /g," == ")}},{key:"vars",value:(function(u){function v(){return u.apply(this,arguments)}v.toString=function(){return u.toString()};return v})(function(){var w=[];if(this.i){w.push("i = s[0]")}if(this.f||this.v){w.push("f = s[1] || ''")}if(this.t){w.push("t = (s[1] || '').replace(/0+$/, '')")}if(this.v){w.push("v = f.length")}if(this.v0){w.push("v0 = !s[1]")}if(this.t0||this.n10||this.n100){w.push("t0 = Number(s[0]) == n")}for(var v in this){if(/^.10+$/.test(v)){var u=v[0]==="n"?"t0 && s[0]":v[0];w.push(""+v+" = "+u+".slice(-"+v.substr(2).length+")")}}if(!w.length){return""}return"var "+["s = String(n).split('.')"].concat(w).join(", ")})}]);return t})();var o=(function(){function s(x){var z=arguments[1]===undefined?s:arguments[1];var A=z.cardinals;var y=z.ordinals;q(this,s);if(!A&&!y){throw new Error("At least one type of plural is required")}this.lc=x;this.categories={cardinal:[],ordinal:[]};this.parser=new r();this.fn=this.buildFunction(A,y);this.fn._obj=this;this.fn.categories=this.categories;this.fn.toString=this.fnToString.bind(this);return this.fn}p(s,[{key:"compile",value:function w(B,E){var G=[];var F=s.rules[B][this.lc];if(!F){if(E){throw new Error('Locale "'+this.lc+'" '+B+" rules not found")}this.categories[B]=["other"];return"'other'"}for(var x in F){var z=F[x].trim().split(/\s*@\w*/);var A=n(z);var C=A[0];var y=A.slice(1);var D=x.replace("pluralRule-count-","");if(C){G.push([this.parser.parse(C),D])}}this.categories[B]=G.map(function(H){return H[1]}).concat("other");if(G.length===1){return"("+G[0][0]+") ? '"+G[0][1]+"' : 'other'"}else{return[].concat(m(G.map(function(H){return"("+H[0]+") ? '"+H[1]+"'"})),["'other'"]).join("\n      : ")}}},{key:"buildFunction",value:function t(y,x){var A=this;var F=function F(G){return G?(G[1]?"return ":"if (ord) return ")+A.compile.apply(A,m(G)):""},B={vars:function D(G){return("  "+G+";").replace(/(.{1,78})(,|$) ?/g,"$1$2\n      ")},cond:function E(G){return("  "+G+";").replace(/(.{1,78}) (\|\| |$) ?/gm,"$1\n          $2")}},E=[x&&["ordinal",!y],y&&["cardinal",true]].map(F).map(B.cond),z=[B.vars(this.parser.vars())].concat(m(E)).join("\n").replace(/\s+$/gm,"").replace(/^[\s;]*[\r\n]+/gm,""),C=x&&y?"n, ord":"n";return new Function(C,z)}},{key:"fnToString",value:function u(x){return Function.prototype.toString.call(this.fn).replace(/^function( \w+)?/,x?"function "+x:"function").replace("\n/**/","")}}],[{key:"load",value:function v(){for(var x=arguments.length,y=Array(x),z=0;z<x;z++){y[z]=arguments[z]}y.forEach(function(A){var B=A&&A.supplemental||null;if(!B){throw new Error("Data does not appear to be CLDR data")}s.rules={cardinal:B["plurals-type-cardinal"]||s.rules.cardinal,ordinal:B["plurals-type-ordinal"]||s.rules.ordinal}});return s}}]);return s})();o.cardinals=true;o.ordinals=false;o.rules={cardinal:{},ordinal:{}};return o}());var i=function(n,m){l(n,m,n===undefined||typeof n==="number","Number")};var b=function(n,m){l(n,m,n===undefined||n==="cardinal"||n==="ordinal",'String "cardinal" or "ordinal"')};var k=function(n){return function m(o){g(o,"value");i(o,"value");return n(o)}};a.plural=a.prototype.plural=function(n,m){g(n,"value");i(n,"value");return this.pluralGenerator(m)(n)};a.pluralGenerator=a.prototype.pluralGenerator=function(p){var o,s,q,n,m,r;e(p,"options");p=p||{};s=this.cldr;o=[p];r=p.type||"cardinal";b(p.type,"options.type");f(s);q=r==="ordinal";s.on("get",h);s.supplemental(["plurals-type-"+r,"{language}"]);s.off("get",h);c.rules={};c.rules[r]=s.supplemental("plurals-type-"+r);n=new c(s.attributes.language,{ordinals:q,cardinals:!q});m=k(n);j(o,s,m,[n]);return m};return a}));