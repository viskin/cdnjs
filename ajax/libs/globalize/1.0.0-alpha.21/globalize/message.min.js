/*!
 * Globalize v1.0.0-alpha.21 2015-04-23T02:27Z Released under the MIT license
 * http://git.io/TrdQbw
 */
(function(a,b){if(typeof define==="function"&&define.amd){define(["cldr","../globalize","cldr/event"],b)}else{if(typeof exports==="object"){module.exports=b(require("cldrjs"),require("globalize"))}else{b(a.Cldr,a.Globalize)}}}(this,function(d,a){var g=a._alwaysArray,o=a._isPlainObject,l=a._validate,h=a._validateDefaultLocale,i=a._validateParameterPresence,q=a._validateParameterType,e=a._validateParameterTypePlainObject;var n;n=(function(){r._parse=(function(){function v(y,w){function x(){this.constructor=y}x.prototype=w.prototype;y.prototype=new x()}function t(z,y,A,B,w,x){this.message=z;this.expected=y;this.found=A;this.offset=B;this.line=w;this.column=x;this.name="SyntaxError"}v(t,Error);function u(bo){var av=arguments.length>1?arguments[1]:{},ba={},G={start:z},aZ=z,aS=[],aQ=function(bu){return{type:"messageFormatPattern",statements:bu}},aO=ba,aM="{",aK={type:"literal",value:"{",description:'"{"'},aI=null,aG=",",aE={type:"literal",value:",",description:'","'},aC="}",aA={type:"literal",value:"}",description:'"}"'},w=function(bu,bw){var bv={type:"messageFormatElement",argumentIndex:bu};if(bw&&bw.length){bv.elementFormat=bw[1]}else{bv.output=true}return bv},bt="plural",bs={type:"literal",value:"plural",description:'"plural"'},br=function(bu,bv){return{type:"elementFormat",key:bu,val:bv}},bq="selectordinal",bp={type:"literal",value:"selectordinal",description:'"selectordinal"'},bn="select",bl={type:"literal",value:"select",description:'"select"'},bk=function(bu,bv){return{type:"elementFormat",key:bu,val:bv}},bj=function(bv,bu){return{type:"pluralFormatPattern",pluralForms:bu,offset:bv||0}},bc="offset",bb={type:"literal",value:"offset",description:'"offset"'},a9=":",a7={type:"literal",value:":",description:'":"'},a6=function(bu){return bu},a5=function(bu,bv){return{key:bu,val:bv}},a4=function(bu){return bu},a2="=",a1={type:"literal",value:"=",description:'"="'},a0=function(bu){return{type:"selectFormatPattern",pluralForms:bu}},aR=function(bu){return bu},aP="#",aN={type:"literal",value:"#",description:'"#"'},aL=function(){return{type:"octothorpe"}},aJ=function(bu){return{type:"string",val:bu.join("")}},aH={type:"other",description:"identifier"},aF=/^[0-9a-zA-Z$_]/,aD={type:"class",value:"[0-9a-zA-Z$_]",description:"[0-9a-zA-Z$_]"},aB=/^[^ \t\n\r,.+={}]/,ay={type:"class",value:"[^ \\t\\n\\r,.+={}]",description:"[^ \\t\\n\\r,.+={}]"},ar=function(bu){return bu},aq=function(bu){return bu.join("")},ap=/^[^{}#\\\0-\x1F \t\n\r]/,an={type:"class",value:"[^{}#\\\\\\0-\\x1F \\t\\n\\r]",description:"[^{}#\\\\\\0-\\x1F \\t\\n\\r]"},am=function(bu){return bu},ak="\\\\",ai={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},ah=function(){return"\\"},ae="\\#",ad={type:"literal",value:"\\#",description:'"\\\\#"'},aa=function(){return"#"},Z="\\{",Y={type:"literal",value:"\\{",description:'"\\\\{"'},W=function(){return"\u007B"},V="\\}",U={type:"literal",value:"\\}",description:'"\\\\}"'},T=function(){return"\u007D"},S="\\u",R={type:"literal",value:"\\u",description:'"\\\\u"'},Q=function(bx,bw,bv,bu){return String.fromCharCode(parseInt("0x"+bx+bw+bv+bu))},N=/^[0-9]/,L={type:"class",value:"[0-9]",description:"[0-9]"},K=function(bu){return parseInt((bu.join("")),10)},J=/^[0-9a-fA-F]/,I={type:"class",value:"[0-9a-fA-F]",description:"[0-9a-fA-F]"},H={type:"other",description:"whitespace"},F=function(bu){return bu.join("")},E=/^[ \t\n\r]/,D={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},ax=0,aj=0,a3=0,x={line:1,column:1,seenCR:false},ao=0,bm=[],au=0,M;if("startRule" in av){if(!(av.startRule in G)){throw new Error("Can't start parsing from rule \""+av.startRule+'".')}aZ=G[av.startRule]}function aY(){return bo.substring(aj,ax)}function C(){return aj}function B(){return aU(aj).line}function ab(){return aU(aj).column}function A(bu){throw aX(null,[{type:"other",description:bu}],aj)}function aT(bu){throw aX(bu,null,aj)}function aU(bv){function bu(by,bx,bw){var bA,bz;for(bA=bx;bA<bw;bA++){bz=bo.charAt(bA);if(bz==="\n"){if(!by.seenCR){by.line++}by.column=1;by.seenCR=false}else{if(bz==="\r"||bz==="\u2028"||bz==="\u2029"){by.line++;by.column=1;by.seenCR=true}else{by.column++;by.seenCR=false}}}}if(a3!==bv){if(a3>bv){a3=0;x={line:1,column:1,seenCR:false}}bu(x,a3,bv);a3=bv}return x}function al(bu){if(ax<ao){return}if(ax>ao){ao=ax;bm=[]}bm.push(bu)}function aX(bw,bv,bA){function bz(bC){var bB=1;bC.sort(function(bE,bD){if(bE.description<bD.description){return -1}else{if(bE.description>bD.description){return 1}else{return 0}}});while(bB<bC.length){if(bC[bB-1]===bC[bB]){bC.splice(bB,1)}else{bB++}}}function bu(bF,bG){function bB(bI){function bJ(bK){return bK.charCodeAt(0).toString(16).toUpperCase()}return bI.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(bK){return"\\x0"+bJ(bK)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(bK){return"\\x"+bJ(bK)}).replace(/[\u0180-\u0FFF]/g,function(bK){return"\\u0"+bJ(bK)}).replace(/[\u1080-\uFFFF]/g,function(bK){return"\\u"+bJ(bK)})}var bC=new Array(bF.length),bH,bD,bE;for(bE=0;bE<bF.length;bE++){bC[bE]=bF[bE].description}bH=bF.length>1?bC.slice(0,-1).join(", ")+" or "+bC[bF.length-1]:bC[0];bD=bG?'"'+bB(bG)+'"':"end of input";return"Expected "+bH+" but "+bD+" found."}var by=aU(bA),bx=bA<bo.length?bo.charAt(bA):null;if(bv!==null){bz(bv)}return new t(bw!==null?bw:bu(bv,bx),bv,bx,bA,by.line,by.column)}function z(){var bu;bu=aV();return bu}function aV(){var bw,bv,bu;bw=ax;bv=[];bu=aW();if(bu===ba){bu=ac();if(bu===ba){bu=ag()}}while(bu!==ba){bv.push(bu);bu=aW();if(bu===ba){bu=ac();if(bu===ba){bu=ag()}}}if(bv!==ba){aj=bw;bv=aQ(bv)}bw=bv;return bw}function aW(){var bz,by,bx,bw,bv,bu,bA;bz=ax;if(bo.charCodeAt(ax)===123){by=aM;ax++}else{by=ba;if(au===0){al(aK)}}if(by!==ba){bx=be();if(bx!==ba){bw=aw();if(bw!==ba){bv=ax;if(bo.charCodeAt(ax)===44){bu=aG;ax++}else{bu=ba;if(au===0){al(aE)}}if(bu!==ba){bA=O();if(bA!==ba){bu=[bu,bA];bv=bu}else{ax=bv;bv=aO}}else{ax=bv;bv=aO}if(bv===ba){bv=aI}if(bv!==ba){bu=be();if(bu!==ba){if(bo.charCodeAt(ax)===125){bA=aC;ax++}else{bA=ba;if(au===0){al(aA)}}if(bA!==ba){aj=bz;by=w(bw,bv);bz=by}else{ax=bz;bz=aO}}else{ax=bz;bz=aO}}else{ax=bz;bz=aO}}else{ax=bz;bz=aO}}else{ax=bz;bz=aO}}else{ax=bz;bz=aO}return bz}function O(){var bz,by,bx,bw,bv,bu,bB,bA;bz=ax;by=be();if(by!==ba){if(bo.substr(ax,6)===bt){bx=bt;ax+=6}else{bx=ba;if(au===0){al(bs)}}if(bx!==ba){bw=be();if(bw!==ba){if(bo.charCodeAt(ax)===44){bv=aG;ax++}else{bv=ba;if(au===0){al(aE)}}if(bv!==ba){bu=be();if(bu!==ba){bB=az();if(bB!==ba){bA=be();if(bA!==ba){aj=bz;by=br(bx,bB);bz=by}else{ax=bz;bz=aO}}else{ax=bz;bz=aO}}else{ax=bz;bz=aO}}else{ax=bz;bz=aO}}else{ax=bz;bz=aO}}else{ax=bz;bz=aO}}else{ax=bz;bz=aO}if(bz===ba){bz=ax;by=be();if(by!==ba){if(bo.substr(ax,13)===bq){bx=bq;ax+=13}else{bx=ba;if(au===0){al(bp)}}if(bx!==ba){bw=be();if(bw!==ba){if(bo.charCodeAt(ax)===44){bv=aG;ax++}else{bv=ba;if(au===0){al(aE)}}if(bv!==ba){bu=be();if(bu!==ba){bB=az();if(bB!==ba){bA=be();if(bA!==ba){aj=bz;by=br(bx,bB);bz=by}else{ax=bz;bz=aO}}else{ax=bz;bz=aO}}else{ax=bz;bz=aO}}else{ax=bz;bz=aO}}else{ax=bz;bz=aO}}else{ax=bz;bz=aO}}else{ax=bz;bz=aO}if(bz===ba){bz=ax;by=be();if(by!==ba){if(bo.substr(ax,6)===bn){bx=bn;ax+=6}else{bx=ba;if(au===0){al(bl)}}if(bx!==ba){bw=be();if(bw!==ba){if(bo.charCodeAt(ax)===44){bv=aG;ax++}else{bv=ba;if(au===0){al(aE)}}if(bv!==ba){bu=be();if(bu!==ba){bB=bd();if(bB!==ba){bA=be();if(bA!==ba){aj=bz;by=br(bx,bB);bz=by}else{ax=bz;bz=aO}}else{ax=bz;bz=aO}}else{ax=bz;bz=aO}}else{ax=bz;bz=aO}}else{ax=bz;bz=aO}}else{ax=bz;bz=aO}}else{ax=bz;bz=aO}if(bz===ba){bz=ax;by=be();if(by!==ba){bx=aw();if(bx!==ba){bw=[];bv=bf();while(bv!==ba){bw.push(bv);bv=bf()}if(bw!==ba){aj=bz;by=bk(bx,bw);bz=by}else{ax=bz;bz=aO}}else{ax=bz;bz=aO}}else{ax=bz;bz=aO}}}}return bz}function az(){var bx,bw,bv,bu;bx=ax;bw=at();if(bw===ba){bw=aI}if(bw!==ba){bv=[];bu=y();if(bu!==ba){while(bu!==ba){bv.push(bu);bu=y()}}else{bv=aO}if(bv!==ba){aj=bx;bw=bj(bw,bv);bx=bw}else{ax=bx;bx=aO}}else{ax=bx;bx=aO}return bx}function at(){var bz,by,bx,bw,bv,bu,bB,bA;bz=ax;by=be();if(by!==ba){if(bo.substr(ax,6)===bc){bx=bc;ax+=6}else{bx=ba;if(au===0){al(bb)}}if(bx!==ba){bw=be();if(bw!==ba){if(bo.charCodeAt(ax)===58){bv=a9;ax++}else{bv=ba;if(au===0){al(a7)}}if(bv!==ba){bu=be();if(bu!==ba){bB=bi();if(bB!==ba){bA=be();if(bA!==ba){aj=bz;by=a6(bB);bz=by}else{ax=bz;bz=aO}}else{ax=bz;bz=aO}}else{ax=bz;bz=aO}}else{ax=bz;bz=aO}}else{ax=bz;bz=aO}}else{ax=bz;bz=aO}}else{ax=bz;bz=aO}return bz}function y(){var bC,bB,bA,bz,by,bx,bw,bv,bu;bC=ax;bB=be();if(bB!==ba){bA=bh();if(bA!==ba){bz=be();if(bz!==ba){if(bo.charCodeAt(ax)===123){by=aM;ax++}else{by=ba;if(au===0){al(aK)}}if(by!==ba){bx=be();if(bx!==ba){bw=aV();if(bw!==ba){bv=be();if(bv!==ba){if(bo.charCodeAt(ax)===125){bu=aC;ax++}else{bu=ba;if(au===0){al(aA)}}if(bu!==ba){aj=bC;bB=a5(bA,bw);bC=bB}else{ax=bC;bC=aO}}else{ax=bC;bC=aO}}else{ax=bC;bC=aO}}else{ax=bC;bC=aO}}else{ax=bC;bC=aO}}else{ax=bC;bC=aO}}else{ax=bC;bC=aO}}else{ax=bC;bC=aO}return bC}function bh(){var bw,bv,bu;bw=ax;bv=aw();if(bv!==ba){aj=bw;bv=a4(bv)}bw=bv;if(bw===ba){bw=ax;if(bo.charCodeAt(ax)===61){bv=a2;ax++}else{bv=ba;if(au===0){al(a1)}}if(bv!==ba){bu=bi();if(bu!==ba){aj=bw;bv=a6(bu);bw=bv}else{ax=bw;bw=aO}}else{ax=bw;bw=aO}}return bw}function bd(){var bw,bv,bu;bw=ax;bv=[];bu=X();if(bu!==ba){while(bu!==ba){bv.push(bu);bu=X()}}else{bv=aO}if(bv!==ba){aj=bw;bv=a0(bv)}bw=bv;return bw}function X(){var bC,bB,bA,bz,by,bx,bw,bv,bu;bC=ax;bB=be();if(bB!==ba){bA=aw();if(bA!==ba){bz=be();if(bz!==ba){if(bo.charCodeAt(ax)===123){by=aM;ax++}else{by=ba;if(au===0){al(aK)}}if(by!==ba){bx=be();if(bx!==ba){bw=aV();if(bw!==ba){bv=be();if(bv!==ba){if(bo.charCodeAt(ax)===125){bu=aC;ax++}else{bu=ba;if(au===0){al(aA)}}if(bu!==ba){aj=bC;bB=a5(bA,bw);bC=bB}else{ax=bC;bC=aO}}else{ax=bC;bC=aO}}else{ax=bC;bC=aO}}else{ax=bC;bC=aO}}else{ax=bC;bC=aO}}else{ax=bC;bC=aO}}else{ax=bC;bC=aO}}else{ax=bC;bC=aO}return bC}function bf(){var bz,by,bx,bw,bv,bu;bz=ax;by=be();if(by!==ba){if(bo.charCodeAt(ax)===44){bx=aG;ax++}else{bx=ba;if(au===0){al(aE)}}if(bx!==ba){bw=be();if(bw!==ba){bv=aw();if(bv!==ba){bu=be();if(bu!==ba){aj=bz;by=aR(bv);bz=by}else{ax=bz;bz=aO}}else{ax=bz;bz=aO}}else{ax=bz;bz=aO}}else{ax=bz;bz=aO}}else{ax=bz;bz=aO}return bz}function ag(){var bv,bu;bv=ax;if(bo.charCodeAt(ax)===35){bu=aP;ax++}else{bu=ba;if(au===0){al(aN)}}if(bu!==ba){aj=bv;bu=aL()}bv=bu;return bv}function ac(){var bw,bv,bu;bw=ax;bv=[];bu=a8();if(bu===ba){bu=P()}if(bu!==ba){while(bu!==ba){bv.push(bu);bu=a8();if(bu===ba){bu=P()}}}else{bv=aO}if(bv!==ba){aj=bw;bv=aJ(bv)}bw=bv;return bw}function aw(){var bz,by,bx,bw,bv,bu,bA;au++;bz=ax;by=be();if(by!==ba){bx=ax;bw=ax;if(aF.test(bo.charAt(ax))){bv=bo.charAt(ax);ax++}else{bv=ba;if(au===0){al(aD)}}if(bv!==ba){bu=[];if(aB.test(bo.charAt(ax))){bA=bo.charAt(ax);ax++}else{bA=ba;if(au===0){al(ay)}}while(bA!==ba){bu.push(bA);if(aB.test(bo.charAt(ax))){bA=bo.charAt(ax);ax++}else{bA=ba;if(au===0){al(ay)}}}if(bu!==ba){bv=[bv,bu];bw=bv}else{ax=bw;bw=aO}}else{ax=bw;bw=aO}if(bw!==ba){bw=bo.substring(bx,ax)}bx=bw;if(bx!==ba){bw=be();if(bw!==ba){aj=bz;by=ar(bx);bz=by}else{ax=bz;bz=aO}}else{ax=bz;bz=aO}}else{ax=bz;bz=aO}au--;if(bz===ba){by=ba;if(au===0){al(aH)}}return bz}function a8(){var bw,bv,bu;bw=ax;bv=[];bu=af();if(bu!==ba){while(bu!==ba){bv.push(bu);bu=af()}}else{bv=aO}if(bv!==ba){aj=bw;bv=aq(bv)}bw=bv;return bw}function af(){var bz,by,bx,bw,bv,bu;bz=ax;if(ap.test(bo.charAt(ax))){by=bo.charAt(ax);ax++}else{by=ba;if(au===0){al(an)}}if(by!==ba){aj=bz;by=am(by)}bz=by;if(bz===ba){bz=ax;if(bo.substr(ax,2)===ak){by=ak;ax+=2}else{by=ba;if(au===0){al(ai)}}if(by!==ba){aj=bz;by=ah()}bz=by;if(bz===ba){bz=ax;if(bo.substr(ax,2)===ae){by=ae;ax+=2}else{by=ba;if(au===0){al(ad)}}if(by!==ba){aj=bz;by=aa()}bz=by;if(bz===ba){bz=ax;if(bo.substr(ax,2)===Z){by=Z;ax+=2}else{by=ba;if(au===0){al(Y)}}if(by!==ba){aj=bz;by=W()}bz=by;if(bz===ba){bz=ax;if(bo.substr(ax,2)===V){by=V;ax+=2}else{by=ba;if(au===0){al(U)}}if(by!==ba){aj=bz;by=T()}bz=by;if(bz===ba){bz=ax;if(bo.substr(ax,2)===S){by=S;ax+=2}else{by=ba;if(au===0){al(R)}}if(by!==ba){bx=bg();if(bx!==ba){bw=bg();if(bw!==ba){bv=bg();if(bv!==ba){bu=bg();if(bu!==ba){aj=bz;by=Q(bx,bw,bv,bu);bz=by}else{ax=bz;bz=aO}}else{ax=bz;bz=aO}}else{ax=bz;bz=aO}}else{ax=bz;bz=aO}}else{ax=bz;bz=aO}}}}}}return bz}function bi(){var bw,bv,bu;bw=ax;bv=[];if(N.test(bo.charAt(ax))){bu=bo.charAt(ax);ax++}else{bu=ba;if(au===0){al(L)}}if(bu!==ba){while(bu!==ba){bv.push(bu);if(N.test(bo.charAt(ax))){bu=bo.charAt(ax);ax++}else{bu=ba;if(au===0){al(L)}}}}else{bv=aO}if(bv!==ba){aj=bw;bv=K(bv)}bw=bv;return bw}function bg(){var bu;if(J.test(bo.charAt(ax))){bu=bo.charAt(ax);ax++}else{bu=ba;if(au===0){al(I)}}return bu}function be(){var bw,bv,bu;au++;bw=ax;bv=[];bu=P();while(bu!==ba){bv.push(bu);bu=P()}if(bv!==ba){aj=bw;bv=F(bv)}bw=bv;au--;if(bw===ba){bv=ba;if(au===0){al(H)}}return bw}function P(){var bu;if(E.test(bo.charAt(ax))){bu=bo.charAt(ax);ax++}else{bu=ba;if(au===0){al(D)}}return bu}M=aZ();if(M!==ba&&ax===bo.length){return M}else{if(M!==ba&&ax<bo.length){al({type:"end",description:"end of input"})}throw aX(null,bm,ao)}}return{SyntaxError:t,parse:u}})().parse;function s(t,v){if(/^[A-Z_$][0-9A-Z_$]*$/i.test(t)){return v?v+"."+t:t}else{var u=JSON.stringify(t);return v?v+"["+u+"]":u}}function r(t,v,u){this.lc=[t];this.runtime.pluralFuncs={};this.runtime.pluralFuncs[this.lc[0]]=v;this.runtime.fmt={};if(u){for(var w in u){this.runtime.fmt[w]=u[w]}}}r.plurals={};r.formatters={};r.prototype.runtime={number:function(t,u){if(isNaN(t)){throw new Error("'"+t+"' isn't a number.")}return t-(u||0)},plural:function(w,x,y,v,u){if({}.hasOwnProperty.call(v,w)){return v[w]()}if(x){w-=x}var t=y(w,u);if(t in v){return v[t]()}return v.other()},select:function(u,t){if({}.hasOwnProperty.call(t,u)){return t[u]()}return t.other()},pluralFuncs:{},fmt:{},toString:function(){var t=function(y,z){if(typeof y!="object"){var v=y.toString().replace(/^(function )\w*/,"$1");var u=/([ \t]*)\S.*$/.exec(v);return u?v.replace(new RegExp("^"+u[1],"mg"),""):v}var x=[];for(var w in y){if(w!="toString"){if(z==0){x.push("var "+w+" = "+t(y[w],z+1)+";\n")}else{x.push(s(w)+": "+t(y[w],z+1))}}}if(z==0){return x.join("")}if(x.length==0){return"{}"}var u="  ";while(--z){u+="  "}return"{\n"+x.join(",\n").replace(/^/gm,u)+"\n}"};return t(this,0)}};r.prototype._precompile=function(u,x){x=x||{keys:{},offset:{}};var t=[],y,z,A=[];switch(u.type){case"messageFormatPattern":for(y=0;y<u.statements.length;++y){t.push(this._precompile(u.statements[y],x))}z=t.join(" + ")||'""';return x.pf_count?z:"function(d) { return "+z+"; }";case"messageFormatElement":x.pf_count=x.pf_count||0;if(u.output){return s(u.argumentIndex,"d")}else{x.keys[x.pf_count]=u.argumentIndex;return this._precompile(u.elementFormat,x)}return"";case"elementFormat":A=[s(x.keys[x.pf_count],"d")];switch(u.key){case"select":A.push(this._precompile(u.val,x));return"select("+A.join(", ")+")";case"selectordinal":A=A.concat([0,s(this.lc[0],"pluralFuncs"),this._precompile(u.val,x),1]);return"plural("+A.join(", ")+")";case"plural":x.offset[x.pf_count||0]=u.val.offset||0;A=A.concat([x.offset[x.pf_count]||0,s(this.lc[0],"pluralFuncs"),this._precompile(u.val,x)]);return"plural("+A.join(", ")+")";default:if(this.withIntlSupport&&!(u.key in this.runtime.fmt)&&(u.key in r.formatters)){z=r.formatters[u.key];this.runtime.fmt[u.key]=(typeof z(this)=="function")?z(this):z}A.push(JSON.stringify(this.lc));if(u.val&&u.val.length){A.push(JSON.stringify(u.val.length==1?u.val[0]:u.val))}return"fmt."+u.key+"("+A.join(", ")+")"}case"pluralFormatPattern":case"selectFormatPattern":x.pf_count=x.pf_count||0;if(u.type=="selectFormatPattern"){x.offset[x.pf_count]=0}var w=true;for(y=0;y<u.pluralForms.length;++y){var B=u.pluralForms[y].key;if(B==="other"){w=false}var v=JSON.parse(JSON.stringify(x));v.pf_count++;t.push(s(B)+": function() { return "+this._precompile(u.pluralForms[y].val,v)+";}")}if(w){throw new Error("No 'other' form found in "+u.type+" "+x.pf_count)}return"{ "+t.join(", ")+" }";case"string":return JSON.stringify(u.val||"");case"octothorpe":if(!x.pf_count){return'"#"'}A=[s(x.keys[x.pf_count-1],"d")];if(x.offset[x.pf_count-1]){A.push(x.offset[x.pf_count-1])}return"number("+A.join(", ")+")";default:throw new Error("Bad AST type: "+u.type)}};r.prototype.compile=function(x,u){var t={},E=this.lc,z=function(H,J){try{var G=r._parse(J);return H._precompile(G)}catch(I){throw new Error((G?"Precompiler":"Parser")+" error: "+I.toString())}},y=function(J,L){if(!L){L=0}if(typeof J!="object"){return J}var K=[],G="";for(var I=0;I<L;++I){G+="  "}for(var H in J){K.push("\n"+G+"  "+s(H)+": "+y(J[H],L+1))}return"{"+K.join(",")+"\n"+G+"}"};if(typeof x=="string"){var A=new Function("number, plural, select, pluralFuncs, fmt","return "+z(this,x));return A(this.runtime.number,this.runtime.plural,this.runtime.select,this.runtime.pluralFuncs,this.runtime.fmt)}u=u||{};for(var C in x){if(u.locale){this.lc=u.locale[C]&&[].concat(u.locale[C])||E}if(typeof x[C]=="string"){try{t[C]=z(this,x[C])}catch(B){B.message=B.message.replace(":"," with `"+C+"`:");throw B}}else{t[C]={};for(var D in x[C]){try{t[C][D]=z(this,x[C][D])}catch(B){B.message=B.message.replace(":"," with `"+D+"` in `"+C+"`:");throw B}}}}this.lc=E;var F=this.runtime.toString()+"\n";switch(u.global||""){case"exports":var v=[];for(var w in t){v.push(s(w,"exports")+" = "+y(t[w]))}return new Function(F+v.join(";\n"));case"module.exports":return new Function(F+"module.exports = "+y(t));case"":return new Function(F+"return "+y(t));default:return new Function("G",F+s(u.global,"G")+" = "+y(t))}};return r}());var k=function(r){l("E_MISSING_MESSAGE_BUNDLE","Missing message bundle for locale `{locale}`.",r.attributes.bundle&&r.get("globalize-messages/{bundle}")!==undefined,{locale:r.locale})};var f=function(s,r){s=s.join("/");l("E_MISSING_MESSAGE","Missing required message content `{path}`.",r!==undefined,{path:s})};var p=function(s,r){s=s.join("/");l("E_INVALID_MESSAGE","Invalid message content `{path}`. {expected} expected.",typeof r==="string",{expected:"a string",path:s})};var c=function(s,r){q(s,r,s===undefined||o(s)||Array.isArray(s),"Array or Plain Object")};var j=function(){l("E_MISSING_PLURAL_MODULE","Plural module not loaded.",a.plural!==undefined,{})};var m=[].slice;function b(t,s){var r;return new n(s.locale,function(u){if(!r){j();r=t.pluralGenerator()}return r(u)})}a.loadMessages=function(s){var r,t={"globalize-messages":s,main:{}};i(s,"json");e(s,"json");for(r in s){if(s.hasOwnProperty(r)){t.main[r]={}}}d.load(t)};a.messageFormatter=a.prototype.messageFormatter=function(u){var s,r,t;i(u,"path");q(u,"path",typeof u==="string"||Array.isArray(u),"a String nor an Array");u=g(u);s=this.cldr;h(s);k(s);t=s.get(["globalize-messages/{bundle}"].concat(u));f(u,t);if(Array.isArray(t)){t=t.join(" ")}p(u,t);r=b(this,s).compile(t);return function(v){if(typeof v==="number"||typeof v==="string"){v=m.call(arguments,0)}c(v,"variables");return r(v)}};a.formatMessage=a.prototype.formatMessage=function(r){return this.messageFormatter(r).apply({},m.call(arguments,1))};return a}));