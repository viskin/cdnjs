/*!
 * Globalize v1.0.0-alpha.21 2015-04-23T02:27Z Released under the MIT license
 * http://git.io/TrdQbw
 */
(function(a,b){if(typeof define==="function"&&define.amd){define(["cldr","../globalize","cldr/event","cldr/supplemental"],b)}else{if(typeof exports==="object"){module.exports=b(require("cldrjs"),require("globalize"))}else{b(a.Cldr,a.Globalize)}}}(this,function(o,D){var f=D._createError,g=D._objectExtend,c=D._regexpEscape,x=D._stringPad,i=D._validateCldr,C=D._validateDefaultLocale,h=D._validateParameterPresence,m=D._validateParameterRange,t=D._validateParameterType,j=D._validateParameterTypePlainObject;var v=function(J){return f("E_UNSUPPORTED","Unsupported {feature}.",{feature:J})};var A=function(K,J){t(K,J,K===undefined||typeof K==="number","Number")};var w=function(K,J){t(K,J,K===undefined||typeof K==="string","a string")};var l=function(N,J,Q){var M,P=J,L="",K=",",O=Q?true:false;N=String(N).split(".");M=N[0].length;while(M>P){L=N[0].slice(M-P,M)+(L.length?K:"")+L;M-=P;if(O){P=Q;O=false}}N[0]=N[0].slice(0,M)+(L.length?K:"")+L;return N.join(".")};var e=function(N,M,K,O,J,L){if(O){if(L){N=J(N,L)}else{N=J(N,{exponent:-O})}if(K){N=String(N).split(".");N[1]=x(N[1]||"",K,true);N=N.join(".")}}else{N=J(N)}N=String(N);if(M){N=N.split(".");N[0]=x(N[0],M);N=N.join(".")}return N};var r=function(M,J,K){var L;M=M.toPrecision(J+2);L=Math.ceil(Math.log(Math.abs(M))/Math.log(10));L-=J;return K(M,{exponent:L})};var H=function(M,O,N,J){var K,L;if(O>N){N=O}K=r(M,O,J);L=r(M,N,J);M=+K===+L?K:L;M=(+M).toString(10);if((/e/).test(M)){throw v({feature:"integers out of (1e21, 1e-7)"})}if(O-M.replace(/^0+|\./g,"").length>0){M=M.split(".");M[1]=x(M[1]||"",O-M[0].replace(/^0+/,"").length,true);M=M.join(".")}return M};var E=function(J,N){var T,Y,K,S,aa,O,ab,W,R,V,U,X,ac,Z,Q,M,L,P;R=N[1];aa=N[2];S=N[3];Y=N[4];O=N[5];K=N[6];Q=N[7];U=N[8];M=N[9];Z=N[15];T=N[16];ab=N[17];P=N[18];W=N[19];if(isNaN(J)){return ab}if(J<0){X=N[12];V=N[13];L=N[14]}else{X=N[11];V=N[0];L=N[10]}if(!isFinite(J)){return V+T+L}ac=V;if(X.indexOf("%")!==-1){J*=100}else{if(X.indexOf("\u2030")!==-1){J*=1000}}if(!isNaN(O*K)){J=H(J,O,K,Z)}else{J=e(J,aa,S,Y,Z,Q)}J=J.replace(/^-/,"");if(U){J=l(J,U,M)}ac+=J;ac+=L;return ac.replace(/('([^']|'')+'|'')|./g,function(ae,ad){if(ad){ad=ad.replace(/''/,"'");if(ad.length>2){ad=ad.slice(1,-1)}return ad}ae=ae.replace(/[.,\-+E%\u2030]/,function(af){return P[af]});if(W){ae=ae.replace(/[0-9]/,function(af){return W[+af]})}return ae})};var F=function(K){var J=K.attributes["u-nu"];if(J){if(J==="traditio"){J="traditional"}if(["native","traditional","finance"].indexOf(J)!==-1){return K.main(["numbers/otherNumberingSystems",J])}return J}return K.main("numbers/defaultNumberingSystem")};var a=function(L){var J,K=F(L);if(K==="latn"){return}J=L.supplemental(["numberingSystems",K]);if(J._type!=="numeric"){throw v("`"+J._type+"` numbering system")}return J._digits};var d=(/^(('[^']+'|''|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/);var q=function(X){var ab,aa,V,K,R,Y,J,T,Z,O,Q,W,U,P,S,M,N,L;X=X.match(d);if(!X){throw new Error("Invalid pattern: "+X)}W=X[1];Q=X[3];K=X[4];N=X[8];S=X[9];L=X[10];if(N){N.replace(/(@+)(#*)/,function(ad,ac,ae){O=ac.length;J=O+ae.length})}else{V=X[7];R=X[6];if(V){V.replace(/[0-9]+/,function(ac){T=ac});if(T){P=+("0."+T);T=T.length}else{T=0}Y=V.length-1}R.replace(/0+$/,function(ac){Z=ac.length})}if(S){throw v({feature:"scientific notation (not implemented)"})}if(Q){throw v({feature:"padding (not implemented)"})}if((ab=K.lastIndexOf(","))!==-1){aa=K.split(".")[0];U=aa.length-ab-1;if((aa=K.lastIndexOf(",",ab-1))!==-1){M=ab-1-aa}}return[W,Q,Z,T,Y,O,J,P,U,M,L]};var B=function(J,K){return K.main(["numbers/symbols-numberSystem-"+F(K),J])};var u={".":"decimal",",":"group","%":"percentSign","+":"plusSign","-":"minusSign",E:"exponential","\u2030":"perMille"};var b=function(K){var L,J={};for(L in u){J[L]=B(u[L],K)}return J};var n=function(J){if(isNaN(J)){return NaN}return Math[J<0?"ceil":"floor"](J)};var I=function(J){J=J||"round";J=J==="truncate"?n:Math[J];return function(L,N){var M,K;L=+L;if(isNaN(L)){return NaN}if(typeof N==="object"&&N.exponent){M=+N.exponent;K=1;if(M===0){return J(L)}if(!(typeof M==="number"&&M%1===0)){return NaN}}else{K=+N||1;if(K===1){return J(L)}if(isNaN(K)){return NaN}K=K.toExponential().split("e");M=+K[1];K=+K[0]}L=L.toString().split("e");L[0]=+L[0]/K;L[1]=L[1]?(+L[1]-M):-M;L=J(+(L[0]+"e"+L[1]));L=L.toString().split("e");L[0]=+L[0]*K;L[1]=L[1]?(+L[1]+M):M;return +(L[0]+"e"+L[1])}};var k=function(M,R,S){var K,J,P,O,Q,L;function N(T,U){if(T in S){L[U]=S[T]}}S=S||{};M=M.split(";");Q=M[0];K=M[1]||"-"+Q;P=q(K);J=P[0];O=P[10];L=q(Q).concat([Q,J+Q+O,J,O,I(S.round),B("infinity",R),B("nan",R),b(R),a(R)]);N("minimumIntegerDigits",2);N("minimumFractionDigits",3);N("maximumFractionDigits",4);N("minimumSignificantDigits",5);N("maximumSignificantDigits",6);if(S.useGrouping===false){L[8]=null}if("minimumFractionDigits" in S&&!("maximumFractionDigits" in S)){L[4]=Math.max(L[3],L[4])}else{if(!("minimumFractionDigits" in S)&&"maximumFractionDigits" in S){L[3]=Math.min(L[3],L[4])}}return L};var G=(/^([^0-9]*)(([0-9,]*[0-9]+)(\.[0-9]+)?)(E[+-]?[0-9]+)?([^0-9]*)$/);var z=function(U,R){var K,L,Q,S,M,O,J,T,N,P,V;L=R[0];S=R[1];J=R[2];T=R[3];Q=R[4];if(K=U.match(L)){N=Infinity;P=U.slice(0,K.length);V=U.slice(K.length+1)}else{O=new RegExp(Object.keys(S).map(function(W){return c(W)}).join("|"),"g");U=U.replace(O,function(W){return S[W]});if(Q){M=new RegExp(Object.keys(Q).map(function(W){return c(W)}).join("|"),"g");U=U.replace(M,function(W){return Q[W]})}U=U.match(G);if(!U){return NaN}P=U[1];V=U[6];N=U[2].replace(/,/g,"");if(U[5]){N+=U[5]}N=+N;if(isNaN(N)){return NaN}if(U[0].indexOf("%")!==-1){N/=100;V=V.replace("%","")}else{if(U[0].indexOf("\u2030")!==-1){N/=1000;V=V.replace("\u2030","")}}}if(P===J&&V===T){N*=-1}return N};var y=function(K){var L,J={};for(L in u){J[B(u[L],K)]=L}return J};var p=function(O,L){var K,P,N,J,M=a(L);O=O.split(";");N=O[1]||"-"+O[0];J=q(N);if(M){K=M.split("").reduce(function(Q,S,R){Q[S]=String(R);return Q},{});P="0123456789".split("").reduce(function(Q,R){Q[R]="invalid";return Q},{});K=g(P,K)}return[B("infinity",L),g({},u,y(L)),J[0],J[10].replace("%","").replace("\u2030",""),K]};var s=function(K,J){if(K!=="decimal"&&K!=="percent"){throw new Error("Invalid style")}return J.main(["numbers",K+"Formats-numberSystem-"+F(J),"standard"])};D.numberFormatter=D.prototype.numberFormatter=function(R){var Q,N,J,K,M,L,P,O;j(R,"options");R=R||{};Q=this.cldr;C(Q);Q.on("get",i);if(R.raw){P=R.raw}else{P=s(R.style||"decimal",Q)}O=k(P,Q,R);Q.off("get",i);M=O[2];K=O[3];N=O[4];L=O[5];J=O[6];if(!isNaN(L*J)){m(L,"minimumSignificantDigits",1,21);m(J,"maximumSignificantDigits",L,21)}else{if(!isNaN(L)||!isNaN(J)){throw new Error("Neither or both the minimum and maximum significant digits must be present")}else{m(M,"minimumIntegerDigits",1,21);m(K,"minimumFractionDigits",0,20);m(N,"maximumFractionDigits",K,20)}}return function(S){h(S,"value");A(S,"value");return E(S,O)}};D.numberParser=D.prototype.numberParser=function(J){var L,M,K;j(J,"options");J=J||{};L=this.cldr;C(L);L.on("get",i);if(J.raw){M=J.raw}else{M=s(J.style||"decimal",L)}K=p(M,L);L.off("get",i);return function(N){h(N,"value");w(N,"value");return z(N,K)}};D.formatNumber=D.prototype.formatNumber=function(K,J){h(K,"value");A(K,"value");return this.numberFormatter(J)(K)};D.parseNumber=D.prototype.parseNumber=function(K,J){h(K,"value");w(K,"value");return this.numberParser(J)(K)};D._createErrorUnsupportedFeature=v;D._numberNumberingSystem=F;D._numberPattern=s;D._numberSymbol=B;D._stringPad=x;D._validateParameterTypeNumber=A;D._validateParameterTypeString=w;return D}));