/*!
 * Globalize v1.0.0-alpha.21 2015-04-23T02:27Z Released under the MIT license
 * http://git.io/TrdQbw
 */
(function(a,b){if(typeof define==="function"&&define.amd){define(["cldr","../globalize","./number","./plural","cldr/event","cldr/supplemental"],b)}else{if(typeof exports==="object"){module.exports=b(require("cldrjs"),require("globalize"))}else{b(a.Cldr,a.Globalize)}}}(this,function(c,a){var b=a._formatMessage,g=a._validateCldr,e=a._validateDefaultLocale,f=a._validateParameterPresence,i=a._validateParameterTypeString,h=a._validateParameterTypeNumber;var j=function(o,p,k,m){var l,n=m["relative-type-"+o];if(n){return n}l=o<=0?m["relativeTime-type-past"]:m["relativeTime-type-future"];o=Math.abs(o);n=l["relativeTimePattern-count-"+k(o)];return b(n,[p(o)])};var d=function(r,p,m){var q=m.form,l,o,n,k;if(q){r=r+"-"+q}l=p.main(["dates","fields",r]);o={"relativeTime-type-future":l["relativeTime-type-future"],"relativeTime-type-past":l["relativeTime-type-past"]};for(n in l){if(l.hasOwnProperty(n)){k=/relative-type-(-?[0-9]+)/.exec(n);if(k){o[n]=l[n]}}}return o};a.formatRelativeTime=a.prototype.formatRelativeTime=function(m,l,k){f(m,"value");h(m,"value");return this.relativeTimeFormatter(l,k)(m)};a.relativeTimeFormatter=a.prototype.relativeTimeFormatter=function(o,l){var n,p,k,m;f(o,"unit");i(o,"unit");n=this.cldr;l=l||{};e(n);n.on("get",g);m=d(o,n,l);n.off("get",g);p=this.numberFormatter(l);k=this.pluralGenerator();return function(q){f(q,"value");h(q,"value");return j(q,p,k,m)}};return a}));