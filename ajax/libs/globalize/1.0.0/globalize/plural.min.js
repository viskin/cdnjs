/*!
 * Globalize v1.0.0 2015-04-23T12:02Z Released under the MIT license
 * http://git.io/TrdQbw
 */
(function(a,b){if(typeof define==="function"&&define.amd){define(["cldr","../globalize","cldr/event","cldr/supplemental"],b)}else{if(typeof exports==="object"){module.exports=b(require("cldrjs"),require("globalize"))}else{b(a.Cldr,a.Globalize)}}}(this,function(c,a){var h=a._validateCldr,f=a._validateDefaultLocale,g=a._validateParameterPresence,j=a._validateParameterType,e=a._validateParameterTypePlainObject;var d;d=(function(){var l=function(q){return Array.isArray(q)?q:Array.from(q)};var k=function(q){if(Array.isArray(q)){for(var s=0,r=Array(q.length);s<q.length;s++){r[s]=q[s]}return r}else{return Array.from(q)}};var o=function(q,r){if(!(q instanceof r)){throw new TypeError("Cannot call a class as a function")}};var n=(function(){function q(u,s){for(var r=0;r<s.length;r++){var t=s[r];t.enumerable=t.enumerable||false;t.configurable=true;if("value" in t){t.writable=true}Object.defineProperty(u,t.key,t)}}return function(t,r,s){if(r){q(t.prototype,r)}if(s){q(t,s)}return t}})();var p=(function(){function r(){o(this,r)}n(r,[{key:"parse",value:function q(s){var t=this;if(s==="i = 0 or n = 1"){return"n >= 0 && n <= 1"}if(s==="i = 0,1"){return"n >= 0 && n < 2"}if(s==="i = 1 and v = 0"){this.v0=1;return"n == 1 && v0"}return s.replace(/([tv]) (!?)= 0/g,function(u,v,w){var x=v+"0";t[x]=1;return w?"!"+x:x}).replace(/\b[fintv]\b/g,function(u){t[u]=1;return u}).replace(/([fin]) % (10+)/g,function(u,v,w){var x=v+w;t[x]=1;return x}).replace(/n10+ = 0/g,"t0 && $&").replace(/(\w+ (!?)= )([0-9.]+,[0-9.,]+)/g,function(v,y,w,u){if(v==="n = 0,1"){return"(n == 0 || n == 1)"}if(w){return y+u.split(",").join(" && "+y)}return"("+y+u.split(",").join(" || "+y)+")"}).replace(/(\w+) (!?)= ([0-9]+)\.\.([0-9]+)/g,function(u,v,y,x,w){if(Number(x)+1===Number(w)){if(y){return""+v+" != "+x+" && "+v+" != "+w}return"("+v+" == "+x+" || "+v+" == "+w+")"}if(y){return"("+v+" < "+x+" || "+v+" > "+w+")"}if(v==="n"){t.t0=1;return"(t0 && n >= "+x+" && n <= "+w+")"}return"("+v+" >= "+x+" && "+v+" <= "+w+")"}).replace(/ and /g," && ").replace(/ or /g," || ").replace(/ = /g," == ")}},{key:"vars",value:(function(s){function t(){return s.apply(this,arguments)}t.toString=function(){return s.toString()};return t})(function(){var u=[];if(this.i){u.push("i = s[0]")}if(this.f||this.v){u.push("f = s[1] || ''")}if(this.t){u.push("t = (s[1] || '').replace(/0+$/, '')")}if(this.v){u.push("v = f.length")}if(this.v0){u.push("v0 = !s[1]")}if(this.t0||this.n10||this.n100){u.push("t0 = Number(s[0]) == n")}for(var t in this){if(/^.10+$/.test(t)){var s=t[0]==="n"?"t0 && s[0]":t[0];u.push(""+t+" = "+s+".slice(-"+t.substr(2).length+")")}}if(!u.length){return""}return"var "+["s = String(n).split('.')"].concat(u).join(", ")})}]);return r})();var m=(function(){function q(v){var x=arguments[1]===undefined?q:arguments[1];var y=x.cardinals;var w=x.ordinals;o(this,q);if(!y&&!w){throw new Error("At least one type of plural is required")}this.lc=v;this.categories={cardinal:[],ordinal:[]};this.parser=new p();this.fn=this.buildFunction(y,w);this.fn._obj=this;this.fn.categories=this.categories;this.fn.toString=this.fnToString.bind(this);return this.fn}n(q,[{key:"compile",value:function u(z,C){var E=[];var D=q.rules[z][this.lc];if(!D){if(C){throw new Error('Locale "'+this.lc+'" '+z+" rules not found")}this.categories[z]=["other"];return"'other'"}for(var v in D){var x=D[v].trim().split(/\s*@\w*/);var y=l(x);var A=y[0];var w=y.slice(1);var B=v.replace("pluralRule-count-","");if(A){E.push([this.parser.parse(A),B])}}this.categories[z]=E.map(function(F){return F[1]}).concat("other");if(E.length===1){return"("+E[0][0]+") ? '"+E[0][1]+"' : 'other'"}else{return[].concat(k(E.map(function(F){return"("+F[0]+") ? '"+F[1]+"'"})),["'other'"]).join("\n      : ")}}},{key:"buildFunction",value:function r(w,v){var y=this;var D=function D(E){return E?(E[1]?"return ":"if (ord) return ")+y.compile.apply(y,k(E)):""},z={vars:function B(E){return("  "+E+";").replace(/(.{1,78})(,|$) ?/g,"$1$2\n      ")},cond:function C(E){return("  "+E+";").replace(/(.{1,78}) (\|\| |$) ?/gm,"$1\n          $2")}},C=[v&&["ordinal",!w],w&&["cardinal",true]].map(D).map(z.cond),x=[z.vars(this.parser.vars())].concat(k(C)).join("\n").replace(/\s+$/gm,"").replace(/^[\s;]*[\r\n]+/gm,""),A=v&&w?"n, ord":"n";return new Function(A,x)}},{key:"fnToString",value:function s(v){return Function.prototype.toString.call(this.fn).replace(/^function( \w+)?/,v?"function "+v:"function").replace("\n/**/","")}}],[{key:"load",value:function t(){for(var v=arguments.length,w=Array(v),x=0;x<v;x++){w[x]=arguments[x]}w.forEach(function(y){var z=y&&y.supplemental||null;if(!z){throw new Error("Data does not appear to be CLDR data")}q.rules={cardinal:z["plurals-type-cardinal"]||q.rules.cardinal,ordinal:z["plurals-type-ordinal"]||q.rules.ordinal}});return q}}]);return q})();m.cardinals=true;m.ordinals=false;m.rules={cardinal:{},ordinal:{}};return m}());var i=function(l,k){j(l,k,l===undefined||typeof l==="number","Number")};var b=function(l,k){j(l,k,l===undefined||l==="cardinal"||l==="ordinal",'String "cardinal" or "ordinal"')};a.plural=a.prototype.plural=function(l,k){g(l,"value");i(l,"value");return this.pluralGenerator(k)(l)};a.pluralGenerator=a.prototype.pluralGenerator=function(l){var o,m,k,n;e(l,"options");l=l||{};n=l.type||"cardinal";o=this.cldr;b(l.type,"options.type");f(o);m=n==="ordinal";o.on("get",h);o.supplemental(["plurals-type-"+n,"{language}"]);o.off("get",h);d.rules={};d.rules[n]=o.supplemental("plurals-type-"+n);k=new d(o.attributes.language,{ordinals:m,cardinals:!m});return function(p){g(p,"value");i(p,"value");return k(p)}};return a}));