/*!
 * Globalize Runtime v1.1.0-rc.5 2015-10-21T11:52Z Released under the MIT license
 * http://git.io/TrdQbw
 */
(function(a,b){if(typeof define==="function"&&define.amd){define(["../globalize-runtime","./number"],b)}else{if(typeof exports==="object"){module.exports=b(require("../globalize-runtime"),require("./number"))}else{b(a.Globalize)}}}(this,function(z){var t=z._createErrorUnsupportedFeature,c=z._regexpEscape,l=z._runtimeKey,v=z._stringPad,g=z._validateParameterPresence,s=z._validateParameterType,u=z._validateParameterTypeString;var h=function(D,C){s(D,C,D===undefined||D instanceof Date,"Date")};var i=function(D,C){return(D.getDay()-C+7)%7};var j=function(E,D){var C=86400000;return(D.getTime()-E.getTime())/C};var n=function(C,D){C=new Date(C.getTime());switch(D){case"year":C.setMonth(0);case"month":C.setDate(1);case"day":C.setHours(0);case"hour":C.setMinutes(0);case"minute":C.setSeconds(0);case"second":C.setMilliseconds(0)}return C};var a=function(C){return Math.floor(j(n(C,"year"),C))};var r=function(C){return C-n(C,"day")};var e=(/([a-z])\1*|'([^']|'')+'|''|./ig);var q=function(D,F,E,C){var H,G=D.getTimezoneOffset();H=Math.abs(G);C=C||{1:function(I){return v(I,1)},2:function(I){return v(I,2)}};return F.split(";")[G>0?1:0].replace(":",E).replace(/HH?/,function(I){return C[I.length](Math.floor(H/60))}).replace(/mm/,function(){return C[2](H%60)})};var m=["sun","mon","tue","wed","thu","fri","sat"];var w=function(C,E,D){var F=D.timeSeparator;return D.pattern.replace(e,function(J){var G,H=J.charAt(0),I=J.length;if(H==="j"){H=D.preferredTime}if(H==="Z"){if(I<4){H="x";I=4}else{if(I<5){H="O";I=4}else{H="X";I=5}}}switch(H){case"G":G=D.eras[C.getFullYear()<0?0:1];break;case"y":G=C.getFullYear();if(I===2){G=String(G);G=+G.substr(G.length-2)}break;case"Y":G=new Date(C.getTime());G.setDate(G.getDate()+7-i(C,D.firstDay)-D.firstDay-D.minDays);G=G.getFullYear();if(I===2){G=String(G);G=+G.substr(G.length-2)}break;case"Q":case"q":G=Math.ceil((C.getMonth()+1)/3);if(I>2){G=D.quarters[H][I][G]}break;case"M":case"L":G=C.getMonth()+1;if(I>2){G=D.months[H][I][G]}break;case"w":G=i(n(C,"year"),D.firstDay);G=Math.ceil((a(C)+G)/7)-(7-G>=D.minDays?0:1);break;case"W":G=i(n(C,"month"),D.firstDay);G=Math.ceil((C.getDate()+G)/7)-(7-G>=D.minDays?0:1);break;case"d":G=C.getDate();break;case"D":G=a(C)+1;break;case"F":G=Math.floor(C.getDate()/7)+1;break;case"e":case"c":if(I<=2){G=i(C,D.firstDay)+1;break}case"E":G=m[C.getDay()];G=D.days[H][I][G];break;case"a":G=D.dayPeriods[C.getHours()<12?"am":"pm"];break;case"h":G=(C.getHours()%12)||12;break;case"H":G=C.getHours();break;case"K":G=C.getHours()%12;break;case"k":G=C.getHours()||24;break;case"m":G=C.getMinutes();break;case"s":G=C.getSeconds();break;case"S":G=Math.round(C.getMilliseconds()*Math.pow(10,I-3));break;case"A":G=Math.round(r(C)*Math.pow(10,I-3));break;case"z":case"O":if(C.getTimezoneOffset()===0){G=D.gmtZeroFormat}else{G=q(C,I<4?"+H;-H":D.tzLongHourFormat,F,E);G=D.gmtFormat.replace(/\{0\}/,G)}break;case"X":if(C.getTimezoneOffset()===0){G="Z";break}case"x":G=I===1?"+HH;-HH":(I%2?"+HH:mm;-HH:mm":"+HHmm;-HHmm");G=q(C,G,":");break;case":":G=F;break;case"'":J=J.replace(/''/,"'");if(I>2){J=J.slice(1,-1)}G=J;break;default:G=J}if(typeof G==="number"){G=E[I](G)}return G})};var d=function(D,C){return function E(F){g(F,"value");h(F,"value");return w(F,D,C)}};var b=function(C){return new Date(C,1,29).getMonth()===1};var f=function(C){return new Date(C.getFullYear(),C.getMonth()+1,0).getDate()};var p=function(D,C){var E=new Date(D.getFullYear(),D.getMonth()+1,0).getDate();D.setDate(C<1?1:C<E?C:E)};var o=function(D,E){var C=D.getDate();D.setDate(1);D.setMonth(E);p(D,C)};var k=function(E,C,D){return E<C||E>D};var A=function(P,K,G){var O,R,D,M,E,F,I,N,S=0,J=1,V=2,L=3,C=4,H=5,U=6,W=new Date(),T=[],Q=["year","month","day","hour","minute","second","milliseconds"];if(!K.length){return null}N=K.every(function(X){var ab,Y,aa,Z;if(X.type==="literal"){return true}Y=X.type.charAt(0);Z=X.type.length;if(Y==="j"){Y=G.preferredTimeData}switch(Y){case"G":T.push(S);M=+X.value;break;case"y":aa=X.value;if(Z===2){if(k(aa,0,99)){return false}ab=Math.floor(W.getFullYear()/100)*100;aa+=ab;if(aa>W.getFullYear()+20){aa-=100}}W.setFullYear(aa);T.push(S);break;case"Y":throw t({feature:"year pattern `"+Y+"`"});case"Q":case"q":break;case"M":case"L":if(Z<=2){aa=X.value}else{aa=+X.value}if(k(aa,1,12)){return false}o(W,aa-1);T.push(J);break;case"w":case"W":break;case"d":R=X.value;T.push(V);break;case"D":D=X.value;T.push(V);break;case"F":break;case"e":case"c":case"E":break;case"a":O=X.value;break;case"h":aa=X.value;if(k(aa,1,12)){return false}E=F=true;W.setHours(aa===12?0:aa);T.push(L);break;case"K":aa=X.value;if(k(aa,0,11)){return false}E=F=true;W.setHours(aa);T.push(L);break;case"k":aa=X.value;if(k(aa,1,24)){return false}E=true;W.setHours(aa===24?0:aa);T.push(L);break;case"H":aa=X.value;if(k(aa,0,23)){return false}E=true;W.setHours(aa);T.push(L);break;case"m":aa=X.value;if(k(aa,0,59)){return false}W.setMinutes(aa);T.push(C);break;case"s":aa=X.value;if(k(aa,0,59)){return false}W.setSeconds(aa);T.push(H);break;case"A":W.setHours(0);W.setMinutes(0);W.setSeconds(0);case"S":aa=Math.round(X.value*Math.pow(10,3-Z));W.setMilliseconds(aa);T.push(U);break;case"Z":case"z":case"O":case"X":case"x":I=X.value-W.getTimezoneOffset();break}return true});if(!N){return null}if(E&&!(!O^F)){return null}if(M===0){W.setFullYear(W.getFullYear()*-1+1)}if(R!==undefined){if(k(R,1,f(W))){return null}W.setDate(R)}else{if(D!==undefined){if(k(D,1,b(W.getFullYear())?366:365)){return null}W.setMonth(0);W.setDate(D)}}if(F&&O==="pm"){W.setHours(W.getHours()+12)}if(I){W.setMinutes(W.getMinutes()+I)}T=Math.max.apply(null,T);W=n(W,Q[T]);return W};var B=/[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D66-\u0D75\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDD16-\uDD1B\uDE40-\uDE47\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDE60-\uDE7E]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9]|\uD806[\uDCE0-\uDCF2]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59\uDF5B-\uDF61]|\uD834[\uDF60-\uDF71]|\uD835[\uDFCE-\uDFFF]|\uD83A[\uDCC7-\uDCCF]|\uD83C[\uDD00-\uDD0C]/;var y=function(H,C,D){var G,E=D.timeSeparator,I=[],F=["abbreviated","wide","narrow"];G=D.pattern.match(e).every(function(R){var P,J,U,N,M={};function O(X,W){var V=H.match(X);W=W||function(Y){return +Y};if(!V){return false}if(V.length<8){M.value=(V[1]?-W(V[1]):W(V[4]))*60}else{M.value=(V[1]?-W(V[1]):W(V[7]))*60+(V[1]?-W(V[4]):W(V[10]))}return true}function Q(Y,V,X){var W;if(!V){V="{0}"}W=Y.replace("+","\\+").replace(/HH|mm/g,"(("+B.source+")("+B.source+"))").replace(/H|m/g,"(("+B.source+")("+B.source+")?)");if(X){W=W.replace(/:/g,X)}W=W.split(";").map(function(Z){return V.replace("{0}",Z)}).join("|");return new RegExp(W)}function S(){if(J===1){U=true;return N=B}}function T(){if(J===1){U=true;return N=new RegExp("("+B.source+")("+B.source+")?")}}function L(){if(J===2){U=true;return N=new RegExp("("+B.source+")("+B.source+")")}}function K(Y){var V,W,X=D[Y.join("/")];for(V in X){W=new RegExp("^"+X[V]);if(W.test(H)){M.value=V;return N=new RegExp(X[V])}}return null}M.type=R;P=R.charAt(0),J=R.length;if(P==="Z"){if(J<4){P="x";J=4}else{if(J<5){P="O";J=4}else{P="X";J=5}}}switch(P){case"G":K(["gregorian/eras",J<=3?"eraAbbr":(J===4?"eraNames":"eraNarrow")]);break;case"y":case"Y":U=true;if(J===1){N=new RegExp("("+B.source+")+")}else{if(J===2){N=new RegExp("("+B.source+")("+B.source+")")}else{N=new RegExp("("+B.source+"){"+J+",}")}}break;case"Q":case"q":S()||L()||K(["gregorian/quarters",P==="Q"?"format":"stand-alone",F[J-3]]);break;case"M":case"L":T()||L()||K(["gregorian/months",P==="M"?"format":"stand-alone",F[J-3]]);break;case"D":if(J<=3){U=true;N=new RegExp("("+B.source+"){"+J+",3}")}break;case"W":case"F":S();break;case"e":case"c":if(J<=2){S()||L();break}case"E":if(J===6){K(["gregorian/days",[P==="c"?"stand-alone":"format"],"short"])||K(["gregorian/days",[P==="c"?"stand-alone":"format"],"abbreviated"])}else{K(["gregorian/days",[P==="c"?"stand-alone":"format"],F[J<3?0:J-3]])}break;case"a":K(["gregorian/dayPeriods/format/wide"]);break;case"w":case"d":case"h":case"H":case"K":case"k":case"j":case"m":case"s":T()||L();break;case"S":U=true;N=new RegExp("("+B.source+"){"+J+"}");break;case"A":U=true;N=new RegExp("("+B.source+"){"+(J+5)+"}");break;case"z":case"O":if(H===D["timeZoneNames/gmtZeroFormat"]){M.value=0;N=new RegExp(D["timeZoneNames/gmtZeroFormat"])}else{N=Q(J<4?"+H;-H":D["timeZoneNames/hourFormat"],D["timeZoneNames/gmtFormat"],E);if(!O(N,C)){return null}}break;case"X":if(H==="Z"){M.value=0;N=/Z/;break}case"x":N=Q(J===1?"+HH;-HH":(J%2?"+HH:mm;-HH:mm":"+HHmm;-HHmm"));if(!O(N)){return null}break;case"'":M.type="literal";R=R.replace(/''/,"'");if(J>2){R=R.slice(1,-1)}N=new RegExp(c(R));break;default:M.type="literal";N=/./}if(!N){return false}H=H.replace(new RegExp("^"+N.source),function(V){M.lexeme=V;if(U){M.value=C(V)}return""});if(!M.lexeme){return false}I.push(M);return true});return G?I:[]};var x=function(E,F,C){return function D(G){var H;g(G,"value");u(G,"value");H=y(G,E,C);return A(G,H,F)||null}};z._dateFormatterFn=d;z._dateParserFn=x;z._dateFormat=w;z._dateParser=A;z._dateTokenizer=y;z._validateParameterTypeDate=h;z.dateFormatter=z.prototype.dateFormatter=function(C){C=C||{skeleton:"yMd"};return z[l("dateFormatter",this._locale,[C])]};z.dateParser=z.prototype.dateParser=function(C){C=C||{skeleton:"yMd"};return z[l("dateParser",this._locale,[C])]};z.formatDate=z.prototype.formatDate=function(D,C){g(D,"value");h(D,"value");return this.dateFormatter(C)(D)};z.parseDate=z.prototype.parseDate=function(D,C){g(D,"value");u(D,"value");return this.dateParser(C)(D)};return z}));