/*!
 * Globalize v1.0.0-alpha.20 2015-04-14T12:27Z Released under the MIT license
 * http://git.io/TrdQbw
 */
(function(a,b){if(typeof define==="function"&&define.amd){define(["cldr","../globalize","cldr/event"],b)}else{if(typeof exports==="object"){module.exports=b(require("cldrjs"),require("globalize"))}else{b(a.Cldr,a.Globalize)}}}(this,function(d,a){var g=a._alwaysArray,o=a._isPlainObject,l=a._validate,h=a._validateDefaultLocale,i=a._validateParameterPresence,q=a._validateParameterType,e=a._validateParameterTypePlainObject;var n;n=(function(){function r(u,x,w){if(!u){this.lc=["en"]}else{if(typeof u=="string"){this.lc=[];for(var v=u;v;v=v.replace(/[-_]?[^-_]*$/,"")){this.lc.push(v)}}else{this.lc=u}}this.runtime.pf={};this.runtime.pf[this.lc[0]]=x;this.runtime.fmt={};if(w){for(var y in w){this.runtime.fmt[y]=w[y]}}}if(!("plurals" in r)){r.plurals={}}r.formatters={number:function(u){return new Function("v,lc,p","return Intl.NumberFormat(lc,\n    p=='integer' ? {maximumFractionDigits:0}\n  : p=='percent' ? {style:'percent'}\n  : p=='currency' ? {style:'currency', currency:'"+(u.currency||"USD")+"', minimumFractionDigits:2, maximumFractionDigits:2}\n  : {}).format(v)")},date:function(u,w,x){var y={day:"numeric",month:"short",year:"numeric"};switch(x){case"full":y.weekday="long";case"long":y.month="long";break;case"short":y.month="numeric"}return(new Date(u)).toLocaleDateString(w,y)},time:function(u,w,x){var y={second:"numeric",minute:"numeric",hour:"numeric"};switch(x){case"full":case"long":y.timeZoneName="short";break;case"short":delete y.minute}return(new Date(u)).toLocaleTimeString(w,y)}};r.prototype.setIntlSupport=function(u){this.withIntlSupport=!!u||(typeof u=="undefined");return this};r.prototype.runtime={_n:function(u,w){if(isNaN(u)){throw new Error("'"+u+"' isn't a number.")}return u-(w||0)},_p:function(w,z,u,y,x){return w in y?y[w]:(w=u(w-z,x),w in y?y[w]:y.other)},_s:function(u,w){return u in w?w[u]:w.other},pf:{},fmt:{},toString:function(){var u=function(y,x){if(typeof y!="object"){return y.toString().replace(/^(function) \w*/,"$1")}var w=[];for(var v in y){if(v!="toString"){w.push((x?v+"=":JSON.stringify(v)+":")+u(y[v],false))}}return x?w.join(",\n"):"{"+w.join(",\n")+"}"};return u(this,true)}};var t=(function(){function w(z,x){function y(){this.constructor=z}y.prototype=x.prototype;z.prototype=new y()}function u(A,z,B,C,x,y){this.message=A;this.expected=z;this.found=B;this.offset=C;this.line=x;this.column=y;this.name="SyntaxError"}w(u,Error);function v(bm){var at=arguments.length>1?arguments[1]:{},a8={},E={start:A},aX=A,aQ=function(bt){return{type:"program",program:bt}},aO=a8,aM=[],aK=function(bw,bt){var bu=[];if(bw&&bw.val){bu.push(bw)}for(var bv in bt){if(bt.hasOwnProperty(bv)){bu.push(bt[bv])}}return{type:"messageFormatPattern",statements:bu}},aI="{",aG={type:"literal",value:"{",description:'"{"'},aE="}",aC={type:"literal",value:"}",description:'"}"'},aA=function(bv,bu){var bt=[];if(bv){bt.push(bv)}if(bu&&bu.val){bt.push(bu)}return{type:"messageFormatPatternRight",statements:bt}},ay=null,x=",",bs={type:"literal",value:",",description:'","'},bq=function(bt,bv){var bu={type:"messageFormatElement",argumentIndex:bt};if(bv&&bv.length){bu.elementFormat=bv[1]}else{bu.output=true}return bu},bp="plural",bo={type:"literal",value:"plural",description:'"plural"'},bn=function(bt,bu){return{type:"elementFormat",key:bt,val:bu.val}},bl="selectordinal",bj={type:"literal",value:"selectordinal",description:'"selectordinal"'},bi="select",bh={type:"literal",value:"select",description:'"select"'},ba=function(bt,bu){return{type:"elementFormat",key:bt,val:bu}},a9=function(bt){return{type:"pluralStyle",val:bt}},a7=function(bt){return{type:"selectStyle",val:bt}},a5=function(bv,bt){var bu={type:"pluralFormatPattern",pluralForms:bt};if(bv){bu.offset=bv}else{bu.offset=0}return bu},a4="offset",a3={type:"literal",value:"offset",description:'"offset"'},a2=":",a0={type:"literal",value:":",description:'":"'},aZ=function(bt){return bt},aY=function(bt){return{type:"selectFormatPattern",pluralForms:bt}},aP=function(bt,bu){return{type:"pluralForms",key:bt,val:bu}},aN=function(bt){return bt},aL="=",aJ={type:"literal",value:"=",description:'"="'},aH=function(bt){return bt},aF=function(bt,bx){var bw=[];for(var bv=0;bv<bx.length;++bv){for(var bu=0;bu<bx[bv].length;++bu){bw.push(bx[bv][bu])}}return{type:"string",val:bt+bw.join("")}},aD=/^[0-9a-zA-Z$_]/,aB={type:"class",value:"[0-9a-zA-Z$_]",description:"[0-9a-zA-Z$_]"},az=/^[^ \t\n\r,.+={}]/,aw={type:"class",value:"[^ \\t\\n\\r,.+={}]",description:"[^ \\t\\n\\r,.+={}]"},ao=function(bu,bt){return bu+(bt?bt.join(""):"")},an=function(bt){return bt.join("")},am=/^[^{}\\\0-\x1F \t\n\r]/,ak={type:"class",value:"[^{}\\\\\\0-\\x1F \\t\\n\\r]",description:"[^{}\\\\\\0-\\x1F \\t\\n\\r]"},aj=function(bt){return bt},ah="\\#",af={type:"literal",value:"\\#",description:'"\\\\#"'},ae=function(){return"\\#"},ac="\\{",ab={type:"literal",value:"\\{",description:'"\\\\{"'},Y=function(){return"\u007B"},X="\\}",W={type:"literal",value:"\\}",description:'"\\\\}"'},V=function(){return"\u007D"},U="\\u",T={type:"literal",value:"\\u",description:'"\\\\u"'},S=function(bw,bv,bu,bt){return String.fromCharCode(parseInt("0x"+bw+bv+bu+bt))},R=/^[0-9]/,Q={type:"class",value:"[0-9]",description:"[0-9]"},P=function(bt){return parseInt((bt.join("")),10)},L=/^[0-9a-fA-F]/,J={type:"class",value:"[0-9a-fA-F]",description:"[0-9a-fA-F]"},I={type:"other",description:"whitespace"},H=function(bt){return bt.join("")},G=/^[ \t\n\r]/,F={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},av=0,ag=0,a1=0,y={line:1,column:1,seenCR:false},al=0,bk=[],aq=0,K;if("startRule" in at){if(!(at.startRule in E)){throw new Error("Can't start parsing from rule \""+at.startRule+'".')}aX=E[at.startRule]}function aW(){return bm.substring(ag,av)}function D(){return ag}function C(){return aS(ag).line}function Z(){return aS(ag).column}function B(bt){throw aV(null,[{type:"other",description:bt}],ag)}function aR(bt){throw aV(bt,null,ag)}function aS(bu){function bt(bx,bw,bv){var bz,by;for(bz=bw;bz<bv;bz++){by=bm.charAt(bz);if(by==="\n"){if(!bx.seenCR){bx.line++}bx.column=1;bx.seenCR=false}else{if(by==="\r"||by==="\u2028"||by==="\u2029"){bx.line++;bx.column=1;bx.seenCR=true}else{bx.column++;bx.seenCR=false}}}}if(a1!==bu){if(a1>bu){a1=0;y={line:1,column:1,seenCR:false}}bt(y,a1,bu);a1=bu}return y}function ai(bt){if(av<al){return}if(av>al){al=av;bk=[]}bk.push(bt)}function aV(bv,bu,bz){function by(bB){var bA=1;bB.sort(function(bD,bC){if(bD.description<bC.description){return -1}else{if(bD.description>bC.description){return 1}else{return 0}}});while(bA<bB.length){if(bB[bA-1]===bB[bA]){bB.splice(bA,1)}else{bA++}}}function bt(bE,bF){function bA(bH){function bI(bJ){return bJ.charCodeAt(0).toString(16).toUpperCase()}return bH.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(bJ){return"\\x0"+bI(bJ)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(bJ){return"\\x"+bI(bJ)}).replace(/[\u0180-\u0FFF]/g,function(bJ){return"\\u0"+bI(bJ)}).replace(/[\u1080-\uFFFF]/g,function(bJ){return"\\u"+bI(bJ)})}var bB=new Array(bE.length),bG,bC,bD;for(bD=0;bD<bE.length;bD++){bB[bD]=bE[bD].description}bG=bE.length>1?bB.slice(0,-1).join(", ")+" or "+bB[bE.length-1]:bB[0];bC=bF?'"'+bA(bF)+'"':"end of input";return"Expected "+bG+" but "+bC+" found."}var bx=aS(bz),bw=bz<bm.length?bm.charAt(bz):null;if(bu!==null){by(bu)}return new u(bv!==null?bv:bt(bu,bw),bu,bw,bz,bx.line,bx.column)}function A(){var bu,bt;bu=av;bt=aT();if(bt!==a8){ag=bu;bt=aQ(bt)}bu=bt;return bu}function aT(){var bw,bv,bu,bt;bw=av;bv=aa();if(bv!==a8){bu=[];bt=z();while(bt!==a8){bu.push(bt);bt=z()}if(bu!==a8){ag=bw;bv=aK(bv,bu);bw=bv}else{av=bw;bw=aO}}else{av=bw;bw=aO}return bw}function z(){var by,bx,bw,bv,bu,bt,bz;by=av;if(bm.charCodeAt(av)===123){bx=aI;av++}else{bx=a8;if(aq===0){ai(aG)}}if(bx!==a8){bw=bd();if(bw!==a8){bv=aU();if(bv!==a8){bu=bd();if(bu!==a8){if(bm.charCodeAt(av)===125){bt=aE;av++}else{bt=a8;if(aq===0){ai(aC)}}if(bt!==a8){bz=aa();if(bz!==a8){ag=by;bx=aA(bv,bz);by=bx}else{av=by;by=aO}}else{av=by;by=aO}}else{av=by;by=aO}}else{av=by;by=aO}}else{av=by;by=aO}}else{av=by;by=aO}return by}function aU(){var bx,bw,bv,bu,bt;bx=av;bw=au();if(bw!==a8){bv=av;if(bm.charCodeAt(av)===44){bu=x;av++}else{bu=a8;if(aq===0){ai(bs)}}if(bu!==a8){bt=M();if(bt!==a8){bu=[bu,bt];bv=bu}else{av=bv;bv=aO}}else{av=bv;bv=aO}if(bv===a8){bv=ay}if(bv!==a8){ag=bx;bw=bq(bw,bv);bx=bw}else{av=bx;bx=aO}}else{av=bx;bx=aO}return bx}function M(){var by,bx,bw,bv,bu,bt,bA,bz;by=av;bx=bd();if(bx!==a8){if(bm.substr(av,6)===bp){bw=bp;av+=6}else{bw=a8;if(aq===0){ai(bo)}}if(bw!==a8){bv=bd();if(bv!==a8){if(bm.charCodeAt(av)===44){bu=x;av++}else{bu=a8;if(aq===0){ai(bs)}}if(bu!==a8){bt=bd();if(bt!==a8){bA=bc();if(bA!==a8){bz=bd();if(bz!==a8){ag=by;bx=bn(bw,bA);by=bx}else{av=by;by=aO}}else{av=by;by=aO}}else{av=by;by=aO}}else{av=by;by=aO}}else{av=by;by=aO}}else{av=by;by=aO}}else{av=by;by=aO}if(by===a8){by=av;bx=bd();if(bx!==a8){if(bm.substr(av,13)===bl){bw=bl;av+=13}else{bw=a8;if(aq===0){ai(bj)}}if(bw!==a8){bv=bd();if(bv!==a8){if(bm.charCodeAt(av)===44){bu=x;av++}else{bu=a8;if(aq===0){ai(bs)}}if(bu!==a8){bt=bd();if(bt!==a8){bA=br();if(bA!==a8){bz=bd();if(bz!==a8){ag=by;bx=bn(bw,bA);by=bx}else{av=by;by=aO}}else{av=by;by=aO}}else{av=by;by=aO}}else{av=by;by=aO}}else{av=by;by=aO}}else{av=by;by=aO}}else{av=by;by=aO}if(by===a8){by=av;bx=bd();if(bx!==a8){if(bm.substr(av,6)===bi){bw=bi;av+=6}else{bw=a8;if(aq===0){ai(bh)}}if(bw!==a8){bv=bd();if(bv!==a8){if(bm.charCodeAt(av)===44){bu=x;av++}else{bu=a8;if(aq===0){ai(bs)}}if(bu!==a8){bt=bd();if(bt!==a8){bA=br();if(bA!==a8){bz=bd();if(bz!==a8){ag=by;bx=bn(bw,bA);by=bx}else{av=by;by=aO}}else{av=by;by=aO}}else{av=by;by=aO}}else{av=by;by=aO}}else{av=by;by=aO}}else{av=by;by=aO}}else{av=by;by=aO}if(by===a8){by=av;bx=bd();if(bx!==a8){bw=au();if(bw!==a8){bv=[];bu=be();while(bu!==a8){bv.push(bu);bu=be()}if(bv!==a8){ag=by;bx=ba(bw,bv);by=bx}else{av=by;by=aO}}else{av=by;by=aO}}else{av=by;by=aO}}}}return by}function bc(){var bu,bt;bu=av;bt=ax();if(bt!==a8){ag=bu;bt=a9(bt)}bu=bt;return bu}function br(){var bu,bt;bu=av;bt=bb();if(bt!==a8){ag=bu;bt=a7(bt)}bu=bt;return bu}function ax(){var bw,bv,bu,bt;bw=av;bv=ap();if(bv===a8){bv=ay}if(bv!==a8){bu=[];bt=N();while(bt!==a8){bu.push(bt);bt=N()}if(bu!==a8){ag=bw;bv=a5(bv,bu);bw=bv}else{av=bw;bw=aO}}else{av=bw;bw=aO}return bw}function ap(){var by,bx,bw,bv,bu,bt,bA,bz;by=av;bx=bd();if(bx!==a8){if(bm.substr(av,6)===a4){bw=a4;av+=6}else{bw=a8;if(aq===0){ai(a3)}}if(bw!==a8){bv=bd();if(bv!==a8){if(bm.charCodeAt(av)===58){bu=a2;av++}else{bu=a8;if(aq===0){ai(a0)}}if(bu!==a8){bt=bd();if(bt!==a8){bA=bg();if(bA!==a8){bz=bd();if(bz!==a8){ag=by;bx=aZ(bA);by=bx}else{av=by;by=aO}}else{av=by;by=aO}}else{av=by;by=aO}}else{av=by;by=aO}}else{av=by;by=aO}}else{av=by;by=aO}}else{av=by;by=aO}return by}function bb(){var bv,bu,bt;bv=av;bu=[];bt=N();while(bt!==a8){bu.push(bt);bt=N()}if(bu!==a8){ag=bv;bu=aY(bu)}bv=bu;return bv}function N(){var bB,bA,bz,by,bx,bw,bv,bu,bt;bB=av;bA=bd();if(bA!==a8){bz=ar();if(bz!==a8){by=bd();if(by!==a8){if(bm.charCodeAt(av)===123){bx=aI;av++}else{bx=a8;if(aq===0){ai(aG)}}if(bx!==a8){bw=bd();if(bw!==a8){bv=aT();if(bv!==a8){bu=bd();if(bu!==a8){if(bm.charCodeAt(av)===125){bt=aE;av++}else{bt=a8;if(aq===0){ai(aC)}}if(bt!==a8){ag=bB;bA=aP(bz,bv);bB=bA}else{av=bB;bB=aO}}else{av=bB;bB=aO}}else{av=bB;bB=aO}}else{av=bB;bB=aO}}else{av=bB;bB=aO}}else{av=bB;bB=aO}}else{av=bB;bB=aO}}else{av=bB;bB=aO}return bB}function ar(){var bv,bu,bt;bv=av;bu=au();if(bu!==a8){ag=bv;bu=aN(bu)}bv=bu;if(bv===a8){bv=av;if(bm.charCodeAt(av)===61){bu=aL;av++}else{bu=a8;if(aq===0){ai(aJ)}}if(bu!==a8){bt=bg();if(bt!==a8){ag=bv;bu=aZ(bt);bv=bu}else{av=bv;bv=aO}}else{av=bv;bv=aO}}return bv}function be(){var by,bx,bw,bv,bu,bt;by=av;bx=bd();if(bx!==a8){if(bm.charCodeAt(av)===44){bw=x;av++}else{bw=a8;if(aq===0){ai(bs)}}if(bw!==a8){bv=bd();if(bv!==a8){bu=au();if(bu!==a8){bt=bd();if(bt!==a8){ag=by;bx=aH(bu);by=bx}else{av=by;by=aO}}else{av=by;by=aO}}else{av=by;by=aO}}else{av=by;by=aO}}else{av=by;by=aO}return by}function aa(){var by,bx,bw,bv,bu,bt,bz;by=av;bx=bd();if(bx!==a8){bw=[];bv=av;bu=bd();if(bu!==a8){bt=a6();if(bt!==a8){bz=bd();if(bz!==a8){bu=[bu,bt,bz];bv=bu}else{av=bv;bv=aO}}else{av=bv;bv=aO}}else{av=bv;bv=aO}while(bv!==a8){bw.push(bv);bv=av;bu=bd();if(bu!==a8){bt=a6();if(bt!==a8){bz=bd();if(bz!==a8){bu=[bu,bt,bz];bv=bu}else{av=bv;bv=aO}}else{av=bv;bv=aO}}else{av=bv;bv=aO}}if(bw!==a8){ag=by;bx=aF(bx,bw);by=bx}else{av=by;by=aO}}else{av=by;by=aO}return by}function au(){var bx,bw,bv,bu,bt;bx=av;bw=bd();if(bw!==a8){if(aD.test(bm.charAt(av))){bv=bm.charAt(av);av++}else{bv=a8;if(aq===0){ai(aB)}}if(bv!==a8){bu=[];if(az.test(bm.charAt(av))){bt=bm.charAt(av);av++}else{bt=a8;if(aq===0){ai(aw)}}while(bt!==a8){bu.push(bt);if(az.test(bm.charAt(av))){bt=bm.charAt(av);av++}else{bt=a8;if(aq===0){ai(aw)}}}if(bu!==a8){bt=bd();if(bt!==a8){ag=bx;bw=ao(bv,bu);bx=bw}else{av=bx;bx=aO}}else{av=bx;bx=aO}}else{av=bx;bx=aO}}else{av=bx;bx=aO}return bx}function a6(){var bv,bu,bt;bv=av;bu=[];bt=ad();if(bt!==a8){while(bt!==a8){bu.push(bt);bt=ad()}}else{bu=aO}if(bu!==a8){ag=bv;bu=an(bu)}bv=bu;return bv}function ad(){var by,bx,bw,bv,bu,bt;by=av;if(am.test(bm.charAt(av))){bx=bm.charAt(av);av++}else{bx=a8;if(aq===0){ai(ak)}}if(bx!==a8){ag=by;bx=aj(bx)}by=bx;if(by===a8){by=av;if(bm.substr(av,2)===ah){bx=ah;av+=2}else{bx=a8;if(aq===0){ai(af)}}if(bx!==a8){ag=by;bx=ae()}by=bx;if(by===a8){by=av;if(bm.substr(av,2)===ac){bx=ac;av+=2}else{bx=a8;if(aq===0){ai(ab)}}if(bx!==a8){ag=by;bx=Y()}by=bx;if(by===a8){by=av;if(bm.substr(av,2)===X){bx=X;av+=2}else{bx=a8;if(aq===0){ai(W)}}if(bx!==a8){ag=by;bx=V()}by=bx;if(by===a8){by=av;if(bm.substr(av,2)===U){bx=U;av+=2}else{bx=a8;if(aq===0){ai(T)}}if(bx!==a8){bw=bf();if(bw!==a8){bv=bf();if(bv!==a8){bu=bf();if(bu!==a8){bt=bf();if(bt!==a8){ag=by;bx=S(bw,bv,bu,bt);by=bx}else{av=by;by=aO}}else{av=by;by=aO}}else{av=by;by=aO}}else{av=by;by=aO}}else{av=by;by=aO}}}}}return by}function bg(){var bv,bu,bt;bv=av;bu=[];if(R.test(bm.charAt(av))){bt=bm.charAt(av);av++}else{bt=a8;if(aq===0){ai(Q)}}if(bt!==a8){while(bt!==a8){bu.push(bt);if(R.test(bm.charAt(av))){bt=bm.charAt(av);av++}else{bt=a8;if(aq===0){ai(Q)}}}}else{bu=aO}if(bu!==a8){ag=bv;bu=P(bu)}bv=bu;return bv}function bf(){var bt;if(L.test(bm.charAt(av))){bt=bm.charAt(av);av++}else{bt=a8;if(aq===0){ai(J)}}return bt}function bd(){var bv,bu,bt;aq++;bv=av;bu=[];bt=O();while(bt!==a8){bu.push(bt);bt=O()}if(bu!==a8){ag=bv;bu=H(bu)}bv=bu;aq--;if(bv===a8){bu=a8;if(aq===0){ai(I)}}return bv}function O(){var bt;if(G.test(bm.charAt(av))){bt=bm.charAt(av);av++}else{bt=a8;if(aq===0){ai(F)}}return bt}K=aX();if(K!==a8&&av===bm.length){return K}else{if(K!==a8&&av<bm.length){ai({type:"end",description:"end of input"})}throw aV(null,bk,al)}}return{SyntaxError:u,parse:v}})();r._parse=function(){return t.parse.apply(t,arguments)};var s=function(u){return/^[A-Z_$][0-9A-Z_$]*$/i.test(u)?u:JSON.stringify(u)};r.prototype._precompile=function(v,y){y=y||{keys:{},offset:{}};var u=[],z,A,B=[];switch(v.type){case"messageFormatPattern":for(z=0;z<v.statements.length;++z){u.push(this._precompile(v.statements[z],y))}A=u.join("+")||'""';return y.pf_count?A:"function(d){return "+A+"}";case"messageFormatPatternRight":for(z=0;z<v.statements.length;++z){u.push(this._precompile(v.statements[z],y))}return u.join("+");case"messageFormatElement":y.pf_count=y.pf_count||0;if(v.output){return"d["+JSON.stringify(v.argumentIndex)+"]"}else{y.keys[y.pf_count]=JSON.stringify(v.argumentIndex);return this._precompile(v.elementFormat,y)}return"";case"elementFormat":var B=["d["+y.keys[y.pf_count]+"]"];switch(v.key){case"select":B.push(this._precompile(v.val,y));return"_s("+B.join(",")+")";case"selectordinal":B=B.concat([0,"pf["+JSON.stringify(this.lc[0])+"]",this._precompile(v.val,y),1]);return"_p("+B.join(",")+")";case"plural":y.offset[y.pf_count||0]=v.val.offset||0;B=B.concat([y.offset[y.pf_count]||0,"pf["+JSON.stringify(this.lc[0])+"]",this._precompile(v.val,y)]);return"_p("+B.join(",")+")";default:if(this.withIntlSupport&&!(v.key in this.runtime.fmt)&&(v.key in r.formatters)){A=r.formatters[v.key];this.runtime.fmt[v.key]=(typeof A(this)=="function")?A(this):A}B.push(JSON.stringify(this.lc));if(v.val&&v.val.length){B.push(JSON.stringify(v.val.length==1?v.val[0]:v.val))}return"fmt."+v.key+"("+B.join(",")+")"}case"pluralFormatPattern":case"selectFormatPattern":y.pf_count=y.pf_count||0;if(v.type=="selectFormatPattern"){y.offset[y.pf_count]=0}var x=true;for(z=0;z<v.pluralForms.length;++z){var C=v.pluralForms[z].key;if(C==="other"){x=false}var w=JSON.parse(JSON.stringify(y));w.pf_count++;u.push(s(C)+":"+this._precompile(v.pluralForms[z].val,w))}if(x){throw new Error("No 'other' form found in "+v.type+" "+y.pf_count)}return"{"+u.join(",")+"}";case"string":A='"'+(v.val||"").replace(/\n/g,"\\n").replace(/"/g,'\\"')+'"';if(y.pf_count){B=["d["+y.keys[y.pf_count-1]+"]"];if(y.offset[y.pf_count-1]){B.push(y.offset[y.pf_count-1])}A=A.replace(/(^|[^\\])#/g,'$1"+_n('+B.join(",")+')+"');A=A.replace(/^""\+/,"").replace(/\+""$/,"")}return A;default:throw new Error("Bad AST type: "+v.type)}};r.prototype.compile=function(y,v){var u={},F=this.lc,A=function(I,K){try{var H=r._parse(K).program;return I._precompile(H)}catch(J){throw new Error((H?"Precompiler":"Parser")+" error: "+J.toString())}},z=function(I){if(typeof I!="object"){return I}var J=[];for(var H in I){J.push(s(H)+":"+z(I[H]))}return"{\n"+J.join(",\n")+"}"};if(typeof y=="string"){var B=new Function("_n,_p,_s,pf,fmt","return "+A(this,y));return B(this.runtime._n,this.runtime._p,this.runtime._s,this.runtime.pf,this.runtime.fmt)}v=v||{};for(var D in y){if(v.locale){this.lc=v.locale[D]&&[].concat(v.locale[D])||F}if(typeof y[D]=="string"){try{u[D]=A(this,y[D])}catch(C){C.message=C.message.replace(":"," with `"+D+"`:");throw C}}else{u[D]={};for(var E in y[D]){try{u[D][E]=A(this,y[D][E])}catch(C){C.message=C.message.replace(":"," with `"+E+"` in `"+D+"`:");throw C}}}}this.lc=F;var G="var\n"+this.runtime.toString()+";\n\n";switch(v.global||""){case"exports":var w=[];for(var x in u){w.push("exports["+JSON.stringify(x)+"] = "+z(u[x]))}return new Function(G+w.join(";\n"));case"module.exports":return new Function(G+"module.exports = "+z(u));case"":return new Function(G+"return "+z(u));default:return new Function("G",G+"G["+JSON.stringify(v.global)+"] = "+z(u))}};return r}());var k=function(r){l("E_MISSING_MESSAGE_BUNDLE","Missing message bundle for locale `{locale}`.",r.attributes.bundle&&r.get("globalize-messages/{bundle}")!==undefined,{locale:r.locale})};var f=function(s,r){s=s.join("/");l("E_MISSING_MESSAGE","Missing required message content `{path}`.",r!==undefined,{path:s})};var p=function(s,r){s=s.join("/");l("E_INVALID_MESSAGE","Invalid message content `{path}`. {expected} expected.",typeof r==="string",{expected:"a string",path:s})};var c=function(s,r){q(s,r,s===undefined||o(s)||Array.isArray(s),"Array or Plain Object")};var j=function(){l("E_MISSING_PLURAL_MODULE","Plural module not loaded.",a.plural!==undefined,{})};var m=[].slice;function b(t,s){var r;return new n(s.locale,function(u){if(!r){j();r=t.pluralGenerator()}return r(u)})}a.loadMessages=function(s){var r,t={"globalize-messages":s,main:{}};i(s,"json");e(s,"json");for(r in s){if(s.hasOwnProperty(r)){t.main[r]={}}}d.load(t)};a.messageFormatter=a.prototype.messageFormatter=function(u){var s,r,t;i(u,"path");q(u,"path",typeof u==="string"||Array.isArray(u),"a String nor an Array");u=g(u);s=this.cldr;h(s);k(s);t=s.get(["globalize-messages/{bundle}"].concat(u));f(u,t);if(Array.isArray(t)){t=t.join(" ")}p(u,t);r=b(this,s).compile(t);return function(v){if(typeof v==="number"||typeof v==="string"){v=m.call(arguments,0)}c(v,"variables");return r(v)}};a.formatMessage=a.prototype.formatMessage=function(r){return this.messageFormatter(r).apply({},m.call(arguments,1))};return a}));