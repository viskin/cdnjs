/*!
 * Globalize v1.0.0-alpha.20 2015-04-14T12:27Z Released under the MIT license
 * http://git.io/TrdQbw
 */
(function(a,b){if(typeof define==="function"&&define.amd){define(["cldr","../globalize","cldr/event","cldr/supplemental"],b)}else{if(typeof exports==="object"){module.exports=b(require("cldrjs"),require("globalize"))}else{b(a.Cldr,a.Globalize)}}}(this,function(c,a){var h=a._validateCldr,f=a._validateDefaultLocale,g=a._validateParameterPresence,j=a._validateParameterType,e=a._validateParameterTypePlainObject;var d;d=(function(){function n(p,o){if(p=="i = 0 or n = 1"){return"n >= 0 && n <= 1"}if(p=="i = 0,1"){return"n >= 0 && n < 2"}if(p=="i = 1 and v = 0"){o.v0=1;return"n == 1 && v0"}return p.replace(/([tv]) (!?)= 0/g,function(q,r,s){var t=r+"0";o[t]=1;return s?"!"+t:t}).replace(/\b[fintv]\b/g,function(q){o[q]=1;return q}).replace(/([fin]) % (10+)/g,function(q,r,s){var t=r+s;o[t]=1;return t}).replace(/n10+ = 0/g,"t0 && $&").replace(/(\w+ (!?)= )([0-9.]+,[0-9.,]+)/g,function(r,t,s,q){if(r=="n = 0,1"){return"(n == 0 || n == 1)"}if(s){return t+q.split(",").join(" && "+t)}return"("+t+q.split(",").join(" || "+t)+")"}).replace(/(\w+) (!?)= ([0-9]+)\.\.([0-9]+)/g,function(q,r,u,t,s){if(Number(t)+1==Number(s)){if(u){return r+" != "+t+" && "+r+" != "+s}return"("+r+" == "+t+" || "+r+" == "+s+")"}if(u){return"("+r+" < "+t+" || "+r+" > "+s+")"}if(r=="n"){o.t0=1;return"(t0 && n >= "+t+" && n <= "+s+")"}return"("+r+" >= "+t+" && "+r+" <= "+s+")"}).replace(/ and /g," && ").replace(/ or /g," || ").replace(/ = /g," == ")}function l(q){var r=[];if(q.i){r.push("i = s[0]")}if(q.f||q.v){r.push("f = s[1] || ''")}if(q.t){r.push("t = (s[1] || '').replace(/0+$/, '')")}if(q.v){r.push("v = f.length")}if(q.v0){r.push("v0 = !s[1]")}if(q.t0||q.n10||q.n100){r.push("t0 = Number(s[0]) == n")}for(var p in q){if(/^.10+$/.test(p)){var o=(p[0]=="n")?"t0 && s[0]":p[0];r.push(p+" = "+o+".substr(-"+p.substr(2).length+")")}}if(r.length){r.unshift("s = String(n).split('.')");return"var "+r.join(", ")+";"}return""}function m(o,p,r){var w=[],q={},t=function(x){return x.replace(/(.{1,72})( \|\| |$) ?/gm,"$1\n         $2").replace(/\s+$/gm,"")},v=function(z,C){var B=[];if(k.rules[z][o]){for(var A in k.rules[z][o]){var x=A.replace("pluralRule-count-",""),D=k.rules[z][o][A].split(/@\w*/),y=D.shift().trim();if(y){B.push([n(y,q),x])}r[z][x]=D.join(" ").replace(/^[ ,]+|[ ,…]+$/g,"").replace(/(0\.[0-9])~(1\.[1-9])/g,"$1 1.0 $2").split(/[ ,~…]+/)}}else{if(C){if(!p.quiet){console.error('Locale "'+o+'" '+z+" rules not found")}return false}}if(!B.length){return"'other'"}if(B.length==1){return"("+B[0][0]+") ? '"+B[0][1]+"' : 'other'"}return B.map(function(E){return"("+E[0]+") ? '"+E[1]+"'"}).concat("'other'").join("\n      : ")};if(p.ordinals){if(p.no_cardinals){var s=v("ordinal",true);if(!s){return null}w.push(t("  return "+s+";"))}else{w.push(t("  if (ord) return "+v("ordinal",false)+";"))}}if(!p.no_cardinals){var s=v("cardinal",true);if(!s){return null}w.push(t("  return "+s+";"))}var u=l(q).replace(/(.{1,78})(,|$) ?/g,"\n      $1$2").trim();if(u){w.unshift("  "+u)}return w.join("\n")}var k=function(s,p){if(typeof s=="object"){p=s;s=p.lc}else{if(!p){p=k.opt}if(!s){s=p.lc}}var r={ordinal:{},cardinal:{}},o=m(s,p,r),q=p.ordinals&&!p.no_cardinals?new Function("n","ord",o):new Function("n",o);q.toString=function(t){var u=Function.prototype.toString.call(q);return u.replace(/^function( \w+)?/,t?"function "+t:"function")};return o&&(p.no_tests||test(s,q,r,p))?q:null};k.opt={};k.rules={};return k}());var i=function(l,k){j(l,k,l===undefined||typeof l==="number","Number")};var b=function(l,k){j(l,k,l===undefined||l==="cardinal"||l==="ordinal",'String "cardinal" or "ordinal"')};a.plural=a.prototype.plural=function(l,k){g(l,"value");i(l,"value");return this.pluralGenerator(k)(l)};a.pluralGenerator=a.prototype.pluralGenerator=function(l){var o,m,k,n;e(l,"options");l=l||{};n=l.type||"cardinal";o=this.cldr;b(l.type,"options.type");f(o);m=n==="ordinal";o.on("get",h);o.supplemental(["plurals-type-"+n,"{language}"]);o.off("get",h);d.rules={};d.rules[n]=o.supplemental("plurals-type-"+n);k=d(o.attributes.language,{no_tests:true,ordinals:m,no_cardinals:m});return function(p){g(p,"value");i(p,"value");return k(p)}};return a}));