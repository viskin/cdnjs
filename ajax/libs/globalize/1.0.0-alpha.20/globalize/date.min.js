/*!
 * Globalize v1.0.0-alpha.20 2015-04-14T12:27Z Released under the MIT license
 * http://git.io/TrdQbw
 */
(function(a,b){if(typeof define==="function"&&define.amd){define(["cldr","../globalize","./number","cldr/event","cldr/supplemental"],b)}else{if(typeof exports==="object"){module.exports=b(require("cldrjs"),require("globalize"))}else{b(a.Cldr,a.Globalize)}}}(this,function(f,o){var j=o._createError,c=o._createErrorUnsupportedFeature,n=o._formatMessage,N=o._isPlainObject,B=o._numberSymbol,x=o._regexpEscape,F=o._stringPad,z=o._validateCldr,s=o._validateDefaultLocale,J=o._validateParameterPresence,K=o._validateParameterType,b=o._validateParameterTypeString;var a=function(P,O){K(P,O,P===undefined||P instanceof Date,"Date")};var p=function(P,O){K(P,O,P===undefined||typeof P==="string"||N(P),"String or plain Object")};var l=function(O,P){return j("E_INVALID_PAR_VALUE","Invalid `{name}` value ({value}).",{name:O,value:P})};var v=function(T,S){var Q,P,V,O,R;function U(Y,X,W){return n(S.main(["dates/calendars/gregorian/dateTimeFormats",Y]),[W,X])}if(typeof T==="string"){T={skeleton:T}}switch(true){case"skeleton" in T:V=T.skeleton;P=S.main(["dates/calendars/gregorian/dateTimeFormats/availableFormats",V]);if(!P){O=V.split(/[^hHKkmsSAzZOvVXx]/).slice(-1)[0];Q=V.split(/[^GyYuUrQqMLlwWdDFgEec]/)[0];if(/(MMMM|LLLL).*[Ec]/.test(Q)){R="full"}else{if(/MMMM/g.test(Q)){R="long"}else{if(/MMM/g.test(Q)||/LLL/g.test(Q)){R="medium"}else{R="short"}}}P=U(R,S.main(["dates/calendars/gregorian/dateTimeFormats/availableFormats",Q]),S.main(["dates/calendars/gregorian/dateTimeFormats/availableFormats",O]))}break;case"date" in T:case"time" in T:P=S.main(["dates/calendars/gregorian","date" in T?"dateFormats":"timeFormats",(T.date||T.time)]);break;case"datetime" in T:P=U(T.datetime,S.main(["dates/calendars/gregorian/dateFormats",T.datetime]),S.main(["dates/calendars/gregorian/timeFormats",T.datetime]));break;case"pattern" in T:P=T.pattern;break;default:throw l({name:"pattern",value:T})}return P};var A=function(P,O){return(P.getDay()-O+7)%7};var L=function(Q,P){var O=86400000;return(P.getTime()-Q.getTime())/O};var g=function(O,P){O=new Date(O.getTime());switch(P){case"year":O.setMonth(0);case"month":O.setDate(1);case"day":O.setHours(0);case"hour":O.setMinutes(0);case"minute":O.setSeconds(0);case"second":O.setMilliseconds(0)}return O};var C=function(O){return Math.floor(L(g(O,"year"),O))};var i=["sun","mon","tue","wed","thu","fri","sat"];var w=function(O){return i.indexOf(O.supplemental.weekData.firstDay())};var M=function(O){return O-g(O,"day")};var q=(/([a-z])\1*|'([^']|'')+'|''|./ig);var h=function(P,R,Q,O){var T,S=P.getTimezoneOffset();T=Math.abs(S);O=O||{1:function(U){return F(U,1)},2:function(U){return F(U,2)}};return R.split(";")[S>0?1:0].replace(":",Q).replace(/HH?/,function(U){return O[U.length](Math.floor(T/60))}).replace(/mm/,function(){return O[2](T%60)})};var t=function(P,Q){var O=Q.formatNumber,R=Q.timeSeparator;return Q.pattern.replace(q,function(V){var S,T=V.charAt(0),U=V.length;if(T==="j"){T=Q.preferredTime}if(T==="Z"){if(U<4){T="x";U=4}else{if(U<5){T="O";U=4}else{T="X";U=5}}}switch(T){case"G":S=Q.eras[P.getFullYear()<0?0:1];break;case"y":S=P.getFullYear();if(U===2){S=String(S);S=+S.substr(S.length-2)}break;case"Y":S=new Date(P.getTime());S.setDate(S.getDate()+7-A(P,Q.firstDay)-Q.firstDay-Q.minDays);S=S.getFullYear();if(U===2){S=String(S);S=+S.substr(S.length-2)}break;case"Q":case"q":S=Math.ceil((P.getMonth()+1)/3);if(U>2){S=Q.quarters[T][U][S]}break;case"M":case"L":S=P.getMonth()+1;if(U>2){S=Q.months[T][U][S]}break;case"w":S=A(g(P,"year"),Q.firstDay);S=Math.ceil((C(P)+S)/7)-(7-S>=Q.minDays?0:1);break;case"W":S=A(g(P,"month"),Q.firstDay);S=Math.ceil((P.getDate()+S)/7)-(7-S>=Q.minDays?0:1);break;case"d":S=P.getDate();break;case"D":S=C(P)+1;break;case"F":S=Math.floor(P.getDate()/7)+1;break;case"e":case"c":if(U<=2){S=A(P,Q.firstDay)+1;break}case"E":S=i[P.getDay()];S=Q.days[T][U][S];break;case"a":S=Q.dayPeriods[P.getHours()<12?"am":"pm"];break;case"h":S=(P.getHours()%12)||12;break;case"H":S=P.getHours();break;case"K":S=P.getHours()%12;break;case"k":S=P.getHours()||24;break;case"m":S=P.getMinutes();break;case"s":S=P.getSeconds();break;case"S":S=Math.round(P.getMilliseconds()*Math.pow(10,U-3));break;case"A":S=Math.round(M(P)*Math.pow(10,U-3));break;case"z":case"O":if(P.getTimezoneOffset()===0){S=Q.gmtZeroFormat}else{S=h(P,U<4?"+H;-H":Q.tzLongHourFormat,R,O);S=Q.gmtFormat.replace(/\{0\}/,S)}break;case"X":if(P.getTimezoneOffset()===0){S="Z";break}case"x":S=U===1?"+HH;-HH":(U%2?"+HH:mm;-HH:mm":"+HHmm;-HHmm");S=h(P,S,":");break;case":":S=R;break;case"'":V=V.replace(/''/,"'");if(U>2){V=V.slice(1,-1)}S=V;break;default:S=V}if(typeof S==="number"){S=O[U](S)}return S})};var k=function(S,Q){var P={pattern:S,timeSeparator:B("timeSeparator",Q)},R=["abbreviated","wide","narrow"];function O(T){if(!P.formatNumber){P.formatNumber={}}P.formatNumber[T]=F("",T)}S.replace(q,function(W){var T,U=W.charAt(0),V=W.length;if(U==="j"){P.preferredTime=U=Q.supplemental.timeData.preferred()}if(U==="Z"&&V===4){U="O";V=4}switch(U){case"G":P.eras=Q.main(["dates/calendars/gregorian/eras",V<=3?"eraAbbr":(V===4?"eraNames":"eraNarrow")]);break;case"y":T=true;break;case"Y":P.firstDay=w(Q);P.minDays=Q.supplemental.weekData.minDays();T=true;break;case"u":case"U":throw c({feature:"year pattern `"+U+"`"});case"Q":case"q":if(V>2){if(!P.quarters){P.quarters={}}if(!P.quarters[U]){P.quarters[U]={}}P.quarters[U][V]=Q.main(["dates/calendars/gregorian/quarters",U==="Q"?"format":"stand-alone",R[V-3]])}else{T=true}break;case"M":case"L":if(V>2){if(!P.months){P.months={}}if(!P.months[U]){P.months[U]={}}P.months[U][V]=Q.main(["dates/calendars/gregorian/months",U==="M"?"format":"stand-alone",R[V-3]])}else{T=true}break;case"w":case"W":P.firstDay=w(Q);P.minDays=Q.supplemental.weekData.minDays();T=true;break;case"d":case"D":case"F":T=true;break;case"g":throw c({feature:"Julian day pattern `g`"});case"e":case"c":if(V<=2){P.firstDay=w(Q);T=true;break}case"E":if(!P.days){P.days={}}if(!P.days[U]){P.days[U]={}}if(V===6){P.days[U][V]=Q.main(["dates/calendars/gregorian/days",U==="c"?"stand-alone":"format","short"])||Q.main(["dates/calendars/gregorian/days",U==="c"?"stand-alone":"format","abbreviated"])}else{P.days[U][V]=Q.main(["dates/calendars/gregorian/days",U==="c"?"stand-alone":"format",R[V<3?0:V-3]])}break;case"a":P.dayPeriods=Q.main("dates/calendars/gregorian/dayPeriods/format/wide");break;case"h":case"H":case"K":case"k":case"m":case"s":case"S":case"A":T=true;break;case"z":case"O":P.gmtFormat=Q.main("dates/timeZoneNames/gmtFormat");P.gmtZeroFormat=Q.main("dates/timeZoneNames/gmtZeroFormat");P.tzLongHourFormat=Q.main("dates/timeZoneNames/hourFormat");case"Z":case"X":case"x":O(1);O(2);break;case"v":case"V":throw c({feature:"timezone pattern `"+U+"`"})}if(T){O(V)}});return P};var m=function(O){return new Date(O,1,29).getMonth()===1};var e=function(O){return new Date(O.getFullYear(),O.getMonth()+1,0).getDate()};var u=function(P,O){var Q=new Date(P.getFullYear(),P.getMonth()+1,0).getDate();P.setDate(O<1?1:O<Q?O:Q)};var H=function(P,Q){var O=P.getDate();P.setDate(1);P.setMonth(Q);u(P,O)};var I=function(Q,O,P){return Q<O||Q>P};var E=function(ab,W,S){var aa,ad,P,Y,Q,R,U,Z,ae=0,V=1,ah=2,X=3,O=4,T=5,ag=6,ai=new Date(),af=[],ac=["year","month","day","hour","minute","second","milliseconds"];if(!W.length){return null}Z=W.every(function(aj){var an,ak,am,al;if(aj.type==="literal"){return true}ak=aj.type.charAt(0);al=aj.type.length;if(ak==="j"){ak=S.preferredTimeData}switch(ak){case"G":af.push(ae);Y=+aj.value;break;case"y":am=aj.value;if(al===2){if(I(am,0,99)){return false}an=Math.floor(ai.getFullYear()/100)*100;am+=an;if(am>ai.getFullYear()+20){am-=100}}ai.setFullYear(am);af.push(ae);break;case"Y":throw c({feature:"year pattern `"+ak+"`"});case"Q":case"q":break;case"M":case"L":if(al<=2){am=aj.value}else{am=+aj.value}if(I(am,1,12)){return false}H(ai,am-1);af.push(V);break;case"w":case"W":break;case"d":ad=aj.value;af.push(ah);break;case"D":P=aj.value;af.push(ah);break;case"F":break;case"e":case"c":case"E":break;case"a":aa=aj.value;break;case"h":am=aj.value;if(I(am,1,12)){return false}Q=R=true;ai.setHours(am===12?0:am);af.push(X);break;case"K":am=aj.value;if(I(am,0,11)){return false}Q=R=true;ai.setHours(am);af.push(X);break;case"k":am=aj.value;if(I(am,1,24)){return false}Q=true;ai.setHours(am===24?0:am);af.push(X);break;case"H":am=aj.value;if(I(am,0,23)){return false}Q=true;ai.setHours(am);af.push(X);break;case"m":am=aj.value;if(I(am,0,59)){return false}ai.setMinutes(am);af.push(O);break;case"s":am=aj.value;if(I(am,0,59)){return false}ai.setSeconds(am);af.push(T);break;case"A":ai.setHours(0);ai.setMinutes(0);ai.setSeconds(0);case"S":am=Math.round(aj.value*Math.pow(10,3-al));ai.setMilliseconds(am);af.push(ag);break;case"Z":case"z":case"O":case"X":case"x":U=aj.value-ai.getTimezoneOffset();break}return true});if(!Z){return null}if(Q&&!(!aa^R)){return null}if(Y===0){ai.setFullYear(ai.getFullYear()*-1+1)}if(ad!==undefined){if(I(ad,1,e(ai))){return null}ai.setDate(ad)}else{if(P!==undefined){if(I(P,1,m(ai.getFullYear())?366:365)){return null}ai.setMonth(0);ai.setDate(P)}}if(R&&aa==="pm"){ai.setHours(ai.getHours()+12)}if(U){ai.setMinutes(ai.getMinutes()+U)}af=Math.max.apply(null,af);ai=g(ai,ac[af]);return ai};var D=function(O){return{preferredTimeData:O.supplemental.timeData.preferred()}};var r=/[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D66-\u0D75\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDD16-\uDD1B\uDE40-\uDE47\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDE60-\uDE7E]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9]|\uD806[\uDCE0-\uDCF2]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59\uDF5B-\uDF61]|\uD834[\uDF60-\uDF71]|\uD835[\uDFCE-\uDFFF]|\uD83A[\uDCC7-\uDCCF]|\uD83C[\uDD00-\uDD0C]/;var y=function(T,P){var S,O=P.parseNumber,Q=P.timeSeparator,U=[],R=["abbreviated","wide","narrow"];S=P.pattern.match(q).every(function(ad){var ab,V,ag,Z,Y={};function aa(aj,ai){var ah=T.match(aj);ai=ai||function(ak){return +ak};if(!ah){return false}if(ah.length<8){Y.value=(ah[1]?-ai(ah[1]):ai(ah[4]))*60}else{Y.value=(ah[1]?-ai(ah[1]):ai(ah[7]))*60+(ah[1]?-ai(ah[4]):ai(ah[10]))}return true}function ac(ak,ah,aj){var ai;if(!ah){ah="{0}"}ai=ak.replace("+","\\+").replace(/HH|mm/g,"(("+r.source+")("+r.source+"))").replace(/H|m/g,"(("+r.source+")("+r.source+")?)");if(aj){ai=ai.replace(/:/g,aj)}ai=ai.split(";").map(function(al){return ah.replace("{0}",al)}).join("|");return new RegExp(ai)}function ae(){if(V===1){ag=true;return Z=r}}function af(){if(V===1){ag=true;return Z=new RegExp("("+r.source+")("+r.source+")?")}}function X(){if(V===2){ag=true;return Z=new RegExp("("+r.source+")("+r.source+")")}}function W(ak){var ah,ai,aj=P[ak.join("/")];for(ah in aj){ai=new RegExp("^"+aj[ah]);if(ai.test(T)){Y.value=ah;return Z=new RegExp(aj[ah])}}return null}Y.type=ad;ab=ad.charAt(0),V=ad.length;if(ab==="Z"){if(V<4){ab="x";V=4}else{if(V<5){ab="O";V=4}else{ab="X";V=5}}}switch(ab){case"G":W(["gregorian/eras",V<=3?"eraAbbr":(V===4?"eraNames":"eraNarrow")]);break;case"y":case"Y":ag=true;if(V===1){Z=new RegExp("("+r.source+")+")}else{if(V===2){Z=new RegExp("("+r.source+")("+r.source+")")}else{Z=new RegExp("("+r.source+"){"+V+",}")}}break;case"Q":case"q":ae()||X()||W(["gregorian/quarters",ab==="Q"?"format":"stand-alone",R[V-3]]);break;case"M":case"L":af()||X()||W(["gregorian/months",ab==="M"?"format":"stand-alone",R[V-3]]);break;case"D":if(V<=3){ag=true;Z=new RegExp("("+r.source+"){"+V+",3}")}break;case"W":case"F":ae();break;case"e":case"c":if(V<=2){ae()||X();break}case"E":if(V===6){W(["gregorian/days",[ab==="c"?"stand-alone":"format"],"short"])||W(["gregorian/days",[ab==="c"?"stand-alone":"format"],"abbreviated"])}else{W(["gregorian/days",[ab==="c"?"stand-alone":"format"],R[V<3?0:V-3]])}break;case"a":W(["gregorian/dayPeriods/format/wide"]);break;case"w":case"d":case"h":case"H":case"K":case"k":case"j":case"m":case"s":af()||X();break;case"S":ag=true;Z=new RegExp("("+r.source+"){"+V+"}");break;case"A":ag=true;Z=new RegExp("("+r.source+"){"+(V+5)+"}");break;case"z":case"O":if(T===P["timeZoneNames/gmtZeroFormat"]){Y.value=0;Z=new RegExp(P["timeZoneNames/gmtZeroFormat"])}else{Z=ac(V<4?"+H;-H":P["timeZoneNames/hourFormat"],P["timeZoneNames/gmtFormat"],Q);if(!aa(Z,O)){return null}}break;case"X":if(T==="Z"){Y.value=0;Z=/Z/;break}case"x":Z=ac(V===1?"+HH;-HH":(V%2?"+HH:mm;-HH:mm":"+HHmm;-HHmm"));if(!aa(Z)){return null}break;case"'":Y.type="literal";ad=ad.replace(/''/,"'");if(V>2){ad=ad.slice(1,-1)}Z=new RegExp(x(ad));break;default:Y.type="literal";Z=/./}if(!Z){return false}T=T.replace(new RegExp("^"+Z.source),function(ah){Y.lexeme=ah;if(ag){Y.value=O(ah)}return""});if(!Y.lexeme){return false}U.push(Y);return true});return S?U:[]};var d=function(R,P){var O={pattern:R,timeSeparator:B("timeSeparator",P)},Q=["abbreviated","wide","narrow"];function S(U,T){O[U.replace(/^.*\/dates\//,"").replace(/calendars\//,"")]=T}P.on("get",S);R.match(q).forEach(function(V){var T,U;T=V.charAt(0),U=V.length;if(T==="Z"&&U<5){T="O";U=4}switch(T){case"G":P.main(["dates/calendars/gregorian/eras",U<=3?"eraAbbr":(U===4?"eraNames":"eraNarrow")]);break;case"u":case"U":throw c({feature:"year pattern `"+T+"`"});case"Q":case"q":if(U>2){P.main(["dates/calendars/gregorian/quarters",T==="Q"?"format":"stand-alone",Q[U-3]])}break;case"M":case"L":if(U>2){P.main(["dates/calendars/gregorian/months",T==="M"?"format":"stand-alone",Q[U-3]])}break;case"g":throw c({feature:"Julian day pattern `g`"});case"e":case"c":if(U<=2){break}case"E":if(U===6){P.main(["dates/calendars/gregorian/days",[T==="c"?"stand-alone":"format"],"short"])||P.main(["dates/calendars/gregorian/days",[T==="c"?"stand-alone":"format"],"abbreviated"])}else{P.main(["dates/calendars/gregorian/days",[T==="c"?"stand-alone":"format"],Q[U<3?0:U-3]])}break;case"a":P.main(["dates/calendars/gregorian/dayPeriods/format/wide"]);break;case"z":case"O":P.main("dates/timeZoneNames/gmtFormat");P.main("dates/timeZoneNames/gmtZeroFormat");P.main("dates/timeZoneNames/hourFormat");break;case"v":case"V":throw c({feature:"timezone pattern `"+T+"`"})}});P.off("get",S);return O};function G(P,O){z(P,O,{skip:[/dates\/calendars\/gregorian\/dateTimeFormats\/availableFormats/,/dates\/calendars\/gregorian\/days\/.*\/short/,/supplemental\/timeData\/(?!001)/,/supplemental\/weekData\/(?!001)/]})}o.dateFormatter=o.prototype.dateFormatter=function(R){var Q,O,S,P;J(R,"pattern");p(R,"pattern");Q=this.cldr;s(Q);Q.on("get",G);R=v(R,Q);P=k(R,Q);Q.off("get",G);O=P.formatNumber;for(S in O){O[S]=this.numberFormatter({pattern:O[S]})}P.formatNumber=O;return function(T){J(T,"value");a(T,"value");return t(T,P)}};o.dateParser=o.prototype.dateParser=function(R){var P,Q,O;J(R,"pattern");p(R,"pattern");P=this.cldr;s(P);P.on("get",G);R=v(R,P);O=d(R,P);Q=D(P);P.off("get",G);O.parseNumber=this.numberParser({pattern:"0"});return function(S){var T;J(S,"value");b(S,"value");T=y(S,O);return E(S,T,Q)||null}};o.formatDate=o.prototype.formatDate=function(P,O){J(P,"value");a(P,"value");return this.dateFormatter(O)(P)};o.parseDate=o.prototype.parseDate=function(P,O){J(P,"value");b(P,"value");return this.dateParser(O)(P)};return o}));