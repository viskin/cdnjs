/*!
 * Globalize v1.1.0-rc.1 2015-08-23T14:55Z Released under the MIT license
 * http://git.io/TrdQbw
 */
(function(a,b){if(typeof define==="function"&&define.amd){define(["cldr","../globalize","cldr/event","cldr/supplemental"],b)}else{if(typeof exports==="object"){module.exports=b(require("cldrjs"),require("globalize"))}else{b(a.Cldr,a.Globalize)}}}(this,function(j,n){var l=n._createError,o=n._objectExtend,x=n._regexpEscape,J=n._runtimeBind,E=n._stringPad,y=n._validateCldr,p=n._validateDefaultLocale,F=n._validateParameterPresence,a=n._validateParameterRange,G=n._validateParameterType,A=n._validateParameterTypePlainObject;var e=function(M){return l("E_UNSUPPORTED","Unsupported {feature}.",{feature:M})};var H=function(N,M){G(N,M,N===undefined||typeof N==="number","Number")};var d=function(N,M){G(N,M,N===undefined||typeof N==="string","a string")};var h=function(Q,M,T){var P,S=M,O="",N=",",R=T?true:false;Q=String(Q).split(".");P=Q[0].length;while(P>S){O=Q[0].slice(P-S,P)+(O.length?N:"")+O;P-=S;if(R){S=T;R=false}}Q[0]=Q[0].slice(0,P)+(O.length?N:"")+O;return Q.join(".")};var r=function(Q,P,N,R,M,O){if(R){if(O){Q=M(Q,O)}else{Q=M(Q,{exponent:-R})}if(N){Q=String(Q).split(".");Q[1]=E(Q[1]||"",N,true);Q=Q.join(".")}}else{Q=M(Q)}Q=String(Q);if(P){Q=Q.split(".");Q[0]=E(Q[0],P);Q=Q.join(".")}return Q};var u=function(P,M,N){var O;P=P.toPrecision(M+2);O=Math.ceil(Math.log(Math.abs(P))/Math.log(10));O-=M;return N(P,{exponent:O})};var D=function(P,R,Q,M){var N,O;if(R>Q){Q=R}N=u(P,R,M);O=u(P,Q,M);P=+N===+O?N:O;P=(+P).toString(10);if((/e/).test(P)){throw e({feature:"integers out of (1e21, 1e-7)"})}if(R-P.replace(/^0+|\./g,"").length>0){P=P.split(".");P[1]=E(P[1]||"",R-P[0].replace(/^0+/,"").length,true);P=P.join(".")}return P};var L=function(M,Q){var W,ab,N,V,ad,R,ae,Z,U,Y,X,aa,af,ac,T,P,O,S;U=Q[1];ad=Q[2];V=Q[3];ab=Q[4];R=Q[5];N=Q[6];T=Q[7];X=Q[8];P=Q[9];ac=Q[15];W=Q[16];ae=Q[17];S=Q[18];Z=Q[19];if(isNaN(M)){return ae}if(M<0){aa=Q[12];Y=Q[13];O=Q[14]}else{aa=Q[11];Y=Q[0];O=Q[10]}if(!isFinite(M)){return Y+W+O}af=Y;if(aa.indexOf("%")!==-1){M*=100}else{if(aa.indexOf("\u2030")!==-1){M*=1000}}if(!isNaN(R*N)){M=D(M,R,N,ac)}else{M=r(M,ad,V,ab,ac,T)}M=M.replace(/^-/,"");if(X){M=h(M,X,P)}af+=M;af+=O;return af.replace(/('([^']|'')+'|'')|./g,function(ah,ag){if(ag){ag=ag.replace(/''/,"'");if(ag.length>2){ag=ag.slice(1,-1)}return ag}ah=ah.replace(/[.,\-+E%\u2030]/,function(ai){return S[ai]});if(Z){ah=ah.replace(/[0-9]/,function(ai){return Z[+ai]})}return ah})};var I=function(M){return function N(O){F(O,"value");H(O,"value");return L(O,M)}};var v=function(N){var M=N.attributes["u-nu"];if(M){if(M==="traditio"){M="traditional"}if(["native","traditional","finance"].indexOf(M)!==-1){return N.main(["numbers/otherNumberingSystems",M])}return M}return N.main("numbers/defaultNumberingSystem")};var t=function(O){var M,N=v(O);if(N==="latn"){return}M=O.supplemental(["numberingSystems",N]);if(M._type!=="numeric"){throw e("`"+M._type+"` numbering system")}return M._digits};var b=(/^(('[^']+'|''|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/);var k=function(aa){var ae,ad,Y,N,U,ab,M,W,ac,R,T,Z,X,S,V,P,Q,O;aa=aa.match(b);if(!aa){throw new Error("Invalid pattern: "+aa)}Z=aa[1];T=aa[3];N=aa[4];Q=aa[8];V=aa[9];O=aa[10];if(Q){Q.replace(/(@+)(#*)/,function(ag,af,ah){R=af.length;M=R+ah.length})}else{Y=aa[7];U=aa[6];if(Y){Y.replace(/[0-9]+/,function(af){W=af});if(W){S=+("0."+W);W=W.length}else{W=0}ab=Y.length-1}U.replace(/0+$/,function(af){ac=af.length})}if(V){throw e({feature:"scientific notation (not implemented)"})}if(T){throw e({feature:"padding (not implemented)"})}if((ae=N.lastIndexOf(","))!==-1){ad=N.split(".")[0];X=ad.length-ae-1;if((ad=N.lastIndexOf(",",ae-1))!==-1){P=ae-1-ad}}return[Z,T,ac,W,ab,R,M,S,X,P,O]};var C=function(M,N){return N.main(["numbers/symbols-numberSystem-"+v(N),M])};var f={".":"decimal",",":"group","%":"percentSign","+":"plusSign","-":"minusSign",E:"exponential","\u2030":"perMille"};var s=function(N){var O,M={};for(O in f){M[O]=C(f[O],N)}return M};var K=function(M){if(isNaN(M)){return NaN}return Math[M<0?"ceil":"floor"](M)};var i=function(M){M=M||"round";M=M==="truncate"?K:Math[M];return function(O,Q){var P,N;O=+O;if(isNaN(O)){return NaN}if(typeof Q==="object"&&Q.exponent){P=+Q.exponent;N=1;if(P===0){return M(O)}if(!(typeof P==="number"&&P%1===0)){return NaN}}else{N=+Q||1;if(N===1){return M(O)}if(isNaN(N)){return NaN}N=N.toExponential().split("e");P=+N[1];N=+N[0]}O=O.toString().split("e");O[0]=+O[0]/N;O[1]=O[1]?(+O[1]-P):-P;O=M(+(O[0]+"e"+O[1]));O=O.toString().split("e");O[0]=+O[0]*N;O[1]=O[1]?(+O[1]+P):P;return +(O[0]+"e"+O[1])}};var c=function(Q,V,W){var N,M,T,S,U,O,P;function R(X,Y){if(X in W){P[Y]=W[X]}}W=W||{};Q=Q.split(";");U=Q[0];N=Q[1]||"-"+U;T=k(N);M=T[0];S=T[10];O=i(W.round);O.generatorString=function(){return"numberRound("+(W.round?'"'+W.round+'"':"")+")"};P=k(U).concat([U,M+U+S,M,S,O,C("infinity",V),C("nan",V),s(V),t(V)]);R("minimumIntegerDigits",2);R("minimumFractionDigits",3);R("maximumFractionDigits",4);R("minimumSignificantDigits",5);R("maximumSignificantDigits",6);if(W.useGrouping===false){P[8]=null}if("minimumFractionDigits" in W&&!("maximumFractionDigits" in W)){P[4]=Math.max(P[3],P[4])}else{if(!("minimumFractionDigits" in W)&&"maximumFractionDigits" in W){P[3]=Math.min(P[3],P[4])}}return P};var z=(/^([^0-9]*)(([0-9,]*[0-9]+)(\.[0-9]+)?)(E[+-]?[0-9]+)?([^0-9]*)$/);var B=function(X,U){var N,O,T,V,P,R,M,W,Q,S,Y;O=U[0];V=U[1];M=U[2];W=U[3];T=U[4];if(N=X.match(O)){Q=Infinity;S=X.slice(0,N.length);Y=X.slice(N.length+1)}else{R=new RegExp(Object.keys(V).map(function(Z){return x(Z)}).join("|"),"g");X=X.replace(R,function(Z){return V[Z]});if(T){P=new RegExp(Object.keys(T).map(function(Z){return x(Z)}).join("|"),"g");X=X.replace(P,function(Z){return T[Z]})}X=X.match(z);if(!X){return NaN}S=X[1];Y=X[6];Q=X[2].replace(/,/g,"");if(X[5]){Q+=X[5]}Q=+Q;if(isNaN(Q)){return NaN}if(X[0].indexOf("%")!==-1){Q/=100;Y=Y.replace("%","")}else{if(X[0].indexOf("\u2030")!==-1){Q/=1000;Y=Y.replace("\u2030","")}}}if(S===M&&Y===W){Q*=-1}return Q};var q=function(N){return function M(O){F(O,"value");d(O,"value");return B(O,N)}};var m=function(N){var O,M={};for(O in f){M[C(f[O],N)]=O}return M};var w=function(R,O){var N,S,Q,M,P=t(O);R=R.split(";");Q=R[1]||"-"+R[0];M=k(Q);if(P){N=P.split("").reduce(function(T,V,U){T[V]=String(U);return T},{});S="0123456789".split("").reduce(function(T,U){T[U]="invalid";return T},{});N=o(S,N)}return[C("infinity",O),o({},f,m(O)),M[0],M[10].replace("%","").replace("\u2030",""),N]};var g=function(N,M){if(N!=="decimal"&&N!=="percent"){throw new Error("Invalid style")}return M.main(["numbers",N+"Formats-numberSystem-"+v(M),"standard"])};n.numberFormatter=n.prototype.numberFormatter=function(W){var T,V,Q,M,N,P,O,S,R,U;A(W,"options");W=W||{};V=this.cldr;T=[W];p(V);V.on("get",y);if(W.raw){S=W.raw}else{S=g(W.style||"decimal",V)}R=c(S,V,W);V.off("get",y);P=R[2];N=R[3];Q=R[4];O=R[5];M=R[6];if(!isNaN(O*M)){a(O,"minimumSignificantDigits",1,21);a(M,"maximumSignificantDigits",O,21)}else{if(!isNaN(O)||!isNaN(M)){throw new Error("Neither or both the minimum and maximum significant digits must be present")}else{a(P,"minimumIntegerDigits",1,21);a(N,"minimumFractionDigits",0,20);a(Q,"maximumFractionDigits",N,20)}}U=I(R);J(T,V,U,[R]);return U};n.numberParser=n.prototype.numberParser=function(O){var N,Q,R,P,M;A(O,"options");O=O||{};Q=this.cldr;N=[O];p(Q);Q.on("get",y);if(O.raw){R=O.raw}else{R=g(O.style||"decimal",Q)}P=w(R,Q);Q.off("get",y);M=q(P);J(N,Q,M,[P]);return M};n.formatNumber=n.prototype.formatNumber=function(N,M){F(N,"value");H(N,"value");return this.numberFormatter(M)(N)};n.parseNumber=n.prototype.parseNumber=function(N,M){F(N,"value");d(N,"value");return this.numberParser(M)(N)};n._createErrorUnsupportedFeature=e;n._numberNumberingSystem=v;n._numberPattern=g;n._numberSymbol=C;n._stringPad=E;n._validateParameterTypeNumber=H;n._validateParameterTypeString=d;return n}));