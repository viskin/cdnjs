((function(){var a,b,c,d;typeof module!="undefined"?d=require("moment"):d=window.moment;if(typeof d=="undefined")throw"Can't find moment";a=function(){function a(a,b,c){this.start=d(a),this.end=d(b),this.allDay=c}return a.prototype.sameDay=function(){return this.start.year()===this.end.year()&&this.start.month()===this.end.month()&&this.start.date()===this.end.date()},a.prototype.sameYear=function(){return this.start.year()===this.end.year()},a.prototype.countDays=function(){var a,c;return c=b(this.start),a=b(this.end),a.diff(c,"days")+1},a.prototype.daysIn=function(a){var c,d;return d=b(this.start),c=b(this.end),{next:function(){var a;return d>c?null:(a=d.clone(),d.add("days",1),a)},hasNext:function(){return d<=c}}},a.prototype.duration=function(){return this.allDay?this.sameDay()?"all day":this.start.from(this.end.clone().add("days",1),!0):this.start.from(this.end,!0)},a.prototype.format=function(a){var b,e,f,g,h,i,j,k,l,m,n,o,p,q=this;k={groupMeridiems:!0,spaceBeforeMeridiem:!0,showDate:!0,showDayOfWeek:!1,twentyFourHour:!1,implicitMinutes:!0,yearFormat:"YYYY",monthFormat:"MMM",weekdayFormat:"ddd",dayFormat:"D",meridiemFormat:"A",hourFormat:"h",minuteFormat:"mm",allDay:"all day"},c(k,a||{}),h=[],k.twentyFourHour&&(k.hourFormat=k.hourFormat.replace("h","H")),j=k.showDate||!this.sameDay(),this.allDay&&this.sameDay()&&!k.showDate&&h.push({name:"all day simple",fn:function(){return k.allDay},slot:0,pre:" "}),j&&(this.start.year()!==d().year()||!this.sameYear())&&h.push({name:"year",fn:function(a){return a.format(k.yearFormat)},pre:", ",slot:4}),!this.allDay&&j&&h.push({name:"all day month",fn:function(a){return a.format(""+k.monthFormat+" "+k.dayFormat)},slot:2,pre:" "}),this.allDay&&j&&h.push({name:"month",fn:function(a){return a.format("MMM")},slot:2,pre:" "}),this.allDay&&j&&h.push({name:"date",fn:function(a){return a.format(k.dayFormat)},slot:3,pre:" "}),j&&k.showDayOfWeek&&h.push({name:"day of week",fn:function(a){return a.format(k.weekdayFormat)},pre:" ",slot:1}),k.groupMeridiems&&!k.twentyFourHour&&!this.allDay&&h.push({name:"meridiem",fn:function(a){return a.format(k.meridiemFormat)},slot:6,pre:k.spaceBeforeMeridiem?" ":""}),this.allDay||h.push({name:"time",fn:function(a){var b;return b=a.minutes()===0&&k.implicitMinutes&&!k.twentyFourHour?a.format(k.hourFormat):a.format(""+k.hourFormat+":"+k.minuteFormat),!k.groupMeridiems&&!k.twentyFourHour&&(k.spaceBeforeMeridiem&&(b+=" "),b+=a.format(k.meridiemFormat)),b},pre:", ",slot:5}),m=[],e=[],b=[],n=!0,l=function(a){var c,d,g;return g=a.fn(q.start),c=a.fn(q.end),d={format:a,value:function(){return g}},c===g&&n?b.push(d):(n&&(n=!1,b.push({format:{slot:a.slot,pre:""},value:function(){return""+f(m)+" -"+f(e,!0)}})),m.push(d),e.push({format:a,value:function(){return c}}))};for(o=0,p=h.length;o<p;o++)g=h[o],g.skip!==!0&&l(g);return i=!0,f=function(a,b){var c,d,e,f,g,h;c=!0,e="",h=a.sort(function(a,b){return a.format.slot-b.format.slot});for(f=0,g=h.length;f<g;f++)d=h[f],i||(c&&b?e+=" ":e+=d.format.pre),e+=d.value(),i=!1,c=!1;return e},f(b)},a}(),c=function(a,b){var c,d;d=[];for(c in b)typeof b[c]!="undefined"?d.push(a[c]=b[c]):d.push(void 0);return d},b=function(a){return a.clone().hours(0).minutes(0).seconds(0).milliseconds(0)},typeof module!="undefined"?module.exports=a:window.Twix=a})).call(this);