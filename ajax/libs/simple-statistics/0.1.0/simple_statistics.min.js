(function(){var a={};if(typeof module!=="undefined"){exports=module.exports=a}else{this.ss=a}a.linear_regression=function(){var b={},c=[];b.data=function(d){if(!arguments.length){return c}c=d.slice();return b};b.line=function(){if(c.length==1){e=0;d=c[0][1]}else{var k=0,j=0,g=0,f=0,e,d;for(var h=0;h<c.length;h++){k+=c[h][0];j+=c[h][1];g+=c[h][0]*c[h][0];f+=c[h][0]*c[h][1]}e=((c.length*f)-(k*j))/((c.length*g)-(k*k));d=(j/c.length)-((e*k)/c.length)}return function(i){return d+(e*i)}};return b};a.r_squared=function(h,m){if(h.length<2){return 1}var n=0,b;for(var l=0;l<h.length;l++){n+=h[l][1]}b=n/h.length;var e=0;for(var g=0;g<h.length;g++){e+=Math.pow(b-h[g][1],2)}var d=0;for(var c=0;c<h.length;c++){d+=Math.pow(h[c][1]-m(h[c][0]),2)}return 1-(d/e)};a.bayesian=function(){var b={},c=0,d={};b.train=function(h,g){if(!d[g]){d[g]={}}for(var f in h){var e=h[f];if(d[g][f]===undefined){d[g][f]={}}if(d[g][f][e]===undefined){d[g][f][e]=0}d[g][f][h[f]]++}c++};b.score=function(l){var e={};for(var g in l){var f=l[g];for(var j in d){if(e[j]===undefined){e[j]={}}if(d[j][g]){e[j][g+"_"+f]=d[j][g][f]/c}else{e[j][g+"_"+f]=0}}}var h={};for(var j in e){for(var i in e[j]){if(h[j]===undefined){h[j]=0}h[j]+=e[j][i]}}return h};return b};a.sum=function(b){var d=0;for(var c=0;c<b.length;c++){d+=b[c]}return d};a.mean=function(b){if(b.length===0){return null}return a.sum(b)/b.length};a.min=function(b){var d;for(var c=0;c<b.length;c++){if(b[c]<d||d===undefined){d=b[c]}}return d};a.max=function(c){var b;for(var d=0;d<c.length;d++){if(c[d]>b||b===undefined){b=c[d]}}return b};a.variance=function(b){if(b.length===0){return null}var c=a.mean(b),d=[];for(var e=0;e<b.length;e++){d.push(Math.pow(b[e]-c,2))}return a.mean(d)};a.standard_deviation=function(b){if(b.length===0){return null}return Math.sqrt(a.variance(b))};a.median=function(d){if(d.length===0){return null}var f=d.slice().sort();if(f.length%2===1){return f[(f.length-1)/2]}else{var e=f[(f.length/2)-1];var c=f[(f.length/2)];return(e+c)/2}};a.t_test=function(e,b){var c=a.mean(e);var f=a.standard_deviation(e);var d=Math.sqrt(e.length);return(c-b)/(f/d)}})(this);