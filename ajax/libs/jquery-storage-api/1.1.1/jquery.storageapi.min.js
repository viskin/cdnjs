(function($){function _3(storage){var l=arguments.length,s=window[storage],a=arguments,a1=a[1],vi,ret;if(l<2)throw new Error('Minimum 2 parameters must be given');else if($.isArray(a1)){ret={};for(var i in a1){vi=a1[i];try{ret[vi]=JSON.parse(s[vi])}catch(e){ret[vi]=s[vi]}}return ret}else if(l==2){try{return JSON.parse(s[a1])}catch(e){return s[a1]}}else{try{ret=JSON.parse(s[a1])}catch(e){throw new ReferenceError(a1+' is not defined in this storage')}for(var i=2;i<l-1;i++){ret=ret[a[i]];if(ret===undefined)throw new ReferenceError([].slice.call(a,1,i+1).join('.')+' is not defined in this storage')}return ret[a[i]]}}function _2(storage){var l=arguments.length,s=window[storage],a=arguments,a1=a[1],a2=a[2],vi,to_store={},tmp;if(l<2||!$.isPlainObject(a1)&&l<3)throw new Error('Minimum 3 parameters must be given or second parameter must be an object');else if($.isPlainObject(a1)){for(var i in a1){vi=a1[i];if(!$.isPlainObject(vi))s[i]=vi;else s[i]=JSON.stringify(vi)}return a1}else if(l==3&&!$.isPlainObject(a2)){s[a1]=a2;return a2}else if(l==3){s[a1]=JSON.stringify(a2);return a2}else{try{to_store=JSON.parse(s[a1])}catch(e){to_store={}}tmp=to_store;for(var i=2;i<l-2;i++){vi=a[i];if(!tmp[vi]||!$.isPlainObject(tmp[vi]))tmp[vi]={};tmp=tmp[vi]}tmp[a[i]]=a[i+1];s[a1]=JSON.stringify(to_store);return to_store}}function _4(storage){var l=arguments.length,s=window[storage],a=arguments,a1=a[1],to_store,tmp;if(l<2)throw new Error('Minimum 2 parameters must be given');else if($.isArray(a1)){for(var i in a1){delete s[a1[i]]}return true}else if(l==2){delete s[a1];return true}else{try{to_store=tmp=JSON.parse(s[a1])}catch(e){throw new ReferenceError(a1+' is not defined in this storage')}for(var i=2;i<l-1;i++){tmp=tmp[a[i]];if(tmp===undefined)throw new ReferenceError([].slice.call(a,1,i).join('.')+' is not defined in this storage')}delete tmp[a[i]];s[a1]=JSON.stringify(to_store);return true}}function _5(storage){for(var i in window[storage]){delete window[storage][i]}}function _6(name){if(!name||typeof name!="string")throw new Error('First parameter must be a string');if(!window.localStorage[name])window.localStorage[name]='{}';if(!window.sessionStorage[name])window.sessionStorage[name]='{}';return{localStorage:$.extend({},storage,{_1:'localStorage',_0:name}),sessionStorage:$.extend({},storage,{_1:'sessionStorage',_0:name})}}var storage={_1:'',_0:'',get:function(){var l=arguments.length,a=arguments,a0=a[0],vi;if(!$.isArray(a0)){var p=[this._1];if(this._0)p.push(this._0);[].unshift.apply(a,p);return _3.apply(this,a)}else if(this._0){var ret={};for(var i in a0){vi=a0[i];ret[vi]=_3(this._1,this._0,vi)}return ret}else{return _3(this._1,a0)}},set:function(){var l=arguments.length,a=arguments,a0=a[0],vi;if(l<1||!$.isPlainObject(a0)&&l<2)throw new Error('Minimum 2 parameters must be given or first parameter must be an object');if(!$.isPlainObject(a0)){var p=[this._1];if(this._0)p.push(this._0);[].unshift.apply(a,p);return _2.apply(this,a)}else if(this._0){for(var i in a0){_2(this._1,this._0,i,a0[i])}return a0}else{return _2(this._1,a0)}},delete:function(){var l=arguments.length,a=arguments,a0=a[0],vi;if(l<1)throw new Error('Minimum 1 parameter must be given');if(!$.isArray(a0)){var p=[this._1];if(this._0)p.push(this._0);[].unshift.apply(a,p);return _4.apply(this,a)}else if(this._0){for(var i in a0){_4(this._1,this._0,a0[i])}return true}else{return _4(this._1,a0)}},deleteAll:function(){if(this._0){_2(this._1,this._0,{});return true}else{return _5(this._1)}}};$.initNamespaceStorage=function(ns){return _6(ns)};$.localStorage=$.extend({},storage,{_1:'localStorage'});$.sessionStorage=$.extend({},storage,{_1:'sessionStorage'})})(jQuery);