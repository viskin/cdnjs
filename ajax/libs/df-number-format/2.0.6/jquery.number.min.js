/*! jQuery number 2.0.6 (c) github.com/teamdf/jquery-number | opensource.teamdf.com/license */
(function(h){function r(d,b){if(this.createTextRange){var c=this.createTextRange();c.collapse(true);c.moveStart("character",d);c.moveEnd("character",b-d);c.select()}else if(this.setSelectionRange){this.focus();this.setSelectionRange(d,b)}}function s(d){var b=this.value.length;d=d.toLowerCase()=="start"?"Start":"End";if(document.selection){b=document.selection.createRange();var c;c=b.duplicate();c.expand("textedit");c.setEndPoint("EndToEnd",b);c=c.text.length-b.text.length;b=c+b.text.length;return d==
"Start"?c:b}else if(typeof this["selection"+d]!="undefined")b=this["selection"+d];return b}var q={codes:{188:44,109:45,190:46,191:47,192:96,220:92,222:39,221:93,219:91,173:45,187:61,186:59,189:45,110:46},shifts:{96:"~",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",48:")",45:"_",61:"+",91:"{",93:"}",92:"|",59:":",39:'"',44:"<",46:">",47:"?"}};h.fn.number=function(d,b,c,m){m=typeof m==="undefined"?",":m;c=typeof c==="undefined"?".":c;var i="\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4),
n=RegExp("[^"+i+"0-9]","g"),o=RegExp(i,"g");if(d===true)return this.is("input:text")?this.on({"keydown.format":function(a){var f=h(this),e=f.data("numFormat"),g=a.keyCode?a.keyCode:a.which,k="",j=s.apply(this,["start"]),p=s.apply(this,["end"]),l="";l=false;if(typeof a.originalEvent.keyIdentifier!=="undefined")k=unescape(a.originalEvent.keyIdentifier.replace("U+","%u"));else{if(q.codes.hasOwnProperty(g))g=q.codes[g];if(!a.shiftKey&&g>=65&&g<=90)g+=32;else if(!a.shiftKey&&g>=69&&g<=105)g-=48;else if(a.shiftKey&&
q.shifts.hasOwnProperty(g))k=q.shifts[g];if(k=="")k=String.fromCharCode(g)}if(g!==8&&k!=c&&!k.match(/[0-9]/)){f=a.keyCode?a.keyCode:a.which;if(f==46||f==8||f==9||f==27||f==13||(f==65||f==82)&&(a.ctrlKey||a.metaKey)===true||f>=35&&f<=39)return;a.preventDefault();return false}if((j==0&&p==this.value.length||f.val()==0)&&!a.metaKey&&!a.ctrlKey&&!a.altKey&&k.length===1&&k!=0){j=p=1;this.value="";e.init=-1;e.c=-(b+1);r.apply(this,[0,0])}else e.c=p-this.value.length;if(k==c&&j==this.value.length-b-1){e.c++;
e.init=Math.max(0,e.init);a.preventDefault();l=this.value.length+e.c}else if(k==c){e.init=Math.max(0,e.init);a.preventDefault()}else if(g==8&&j==this.value.length-b){a.preventDefault();e.c--;l=this.value.length+e.c}else if(g==8&&j>this.value.length-b){if(this.value==="")return;if(this.value.slice(j-1,j)!="0"){l=this.value.slice(0,j-1)+"0"+this.value.slice(j);f.val(l.replace(n,"").replace(o,c))}a.preventDefault();e.c--;l=this.value.length+e.c}else if(g==8&&this.value.slice(j-1,j)==m){a.preventDefault();
e.c--;l=this.value.length+e.c}else if(j==p&&this.value.length>b+1&&j>this.value.length-b-1&&isFinite(+k)&&!a.metaKey&&!a.ctrlKey&&!a.altKey&&k.length===1){this.value=l=p===this.value.length?this.value.slice(0,j-1):this.value.slice(0,j)+this.value.slice(j+1);l=j}l!==false&&r.apply(this,[l,l]);f.data("numFormat",e)},"keyup.format":function(a){var f=h(this),e=f.data("numFormat");a=a.keyCode?a.keyCode:a.which;var g=s.apply(this,["start"]);if(!(this.value===""||(a<48||a>57)&&(a<96||a>105)&&a!==8)){f.val(f.val());
if(e.init<1){g=this.value.length-b-(e.init<0?1:0);e.c=g-this.value.length;e.init=1;f.data("numFormat",e)}else if(g>this.value.length-b&&a!=8){e.c++;f.data("numFormat",e)}f=this.value.length+e.c;r.apply(this,[f,f])}},"paste.format":function(a){var f=h(this),e=a.originalEvent,g=null;if(window.clipboardData&&window.clipboardData.getData)g=window.clipboardData.getData("Text");else if(e.clipboardData&&e.clipboardData.getData)g=e.clipboardData.getData("text/plain");f.val(g);a.preventDefault();return false}}).each(function(){var a=
h(this).data("numFormat",{c:-(b+1),decimals:b,thousands_sep:m,dec_point:c,regex_dec_num:n,regex_dec:o,init:false});this.value!==""&&a.val(a.val())}):this.each(function(){var a=h(this),f=+a.text().replace(n,"").replace(o,".");a.number(!isFinite(f)?0:+f,b,c,m)});return this.text(h.number.apply(window,arguments))};var t=null,u=null;if(h.valHooks.text){t=h.valHooks.text.get;u=h.valHooks.text.set}else h.valHooks.text={};h.valHooks.text.get=function(d){var b=h(d).data("numFormat");if(b){if(d.value==="")return"";
d=+d.value.replace(b.regex_dec_num,"").replace(b.regex_dec,".");return""+(isFinite(d)?d:0)}else if(h.isFunction(t))return t(d)};h.valHooks.text.set=function(d,b){var c=h(d).data("numFormat");if(c)return d.value=h.number(b,c.decimals,c.dec_point,c.thousands_sep);else if(h.isFunction(u))return u(d,b)};h.number=function(d,b,c,m){m=typeof m==="undefined"?",":m;c=typeof c==="undefined"?".":c;b=!isFinite(+b)?0:Math.abs(b);var i="\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4);d=(d+"").replace(RegExp(i,
"g"),".").replace(RegExp("[^0-9+-Ee.]","g"),"");d=!isFinite(+d)?0:+d;i="";i=function(n,o){var a=Math.pow(10,o);return""+Math.round(n*a)/a};i=(b?i(d,b):""+Math.round(d)).split(".");if(i[0].length>3)i[0]=i[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,m);if((i[1]||"").length<b){i[1]=i[1]||"";i[1]+=Array(b-i[1].length+1).join("0")}return i.join(c)}})(jQuery);
