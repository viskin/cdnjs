/*! jQuery number 2.0.5 (c) github.com/teamdf/jquery-number | opensource.teamdf.com/license */
(function(g){function q(e,b){if(this.createTextRange){var d=this.createTextRange();d.collapse(true);d.moveStart("character",e);d.moveEnd("character",b-e);d.select()}else if(this.setSelectionRange){this.focus();this.setSelectionRange(e,b)}}function r(e){var b=this.value.length;e=e.toLowerCase()=="start"?"Start":"End";if(document.selection){b=document.selection.createRange();var d;d=b.duplicate();d.expand("textedit");d.setEndPoint("EndToEnd",b);d=d.text.length-b.text.length;b=d+b.text.length;return e==
"Start"?d:b}else if(typeof this["selection"+e]!="undefined")b=this["selection"+e];return b}var p={codes:{188:44,109:45,190:46,191:47,192:96,220:92,222:39,221:93,219:91,173:45,187:61,186:59,189:45,110:46},shifts:{96:"~",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",48:")",45:"_",61:"+",91:"{",93:"}",92:"|",59:":",39:'"',44:"<",46:">",47:"?"}};g.fn.number=function(e,b,d,k){k=typeof k==="undefined"?",":k;d=typeof d==="undefined"?".":d;var i="\\u"+("0000"+d.charCodeAt(0).toString(16)).slice(-4),
m=RegExp("[^"+i+"0-9]","g"),n=RegExp(i,"g");if(e===true)return this.is("input:text")?this.on({"keydown.format":function(a){var h=g(this),f=h.data("numFormat"),c=a.keyCode?a.keyCode:a.which,l="",j=r.apply(this,["start"]),o=r.apply(this,["end"]),s="";setPos=false;if(typeof a.originalEvent.keyIdentifier!=="undefined")l=unescape(a.originalEvent.keyIdentifier.replace("U+","%u"));else{if(p.codes.hasOwnProperty(c))c=p.codes[c];if(!a.shiftKey&&c>=65&&c<=90)c+=32;else if(!a.shiftKey&&c>=69&&c<=105)c-=48;else if(a.shiftKey&&
p.shifts.hasOwnProperty(c))l=p.shifts[c];if(l=="")l=String.fromCharCode(c)}if(c!==8&&l!=d&&(c<48||c>57)&&(c<96||c>105)){if(c==46||c==8||c==9||c==27||c==13||(c==65||c==82)&&(a.ctrlKey||a.metaKey)===true||c>=35&&c<=39)return;a.preventDefault();return false}if((j==0&&o==this.value.length||h.val()==0)&&!a.metaKey&&!a.ctrlKey&&!a.altKey&&l.length===1&&l!=0){j=o=1;this.value="";f.init=-1;f.c=-(b+1);q.apply(this,[0,0])}else f.c=o-this.value.length;if(l==d&&j==this.value.length-b-1){f.c++;f.init=Math.max(0,
f.init);a.preventDefault();setPos=this.value.length+f.c}else if(l==d){f.init=Math.max(0,f.init);a.preventDefault()}else if(c==8&&j==this.value.length-b){a.preventDefault();f.c--;setPos=this.value.length+f.c}else if(c==8&&j>this.value.length-b){if(this.value==="")return;if(this.value.slice(j-1,j)!="0"){s=this.value.slice(0,j-1)+"0"+this.value.slice(j);h.val(s.replace(m,"").replace(n,d))}a.preventDefault();f.c--;setPos=this.value.length+f.c}else if(c==8&&this.value.slice(j-1,j)==k){a.preventDefault();
f.c--;setPos=this.value.length+f.c}else if(j==o&&this.value.length>b+1&&j>this.value.length-b-1&&isFinite(+l)&&!a.metaKey&&!a.ctrlKey&&!a.altKey&&l.length===1){this.value=s=o===this.value.length?this.value.slice(0,j-1):this.value.slice(0,j)+this.value.slice(j+1);setPos=j}setPos!==false&&q.apply(this,[setPos,setPos]);h.data("numFormat",f)},"keyup.format":function(a){var h=g(this),f=h.data("numFormat");a=a.keyCode?a.keyCode:a.which;var c=r.apply(this,["start"]);if(!(this.value===""||(a<48||a>57)&&(a<
96||a>105)&&a!==8)){h.val(h.val());if(f.init<1){c=this.value.length-b-(f.init<0?1:0);f.c=c-this.value.length;f.init=1;h.data("numFormat",f)}else if(c>this.value.length-b&&a!=8){f.c++;h.data("numFormat",f)}h=this.value.length+f.c;q.apply(this,[h,h])}},"paste.format":function(a){var h=g(this),f=a.originalEvent,c=null;if(window.clipboardData&&window.clipboardData.getData)c=window.clipboardData.getData("Text");else if(f.clipboardData&&f.clipboardData.getData)c=f.clipboardData.getData("text/plain");h.val(c);
a.preventDefault();return false}}).each(function(){var a=g(this).data("numFormat",{c:-(b+1),decimals:b,thousands_sep:k,dec_point:d,regex_dec_num:m,regex_dec:n,init:false});this.value!==""&&a.val(a.val())}):this.each(function(){var a=g(this),h=+a.text().replace(m,"").replace(n,".");a.number(!isFinite(h)?0:+h,b,d,k)});return this.text(g.number.apply(window,arguments))};var t=null,u=null;if(g.valHooks.text){t=g.valHooks.text.get;u=g.valHooks.text.set}else g.valHooks.text={};g.valHooks.text.get=function(e){var b=
g(e).data("numFormat");if(b){if(e.value==="")return"";e=+e.value.replace(b.regex_dec_num,"").replace(b.regex_dec,".");return""+(isFinite(e)?e:0)}else if(g.isFunction(t))return t(e)};g.valHooks.text.set=function(e,b){var d=g(e).data("numFormat");if(d)return e.value=g.number(b,d.decimals,d.dec_point,d.thousands_sep);else if(g.isFunction(u))return u(e,b)};g.number=function(e,b,d,k){k=typeof k==="undefined"?",":k;d=typeof d==="undefined"?".":d;b=!isFinite(+b)?0:Math.abs(b);var i="\\u"+("0000"+d.charCodeAt(0).toString(16)).slice(-4);
e=(e+"").replace(RegExp(i,"g"),".").replace(RegExp("[^0-9+-Ee.]","g"),"");e=!isFinite(+e)?0:+e;i="";i=function(m,n){var a=Math.pow(10,n);return""+Math.round(m*a)/a};i=(b?i(e,b):""+Math.round(e)).split(".");if(i[0].length>3)i[0]=i[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,k);if((i[1]||"").length<b){i[1]=i[1]||"";i[1]+=Array(b-i[1].length+1).join("0")}return i.join(d)}})(jQuery);
