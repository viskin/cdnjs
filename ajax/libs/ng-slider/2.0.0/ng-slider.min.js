/** 
* @license ng-slider - v2.0.0
* (c) 2013 Julien VALERY https://github.com/darul75/ng-slider
* License: MIT 
**/
!function(a){"use strict";a.module("ngSlider",["ngSanitize"]).directive("slider",["$compile","$templateCache","$timeout","$window","slider",function(b,c,d,e,f){return{restrict:"AE",require:"?ngModel",scope:{options:"="},priority:1,link:function(g,h,i,j){function k(){a.element(e).bind("resize",function(){g.slider.onresize()})}if(j){g.mainSliderClass="jslider",g.mainSliderClass+=" jslider_round",h.after(b(c.get("ng-slider/slider-bar.tmpl.html"))(g,function(a,b){b.tmplElt=a})),j.$render=function(){(j.$viewValue||0===j.$viewValue)&&("number"==typeof j.$viewValue&&(j.$viewValue=""+j.$viewValue),j.$viewValue.split(";")[1]||(g.mainSliderClass+=" jslider-single"),g.slider&&(g.slider.getPointers()[0].set(j.$viewValue.split(";")[0],!0),j.$viewValue.split(";")[1]&&g.slider.getPointers()[1].set(j.$viewValue.split(";")[1],!0)))};var l=function(){g.from=""+g.options.from,g.to=""+g.options.to,g.options.calculate&&"function"==typeof g.options.calculate&&(g.from=g.options.calculate(g.from),g.to=g.options.calculate(g.to));var b={from:g.options.from,to:g.options.to,step:g.options.step,smooth:g.options.smooth,limits:!0,round:g.options.round||!1,value:j.$viewValue,dimension:"",scale:g.options.scale,callback:m};b.calculate=g.options.calculate||void 0,b.onstatechange=g.options.onstatechange||void 0,d(function(){var c=g.tmplElt.find("div")[7];g.slider=a.element.slider(h,g.tmplElt,b),a.element(c).html(g.generateScale()),g.drawScale(c),k()})};g.generateScale=function(){if(g.options.scale&&g.options.scale.length>0){for(var a="",b=g.options.scale,c=(100/(b.length-1)).toFixed(2),d=0;d<b.length;d++)a+='<span style="left: '+d*c+'%">'+("|"!=b[d]?"<ins>"+b[d]+"</ins>":"")+"</span>";return a}return""},g.drawScale=function(b){a.forEach(a.element(b).find("ins"),function(a){a.style.marginLeft=-a.clientWidth/2})};var m=function(a){g.$apply(function(){j.$setViewValue(a)}),g.options.callback&&g.options.callback(a)};g.$watch("options",function(){l()}),a.element.slider=function(a,b,c){return b.data("jslider")||b.data("jslider",new f(a,b,c)),b.data("jslider")}}}}}]).config(function(){}).run(function(){})}(angular),function(a){"use strict";a.module("ngSlider").factory("sliderDraggable",["$timeout",function(){function b(){this._init.apply(this,arguments)}return b.prototype.oninit=function(){},b.prototype.events=function(){},b.prototype.onmousedown=function(){this.ptr.css({position:"absolute"})},b.prototype.onmousemove=function(a,b,c){this.ptr.css({left:b,top:c})},b.prototype.onmouseup=function(){},b.prototype.isDefault={drag:!1,clicked:!1,toclick:!0,mouseup:!1},b.prototype._init=function(){if(arguments.length>0){if(this.ptr=arguments[0],this.parent=arguments[2],!this.ptr)return;this.is={},a.extend(this.is,this.isDefault),this.d={left:this.ptr[0].offsetLeft,top:this.ptr[0].offsetTop,width:this.ptr[0].clientWidth,height:this.ptr[0].clientHeight},this.oninit.apply(this,arguments),this._events()}},b.prototype._getPageCoords=function(a){return a.targetTouches&&a.targetTouches[0]?{x:a.targetTouches[0].pageX,y:a.targetTouches[0].pageY}:{x:a.pageX,y:a.pageY}},b.prototype._bindEvent=function(a,b,c){this.supportTouches_?a.get(0).addEventListener(this.events_[b],c,!1):a.bind(this.events_[b],c)},b.prototype._events=function(){var b=this;this.supportTouches_="ontouchend"in document,this.events_={click:this.supportTouches_?"touchstart":"click",down:this.supportTouches_?"touchstart":"mousedown",move:this.supportTouches_?"touchmove":"mousemove",up:this.supportTouches_?"touchend":"mouseup"};var c=a.element(window.document);this._bindEvent(c,"move",function(a){b.is.drag&&(a.stopPropagation(),a.preventDefault(),b._mousemove(a))}),this._bindEvent(c,"down",function(a){b.is.drag&&(a.stopPropagation(),a.preventDefault())}),this._bindEvent(c,"up",function(a){b._mouseup(a)}),this._bindEvent(this.ptr,"down",function(a){return b._mousedown(a),!1}),this._bindEvent(this.ptr,"up",function(a){b._mouseup(a)}),this.events()},b.prototype._mousedown=function(b){this.is.drag=!0,this.is.clicked=!1,this.is.mouseup=!1;var c=this._getPageCoords(b);this.cx=c.x-this.ptr[0].offsetLeft,this.cy=c.y-this.ptr[0].offsetTop,a.extend(this.d,{left:this.ptr[0].offsetLeft,top:this.ptr[0].offsetTop,width:this.ptr[0].clientWidth,height:this.ptr[0].clientHeight}),this.outer&&this.outer.get(0)&&this.outer.css({height:Math.max(this.outer.height(),$(document.body).height()),overflow:"hidden"}),this.onmousedown(b)},b.prototype._mousemove=function(a){this.is.toclick=!1;var b=this._getPageCoords(a);this.onmousemove(a,b.x-this.cx,b.y-this.cy)},b.prototype._mouseup=function(a){this.is.drag&&(this.is.drag=!1,this.outer&&this.outer.get(0)&&(this.outer.css($.browser.mozilla?{overflow:"hidden"}:{overflow:"visible"}),this.outer.css($.browser.msie&&"6.0"==$.browser.version?{height:"100%"}:{height:"auto"})),this.onmouseup(a))},b}])}(angular),function(a){"use strict";a.module("ngSlider").factory("sliderPointer",["sliderDraggable",function(b){function c(){b.apply(this,arguments)}return c.prototype=new b,c.prototype.oninit=function(b,c,d){this.uid=c,this.parent=d,this.value={},this.settings=a.copy(d.settings)},c.prototype.onmousedown=function(){var a={left:this.parent.domNode[0].offsetLeft,top:this.parent.domNode[0].offsetTop,width:this.parent.domNode[0].clientWidth,height:this.parent.domNode[0].clientHeight};this._parent={offset:a,width:a.width},this.ptr.addClass("jslider-pointer-hover"),this.setIndexOver()},c.prototype.onmousemove=function(a){var b=this._getPageCoords(a);this._set(this.calc(b.x))},c.prototype.onmouseup=function(){this.settings.callback&&a.isFunction(this.settings.callback)&&this.settings.callback.call(this.parent,this.parent.getValue()),this.ptr.removeClass("jslider-pointer-hover")},c.prototype.setIndexOver=function(){this.parent.setPointersIndex(1),this.index(2)},c.prototype.index=function(a){this.ptr.css({zIndex:a})},c.prototype.limits=function(a){return this.parent.limits(a,this)},c.prototype.calc=function(a){var b=this.limits(100*(a-this._parent.offset.left)/this._parent.width);return b},c.prototype.set=function(a,b){this.value.origin=this.parent.round(a),this._set(this.parent.valueToPrc(a,this),b)},c.prototype._set=function(a,b){b||(this.value.origin=this.parent.prcToValue(a)),this.value.prc=a,this.ptr.css({left:a+"%"}),this.parent.redraw(this)},c}])}(angular),function(a){"use strict";a.module("ngSlider").factory("slider",["sliderPointer",function(b){function c(){return this.init.apply(this,arguments)}var d={settings:{from:1,to:40,step:1,smooth:!0,limits:!0,value:"3",dimension:""},className:"jslider",selector:".jslider-"};return c.prototype.init=function(b,c,e){this.settings=d.settings,a.extend(this.settings,a.copy(e)),this.inputNode=b,this.inputNode.addClass("ng-hide"),this.settings.interval=this.settings.to-this.settings.from,this.settings.calculate&&$.isFunction(this.settings.calculate)&&(this.nice=this.settings.calculate),this.settings.onstatechange&&$.isFunction(this.settings.onstatechange)&&(this.onstatechange=this.settings.onstatechange),this.is={init:!1},this.o={},this.create(c)},c.prototype.create=function(c){var d=this;this.domNode=c;var e={left:this.domNode[0].offsetLeft,top:this.domNode[0].offsetTop,width:this.domNode[0].clientWidth,height:this.domNode[0].clientHeight};this.sizes={domWidth:this.domNode[0].clientWidth,domOffset:e},a.extend(this.o,{pointers:{},labels:{0:{o:a.element(this.domNode.find("div")[5])},1:{o:a.element(this.domNode.find("div")[6])}},limits:{0:a.element(this.domNode.find("div")[3]),1:a.element(this.domNode.find("div")[5])}}),a.extend(this.o.labels[0],{value:this.o.labels[0].o.find("span")}),a.extend(this.o.labels[1],{value:this.o.labels[1].o.find("span")}),d.settings.value.split(";")[1]||(this.settings.single=!0);var f=this.domNode.find("div"),g=[a.element(f[1]),a.element(f[2])];a.forEach(g,function(c,e){d.settings=a.copy(d.settings);var f=d.settings.value.split(";")[e];if(f){d.o.pointers[e]=new b(c,e,d);var g=d.settings.value.split(";")[e-1];g&&parseInt(f,10)<parseInt(g,10)&&(f=g);var h=f<d.settings.from?d.settings.from:f;h=f>d.settings.to?d.settings.to:f,d.o.pointers[e].set(h,!0),0===e&&d.domNode.bind("mousedown",function(a){var b=a.target.className,c=0;b.indexOf("jslider-pointer-to")>0&&(c=1);var e={left:d.domNode[0].offsetLeft,top:d.domNode[0].offsetTop,width:d.domNode[0].clientWidth,height:d.domNode[0].clientHeight},f=d.o.pointers[c];return f._parent={offset:e,width:d.domNode[0].clientWidth},f._mousemove(a),f.onmouseup(),!1})}}),this.is.init=!0,a.forEach(this.o.pointers,function(a){d.redraw(a)})},c.prototype.nice=function(a){return a},c.prototype.onstatechange=function(){},c.prototype.limits=function(a,b){if(!this.settings.smooth){var c=100*this.settings.step/this.settings.interval;a=Math.round(a/c)*c}var d=this.o.pointers[1-b.uid];return d&&b.uid&&a<d.value.prc&&(a=d.value.prc),d&&!b.uid&&a>d.value.prc&&(a=d.value.prc),0>a&&(a=0),a>100&&(a=100),Math.round(10*a)/10},c.prototype.setPointersIndex=function(){a.forEach(this.getPointers(),function(a,b){a.index(b)})},c.prototype.getPointers=function(){return this.o.pointers},c.prototype.onresize=function(){var b=this;this.sizes={domWidth:this.domNode[0].clientWidth,domOffset:{left:this.domNode[0].offsetLeft,top:this.domNode[0].offsetTop,width:this.domNode[0].clientWidth,height:this.domNode[0].clientHeight}},a.forEach(this.o.pointers,function(a){b.redraw(a)})},c.prototype.update=function(){this.onresize(),this.drawScale()},c.prototype.drawScale=function(){this.domNode.find(OPTIONS.selector+"scale span ins").each(function(){$(this).css({marginLeft:-$(this).outerWidth()/2})})},c.prototype.redraw=function(a){return this.is.init?(this.setValue(),this.o.labels[a.uid].value.html(this.nice(a.value.origin)),void this.redrawLabels(a)):!1},c.prototype.redrawLabels=function(a){function b(a,b,d){b.margin=-b.label/2;var e=b.border+b.margin;return 0>e&&(b.margin-=e),b.border+b.label/2>c.sizes.domWidth?(b.margin=0,b.right=!0):b.right=!1,a.o.css({left:d+"%",marginLeft:b.margin,right:"auto"}),b.right&&a.o.css({left:"auto",right:0}),b}var c=this,d=this.o.labels[a.uid],e=a.value.prc,f={label:d.o[0].offsetWidth,right:!1,border:e*this.sizes.domWidth/100},g=null;if(!this.settings.single){var h=this.o.pointers[1-a.uid];switch(g=this.o.labels[h.uid],a.uid){case 0:f.border+f.label/2>g.o[0].offsetLeft-this.sizes.domOffset.left?(g.o.css({visibility:"hidden"}),g.value.html(this.nice(h.value.origin)),d.o.css({visibility:"visible"}),e=(h.value.prc-e)/2+e,h.value.prc!=a.value.prc&&(d.value.html(this.nice(a.value.origin)+"&nbsp;&ndash;&nbsp;"+this.nice(h.value.origin)),f.label=d.o[0].clientWidth,f.border=e*this.sizes.domWidth/100)):g.o.css({visibility:"visible"});break;case 1:f.border-f.label/2<g.o[0].offsetLeft-this.sizes.domOffset.left+g.o[0].clientWidth?(g.o.css({visibility:"hidden"}),g.value.html(this.nice(h.value.origin)),d.o.css({visibility:"visible"}),e=(e-h.value.prc)/2+h.value.prc,h.value.prc!=a.value.prc&&(d.value.html(this.nice(h.value.origin)+"&nbsp;&ndash;&nbsp;"+this.nice(a.value.origin)),f.label=d.o[0].clientWidth,f.border=e*this.sizes.domWidth/100)):g.o.css({visibility:"visible"})}}f=b(d,f,e),g&&(f={label:g.o[0].clientWidth,right:!1,border:h.value.prc*this.sizes.domWidth/100},f=b(g,f,h.value.prc)),this.redrawLimits()},c.prototype.redrawLimits=function(){if(this.settings.limits){var b=[!0,!0];for(var c in this.o.pointers)if(!this.settings.single||0===c){var d=this.o.pointers[c],e=this.o.labels[d.uid],f=e.o[0].offsetLeft-this.sizes.domOffset.left,g=this.o.limits[0];f<g[0].clientWidth&&(b[0]=!1),g=this.o.limits[1],f+e.o[0].clientWidth>this.sizes.domWidth-g[0].clientWidth&&(b[1]=!1)}for(var h=0;h<b.length;h++)a.element(this.o.limits[h]).addClass(b[h]?"animate-show":"animate-hidde")}},c.prototype.setValue=function(){var a=this.getValue();this.inputNode.attr("value",a),this.onstatechange.call(this,a,this.inputNode)},c.prototype.getValue=function(){if(!this.is.init)return!1;var b=this,c="";return a.forEach(this.o.pointers,function(a,d){void 0===a.value.prc||isNaN(a.value.prc)||(c+=(d>0?";":"")+b.prcToValue(a.value.prc))}),c},c.prototype.getPrcValue=function(){if(!this.is.init)return!1;var a="";return $.each(this.o.pointers,function(b){void 0===this.value.prc||isNaN(this.value.prc)||(a+=(b>0?";":"")+this.value.prc)}),a},c.prototype.prcToValue=function(a){var b;if(this.settings.heterogeneity&&this.settings.heterogeneity.length>0)for(var c=this.settings.heterogeneity,d=0,e=this.settings.from,f=0;f<=c.length;f++){var g;g=c[f]?c[f].split("/"):[100,this.settings.to],a>=d&&a<=g[0]&&(b=e+(a-d)*(g[1]-e)/(g[0]-d)),d=g[0],e=g[1]}else b=this.settings.from+a*this.settings.interval/100;return this.round(b)},c.prototype.valueToPrc=function(a,b){var c;if(this.settings.heterogeneity&&this.settings.heterogeneity.length>0)for(var d=this.settings.heterogeneity,e=0,f=this.settings.from,g=0;g<=d.length;g++){var h;h=d[g]?d[g].split("/"):[100,this.settings.to],a>=f&&a<=h[1]&&(c=b.limits(e+(a-f)*(h[0]-e)/(h[1]-f))),e=h[0],f=h[1]}else c=b.limits(100*(a-this.settings.from)/this.settings.interval);return c},c.prototype.round=function(a){return a=Math.round(a/this.settings.step)*this.settings.step,a=this.settings.round?Math.round(a*Math.pow(10,this.settings.round))/Math.pow(10,this.settings.round):Math.round(a)},c}])}(angular),function(a){"use strict";a.module("ngSlider").run(["$templateCache",function(a){a.put("ng-slider/slider-bar.tmpl.html",'<span ng-class="mainSliderClass" id="{{sliderTmplId}}"><table><tr><td><div class="jslider-bg"><i class="l"></i><i class="f"></i><i class="r"></i></div><div class="jslider-pointer"></div><div class="jslider-pointer jslider-pointer-to"></div><div class="jslider-label"><span ng-bind-html="from"></span></div><div class="jslider-label jslider-label-to"><span ng-bind-html="to"></span>{{options.dimension}}</div><div class="jslider-value"><span></span>{{options.dimension}}</div><div class="jslider-value jslider-value-to"><span></span>{{options.dimension}}</div><div class="jslider-scale" id="{{sliderScaleDivTmplId}}"></div></td></tr></table></span>')}])}(window.angular);