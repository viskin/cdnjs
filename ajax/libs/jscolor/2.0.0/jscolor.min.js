"use strict";window.jscolor=function(e){var t={register:function(){t.attachDOMReadyEvent(t.init),t.attachEvent(document,"mousedown",t.onDocumentMouseDown),t.attachEvent(document,"touchstart",t.onDocumentTouchStart)},init:function(){t.jscolor.lookupClass&&t.jscolor.installByClassName(t.jscolor.lookupClass)},tryInstallOnElements:function(e,n){for(var o=new RegExp("(^|\\s)("+n+")(\\s*(\\{[^}]*\\})|\\s|$)","i"),r=0;r<e.length;r+=1)if(void 0===e[r].type||"color"!=e[r].type.toLowerCase()||!t.isColorAttrSupported){var s;if(!e[r].jscolor&&e[r].className&&(s=e[r].className.match(o))){var i=e[r],l=null,a=t.getDataAttr(i,"jscolor");null!==a?l=a:s[4]&&(l=s[4]);var d={};if(l)try{d=new Function("return ("+l+")")()}catch(c){t.warn("Error parsing jscolor options: "+c+":\n"+l)}i.jscolor=new t.jscolor(i,d)}}},isColorAttrSupported:function(){var e=document.createElement("input");return!(!e.setAttribute||(e.setAttribute("type","color"),"color"!=e.type.toLowerCase()))}(),isCanvasSupported:function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))}(),fetchElement:function(e){return"string"==typeof e?document.getElementById(e):e},getDataAttr:function(e,t){var n="data-"+t,o=e.getAttribute(n);return null!==o?o:null},attachEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},detachEvent:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},_attachedGroupEvents:{},attachGroupEvent:function(e,n,o,r){t._attachedGroupEvents.hasOwnProperty(e)||(t._attachedGroupEvents[e]=[]),t._attachedGroupEvents[e].push([n,o,r]),t.attachEvent(n,o,r)},detachGroupEvents:function(e){if(t._attachedGroupEvents.hasOwnProperty(e)){for(var n=0;n<t._attachedGroupEvents[e].length;n+=1){var o=t._attachedGroupEvents[e][n];t.detachEvent(o[0],o[1],o[2])}delete t._attachedGroupEvents[e]}},attachDOMReadyEvent:function(e){var t=!1,n=function(){t||(t=!0,e())};if("complete"===document.readyState)return void setTimeout(n,1);if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1);else if(document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",arguments.callee),n())}),window.attachEvent("onload",n),document.documentElement.doScroll&&window==window.top)){var o=function(){if(document.body)try{document.documentElement.doScroll("left"),n()}catch(e){setTimeout(o,1)}};o()}},warn:function(e){window.console&&window.console.warn&&window.console.warn(e)},preventDefault:function(e){e.preventDefault&&e.preventDefault(),e.returnValue=!1},captureTarget:function(e){e.setCapture&&(t._capturedTarget=e,t._capturedTarget.setCapture())},releaseTarget:function(){t._capturedTarget&&(t._capturedTarget.releaseCapture(),t._capturedTarget=null)},fireEvent:function(e,t){if(e)if(document.createEvent){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}else if(document.createEventObject){var n=document.createEventObject();e.fireEvent("on"+t,n)}else e["on"+t]&&e["on"+t]()},classNameToList:function(e){return e.replace(/^\s+|\s+$/g,"").split(/\s+/)},hasClass:function(e,t){return t?-1!=(" "+e.className.replace(/\s+/g," ")+" ").indexOf(" "+t+" "):!1},setClass:function(e,n){for(var o=t.classNameToList(n),r=0;r<o.length;r+=1)t.hasClass(e,o[r])||(e.className+=(e.className?" ":"")+o[r])},unsetClass:function(e,n){for(var o=t.classNameToList(n),r=0;r<o.length;r+=1){var s=new RegExp("^\\s*"+o[r]+"\\s*|\\s*"+o[r]+"\\s*$|\\s+"+o[r]+"(\\s+)","g");e.className=e.className.replace(s,"$1")}},setStyle:function(){var e=document.createElement("div"),t=function(t){for(var n=0;n<t.length;n+=1)if(t[n]in e.style)return t[n]},n={borderRadius:t(["borderRadius","MozBorderRadius","webkitBorderRadius"]),boxShadow:t(["boxShadow","MozBoxShadow","webkitBoxShadow"])};return function(e,t,o){switch(t.toLowerCase()){case"opacity":var r=Math.round(100*parseFloat(o));e.style.opacity=o,e.style.filter="alpha(opacity="+r+")";break;default:e.style[n[t]]=o}}}(),setBorderRadius:function(e,n){t.setStyle(e,"borderRadius",n||"0")},setBoxShadow:function(e,n){t.setStyle(e,"boxShadow",n||"none")},getElementPos:function(e){var t=e,n=e,o=0,r=0;if(t.offsetParent)do o+=t.offsetLeft,r+=t.offsetTop;while(t=t.offsetParent);for(;(n=n.parentNode)&&"body"!==n.nodeName.toLowerCase();)o-=n.scrollLeft,r-=n.scrollTop;return[o,r]},getElementSize:function(e){return[e.offsetWidth,e.offsetHeight]},getAbsPointerPos:function(e){e||(e=window.event);var t=0,n=0;return"undefined"!=typeof e.changedTouches&&e.changedTouches.length?(t=e.changedTouches[0].clientX,n=e.changedTouches[0].clientY):"number"==typeof e.clientX&&(t=e.clientX,n=e.clientY),{x:t,y:n}},getRelPointerPos:function(e){e||(e=window.event);var t=e.target||e.srcElement,n=t.getBoundingClientRect(),o=0,r=0,s=0,i=0;return"undefined"!=typeof e.changedTouches&&e.changedTouches.length?(s=e.changedTouches[0].clientX,i=e.changedTouches[0].clientY):"number"==typeof e.clientX&&(s=e.clientX,i=e.clientY),o=s-n.left,r=i-n.top,{x:o,y:r}},getViewPos:function(){return"number"==typeof window.pageYOffset?[window.pageXOffset,window.pageYOffset]:document.body&&(document.body.scrollLeft||document.body.scrollTop)?[document.body.scrollLeft,document.body.scrollTop]:document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)?[document.documentElement.scrollLeft,document.documentElement.scrollTop]:[0,0]},getViewSize:function(){return"number"==typeof window.innerWidth?[window.innerWidth,window.innerHeight]:document.body&&(document.body.clientWidth||document.body.clientHeight)?[document.body.clientWidth,document.body.clientHeight]:document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?[document.documentElement.clientWidth,document.documentElement.clientHeight]:[0,0]},getPadYComponent:function(e){switch(e.mode.charAt(1).toLowerCase()){case"v":return"v";default:return"s"}},getSliderComponent:function(e){switch(e.mode.charAt(2).toLowerCase()){case"s":return"s";case"v":return"v";default:return null}},onDocumentMouseDown:function(e){e||(e=window.event);var n=e.target||e.srcElement;n._jscControlName?t.onControlPointerStart(e,n,n._jscControlName,"mouse"):t.picker&&t.picker.owner&&t.picker.owner.hide()},onDocumentTouchStart:function(e){e||(e=window.event);var n=e.target||e.srcElement;n._jscControlName&&t.onControlPointerStart(e,n,n._jscControlName,"touch")},_pointerMoveEvent:{mouse:"mousemove",touch:"touchmove"},_pointerEndEvent:{mouse:"mouseup",touch:"touchend"},_pointerOrigin:null,_capturedTarget:null,onControlPointerStart:function(e,n,o,r){var s=n._jscInstance;t.preventDefault(e),t.captureTarget(n);var i=function(s,i){t.attachGroupEvent("drag",s,t._pointerMoveEvent[r],t.onDocumentPointerMove(e,n,o,r,i)),t.attachGroupEvent("drag",s,t._pointerEndEvent[r],t.onDocumentPointerEnd(e,n,o,r))};if(i(document,[0,0]),window.parent&&window.frameElement){var l=window.frameElement.getBoundingClientRect(),a=[-l.left,-l.top];i(window.parent.window.document,a)}var d=t.getAbsPointerPos(e),c=t.getRelPointerPos(e);switch(t._pointerOrigin={x:d.x-c.x,y:d.y-c.y},o){case"pad":switch(t.getSliderComponent(s)){case"s":0===s.hsv[1]&&s.fromHSV(null,1,null);break;case"v":0===s.hsv[2]&&s.fromHSV(null,null,1)}t.setPad(s,e,0,0);break;case"sld":t.setSld(s,e,0)}t.dispatchFineChange(s)},onDocumentPointerMove:function(e,n,o,r,s){return function(e){var r=n._jscInstance;switch(o){case"pad":e||(e=window.event),t.setPad(r,e,s[0],s[1]),t.dispatchFineChange(r);break;case"sld":e||(e=window.event),t.setSld(r,e,s[1]),t.dispatchFineChange(r)}}},onDocumentPointerEnd:function(e,n,o,r){return function(e){var o=n._jscInstance;t.detachGroupEvents("drag"),t.releaseTarget(),t.dispatchChange(o)}},dispatchChange:function(e){if(e.valueElement){var n=e.valueElement.nodeName.toLowerCase();"input"===n&&t.fireEvent(e.valueElement,"change")}},dispatchFineChange:function(e){if(e.onFineChange){var t;t="string"==typeof e.onFineChange?new Function(e.onFineChange):e.onFineChange,t.call(e)}},setPad:function(e,n,o,r){var s=t.getAbsPointerPos(n),i=o+s.x-t._pointerOrigin.x-e.padding-e.insetWidth,l=r+s.y-t._pointerOrigin.y-e.padding-e.insetWidth,a=i*(6/(e.width-1)),d=1-l/(e.height-1);switch(t.getPadYComponent(e)){case"s":e.fromHSV(a,d,null,t.leaveSld);break;case"v":e.fromHSV(a,null,d,t.leaveSld)}},setSld:function(e,n,o){var r=t.getAbsPointerPos(n),s=o+r.y-t._pointerOrigin.y-e.padding-e.insetWidth,i=1-s/(e.height-1);switch(t.getSliderComponent(e)){case"s":e.fromHSV(null,i,null,t.leavePad);break;case"v":e.fromHSV(null,null,i,t.leavePad)}},_vmlNS:"jsc_vml_",_vmlCSS:"jsc_vml_css_",_vmlReady:!1,initVML:function(){if(!t._vmlReady){var e=document;if(e.namespaces[t._vmlNS]||e.namespaces.add(t._vmlNS,"urn:schemas-microsoft-com:vml"),!e.styleSheets[t._vmlCSS]){var n=["shape","shapetype","group","background","path","formulas","handles","fill","stroke","shadow","textbox","textpath","imagedata","line","polyline","curve","rect","roundrect","oval","arc","image"],o=e.createStyleSheet();o.owningElement.id=t._vmlCSS;for(var r=0;r<n.length;r+=1)o.addRule(t._vmlNS+"\\:"+n[r],"behavior:url(#default#VML);")}t._vmlReady=!0}},createPalette:function(){var e={elm:null,draw:null};if(t.isCanvasSupported){var n=document.createElement("canvas"),o=n.getContext("2d"),r=function(e,t,r){n.width=e,n.height=t,o.clearRect(0,0,n.width,n.height);var s=o.createLinearGradient(0,0,n.width,0);s.addColorStop(0,"#F00"),s.addColorStop(1/6,"#FF0"),s.addColorStop(2/6,"#0F0"),s.addColorStop(.5,"#0FF"),s.addColorStop(4/6,"#00F"),s.addColorStop(5/6,"#F0F"),s.addColorStop(1,"#F00"),o.fillStyle=s,o.fillRect(0,0,n.width,n.height);var i=o.createLinearGradient(0,0,0,n.height);switch(r.toLowerCase()){case"s":i.addColorStop(0,"rgba(255,255,255,0)"),i.addColorStop(1,"rgba(255,255,255,1)");break;case"v":i.addColorStop(0,"rgba(0,0,0,0)"),i.addColorStop(1,"rgba(0,0,0,1)")}o.fillStyle=i,o.fillRect(0,0,n.width,n.height)};e.elm=n,e.draw=r}else{t.initVML();var s=document.createElement("div");s.style.position="relative",s.style.overflow="hidden";var i=document.createElement(t._vmlNS+":fill");i.type="gradient",i.method="linear",i.angle="90",i.colors="16.67% #F0F, 33.33% #00F, 50% #0FF, 66.67% #0F0, 83.33% #FF0";var l=document.createElement(t._vmlNS+":rect");l.style.position="absolute",l.style.left="-1px",l.style.top="-1px",l.stroked=!1,l.appendChild(i),s.appendChild(l);var a=document.createElement(t._vmlNS+":fill");a.type="gradient",a.method="linear",a.angle="180",a.opacity="0";var d=document.createElement(t._vmlNS+":rect");d.style.position="absolute",d.style.left="-1px",d.style.top="-1px",d.stroked=!1,d.appendChild(a),s.appendChild(d);var r=function(e,t,n){switch(s.style.width=e+"px",s.style.height=t+"px",l.style.width=d.style.width=e+1+"px",l.style.height=d.style.height=t+1+"px",i.color="#F00",i.color2="#F00",n.toLowerCase()){case"s":a.color=a.color2="#FFF";break;case"v":a.color=a.color2="#000"}};e.elm=s,e.draw=r}return e},createSliderGradient:function(){var e={elm:null,draw:null};if(t.isCanvasSupported){var n=document.createElement("canvas"),o=n.getContext("2d"),r=function(e,t,r,s){n.width=e,n.height=t,o.clearRect(0,0,n.width,n.height);var i=o.createLinearGradient(0,0,0,n.height);i.addColorStop(0,r),i.addColorStop(1,s),o.fillStyle=i,o.fillRect(0,0,n.width,n.height)};e.elm=n,e.draw=r}else{t.initVML();var s=document.createElement("div");s.style.position="relative",s.style.overflow="hidden";var i=document.createElement(t._vmlNS+":fill");i.type="gradient",i.method="linear",i.angle="180";var l=document.createElement(t._vmlNS+":rect");l.style.position="absolute",l.style.left="-1px",l.style.top="-1px",l.stroked=!1,l.appendChild(i),s.appendChild(l);var r=function(e,t,n,o){s.style.width=e+"px",s.style.height=t+"px",l.style.width=e+1+"px",l.style.height=t+1+"px",i.color=n,i.color2=o};e.elm=s,e.draw=r}return e},leaveValue:1,leaveStyle:2,leavePad:4,leaveSld:8,BoxShadow:function(){var e=function(e,t,n,o,r,s){this.hShadow=e,this.vShadow=t,this.blur=n,this.spread=o,this.color=r,this.inset=!!s};return e.prototype.toString=function(){var e=[Math.round(this.hShadow)+"px",Math.round(this.vShadow)+"px",Math.round(this.blur)+"px",Math.round(this.spread)+"px",this.color];return this.inset&&e.push("inset"),e.join(" ")},e}(),jscolor:function(e,n){function o(e,t,n){var o=Math.min(Math.min(e,t),n),r=Math.max(Math.max(e,t),n),s=r-o;if(0===s)return[null,0,r];var i=e===o?3+(n-t)/s:t===o?5+(e-n)/s:1+(t-e)/s;return[6===i?0:i,s/r,r]}function r(e,t,n){if(null===e)return[n,n,n];var o=Math.floor(e),r=o%2?e-o:1-(e-o),s=n*(1-t),i=n*(1-t*r);switch(o){case 6:case 0:return[n,i,s];case 1:return[i,n,s];case 2:return[s,n,i];case 3:return[s,i,n];case 4:return[i,s,n];case 5:return[n,s,i]}}function s(){t.unsetClass(f.targetElement,f.activeClass),t.picker.wrap.parentNode.removeChild(t.picker.wrap),delete t.picker.owner}function i(e,n,o,r){function s(){var e=f.insetColor.split(/\s+/),t=e.length<2?e[0]:e[1]+" "+e[0]+" "+e[0]+" "+e[1];i.btn.style.borderColor=t}t.picker||(t.picker={owner:null,wrap:document.createElement("div"),box:document.createElement("div"),boxS:document.createElement("div"),boxB:document.createElement("div"),pad:document.createElement("div"),padB:document.createElement("div"),padM:document.createElement("div"),padPal:t.createPalette(),cross:document.createElement("div"),crossBY:document.createElement("div"),crossBX:document.createElement("div"),crossLY:document.createElement("div"),crossLX:document.createElement("div"),sld:document.createElement("div"),sldB:document.createElement("div"),sldM:document.createElement("div"),sldGrad:t.createSliderGradient(),sldPtrS:document.createElement("div"),sldPtrIB:document.createElement("div"),sldPtrMB:document.createElement("div"),sldPtrOB:document.createElement("div"),btn:document.createElement("div"),btnT:document.createElement("span")},t.picker.pad.appendChild(t.picker.padPal.elm),t.picker.padB.appendChild(t.picker.pad),t.picker.cross.appendChild(t.picker.crossBY),t.picker.cross.appendChild(t.picker.crossBX),t.picker.cross.appendChild(t.picker.crossLY),t.picker.cross.appendChild(t.picker.crossLX),t.picker.padB.appendChild(t.picker.cross),t.picker.box.appendChild(t.picker.padB),t.picker.box.appendChild(t.picker.padM),t.picker.sld.appendChild(t.picker.sldGrad.elm),t.picker.sldB.appendChild(t.picker.sld),t.picker.sldB.appendChild(t.picker.sldPtrOB),t.picker.sldPtrOB.appendChild(t.picker.sldPtrMB),t.picker.sldPtrMB.appendChild(t.picker.sldPtrIB),t.picker.sldPtrIB.appendChild(t.picker.sldPtrS),t.picker.box.appendChild(t.picker.sldB),t.picker.box.appendChild(t.picker.sldM),t.picker.btn.appendChild(t.picker.btnT),t.picker.box.appendChild(t.picker.btn),t.picker.boxB.appendChild(t.picker.box),t.picker.wrap.appendChild(t.picker.boxS),t.picker.wrap.appendChild(t.picker.boxB));var i=t.picker,l=!!t.getSliderComponent(f),d=a(),u=2*f.pointerBorderWidth+f.pointerThickness+2*f.crossSize,m=c(),v=r?0:f.shadowBlur,g=Math.min(f.borderRadius,Math.round(f.padding*Math.PI)),y="crosshair";i.wrap.style.position=o,i.wrap.style.clear="both",i.wrap.style.left=e+"px",i.wrap.style.top=n+"px",i.wrap.style.width=d[0]+2*f.borderWidth+"px",i.wrap.style.height=d[1]+2*f.borderWidth+"px",i.wrap.style.zIndex=f.zIndex,i.box.style.width=d[0]+"px",i.box.style.height=d[1]+"px",i.boxS.style.position="absolute",i.boxS.style.left="0",i.boxS.style.top="0",i.boxS.style.width="100%",i.boxS.style.height="100%",t.setBorderRadius(i.boxS,g+"px"),t.setBoxShadow(i.boxS,f.shadow?new t.BoxShadow(0,v,f.shadowBlur,0,f.shadowColor):null),i.boxB.style.position="relative",i.boxB.style.border=f.borderWidth+"px solid",i.boxB.style.borderColor=f.borderColor,i.boxB.style.background=f.backgroundColor,t.setBorderRadius(i.boxB,g+"px"),i.padM.style.background=i.sldM.style.background="#FFF",t.setStyle(i.padM,"opacity","0"),t.setStyle(i.sldM,"opacity","0"),i.pad.style.position="relative",i.pad.style.width=f.width+"px",i.pad.style.height=f.height+"px",i.padPal.draw(f.width,f.height,t.getPadYComponent(f)),i.padB.style.position="absolute",i.padB.style.left=f.padding+"px",i.padB.style.top=f.padding+"px",i.padB.style.border=f.insetWidth+"px solid",i.padB.style.borderColor=f.insetColor,i.padM._jscInstance=f,i.padM._jscControlName="pad",i.padM.style.position="absolute",i.padM.style.left="0",i.padM.style.top="0",i.padM.style.width=f.padding+2*f.insetWidth+f.width+m/2+"px",i.padM.style.height=d[1]+"px",i.padM.style.cursor=y,i.cross.style.position="absolute",i.cross.style.left=i.cross.style.top="0",i.cross.style.width=i.cross.style.height=u+"px",i.crossBY.style.position=i.crossBX.style.position="absolute",i.crossBY.style.background=i.crossBX.style.background=f.pointerBorderColor,i.crossBY.style.width=i.crossBX.style.height=2*f.pointerBorderWidth+f.pointerThickness+"px",i.crossBY.style.height=i.crossBX.style.width=u+"px",i.crossBY.style.left=i.crossBX.style.top=Math.floor(u/2)-Math.floor(f.pointerThickness/2)-f.pointerBorderWidth+"px",i.crossBY.style.top=i.crossBX.style.left="0",i.crossLY.style.position=i.crossLX.style.position="absolute",i.crossLY.style.background=i.crossLX.style.background=f.pointerColor,i.crossLY.style.height=i.crossLX.style.width=u-2*f.pointerBorderWidth+"px",i.crossLY.style.width=i.crossLX.style.height=f.pointerThickness+"px",i.crossLY.style.left=i.crossLX.style.top=Math.floor(u/2)-Math.floor(f.pointerThickness/2)+"px",i.crossLY.style.top=i.crossLX.style.left=f.pointerBorderWidth+"px",i.sld.style.overflow="hidden",i.sld.style.width=f.sliderSize+"px",i.sld.style.height=f.height+"px",i.sldGrad.draw(f.sliderSize,f.height,"#000","#000"),i.sldB.style.display=l?"block":"none",i.sldB.style.position="absolute",i.sldB.style.right=f.padding+"px",i.sldB.style.top=f.padding+"px",i.sldB.style.border=f.insetWidth+"px solid",i.sldB.style.borderColor=f.insetColor,i.sldM._jscInstance=f,i.sldM._jscControlName="sld",i.sldM.style.display=l?"block":"none",i.sldM.style.position="absolute",i.sldM.style.right="0",i.sldM.style.top="0",i.sldM.style.width=f.sliderSize+m/2+f.padding+2*f.insetWidth+"px",i.sldM.style.height=d[1]+"px",i.sldM.style.cursor="default",i.sldPtrIB.style.border=i.sldPtrOB.style.border=f.pointerBorderWidth+"px solid "+f.pointerBorderColor,i.sldPtrOB.style.position="absolute",i.sldPtrOB.style.left=-(2*f.pointerBorderWidth+f.pointerThickness)+"px",i.sldPtrOB.style.top="0",i.sldPtrMB.style.border=f.pointerThickness+"px solid "+f.pointerColor,i.sldPtrS.style.width=f.sliderSize+"px",i.sldPtrS.style.height=w+"px",i.btn.style.display=f.closable?"block":"none",i.btn.style.position="absolute",i.btn.style.left=f.padding+"px",i.btn.style.bottom=f.padding+"px",i.btn.style.padding="0 15px",i.btn.style.height=f.buttonHeight+"px",i.btn.style.border=f.insetWidth+"px solid",s(),i.btn.style.color=f.buttonColor,i.btn.style.font="12px sans-serif",i.btn.style.textAlign="center";try{i.btn.style.cursor="pointer"}catch(E){i.btn.style.cursor="hand"}i.btn.onmousedown=function(){f.hide()},i.btnT.style.lineHeight=f.buttonHeight+"px",i.btnT.innerHTML="",i.btnT.appendChild(document.createTextNode(f.closeText)),h(),p(),t.picker.owner&&t.picker.owner!==f&&t.unsetClass(t.picker.owner.targetElement,f.activeClass),t.picker.owner=f,t.setClass(f.targetElement,f.activeClass),i.wrap.parentNode!=b&&b.appendChild(i.wrap)}function l(){return"body"===b.nodeName.toLowerCase()}function a(){var e=!!t.getSliderComponent(f),n=[2*f.insetWidth+2*f.padding+f.width+(e?2*f.insetWidth+c()+f.sliderSize:0),2*f.insetWidth+2*f.padding+f.height+(f.closable?2*f.insetWidth+f.padding+f.buttonHeight:0)];return n}function d(){var e=a();return[e[0]+2*f.borderWidth,e[1]+2*f.borderWidth]}function c(){return Math.max(f.padding,1.5*(2*f.pointerBorderWidth+f.pointerThickness))}function h(){switch(t.getPadYComponent(f)){case"s":var e=1;break;case"v":var e=2}var n=Math.round(f.hsv[0]/6*(f.width-1)),o=Math.round((1-f.hsv[e])*(f.height-1)),s=2*f.pointerBorderWidth+f.pointerThickness+2*f.crossSize,i=-Math.floor(s/2);switch(t.picker.cross.style.left=n+i+"px",t.picker.cross.style.top=o+i+"px",t.getSliderComponent(f)){case"s":var l=r(f.hsv[0],1,f.hsv[2]),a=r(f.hsv[0],0,f.hsv[2]),d="rgb("+Math.round(255*l[0])+","+Math.round(255*l[1])+","+Math.round(255*l[2])+")",c="rgb("+Math.round(255*a[0])+","+Math.round(255*a[1])+","+Math.round(255*a[2])+")";t.picker.sldGrad.draw(f.sliderSize,f.height,d,c);break;case"v":var h=r(f.hsv[0],f.hsv[1],1),d="rgb("+Math.round(255*h[0])+","+Math.round(255*h[1])+","+Math.round(255*h[2])+")",c="#000";t.picker.sldGrad.draw(f.sliderSize,f.height,d,c)}}function p(){switch(t.getSliderComponent(f)){case"s":var e=1;break;case"v":var e=2}var n=Math.round((1-f.hsv[e])*(f.height-1));t.picker.sldPtrOB.style.top=n-(2*f.pointerBorderWidth+f.pointerThickness)-Math.floor(w/2)+"px"}function u(){return t.picker&&t.picker.owner===f}function m(){f.importColor()}this.value=null,this.valueElement=e,this.styleElement=e,this.required=!0,this.refine=!0,this.hash=!1,this.uppercase=!0,this.onFineChange=null,this.activeClass="jscolor-active",this.minS=0,this.maxS=1,this.minV=0,this.maxV=1,this.hsv=[0,0,1],this.rgb=[1,1,1],this.width=181,this.height=101,this.showOnClick=!0,this.mode="HSV",this.position="bottom",this.smartPosition=!0,this.sliderSize=16,this.crossSize=8,this.fixed=!1,this.closable=!1,this.closeText="Close",this.buttonColor="#000000",this.buttonHeight=18,this.padding=12,this.backgroundColor="#FFFFFF",this.borderWidth=1,this.borderColor="#BBBBBB",this.borderRadius=8,this.insetWidth=1,this.insetColor="#BBBBBB",this.shadow=!0,this.shadowBlur=15,this.shadowColor="rgba(0,0,0,0.2)",this.pointerColor="#4C4C4C",this.pointerBorderColor="#FFFFFF",this.pointerBorderWidth=1,this.pointerThickness=2,this.zIndex=1e3,this.container=null;for(var v in n)n.hasOwnProperty(v)&&(this[v]=n[v]);if(this.hide=function(){this._pickerVisible=!1,u()&&s()},this.show=function(){this._pickerVisible=!0,this.redraw()},this.redraw=function(){if(this._pickerVisible){var e=0,n=0,o="relative",r=!1;if(l()){var s,a,c,h=t.getElementPos(this.targetElement),p=t.getElementSize(this.targetElement),u=t.getViewPos(),m=t.getViewSize(),v=d();switch(this.position.toLowerCase()){case"left":s=1,a=0,c=-1;break;case"right":s=1,a=0,c=1;break;case"top":s=0,a=1,c=-1;break;default:s=0,a=1,c=1}var g=(p[a]+v[a])/2;if(this.smartPosition)var y=[-u[s]+h[s]+v[s]>m[s]&&-u[s]+h[s]+p[s]/2>m[s]/2&&h[s]+p[s]-v[s]>=0?h[s]+p[s]-v[s]:h[s],-u[a]+h[a]+p[a]+v[a]-g+g*c>m[a]?-u[a]+h[a]+p[a]/2>m[a]/2&&h[a]+p[a]-g-g*c>=0?h[a]+p[a]-g-g*c:h[a]+p[a]-g+g*c:h[a]+p[a]-g+g*c>=0?h[a]+p[a]-g+g*c:h[a]+p[a]-g-g*c];else var y=[h[s],h[a]+p[a]-g+g*c];o=f.fixed?"fixed":"absolute",r=(y[0]+v[0]>h[0]||y[0]<h[0]+p[0])&&y[1]+v[1]<h[1]+p[1],e=y[s],n=y[a]}i(e,n,o,r)}},this.importColor=function(){if(this.valueElement){var e=this.valueElement.nodeName.toLowerCase();"input"===e?this.refine?!this.required&&/^\s*$/.test(this.valueElement.value)?(this.valueElement.value="",this.styleElement.style.backgroundImage=this.styleElement._jscStyle.backgroundImage,this.styleElement.style.backgroundColor=this.styleElement._jscStyle.backgroundColor,this.styleElement.style.color=this.styleElement._jscStyle.color,this.exportColor(t.leaveValue|t.leaveStyle)):this.fromString(this.valueElement.value)||this.exportColor():this.fromString(this.valueElement.value,t.leaveValue)||(this.styleElement.style.backgroundImage=this.styleElement._jscStyle.backgroundImage,this.styleElement.style.backgroundColor=this.styleElement._jscStyle.backgroundColor,this.styleElement.style.color=this.styleElement._jscStyle.color,this.exportColor(t.leaveValue|t.leaveStyle)):this.exportColor()}else this.exportColor()},this.exportColor=function(e){if(!(e&t.leaveValue)&&this.valueElement){var n=this.toString();this.uppercase&&(n=n.toUpperCase()),this.hash&&(n="#"+n);var o=this.valueElement.nodeName.toLowerCase();"input"===o?this.valueElement.value=n:this.valueElement.innerHTML=n}e&t.leaveStyle||!this.styleElement||(this.styleElement.style.backgroundImage="none",this.styleElement.style.backgroundColor="#"+this.toString(),this.styleElement.style.color=.213*this.rgb[0]+.715*this.rgb[1]+.072*this.rgb[2]<.5?"#FFF":"#000"),e&t.leavePad||!u()||h(),e&t.leaveSld||!u()||p()},this.fromHSV=function(e,t,n,o){null!==e&&(e=Math.max(0,Math.min(6,e))),null!==t&&(t=Math.max(0,Math.min(1,this.maxS,t),this.minS)),null!==n&&(n=Math.max(0,Math.min(1,this.maxV,n),this.minV)),this.rgb=r(null===e?this.hsv[0]:this.hsv[0]=e,null===t?this.hsv[1]:this.hsv[1]=t,null===n?this.hsv[2]:this.hsv[2]=n),this.exportColor(o)},this.fromRGB=function(e,t,n,s){null!==e&&(e=Math.max(0,Math.min(1,e))),null!==t&&(t=Math.max(0,Math.min(1,t))),null!==n&&(n=Math.max(0,Math.min(1,n)));var i=o(null===e?this.rgb[0]:e,null===t?this.rgb[1]:t,null===n?this.rgb[2]:n);null!==i[0]&&(this.hsv[0]=Math.max(0,Math.min(6,i[0]))),0!==i[2]&&(this.hsv[1]=null===i[1]?null:Math.max(0,this.minS,Math.min(1,this.maxS,i[1]))),this.hsv[2]=null===i[2]?null:Math.max(0,this.minV,Math.min(1,this.maxV,i[2]));var l=r(this.hsv[0],this.hsv[1],this.hsv[2]);this.rgb[0]=l[0],this.rgb[1]=l[1],this.rgb[2]=l[2],this.exportColor(s)},this.fromString=function(e,t){var n=e.match(/^\W*([0-9A-F]{3}([0-9A-F]{3})?)\W*$/i);return n?(6===n[1].length?this.fromRGB(parseInt(n[1].substr(0,2),16)/255,parseInt(n[1].substr(2,2),16)/255,parseInt(n[1].substr(4,2),16)/255,t):this.fromRGB(parseInt(n[1].charAt(0)+n[1].charAt(0),16)/255,parseInt(n[1].charAt(1)+n[1].charAt(1),16)/255,parseInt(n[1].charAt(2)+n[1].charAt(2),16)/255,t),!0):!1},this.toString=function(){return(256|Math.round(255*this.rgb[0])).toString(16).substr(1)+(256|Math.round(255*this.rgb[1])).toString(16).substr(1)+(256|Math.round(255*this.rgb[2])).toString(16).substr(1)},"string"==typeof e){var g=e,y=document.getElementById(g);y?this.targetElement=y:t.warn("Could not find target element with ID '"+g+"'")}else e?this.targetElement=e:t.warn("Invalid target element: '"+e+"'");if(this.targetElement._jscIsTarget)return void t.warn("Cannot instantiate jscolor twice on the same element. Skipping.");this.targetElement._jscIsTarget=!0,this.valueElement=t.fetchElement(this.valueElement),this.styleElement=t.fetchElement(this.styleElement),this._pickerVisible=!1;var f=this,b=this.container?t.fetchElement(this.container):document.getElementsByTagName("body")[0],w=3;if(t.attachEvent(this.targetElement,"click",function(e){e||(e=window.event),f.showOnClick&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,f.show())}),this.valueElement){var E=this.valueElement.nodeName.toLowerCase();if("input"===E){var C=function(){f.fromString(f.valueElement.value,t.leaveValue),t.dispatchFineChange(f)};t.attachEvent(this.valueElement,"keyup",C),t.attachEvent(this.valueElement,"input",C),t.attachEvent(this.valueElement,"blur",m),this.valueElement.setAttribute("autocomplete","off")}}this.styleElement&&(this.styleElement._jscStyle={backgroundImage:this.styleElement.style.backgroundImage,backgroundColor:this.styleElement.style.backgroundColor,color:this.styleElement.style.color}),this.value?this.fromString(this.value)||this.exportColor():this.importColor()}};return t.jscolor.lookupClass="jscolor",t.jscolor.installByClassName=function(e){var n=document.getElementsByTagName("input"),o=document.getElementsByTagName("button");t.tryInstallOnElements(n,e),t.tryInstallOnElements(o,e)},t.register(),t.jscolor}();
//# sourceMappingURL=./2.0.0/jscolor.min.js.map