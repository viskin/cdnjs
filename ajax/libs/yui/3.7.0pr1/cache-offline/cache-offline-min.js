YUI.add("cache-offline",function(g,c){function f(){f.superclass.constructor.apply(this,arguments);}var a=null,d=g.JSON;try{a=g.config.win.localStorage;}catch(b){}g.mix(f,{NAME:"cacheOffline",ATTRS:{sandbox:{value:"default",writeOnce:"initOnly"},expires:{value:86400000},max:{value:null,readOnly:true},uniqueKeys:{value:true,readOnly:true,setter:function(){return true;}}},flushAll:function(){var e=a,h;if(e){if(e.clear){e.clear();}else{for(h in e){if(e.hasOwnProperty(h)){e.removeItem(h);delete e[h];}}}}else{}}});g.extend(f,g.Cache,a?{_setMax:function(e){return null;},_getSize:function(){var j=0,h=0,e=a.length;for(;h<e;++h){if(a.key(h).indexOf(this.get("sandbox"))===0){j++;}}return j;},_getEntries:function(){var e=[],k=0,j=a.length,h=this.get("sandbox");for(;k<j;++k){if(a.key(k).indexOf(h)===0){e[k]=d.parse(a.key(k).substring(h.length));}}return e;},_defAddFn:function(m){var l=m.entry,k=l.request,j=l.cached,h=l.expires;l.cached=j.getTime();l.expires=h?h.getTime():h;try{a.setItem(this.get("sandbox")+d.stringify({"request":k}),d.stringify(l));}catch(i){this.fire("error",{error:i});}},_defFlushFn:function(k){var j,h=a.length-1;for(;h>-1;--h){j=a.key(h);if(j.indexOf(this.get("sandbox"))===0){a.removeItem(j);}}},retrieve:function(k){this.fire("request",{request:k});var j,h,i;try{i=this.get("sandbox")+d.stringify({"request":k});try{j=d.parse(a.getItem(i));}catch(m){}}catch(l){}if(j){j.cached=new Date(j.cached);h=j.expires;h=!h?null:new Date(h);j.expires=h;if(this._isMatch(k,j)){this.fire("retrieve",{entry:j});return j;}}return null;}}:{_setMax:function(e){return null;}});g.CacheOffline=f;},"@VERSION@",{"requires":["cache-base","json"]});