YUI.add("history-html5",function(a,h){var b=a.HistoryBase,e=a.Lang,f=a.config.win,i=a.config.useHistoryHTML5,c="popstate",d=b.SRC_REPLACE;function g(){g.superclass.constructor.apply(this,arguments);}a.extend(g,b,{_init:function(j){var k=f.history.state;if(a.Object.isEmpty(k)){k=null;}j||(j={});if(j.initialState&&e.type(j.initialState)==="object"&&e.type(k)==="object"){this._initialState=a.merge(j.initialState,k);}else{this._initialState=k;}a.on("popstate",this._onPopState,f,this);g.superclass._init.apply(this,arguments);},_storeState:function(l,k,j){if(l!==c){f.history[l===d?"replaceState":"pushState"](k,j.title||a.config.doc.title||"",j.url||null);}g.superclass._storeState.apply(this,arguments);},_onPopState:function(j){this._resolveChanges(c,j._event.state||null);}},{NAME:"historyhtml5",SRC_POPSTATE:c});if(!a.Node.DOM_EVENTS.popstate){a.Node.DOM_EVENTS.popstate=1;}a.HistoryHTML5=g;if(i===true||(i!==false&&b.html5)){a.History=g;}},"@VERSION@",{"optional":["json"],"requires":["event-base","history-base","node-base"]});