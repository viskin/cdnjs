YUI.add("recordset-sort",function(e,c){var a=e.ArraySort.compare,d=e.Lang.isValue;function b(f,g,h){b.superclass.constructor.apply(this,arguments);}e.mix(b,{NS:"sort",NAME:"recordsetSort",ATTRS:{lastSortProperties:{value:{field:undefined,desc:true,sorter:undefined},validator:function(f){return(d(f.field)&&d(f.desc)&&d(f.sorter));}},defaultSorter:{value:function(h,f,i,j){var g=a(h.getValue(i),f.getValue(i),j);if(g===0){return a(h.get("id"),f.get("id"),j);}else{return g;}}},isSorted:{value:false}}});e.extend(b,e.Plugin.Base,{initializer:function(g){var f=this,h=this.get("host");this.publish("sort",{defaultFn:e.bind("_defSortFn",this)});this.on("sort",function(){f.set("isSorted",true);});this.onHostEvent("add",function(){f.set("isSorted",false);},h);this.onHostEvent("update",function(){f.set("isSorted",false);},h);},destructor:function(f){},_defSortFn:function(f){this.get("host")._items.sort(function(h,g){return(f.sorter)(h,g,f.field,f.desc);});this.set("lastSortProperties",f);},sort:function(f,g,h){this.fire("sort",{field:f,desc:g,sorter:h||this.get("defaultSorter")});},resort:function(){var f=this.get("lastSortProperties");this.fire("sort",{field:f.field,desc:f.desc,sorter:f.sorter||this.get("defaultSorter")});},reverse:function(){this.get("host")._items.reverse();},flip:function(){var f=this.get("lastSortProperties");if(d(f.field)){this.fire("sort",{field:f.field,desc:!f.desc,sorter:f.sorter||this.get("defaultSorter")});}else{}}});e.namespace("Plugin").RecordsetSort=b;},"@VERSION@",{"requires":["arraysort","recordset-base","plugin"]});