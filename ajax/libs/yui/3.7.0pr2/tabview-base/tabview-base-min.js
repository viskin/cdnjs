YUI.add("tabview-base",function(b,l){var c=b.ClassNameManager.getClassName,f="tabview",k="tab",m="content",j="panel",g="selected",h={},i=".",d={tabview:c(f),tabviewPanel:c(f,j),tabviewList:c(f,"list"),tab:c(k),tabLabel:c(k,"label"),tabPanel:c(k,j),selectedTab:c(k,g),selectedPanel:c(k,j,g)},e={tabview:i+d.tabview,tabviewList:"> ul",tab:"> ul > li",tabLabel:"> ul > li > a ",tabviewPanel:"> div",tabPanel:"> div > div",selectedTab:"> ul > "+i+d.selectedTab,selectedPanel:"> div "+i+d.selectedPanel},a=function(n){this.init.apply(this,arguments);};a.NAME="tabviewBase";a._queries=e;a._classNames=d;b.mix(a.prototype,{init:function(n){n=n||h;this._node=n.host||b.one(n.node);this.refresh();},initClassNames:function(n){b.Object.each(e,function(q,p){if(d[p]){var o=this.all(q);if(n!==undefined){o=o.item(n);}if(o){o.addClass(d[p]);}}},this._node);this._node.addClass(d.tabview);},_select:function(o){var r=this._node,s=r.one(e.selectedTab),q=r.one(e.selectedPanel),p=r.all(e.tab).item(o),n=r.all(e.tabPanel).item(o);if(s){s.removeClass(d.selectedTab);}if(q){q.removeClass(d.selectedPanel);}if(p){p.addClass(d.selectedTab);}if(n){n.addClass(d.selectedPanel);}},initState:function(){var o=this._node,p=o.one(e.selectedTab),n=p?o.all(e.tab).indexOf(p):0;this._select(n);},_scrubTextNodes:function(){this._node.one(e.tabviewList).get("childNodes").each(function(n){if(n.get("nodeType")===3){n.remove();}});},refresh:function(){this._scrubTextNodes();this.initClassNames();this.initState();this.initEvents();},tabEventName:"click",initEvents:function(){this._node.delegate(this.tabEventName,this.onTabEvent,e.tab,this);},onTabEvent:function(n){n.preventDefault();this._select(this._node.all(e.tab).indexOf(n.currentTarget));},destroy:function(){this._node.detach(this.tabEventName);}});b.TabviewBase=a;},"@VERSION@",{"requires":["node-event-delegate","classnamemanager","skin-sam-tabview"]});