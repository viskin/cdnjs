YUI.add("selector-native",function(b,a){(function(f){f.namespace("Selector");var d="compareDocumentPosition",e="ownerDocument";var c={_types:{esc:{token:"\uE000",re:/\\[:\[\]\(\)#\.\'\>+~"]/gi},attr:{token:"\uE001",re:/(\[[^\]]*\])/g},pseudo:{token:"\uE002",re:/(\([^\)]*\))/g}},useNative:true,_escapeId:function(g){if(g){g=g.replace(/([:\[\]\(\)#\.'<>+~"])/g,"\\$1");}return g;},_compare:("sourceIndex" in f.config.doc.documentElement)?function(j,i){var h=j.sourceIndex,g=i.sourceIndex;if(h===g){return 0;}else{if(h>g){return 1;}}return -1;}:(f.config.doc.documentElement[d]?function(h,g){if(h[d](g)&4){return -1;}else{return 1;}}:function(k,j){var i,g,h;if(k&&j){i=k[e].createRange();i.setStart(k,0);g=j[e].createRange();g.setStart(j,0);h=i.compareBoundaryPoints(1,g);}return h;}),_sort:function(g){if(g){g=f.Array(g,0,true);if(g.sort){g.sort(c._compare);}}return g;},_deDupe:function(g){var h=[],j,k;for(j=0;(k=g[j++]);){if(!k._found){h[h.length]=k;k._found=true;}}for(j=0;(k=h[j++]);){k._found=null;k.removeAttribute("_found");}return h;},query:function(h,p,q,g){p=p||f.config.doc;var m=[],j=(f.Selector.useNative&&f.config.doc.querySelector&&!g),l=[[h,p]],n,r,k,o=(j)?f.Selector._nativeQuery:f.Selector._bruteQuery;if(h&&o){if(!g&&(!j||p.tagName)){l=c._splitQueries(h,p);}for(k=0;(n=l[k++]);){r=o(n[0],n[1],q);if(!q){r=f.Array(r,0,true);}if(r){m=m.concat(r);}}if(l.length>1){m=c._sort(c._deDupe(m));}}return(q)?(m[0]||null):m;},_replaceSelector:function(g){var h=f.Selector._parse("esc",g),i,j;g=f.Selector._replace("esc",g);j=f.Selector._parse("pseudo",g);g=c._replace("pseudo",g);i=f.Selector._parse("attr",g);g=f.Selector._replace("attr",g);return{esc:h,attrs:i,pseudos:j,selector:g};},_restoreSelector:function(h){var g=h.selector;g=f.Selector._restore("attr",g,h.attrs);g=f.Selector._restore("pseudo",g,h.pseudos);g=f.Selector._restore("esc",g,h.esc);return g;},_replaceCommas:function(g){var h=f.Selector._replaceSelector(g),g=h.selector;if(g){g=g.replace(/,/g,"\uE007");h.selector=g;g=f.Selector._restoreSelector(h);}return g;},_splitQueries:function(j,m){if(j.indexOf(",")>-1){j=f.Selector._replaceCommas(j);}var h=j.split("\uE007"),k=[],n="",o,l,g;if(m){if(m.nodeType===1){o=f.Selector._escapeId(f.DOM.getId(m));if(!o){o=f.guid();f.DOM.setId(m,o);}n='[id="'+o+'"] ';}for(l=0,g=h.length;l<g;++l){j=n+h[l];k.push([j,m]);}}return k;},_nativeQuery:function(g,h,i){if(f.UA.webkit&&g.indexOf(":checked")>-1&&(f.Selector.pseudos&&f.Selector.pseudos.checked)){return f.Selector.query(g,h,i,true);}try{return h["querySelector"+(i?"":"All")](g);}catch(j){return f.Selector.query(g,h,i,true);}},filter:function(h,g){var j=[],k,l;if(h&&g){for(k=0;(l=h[k++]);){if(f.Selector.test(l,g)){j[j.length]=l;}}}else{}return j;},test:function(l,m,r){var p=false,h=false,k,s,v,q,u,g,o,n,t;if(l&&l.tagName){if(typeof m=="function"){p=m.call(l,l);}else{k=m.split(",");if(!r&&!f.DOM.inDoc(l)){s=l.parentNode;if(s){r=s;}else{u=l[e].createDocumentFragment();u.appendChild(l);r=u;h=true;}}r=r||l[e];g=f.Selector._escapeId(f.DOM.getId(l));if(!g){g=f.guid();f.DOM.setId(l,g);}for(o=0;(t=k[o++]);){t+='[id="'+g+'"]';q=f.Selector.query(t,r);for(n=0;v=q[n++];){if(v===l){p=true;break;}}if(p){break;}}if(h){u.removeChild(l);}}}return p;},ancestor:function(h,g,i){return f.DOM.ancestor(h,function(j){return f.Selector.test(j,g);},i);},_parse:function(h,g){return g.match(f.Selector._types[h].re);},_replace:function(h,g){var i=f.Selector._types[h];return g.replace(i.re,i.token);},_restore:function(k,h,j){if(j){var m=f.Selector._types[k].token,l,g;for(l=0,g=j.length;l<g;++l){h=h.replace(m,j[l]);}}return h;}};f.mix(f.Selector,c,true);})(b);},"@VERSION@",{"requires":["dom-base"]});