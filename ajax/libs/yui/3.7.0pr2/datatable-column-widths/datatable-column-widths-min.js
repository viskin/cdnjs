YUI.add("datatable-column-widths",function(Y,NAME){var isNumber=Y.Lang.isNumber,arrayIndex=Y.Array.indexOf;Y.Features.add("table","badColWidth",{test:function(){var body=Y.one("body"),node,broken;return body&&(node=body.insertBefore('<table style="position:absolute;visibility:hidden;border:0 none"><colgroup><col style="width:9px"></colgroup><tbody><tr><td style="padding:0 4px;font:normal 2px/2px arial;border:0 none">.</td></tr></tbody></table>',body.get("firstChild")),broken=node.one("td").getComputedStyle("width")!=="1px",node.remove(!0)),broken}});function ColumnWidths(){}Y.mix(ColumnWidths.prototype,{COL_TEMPLATE:"<col/>",COLGROUP_TEMPLATE:"<colgroup/>",setColumnWidth:function(id,width){var col=this.getColumn(id),index=col&&arrayIndex(this._displayColumns,col);return index>-1&&(isNumber(width)&&(width+="px"),col.width=width,this._setColumnWidth(index,width)),this},_createColumnGroup:function(){return Y.Node.create(this.COLGROUP_TEMPLATE)},initializer:function(config){this.after(["renderView","columnsChange"],this._uiSetColumnWidths)},_setColumnWidth:function(colIndex,width){var colgroup=this._colgroupNode,col=colgroup&&colgroup.all("col").item(colIndex),cell,getCStyle;col&&(width&&isNumber(width)&&(width+="px"),col.setStyle("width",width),width&&Y.Features.test("table","badColWidth")&&(cell=this.getCell([0,colIndex]),cell&&(getCStyle=function(prop){return parseInt(cell.getComputedStyle(prop),10)|0},col.setStyle("width",parseInt(width,10)-getCStyle("paddingLeft")-getCStyle("paddingRight")-getCStyle("borderLeftWidth")-getCStyle("borderRightWidth")+"px"))))},_uiSetColumnWidths:function(){if(!this.view)return;var template=this.COL_TEMPLATE,colgroup=this._colgroupNode,columns=this._displayColumns,i,len;colgroup?colgroup.empty():(colgroup=this._colgroupNode=this._createColumnGroup(),this._tableNode.insertBefore(colgroup,this._tableNode.one("> thead, > tfoot, > tbody")));for(i=0,len=columns.length;i<len;++i)colgroup.append(template),this._setColumnWidth(i,columns[i].width)}},!0),Y.DataTable.ColumnWidths=ColumnWidths,Y.Base.mix(Y.DataTable,[ColumnWidths])},"@VERSION@",{requires:["datatable-base"]})