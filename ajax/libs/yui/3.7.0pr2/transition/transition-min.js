YUI.add("transition",function(b,g){var j="",i="",f=b.config.doc,s="documentElement",t="transition",l="Transition",n,k,q,a,o,c,m,u,r={},h=["Webkit","Moz"],e={Webkit:"webkitTransitionEnd"},d=function(){this.init.apply(this,arguments);};d._toCamel=function(v){v=v.replace(/-([a-z])/gi,function(x,w){return w.toUpperCase();});return v;};d._toHyphen=function(v){v=v.replace(/([A-Z]?)([a-z]+)([A-Z]?)/g,function(z,y,x,w){var A=((y)?"-"+y.toLowerCase():"")+x;if(w){A+="-"+w.toLowerCase();}return A;});return v;};d.SHOW_TRANSITION="fadeIn";d.HIDE_TRANSITION="fadeOut";d.useNative=false;b.Array.each(h,function(w){var v=w+l;if(v in f[s].style){j=w;i=d._toHyphen(w)+"-";d.useNative=true;d.supported=true;d._VENDOR_PREFIX=w;}});l=j+l;n=j+"TransitionProperty";k=i+"transition-property";q=i+"transition-duration";a=i+"transition-timing-function";o=i+"transition-delay";c="transitionend";m="on"+j.toLowerCase()+"transitionend";c=e[j]||c;u=j+"Transform";d.fx={};d.toggles={};d._hasEnd={};d._reKeywords=/^(?:node|duration|iterations|easing|delay|on|onstart|onend)$/i;b.Node.DOM_EVENTS[c]=1;d.NAME="transition";d.DEFAULT_EASING="ease";d.DEFAULT_DURATION=0.5;d.DEFAULT_DELAY=0;d._nodeAttrs={};d.prototype={constructor:d,init:function(w,v){var x=this;x._node=w;if(!x._running&&v){x._config=v;w._transition=x;x._duration=("duration" in v)?v.duration:x.constructor.DEFAULT_DURATION;x._delay=("delay" in v)?v.delay:x.constructor.DEFAULT_DELAY;x._easing=v.easing||x.constructor.DEFAULT_EASING;x._count=0;x._running=false;}return x;},addProperty:function(w,y){var B=this,z=this._node,D=b.stamp(z),C=b.one(z),G=d._nodeAttrs[D],A,F,v,E,x;if(!G){G=d._nodeAttrs[D]={};}E=G[w];if(y&&y.value!==undefined){x=y.value;}else{if(y!==undefined){x=y;y=r;}}if(typeof x==="function"){x=x.call(C,C);}if(E&&E.transition){if(E.transition!==B){E.transition._count--;}}B._count++;v=((typeof y.duration!="undefined")?y.duration:B._duration)||0.0001;G[w]={value:x,duration:v,delay:(typeof y.delay!="undefined")?y.delay:B._delay,easing:y.easing||B._easing,transition:B};A=b.DOM.getComputedStyle(z,w);F=(typeof x==="string")?A:parseFloat(A);if(d.useNative&&F===x){setTimeout(function(){B._onNativeEnd.call(z,{propertyName:w,elapsedTime:v});},v*1000);}},removeProperty:function(x){var w=this,v=d._nodeAttrs[b.stamp(w._node)];if(v&&v[x]){delete v[x];w._count--;}},initAttrs:function(w){var v,x=this._node;if(w.transform&&!w[u]){w[u]=w.transform;delete w.transform;}for(v in w){if(w.hasOwnProperty(v)&&!d._reKeywords.test(v)){this.addProperty(v,w[v]);if(x.style[v]===""){b.DOM.setStyle(x,v,b.DOM.getComputedStyle(x,v));}}}},run:function(z){var y=this,w=y._node,v=y._config,x={type:"transition:start",config:v};if(!y._running){y._running=true;if(v.on&&v.on.start){v.on.start.call(b.one(w),x);}y.initAttrs(y._config);y._callback=z;y._start();}return y;},_start:function(){this._runNative();},_prepDur:function(v){v=parseFloat(v);return v+"s";},_runNative:function(x){var D=this,y=D._node,F=b.stamp(y),w=y.style,B=y.ownerDocument.defaultView.getComputedStyle(y),J=d._nodeAttrs[F],z="",K=B[d._toCamel(k)],I=k+": ",C=q+": ",H=a+": ",E=o+": ",A,G,v;if(K!=="all"){I+=K+",";C+=B[d._toCamel(q)]+",";H+=B[d._toCamel(a)]+",";E+=B[d._toCamel(o)]+",";}for(v in J){A=d._toHyphen(v);G=J[v];if((G=J[v])&&G.transition===D){if(v in y.style){C+=D._prepDur(G.duration)+",";E+=D._prepDur(G.delay)+",";H+=(G.easing)+",";I+=A+",";z+=A+": "+G.value+"; ";}else{this.removeProperty(v);}}}I=I.replace(/,$/,";");C=C.replace(/,$/,";");H=H.replace(/,$/,";");E=E.replace(/,$/,";");if(!d._hasEnd[F]){y.addEventListener(c,D._onNativeEnd,"");d._hasEnd[F]=true;}w.cssText+=I+C+H+E+z;},_end:function(v){var z=this,x=z._node,B=z._callback,w=z._config,y={type:"transition:end",config:w,elapsedTime:v},A=b.one(x);z._running=false;z._callback=null;if(x){if(w.on&&w.on.end){setTimeout(function(){w.on.end.call(A,y);if(B){B.call(A,y);}},1);}else{if(B){setTimeout(function(){B.call(A,y);},1);}}}},_endNative:function(v){var w=this._node,x=w.ownerDocument.defaultView.getComputedStyle(w,"")[d._toCamel(k)];v=d._toHyphen(v);if(typeof x==="string"){x=x.replace(new RegExp("(?:^|,\\s)"+v+",?"),",");x=x.replace(/^,|,$/,"");w.style[l]=x;}},_onNativeEnd:function(C){var y=this,B=b.stamp(y),v=C,w=d._toCamel(v.propertyName),F=v.elapsedTime,E=d._nodeAttrs[B],D=E[w],z=(D)?D.transition:null,A,x;if(z){z.removeProperty(w);z._endNative(w);x=z._config[w];A={type:"propertyEnd",propertyName:w,elapsedTime:F,config:x};if(x&&x.on&&x.on.end){x.on.end.call(b.one(y),A);}if(z._count<=0){z._end(F);y.style[n]="";}}},destroy:function(){var w=this,v=w._node;if(v){v.removeEventListener(c,w._onNativeEnd,false);w._node=null;}}};b.Transition=d;b.TransitionNative=d;b.Node.prototype.transition=function(x,w,B){var v=d._nodeAttrs[b.stamp(this._node)],z=(v)?v.transition||null:null,y,A;if(typeof x==="string"){if(typeof w==="function"){B=w;w=null;}y=d.fx[x];if(w&&typeof w!=="boolean"){w=b.clone(w);for(A in y){if(y.hasOwnProperty(A)){if(!(A in w)){w[A]=y[A];}}}}else{w=y;}}else{B=w;w=x;}if(z&&!z._running){z.init(this,w);}else{z=new d(this._node,w);}z.run(B);return this;};b.Node.prototype.show=function(w,v,x){this._show();if(w&&b.Transition){if(typeof w!=="string"&&!w.push){if(typeof v==="function"){x=v;v=w;}w=d.SHOW_TRANSITION;}this.transition(w,v,x);}return this;};var p=function(w,v,x){return function(){if(v){v.call(w);}if(x){x.apply(w._node,arguments);}};};b.Node.prototype.hide=function(w,v,x){if(w&&b.Transition){if(typeof v==="function"){x=v;v=null;}x=p(this,this._hide,x);if(typeof w!=="string"&&!w.push){if(typeof v==="function"){x=v;v=w;}w=d.HIDE_TRANSITION;}this.transition(w,v,x);}else{this._hide();}return this;};b.NodeList.prototype.transition=function(w,z){var v=this._nodes,x=0,y;while((y=v[x++])){b.one(y).transition(w,z);}return this;};b.Node.prototype.toggleView=function(w,v,x){this._toggles=this._toggles||[];x=arguments[arguments.length-1];if(typeof w=="boolean"){v=w;w=null;}w=w||b.Transition.DEFAULT_TOGGLE;if(typeof v=="undefined"&&w in this._toggles){v=!this._toggles[w];}v=(v)?1:0;if(v){this._show();
}else{x=p(this,this._hide,x);}this._toggles[w]=v;this.transition(b.Transition.toggles[w][v],x);return this;};b.NodeList.prototype.toggleView=function(x,v,A){var w=this._nodes,y=0,z;while((z=w[y++])){b.one(z).toggleView(x,v,A);}return this;};b.mix(d.fx,{fadeOut:{opacity:0,duration:0.5,easing:"ease-out"},fadeIn:{opacity:1,duration:0.5,easing:"ease-in"},sizeOut:{height:0,width:0,duration:0.75,easing:"ease-out"},sizeIn:{height:function(v){return v.get("scrollHeight")+"px";},width:function(v){return v.get("scrollWidth")+"px";},duration:0.5,easing:"ease-in",on:{start:function(){var v=this.getStyle("overflow");if(v!=="hidden"){this.setStyle("overflow","hidden");this._transitionOverflow=v;}},end:function(){if(this._transitionOverflow){this.setStyle("overflow",this._transitionOverflow);delete this._transitionOverflow;}}}}});b.mix(d.toggles,{size:["sizeOut","sizeIn"],fade:["fadeOut","fadeIn"]});d.DEFAULT_TOGGLE="fade";},"@VERSION@",{"requires":["node-style"]});