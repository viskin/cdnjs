angular.module("angular-clipboard",[]).factory("clipboard",["$document",function(d){function c(f){var e=d[0].createElement("textarea");e.style.position="absolute";e.style.left="-10000px";e.textContent=f;return e}function a(f){try{d[0].body.style.webkitUserSelect="initial";var e=d[0].getSelection();e.removeAllRanges();f.select();if(!d[0].execCommand("copy")){throw ("failure copy")}e.removeAllRanges()}finally{d[0].body.style.webkitUserSelect=""}}function b(f){var e=c(f);d[0].body.appendChild(e);a(e);d[0].body.removeChild(e)}return{copyText:b}}]).directive("clipboard",["clipboard",function(a){return{restrict:"A",scope:{onCopied:"&",onError:"&",text:"="},link:function(c,b){b.on("click",function(e){try{a.copyText(c.text);if(angular.isFunction(c.onCopied)){c.$evalAsync(c.onCopied())}}catch(d){if(angular.isFunction(c.onError)){c.$evalAsync(c.onError({err:d}))}}})}}}]);