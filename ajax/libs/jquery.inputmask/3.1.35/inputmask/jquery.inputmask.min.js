!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(e){var t=document.createElement("input"),i="on"+e,a=i in t;return a||(t.setAttribute(i,"return;"),a="function"==typeof t[i]),t=null,a}function i(e){var t="text"==e||"tel"==e;if(!t){var i=document.createElement("input");i.setAttribute("type",e),t="text"===i.type,i=null}return t}function a(t,i,n){var r=n.aliases[t];return r?(r.alias&&a(r.alias,void 0,n),e.extend(!0,n,r),e.extend(!0,n,i),!0):!1}function n(t,i){function a(e){function i(e,t,i,a){this.matches=[],this.isGroup=e||!1,this.isOptional=t||!1,this.isQuantifier=i||!1,this.isAlternator=a||!1,this.quantifier={min:1,max:1}}function a(e,i,a){var n=t.definitions[i],r=0==e.matches.length;if(a=void 0!=a?a:e.matches.length,n&&!d){for(var o=n.prevalidator,s=o?o.length:0,l=1;l<n.cardinality;l++){var u=s>=l?o[l-1]:[],c=u.validator,p=u.cardinality;e.matches.splice(a++,0,{fn:c?"string"==typeof c?new RegExp(c):new function(){this.test=c}:new RegExp("."),cardinality:p?p:1,optionality:e.isOptional,newBlockMarker:r,casing:n.casing,def:n.definitionSymbol||i,placeholder:n.placeholder,mask:i})}e.matches.splice(a++,0,{fn:n.validator?"string"==typeof n.validator?new RegExp(n.validator):new function(){this.test=n.validator}:new RegExp("."),cardinality:n.cardinality,optionality:e.isOptional,newBlockMarker:r,casing:n.casing,def:n.definitionSymbol||i,placeholder:n.placeholder,mask:i})}else e.matches.splice(a++,0,{fn:null,cardinality:0,optionality:e.isOptional,newBlockMarker:r,casing:null,def:i,placeholder:void 0,mask:i}),d=!1}for(var n,r,o,s,l,u,c=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})\??|[^.?*+^${[]()|\\]+|./g,d=!1,p=new i,v=[],f=[];n=c.exec(e);)switch(r=n[0],r.charAt(0)){case t.optionalmarker.end:case t.groupmarker.end:if(o=v.pop(),v.length>0){if(s=v[v.length-1],s.matches.push(o),s.isAlternator){l=v.pop();for(var m=0;m<l.matches.length;m++)l.matches[m].isGroup=!1;v.length>0?(s=v[v.length-1],s.matches.push(l)):p.matches.push(l)}}else p.matches.push(o);break;case t.optionalmarker.start:v.push(new i(!1,!0));break;case t.groupmarker.start:v.push(new i(!0));break;case t.quantifiermarker.start:var h=new i(!1,!1,!0);r=r.replace(/[{}]/g,"");var k=r.split(","),g=isNaN(k[0])?k[0]:parseInt(k[0]),y=1==k.length?g:isNaN(k[1])?k[1]:parseInt(k[1]);if(("*"==y||"+"==y)&&(g="*"==y?0:1),h.quantifier={min:g,max:y},v.length>0){var b=v[v.length-1].matches;if(n=b.pop(),!n.isGroup){var _=new i(!0);_.matches.push(n),n=_}b.push(n),b.push(h)}else{if(n=p.matches.pop(),!n.isGroup){var _=new i(!0);_.matches.push(n),n=_}p.matches.push(n),p.matches.push(h)}break;case t.escapeChar:d=!0;break;case t.alternatormarker:v.length>0?(s=v[v.length-1],u=s.matches.pop()):u=p.matches.pop(),u.isAlternator?v.push(u):(l=new i(!1,!1,!1,!0),l.matches.push(u),v.push(l));break;default:if(v.length>0){if(s=v[v.length-1],s.matches.length>0&&(u=s.matches[s.matches.length-1],u.isGroup&&(u.isGroup=!1,a(u,t.groupmarker.start,0),a(u,t.groupmarker.end))),a(s,r),s.isAlternator){l=v.pop();for(var m=0;m<l.matches.length;m++)l.matches[m].isGroup=!1;v.length>0?(s=v[v.length-1],s.matches.push(l)):p.matches.push(l)}}else p.matches.length>0&&(u=p.matches[p.matches.length-1],u.isGroup&&(u.isGroup=!1,a(u,t.groupmarker.start,0),a(u,t.groupmarker.end))),a(p,r)}return p.matches.length>0&&(u=p.matches[p.matches.length-1],u.isGroup&&(u.isGroup=!1,a(u,t.groupmarker.start,0),a(u,t.groupmarker.end)),f.push(p)),f}function n(i,n){if(t.numericInput&&t.multi!==!0){i=i.split("").reverse();for(var r=0;r<i.length;r++)i[r]==t.optionalmarker.start?i[r]=t.optionalmarker.end:i[r]==t.optionalmarker.end?i[r]=t.optionalmarker.start:i[r]==t.groupmarker.start?i[r]=t.groupmarker.end:i[r]==t.groupmarker.end&&(i[r]=t.groupmarker.start);i=i.join("")}if(void 0==i||""==i)return void 0;if(1==i.length&&0==t.greedy&&0!=t.repeat&&(t.placeholder=""),t.repeat>0||"*"==t.repeat||"+"==t.repeat){var o="*"==t.repeat?0:"+"==t.repeat?1:t.repeat;i=t.groupmarker.start+i+t.groupmarker.end+t.quantifiermarker.start+o+","+t.repeat+t.quantifiermarker.end}return void 0==e.inputmask.masksCache[i]&&(e.inputmask.masksCache[i]={mask:i,maskToken:a(i),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:n}),e.extend(!0,{},e.inputmask.masksCache[i])}var r=void 0;if(e.isFunction(t.mask)&&(t.mask=t.mask.call(this,t)),e.isArray(t.mask))if(i)r=[],e.each(t.mask,function(t,i){r.push(void 0==i.mask||e.isFunction(i.mask)?n(i.toString(),i):n(i.mask.toString(),i))});else{t.keepStatic=void 0==t.keepStatic?!0:t.keepStatic;var o="(";e.each(t.mask,function(t,i){o.length>1&&(o+=")|("),o+=void 0==i.mask||e.isFunction(i.mask)?i.toString():i.mask.toString()}),o+=")",r=n(o,t.mask)}else t.mask&&(r=void 0==t.mask.mask||e.isFunction(t.mask.mask)?n(t.mask.toString(),t.mask):n(t.mask.mask.toString(),t.mask));return r}function r(a,n,r){function o(e,t,i){t=t||0;var a,n,r,o=[],s=0;do{if(e===!0&&v().validPositions[s]){var l=v().validPositions[s];n=l.match,a=l.locator.slice(),o.push(i===!0?l.input:D(s,n))}else{if(t>s){var u=_(s,a,s-1);r=u[0]}else r=g(s,a,s-1);n=r.match,a=r.locator.slice(),o.push(D(s,n))}s++}while((void 0==nt||nt>s-1)&&null!=n.fn||null==n.fn&&""!=n.def||t>=s);return o.pop(),o}function v(){return n}function f(e){var t=v();t.buffer=void 0,t.tests={},e!==!0&&(t._buffer=void 0,t.validPositions={},t.p=0)}function m(e){var t=v(),i=-1,a=t.validPositions;void 0==e&&(e=-1);var n=i,r=i;for(var o in a){var s=parseInt(o);(-1==e||null!=a[s].match.fn)&&(e>=s&&(n=s),s>=e&&(r=s))}return i=e-n>1||e>r?n:r}function h(t,i,a){if(r.insertMode&&void 0!=v().validPositions[t]&&void 0==a){var n,o=e.extend(!0,{},v().validPositions),s=m();for(n=t;s>=n;n++)delete v().validPositions[n];v().validPositions[t]=i;var l,u=!0;for(n=t;s>=n;n++){var c=o[n];if(void 0!=c){var d=v().validPositions;l=!r.keepStatic&&(void 0!=d[n+1]&&_(n+1,d[n].locator.slice(),n).length>1||d[n]&&void 0!=d[n].alternation)?n+1:O(n),u=b(l,c.match.def)?u&&M(l,c.input,!0,!0)!==!1:null==c.match.fn}if(!u)break}if(!u)return v().validPositions=e.extend(!0,{},o),!1}else v().validPositions[t]=i;return!0}function k(e,t){var i,a=e;for(void 0!=v().validPositions[e]&&v().validPositions[e].input==r.radixPoint&&(t++,a++),i=a;t>i;i++)void 0==v().validPositions[i]||v().validPositions[i].input==r.radixPoint&&i!=m()||delete v().validPositions[i];for(i=t;i<=m();){var n=v().validPositions[i],o=v().validPositions[a];void 0!=n&&void 0==o?(b(a,n.match.def)&&M(a,n.input,!0)!==!1&&(delete v().validPositions[i],i++),a++):i++}var s=m();s>=e&&void 0!=v().validPositions[s]&&v().validPositions[s].input==r.radixPoint&&delete v().validPositions[s],f(!0)}function g(e,t,i){for(var a,n=_(e,t,i),o=m(),s=v().validPositions[o]||_(0)[0],l=void 0!=s.alternation?s.locator[s.alternation].split(","):[],u=0;u<n.length&&(a=n[u],!(r.greedy||a.match&&(a.match.optionality===!1||a.match.newBlockMarker===!1)&&a.match.optionalQuantifier!==!0&&(void 0==s.alternation||void 0!=a.locator[s.alternation]&&S(a.locator[s.alternation].toString().split(","),l))));u++);return a}function y(e){return v().validPositions[e]?v().validPositions[e].match:_(e)[0].match}function b(e,t){for(var i=!1,a=_(e),n=0;n<a.length;n++)if(a[n].match&&a[n].match.def==t){i=!0;break}return i}function _(t,i,a){function n(i,a,o,l){function d(o,l,f){if(s>1e4)return alert("jquery.inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+v().mask),!0;if(s==t&&void 0==o.matches)return u.push({match:o,locator:l.reverse()}),!0;if(void 0!=o.matches){if(o.isGroup&&f!==!0){if(o=d(i.matches[p+1],l))return!0}else if(o.isOptional){var m=o;if(o=n(o,a,l,f)){var h=u[u.length-1].match,k=0==e.inArray(h,m.matches);k&&(c=!0),s=t}}else if(o.isAlternator){var g,y=o,b=[],_=u.slice(),P=l.length,C=a.length>0?a.shift():-1;if(-1==C||"string"==typeof C){var E,A=s,S=a.slice();"string"==typeof C&&(E=C.split(","));for(var M=0;M<y.matches.length;M++){u=[],o=d(y.matches[M],[M].concat(l),f)||o,g=u.slice(),s=A,u=[];for(var w=0;w<S.length;w++)a[w]=S[w];for(var x=0;x<g.length;x++)for(var O=g[x],G=0;G<b.length;G++){var T=b[G];if(O.match.mask==T.match.mask&&("string"!=typeof C||-1!=e.inArray(O.locator[P].toString(),E))){g.splice(x,1),T.locator[P]=T.locator[P]+","+O.locator[P],T.alternation=P;break}}b=b.concat(g)}"string"==typeof C&&(b=e.map(b,function(t,i){if(isFinite(i)){var a,n=t.locator[P].toString().split(",");t.locator[P]=void 0,t.alternation=void 0;for(var r=0;r<n.length;r++)a=-1!=e.inArray(n[r],E),a&&(void 0!=t.locator[P]?(t.locator[P]+=",",t.alternation=P,t.locator[P]+=n[r]):t.locator[P]=parseInt(n[r]));if(void 0!=t.locator[P])return t}})),u=_.concat(b),c=!0}else o=d(y.matches[C],[C].concat(l),f);if(o)return!0}else if(o.isQuantifier&&f!==!0){var j=o;r.greedy=r.greedy&&isFinite(j.quantifier.max);for(var D=a.length>0&&f!==!0?a.shift():0;D<(isNaN(j.quantifier.max)?D+1:j.quantifier.max)&&t>=s;D++){var F=i.matches[e.inArray(j,i.matches)-1];if(o=d(F,[D].concat(l),!0)){var h=u[u.length-1].match;h.optionalQuantifier=D>j.quantifier.min-1;var k=0==e.inArray(h,F.matches);if(k){if(D>j.quantifier.min-1){c=!0,s=t;break}return!0}return!0}}}else if(o=n(o,a,l,f))return!0}else s++}for(var p=a.length>0?a.shift():0;p<i.matches.length;p++)if(i.matches[p].isQuantifier!==!0){var f=d(i.matches[p],[p].concat(o),l);if(f&&s==t)return f;if(s>t)break}}var o=v().maskToken,s=i?a:0,l=i||[0],u=[],c=!1;if(void 0==i){for(var d,p=t-1;void 0==(d=v().validPositions[p])&&p>-1;)p--;if(void 0!=d&&p>-1)s=p,l=d.locator.slice();else{for(p=t-1;void 0==(d=v().tests[p])&&p>-1;)p--;void 0!=d&&p>-1&&(s=p,l=d[0].locator.slice())}}for(var f=l.shift();f<o.length;f++){var m=n(o[f],l,[f]);if(m&&s==t||s>t)break}return(0==u.length||c)&&u.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]}),v().tests[t]=e.extend(!0,[],u),v().tests[t]}function P(){return void 0==v()._buffer&&(v()._buffer=o(!1,1)),v()._buffer}function C(){return void 0==v().buffer&&(v().buffer=o(!0,m(),!0)),v().buffer}function E(e,t){var i=C().slice();if(e===!0)f(),e=0,t=i.length;else for(var a=e;t>a;a++)delete v().validPositions[a],delete v().tests[a];for(var a=e;t>a;a++)i[a]!=r.skipOptionalPartCharacter&&M(a,i[a],!0,!0)}function A(e,t){switch(t.casing){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e}function S(t,i){for(var a=r.greedy?i:i.slice(0,1),n=!1,o=0;o<t.length;o++)if(-1!=e.inArray(t[o],a)){n=!0;break}return n}function M(t,i,a,n){function o(t,i,a,n){var o=!1;return e.each(_(t),function(s,l){for(var u=l.match,c=i?1:0,d="",p=(C(),u.cardinality);p>c;p--)d+=T(t-(p-1));if(i&&(d+=i),o=null!=u.fn?u.fn.test(d,v(),t,a,r):i!=u.def&&i!=r.skipOptionalPartCharacter||""==u.def?!1:{c:u.def,pos:t},o!==!1){var g=void 0!=o.c?o.c:i;g=g==r.skipOptionalPartCharacter&&null===u.fn?u.def:g;var y=t;if(void 0!=o.remove&&k(o.remove,o.remove+1),o.refreshFromBuffer){var b=o.refreshFromBuffer;if(a=!0,E(b===!0?b:b.start,b.end),void 0==o.pos&&void 0==o.c)return o.pos=m(),!1;if(y=void 0!=o.pos?o.pos:t,y!=t)return o=e.extend(o,M(y,g,!0)),!1}else if(o!==!0&&void 0!=o.pos&&o.pos!=t&&(y=o.pos,E(t,y),y!=t))return o=e.extend(o,M(y,g,!0)),!1;return 1!=o&&void 0==o.pos&&void 0==o.c?!1:(s>0&&f(!0),h(y,e.extend({},l,{input:A(g,u)}),n)||(o=!1),!1)}}),o}function s(t,i,a,n){var o,s,l=e.extend(!0,{},v().validPositions);for(o=m();o>=0;o--)if(v().validPositions[o]&&void 0!=v().validPositions[o].alternation){s=v().validPositions[o].alternation;break}if(void 0!=s)for(var u in v().validPositions)if(parseInt(u)>parseInt(o)&&void 0===v().validPositions[u].alternation){for(var c=v().validPositions[u],d=c.locator[s],p=v().validPositions[o].locator[s].split(","),h=0;h<p.length;h++)if(d<p[h]){for(var k,g,y=u-1;y>=0;y--)if(k=v().validPositions[y],void 0!=k){g=k.locator[s],k.locator[s]=p[h];break}if(d!=k.locator[s]){for(var b=C().slice(),_=u;_<m()+1;_++)delete v().validPositions[_],delete v().tests[_];f(!0),r.keepStatic=!r.keepStatic;for(var _=u;_<b.length;_++)b[_]!=r.skipOptionalPartCharacter&&M(m()+1,b[_],!1,!0);k.locator[s]=g;var P=M(t,i,a,n);if(r.keepStatic=!r.keepStatic,P)return P;f(),v().validPositions=e.extend(!0,{},l)}}break}return!1}function l(t,i){for(var a=v().validPositions[i],n=a.locator,r=n.length,o=t;i>o;o++)if(!w(o)){var s=_(o),l=s[0],u=-1;for(var c in s)for(var d=s[c],p=0;r>p;p++)d.locator[p]&&S(d.locator[p].toString().split(","),n[p].toString().split(","))&&p>u&&(u=p,l=d);h(o,e.extend({},l,{input:l.match.def}),!0)}}a=a===!0;for(var u=C(),c=t-1;c>-1&&(!v().validPositions[c]||null!=v().validPositions[c].match.fn);c--)void 0==v().validPositions[c]&&(!w(c)||u[c]!=D(c))&&_(c).length>1&&o(c,u[c],!0);var d=t,p=!1;if(n&&d>=x()&&f(!0),d<x()&&(p=o(d,i,a,n),!a&&p===!1)){var g=v().validPositions[d];if(!g||null!=g.match.fn||g.match.def!=i&&i!=r.skipOptionalPartCharacter){if((r.insertMode||void 0==v().validPositions[O(d)])&&!w(d))for(var y=d+1,b=O(d);b>=y;y++)if(p=o(y,i,a,n),p!==!1){l(d,y),d=y;break}}else p={caret:O(d)}}return p===!1&&r.keepStatic&&H(u)&&(p=s(t,i,a,n)),p===!0&&(p={pos:d}),p}function w(e){var t=y(e);return null!=t.fn?t.fn:!1}function x(){var e;if(nt=at.prop("maxLength"),-1==nt&&(nt=void 0),0==r.greedy){var t,i=m(),a=v().validPositions[i],n=void 0!=a?a.locator.slice():void 0;for(t=i+1;void 0==a||null!=a.match.fn||null==a.match.fn&&""!=a.match.def;t++)a=g(t,n,t-1),n=a.locator.slice();e=t}else e=C().length;return void 0==nt||nt>e?e:nt}function O(e){var t=x();if(e>=t)return t;for(var i=e;++i<t&&!w(i)&&(r.nojumps!==!0||r.nojumpsThreshold>i););return i}function G(e){var t=e;if(0>=t)return 0;for(;--t>0&&!w(t););return t}function T(e){return void 0==v().validPositions[e]?D(e):v().validPositions[e].input}function j(e,t,i){e._valueSet(t.join("")),void 0!=i&&R(e,i)}function D(t,i){i=i||y(t);var a=e.isFunction(i.placeholder)?i.placeholder.call(this,r):i.placeholder;return void 0!=a?a:null==i.fn?i.def:r.placeholder.charAt(t%r.placeholder.length)}function F(t,i,a,n){var o=void 0!=n?n.slice():t._valueGet().split("");f(),i&&t._valueSet("");var s=P().slice(0,O(-1)).join(""),l=o.join("").match(new RegExp(K(s),"g"));if(l&&l.length>1&&o.splice(0,s.length),e.each(o,function(i,n){var r=m();-1==e.inArray(n,P().slice(r+1,v().p))||a?(J.call(t,void 0,!0,n.charCodeAt(0),!1,a,a?i:v().p),a=a||i>0&&i>v().p):J.call(t,void 0,!0,n.charCodeAt(0),!1,!0,r+1)}),i){var u=r.onKeyPress.call(this,void 0,C(),0,r);Q(t,u),j(t,C(),e(t).is(":focus")?O(m(0)):void 0)}}function K(t){return e.inputmask.escapeRegex.call(this,t)}function B(t){if(t.data("_inputmask")&&!t.hasClass("hasDatepicker")){var i=[],a=v().validPositions;for(var n in a)a[n].match&&null!=a[n].match.fn&&i.push(a[n].input);var o=(rt?i.reverse():i).join(""),s=(rt?C().slice().reverse():C()).join("");return e.isFunction(r.onUnMask)&&(o=r.onUnMask.call(t,s,o,r)||o),o}return t[0]._valueGet()}function I(e){if(rt&&"number"==typeof e&&(!r.greedy||""!=r.placeholder)){var t=C().length;e=t-e}return e}function R(t,i,a){var n,o=t.jquery&&t.length>0?t[0]:t;if("number"!=typeof i){var s=e(o).data("_inputmask");return!e(o).is(":visible")&&s&&void 0!=s.caret?(i=s.caret.begin,a=s.caret.end):o.setSelectionRange?(i=o.selectionStart,a=o.selectionEnd):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),i=0-n.duplicate().moveStart("character",-1e5),a=i+n.text.length),i=I(i),a=I(a),{begin:i,end:a}}i=I(i),a=I(a),a="number"==typeof a?a:i;var s=e(o).data("_inputmask")||{};s.caret={begin:i,end:a},e(o).data("_inputmask",s),e(o).is(":visible")&&(o.scrollLeft=o.scrollWidth,0==r.insertMode&&i==a&&a++,o.setSelectionRange?(o.selectionStart=i,o.selectionEnd=a):o.createTextRange&&(n=o.createTextRange(),n.collapse(!0),n.moveEnd("character",a),n.moveStart("character",i),n.select()))}function L(t){var i,a,n=C(),r=n.length,o=m(),s={},l=v().validPositions[o],u=void 0!=l?l.locator.slice():void 0;for(i=o+1;i<n.length;i++)a=g(i,u,i-1),u=a.locator.slice(),s[i]=e.extend(!0,{},a);var c=l&&void 0!=l.alternation?l.locator[l.alternation].split(","):[];for(i=r-1;i>o&&(a=s[i].match,(a.optionality||a.optionalQuantifier||l&&void 0!=l.alternation&&void 0!=s[i].locator[l.alternation]&&-1!=e.inArray(s[i].locator[l.alternation].toString(),c))&&n[i]==D(i,a));i--)r--;return t?{l:r,def:s[r]?s[r].match:void 0}:r}function N(t){var i=C(),a=i.slice();if(e.isFunction(r.postProcessOnBlur))r.postProcessOnBlur.call(t,a,r);else{for(var n=L(),o=a.length-1;o>n&&!w(o);o--);a.splice(n,o+1-n)}j(t,a)}function H(t){if(e.isFunction(r.isComplete))return r.isComplete.call(at,t,r);if("*"==r.repeat)return void 0;var i=!1,a=L(!0),n=G(a.l),o=m();if(o==n&&(void 0==a.def||a.def.newBlockMarker||a.def.optionalQuantifier)){i=!0;for(var s=0;n>=s;s++){var l=w(s);if(l&&(void 0==t[s]||t[s]==D(s))||!l&&t[s]!=D(s)){i=!1;break}}}return i}function U(e,t){return rt?e-t>1||e-t==1&&r.insertMode:t-e>1||t-e==1&&r.insertMode}function q(t){var i=e._data(t).events;e.each(i,function(t,i){e.each(i,function(e,t){if("inputmask"==t.namespace&&"setvalue"!=t.type){var i=t.handler;t.handler=function(e){return this.readOnly||this.disabled?void e.preventDefault:i.apply(this,arguments)}}})})}function W(t){function i(t){if(void 0==e.valHooks[t]||1!=e.valHooks[t].inputmaskpatch){var i=e.valHooks[t]&&e.valHooks[t].get?e.valHooks[t].get:function(e){return e.value},a=e.valHooks[t]&&e.valHooks[t].set?e.valHooks[t].set:function(e,t){return e.value=t,e};e.valHooks[t]={get:function(t){var a=e(t);if(a.data("_inputmask")){if(a.data("_inputmask").opts.autoUnmask)return a.inputmask("unmaskedvalue");var n=i(t),r=a.data("_inputmask"),o=r.maskset,s=o._buffer;return s=s?s.join(""):"",n!=s?n:""}return i(t)},set:function(t,i){var n,r=e(t),o=r.data("_inputmask");return o?(n=a(t,e.isFunction(o.opts.onBeforeMask)?o.opts.onBeforeMask.call(ft,i,o.opts)||i:i),r.triggerHandler("setvalue.inputmask")):n=a(t,i),n},inputmaskpatch:!0}}}function a(){var t=e(this),i=e(this).data("_inputmask");return i?i.opts.autoUnmask?t.inputmask("unmaskedvalue"):s.call(this)!=P().join("")?s.call(this):"":s.call(this)}function n(t){var i=e(this).data("_inputmask");i?(l.call(this,e.isFunction(i.opts.onBeforeMask)?i.opts.onBeforeMask.call(ft,t,i.opts)||t:t),e(this).triggerHandler("setvalue.inputmask")):l.call(this,t)}function o(t){e(t).bind("mouseenter.inputmask",function(){var t=e(this),i=this,a=i._valueGet();""!=a&&a!=C().join("")&&(l.call(this,e.isFunction(r.onBeforeMask)?r.onBeforeMask.call(ft,a,r)||a:a),t.trigger("setvalue"))});var i=e._data(t).events,a=i.mouseenter;if(a){for(var n=a[a.length-1],o=a.length-1;o>0;o--)a[o]=a[o-1];a[0]=n}}var s,l;t._valueGet||(Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(t,"value"),document.__lookupGetter__&&t.__lookupGetter__("value")?(s=t.__lookupGetter__("value"),l=t.__lookupSetter__("value"),t.__defineGetter__("value",a),t.__defineSetter__("value",n)):(s=function(){return t.value},l=function(e){t.value=e},i(t.type),o(t)),t._valueGet=function(){return rt?s.call(this).split("").reverse().join(""):s.call(this)},t._valueSet=function(e){l.call(this,rt?e.split("").reverse().join(""):e)})}function V(t,i,a){function n(){if(r.keepStatic){f(!0);var e,i=[];for(e=m();e>=0;e--)if(v().validPositions[e]){if(void 0!=v().validPositions[e].alternation)break;i.push(v().validPositions[e].input),delete v().validPositions[e]}if(e>0)for(;i.length>0;)v().p=O(m()),J.call(t,void 0,!0,i.pop().charCodeAt(0),!1,!1,v().p)}}if((r.numericInput||rt)&&(i==e.inputmask.keyCode.BACKSPACE?i=e.inputmask.keyCode.DELETE:i==e.inputmask.keyCode.DELETE&&(i=e.inputmask.keyCode.BACKSPACE),rt)){var o=a.end;a.end=a.begin,a.begin=o}i==e.inputmask.keyCode.BACKSPACE&&a.end-a.begin<=1?a.begin=G(a.begin):i==e.inputmask.keyCode.DELETE&&a.begin==a.end&&a.end++,k(a.begin,a.end),n();var s=m(a.begin);s<a.begin?(-1==s&&f(),v().p=O(s)):v().p=a.begin}function Q(e,t,i){if(t&&t.refreshFromBuffer){var a=t.refreshFromBuffer;E(a===!0?a:a.start,a.end),f(!0),void 0!=i&&(j(e,C()),R(e,t.caret||i.begin,t.caret||i.end))}}function $(i){ot=!1;var a=this,n=e(a),o=i.keyCode,l=R(a);o==e.inputmask.keyCode.BACKSPACE||o==e.inputmask.keyCode.DELETE||s&&127==o||i.ctrlKey&&88==o&&!t("cut")?(i.preventDefault(),88==o&&(it=C().join("")),V(a,o,l),j(a,C(),v().p),a._valueGet()==P().join("")&&n.trigger("cleared"),r.showTooltip&&n.prop("title",v().mask)):o==e.inputmask.keyCode.END||o==e.inputmask.keyCode.PAGE_DOWN?setTimeout(function(){var e=O(m());r.insertMode||e!=x()||i.shiftKey||e--,R(a,i.shiftKey?l.begin:e,e)},0):o==e.inputmask.keyCode.HOME&&!i.shiftKey||o==e.inputmask.keyCode.PAGE_UP?R(a,0,i.shiftKey?l.begin:0):o==e.inputmask.keyCode.ESCAPE||90==o&&i.ctrlKey?(F(a,!0,!1,it.split("")),n.click()):o!=e.inputmask.keyCode.INSERT||i.shiftKey||i.ctrlKey?0!=r.insertMode||i.shiftKey||(o==e.inputmask.keyCode.RIGHT?setTimeout(function(){var e=R(a);R(a,e.begin)},0):o==e.inputmask.keyCode.LEFT&&setTimeout(function(){var e=R(a);R(a,rt?e.begin+1:e.begin-1)},0)):(r.insertMode=!r.insertMode,R(a,r.insertMode||l.begin!=x()?l.begin:l.begin-1));var u=R(a),c=r.onKeyDown.call(this,i,C(),u.begin,r);Q(a,c,u),lt=-1!=e.inArray(o,r.ignorables)}function J(t,i,a,n,o,s){if(void 0==a&&ot)return!1;ot=!0;var l=this,u=e(l);t=t||window.event;var a=i?a:t.which||t.charCode||t.keyCode;if(!(i===!0||t.ctrlKey&&t.altKey)&&(t.ctrlKey||t.metaKey||lt))return!0;if(a){i!==!0&&46==a&&0==t.shiftKey&&","==r.radixPoint&&(a=44);var c,d=i?{begin:s,end:s}:R(l),p=String.fromCharCode(a),m=U(d.begin,d.end);m&&(v().undoPositions=e.extend(!0,{},v().validPositions),V(l,e.inputmask.keyCode.DELETE,d),r.insertMode||(r.insertMode=!r.insertMode,h(d.begin,o),r.insertMode=!r.insertMode),m=!r.multi),v().writeOutBuffer=!0;var k=rt&&!m?d.end:d.begin,g=M(k,p,o);if(g!==!1){if(g!==!0&&(k=void 0!=g.pos?g.pos:k,p=void 0!=g.c?g.c:p),f(!0),void 0!=g.caret)c=g.caret;else{var y=v().validPositions;c=!r.keepStatic&&(void 0!=y[k+1]&&_(k+1,y[k].locator.slice(),k).length>1||void 0!=y[k].alternation)?k+1:O(k)}v().p=c}if(n!==!1){var b=this;if(setTimeout(function(){r.onKeyValidation.call(b,g,r)},0),v().writeOutBuffer&&g!==!1){var P=C();j(l,P,i?void 0:r.numericInput?G(c):c),i!==!0&&setTimeout(function(){H(P)===!0&&u.trigger("complete"),st=!0,u.trigger("input")},0)}else m&&(v().buffer=void 0,v().validPositions=v().undoPositions)}else m&&(v().buffer=void 0,v().validPositions=v().undoPositions);if(r.showTooltip&&u.prop("title",v().mask),t&&1!=i){t.preventDefault();var E=R(l),A=r.onKeyPress.call(this,t,C(),E.begin,r);Q(l,A,E)}}}function z(t){var i=e(this),a=this,n=t.keyCode,o=C(),s=R(a),l=r.onKeyUp.call(this,t,o,s.begin,r);Q(a,l,s),n==e.inputmask.keyCode.TAB&&r.showMaskOnFocus&&(i.is(":focus")&&0==a._valueGet().length?(f(),o=C(),j(a,o),R(a,0),it=C().join("")):(j(a,o),R(a,I(0),I(x()))))}function Z(t){if(st===!0&&"input"==t.type)return st=!1,!0;var i=this,a=e(i),n=i._valueGet(),o=R(i);if("propertychange"==t.type&&i._valueGet().length<=x())return!0;"paste"==t.type&&(window.clipboardData&&window.clipboardData.getData?n=n.substr(0,o.begin)+window.clipboardData.getData("Text")+n.substr(o.end,n.length):t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.getData&&(n=n.substr(0,o.begin)+t.originalEvent.clipboardData.getData("text/plain")+n.substr(o.end,n.length)));var s=e.isFunction(r.onBeforePaste)?r.onBeforePaste.call(i,n,r)||n:n;return F(i,!0,!1,rt?s.split("").reverse():s.split("")),a.click(),H(C())===!0&&a.trigger("complete"),!1}function Y(t){if(st===!0&&"input"==t.type)return st=!1,!0;var i=this,a=R(i),n=i._valueGet();n=n.replace(new RegExp("("+K(P().join(""))+")*"),""),a.begin>n.length&&(R(i,n.length),a=R(i)),C().length-n.length!=1||n.charAt(a.begin)==C()[a.begin]||n.charAt(a.begin+1)==C()[a.begin]||w(a.begin)||(t.keyCode=e.inputmask.keyCode.BACKSPACE,$.call(i,t)),t.preventDefault()}function X(t){if(st===!0&&"input"==t.type)return st=!1,!0;var i=this;F(i,!1,!1);var a=v().p;j(i,C(),r.numericInput?G(a):a),H(C())===!0&&e(i).trigger("complete"),t.preventDefault()}function et(t){st=!0;var i=this;return setTimeout(function(){R(i,R(i).begin-1);var a=e.Event("keypress");a.which=t.originalEvent.data.charCodeAt(0),ot=!1,lt=!1,J.call(i,a,void 0,void 0,!1);var n=v().p;j(i,C(),r.numericInput?G(n):n)},0),!1}function tt(t){if(at=e(t),at.is(":input")&&i(at.attr("type"))){if(at.data("_inputmask",{maskset:n,opts:r,isRTL:!1}),r.showTooltip&&at.prop("title",v().mask),("rtl"==t.dir||r.rightAlign)&&at.css("text-align","right"),"rtl"==t.dir||r.numericInput){t.dir="ltr",at.removeAttr("dir");var a=at.data("_inputmask");a.isRTL=!0,at.data("_inputmask",a),rt=!0}at.unbind(".inputmask"),at.closest("form").bind("submit",function(){it!=C().join("")&&at.change(),at[0]._valueGet&&at[0]._valueGet()==P().join("")&&at[0]._valueSet(""),r.removeMaskOnSubmit&&at.inputmask("remove")}).bind("reset",function(){setTimeout(function(){at.trigger("setvalue")},0)}),at.bind("mouseenter.inputmask",function(){var t=e(this),i=this;!t.is(":focus")&&r.showMaskOnHover&&i._valueGet()!=C().join("")&&j(i,C())}).bind("blur.inputmask",function(){var t=e(this),i=this;if(t.data("_inputmask")){var a=i._valueGet(),n=C();ut=!0,it!=C().join("")&&(t.change(),it=C().join("")),r.clearMaskOnLostFocus&&""!=a&&(a==P().join("")?i._valueSet(""):N(i)),H(n)===!1&&(t.trigger("incomplete"),r.clearIncomplete&&(f(),r.clearMaskOnLostFocus?i._valueSet(""):(n=P().slice(),j(i,n))))}}).bind("focus.inputmask",function(){var t=e(this),i=this,a=i._valueGet();r.showMaskOnFocus&&!t.is(":focus")&&(!r.showMaskOnHover||r.showMaskOnHover&&""==a)&&i._valueGet()!=C().join("")&&j(i,C(),O(m())),it=C().join("")}).bind("mouseleave.inputmask",function(){var t=e(this),i=this;r.clearMaskOnLostFocus&&(t.is(":focus")||i._valueGet()==t.attr("placeholder")||(i._valueGet()==P().join("")||""==i._valueGet()?i._valueSet(""):N(i)))}).bind("click.inputmask",function(){var t=e(this),i=this;if(t.is(":focus")){var a=R(i);if(a.begin==a.end)if(r.radixFocus&&""!=r.radixPoint&&-1!=e.inArray(r.radixPoint,C())&&(ut||C().join("")==P().join("")))R(i,e.inArray(r.radixPoint,C())),ut=!1;else{var n=rt?I(a.begin):a.begin,o=O(m(n));o>n?R(i,w(n)?n:O(n)):R(i,o)}}}).bind("dblclick.inputmask",function(){var e=this;setTimeout(function(){R(e,0,O(m()))},0)}).bind(p+".inputmask dragdrop.inputmask drop.inputmask",Z).bind("setvalue.inputmask",function(){var e=this;F(e,!0,!1),it=C().join(""),(r.clearMaskOnLostFocus||r.clearIncomplete)&&e._valueGet()==P().join("")&&e._valueSet("")}).bind("cut.inputmask",function(t){st=!0;var i=this,a=e(i),n=R(i);V(i,e.inputmask.keyCode.DELETE,n);var o=r.onKeyPress.call(this,t,C(),v().p,r);Q(i,o,{begin:v().p,end:v().p}),i._valueGet()==P().join("")&&a.trigger("cleared"),r.showTooltip&&a.prop("title",v().mask)}).bind("complete.inputmask",r.oncomplete).bind("incomplete.inputmask",r.onincomplete).bind("cleared.inputmask",r.oncleared),at.bind("keydown.inputmask",$).bind("keypress.inputmask",J).bind("keyup.inputmask",z).bind("compositionupdate.inputmask",et),"paste"===p&&at.bind("input.inputmask",X),(l||c||u||d)&&(at.unbind("input.inputmask"),at.bind("input.inputmask",Y)),W(t);var o=e.isFunction(r.onBeforeMask)?r.onBeforeMask.call(t,t._valueGet(),r)||t._valueGet():t._valueGet();F(t,!0,!1,o.split("")),it=C().join("");var s;try{s=document.activeElement}catch(h){}H(C())===!1&&r.clearIncomplete&&f(),r.clearMaskOnLostFocus?C().join("")==P().join("")?t._valueSet(""):N(t):j(t,C()),s===t&&R(t,O(m())),q(t)}}var it,at,nt,rt=!1,ot=!1,st=!1,lt=!1,ut=!0;if(void 0!=a)switch(a.action){case"isComplete":return at=e(a.el),n=at.data("_inputmask").maskset,r=at.data("_inputmask").opts,H(a.buffer);case"unmaskedvalue":return at=a.$input,n=at.data("_inputmask").maskset,r=at.data("_inputmask").opts,rt=a.$input.data("_inputmask").isRTL,B(a.$input);case"mask":it=C().join(""),tt(a.el);break;case"format":at=e({}),at.data("_inputmask",{maskset:n,opts:r,isRTL:r.numericInput}),r.numericInput&&(rt=!0);var ct=(e.isFunction(r.onBeforeMask)?r.onBeforeMask.call(at,a.value,r)||a.value:a.value).split("");return F(at,!1,!1,rt?ct.reverse():ct),r.onKeyPress.call(this,void 0,C(),0,r),a.metadata?{value:rt?C().slice().reverse().join(""):C().join(""),metadata:at.inputmask("getmetadata")}:rt?C().slice().reverse().join(""):C().join("");case"isValid":at=e({}),at.data("_inputmask",{maskset:n,opts:r,isRTL:r.numericInput}),r.numericInput&&(rt=!0);var ct=a.value.split("");F(at,!1,!0,rt?ct.reverse():ct);for(var dt=C(),pt=L(),vt=dt.length-1;vt>pt&&!w(vt);vt--);return dt.splice(pt,vt+1-pt),H(dt)&&a.value==dt.join("");case"getemptymask":return at=e(a.el),n=at.data("_inputmask").maskset,r=at.data("_inputmask").opts,P();case"remove":var ft=a.el;at=e(ft),n=at.data("_inputmask").maskset,r=at.data("_inputmask").opts,ft._valueSet(B(at)),at.unbind(".inputmask"),at.removeData("_inputmask");var mt;Object.getOwnPropertyDescriptor&&(mt=Object.getOwnPropertyDescriptor(ft,"value")),mt&&mt.get?ft._valueGet&&Object.defineProperty(ft,"value",{get:ft._valueGet,set:ft._valueSet}):document.__lookupGetter__&&ft.__lookupGetter__("value")&&ft._valueGet&&(ft.__defineGetter__("value",ft._valueGet),ft.__defineSetter__("value",ft._valueSet));try{delete ft._valueGet,delete ft._valueSet}catch(ht){ft._valueGet=void 0,ft._valueSet=void 0}break;case"getmetadata":if(at=e(a.el),n=at.data("_inputmask").maskset,r=at.data("_inputmask").opts,e.isArray(n.metadata)){for(var kt,gt=m(),yt=gt;yt>=0;yt--)if(v().validPositions[yt]&&void 0!=v().validPositions[yt].alternation){kt=v().validPositions[yt].alternation;break}return void 0!=kt?n.metadata[v().validPositions[gt].locator[kt]]:n.metadata[0]}return n.metadata}}if(void 0===e.fn.inputmask){var o=("function"==typeof ScriptEngineMajorVersion?ScriptEngineMajorVersion()>=10:!1,navigator.userAgent),s=null!==o.match(new RegExp("iphone","i")),l=null!==o.match(new RegExp("android.*safari.*","i")),u=null!==o.match(new RegExp("android.*chrome.*","i")),c=null!==o.match(new RegExp("android.*firefox.*","i")),d=/Kindle/i.test(o)||/Silk/i.test(o)||/KFTT/i.test(o)||/KFOT/i.test(o)||/KFJWA/i.test(o)||/KFJWI/i.test(o)||/KFSOWI/i.test(o)||/KFTHWA/i.test(o)||/KFTHWI/i.test(o)||/KFAPWA/i.test(o)||/KFAPWI/i.test(o),p=t("paste")?"paste":t("input")?"input":"propertychange";e.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!0,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyUp:e.noop,onKeyPress:e.noop,onKeyDown:e.noop,onBeforeMask:void 0,onBeforePaste:void 0,onUnMask:void 0,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,rightAlign:!1,radixPoint:"",radixFocus:!1,nojumps:!1,nojumpsThreshold:0,keepStatic:void 0,definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:void 0,postProcessOnBlur:void 0},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},masksCache:{},escapeRegex:function(e){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];return e.replace(new RegExp("(\\"+t.join("|\\")+")","gim"),"\\$1")},format:function(t,i,o){var s=e.extend(!0,{},e.inputmask.defaults,i);return a(s.alias,i,s),r({action:"format",value:t,metadata:o},n(s),s)},isValid:function(t,i){var o=e.extend(!0,{},e.inputmask.defaults,i);return a(o.alias,i,o),r({action:"isValid",value:t},n(o),o)}},e.fn.inputmask=function(t,i,o,s,l){function u(t,i,n){var r=e(t);r.data("inputmask-alias")&&a(r.data("inputmask-alias"),{},i);for(var o in i){var s=r.data("inputmask-"+o.toLowerCase());void 0!=s&&("mask"==o&&0==s.indexOf("[")?(i[o]=s.replace(/[\s[\]]/g,"").split("','"),i[o][0]=i[o][0].replace("'",""),i[o][i[o].length-1]=i[o][i[o].length-1].replace("'","")):i[o]="boolean"==typeof s?s:s.toString(),n&&(n[o]=i[o]))
}return i}o=o||r,s=s||"_inputmask";var c,d=e.extend(!0,{},e.inputmask.defaults,i);if("string"==typeof t)switch(t){case"mask":return a(d.alias,i,d),c=n(d,o!==r),void 0==c?this:this.each(function(){o({action:"mask",el:this},e.extend(!0,{},c),u(this,d))});case"unmaskedvalue":var p=e(this);return p.data(s)?o({action:"unmaskedvalue",$input:p}):p.val();case"remove":return this.each(function(){var t=e(this);t.data(s)&&o({action:"remove",el:this})});case"getemptymask":return this.data(s)?o({action:"getemptymask",el:this}):"";case"hasMaskedValue":return this.data(s)?!this.data(s).opts.autoUnmask:!1;case"isComplete":return this.data(s)?o({action:"isComplete",buffer:this[0]._valueGet().split(""),el:this}):!0;case"getmetadata":return this.data(s)?o({action:"getmetadata",el:this}):void 0;case"_detectScope":return a(d.alias,i,d),void 0==l||a(l,i,d)||-1!=e.inArray(l,["mask","unmaskedvalue","remove","getemptymask","hasMaskedValue","isComplete","getmetadata","_detectScope"])||(d.mask=l),e.isFunction(d.mask)&&(d.mask=d.mask.call(this,d)),e.isArray(d.mask);default:return a(d.alias,i,d),a(t,i,d)||(d.mask=t),c=n(d,o!==r),void 0==c?this:this.each(function(){o({action:"mask",el:this},e.extend(!0,{},c),u(this,d))})}else{if("object"==typeof t)return d=e.extend(!0,{},e.inputmask.defaults,t),a(d.alias,t,d),c=n(d,o!==r),void 0==c?this:this.each(function(){o({action:"mask",el:this},e.extend(!0,{},c),u(this,d))});if(void 0==t)return this.each(function(){var t=e(this).attr("data-inputmask");if(t&&""!=t)try{t=t.replace(new RegExp("'","g"),'"');var n=e.parseJSON("{"+t+"}");e.extend(!0,n,i),d=e.extend(!0,{},e.inputmask.defaults,n),d=u(this,d),a(d.alias,n,d),d.alias=void 0,e(this).inputmask("mask",d,o)}catch(r){}if(e(this).attr("data-inputmask-mask")||e(this).attr("data-inputmask-alias")){d=e.extend(!0,{},e.inputmask.defaults,{});var s={};d=u(this,d,s),a(d.alias,s,d),d.alias=void 0,e(this).inputmask("mask",d,o)}})}}}return e.fn.inputmask});