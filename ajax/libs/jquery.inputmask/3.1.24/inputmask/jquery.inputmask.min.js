!function(b){"function"==typeof define&&define.amd?define(["jquery"],b):b(jQuery)}(function(B){function A(f){var e=document.createElement("input"),h="on"+f,g=h in e;return g||(e.setAttribute(h,"return;"),g="function"==typeof e[h]),e=null,g}function z(e){var d=document.createElement("input");d.setAttribute("type",e);var f="text"!==d.type;return d=null,f}function y(a,h,g){var d=g.aliases[a];return d?(d.alias&&y(d.alias,void 0,g),B.extend(!0,g,d),B.extend(!0,g,h),!0):!1}function x(a,l){function k(V){function U(f,e,m,g){this.matches=[],this.isGroup=f||!1,this.isOptional=e||!1,this.isQuantifier=m||!1,this.isAlternator=g||!1,this.quantifier={min:1,max:1}}function T(af,ae,ad){var ac=a.definitions[ae],ab=0==af.matches.length;if(ad=void 0!=ad?ad:af.matches.length,ac&&!L){for(var aa=ac.prevalidator,Z=aa?aa.length:0,Y=1;Y<ac.cardinality;Y++){var X=Z>=Y?aa[Y-1]:[],W=X.validator,n=X.cardinality;af.matches.splice(ad++,0,{fn:W?"string"==typeof W?new RegExp(W):new function(){this.test=W}:new RegExp("."),cardinality:n?n:1,optionality:af.isOptional,newBlockMarker:ab,casing:ac.casing,def:ac.definitionSymbol||ae,placeholder:ac.placeholder,mask:ae})}af.matches.splice(ad++,0,{fn:ac.validator?"string"==typeof ac.validator?new RegExp(ac.validator):new function(){this.test=ac.validator}:new RegExp("."),cardinality:ac.cardinality,optionality:af.isOptional,newBlockMarker:ab,casing:ac.casing,def:ac.definitionSymbol||ae,placeholder:ac.placeholder,mask:ae})}else{af.matches.splice(ad++,0,{fn:null,cardinality:0,optionality:af.isOptional,newBlockMarker:ab,casing:null,def:ae,placeholder:void 0,mask:ae}),L=!1}}for(var S,R,Q,P,O,N,M=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})\??|[^.?*+^${[]()|\\]+|./g,L=!1,K=new U,J=[],I=[];S=M.exec(V);){switch(R=S[0],R.charAt(0)){case a.optionalmarker.end:case a.groupmarker.end:if(Q=J.pop(),J.length>0){if(P=J[J.length-1],P.matches.push(Q),P.isAlternator){O=J.pop();for(var H=0;H<O.matches.length;H++){O.matches[H].isGroup=!1}J.length>0?(P=J[J.length-1],P.matches.push(O)):K.matches.push(O)}}else{K.matches.push(Q)}break;case a.optionalmarker.start:J.push(new U(!1,!0));break;case a.groupmarker.start:J.push(new U(!0));break;case a.quantifiermarker.start:var G=new U(!1,!1,!0);R=R.replace(/[{}]/g,"");var F=R.split(","),E=isNaN(F[0])?F[0]:parseInt(F[0]),D=1==F.length?E:isNaN(F[1])?F[1]:parseInt(F[1]);if(("*"==D||"+"==D)&&(E="*"==D?0:1),G.quantifier={min:E,max:D},J.length>0){var C=J[J.length-1].matches;if(S=C.pop(),!S.isGroup){var b=new U(!0);b.matches.push(S),S=b}C.push(S),C.push(G)}else{if(S=K.matches.pop(),!S.isGroup){var b=new U(!0);b.matches.push(S),S=b}K.matches.push(S),K.matches.push(G)}break;case a.escapeChar:L=!0;break;case a.alternatormarker:J.length>0?(P=J[J.length-1],N=P.matches.pop()):N=K.matches.pop(),N.isAlternator?J.push(N):(O=new U(!1,!1,!1,!0),O.matches.push(N),J.push(O));break;default:if(J.length>0){if(P=J[J.length-1],P.matches.length>0&&(N=P.matches[P.matches.length-1],N.isGroup&&(N.isGroup=!1,T(N,a.groupmarker.start,0),T(N,a.groupmarker.end))),T(P,R),P.isAlternator){O=J.pop();for(var H=0;H<O.matches.length;H++){O.matches[H].isGroup=!1}J.length>0?(P=J[J.length-1],P.matches.push(O)):K.matches.push(O)}}else{K.matches.length>0&&(N=K.matches[K.matches.length-1],N.isGroup&&(N.isGroup=!1,T(N,a.groupmarker.start,0),T(N,a.groupmarker.end))),T(K,R)}}}return K.matches.length>0&&(N=K.matches[K.matches.length-1],N.isGroup&&(N.isGroup=!1,T(N,a.groupmarker.start,0),T(N,a.groupmarker.end)),I.push(K)),I}function j(n,m){if(a.numericInput&&a.multi!==!0){n=n.split("").reverse();for(var d=0;d<n.length;d++){n[d]==a.optionalmarker.start?n[d]=a.optionalmarker.end:n[d]==a.optionalmarker.end?n[d]=a.optionalmarker.start:n[d]==a.groupmarker.start?n[d]=a.groupmarker.end:n[d]==a.groupmarker.end&&(n[d]=a.groupmarker.start)}n=n.join("")}if(void 0==n||""==n){return void 0}if(1==n.length&&0==a.greedy&&0!=a.repeat&&(a.placeholder=""),a.repeat>0||"*"==a.repeat||"+"==a.repeat){var b="*"==a.repeat?0:"+"==a.repeat?1:a.repeat;n=a.groupmarker.start+n+a.groupmarker.end+a.quantifiermarker.start+b+","+a.repeat+a.quantifiermarker.end}return void 0==B.inputmask.masksCache[n]&&(B.inputmask.masksCache[n]={mask:n,maskToken:k(n),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:m}),B.extend(!0,{},B.inputmask.masksCache[n])}var i=void 0;if(B.isFunction(a.mask)&&(a.mask=a.mask.call(this,a)),B.isArray(a.mask)){if(l){i=[],B.each(a.mask,function(d,e){i.push(void 0==e.mask||B.isFunction(e.mask)?j(e.toString(),e):j(e.mask.toString(),e))})}else{a.keepStatic=void 0==a.keepStatic?!0:a.keepStatic;var h="(";B.each(a.mask,function(d,e){h.length>1&&(h+=")|("),h+=void 0==e.mask||B.isFunction(e.mask)?e.toString():e.mask.toString()}),h+=")",i=j(h,a.mask)}}else{a.mask&&(i=void 0==a.mask.mask||B.isFunction(a.mask.mask)?j(a.mask.toString(),a.mask):j(a.mask.mask.toString(),a.mask))}return i}function w(a2,a1,a0){function aZ(K,J,I){J=J||0;var H,G,F,E=[],D=0;do{if(K===!0&&aY().validPositions[D]){var C=aY().validPositions[D];G=C.match,H=C.locator.slice(),E.push(I===!0?C.input:ap(D,G))}else{if(J>D){var h=aP(D,H,D-1);F=h[0]}else{F=aT(D,H,D-1)}G=F.match,H=F.locator.slice(),E.push(ap(D,G))}D++}while((void 0==a||a>D-1)&&null!=G.fn||null==G.fn&&""!=G.def||J>=D);return E.pop(),E}function aY(){return a1}function aX(e){var d=aY();d.buffer=void 0,d.tests={},e!==!0&&(d._buffer=void 0,d.validPositions={},d.p=0)}function aW(C){var h=aY(),I=-1,H=h.validPositions;void 0==C&&(C=-1);var G=I,F=I;for(var E in H){var D=parseInt(E);(-1==C||null!=H[D].match.fn)&&(C>D&&(G=D),D>=C&&(F=D))}return I=C-G>1||C>F?G:F}function aV(I,H,G){if(a0.insertMode&&void 0!=aY().validPositions[I]&&void 0==G){var F,E=B.extend(!0,{},aY().validPositions),D=aW();for(F=I;D>=F;F++){delete aY().validPositions[F]}aY().validPositions[I]=H;var C=!0;for(F=I;D>=F;F++){var h=E[F];if(void 0!=h){var e=null==h.match.fn?F+1:au(F);C=aR(e,h.match.def)?C&&ay(e,h.input,!0,!0)!==!1:!1}if(!C){break}}if(!C){return aY().validPositions=B.extend(!0,{},E),!1}}else{aY().validPositions[I]=H}return !0}function aU(h,e){var G,F=h;for(void 0!=aY().validPositions[h]&&aY().validPositions[h].input==a0.radixPoint&&(e++,F++),G=F;e>G;G++){void 0==aY().validPositions[G]||aY().validPositions[G].input==a0.radixPoint&&G!=aW()||delete aY().validPositions[G]}for(G=e;G<=aW();){var E=aY().validPositions[G],D=aY().validPositions[F];void 0!=E&&void 0==D?(aR(F,E.match.def)&&ay(F,E.input,!0)!==!1&&(delete aY().validPositions[G],G++),F++):G++}var C=aW();C>=h&&void 0!=aY().validPositions[C]&&aY().validPositions[C].input==a0.radixPoint&&delete aY().validPositions[C],aX(!0)}function aT(I,H,G){for(var F,E=aP(I,H,G),D=aW(),C=aY().validPositions[D]||aP(0)[0],h=void 0!=C.alternation?C.locator[C.alternation].split(","):[],e=0;e<E.length&&(F=E[e],!a0.greedy&&(!F.match||F.match.optionality!==!1&&F.match.newBlockMarker!==!1||F.match.optionalQuantifier===!0||void 0!=C.alternation&&(void 0==F.locator[C.alternation]||-1!=B.inArray(F.locator[C.alternation].toString(),h))));e++){}return F}function aS(b){return aY().validPositions[b]?aY().validPositions[b].match:aP(b)[0].match}function aR(h,f){for(var E=!1,D=aP(h),C=0;C<D.length;C++){if(D[C].match&&D[C].match.def==f){E=!0;break}}return E}function aP(M,L,K){function J(R,P,N,f){function b(bi,bh,bg){if(H>10000){return alert("jquery.inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+aY().mask),!0}if(H==M&&void 0==bi.matches){return F.push({match:bi,locator:bh.reverse()}),!0}if(void 0!=bi.matches){if(bi.isGroup&&bg!==!0){if(bi=b(R.matches[Q+1],bh)){return !0}}else{if(bi.isOptional){var bf=bi;if(bi=J(bi,P,bh,bg)){var bd=F[F.length-1].match,bb=0==B.inArray(bd,bf.matches);bb&&(E=!0),H=M}}else{if(bi.isAlternator){var a9,a7=bi,a5=[],Z=F.slice(),X=bh.length,V=P.length>0?P.shift():-1;if(-1==V||"string"==typeof V){var T,d=H,be=P.slice();"string"==typeof V&&(T=V.split(","));for(var bc=0;bc<a7.matches.length;bc++){F=[],bi=b(a7.matches[bc],[bc].concat(bh),bg)||bi,a9=F.slice(),H=d,F=[];for(var ba=0;ba<be.length;ba++){P[ba]=be[ba]}for(var a8=0;a8<a9.length;a8++){for(var a6=a9[a8],ab=0;ab<a5.length;ab++){var Y=a5[ab];if(a6.match.mask==Y.match.mask&&("string"!=typeof V||-1!=B.inArray(a6.locator[X].toString(),T))){a9.splice(a8,1),Y.locator[X]=Y.locator[X]+","+a6.locator[X],Y.alternation=X;break}}}a5=a5.concat(a9)}"string"==typeof V&&(a5=B.map(a5,function(bj,bn){if(isFinite(bn)){var bm,bl=bj.locator[X].toString().split(",");bj.locator[X]=void 0,bj.alternation=void 0;for(var bk=0;bk<bl.length;bk++){bm=-1!=B.inArray(bl[bk],T),bm&&(void 0!=bj.locator[X]?(bj.locator[X]+=",",bj.alternation=X,bj.locator[X]+=bl[bk]):bj.locator[X]=parseInt(bl[bk]))}if(void 0!=bj.locator[X]){return bj}}})),F=Z.concat(a5),E=!0}else{bi=b(a7.matches[V],[V].concat(bh),bg)}if(bi){return !0}}else{if(bi.isQuantifier&&bg!==!0){var W=bi;a0.greedy=a0.greedy&&isFinite(W.quantifier.max);for(var U=P.length>0&&bg!==!0?P.shift():0;U<(isNaN(W.quantifier.max)?U+1:W.quantifier.max)&&M>=H;U++){var S=R.matches[B.inArray(W,R.matches)-1];if(bi=b(S,[U].concat(bh),!0)){var bd=F[F.length-1].match;bd.optionalQuantifier=U>W.quantifier.min-1;var bb=0==B.inArray(bd,S.matches);if(bb){if(U>W.quantifier.min-1){E=!0,H=M;break}return !0}return !0}}}else{if(bi=J(bi,P,bh,bg)){return !0}}}}}}else{H++}}for(var Q=P.length>0?P.shift():0;Q<R.matches.length;Q++){if(R.matches[Q].isQuantifier!==!0){var O=b(R.matches[Q],[Q].concat(N),f);if(O&&H==M){return O}if(H>M){break}}}}var I=aY().maskToken,H=L?K:0,G=L||[0],F=[],E=!1;if(void 0==L){for(var D,C=M-1;void 0==(D=aY().validPositions[C])&&C>-1;){C--}if(void 0!=D&&C>-1){H=C,G=D.locator.slice()}else{for(C=M-1;void 0==(D=aY().tests[C])&&C>-1;){C--}void 0!=D&&C>-1&&(H=C,G=D[0].locator.slice())}}for(var h=G.shift();h<I.length;h++){var e=J(I[h],G,[h]);if(e&&H==M||H>M){break}}return(0==F.length||E)&&F.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]}),aY().tests[M]=B.extend(!0,[],F),aY().tests[M]}function aO(){return void 0==aY()._buffer&&(aY()._buffer=aZ(!1,1)),aY()._buffer}function aM(){return void 0==aY().buffer&&(aY().buffer=aZ(!0,aW(),!0)),aY().buffer}function aL(f,e){var C=aM().slice();if(f===!0){aX(),f=0,e=C.length}else{for(var h=f;e>h;h++){delete aY().validPositions[h],delete aY().tests[h]}}for(var h=f;e>h;h++){C[h]!=a0.skipOptionalPartCharacter&&ay(h,C[h],!0,!0)}}function aJ(e,d){switch(d.casing){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e}function ay(K,J,I,H){function G(N,R,Q,P){var O=!1;return B.each(aP(N),function(U,T){for(var S=T.match,f=R?1:0,d="",b=(aM(),S.cardinality);b>f;b--){d+=ar(N-(b-1))}if(R&&(d+=R),O=null!=S.fn?S.fn.test(d,aY(),N,Q,a0):R!=S.def&&R!=a0.skipOptionalPartCharacter||""==S.def?!1:{c:S.def,pos:N},O!==!1){var X=void 0!=O.c?O.c:R;X=X==a0.skipOptionalPartCharacter&&null===S.fn?S.def:X;var W=N;if(void 0!=O.remove&&aU(O.remove,O.remove+1),O.refreshFromBuffer){var V=O.refreshFromBuffer;if(Q=!0,aL(V===!0?V:V.start,V.end),void 0==O.pos&&void 0==O.c){return O.pos=aW(),!1}if(W=void 0!=O.pos?O.pos:N,W!=N){return O=B.extend(O,ay(W,X,!0)),!1}}else{if(O!==!0&&void 0!=O.pos&&O.pos!=N&&(W=O.pos,aL(N,W),W!=N)){return O=B.extend(O,ay(W,X,!0)),!1}}return 1!=O&&void 0==O.pos&&void 0==O.c?!1:(U>0&&aX(!0),aV(W,B.extend({},T,{input:aJ(X,S)}),P)||(O=!1),!1)}}),O}function F(a8,a7,a6,a5){if(a0.keepStatic){var ab,Z,Y=B.extend(!0,{},aY().validPositions);for(ab=aW();ab>=0;ab--){if(aY().validPositions[ab]&&void 0!=aY().validPositions[ab].alternation){Z=aY().validPositions[ab].alternation;break}}if(void 0!=Z){for(var X in aY().validPositions){if(parseInt(X)>parseInt(ab)&&void 0===aY().validPositions[X].alternation){for(var W=aY().validPositions[X],V=W.locator[Z],U=aY().validPositions[ab].locator[Z].split(","),T=0;T<U.length;T++){if(V<U[T]){for(var S,R,Q=X-1;Q>=0;Q--){if(S=aY().validPositions[Q],void 0!=S){R=S.locator[Z],S.locator[Z]=U[T];break}}if(V!=S.locator[Z]){for(var P=aM().slice(),O=X;O<aW()+1;O++){delete aY().validPositions[O],delete aY().tests[O]}aX(!0),a0.keepStatic=!a0.keepStatic;for(var O=X;O<P.length;O++){P[O]!=a0.skipOptionalPartCharacter&&ay(aW()+1,P[O],!1,!0)}S.locator[Z]=R;var N=aW()+1==a8&&ay(a8,a7,a6,a5);if(a0.keepStatic=!a0.keepStatic,N){return N}aX(),aY().validPositions=B.extend(!0,{},Y)}}}break}}}}return !1}I=I===!0;for(var E=aM(),D=K-1;D>-1&&(!aY().validPositions[D]||null!=aY().validPositions[D].match.fn);D--){void 0==aY().validPositions[D]&&(!aw(D)||E[D]!=ap(D))&&aP(D).length>1&&G(D,E[D],!0)}var C=K;if(C>=av()){if(!H){return F(K,J,I,H)}if(aX(!0),C>=av()){return F(K,J,I,H)}}var h=G(C,J,I,H);if(!I&&h===!1){var e=aY().validPositions[C];if(!e||null!=e.match.fn||e.match.def!=J&&J!=a0.skipOptionalPartCharacter){if((a0.insertMode||void 0==aY().validPositions[au(C)])&&!aw(C)){for(var M=C+1,L=au(C);L>=M;M++){if(h=G(M,J,I,H),h!==!1){C=M;break}}}}else{h={caret:au(C)}}}return h===!0&&(h={pos:C}),h}function aw(e){var d=aS(e);return null!=d.fn?d.fn:!1}function av(){var h;if(a=az.prop("maxLength"),-1==a&&(a=void 0),0==a0.greedy){var e,E=aW(),D=aY().validPositions[E],C=void 0!=D?D.locator.slice():void 0;for(e=E+1;void 0==D||null!=D.match.fn||null==D.match.fn&&""!=D.match.def;e++){D=aT(e,C,e-1),C=D.locator.slice()}h=e}else{h=aM().length}return void 0==a||a>h?h:a}function au(e){var d=av();if(e>=d){return d}for(var f=e;++f<d&&!aw(f)&&(a0.nojumps!==!0||a0.nojumpsThreshold>f);){}return f}function at(e){var d=e;if(0>=d){return 0}for(;--d>0&&!aw(d);){}return d}function ar(b){return void 0==aY().validPositions[b]?ap(b):aY().validPositions[b].input}function aq(e,d,f){e._valueSet(d.join("")),void 0!=f&&aj(e,f)}function ap(d,e){return e=e||aS(d),(B.isFunction(e.placeholder)?e.placeholder.call(this,a0):e.placeholder)||(null==e.fn?e.def:a0.placeholder.charAt(d%a0.placeholder.length))}function ao(e,G,F,E,D){var C=void 0!=E?E.slice():am(e._valueGet()).split("");if(aX(),G&&e._valueSet(""),B.each(C,function(I,H){if(D===!0){var d=aW(),b=-1==d?I:au(d);-1==B.inArray(H,aO().slice(d+1,b))&&l.call(e,void 0,!0,H.charCodeAt(0),!1,F,F?I:aY().p)}else{l.call(e,void 0,!0,H.charCodeAt(0),!1,F,F?I:aY().p),F=F||I>0&&I>aY().p}}),G){var h=a0.onKeyPress.call(this,void 0,aM(),0,a0);aa(e,h),aq(e,aM(),B(e).is(":focus")?au(aW(0)):void 0)}}function an(d){return B.inputmask.escapeRegex.call(this,d)}function am(b){return b.replace(new RegExp("("+an(aO().join(""))+")*$"),"")}function al(e){if(e.data("_inputmask")&&!e.hasClass("hasDatepicker")){var F=[],E=aY().validPositions;for(var D in E){E[D].match&&null!=E[D].match.fn&&F.push(E[D].input)}var C=(aH?F.reverse():F).join(""),h=(aH?aM().slice().reverse():aM()).join("");return B.isFunction(a0.onUnMask)&&(C=a0.onUnMask.call(e,h,C,a0)),C}return e[0]._valueGet()}function ak(e){if(aH&&"number"==typeof e&&(!a0.greedy||""!=a0.placeholder)){var d=aM().length;e=d-e}return e}function aj(e,G,F){var E,D=e.jquery&&e.length>0?e[0]:e;if("number"!=typeof G){var C=B(D).data("_inputmask");return !B(D).is(":visible")&&C&&void 0!=C.caret?(G=C.caret.begin,F=C.caret.end):D.setSelectionRange?(G=D.selectionStart,F=D.selectionEnd):document.selection&&document.selection.createRange&&(E=document.selection.createRange(),G=0-E.duplicate().moveStart("character",-100000),F=G+E.text.length),G=ak(G),F=ak(F),{begin:G,end:F}}G=ak(G),F=ak(F),F="number"==typeof F?F:G;var C=B(D).data("_inputmask")||{};C.caret={begin:G,end:F},B(D).data("_inputmask",C),B(D).is(":visible")&&(D.scrollLeft=D.scrollWidth,0==a0.insertMode&&G==F&&F++,D.setSelectionRange?(D.selectionStart=G,D.selectionEnd=F):D.createTextRange&&(E=D.createTextRange(),E.collapse(!0),E.moveEnd("character",F),E.moveStart("character",G),E.select()))}function ai(K){var J,I,H=aM(),G=H.length,F=aW(),E={},D=aY().validPositions[F],C=void 0!=D?D.locator.slice():void 0;for(J=F+1;J<H.length;J++){I=aT(J,C,J-1),C=I.locator.slice(),E[J]=B.extend(!0,{},I)}var h=D&&void 0!=D.alternation?D.locator[D.alternation].split(","):[];for(J=G-1;J>F&&(I=E[J].match,(I.optionality||I.optionalQuantifier||D&&void 0!=D.alternation&&void 0!=E[J].locator[D.alternation]&&-1!=B.inArray(E[J].locator[D.alternation].toString(),h))&&H[J]==ap(J,I));J--){G--}return K?{l:G,def:E[G]?E[G].match:void 0}:G}function ah(h){for(var f=aM(),E=f.slice(),D=ai(),C=E.length-1;C>D&&!aw(C);C--){}E.splice(D,C+1-D),aq(h,E)}function ag(e){if(B.isFunction(a0.isComplete)){return a0.isComplete.call(az,e,a0)}if("*"==a0.repeat){return void 0}var H=!1,G=ai(!0),F=at(G.l),E=aW();if(E==F&&(void 0==G.def||G.def.newBlockMarker||G.def.optionalQuantifier)){H=!0;for(var D=0;F>=D;D++){var C=aw(D);if(C&&(void 0==e[D]||e[D]==ap(D))||!C&&e[D]!=ap(D)){H=!1;break}}}return H}function af(e,d){return aH?e-d>1||e-d==1&&a0.insertMode:d-e>1||d-e==1&&a0.insertMode}function ae(d){var e=B._data(d).events;B.each(e,function(f,h){B.each(h,function(D,C){if("inputmask"==C.namespace&&"setvalue"!=C.type){var E=C.handler;C.handler=function(b){return this.readOnly||this.disabled?void b.preventDefault:E.apply(this,arguments)}}})})}function ad(C){function I(e){if(void 0==B.valHooks[e]||1!=B.valHooks[e].inputmaskpatch){var h=B.valHooks[e]&&B.valHooks[e].get?B.valHooks[e].get:function(b){return b.value},f=B.valHooks[e]&&B.valHooks[e].set?B.valHooks[e].set:function(J,d){return J.value=d,J};B.valHooks[e]={get:function(J){var O=B(J);if(O.data("_inputmask")){if(O.data("_inputmask").opts.autoUnmask){return O.inputmask("unmaskedvalue")}var N=h(J),M=O.data("_inputmask"),L=M.maskset,K=L._buffer;return K=K?K.join(""):"",N!=K?N:""}return h(J)},set:function(d,M){var L,K=B(d),J=K.data("_inputmask");return J?(L=f(d,B.isFunction(J.opts.onBeforeMask)?J.opts.onBeforeMask.call(k,M,J.opts):M),K.triggerHandler("setvalue.inputmask")):L=f(d,M),L},inputmaskpatch:!0}}}function H(){var d=B(this),e=B(this).data("_inputmask");return e?e.opts.autoUnmask?d.inputmask("unmaskedvalue"):E.call(this)!=aO().join("")?E.call(this):"":E.call(this)}function G(d){var e=B(this).data("_inputmask");e?(D.call(this,B.isFunction(e.opts.onBeforeMask)?e.opts.onBeforeMask.call(k,d,e.opts):d),B(this).triggerHandler("setvalue.inputmask")):D.call(this,d)}function F(h){B(h).bind("mouseenter.inputmask",function(){var e=B(this),N=this,f=N._valueGet();""!=f&&f!=aM().join("")&&e.trigger("setvalue")});var M=B._data(h).events,L=M.mouseover;if(L){for(var K=L[L.length-1],J=L.length-1;J>0;J--){L[J]=L[J-1]}L[0]=K}}var E,D;if(!C._valueGet){if(Object.getOwnPropertyDescriptor){Object.getOwnPropertyDescriptor(C,"value")}document.__lookupGetter__&&C.__lookupGetter__("value")?(E=C.__lookupGetter__("value"),D=C.__lookupSetter__("value"),C.__defineGetter__("value",H),C.__defineSetter__("value",G)):(E=function(){return C.value},D=function(b){C.value=b},I(C.type),F(C)),C._valueGet=function(){return aH?E.call(this).split("").reverse().join(""):E.call(this)},C._valueSet=function(b){D.call(this,aH?b.split("").reverse().join(""):b)}}}function ac(h,e,E){if((a0.numericInput||aH)&&(e==a0.keyCode.BACKSPACE?e=a0.keyCode.DELETE:e==a0.keyCode.DELETE&&(e=a0.keyCode.BACKSPACE),aH)){var D=E.end;E.end=E.begin,E.begin=D}e==a0.keyCode.BACKSPACE&&E.end-E.begin<=1?E.begin=at(E.begin):e==a0.keyCode.DELETE&&E.begin==E.end&&E.end++,aU(E.begin,E.end);var C=aW(E.begin);aY().p=C<E.begin?au(C):E.begin}function aa(f,e,C){if(e&&e.refreshFromBuffer){var h=e.refreshFromBuffer;aL(h===!0?h:h.start,h.end),aX(!0),void 0!=C&&(aq(f,aM()),aj(f,e.caret||C.begin,e.caret||C.end))}}function m(e){aA=!1;var G=this,F=B(G),E=e.keyCode,D=aj(G);E==a0.keyCode.BACKSPACE||E==a0.keyCode.DELETE||t&&127==E||e.ctrlKey&&88==E?(e.preventDefault(),88==E&&(aG=aM().join("")),ac(G,E,D),aq(G,aM(),aY().p),G._valueGet()==aO().join("")&&F.trigger("cleared"),a0.showTooltip&&F.prop("title",aY().mask)):E==a0.keyCode.END||E==a0.keyCode.PAGE_DOWN?setTimeout(function(){var b=au(aW());a0.insertMode||b!=av()||e.shiftKey||b--,aj(G,e.shiftKey?D.begin:b,b)},0):E==a0.keyCode.HOME&&!e.shiftKey||E==a0.keyCode.PAGE_UP?aj(G,0,e.shiftKey?D.begin:0):E==a0.keyCode.ESCAPE||90==E&&e.ctrlKey?(ao(G,!0,!1,aG.split("")),F.click()):E!=a0.keyCode.INSERT||e.shiftKey||e.ctrlKey?0!=a0.insertMode||e.shiftKey||(E==a0.keyCode.RIGHT?setTimeout(function(){var b=aj(G);aj(G,b.begin)},0):E==a0.keyCode.LEFT&&setTimeout(function(){var b=aj(G);aj(G,aH?b.begin+1:b.begin-1)},0)):(a0.insertMode=!a0.insertMode,aj(G,a0.insertMode||D.begin!=av()?D.begin:D.begin-1));var C=aj(G),h=a0.onKeyDown.call(this,e,aM(),C.begin,a0);aa(G,h,C),aI=-1!=B.inArray(E,a0.ignorables)}function l(S,R,Q,P,O,N){if(void 0==Q&&aA){return !1}aA=!0;var M=this,L=B(M);S=S||window.event;var Q=R?Q:S.which||S.charCode||S.keyCode;if(!(R===!0||S.ctrlKey&&S.altKey)&&(S.ctrlKey||S.metaKey||aI)){return !0}if(Q){R!==!0&&46==Q&&0==S.shiftKey&&","==a0.radixPoint&&(Q=44);var K,J=R?{begin:N,end:N}:aj(M),I=String.fromCharCode(Q),H=af(J.begin,J.end);H&&(aY().undoPositions=B.extend(!0,{},aY().validPositions),ac(M,a0.keyCode.DELETE,J),a0.insertMode||(a0.insertMode=!a0.insertMode,aV(J.begin,O),a0.insertMode=!a0.insertMode),H=!a0.multi),aY().writeOutBuffer=!0;var G=aH&&!H?J.end:J.begin,F=ay(G,I,O);if(F!==!1){if(F!==!0&&(G=void 0!=F.pos?F.pos:G,I=void 0!=F.c?F.c:I),aX(!0),void 0!=F.caret){K=F.caret}else{var E=aY().validPositions;K=!a0.keepStatic&&(void 0!=E[G+1]&&aP(G+1,E[G].locator.slice(),G).length>1||void 0!=E[G].alternation)?G+1:au(G)}aY().p=K}if(P!==!1){var D=this;if(setTimeout(function(){a0.onKeyValidation.call(D,F,a0)},0),aY().writeOutBuffer&&F!==!1){var C=aM();aq(M,C,R?void 0:a0.numericInput?at(K):K),R!==!0&&setTimeout(function(){ag(C)===!0&&L.trigger("complete"),c=!0,L.trigger("input")},0)}else{H&&(aY().buffer=void 0,aY().validPositions=aY().undoPositions)}}else{H&&(aY().buffer=void 0,aY().validPositions=aY().undoPositions)}if(a0.showTooltip&&L.prop("title",aY().mask),S&&1!=R){S.preventDefault();var h=aj(M),e=a0.onKeyPress.call(this,S,aM(),h.begin,a0);aa(M,e,h)}}}function j(e){var H=B(this),G=this,F=e.keyCode,E=aM(),D=aj(G),C=a0.onKeyUp.call(this,e,E,D.begin,a0);aa(G,C,D),F==a0.keyCode.TAB&&a0.showMaskOnFocus&&(H.hasClass("focus-inputmask")&&0==G._valueGet().length?(aX(),E=aM(),aq(G,E),aj(G,0),aG=aM().join("")):(aq(G,E),aj(G,ak(0),ak(av()))))}function i(e){if(c===!0&&"input"==e.type){return c=!1,!0}var E=this,D=B(E),C=E._valueGet();if("propertychange"==e.type&&E._valueGet().length<=av()){return !0}"paste"==e.type&&(window.clipboardData&&window.clipboardData.getData?C=window.clipboardData.getData("Text"):e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.getData&&(C=e.originalEvent.clipboardData.getData("text/plain")));var h=B.isFunction(a0.onBeforePaste)?a0.onBeforePaste.call(E,C,a0):C;return ao(E,!0,!1,aH?h.split("").reverse():h.split(""),!0),D.click(),ag(aM())===!0&&D.trigger("complete"),!1}function aF(f){if(c===!0&&"input"==f.type){return c=!1,!0}var e=this,C=aj(e),h=e._valueGet();h=h.replace(new RegExp("("+an(aO().join(""))+")*"),""),C.begin>h.length&&(aj(e,h.length),C=aj(e)),aM().length-h.length!=1||h.charAt(C.begin)==aM()[C.begin]||h.charAt(C.begin+1)==aM()[C.begin]||aw(C.begin)||(f.keyCode=a0.keyCode.BACKSPACE,m.call(e,f)),f.preventDefault()}function a4(e){if(c===!0&&"input"==e.type){return c=!1,!0}var F=this,E=aj(F),D=F._valueGet();aj(F,E.begin-1);var C=B.Event("keypress");C.which=D.charCodeAt(E.begin-1),aA=!1,aI=!1,l.call(F,C,void 0,void 0,!1);var h=aY().p;aq(F,aM(),a0.numericInput?at(h):h),e.preventDefault()}function ax(d){c=!0;var e=this;return setTimeout(function(){aj(e,aj(e).begin-1);var h=B.Event("keypress");h.which=d.originalEvent.data.charCodeAt(0),aA=!1,aI=!1,l.call(e,h,void 0,void 0,!1);var b=aY().p;aq(e,aM(),a0.numericInput?at(b):b)},0),!1}function a3(d){if(az=B(d),az.is(":input")&&!z(az.attr("type"))){if(az.data("_inputmask",{maskset:a1,opts:a0,isRTL:!1}),a0.showTooltip&&az.prop("title",aY().mask),("rtl"==d.dir||a0.rightAlign)&&az.css("text-align","right"),"rtl"==d.dir||a0.numericInput){d.dir="ltr",az.removeAttr("dir");var D=az.data("_inputmask");D.isRTL=!0,az.data("_inputmask",D),aH=!0}az.unbind(".inputmask"),az.removeClass("focus-inputmask"),az.closest("form").bind("submit",function(){aG!=aM().join("")&&az.change(),az[0]._valueGet&&az[0]._valueGet()==aO().join("")&&az[0]._valueSet(""),a0.autoUnmask&&a0.removeMaskOnSubmit&&az.inputmask("remove")}).bind("reset",function(){setTimeout(function(){az.trigger("setvalue")},0)}),az.bind("mouseenter.inputmask",function(){var f=B(this),E=this;!f.hasClass("focus-inputmask")&&a0.showMaskOnHover&&E._valueGet()!=aM().join("")&&aq(E,aM())}).bind("blur.inputmask",function(){var E=B(this),H=this;if(E.data("_inputmask")){var G=H._valueGet(),F=aM();E.removeClass("focus-inputmask"),aG!=aM().join("")&&E.change(),a0.clearMaskOnLostFocus&&""!=G&&(G==aO().join("")?H._valueSet(""):ah(H)),ag(F)===!1&&(E.trigger("incomplete"),a0.clearIncomplete&&(aX(),a0.clearMaskOnLostFocus?H._valueSet(""):(F=aO().slice(),aq(H,F))))}}).bind("focus.inputmask",function(){var f=B(this),F=this,E=F._valueGet();a0.showMaskOnFocus&&!f.hasClass("focus-inputmask")&&(!a0.showMaskOnHover||a0.showMaskOnHover&&""==E)&&F._valueGet()!=aM().join("")&&aq(F,aM(),au(aW())),f.addClass("focus-inputmask"),aG=aM().join("")}).bind("mouseleave.inputmask",function(){var f=B(this),E=this;a0.clearMaskOnLostFocus&&(f.hasClass("focus-inputmask")||E._valueGet()==f.attr("placeholder")||(E._valueGet()==aO().join("")||""==E._valueGet()?E._valueSet(""):ah(E)))}).bind("click.inputmask",function(){var f=this;B(f).is(":focus")&&setTimeout(function(){var G=aj(f);if(G.begin==G.end){var F=aH?ak(G.begin):G.begin,E=aW(F),b=au(E);b>=F?aw(F)?aj(f,F):aj(f,-1==E&&""!=a0.radixPoint?B.inArray(a0.radixPoint,aM()):au(F)):aj(f,b)}},0)}).bind("dblclick.inputmask",function(){var b=this;setTimeout(function(){aj(b,0,au(aW()))},0)}).bind(o+".inputmask dragdrop.inputmask drop.inputmask",i).bind("setvalue.inputmask",function(){var b=this;ao(b,!0,!1,void 0,!0),aG=aM().join(""),(a0.clearMaskOnLostFocus||a0.clearIncomplete)&&b._valueGet()==aO().join("")&&b._valueSet("")}).bind("complete.inputmask",a0.oncomplete).bind("incomplete.inputmask",a0.onincomplete).bind("cleared.inputmask",a0.oncleared),az.bind("keydown.inputmask",m).bind("keypress.inputmask",l).bind("keyup.inputmask",j).bind("compositionupdate.inputmask",ax),"paste"!==o||v||az.bind("input.inputmask",a4),v&&az.bind("input.inputmask",i),(s||q||r||p)&&("input"==o&&az.unbind(o+".inputmask"),az.bind("input.inputmask",aF)),ad(d);var e=B.isFunction(a0.onBeforeMask)?a0.onBeforeMask.call(d,d._valueGet(),a0):d._valueGet();ao(d,!0,!1,e.split(""),!0),aG=aM().join("");var C;try{C=document.activeElement}catch(h){}ag(aM())===!1&&a0.clearIncomplete&&aX(),a0.clearMaskOnLostFocus?aM().join("")==aO().join("")?d._valueSet(""):ah(d):aq(d,aM()),C===d&&(az.addClass("focus-inputmask"),aj(d,au(aW()))),ae(d)}}var aG,az,a,aH=!1,aA=!1,c=!1,aI=!1;if(void 0!=a2){switch(a2.action){case"isComplete":return az=B(a2.el),a1=az.data("_inputmask").maskset,a0=az.data("_inputmask").opts,ag(a2.buffer);case"unmaskedvalue":return az=a2.$input,a1=az.data("_inputmask").maskset,a0=az.data("_inputmask").opts,aH=a2.$input.data("_inputmask").isRTL,al(a2.$input);case"mask":aG=aM().join(""),a3(a2.el);break;case"format":az=B({}),az.data("_inputmask",{maskset:a1,opts:a0,isRTL:a0.numericInput}),a0.numericInput&&(aH=!0);var aB=(B.isFunction(a0.onBeforeMask)?a0.onBeforeMask.call(az,a2.value,a0):a2.value).split("");return ao(az,!1,!1,aH?aB.reverse():aB,!0),a0.onKeyPress.call(this,void 0,aM(),0,a0),a2.metadata?{value:aH?aM().slice().reverse().join(""):aM().join(""),metadata:az.inputmask("getmetadata")}:aH?aM().slice().reverse().join(""):aM().join("");case"isValid":az=B({}),az.data("_inputmask",{maskset:a1,opts:a0,isRTL:a0.numericInput}),a0.numericInput&&(aH=!0);var aB=a2.value.split("");ao(az,!1,!0,aH?aB.reverse():aB);for(var g=aM(),aK=ai(),aC=g.length-1;aC>aK&&!aw(aC);aC--){}return g.splice(aK,aC+1-aK),ag(g)&&a2.value==g.join("");case"getemptymask":return az=B(a2.el),a1=az.data("_inputmask").maskset,a0=az.data("_inputmask").opts,aO();case"remove":var k=a2.el;az=B(k),a1=az.data("_inputmask").maskset,a0=az.data("_inputmask").opts,k._valueSet(al(az)),az.unbind(".inputmask"),az.removeClass("focus-inputmask"),az.removeData("_inputmask");var aN;Object.getOwnPropertyDescriptor&&(aN=Object.getOwnPropertyDescriptor(k,"value")),aN&&aN.get?k._valueGet&&Object.defineProperty(k,"value",{get:k._valueGet,set:k._valueSet}):document.__lookupGetter__&&k.__lookupGetter__("value")&&k._valueGet&&(k.__defineGetter__("value",k._valueGet),k.__defineSetter__("value",k._valueSet));try{delete k._valueGet,delete k._valueSet}catch(aD){k._valueGet=void 0,k._valueSet=void 0}break;case"getmetadata":if(az=B(a2.el),a1=az.data("_inputmask").maskset,a0=az.data("_inputmask").opts,B.isArray(a1.metadata)){for(var n,aQ=aW(),aE=aQ;aE>=0;aE--){if(aY().validPositions[aE]&&void 0!=aY().validPositions[aE].alternation){n=aY().validPositions[aE].alternation;break}}return void 0!=n?a1.metadata[aY().validPositions[aQ].locator[n]]:a1.metadata[0]}return a1.metadata}}}if(void 0===B.fn.inputmask){var v="function"==typeof ScriptEngineMajorVersion?ScriptEngineMajorVersion():new Function("/*@cc_on return @_jscript_version; @*/")()>=10,u=navigator.userAgent,t=null!==u.match(new RegExp("iphone","i")),s=null!==u.match(new RegExp("android.*safari.*","i")),r=null!==u.match(new RegExp("android.*chrome.*","i")),q=null!==u.match(new RegExp("android.*firefox.*","i")),p=/Kindle/i.test(u)||/Silk/i.test(u)||/KFTT/i.test(u)||/KFOT/i.test(u)||/KFJWA/i.test(u)||/KFJWI/i.test(u)||/KFSOWI/i.test(u)||/KFTHWA/i.test(u)||/KFTHWI/i.test(u)||/KFAPWA/i.test(u)||/KFAPWI/i.test(u),o=A("paste")?"paste":A("input")?"input":"propertychange";B.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:B.noop,onincomplete:B.noop,oncleared:B.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!0,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyUp:B.noop,onKeyPress:B.noop,onKeyDown:B.noop,onBeforeMask:void 0,onBeforePaste:void 0,onUnMask:void 0,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:B.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,rightAlign:!1,radixPoint:"",nojumps:!1,nojumpsThreshold:0,keepStatic:void 0,definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:void 0},masksCache:{},escapeRegex:function(d){var c=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];return d.replace(new RegExp("(\\"+c.join("|\\")+")","gim"),"\\$1")},format:function(a,f,e){var d=B.extend(!0,{},B.inputmask.defaults,f);return y(d.alias,f,d),w({action:"format",value:a,metadata:e},x(d),d)},isValid:function(a,e){var d=B.extend(!0,{},B.inputmask.defaults,e);return y(d.alias,e,d),w({action:"isValid",value:a},x(d),d)}},B.fn.inputmask=function(F,E,D,C,n){function f(i,G,m){var l=B(i);l.data("inputmask-alias")&&y(l.data("inputmask-alias"),{},G);for(var k in G){var j=l.data("inputmask-"+k.toLowerCase());void 0!=j&&("mask"==k&&0==j.indexOf("[")?(G[k]=j.replace(/[\s[\]]/g,"").split("','"),G[k][0]=G[k][0].replace("'",""),G[k][G[k].length-1]=G[k][G[k].length-1].replace("'","")):G[k]="boolean"==typeof j?j:j.toString(),m&&(m[k]=G[k]))}return G}D=D||w,C=C||"_inputmask";var e,d=B.extend(!0,{},B.inputmask.defaults,E);if("string"==typeof F){switch(F){case"mask":return y(d.alias,E,d),e=x(d,D!==w),void 0==e?this:this.each(function(){D({action:"mask",el:this},B.extend(!0,{},e),f(this,d))});case"unmaskedvalue":var a=B(this);return a.data(C)?D({action:"unmaskedvalue",$input:a}):a.val();case"remove":return this.each(function(){var c=B(this);c.data(C)&&D({action:"remove",el:this})});case"getemptymask":return this.data(C)?D({action:"getemptymask",el:this}):"";case"hasMaskedValue":return this.data(C)?!this.data(C).opts.autoUnmask:!1;case"isComplete":return this.data(C)?D({action:"isComplete",buffer:this[0]._valueGet().split(""),el:this}):!0;case"getmetadata":return this.data(C)?D({action:"getmetadata",el:this}):void 0;case"_detectScope":return y(d.alias,E,d),void 0==n||y(n,E,d)||-1!=B.inArray(n,["mask","unmaskedvalue","remove","getemptymask","hasMaskedValue","isComplete","getmetadata","_detectScope"])||(d.mask=n),B.isFunction(d.mask)&&(d.mask=d.mask.call(this,d)),B.isArray(d.mask);default:return y(d.alias,E,d),y(F,E,d)||(d.mask=F),e=x(d,D!==w),void 0==e?this:this.each(function(){D({action:"mask",el:this},B.extend(!0,{},e),f(this,d))})}}else{if("object"==typeof F){return d=B.extend(!0,{},B.inputmask.defaults,F),y(d.alias,F,d),e=x(d,D!==w),void 0==e?this:this.each(function(){D({action:"mask",el:this},B.extend(!0,{},e),f(this,d))})}if(void 0==F){return this.each(function(){var c=B(this).attr("data-inputmask");if(c&&""!=c){try{c=c.replace(new RegExp("'","g"),'"');var j=B.parseJSON("{"+c+"}");B.extend(!0,j,E),d=B.extend(!0,{},B.inputmask.defaults,j),d=f(this,d),y(d.alias,j,d),d.alias=void 0,B(this).inputmask("mask",d,D)}catch(i){}}if(B(this).attr("data-inputmask-mask")||B(this).attr("data-inputmask-alias")){d=B.extend(!0,{},B.inputmask.defaults,{});var g={};d=f(this,d,g),y(d.alias,g,d),d.alias=void 0,B(this).inputmask("mask",d,D)}})}}}}return B.fn.inputmask});