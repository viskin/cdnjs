/*!
* jquery.inputmask.js
* http://github.com/RobinHerbots/jquery.inputmask
* Copyright (c) 2010 - 2014 Robin Herbots
* Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
* Version: 3.1.32
*/
;!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(d){function k(n){var q=document.createElement("input"),p="on"+n,o=p in q;return o||(q.setAttribute(p,"return;"),o="function"==typeof q[p]),q=null,o}function m(p){var n="text"==p||"tel"==p;if(!n){var o=document.createElement("input");o.setAttribute("type",p),n="text"===o.type,o=null}return n}function f(o,p,q){var n=q.aliases[o];return n?(n.alias&&f(n.alias,void 0,q),d.extend(!0,q,n),d.extend(!0,q,p),!0):!1}function c(r,s){function q(J){function w(R,P,Q,O){this.matches=[],this.isGroup=R||!1,this.isOptional=P||!1,this.isQuantifier=Q||!1,this.isAlternator=O||!1,this.quantifier={min:1,max:1}}function t(W,R,T){var P=r.definitions[R],Q=0==W.matches.length;if(T=void 0!=T?T:W.matches.length,P&&!A){for(var V=P.prevalidator,Y=V?V.length:0,S=1;S<P.cardinality;S++){var X=Y>=S?V[S-1]:[],O=X.validator,U=X.cardinality;W.matches.splice(T++,0,{fn:O?"string"==typeof O?new RegExp(O):new function(){this.test=O}():new RegExp("."),cardinality:U?U:1,optionality:W.isOptional,newBlockMarker:Q,casing:P.casing,def:P.definitionSymbol||R,placeholder:P.placeholder,mask:R})}W.matches.splice(T++,0,{fn:P.validator?"string"==typeof P.validator?new RegExp(P.validator):new function(){this.test=P.validator}():new RegExp("."),cardinality:P.cardinality,optionality:W.isOptional,newBlockMarker:Q,casing:P.casing,def:P.definitionSymbol||R,placeholder:P.placeholder,mask:R})}else{W.matches.splice(T++,0,{fn:null,cardinality:0,optionality:W.isOptional,newBlockMarker:Q,casing:null,def:R,placeholder:void 0,mask:R}),A=!1}}for(var B,F,z,K,M,L,D=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})\??|[^.?*+^${[]()|\\]+|./g,A=!1,v=new w(),N=[],y=[];B=D.exec(J);){switch(F=B[0],F.charAt(0)){case r.optionalmarker.end:case r.groupmarker.end:if(z=N.pop(),N.length>0){if(K=N[N.length-1],K.matches.push(z),K.isAlternator){M=N.pop();for(var C=0;C<M.matches.length;C++){M.matches[C].isGroup=!1}N.length>0?(K=N[N.length-1],K.matches.push(M)):v.matches.push(M)}}else{v.matches.push(z)}break;case r.optionalmarker.start:N.push(new w(!1,!0));break;case r.groupmarker.start:N.push(new w(!0));break;case r.quantifiermarker.start:var E=new w(!1,!1,!0);F=F.replace(/[{}]/g,"");var G=F.split(","),I=isNaN(G[0])?G[0]:parseInt(G[0]),H=1==G.length?I:isNaN(G[1])?G[1]:parseInt(G[1]);if(("*"==H||"+"==H)&&(I="*"==H?0:1),E.quantifier={min:I,max:H},N.length>0){var u=N[N.length-1].matches;if(B=u.pop(),!B.isGroup){var x=new w(!0);x.matches.push(B),B=x}u.push(B),u.push(E)}else{if(B=v.matches.pop(),!B.isGroup){var x=new w(!0);x.matches.push(B),B=x}v.matches.push(B),v.matches.push(E)}break;case r.escapeChar:A=!0;break;case r.alternatormarker:N.length>0?(K=N[N.length-1],L=K.matches.pop()):L=v.matches.pop(),L.isAlternator?N.push(L):(M=new w(!1,!1,!1,!0),M.matches.push(L),N.push(M));break;default:if(N.length>0){if(K=N[N.length-1],K.matches.length>0&&(L=K.matches[K.matches.length-1],L.isGroup&&(L.isGroup=!1,t(L,r.groupmarker.start,0),t(L,r.groupmarker.end))),t(K,F),K.isAlternator){M=N.pop();for(var C=0;C<M.matches.length;C++){M.matches[C].isGroup=!1}N.length>0?(K=N[N.length-1],K.matches.push(M)):v.matches.push(M)}}else{v.matches.length>0&&(L=v.matches[v.matches.length-1],L.isGroup&&(L.isGroup=!1,t(L,r.groupmarker.start,0),t(L,r.groupmarker.end))),t(v,F)}}}return v.matches.length>0&&(L=v.matches[v.matches.length-1],L.isGroup&&(L.isGroup=!1,t(L,r.groupmarker.start,0),t(L,r.groupmarker.end)),y.push(v)),y}function p(t,v){if(r.numericInput&&r.multi!==!0){t=t.split("").reverse();for(var u=0;u<t.length;u++){t[u]==r.optionalmarker.start?t[u]=r.optionalmarker.end:t[u]==r.optionalmarker.end?t[u]=r.optionalmarker.start:t[u]==r.groupmarker.start?t[u]=r.groupmarker.end:t[u]==r.groupmarker.end&&(t[u]=r.groupmarker.start)}t=t.join("")}if(void 0==t||""==t){return void 0}if(1==t.length&&0==r.greedy&&0!=r.repeat&&(r.placeholder=""),r.repeat>0||"*"==r.repeat||"+"==r.repeat){var w="*"==r.repeat?0:"+"==r.repeat?1:r.repeat;t=r.groupmarker.start+t+r.groupmarker.end+r.quantifiermarker.start+w+","+r.repeat+r.quantifiermarker.end}return void 0==d.inputmask.masksCache[t]&&(d.inputmask.masksCache[t]={mask:t,maskToken:q(t),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:v}),d.extend(!0,{},d.inputmask.masksCache[t])}var n=void 0;if(d.isFunction(r.mask)&&(r.mask=r.mask.call(this,r)),d.isArray(r.mask)){if(s){n=[],d.each(r.mask,function(t,u){n.push(void 0==u.mask||d.isFunction(u.mask)?p(u.toString(),u):p(u.mask.toString(),u))})}else{r.keepStatic=void 0==r.keepStatic?!0:r.keepStatic;var o="(";d.each(r.mask,function(t,u){o.length>1&&(o+=")|("),o+=void 0==u.mask||d.isFunction(u.mask)?u.toString():u.mask.toString()}),o+=")",n=p(o,r.mask)}}else{r.mask&&(n=void 0==r.mask.mask||d.isFunction(r.mask.mask)?p(r.mask.toString(),r.mask):p(r.mask.mask.toString(),r.mask))}return n}function e(v,D,R){function ar(aI,aH,aB){aH=aH||0;var aD,aF,aE,aC=[],aG=0;do{if(aI===!0&&K().validPositions[aG]){var aA=K().validPositions[aG];aF=aA.match,aD=aA.locator.slice(),aC.push(aB===!0?aA.input:ax(aG,aF))}else{if(aH>aG){var az=A(aG,aD,aG-1);aE=az[0]}else{aE=C(aG,aD,aG-1)}aF=aE.match,aD=aE.locator.slice(),aC.push(ax(aG,aF))}aG++}while((void 0==w||w>aG-1)&&null!=aF.fn||null==aF.fn&&""!=aF.def||aH>=aG);return aC.pop(),aC}function K(){return D}function N(az){var aA=K();aA.buffer=void 0,aA.tests={},az!==!0&&(aA._buffer=void 0,aA.validPositions={},aA.p=0)}function r(aA){var aG=K(),aD=-1,aB=aG.validPositions;void 0==aA&&(aA=-1);var aE=aD,aF=aD;for(var az in aB){var aC=parseInt(az);(-1==aA||null!=aB[aC].match.fn)&&(aA>=aC&&(aE=aC),aC>=aA&&(aF=aC))}return aD=aA-aE>1||aA>aF?aE:aF}function z(aF,aG,aC){if(R.insertMode&&void 0!=K().validPositions[aF]&&void 0==aC){var aB,aH=d.extend(!0,{},K().validPositions),aD=r();for(aB=aF;aD>=aB;aB++){delete K().validPositions[aB]}K().validPositions[aF]=aG;var aA,az=!0;for(aB=aF;aD>=aB;aB++){var aI=aH[aB];if(void 0!=aI){var aE=K().validPositions;aA=!R.keepStatic&&(void 0!=aE[aB+1]&&A(aB+1,aE[aB].locator.slice(),aB).length>1||aE[aB]&&void 0!=aE[aB].alternation)?aB+1:p(aB),az=an(aA,aI.match.def)?az&&u(aA,aI.input,!0,!0)!==!1:null==aI.match.fn}if(!az){break}}if(!az){return K().validPositions=d.extend(!0,{},aH),!1}}else{K().validPositions[aF]=aG}return !0}function V(aF,az){var aC,aA=aF;for(void 0!=K().validPositions[aF]&&K().validPositions[aF].input==R.radixPoint&&(az++,aA++),aC=aA;az>aC;aC++){void 0==K().validPositions[aC]||K().validPositions[aC].input==R.radixPoint&&aC!=r()||delete K().validPositions[aC]}for(aC=az;aC<=r();){var aB=K().validPositions[aC],aD=K().validPositions[aA];void 0!=aB&&void 0==aD?(an(aA,aB.match.def)&&u(aA,aB.input,!0)!==!1&&(delete K().validPositions[aC],aC++),aA++):aC++}var aE=r();aE>=aF&&void 0!=K().validPositions[aE]&&K().validPositions[aE].input==R.radixPoint&&delete K().validPositions[aE],N(!0)}function C(aG,aD,aB){function aC(aO,aL,aJ){for(var aK=!1,aM=aO.locator[aL].toString().split(","),aN=0;aN<aM.length;aN++){if(-1!=d.inArray(aM[aN],aJ)){aK=!0;break}}return aK}for(var aE,aA=A(aG,aD,aB),aF=r(),aH=K().validPositions[aF]||A(0)[0],az=void 0!=aH.alternation?aH.locator[aH.alternation].split(","):[],aI=0;aI<aA.length&&(aE=aA[aI],!(R.greedy||aE.match&&(aE.match.optionality===!1||aE.match.newBlockMarker===!1)&&aE.match.optionalQuantifier!==!0&&(void 0==aH.alternation||void 0!=aE.locator[aH.alternation]&&aC(aE,aH.alternation,az))));aI++){}return aE}function ab(az){return K().validPositions[az]?K().validPositions[az].match:A(az)[0].match}function an(aD,aC){for(var aB=!1,az=A(aD),aA=0;aA<az.length;aA++){if(az[aA].match&&az[aA].match.def==aC){aB=!0;break}}return aB}function A(aI,aC,aB){function aK(aR,aO,aQ,aM){function aS(a4,be,bd){if(aF>10000){return alert("jquery.inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+K().mask),!0}if(aF==aI&&void 0==a4.matches){return aE.push({match:a4,locator:be.reverse()}),!0}if(void 0!=a4.matches){if(a4.isGroup&&bd!==!0){if(a4=aS(aR.matches[aP+1],be)){return !0}}else{if(a4.isOptional){var a7=a4;if(a4=aK(a4,aO,be,bd)){var aU=aE[aE.length-1].match,ba=0==d.inArray(aU,a7.matches);ba&&(aJ=!0),aF=aI}}else{if(a4.isAlternator){var aW,aX=a4,aT=[],aY=aE.slice(),a0=be.length,a1=aO.length>0?aO.shift():-1;if(-1==a1||"string"==typeof a1){var bc,bf=aF,a5=aO.slice();"string"==typeof a1&&(bc=a1.split(","));for(var a6=0;a6<aX.matches.length;a6++){aE=[],a4=aS(aX.matches[a6],[a6].concat(be),bd)||a4,aW=aE.slice(),aF=bf,aE=[];for(var bb=0;bb<a5.length;bb++){aO[bb]=a5[bb]}for(var a9=0;a9<aW.length;a9++){for(var a3=aW[a9],a8=0;a8<aT.length;a8++){var aV=aT[a8];if(a3.match.mask==aV.match.mask&&("string"!=typeof a1||-1!=d.inArray(a3.locator[a0].toString(),bc))){aW.splice(a9,1),aV.locator[a0]=aV.locator[a0]+","+a3.locator[a0],aV.alternation=a0;break}}}aT=aT.concat(aW)}"string"==typeof a1&&(aT=d.map(aT,function(bi,bh){if(isFinite(bh)){var bl,bj=bi.locator[a0].toString().split(",");bi.locator[a0]=void 0,bi.alternation=void 0;for(var bk=0;bk<bj.length;bk++){bl=-1!=d.inArray(bj[bk],bc),bl&&(void 0!=bi.locator[a0]?(bi.locator[a0]+=",",bi.alternation=a0,bi.locator[a0]+=bj[bk]):bi.locator[a0]=parseInt(bj[bk]))}if(void 0!=bi.locator[a0]){return bi}}})),aE=aY.concat(aT),aJ=!0}else{a4=aS(aX.matches[a1],[a1].concat(be),bd)}if(a4){return !0}}else{if(a4.isQuantifier&&bd!==!0){var bg=a4;R.greedy=R.greedy&&isFinite(bg.quantifier.max);for(var aZ=aO.length>0&&bd!==!0?aO.shift():0;aZ<(isNaN(bg.quantifier.max)?aZ+1:bg.quantifier.max)&&aI>=aF;aZ++){var a2=aR.matches[d.inArray(bg,aR.matches)-1];if(a4=aS(a2,[aZ].concat(be),!0)){var aU=aE[aE.length-1].match;aU.optionalQuantifier=aZ>bg.quantifier.min-1;var ba=0==d.inArray(aU,a2.matches);if(ba){if(aZ>bg.quantifier.min-1){aJ=!0,aF=aI;break}return !0}return !0}}}else{if(a4=aK(a4,aO,be,bd)){return !0}}}}}}else{aF++}}for(var aP=aO.length>0?aO.shift():0;aP<aR.matches.length;aP++){if(aR.matches[aP].isQuantifier!==!0){var aN=aS(aR.matches[aP],[aP].concat(aQ),aM);if(aN&&aF==aI){return aN}if(aF>aI){break}}}}var az=K().maskToken,aF=aC?aB:0,aL=aC||[0],aE=[],aJ=!1;if(void 0==aC){for(var aH,aG=aI-1;void 0==(aH=K().validPositions[aG])&&aG>-1;){aG--}if(void 0!=aH&&aG>-1){aF=aG,aL=aH.locator.slice()}else{for(aG=aI-1;void 0==(aH=K().tests[aG])&&aG>-1;){aG--}void 0!=aH&&aG>-1&&(aF=aG,aL=aH[0].locator.slice())}}for(var aA=aL.shift();aA<az.length;aA++){var aD=aK(az[aA],aL,[aA]);if(aD&&aF==aI||aF>aI){break}}return(0==aE.length||aJ)&&aE.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]}),K().tests[aI]=d.extend(!0,[],aE),K().tests[aI]}function ay(){return void 0==K()._buffer&&(K()._buffer=ar(!1,1)),K()._buffer}function o(){return void 0==K().buffer&&(K().buffer=ar(!0,r(),!0)),K().buffer}function X(aC,aA){var az=o().slice();if(aC===!0){N(),aC=0,aA=az.length}else{for(var aB=aC;aA>aB;aB++){delete K().validPositions[aB],delete K().tests[aB]}}for(var aB=aC;aA>aB;aB++){az[aB]!=R.skipOptionalPartCharacter&&u(aB,az[aB],!0,!0)}}function U(az,aA){switch(aA.casing){case"upper":az=az.toUpperCase();break;case"lower":az=az.toLowerCase()}return az}function u(aI,aG,aK,aF){function aC(aN,aQ,aP,aM){var aO=!1;return d.each(A(aN),function(aZ,aT){for(var aY=aT.match,aU=aQ?1:0,aS="",aW=(o(),aY.cardinality);aW>aU;aW--){aS+=Q(aN-(aW-1))}if(aQ&&(aS+=aQ),aO=null!=aY.fn?aY.fn.test(aS,K(),aN,aP,R):aQ!=aY.def&&aQ!=R.skipOptionalPartCharacter||""==aY.def?!1:{c:aY.def,pos:aN},aO!==!1){var aV=void 0!=aO.c?aO.c:aQ;aV=aV==R.skipOptionalPartCharacter&&null===aY.fn?aY.def:aV;var aR=aN;if(void 0!=aO.remove&&V(aO.remove,aO.remove+1),aO.refreshFromBuffer){var aX=aO.refreshFromBuffer;if(aP=!0,X(aX===!0?aX:aX.start,aX.end),void 0==aO.pos&&void 0==aO.c){return aO.pos=r(),!1}if(aR=void 0!=aO.pos?aO.pos:aN,aR!=aN){return aO=d.extend(aO,u(aR,aV,!0)),!1}}else{if(aO!==!0&&void 0!=aO.pos&&aO.pos!=aN&&(aR=aO.pos,X(aN,aR),aR!=aN)){return aO=d.extend(aO,u(aR,aV,!0)),!1}}return 1!=aO&&void 0==aO.pos&&void 0==aO.c?!1:(aZ>0&&N(!0),z(aR,d.extend({},aT,{input:U(aV,aY)}),aM)||(aO=!1),!1)}}),aO}function aD(aP,aZ,a3,aX){var aR,a1,aM=d.extend(!0,{},K().validPositions);for(aR=r();aR>=0;aR--){if(K().validPositions[aR]&&void 0!=K().validPositions[aR].alternation){a1=K().validPositions[aR].alternation;break}}if(void 0!=a1){for(var aT in K().validPositions){if(parseInt(aT)>parseInt(aR)&&void 0===K().validPositions[aT].alternation){for(var aQ=K().validPositions[aT],aV=aQ.locator[a1],a0=K().validPositions[aR].locator[a1].split(","),aS=0;aS<a0.length;aS++){if(aV<a0[aS]){for(var aO,a2,aU=aT-1;aU>=0;aU--){if(aO=K().validPositions[aU],void 0!=aO){a2=aO.locator[a1],aO.locator[a1]=a0[aS];break}}if(aV!=aO.locator[a1]){for(var aW=o().slice(),aY=aT;aY<r()+1;aY++){delete K().validPositions[aY],delete K().tests[aY]}N(!0),R.keepStatic=!R.keepStatic;for(var aY=aT;aY<aW.length;aY++){aW[aY]!=R.skipOptionalPartCharacter&&u(r()+1,aW[aY],!1,!0)}aO.locator[a1]=a2;var aN=u(aP,aZ,a3,aX);if(R.keepStatic=!R.keepStatic,aN){return aN}N(),K().validPositions=d.extend(!0,{},aM)}}}break}}}return !1}aK=aK===!0;for(var aE=o(),aH=aI-1;aH>-1&&(!K().validPositions[aH]||null!=K().validPositions[aH].match.fn);aH--){void 0==K().validPositions[aH]&&(!M(aH)||aE[aH]!=ax(aH))&&A(aH).length>1&&aC(aH,aE[aH],!0)}var aJ=aI,aL=!1;if(aF&&aJ>=ae()&&N(!0),aJ<ae()&&(aL=aC(aJ,aG,aK,aF),!aK&&aL===!1)){var az=K().validPositions[aJ];if(!az||null!=az.match.fn||az.match.def!=aG&&aG!=R.skipOptionalPartCharacter){if((R.insertMode||void 0==K().validPositions[p(aJ)])&&!M(aJ)){for(var aB=aJ+1,aA=p(aJ);aA>=aB;aB++){if(aL=aC(aB,aG,aK,aF),aL!==!1){aJ=aB;break}}}}else{aL={caret:p(aJ)}}}return aL===!1&&R.keepStatic&&Z(aE)&&(aL=aD(aI,aG,aK,aF)),aL===!0&&(aL={pos:aJ}),aL}function M(aA){var az=ab(aA);return null!=az.fn?az.fn:!1}function ae(){var aD;if(w=ag.prop("maxLength"),-1==w&&(w=void 0),0==R.greedy){var aC,aB=r(),az=K().validPositions[aB],aA=void 0!=az?az.locator.slice():void 0;for(aC=aB+1;void 0==az||null!=az.match.fn||null==az.match.fn&&""!=az.match.def;aC++){az=C(aC,aA,aC-1),aA=az.locator.slice()}aD=aC}else{aD=o().length}return void 0==w||w>aD?aD:w}function p(aB){var aA=ae();if(aB>=aA){return aA}for(var az=aB;++az<aA&&!M(az)&&(R.nojumps!==!0||R.nojumpsThreshold>az);){}return az}function ap(aA){var az=aA;if(0>=az){return 0}for(;--az>0&&!M(az);){}return az}function Q(az){return void 0==K().validPositions[az]?ax(az):K().validPositions[az].input}function Y(aA,az,aB){aA._valueSet(az.join("")),void 0!=aB&&H(aA,aB)}function ax(aB,aA){aA=aA||ab(aB);var az=d.isFunction(aA.placeholder)?aA.placeholder.call(this,R):aA.placeholder;return void 0!=az?az:null==aA.fn?aA.def:R.placeholder.charAt(aB%R.placeholder.length)}function x(aC,aE,aB,aG){var az=void 0!=aG?aG.slice():aC._valueGet().split("");N(),aE&&aC._valueSet("");var aD=ay().slice(0,p(-1)).join(""),aF=az.join("").match(new RegExp(s(aD),"g"));if(aF&&aF.length>1&&az.splice(0,aD.length),d.each(az,function(aI,aH){var aJ=r();-1==d.inArray(aH,ay().slice(aJ+1,K().p))||aB?(J.call(aC,void 0,!0,aH.charCodeAt(0),!1,aB,aB?aI:K().p),aB=aB||aI>0&&aI>K().p):J.call(aC,void 0,!0,aH.charCodeAt(0),!1,!0,aJ+1)}),aE){var aA=R.onKeyPress.call(this,void 0,o(),0,R);au(aC,aA),Y(aC,o(),d(aC).is(":focus")?p(r(0)):void 0)}}function s(az){return d.inputmask.escapeRegex.call(this,az)}function n(aE){if(aE.data("_inputmask")&&!aE.hasClass("hasDatepicker")){var aB=[],aD=K().validPositions;for(var aC in aD){aD[aC].match&&null!=aD[aC].match.fn&&aB.push(aD[aC].input)}var az=(aj?aB.reverse():aB).join(""),aA=(aj?o().slice().reverse():o()).join("");return d.isFunction(R.onUnMask)&&(az=R.onUnMask.call(aE,aA,az,R)||az),az}return aE[0]._valueGet()}function am(aA){if(aj&&"number"==typeof aA&&(!R.greedy||""!=R.placeholder)){var az=o().length;aA=az-aA}return aA}function H(aB,aC,az){var aA,aE=aB.jquery&&aB.length>0?aB[0]:aB;if("number"!=typeof aC){var aD=d(aE).data("_inputmask");return !d(aE).is(":visible")&&aD&&void 0!=aD.caret?(aC=aD.caret.begin,az=aD.caret.end):aE.setSelectionRange?(aC=aE.selectionStart,az=aE.selectionEnd):document.selection&&document.selection.createRange&&(aA=document.selection.createRange(),aC=0-aA.duplicate().moveStart("character",-100000),az=aC+aA.text.length),aC=am(aC),az=am(az),{begin:aC,end:az}}aC=am(aC),az=am(az),az="number"==typeof az?az:aC;var aD=d(aE).data("_inputmask")||{};aD.caret={begin:aC,end:az},d(aE).data("_inputmask",aD),d(aE).is(":visible")&&(aE.scrollLeft=aE.scrollWidth,0==R.insertMode&&aC==az&&az++,aE.setSelectionRange?(aE.selectionStart=aC,aE.selectionEnd=az):aE.createTextRange&&(aA=aE.createTextRange(),aA.collapse(!0),aA.moveEnd("character",az),aA.moveStart("character",aC),aA.select()))}function B(aD){var aH,aF,aB=o(),aA=aB.length,aG=r(),aE={},aI=K().validPositions[aG],aC=void 0!=aI?aI.locator.slice():void 0;for(aH=aG+1;aH<aB.length;aH++){aF=C(aH,aC,aH-1),aC=aF.locator.slice(),aE[aH]=d.extend(!0,{},aF)}var az=aI&&void 0!=aI.alternation?aI.locator[aI.alternation].split(","):[];for(aH=aA-1;aH>aG&&(aF=aE[aH].match,(aF.optionality||aF.optionalQuantifier||aI&&void 0!=aI.alternation&&void 0!=aE[aH].locator[aI.alternation]&&-1!=d.inArray(aE[aH].locator[aI.alternation].toString(),az))&&aB[aH]==ax(aH,aF));aH--){aA--}return aD?{l:aA,def:aE[aA]?aE[aA].match:void 0}:aA}function aq(aB){for(var aA=o(),aD=aA.slice(),aC=B(),az=aD.length-1;az>aC&&!M(az);az--){}aD.splice(aC,az+1-aC),Y(aB,aD)}function Z(aB){if(d.isFunction(R.isComplete)){return R.isComplete.call(ag,aB,R)}if("*"==R.repeat){return void 0}var aA=!1,aC=B(!0),aE=ap(aC.l),aF=r();if(aF==aE&&(void 0==aC.def||aC.def.newBlockMarker||aC.def.optionalQuantifier)){aA=!0;for(var aD=0;aE>=aD;aD++){var az=M(aD);if(az&&(void 0==aB[aD]||aB[aD]==ax(aD))||!az&&aB[aD]!=ax(aD)){aA=!1;break}}}return aA}function I(aA,az){return aj?aA-az>1||aA-az==1&&R.insertMode:az-aA>1||az-aA==1&&R.insertMode}function F(aA){var az=d._data(aA).events;d.each(az,function(aB,aC){d.each(aC,function(aD,aE){if("inputmask"==aE.namespace&&"setvalue"!=aE.type){var aF=aE.handler;aE.handler=function(aG){return this.readOnly||this.disabled?void aG.preventDefault:aF.apply(this,arguments)}}})})}function ai(aE){function aB(aI){if(void 0==d.valHooks[aI]||1!=d.valHooks[aI].inputmaskpatch){var aH=d.valHooks[aI]&&d.valHooks[aI].get?d.valHooks[aI].get:function(aJ){return aJ.value},aG=d.valHooks[aI]&&d.valHooks[aI].set?d.valHooks[aI].set:function(aJ,aK){return aJ.value=aK,aJ};d.valHooks[aI]={get:function(aM){var aK=d(aM);if(aK.data("_inputmask")){if(aK.data("_inputmask").opts.autoUnmask){return aK.inputmask("unmaskedvalue")}var aJ=aH(aM),aN=aK.data("_inputmask"),aO=aN.maskset,aL=aO._buffer;return aL=aL?aL.join(""):"",aJ!=aL?aJ:""}return aH(aM)},set:function(aL,aN){var aJ,aK=d(aL),aM=aK.data("_inputmask");return aM?(aJ=aG(aL,d.isFunction(aM.opts.onBeforeMask)?aM.opts.onBeforeMask.call(at,aN,aM.opts)||aN:aN),aK.triggerHandler("setvalue.inputmask")):aJ=aG(aL,aN),aJ},inputmaskpatch:!0}}}function az(){var aH=d(this),aG=d(this).data("_inputmask");return aG?aG.opts.autoUnmask?aH.inputmask("unmaskedvalue"):aD.call(this)!=ay().join("")?aD.call(this):"":aD.call(this)}function aF(aH){var aG=d(this).data("_inputmask");aG?(aA.call(this,d.isFunction(aG.opts.onBeforeMask)?aG.opts.onBeforeMask.call(at,aH,aG.opts)||aH:aH),d(this).triggerHandler("setvalue.inputmask")):aA.call(this,aH)}function aC(aK){d(aK).bind("mouseenter.inputmask",function(){var aN=d(this),aL=this,aM=aL._valueGet();""!=aM&&aM!=o().join("")&&aN.trigger("setvalue")});var aJ=d._data(aK).events,aH=aJ.mouseover;if(aH){for(var aG=aH[aH.length-1],aI=aH.length-1;aI>0;aI--){aH[aI]=aH[aI-1]}aH[0]=aG}}var aD,aA;if(!aE._valueGet){if(Object.getOwnPropertyDescriptor){Object.getOwnPropertyDescriptor(aE,"value")}document.__lookupGetter__&&aE.__lookupGetter__("value")?(aD=aE.__lookupGetter__("value"),aA=aE.__lookupSetter__("value"),aE.__defineGetter__("value",az),aE.__defineSetter__("value",aF)):(aD=function(){return aE.value},aA=function(aG){aE.value=aG},aB(aE.type),aC(aE)),aE._valueGet=function(){return aj?aD.call(this).split("").reverse().join(""):aD.call(this)},aE._valueSet=function(aG){aA.call(this,aj?aG.split("").reverse().join(""):aG)}}}function S(aB,aA,aE){function aD(){if(R.keepStatic){N(!0);var aG,aF=[];for(aG=r();aG>=0;aG--){if(K().validPositions[aG]){if(void 0!=K().validPositions[aG].alternation){break}aF.push(K().validPositions[aG].input),delete K().validPositions[aG]}}if(aG>0){for(;aF.length>0;){K().p=p(r()),J.call(aB,void 0,!0,aF.pop().charCodeAt(0),!1,!1,K().p)}}}}if((R.numericInput||aj)&&(aA==d.inputmask.keyCode.BACKSPACE?aA=d.inputmask.keyCode.DELETE:aA==d.inputmask.keyCode.DELETE&&(aA=d.inputmask.keyCode.BACKSPACE),aj)){var aC=aE.end;aE.end=aE.begin,aE.begin=aC}aA==d.inputmask.keyCode.BACKSPACE&&aE.end-aE.begin<=1?aE.begin=ap(aE.begin):aA==d.inputmask.keyCode.DELETE&&aE.begin==aE.end&&aE.end++,V(aE.begin,aE.end),aD();var az=r(aE.begin);az<aE.begin?(-1==az&&N(),K().p=p(az)):K().p=aE.begin}function au(az,aC,aA){if(aC&&aC.refreshFromBuffer){var aB=aC.refreshFromBuffer;X(aB===!0?aB:aB.start,aB.end),N(!0),void 0!=aA&&(Y(az,o()),H(az,aC.caret||aA.begin,aC.caret||aA.end))}}function aw(aD){ac=!1;var aB=this,aF=d(aB),aA=aD.keyCode,aE=H(aB);aA==d.inputmask.keyCode.BACKSPACE||aA==d.inputmask.keyCode.DELETE||j&&127==aA||aD.ctrlKey&&88==aA&&!k("cut")?(aD.preventDefault(),88==aA&&(W=o().join("")),S(aB,aA,aE),Y(aB,o(),K().p),aB._valueGet()==ay().join("")&&aF.trigger("cleared"),R.showTooltip&&aF.prop("title",K().mask)):aA==d.inputmask.keyCode.END||aA==d.inputmask.keyCode.PAGE_DOWN?setTimeout(function(){var aG=p(r());R.insertMode||aG!=ae()||aD.shiftKey||aG--,H(aB,aD.shiftKey?aE.begin:aG,aG)},0):aA==d.inputmask.keyCode.HOME&&!aD.shiftKey||aA==d.inputmask.keyCode.PAGE_UP?H(aB,0,aD.shiftKey?aE.begin:0):aA==d.inputmask.keyCode.ESCAPE||90==aA&&aD.ctrlKey?(x(aB,!0,!1,W.split("")),aF.click()):aA!=d.inputmask.keyCode.INSERT||aD.shiftKey||aD.ctrlKey?0!=R.insertMode||aD.shiftKey||(aA==d.inputmask.keyCode.RIGHT?setTimeout(function(){var aG=H(aB);H(aB,aG.begin)},0):aA==d.inputmask.keyCode.LEFT&&setTimeout(function(){var aG=H(aB);H(aB,aj?aG.begin+1:aG.begin-1)},0)):(R.insertMode=!R.insertMode,H(aB,R.insertMode||aE.begin!=ae()?aE.begin:aE.begin-1));var az=H(aB),aC=R.onKeyDown.call(this,aD,o(),az.begin,R);au(aB,aC,az),E=-1!=d.inArray(aA,R.ignorables)}function J(aM,aD,aL,az,aR,aG){if(void 0==aL&&ac){return !1}ac=!0;var aH=this,aA=d(aH);aM=aM||window.event;var aL=aD?aL:aM.which||aM.charCode||aM.keyCode;if(!(aD===!0||aM.ctrlKey&&aM.altKey)&&(aM.ctrlKey||aM.metaKey||E)){return !0}if(aL){aD!==!0&&46==aL&&0==aM.shiftKey&&","==R.radixPoint&&(aL=44);var aE,aF=aD?{begin:aG,end:aG}:H(aH),aO=String.fromCharCode(aL),aB=I(aF.begin,aF.end);aB&&(K().undoPositions=d.extend(!0,{},K().validPositions),S(aH,d.inputmask.keyCode.DELETE,aF),R.insertMode||(R.insertMode=!R.insertMode,z(aF.begin,aR),R.insertMode=!R.insertMode),aB=!R.multi),K().writeOutBuffer=!0;var aJ=aj&&!aB?aF.end:aF.begin,aC=u(aJ,aO,aR);if(aC!==!1){if(aC!==!0&&(aJ=void 0!=aC.pos?aC.pos:aJ,aO=void 0!=aC.c?aC.c:aO),N(!0),void 0!=aC.caret){aE=aC.caret}else{var aQ=K().validPositions;aE=!R.keepStatic&&(void 0!=aQ[aJ+1]&&A(aJ+1,aQ[aJ].locator.slice(),aJ).length>1||void 0!=aQ[aJ].alternation)?aJ+1:p(aJ)}K().p=aE}if(az!==!1){var aI=this;if(setTimeout(function(){R.onKeyValidation.call(aI,aC,R)},0),K().writeOutBuffer&&aC!==!1){var aK=o();Y(aH,aK,aD?void 0:R.numericInput?ap(aE):aE),aD!==!0&&setTimeout(function(){Z(aK)===!0&&aA.trigger("complete"),t=!0,aA.trigger("input")},0)}else{aB&&(K().buffer=void 0,K().validPositions=K().undoPositions)}}else{aB&&(K().buffer=void 0,K().validPositions=K().undoPositions)}if(R.showTooltip&&aA.prop("title",K().mask),aM&&1!=aD){aM.preventDefault();var aN=H(aH),aP=R.onKeyPress.call(this,aM,o(),aN.begin,R);au(aH,aP,aN)}}}function T(aD){var aF=d(this),aC=this,aB=aD.keyCode,aA=o(),az=H(aC),aE=R.onKeyUp.call(this,aD,aA,az.begin,R);au(aC,aE,az),aB==d.inputmask.keyCode.TAB&&R.showMaskOnFocus&&(aF.hasClass("focus-inputmask")&&0==aC._valueGet().length?(N(),aA=o(),Y(aC,aA),H(aC,0),W=o().join("")):(Y(aC,aA),H(aC,am(0),am(ae()))))}function ah(aD){if(t===!0&&"input"==aD.type){return t=!1,!0}var aA=this,aE=d(aA),az=aA._valueGet(),aC=H(aA);if("propertychange"==aD.type&&aA._valueGet().length<=ae()){return !0}"paste"==aD.type&&(window.clipboardData&&window.clipboardData.getData?az=az.substr(0,aC.begin)+window.clipboardData.getData("Text")+az.substr(aC.end,az.length):aD.originalEvent&&aD.originalEvent.clipboardData&&aD.originalEvent.clipboardData.getData&&(az=az.substr(0,aC.begin)+aD.originalEvent.clipboardData.getData("text/plain")+az.substr(aC.end,az.length)));var aB=d.isFunction(R.onBeforePaste)?R.onBeforePaste.call(aA,az,R)||az:az;return x(aA,!0,!1,aj?aB.split("").reverse():aB.split("")),aE.click(),Z(o())===!0&&aE.trigger("complete"),!1}function af(aC){if(t===!0&&"input"==aC.type){return t=!1,!0}var az=this,aA=H(az),aB=az._valueGet();aB=aB.replace(new RegExp("("+s(ay().join(""))+")*"),""),aA.begin>aB.length&&(H(az,aB.length),aA=H(az)),o().length-aB.length!=1||aB.charAt(aA.begin)==o()[aA.begin]||aB.charAt(aA.begin+1)==o()[aA.begin]||M(aA.begin)||(aC.keyCode=d.inputmask.keyCode.BACKSPACE,aw.call(az,aC)),aC.preventDefault()}function G(aA){if(t===!0&&"input"==aA.type){return t=!1,!0}var az=this;x(az,!1,!1);var aB=K().p;Y(az,o(),R.numericInput?ap(aB):aB),Z(o())===!0&&d(az).trigger("complete"),aA.preventDefault()}function P(aA){t=!0;var az=this;return setTimeout(function(){H(az,H(az).begin-1);var aB=d.Event("keypress");aB.which=aA.originalEvent.data.charCodeAt(0),ac=!1,E=!1,J.call(az,aB,void 0,void 0,!1);var aC=K().p;Y(az,o(),R.numericInput?ap(aC):aC)},0),!1}function ao(aA){if(ag=d(aA),ag.is(":input")&&m(ag.attr("type"))){if(ag.data("_inputmask",{maskset:D,opts:R,isRTL:!1}),R.showTooltip&&ag.prop("title",K().mask),("rtl"==aA.dir||R.rightAlign)&&ag.css("text-align","right"),"rtl"==aA.dir||R.numericInput){aA.dir="ltr",ag.removeAttr("dir");var aC=ag.data("_inputmask");aC.isRTL=!0,ag.data("_inputmask",aC),aj=!0}ag.unbind(".inputmask"),ag.removeClass("focus-inputmask"),ag.closest("form").bind("submit",function(){W!=o().join("")&&ag.change(),ag[0]._valueGet&&ag[0]._valueGet()==ay().join("")&&ag[0]._valueSet(""),R.autoUnmask&&R.removeMaskOnSubmit&&ag.inputmask("remove")}).bind("reset",function(){setTimeout(function(){ag.trigger("setvalue")},0)}),ag.bind("mouseenter.inputmask",function(){var aF=d(this),aE=this;!aF.hasClass("focus-inputmask")&&R.showMaskOnHover&&aE._valueGet()!=o().join("")&&Y(aE,o())}).bind("blur.inputmask",function(){var aH=d(this),aF=this;if(aH.data("_inputmask")){var aG=aF._valueGet(),aE=o();aH.removeClass("focus-inputmask"),W!=o().join("")&&aH.change(),R.clearMaskOnLostFocus&&""!=aG&&(aG==ay().join("")?aF._valueSet(""):aq(aF)),Z(aE)===!1&&(aH.trigger("incomplete"),R.clearIncomplete&&(N(),R.clearMaskOnLostFocus?aF._valueSet(""):(aE=ay().slice(),Y(aF,aE))))}}).bind("focus.inputmask",function(){var aG=d(this),aE=this,aF=aE._valueGet();R.showMaskOnFocus&&!aG.hasClass("focus-inputmask")&&(!R.showMaskOnHover||R.showMaskOnHover&&""==aF)&&aE._valueGet()!=o().join("")&&Y(aE,o(),p(r())),aG.addClass("focus-inputmask"),W=o().join("")}).bind("mouseleave.inputmask",function(){var aF=d(this),aE=this;R.clearMaskOnLostFocus&&(aF.hasClass("focus-inputmask")||aE._valueGet()==aF.attr("placeholder")||(aE._valueGet()==ay().join("")||""==aE._valueGet()?aE._valueSet(""):aq(aE)))}).bind("click.inputmask",function(){var aE=this;d(aE).is(":focus")&&setTimeout(function(){var aH=H(aE);if(aH.begin==aH.end){if(R.radixFocus&&""!=R.radixPoint&&-1!=d.inArray(R.radixPoint,o())&&o().join("")==ay().join("")){H(aE,d.inArray(R.radixPoint,o()))}else{var aG=aj?am(aH.begin):aH.begin,aF=p(r(aG));aF>aG?H(aE,M(aG)?aG:p(aG)):H(aE,aF)}}},0)}).bind("dblclick.inputmask",function(){var aE=this;setTimeout(function(){H(aE,0,p(r()))},0)}).bind(g+".inputmask dragdrop.inputmask drop.inputmask",ah).bind("setvalue.inputmask",function(){var aE=this;x(aE,!0,!1),W=o().join(""),(R.clearMaskOnLostFocus||R.clearIncomplete)&&aE._valueGet()==ay().join("")&&aE._valueSet("")}).bind("cut.inputmask",function(aG){t=!0;var aF=this,aI=d(aF),aH=H(aF);S(aF,d.inputmask.keyCode.DELETE,aH);var aE=R.onKeyPress.call(this,aG,o(),K().p,R);au(aF,aE,{begin:K().p,end:K().p}),aF._valueGet()==ay().join("")&&aI.trigger("cleared"),R.showTooltip&&aI.prop("title",K().mask)}).bind("complete.inputmask",R.oncomplete).bind("incomplete.inputmask",R.onincomplete).bind("cleared.inputmask",R.oncleared),ag.bind("keydown.inputmask",aw).bind("keypress.inputmask",J).bind("keyup.inputmask",T).bind("compositionupdate.inputmask",P),"paste"===g&&ag.bind("input.inputmask",G),(b||l||h||i)&&(ag.unbind("input.inputmask"),ag.bind("input.inputmask",af)),ai(aA);var az=d.isFunction(R.onBeforeMask)?R.onBeforeMask.call(aA,aA._valueGet(),R)||aA._valueGet():aA._valueGet();x(aA,!0,!1,az.split("")),W=o().join("");var aB;try{aB=document.activeElement}catch(aD){}Z(o())===!1&&R.clearIncomplete&&N(),R.clearMaskOnLostFocus?o().join("")==ay().join("")?aA._valueSet(""):aq(aA):Y(aA,o()),aB===aA&&(ag.addClass("focus-inputmask"),H(aA,p(r()))),F(aA)}}var W,ag,w,aj=!1,ac=!1,t=!1,E=!1;if(void 0!=v){switch(v.action){case"isComplete":return ag=d(v.el),D=ag.data("_inputmask").maskset,R=ag.data("_inputmask").opts,Z(v.buffer);case"unmaskedvalue":return ag=v.$input,D=ag.data("_inputmask").maskset,R=ag.data("_inputmask").opts,aj=v.$input.data("_inputmask").isRTL,n(v.$input);case"mask":W=o().join(""),ao(v.el);break;case"format":ag=d({}),ag.data("_inputmask",{maskset:D,opts:R,isRTL:R.numericInput}),R.numericInput&&(aj=!0);var q=(d.isFunction(R.onBeforeMask)?R.onBeforeMask.call(ag,v.value,R)||v.value:v.value).split("");return x(ag,!1,!1,aj?q.reverse():q),R.onKeyPress.call(this,void 0,o(),0,R),v.metadata?{value:aj?o().slice().reverse().join(""):o().join(""),metadata:ag.inputmask("getmetadata")}:aj?o().slice().reverse().join(""):o().join("");case"isValid":ag=d({}),ag.data("_inputmask",{maskset:D,opts:R,isRTL:R.numericInput}),R.numericInput&&(aj=!0);var q=v.value.split("");x(ag,!1,!0,aj?q.reverse():q);for(var O=o(),aa=B(),L=O.length-1;L>aa&&!M(L);L--){}return O.splice(aa,L+1-aa),Z(O)&&v.value==O.join("");case"getemptymask":return ag=d(v.el),D=ag.data("_inputmask").maskset,R=ag.data("_inputmask").opts,ay();case"remove":var at=v.el;ag=d(at),D=ag.data("_inputmask").maskset,R=ag.data("_inputmask").opts,at._valueSet(n(ag)),ag.unbind(".inputmask"),ag.removeClass("focus-inputmask"),ag.removeData("_inputmask");var ak;Object.getOwnPropertyDescriptor&&(ak=Object.getOwnPropertyDescriptor(at,"value")),ak&&ak.get?at._valueGet&&Object.defineProperty(at,"value",{get:at._valueGet,set:at._valueSet}):document.__lookupGetter__&&at.__lookupGetter__("value")&&at._valueGet&&(at.__defineGetter__("value",at._valueGet),at.__defineSetter__("value",at._valueSet));try{delete at._valueGet,delete at._valueSet}catch(av){at._valueGet=void 0,at._valueSet=void 0}break;case"getmetadata":if(ag=d(v.el),D=ag.data("_inputmask").maskset,R=ag.data("_inputmask").opts,d.isArray(D.metadata)){for(var ad,al=r(),y=al;y>=0;y--){if(K().validPositions[y]&&void 0!=K().validPositions[y].alternation){ad=K().validPositions[y].alternation;break}}return void 0!=ad?D.metadata[K().validPositions[al].locator[ad]]:D.metadata[0]}return D.metadata}}}if(void 0===d.fn.inputmask){var a=("function"==typeof ScriptEngineMajorVersion?ScriptEngineMajorVersion():new Function("/*@cc_on return @_jscript_version; @*/")()>=10,navigator.userAgent),j=null!==a.match(new RegExp("iphone","i")),b=null!==a.match(new RegExp("android.*safari.*","i")),h=null!==a.match(new RegExp("android.*chrome.*","i")),l=null!==a.match(new RegExp("android.*firefox.*","i")),i=/Kindle/i.test(a)||/Silk/i.test(a)||/KFTT/i.test(a)||/KFOT/i.test(a)||/KFJWA/i.test(a)||/KFJWI/i.test(a)||/KFSOWI/i.test(a)||/KFTHWA/i.test(a)||/KFTHWI/i.test(a)||/KFAPWA/i.test(a)||/KFAPWI/i.test(a),g=k("paste")?"paste":k("input")?"input":"propertychange";d.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:d.noop,onincomplete:d.noop,oncleared:d.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!0,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyUp:d.noop,onKeyPress:d.noop,onKeyDown:d.noop,onBeforeMask:void 0,onBeforePaste:void 0,onUnMask:void 0,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:d.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,rightAlign:!1,radixPoint:"",radixFocus:!1,nojumps:!1,nojumpsThreshold:0,keepStatic:void 0,definitions:{"9":{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:void 0},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},masksCache:{},escapeRegex:function(o){var n=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];return o.replace(new RegExp("(\\"+n.join("|\\")+")","gim"),"\\$1")},format:function(q,n,o){var p=d.extend(!0,{},d.inputmask.defaults,n);return f(p.alias,n,p),e({action:"format",value:q,metadata:o},c(p),p)},isValid:function(p,n){var o=d.extend(!0,{},d.inputmask.defaults,n);return f(o.alias,n,o),e({action:"isValid",value:p},c(o),o)}},d.fn.inputmask=function(r,v,p,s,o){function u(z,x,B){var A=d(z);A.data("inputmask-alias")&&f(A.data("inputmask-alias"),{},x);for(var w in x){var y=A.data("inputmask-"+w.toLowerCase());void 0!=y&&("mask"==w&&0==y.indexOf("[")?(x[w]=y.replace(/[\s[\]]/g,"").split("','"),x[w][0]=x[w][0].replace("'",""),x[w][x[w].length-1]=x[w][x[w].length-1].replace("'","")):x[w]="boolean"==typeof y?y:y.toString(),B&&(B[w]=x[w]))}return x}p=p||e,s=s||"_inputmask";var t,n=d.extend(!0,{},d.inputmask.defaults,v);if("string"==typeof r){switch(r){case"mask":return f(n.alias,v,n),t=c(n,p!==e),void 0==t?this:this.each(function(){p({action:"mask",el:this},d.extend(!0,{},t),u(this,n))});case"unmaskedvalue":var q=d(this);return q.data(s)?p({action:"unmaskedvalue",$input:q}):q.val();case"remove":return this.each(function(){var w=d(this);w.data(s)&&p({action:"remove",el:this})});case"getemptymask":return this.data(s)?p({action:"getemptymask",el:this}):"";case"hasMaskedValue":return this.data(s)?!this.data(s).opts.autoUnmask:!1;case"isComplete":return this.data(s)?p({action:"isComplete",buffer:this[0]._valueGet().split(""),el:this}):!0;case"getmetadata":return this.data(s)?p({action:"getmetadata",el:this}):void 0;case"_detectScope":return f(n.alias,v,n),void 0==o||f(o,v,n)||-1!=d.inArray(o,["mask","unmaskedvalue","remove","getemptymask","hasMaskedValue","isComplete","getmetadata","_detectScope"])||(n.mask=o),d.isFunction(n.mask)&&(n.mask=n.mask.call(this,n)),d.isArray(n.mask);default:return f(n.alias,v,n),f(r,v,n)||(n.mask=r),t=c(n,p!==e),void 0==t?this:this.each(function(){p({action:"mask",el:this},d.extend(!0,{},t),u(this,n))})}}else{if("object"==typeof r){return n=d.extend(!0,{},d.inputmask.defaults,r),f(n.alias,r,n),t=c(n,p!==e),void 0==t?this:this.each(function(){p({action:"mask",el:this},d.extend(!0,{},t),u(this,n))})}if(void 0==r){return this.each(function(){var z=d(this).attr("data-inputmask");if(z&&""!=z){try{z=z.replace(new RegExp("'","g"),'"');var w=d.parseJSON("{"+z+"}");d.extend(!0,w,v),n=d.extend(!0,{},d.inputmask.defaults,w),n=u(this,n),f(n.alias,w,n),n.alias=void 0,d(this).inputmask("mask",n,p)}catch(x){}}if(d(this).attr("data-inputmask-mask")||d(this).attr("data-inputmask-alias")){n=d.extend(!0,{},d.inputmask.defaults,{});var y={};n=u(this,n,y),f(n.alias,y,n),n.alias=void 0,d(this).inputmask("mask",n,p)}})}}}}return d.fn.inputmask});