/*!
* jquery.inputmask.js
* http://github.com/RobinHerbots/jquery.inputmask
* Copyright (c) 2010 - 2014 Robin Herbots
* Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
* Version: 3.1.28
*/
;!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(d){function l(o){var r=document.createElement("input"),q="on"+o,p=q in r;return p||(r.setAttribute(q,"return;"),p="function"==typeof r[q]),r=null,p}function n(q){var o="text"==q||"tel"==q;if(!o){var p=document.createElement("input");p.setAttribute("type",q),o="text"===p.type,p=null}return o}function f(p,q,r){var o=r.aliases[p];return o?(o.alias&&f(o.alias,void 0,r),d.extend(!0,r,o),d.extend(!0,r,q),!0):!1}function c(s,t){function r(K){function x(S,Q,R,P){this.matches=[],this.isGroup=S||!1,this.isOptional=Q||!1,this.isQuantifier=R||!1,this.isAlternator=P||!1,this.quantifier={min:1,max:1}}function u(X,S,U){var Q=s.definitions[S],R=0==X.matches.length;if(U=void 0!=U?U:X.matches.length,Q&&!B){for(var W=Q.prevalidator,Z=W?W.length:0,T=1;T<Q.cardinality;T++){var Y=Z>=T?W[T-1]:[],P=Y.validator,V=Y.cardinality;X.matches.splice(U++,0,{fn:P?"string"==typeof P?new RegExp(P):new function(){this.test=P}():new RegExp("."),cardinality:V?V:1,optionality:X.isOptional,newBlockMarker:R,casing:Q.casing,def:Q.definitionSymbol||S,placeholder:Q.placeholder,mask:S})}X.matches.splice(U++,0,{fn:Q.validator?"string"==typeof Q.validator?new RegExp(Q.validator):new function(){this.test=Q.validator}():new RegExp("."),cardinality:Q.cardinality,optionality:X.isOptional,newBlockMarker:R,casing:Q.casing,def:Q.definitionSymbol||S,placeholder:Q.placeholder,mask:S})}else{X.matches.splice(U++,0,{fn:null,cardinality:0,optionality:X.isOptional,newBlockMarker:R,casing:null,def:S,placeholder:void 0,mask:S}),B=!1}}for(var C,G,A,L,N,M,E=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})\??|[^.?*+^${[]()|\\]+|./g,B=!1,w=new x(),O=[],z=[];C=E.exec(K);){switch(G=C[0],G.charAt(0)){case s.optionalmarker.end:case s.groupmarker.end:if(A=O.pop(),O.length>0){if(L=O[O.length-1],L.matches.push(A),L.isAlternator){N=O.pop();for(var D=0;D<N.matches.length;D++){N.matches[D].isGroup=!1}O.length>0?(L=O[O.length-1],L.matches.push(N)):w.matches.push(N)}}else{w.matches.push(A)}break;case s.optionalmarker.start:O.push(new x(!1,!0));break;case s.groupmarker.start:O.push(new x(!0));break;case s.quantifiermarker.start:var F=new x(!1,!1,!0);G=G.replace(/[{}]/g,"");var H=G.split(","),J=isNaN(H[0])?H[0]:parseInt(H[0]),I=1==H.length?J:isNaN(H[1])?H[1]:parseInt(H[1]);if(("*"==I||"+"==I)&&(J="*"==I?0:1),F.quantifier={min:J,max:I},O.length>0){var v=O[O.length-1].matches;if(C=v.pop(),!C.isGroup){var y=new x(!0);y.matches.push(C),C=y}v.push(C),v.push(F)}else{if(C=w.matches.pop(),!C.isGroup){var y=new x(!0);y.matches.push(C),C=y}w.matches.push(C),w.matches.push(F)}break;case s.escapeChar:B=!0;break;case s.alternatormarker:O.length>0?(L=O[O.length-1],M=L.matches.pop()):M=w.matches.pop(),M.isAlternator?O.push(M):(N=new x(!1,!1,!1,!0),N.matches.push(M),O.push(N));break;default:if(O.length>0){if(L=O[O.length-1],L.matches.length>0&&(M=L.matches[L.matches.length-1],M.isGroup&&(M.isGroup=!1,u(M,s.groupmarker.start,0),u(M,s.groupmarker.end))),u(L,G),L.isAlternator){N=O.pop();for(var D=0;D<N.matches.length;D++){N.matches[D].isGroup=!1}O.length>0?(L=O[O.length-1],L.matches.push(N)):w.matches.push(N)}}else{w.matches.length>0&&(M=w.matches[w.matches.length-1],M.isGroup&&(M.isGroup=!1,u(M,s.groupmarker.start,0),u(M,s.groupmarker.end))),u(w,G)}}}return w.matches.length>0&&(M=w.matches[w.matches.length-1],M.isGroup&&(M.isGroup=!1,u(M,s.groupmarker.start,0),u(M,s.groupmarker.end)),z.push(w)),z}function q(u,w){if(s.numericInput&&s.multi!==!0){u=u.split("").reverse();for(var v=0;v<u.length;v++){u[v]==s.optionalmarker.start?u[v]=s.optionalmarker.end:u[v]==s.optionalmarker.end?u[v]=s.optionalmarker.start:u[v]==s.groupmarker.start?u[v]=s.groupmarker.end:u[v]==s.groupmarker.end&&(u[v]=s.groupmarker.start)}u=u.join("")}if(void 0==u||""==u){return void 0}if(1==u.length&&0==s.greedy&&0!=s.repeat&&(s.placeholder=""),s.repeat>0||"*"==s.repeat||"+"==s.repeat){var x="*"==s.repeat?0:"+"==s.repeat?1:s.repeat;u=s.groupmarker.start+u+s.groupmarker.end+s.quantifiermarker.start+x+","+s.repeat+s.quantifiermarker.end}return void 0==d.inputmask.masksCache[u]&&(d.inputmask.masksCache[u]={mask:u,maskToken:r(u),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:w}),d.extend(!0,{},d.inputmask.masksCache[u])}var o=void 0;if(d.isFunction(s.mask)&&(s.mask=s.mask.call(this,s)),d.isArray(s.mask)){if(t){o=[],d.each(s.mask,function(u,v){o.push(void 0==v.mask||d.isFunction(v.mask)?q(v.toString(),v):q(v.mask.toString(),v))})}else{s.keepStatic=void 0==s.keepStatic?!0:s.keepStatic;var p="(";d.each(s.mask,function(u,v){p.length>1&&(p+=")|("),p+=void 0==v.mask||d.isFunction(v.mask)?v.toString():v.mask.toString()}),p+=")",o=q(p,s.mask)}}else{s.mask&&(o=void 0==s.mask.mask||d.isFunction(s.mask.mask)?q(s.mask.toString(),s.mask):q(s.mask.mask.toString(),s.mask))}return o}function e(w,E,S){function at(aJ,aI,aC){aI=aI||0;var aE,aG,aF,aD=[],aH=0;do{if(aJ===!0&&L().validPositions[aH]){var aB=L().validPositions[aH];aG=aB.match,aE=aB.locator.slice(),aD.push(aC===!0?aB.input:ay(aH,aG))}else{if(aI>aH){var aA=B(aH,aE,aH-1);aF=aA[0]}else{aF=D(aH,aE,aH-1)}aG=aF.match,aE=aF.locator.slice(),aD.push(ay(aH,aG))}aH++}while((void 0==x||x>aH-1)&&null!=aG.fn||null==aG.fn&&""!=aG.def||aI>=aH);return aD.pop(),aD}function L(){return E}function O(aA){var aB=L();aB.buffer=void 0,aB.tests={},aA!==!0&&(aB._buffer=void 0,aB.validPositions={},aB.p=0)}function s(aB){var aH=L(),aE=-1,aC=aH.validPositions;void 0==aB&&(aB=-1);var aF=aE,aG=aE;for(var aA in aC){var aD=parseInt(aA);(-1==aB||null!=aC[aD].match.fn)&&(aB>aD&&(aF=aD),aD>=aB&&(aG=aD))}return aE=aB-aF>1||aB>aG?aF:aG}function A(aG,aH,aD){if(S.insertMode&&void 0!=L().validPositions[aG]&&void 0==aD){var aC,aI=d.extend(!0,{},L().validPositions),aE=s();for(aC=aG;aE>=aC;aC++){delete L().validPositions[aC]}L().validPositions[aG]=aH;var aB,aA=!0;for(aC=aG;aE>=aC;aC++){var aJ=aI[aC];if(void 0!=aJ){var aF=L().validPositions;aB=!S.keepStatic&&(void 0!=aF[aC+1]&&B(aC+1,aF[aC].locator.slice(),aC).length>1||aF[aC]&&void 0!=aF[aC].alternation)?aC+1:q(aC),aA=ao(aB,aJ.match.def)?aA&&v(aB,aJ.input,!0,!0)!==!1:null==aJ.match.fn}if(!aA){break}}if(!aA){return L().validPositions=d.extend(!0,{},aI),!1}}else{L().validPositions[aG]=aH}return !0}function W(aG,aA){var aD,aB=aG;for(void 0!=L().validPositions[aG]&&L().validPositions[aG].input==S.radixPoint&&(aA++,aB++),aD=aB;aA>aD;aD++){void 0==L().validPositions[aD]||L().validPositions[aD].input==S.radixPoint&&aD!=s()||delete L().validPositions[aD]}for(aD=aA;aD<=s();){var aC=L().validPositions[aD],aE=L().validPositions[aB];void 0!=aC&&void 0==aE?(ao(aB,aC.match.def)&&v(aB,aC.input,!0)!==!1&&(delete L().validPositions[aD],aD++),aB++):aD++}var aF=s();aF>=aG&&void 0!=L().validPositions[aF]&&L().validPositions[aF].input==S.radixPoint&&delete L().validPositions[aF],O(!0)}function D(aH,aE,aC){function aD(aP,aM,aK){for(var aL=!1,aN=aP.locator[aM].toString().split(","),aO=0;aO<aN.length;aO++){if(-1!=d.inArray(aN[aO],aK)){aL=!0;break}}return aL}for(var aF,aB=B(aH,aE,aC),aG=s(),aI=L().validPositions[aG]||B(0)[0],aA=void 0!=aI.alternation?aI.locator[aI.alternation].split(","):[],aJ=0;aJ<aB.length&&(aF=aB[aJ],!(S.greedy||aF.match&&(aF.match.optionality===!1||aF.match.newBlockMarker===!1)&&aF.match.optionalQuantifier!==!0&&(void 0==aI.alternation||void 0!=aF.locator[aI.alternation]&&aD(aF,aI.alternation,aA))));aJ++){}return aF}function ac(aA){return L().validPositions[aA]?L().validPositions[aA].match:B(aA)[0].match}function ao(aE,aD){for(var aC=!1,aA=B(aE),aB=0;aB<aA.length;aB++){if(aA[aB].match&&aA[aB].match.def==aD){aC=!0;break}}return aC}function B(aJ,aD,aC){function aL(aS,aP,aR,aN){function aT(a5,bf,be){if(aG>10000){return alert("jquery.inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+L().mask),!0}if(aG==aJ&&void 0==a5.matches){return aF.push({match:a5,locator:bf.reverse()}),!0}if(void 0!=a5.matches){if(a5.isGroup&&be!==!0){if(a5=aT(aS.matches[aQ+1],bf)){return !0}}else{if(a5.isOptional){var a8=a5;if(a5=aL(a5,aP,bf,be)){var aV=aF[aF.length-1].match,bb=0==d.inArray(aV,a8.matches);bb&&(aK=!0),aG=aJ}}else{if(a5.isAlternator){var aX,aY=a5,aU=[],aZ=aF.slice(),a1=bf.length,a2=aP.length>0?aP.shift():-1;if(-1==a2||"string"==typeof a2){var bd,bg=aG,a6=aP.slice();"string"==typeof a2&&(bd=a2.split(","));for(var a7=0;a7<aY.matches.length;a7++){aF=[],a5=aT(aY.matches[a7],[a7].concat(bf),be)||a5,aX=aF.slice(),aG=bg,aF=[];for(var bc=0;bc<a6.length;bc++){aP[bc]=a6[bc]}for(var ba=0;ba<aX.length;ba++){for(var a4=aX[ba],a9=0;a9<aU.length;a9++){var aW=aU[a9];if(a4.match.mask==aW.match.mask&&("string"!=typeof a2||-1!=d.inArray(a4.locator[a1].toString(),bd))){aX.splice(ba,1),aW.locator[a1]=aW.locator[a1]+","+a4.locator[a1],aW.alternation=a1;break}}}aU=aU.concat(aX)}"string"==typeof a2&&(aU=d.map(aU,function(bj,bi){if(isFinite(bi)){var bm,bk=bj.locator[a1].toString().split(",");bj.locator[a1]=void 0,bj.alternation=void 0;for(var bl=0;bl<bk.length;bl++){bm=-1!=d.inArray(bk[bl],bd),bm&&(void 0!=bj.locator[a1]?(bj.locator[a1]+=",",bj.alternation=a1,bj.locator[a1]+=bk[bl]):bj.locator[a1]=parseInt(bk[bl]))}if(void 0!=bj.locator[a1]){return bj}}})),aF=aZ.concat(aU),aK=!0}else{a5=aT(aY.matches[a2],[a2].concat(bf),be)}if(a5){return !0}}else{if(a5.isQuantifier&&be!==!0){var bh=a5;S.greedy=S.greedy&&isFinite(bh.quantifier.max);for(var a0=aP.length>0&&be!==!0?aP.shift():0;a0<(isNaN(bh.quantifier.max)?a0+1:bh.quantifier.max)&&aJ>=aG;a0++){var a3=aS.matches[d.inArray(bh,aS.matches)-1];if(a5=aT(a3,[a0].concat(bf),!0)){var aV=aF[aF.length-1].match;aV.optionalQuantifier=a0>bh.quantifier.min-1;var bb=0==d.inArray(aV,a3.matches);if(bb){if(a0>bh.quantifier.min-1){aK=!0,aG=aJ;break}return !0}return !0}}}else{if(a5=aL(a5,aP,bf,be)){return !0}}}}}}else{aG++}}for(var aQ=aP.length>0?aP.shift():0;aQ<aS.matches.length;aQ++){if(aS.matches[aQ].isQuantifier!==!0){var aO=aT(aS.matches[aQ],[aQ].concat(aR),aN);if(aO&&aG==aJ){return aO}if(aG>aJ){break}}}}var aA=L().maskToken,aG=aD?aC:0,aM=aD||[0],aF=[],aK=!1;if(void 0==aD){for(var aI,aH=aJ-1;void 0==(aI=L().validPositions[aH])&&aH>-1;){aH--}if(void 0!=aI&&aH>-1){aG=aH,aM=aI.locator.slice()}else{for(aH=aJ-1;void 0==(aI=L().tests[aH])&&aH>-1;){aH--}void 0!=aI&&aH>-1&&(aG=aH,aM=aI[0].locator.slice())}}for(var aB=aM.shift();aB<aA.length;aB++){var aE=aL(aA[aB],aM,[aB]);if(aE&&aG==aJ||aG>aJ){break}}return(0==aF.length||aK)&&aF.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]}),L().tests[aJ]=d.extend(!0,[],aF),L().tests[aJ]}function az(){return void 0==L()._buffer&&(L()._buffer=at(!1,1)),L()._buffer}function p(){return void 0==L().buffer&&(L().buffer=at(!0,s(),!0)),L().buffer}function Y(aD,aB){var aA=p().slice();if(aD===!0){O(),aD=0,aB=aA.length}else{for(var aC=aD;aB>aC;aC++){delete L().validPositions[aC],delete L().tests[aC]}}for(var aC=aD;aB>aC;aC++){aA[aC]!=S.skipOptionalPartCharacter&&v(aC,aA[aC],!0,!0)}}function V(aA,aB){switch(aB.casing){case"upper":aA=aA.toUpperCase();break;case"lower":aA=aA.toLowerCase()}return aA}function v(aJ,aH,aL,aG){function aD(aO,aR,aQ,aN){var aP=!1;return d.each(B(aO),function(a0,aU){for(var aZ=aU.match,aV=aR?1:0,aT="",aX=(p(),aZ.cardinality);aX>aV;aX--){aT+=R(aO-(aX-1))}if(aR&&(aT+=aR),aP=null!=aZ.fn?aZ.fn.test(aT,L(),aO,aQ,S):aR!=aZ.def&&aR!=S.skipOptionalPartCharacter||""==aZ.def?!1:{c:aZ.def,pos:aO},aP!==!1){var aW=void 0!=aP.c?aP.c:aR;aW=aW==S.skipOptionalPartCharacter&&null===aZ.fn?aZ.def:aW;var aS=aO;if(void 0!=aP.remove&&W(aP.remove,aP.remove+1),aP.refreshFromBuffer){var aY=aP.refreshFromBuffer;if(aQ=!0,Y(aY===!0?aY:aY.start,aY.end),void 0==aP.pos&&void 0==aP.c){return aP.pos=s(),!1}if(aS=void 0!=aP.pos?aP.pos:aO,aS!=aO){return aP=d.extend(aP,v(aS,aW,!0)),!1}}else{if(aP!==!0&&void 0!=aP.pos&&aP.pos!=aO&&(aS=aP.pos,Y(aO,aS),aS!=aO)){return aP=d.extend(aP,v(aS,aW,!0)),!1}}return 1!=aP&&void 0==aP.pos&&void 0==aP.c?!1:(a0>0&&O(!0),A(aS,d.extend({},aU,{input:V(aW,aZ)}),aN)||(aP=!1),!1)}}),aP}function aE(aQ,a0,a4,aY){var aS,a2,aN=d.extend(!0,{},L().validPositions);for(aS=s();aS>=0;aS--){if(L().validPositions[aS]&&void 0!=L().validPositions[aS].alternation){a2=L().validPositions[aS].alternation;break}}if(void 0!=a2){for(var aU in L().validPositions){if(parseInt(aU)>parseInt(aS)&&void 0===L().validPositions[aU].alternation){for(var aR=L().validPositions[aU],aW=aR.locator[a2],a1=L().validPositions[aS].locator[a2].split(","),aT=0;aT<a1.length;aT++){if(aW<a1[aT]){for(var aP,a3,aV=aU-1;aV>=0;aV--){if(aP=L().validPositions[aV],void 0!=aP){a3=aP.locator[a2],aP.locator[a2]=a1[aT];break}}if(aW!=aP.locator[a2]){for(var aX=p().slice(),aZ=aU;aZ<s()+1;aZ++){delete L().validPositions[aZ],delete L().tests[aZ]}O(!0),S.keepStatic=!S.keepStatic;for(var aZ=aU;aZ<aX.length;aZ++){aX[aZ]!=S.skipOptionalPartCharacter&&v(s()+1,aX[aZ],!1,!0)}aP.locator[a2]=a3;var aO=v(aQ,a0,a4,aY);if(S.keepStatic=!S.keepStatic,aO){return aO}O(),L().validPositions=d.extend(!0,{},aN)}}}break}}}return !1}aL=aL===!0;for(var aF=p(),aI=aJ-1;aI>-1&&(!L().validPositions[aI]||null!=L().validPositions[aI].match.fn);aI--){void 0==L().validPositions[aI]&&(!N(aI)||aF[aI]!=ay(aI))&&B(aI).length>1&&aD(aI,aF[aI],!0)}var aK=aJ,aM=!1;if(aG&&aK>=af()&&O(!0),aK<af()&&(aM=aD(aK,aH,aL,aG),!aL&&aM===!1)){var aA=L().validPositions[aK];if(!aA||null!=aA.match.fn||aA.match.def!=aH&&aH!=S.skipOptionalPartCharacter){if((S.insertMode||void 0==L().validPositions[q(aK)])&&!N(aK)){for(var aC=aK+1,aB=q(aK);aB>=aC;aC++){if(aM=aD(aC,aH,aL,aG),aM!==!1){aK=aC;break}}}}else{aM={caret:q(aK)}}}return aM===!1&&S.keepStatic&&aa(aF)&&(aM=aE(aJ,aH,aL,aG)),aM===!0&&(aM={pos:aK}),aM}function N(aB){var aA=ac(aB);return null!=aA.fn?aA.fn:!1}function af(){var aE;if(x=ah.prop("maxLength"),-1==x&&(x=void 0),0==S.greedy){var aD,aC=s(),aA=L().validPositions[aC],aB=void 0!=aA?aA.locator.slice():void 0;for(aD=aC+1;void 0==aA||null!=aA.match.fn||null==aA.match.fn&&""!=aA.match.def;aD++){aA=D(aD,aB,aD-1),aB=aA.locator.slice()}aE=aD}else{aE=p().length}return void 0==x||x>aE?aE:x}function q(aC){var aB=af();if(aC>=aB){return aB}for(var aA=aC;++aA<aB&&!N(aA)&&(S.nojumps!==!0||S.nojumpsThreshold>aA);){}return aA}function aq(aB){var aA=aB;if(0>=aA){return 0}for(;--aA>0&&!N(aA);){}return aA}function R(aA){return void 0==L().validPositions[aA]?ay(aA):L().validPositions[aA].input}function Z(aB,aA,aC){aB._valueSet(aA.join("")),void 0!=aC&&I(aB,aC)}function ay(aC,aB){aB=aB||ac(aC);var aA=d.isFunction(aB.placeholder)?aB.placeholder.call(this,S):aB.placeholder;return void 0!=aA?aA:null==aB.fn?aB.def:S.placeholder.charAt(aC%S.placeholder.length)}function y(aD,aF,aC,aH){var aA=void 0!=aH?aH.slice():aD._valueGet().split("");O(),aF&&aD._valueSet("");var aE=az().slice(0,q(-1)).join(""),aG=aA.join("").match(new RegExp(t(aE),"g"));if(aG&&aG.length>1&&aA.splice(0,aE.length),d.each(aA,function(aJ,aI){var aK=s();-1==d.inArray(aI,az().slice(aK+1,L().p))||aC?(K.call(aD,void 0,!0,aI.charCodeAt(0),!1,aC,aC?aJ:L().p),aC=aC||aJ>0&&aJ>L().p):K.call(aD,void 0,!0,aI.charCodeAt(0),!1,!0,aK+1)}),aF){var aB=S.onKeyPress.call(this,void 0,p(),0,S);av(aD,aB),Z(aD,p(),d(aD).is(":focus")?q(s(0)):void 0)}}function t(aA){return d.inputmask.escapeRegex.call(this,aA)}function o(aF){if(aF.data("_inputmask")&&!aF.hasClass("hasDatepicker")){var aC=[],aE=L().validPositions;for(var aD in aE){aE[aD].match&&null!=aE[aD].match.fn&&aC.push(aE[aD].input)}var aA=(ak?aC.reverse():aC).join(""),aB=(ak?p().slice().reverse():p()).join("");return d.isFunction(S.onUnMask)&&(aA=S.onUnMask.call(aF,aB,aA,S)||aA),aA}return aF[0]._valueGet()}function an(aB){if(ak&&"number"==typeof aB&&(!S.greedy||""!=S.placeholder)){var aA=p().length;aB=aA-aB}return aB}function I(aC,aD,aA){var aB,aF=aC.jquery&&aC.length>0?aC[0]:aC;if("number"!=typeof aD){var aE=d(aF).data("_inputmask");return !d(aF).is(":visible")&&aE&&void 0!=aE.caret?(aD=aE.caret.begin,aA=aE.caret.end):aF.setSelectionRange?(aD=aF.selectionStart,aA=aF.selectionEnd):document.selection&&document.selection.createRange&&(aB=document.selection.createRange(),aD=0-aB.duplicate().moveStart("character",-100000),aA=aD+aB.text.length),aD=an(aD),aA=an(aA),{begin:aD,end:aA}}aD=an(aD),aA=an(aA),aA="number"==typeof aA?aA:aD;var aE=d(aF).data("_inputmask")||{};aE.caret={begin:aD,end:aA},d(aF).data("_inputmask",aE),d(aF).is(":visible")&&(aF.scrollLeft=aF.scrollWidth,0==S.insertMode&&aD==aA&&aA++,aF.setSelectionRange?(aF.selectionStart=aD,aF.selectionEnd=aA):aF.createTextRange&&(aB=aF.createTextRange(),aB.collapse(!0),aB.moveEnd("character",aA),aB.moveStart("character",aD),aB.select()))}function C(aE){var aI,aG,aC=p(),aB=aC.length,aH=s(),aF={},aJ=L().validPositions[aH],aD=void 0!=aJ?aJ.locator.slice():void 0;for(aI=aH+1;aI<aC.length;aI++){aG=D(aI,aD,aI-1),aD=aG.locator.slice(),aF[aI]=d.extend(!0,{},aG)}var aA=aJ&&void 0!=aJ.alternation?aJ.locator[aJ.alternation].split(","):[];for(aI=aB-1;aI>aH&&(aG=aF[aI].match,(aG.optionality||aG.optionalQuantifier||aJ&&void 0!=aJ.alternation&&void 0!=aF[aI].locator[aJ.alternation]&&-1!=d.inArray(aF[aI].locator[aJ.alternation].toString(),aA))&&aC[aI]==ay(aI,aG));aI--){aB--}return aE?{l:aB,def:aF[aB]?aF[aB].match:void 0}:aB}function ar(aC){for(var aB=p(),aE=aB.slice(),aD=C(),aA=aE.length-1;aA>aD&&!N(aA);aA--){}aE.splice(aD,aA+1-aD),Z(aC,aE)}function aa(aC){if(d.isFunction(S.isComplete)){return S.isComplete.call(ah,aC,S)}if("*"==S.repeat){return void 0}var aB=!1,aD=C(!0),aF=aq(aD.l),aG=s();if(aG==aF&&(void 0==aD.def||aD.def.newBlockMarker||aD.def.optionalQuantifier)){aB=!0;for(var aE=0;aF>=aE;aE++){var aA=N(aE);if(aA&&(void 0==aC[aE]||aC[aE]==ay(aE))||!aA&&aC[aE]!=ay(aE)){aB=!1;break}}}return aB}function J(aB,aA){return ak?aB-aA>1||aB-aA==1&&S.insertMode:aA-aB>1||aA-aB==1&&S.insertMode}function G(aB){var aA=d._data(aB).events;d.each(aA,function(aC,aD){d.each(aD,function(aE,aF){if("inputmask"==aF.namespace&&"setvalue"!=aF.type){var aG=aF.handler;aF.handler=function(aH){return this.readOnly||this.disabled?void aH.preventDefault:aG.apply(this,arguments)}}})})}function aj(aF){function aC(aJ){if(void 0==d.valHooks[aJ]||1!=d.valHooks[aJ].inputmaskpatch){var aI=d.valHooks[aJ]&&d.valHooks[aJ].get?d.valHooks[aJ].get:function(aK){return aK.value},aH=d.valHooks[aJ]&&d.valHooks[aJ].set?d.valHooks[aJ].set:function(aK,aL){return aK.value=aL,aK};d.valHooks[aJ]={get:function(aN){var aL=d(aN);if(aL.data("_inputmask")){if(aL.data("_inputmask").opts.autoUnmask){return aL.inputmask("unmaskedvalue")}var aK=aI(aN),aO=aL.data("_inputmask"),aP=aO.maskset,aM=aP._buffer;return aM=aM?aM.join(""):"",aK!=aM?aK:""}return aI(aN)},set:function(aM,aO){var aK,aL=d(aM),aN=aL.data("_inputmask");return aN?(aK=aH(aM,d.isFunction(aN.opts.onBeforeMask)?aN.opts.onBeforeMask.call(au,aO,aN.opts)||aO:aO),aL.triggerHandler("setvalue.inputmask")):aK=aH(aM,aO),aK},inputmaskpatch:!0}}}function aA(){var aI=d(this),aH=d(this).data("_inputmask");return aH?aH.opts.autoUnmask?aI.inputmask("unmaskedvalue"):aE.call(this)!=az().join("")?aE.call(this):"":aE.call(this)}function aG(aI){var aH=d(this).data("_inputmask");aH?(aB.call(this,d.isFunction(aH.opts.onBeforeMask)?aH.opts.onBeforeMask.call(au,aI,aH.opts)||aI:aI),d(this).triggerHandler("setvalue.inputmask")):aB.call(this,aI)}function aD(aL){d(aL).bind("mouseenter.inputmask",function(){var aO=d(this),aM=this,aN=aM._valueGet();""!=aN&&aN!=p().join("")&&aO.trigger("setvalue")});var aK=d._data(aL).events,aI=aK.mouseover;if(aI){for(var aH=aI[aI.length-1],aJ=aI.length-1;aJ>0;aJ--){aI[aJ]=aI[aJ-1]}aI[0]=aH}}var aE,aB;if(!aF._valueGet){if(Object.getOwnPropertyDescriptor){Object.getOwnPropertyDescriptor(aF,"value")}document.__lookupGetter__&&aF.__lookupGetter__("value")?(aE=aF.__lookupGetter__("value"),aB=aF.__lookupSetter__("value"),aF.__defineGetter__("value",aA),aF.__defineSetter__("value",aG)):(aE=function(){return aF.value},aB=function(aH){aF.value=aH},aC(aF.type),aD(aF)),aF._valueGet=function(){return ak?aE.call(this).split("").reverse().join(""):aE.call(this)},aF._valueSet=function(aH){aB.call(this,ak?aH.split("").reverse().join(""):aH)}}}function T(aC,aB,aF){function aE(){if(S.keepStatic){O(!0);var aH,aG=[];for(aH=s();aH>=0;aH--){if(L().validPositions[aH]){if(void 0!=L().validPositions[aH].alternation){break}aG.push(L().validPositions[aH].input),delete L().validPositions[aH]}}if(aH>0){for(;aG.length>0;){L().p=q(s()),K.call(aC,void 0,!0,aG.pop().charCodeAt(0),!1,!1,L().p)}}}}if((S.numericInput||ak)&&(aB==d.inputmask.keyCode.BACKSPACE?aB=d.inputmask.keyCode.DELETE:aB==d.inputmask.keyCode.DELETE&&(aB=d.inputmask.keyCode.BACKSPACE),ak)){var aD=aF.end;aF.end=aF.begin,aF.begin=aD}aB==d.inputmask.keyCode.BACKSPACE&&aF.end-aF.begin<=1?aF.begin=aq(aF.begin):aB==d.inputmask.keyCode.DELETE&&aF.begin==aF.end&&aF.end++,W(aF.begin,aF.end),aE();var aA=s(aF.begin);aA<aF.begin?(-1==aA&&O(),L().p=q(aA)):L().p=aF.begin}function av(aA,aD,aB){if(aD&&aD.refreshFromBuffer){var aC=aD.refreshFromBuffer;Y(aC===!0?aC:aC.start,aC.end),O(!0),void 0!=aB&&(Z(aA,p()),I(aA,aD.caret||aB.begin,aD.caret||aB.end))}}function ax(aE){ad=!1;var aC=this,aG=d(aC),aB=aE.keyCode,aF=I(aC);aB==d.inputmask.keyCode.BACKSPACE||aB==d.inputmask.keyCode.DELETE||k&&127==aB||aE.ctrlKey&&88==aB&&!l("cut")?(aE.preventDefault(),88==aB&&(X=p().join("")),T(aC,aB,aF),Z(aC,p(),L().p),aC._valueGet()==az().join("")&&aG.trigger("cleared"),S.showTooltip&&aG.prop("title",L().mask)):aB==d.inputmask.keyCode.END||aB==d.inputmask.keyCode.PAGE_DOWN?setTimeout(function(){var aH=q(s());S.insertMode||aH!=af()||aE.shiftKey||aH--,I(aC,aE.shiftKey?aF.begin:aH,aH)},0):aB==d.inputmask.keyCode.HOME&&!aE.shiftKey||aB==d.inputmask.keyCode.PAGE_UP?I(aC,0,aE.shiftKey?aF.begin:0):aB==d.inputmask.keyCode.ESCAPE||90==aB&&aE.ctrlKey?(y(aC,!0,!1,X.split("")),aG.click()):aB!=d.inputmask.keyCode.INSERT||aE.shiftKey||aE.ctrlKey?0!=S.insertMode||aE.shiftKey||(aB==d.inputmask.keyCode.RIGHT?setTimeout(function(){var aH=I(aC);I(aC,aH.begin)},0):aB==d.inputmask.keyCode.LEFT&&setTimeout(function(){var aH=I(aC);I(aC,ak?aH.begin+1:aH.begin-1)},0)):(S.insertMode=!S.insertMode,I(aC,S.insertMode||aF.begin!=af()?aF.begin:aF.begin-1));var aA=I(aC),aD=S.onKeyDown.call(this,aE,p(),aA.begin,S);av(aC,aD,aA),F=-1!=d.inArray(aB,S.ignorables)}function K(aN,aE,aM,aA,aS,aH){if(void 0==aM&&ad){return !1}ad=!0;var aI=this,aB=d(aI);aN=aN||window.event;var aM=aE?aM:aN.which||aN.charCode||aN.keyCode;if(!(aE===!0||aN.ctrlKey&&aN.altKey)&&(aN.ctrlKey||aN.metaKey||F)){return !0}if(aM){aE!==!0&&46==aM&&0==aN.shiftKey&&","==S.radixPoint&&(aM=44);var aF,aG=aE?{begin:aH,end:aH}:I(aI),aP=String.fromCharCode(aM),aC=J(aG.begin,aG.end);aC&&(L().undoPositions=d.extend(!0,{},L().validPositions),T(aI,d.inputmask.keyCode.DELETE,aG),S.insertMode||(S.insertMode=!S.insertMode,A(aG.begin,aS),S.insertMode=!S.insertMode),aC=!S.multi),L().writeOutBuffer=!0;var aK=ak&&!aC?aG.end:aG.begin,aD=v(aK,aP,aS);if(aD!==!1){if(aD!==!0&&(aK=void 0!=aD.pos?aD.pos:aK,aP=void 0!=aD.c?aD.c:aP),O(!0),void 0!=aD.caret){aF=aD.caret}else{var aR=L().validPositions;aF=!S.keepStatic&&(void 0!=aR[aK+1]&&B(aK+1,aR[aK].locator.slice(),aK).length>1||void 0!=aR[aK].alternation)?aK+1:q(aK)}L().p=aF}if(aA!==!1){var aJ=this;if(setTimeout(function(){S.onKeyValidation.call(aJ,aD,S)},0),L().writeOutBuffer&&aD!==!1){var aL=p();Z(aI,aL,aE?void 0:S.numericInput?aq(aF):aF),aE!==!0&&setTimeout(function(){aa(aL)===!0&&aB.trigger("complete"),u=!0,aB.trigger("input")},0)}else{aC&&(L().buffer=void 0,L().validPositions=L().undoPositions)}}else{aC&&(L().buffer=void 0,L().validPositions=L().undoPositions)}if(S.showTooltip&&aB.prop("title",L().mask),aN&&1!=aE){aN.preventDefault();var aO=I(aI),aQ=S.onKeyPress.call(this,aN,p(),aO.begin,S);av(aI,aQ,aO)}}}function U(aE){var aG=d(this),aD=this,aC=aE.keyCode,aB=p(),aA=I(aD),aF=S.onKeyUp.call(this,aE,aB,aA.begin,S);av(aD,aF,aA),aC==d.inputmask.keyCode.TAB&&S.showMaskOnFocus&&(aG.hasClass("focus-inputmask")&&0==aD._valueGet().length?(O(),aB=p(),Z(aD,aB),I(aD,0),X=p().join("")):(Z(aD,aB),I(aD,an(0),an(af()))))}function ai(aE){if(u===!0&&"input"==aE.type){return u=!1,!0}var aB=this,aF=d(aB),aA=aB._valueGet(),aD=I(aB);if("propertychange"==aE.type&&aB._valueGet().length<=af()){return !0}"paste"==aE.type&&(window.clipboardData&&window.clipboardData.getData?aA=aA.substr(0,aD.begin)+window.clipboardData.getData("Text")+aA.substr(aD.end,aA.length):aE.originalEvent&&aE.originalEvent.clipboardData&&aE.originalEvent.clipboardData.getData&&(aA=aA.substr(0,aD.begin)+aE.originalEvent.clipboardData.getData("text/plain")+aA.substr(aD.end,aA.length)));var aC=d.isFunction(S.onBeforePaste)?S.onBeforePaste.call(aB,aA,S)||aA:aA;return y(aB,!0,!1,ak?aC.split("").reverse():aC.split("")),aF.click(),aa(p())===!0&&aF.trigger("complete"),!1}function ag(aD){if(u===!0&&"input"==aD.type){return u=!1,!0}var aA=this,aB=I(aA),aC=aA._valueGet();aC=aC.replace(new RegExp("("+t(az().join(""))+")*"),""),aB.begin>aC.length&&(I(aA,aC.length),aB=I(aA)),p().length-aC.length!=1||aC.charAt(aB.begin)==p()[aB.begin]||aC.charAt(aB.begin+1)==p()[aB.begin]||N(aB.begin)||(aD.keyCode=d.inputmask.keyCode.BACKSPACE,ax.call(aA,aD)),aD.preventDefault()}function H(aE){if(u===!0&&"input"==aE.type){return u=!1,!0}var aB=this,aC=I(aB),aD=aB._valueGet();I(aB,aC.begin-1);var aA=d.Event("keypress");aA.which=aD.charCodeAt(aC.begin-1),ad=!1,F=!1,K.call(aB,aA,void 0,void 0,!1);var aF=L().p;Z(aB,p(),S.numericInput?aq(aF):aF),aE.preventDefault()}function Q(aB){u=!0;var aA=this;return setTimeout(function(){I(aA,I(aA).begin-1);var aC=d.Event("keypress");aC.which=aB.originalEvent.data.charCodeAt(0),ad=!1,F=!1,K.call(aA,aC,void 0,void 0,!1);var aD=L().p;Z(aA,p(),S.numericInput?aq(aD):aD)},0),!1}function ap(aB){if(ah=d(aB),ah.is(":input")&&n(ah.attr("type"))){if(ah.data("_inputmask",{maskset:E,opts:S,isRTL:!1}),S.showTooltip&&ah.prop("title",L().mask),("rtl"==aB.dir||S.rightAlign)&&ah.css("text-align","right"),"rtl"==aB.dir||S.numericInput){aB.dir="ltr",ah.removeAttr("dir");var aD=ah.data("_inputmask");aD.isRTL=!0,ah.data("_inputmask",aD),ak=!0}ah.unbind(".inputmask"),ah.removeClass("focus-inputmask"),ah.closest("form").bind("submit",function(){X!=p().join("")&&ah.change(),ah[0]._valueGet&&ah[0]._valueGet()==az().join("")&&ah[0]._valueSet(""),S.autoUnmask&&S.removeMaskOnSubmit&&ah.inputmask("remove")}).bind("reset",function(){setTimeout(function(){ah.trigger("setvalue")},0)}),ah.bind("mouseenter.inputmask",function(){var aG=d(this),aF=this;!aG.hasClass("focus-inputmask")&&S.showMaskOnHover&&aF._valueGet()!=p().join("")&&Z(aF,p())}).bind("blur.inputmask",function(){var aI=d(this),aG=this;if(aI.data("_inputmask")){var aH=aG._valueGet(),aF=p();aI.removeClass("focus-inputmask"),X!=p().join("")&&aI.change(),S.clearMaskOnLostFocus&&""!=aH&&(aH==az().join("")?aG._valueSet(""):ar(aG)),aa(aF)===!1&&(aI.trigger("incomplete"),S.clearIncomplete&&(O(),S.clearMaskOnLostFocus?aG._valueSet(""):(aF=az().slice(),Z(aG,aF))))}}).bind("focus.inputmask",function(){var aH=d(this),aF=this,aG=aF._valueGet();S.showMaskOnFocus&&!aH.hasClass("focus-inputmask")&&(!S.showMaskOnHover||S.showMaskOnHover&&""==aG)&&aF._valueGet()!=p().join("")&&Z(aF,p(),q(s())),aH.addClass("focus-inputmask"),X=p().join("")}).bind("mouseleave.inputmask",function(){var aG=d(this),aF=this;S.clearMaskOnLostFocus&&(aG.hasClass("focus-inputmask")||aF._valueGet()==aG.attr("placeholder")||(aF._valueGet()==az().join("")||""==aF._valueGet()?aF._valueSet(""):ar(aF)))}).bind("click.inputmask",function(){var aF=this;d(aF).is(":focus")&&setTimeout(function(){var aI=I(aF);if(aI.begin==aI.end){if(S.radixFocus&&""!=S.radixPoint&&-1!=d.inArray(S.radixPoint,p())&&p().join("")==az().join("")){I(aF,d.inArray(S.radixPoint,p()))}else{var aH=ak?an(aI.begin):aI.begin,aG=q(s(aH));aG>aH?I(aF,N(aH)?aH:q(aH)):I(aF,aG)}}},0)}).bind("dblclick.inputmask",function(){var aF=this;setTimeout(function(){I(aF,0,q(s()))},0)}).bind(g+".inputmask dragdrop.inputmask drop.inputmask",ai).bind("setvalue.inputmask",function(){var aF=this;y(aF,!0,!1),X=p().join(""),(S.clearMaskOnLostFocus||S.clearIncomplete)&&aF._valueGet()==az().join("")&&aF._valueSet("")}).bind("cut.inputmask",function(aH){u=!0;var aG=this,aJ=d(aG),aI=I(aG);T(aG,d.inputmask.keyCode.DELETE,aI);var aF=S.onKeyPress.call(this,aH,p(),L().p,S);av(aG,aF,{begin:L().p,end:L().p}),aG._valueGet()==az().join("")&&aJ.trigger("cleared"),S.showTooltip&&aJ.prop("title",L().mask)}).bind("complete.inputmask",S.oncomplete).bind("incomplete.inputmask",S.onincomplete).bind("cleared.inputmask",S.oncleared),ah.bind("keydown.inputmask",ax).bind("keypress.inputmask",K).bind("keyup.inputmask",U).bind("compositionupdate.inputmask",Q),"paste"!==g||i||ah.bind("input.inputmask",H),i&&ah.bind("input.inputmask",ai),(b||m||h||j)&&("input"==g&&ah.unbind(g+".inputmask"),ah.bind("input.inputmask",ag)),aj(aB);var aA=d.isFunction(S.onBeforeMask)?S.onBeforeMask.call(aB,aB._valueGet(),S)||aB._valueGet():aB._valueGet();y(aB,!0,!1,aA.split("")),X=p().join("");var aC;try{aC=document.activeElement}catch(aE){}aa(p())===!1&&S.clearIncomplete&&O(),S.clearMaskOnLostFocus?p().join("")==az().join("")?aB._valueSet(""):ar(aB):Z(aB,p()),aC===aB&&(ah.addClass("focus-inputmask"),I(aB,q(s()))),G(aB)}}var X,ah,x,ak=!1,ad=!1,u=!1,F=!1;if(void 0!=w){switch(w.action){case"isComplete":return ah=d(w.el),E=ah.data("_inputmask").maskset,S=ah.data("_inputmask").opts,aa(w.buffer);case"unmaskedvalue":return ah=w.$input,E=ah.data("_inputmask").maskset,S=ah.data("_inputmask").opts,ak=w.$input.data("_inputmask").isRTL,o(w.$input);case"mask":X=p().join(""),ap(w.el);break;case"format":ah=d({}),ah.data("_inputmask",{maskset:E,opts:S,isRTL:S.numericInput}),S.numericInput&&(ak=!0);var r=(d.isFunction(S.onBeforeMask)?S.onBeforeMask.call(ah,w.value,S)||w.value:w.value).split("");return y(ah,!1,!1,ak?r.reverse():r),S.onKeyPress.call(this,void 0,p(),0,S),w.metadata?{value:ak?p().slice().reverse().join(""):p().join(""),metadata:ah.inputmask("getmetadata")}:ak?p().slice().reverse().join(""):p().join("");case"isValid":ah=d({}),ah.data("_inputmask",{maskset:E,opts:S,isRTL:S.numericInput}),S.numericInput&&(ak=!0);var r=w.value.split("");y(ah,!1,!0,ak?r.reverse():r);for(var P=p(),ab=C(),M=P.length-1;M>ab&&!N(M);M--){}return P.splice(ab,M+1-ab),aa(P)&&w.value==P.join("");case"getemptymask":return ah=d(w.el),E=ah.data("_inputmask").maskset,S=ah.data("_inputmask").opts,az();case"remove":var au=w.el;ah=d(au),E=ah.data("_inputmask").maskset,S=ah.data("_inputmask").opts,au._valueSet(o(ah)),ah.unbind(".inputmask"),ah.removeClass("focus-inputmask"),ah.removeData("_inputmask");var al;Object.getOwnPropertyDescriptor&&(al=Object.getOwnPropertyDescriptor(au,"value")),al&&al.get?au._valueGet&&Object.defineProperty(au,"value",{get:au._valueGet,set:au._valueSet}):document.__lookupGetter__&&au.__lookupGetter__("value")&&au._valueGet&&(au.__defineGetter__("value",au._valueGet),au.__defineSetter__("value",au._valueSet));try{delete au._valueGet,delete au._valueSet}catch(aw){au._valueGet=void 0,au._valueSet=void 0}break;case"getmetadata":if(ah=d(w.el),E=ah.data("_inputmask").maskset,S=ah.data("_inputmask").opts,d.isArray(E.metadata)){for(var ae,am=s(),z=am;z>=0;z--){if(L().validPositions[z]&&void 0!=L().validPositions[z].alternation){ae=L().validPositions[z].alternation;break}}return void 0!=ae?E.metadata[L().validPositions[am].locator[ae]]:E.metadata[0]}return E.metadata}}}if(void 0===d.fn.inputmask){var i="function"==typeof ScriptEngineMajorVersion?ScriptEngineMajorVersion():new Function("/*@cc_on return @_jscript_version; @*/")()>=10,a=navigator.userAgent,k=null!==a.match(new RegExp("iphone","i")),b=null!==a.match(new RegExp("android.*safari.*","i")),h=null!==a.match(new RegExp("android.*chrome.*","i")),m=null!==a.match(new RegExp("android.*firefox.*","i")),j=/Kindle/i.test(a)||/Silk/i.test(a)||/KFTT/i.test(a)||/KFOT/i.test(a)||/KFJWA/i.test(a)||/KFJWI/i.test(a)||/KFSOWI/i.test(a)||/KFTHWA/i.test(a)||/KFTHWI/i.test(a)||/KFAPWA/i.test(a)||/KFAPWI/i.test(a),g=l("paste")?"paste":l("input")?"input":"propertychange";d.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:d.noop,onincomplete:d.noop,oncleared:d.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!0,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyUp:d.noop,onKeyPress:d.noop,onKeyDown:d.noop,onBeforeMask:void 0,onBeforePaste:void 0,onUnMask:void 0,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:d.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,rightAlign:!1,radixPoint:"",radixFocus:!1,nojumps:!1,nojumpsThreshold:0,keepStatic:void 0,definitions:{"9":{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:void 0},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},masksCache:{},escapeRegex:function(p){var o=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];return p.replace(new RegExp("(\\"+o.join("|\\")+")","gim"),"\\$1")},format:function(r,o,p){var q=d.extend(!0,{},d.inputmask.defaults,o);return f(q.alias,o,q),e({action:"format",value:r,metadata:p},c(q),q)},isValid:function(q,o){var p=d.extend(!0,{},d.inputmask.defaults,o);return f(p.alias,o,p),e({action:"isValid",value:q},c(p),p)}},d.fn.inputmask=function(s,w,q,t,p){function v(A,y,C){var B=d(A);B.data("inputmask-alias")&&f(B.data("inputmask-alias"),{},y);for(var x in y){var z=B.data("inputmask-"+x.toLowerCase());void 0!=z&&("mask"==x&&0==z.indexOf("[")?(y[x]=z.replace(/[\s[\]]/g,"").split("','"),y[x][0]=y[x][0].replace("'",""),y[x][y[x].length-1]=y[x][y[x].length-1].replace("'","")):y[x]="boolean"==typeof z?z:z.toString(),C&&(C[x]=y[x]))}return y}q=q||e,t=t||"_inputmask";var u,o=d.extend(!0,{},d.inputmask.defaults,w);if("string"==typeof s){switch(s){case"mask":return f(o.alias,w,o),u=c(o,q!==e),void 0==u?this:this.each(function(){q({action:"mask",el:this},d.extend(!0,{},u),v(this,o))});case"unmaskedvalue":var r=d(this);return r.data(t)?q({action:"unmaskedvalue",$input:r}):r.val();case"remove":return this.each(function(){var x=d(this);x.data(t)&&q({action:"remove",el:this})});case"getemptymask":return this.data(t)?q({action:"getemptymask",el:this}):"";case"hasMaskedValue":return this.data(t)?!this.data(t).opts.autoUnmask:!1;case"isComplete":return this.data(t)?q({action:"isComplete",buffer:this[0]._valueGet().split(""),el:this}):!0;case"getmetadata":return this.data(t)?q({action:"getmetadata",el:this}):void 0;case"_detectScope":return f(o.alias,w,o),void 0==p||f(p,w,o)||-1!=d.inArray(p,["mask","unmaskedvalue","remove","getemptymask","hasMaskedValue","isComplete","getmetadata","_detectScope"])||(o.mask=p),d.isFunction(o.mask)&&(o.mask=o.mask.call(this,o)),d.isArray(o.mask);default:return f(o.alias,w,o),f(s,w,o)||(o.mask=s),u=c(o,q!==e),void 0==u?this:this.each(function(){q({action:"mask",el:this},d.extend(!0,{},u),v(this,o))})}}else{if("object"==typeof s){return o=d.extend(!0,{},d.inputmask.defaults,s),f(o.alias,s,o),u=c(o,q!==e),void 0==u?this:this.each(function(){q({action:"mask",el:this},d.extend(!0,{},u),v(this,o))})}if(void 0==s){return this.each(function(){var A=d(this).attr("data-inputmask");if(A&&""!=A){try{A=A.replace(new RegExp("'","g"),'"');var x=d.parseJSON("{"+A+"}");d.extend(!0,x,w),o=d.extend(!0,{},d.inputmask.defaults,x),o=v(this,o),f(o.alias,x,o),o.alias=void 0,d(this).inputmask("mask",o,q)}catch(y){}}if(d(this).attr("data-inputmask-mask")||d(this).attr("data-inputmask-alias")){o=d.extend(!0,{},d.inputmask.defaults,{});var z={};o=v(this,o,z),f(o.alias,z,o),o.alias=void 0,d(this).inputmask("mask",o,q)}})}}}}return d.fn.inputmask});