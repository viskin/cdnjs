(function(a){"function"===typeof define&&define.amd?define(["jquery","./jquery.inputmask"],a):a(jQuery)})(function(a){a.extend(a.inputmask.defaults.definitions,{h:{validator:"[01][0-9]|2[0-3]",cardinality:2,prevalidator:[{validator:"[0-2]",cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:"[0-5]",cardinality:1}]},d:{validator:"0[1-9]|[12][0-9]|3[01]",cardinality:2,prevalidator:[{validator:"[0-3]",cardinality:1}]},m:{validator:"0[1-9]|1[012]",cardinality:2,prevalidator:[{validator:"[01]",cardinality:1}]},y:{validator:"(19|20)\\d{2}",cardinality:4,prevalidator:[{validator:"[12]",cardinality:1},{validator:"(19|20)",cardinality:2},{validator:"(19|20)\\d",cardinality:3}]}});a.extend(a.inputmask.defaults.aliases,{"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:/[0-3]/,val1:/0[1-9]|[12][0-9]|3[01]/,val2pre:function(b){b=a.inputmask.escapeRegex.call(this,b);return RegExp("((0[1-9]|[12][0-9]|3[01])"+b+"[01])")},val2:function(b){b=a.inputmask.escapeRegex.call(this,b);return RegExp("((0[1-9]|[12][0-9])"+b+"(0[1-9]|1[012]))|(30"+b+"(0[13-9]|1[012]))|(31"+b+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(b,g,h){if(isNaN(b)){return !1}var f=parseInt(b.concat(g.toString().slice(b.length)));b=parseInt(b.concat(h.toString().slice(b.length)));return(isNaN(f)?!1:g<=f&&f<=h)||(isNaN(b)?!1:g<=b&&b<=h)},determinebaseyear:function(g,i,j){var h=(new Date).getFullYear();if(g>h){return g}if(i<h){for(var h=i.toString().slice(0,2),f=i.toString().slice(2,4);i<h+j;){h--}i=h+f;return g>i?g:i}return h},onKeyUp:function(b,g,h,f){g=a(this);b.ctrlKey&&b.keyCode==f.keyCode.RIGHT&&(b=new Date,g.val(b.getDate().toString()+(b.getMonth()+1).toString()+b.getFullYear().toString()))},definitions:{1:{validator:function(h,k,l,j,g){var i=g.regex.val1.test(h);return j||i||h.charAt(1)!=g.separator&&-1=="-./".indexOf(h.charAt(1))||!(i=g.regex.val1.test("0"+h.charAt(0)))?i:(k.buffer[l-1]="0",{refreshFromBuffer:{start:l-1,end:l},pos:l,c:h.charAt(0)})},cardinality:2,prevalidator:[{validator:function(h,k,l,j,g){isNaN(k.buffer[l+1])||(h+=k.buffer[l+1]);var i=1==h.length?g.regex.val1pre.test(h):g.regex.val1.test(h);return j||i||!(i=g.regex.val1.test("0"+h))?i:(k.buffer[l]="0",l++,{pos:l})},cardinality:1}]},2:{validator:function(i,m,n,l,h){var k=h.mask.indexOf("2")==h.mask.length-1?m.buffer.join("").substr(5,3):m.buffer.join("").substr(0,3);-1!=k.indexOf(h.placeholder[0])&&(k="01"+h.separator);var j=h.regex.val2(h.separator).test(k+i);if(!(l||j||i.charAt(1)!=h.separator&&-1=="-./".indexOf(i.charAt(1)))&&(j=h.regex.val2(h.separator).test(k+"0"+i.charAt(0)))){return m.buffer[n-1]="0",{refreshFromBuffer:{start:n-1,end:n},pos:n,c:i.charAt(0)}}if(h.mask.indexOf("2")==h.mask.length-1&&j){if(m.buffer.join("").substr(4,4)+i!=h.leapday){return !0}i=parseInt(m.buffer.join("").substr(0,4),10);return 0===i%4?0===i%100?0===i%400?!0:!1:!0:!1}return j},cardinality:2,prevalidator:[{validator:function(i,m,n,l,h){isNaN(m.buffer[n+1])||(i+=m.buffer[n+1]);var k=h.mask.indexOf("2")==h.mask.length-1?m.buffer.join("").substr(5,3):m.buffer.join("").substr(0,3);-1!=k.indexOf(h.placeholder[0])&&(k="01"+h.separator);var j=1==i.length?h.regex.val2pre(h.separator).test(k+i):h.regex.val2(h.separator).test(k+i);return l||j||!(j=h.regex.val2(h.separator).test(k+"0"+i))?j:(m.buffer[n]="0",n++,{pos:n})},cardinality:1}]},y:{validator:function(g,i,j,h,f){if(f.isInYearRange(g,f.yearrange.minyear,f.yearrange.maxyear)){if(i.buffer.join("").substr(0,6)!=f.leapday){return !0}g=parseInt(g,10);return 0===g%4?0===g%100?0===g%400?!0:!1:!0:!1}return !1},cardinality:4,prevalidator:[{validator:function(h,k,l,j,g){var i=g.isInYearRange(h,g.yearrange.minyear,g.yearrange.maxyear);if(!j&&!i){j=g.determinebaseyear(g.yearrange.minyear,g.yearrange.maxyear,h+"0").toString().slice(0,1);if(i=g.isInYearRange(j+h,g.yearrange.minyear,g.yearrange.maxyear)){return k.buffer[l++]=j.charAt(0),{pos:l}}j=g.determinebaseyear(g.yearrange.minyear,g.yearrange.maxyear,h+"0").toString().slice(0,2);if(i=g.isInYearRange(j+h,g.yearrange.minyear,g.yearrange.maxyear)){return k.buffer[l++]=j.charAt(0),k.buffer[l++]=j.charAt(1),{pos:l}}}return i},cardinality:1},{validator:function(h,k,l,j,g){var i=g.isInYearRange(h,g.yearrange.minyear,g.yearrange.maxyear);if(!j&&!i){j=g.determinebaseyear(g.yearrange.minyear,g.yearrange.maxyear,h).toString().slice(0,2);if(i=g.isInYearRange(h[0]+j[1]+h[1],g.yearrange.minyear,g.yearrange.maxyear)){return k.buffer[l++]=j.charAt(1),{pos:l}}j=g.determinebaseyear(g.yearrange.minyear,g.yearrange.maxyear,h).toString().slice(0,2);g.isInYearRange(j+h,g.yearrange.minyear,g.yearrange.maxyear)?k.buffer.join("").substr(0,6)!=g.leapday?i=!0:(g=parseInt(h,10),i=0===g%4?0===g%100?0===g%400?!0:!1:!0:!1):i=!1;if(i){return k.buffer[l-1]=j.charAt(0),k.buffer[l++]=j.charAt(1),k.buffer[l++]=h.charAt(0),{refreshFromBuffer:{start:l-3,end:l},pos:l}}}return i},cardinality:2},{validator:function(g,i,j,h,f){return f.isInYearRange(g,f.yearrange.minyear,f.yearrange.maxyear)},cardinality:3}]}},insertMode:!1,autoUnmask:!1},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(b){b=a.inputmask.escapeRegex.call(this,b);return RegExp("((0[13-9]|1[012])"+b+"[0-3])|(02"+b+"[0-2])")},val2:function(b){b=a.inputmask.escapeRegex.call(this,b);return RegExp("((0[1-9]|1[012])"+b+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+b+"30)|((0[13578]|1[02])"+b+"31)")},val1pre:/[01]/,val1:/0[1-9]|1[012]/},leapday:"02/29/",onKeyUp:function(b,g,h,f){g=a(this);b.ctrlKey&&b.keyCode==f.keyCode.RIGHT&&(b=new Date,g.val((b.getMonth()+1).toString()+b.getDate().toString()+b.getFullYear().toString()))}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyUp:function(b,g,h,f){g=a(this);b.ctrlKey&&b.keyCode==f.keyCode.RIGHT&&(b=new Date,g.val(b.getFullYear().toString()+(b.getMonth()+1).toString()+b.getDate().toString()))}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:/[012]/,hrs24:/2[0-4]|1[3-9]/,hrs:/[01][0-9]|2[0-4]/,ampm:/^[a|p|A|P][m|M]/,mspre:/[0-5]/,ms:/[0-5][0-9]/},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(h,k,l,j,g){if("24"==g.hourFormat&&24==parseInt(h,10)){return k.buffer[l-1]="0",k.buffer[l]="0",{refreshFromBuffer:{start:l-1,end:l},c:"0"}}var i=g.regex.hrs.test(h);return j||i||h.charAt(1)!=g.timeseparator&&-1=="-.:".indexOf(h.charAt(1))||!(i=g.regex.hrs.test("0"+h.charAt(0)))?i&&"24"!==g.hourFormat&&g.regex.hrs24.test(h)?(h=parseInt(h,10),k.buffer[l+5]=24==h?"a":"p",k.buffer[l+6]="m",h-=12,10>h?(k.buffer[l]=h.toString(),k.buffer[l-1]="0"):(k.buffer[l]=h.toString().charAt(1),k.buffer[l-1]=h.toString().charAt(0)),{refreshFromBuffer:{start:l-1,end:l+6},c:k.buffer[l]}):i:(k.buffer[l-1]="0",k.buffer[l]=h.charAt(0),l++,{refreshFromBuffer:{start:l-2,end:l},pos:l,c:g.timeseparator})},cardinality:2,prevalidator:[{validator:function(h,k,l,j,g){var i=g.regex.hrspre.test(h);return j||i||!(i=g.regex.hrs.test("0"+h))?i:(k.buffer[l]="0",l++,{pos:l})},cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:function(h,k,l,j,g){var i=g.regex.mspre.test(h);return j||i||!(i=g.regex.ms.test("0"+h))?i:(k.buffer[l]="0",l++,{pos:l})},cardinality:1}]},t:{validator:function(g,i,j,h,f){return f.regex.ampm.test(g+"m")},casing:"lower",cardinality:1}},insertMode:!1,autoUnmask:!1},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",placeholder:"hh:mm:ss",alias:"datetime",autoUnmask:!1},"hh:mm":{mask:"h:s",placeholder:"hh:mm",alias:"datetime",autoUnmask:!1},date:{alias:"dd/mm/yyyy"},"mm/yyyy":{mask:"1/y",placeholder:"mm/yyyy",leapday:"donotuse",separator:"/",alias:"mm/dd/yyyy"}});return a.fn.inputmask});