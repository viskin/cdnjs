/*
 Input Mask plugin for jquery
 http://github.com/RobinHerbots/jquery.inputmask
 Copyright (c) 2010 - 2013 Robin Herbots
 Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
 Version: 2.1.3
*/
<<<<<<< HEAD
(function(c){void 0==c.fn.inputmask&&(c.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},escapeChar:"\\",mask:null,oncomplete:c.noop,onincomplete:c.noop,oncleared:c.noop,repeat:0,greedy:!0,autoUnmask:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},onKeyUp:c.noop,onKeyDown:c.noop,showMaskOnHover:!0,onKeyValidation:c.noop,skipOptionalPartCharacter:" ",numericInput:!1,radixPoint:"",definitions:{9:{validator:"[0-9]",cardinality:1},a:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451]",
cardinality:1},"*":{validator:"[A-Za-z\u0410-\u044f\u0401\u04510-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[9,13,19,27,33,34,35,36,37,
38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123]},val:c.fn.val,escapeRegex:function(c){return c.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","gim"),"\\$1")},getMaskLength:function(c,I,y){var D=c.length;!I&&1<y&&(D+=c.length*(y-1));return D}},c.fn.inputmask=function(G,I){function y(b,d){var f=a.aliases[b];return f?(f.alias&&y(f.alias),c.extend(!0,a,f),c.extend(!0,a,d),!0):!1}function D(b){var d=!1,f=0;1==b.length&&!1==a.greedy&&(a.placeholder="");for(var b=
c.map(b.split(""),function(b){var c=[];if(b==a.escapeChar)d=true;else if(b!=a.optionalmarker.start&&b!=a.optionalmarker.end||d){var j=a.definitions[b];if(j&&!d)for(b=0;b<j.cardinality;b++)c.push(E(f+b));else{c.push(b);d=false}f=f+c.length;return c}}),j=b.slice(),m=1;m<a.repeat&&a.greedy;m++)j=j.concat(b.slice());return j}function P(b){var d=!1,f=!1,j=!1;return c.map(b.split(""),function(b){var c=[];if(b==a.escapeChar)f=!0;else if(b==a.optionalmarker.start&&!f)j=d=!0;else if(b==a.optionalmarker.end&&
!f)d=!1,j=!0;else{var g=a.definitions[b];if(g&&!f){for(var i=g.prevalidator,h=i?i.length:0,A=1;A<g.cardinality;A++){var e=h>=A?i[A-1]:[],p=e.validator,e=e.cardinality;c.push({fn:p?"string"==typeof p?RegExp(p):new function(){this.test=p}:/./,cardinality:e?e:1,optionality:d,newBlockMarker:!0==d?j:!1,offset:0,casing:g.casing,def:b});!0==d&&(j=!1)}c.push({fn:g.validator?"string"==typeof g.validator?RegExp(g.validator):new function(){this.test=g.validator}:/./,cardinality:g.cardinality,optionality:d,newBlockMarker:j,
offset:0,casing:g.casing,def:b})}else c.push({fn:null,cardinality:0,optionality:d,newBlockMarker:j,offset:0,casing:null,def:b}),f=!1;j=!1;return c}})}function R(){function b(f,c){var m=c.split(a.optionalmarker.end,2),i,g=m[0].split(a.optionalmarker.start);1<g.length?(i=f+g[0]+(a.optionalmarker.start+g[1]+a.optionalmarker.end)+(1<m.length?m[1]:""),d.push({_buffer:D(i),tests:P(i),lastValidPosition:0}),i=f+g[0]+(1<m.length?m[1]:""),d.push({_buffer:D(i),tests:P(i),lastValidPosition:0}),1<m.length&&1<
m[1].split(a.optionalmarker.start).length&&(b(f+g[0]+(a.optionalmarker.start+g[1]+a.optionalmarker.end),m[1]),b(f+g[0],m[1]))):(i=f+m,d.push({_buffer:D(i),tests:P(i),lastValidPosition:0}))}var d=[];b("",a.mask.toString());return d}function F(){return o[k].tests}function i(){return o[k]._buffer}function K(b,d,f,j,m){function i(b,e){for(var c=B(b),m=d?1:0,g="",h=e.tests[c].cardinality;h>m;h--)g+=u(f,c-(h-1));d&&(g+=d);return null!=e.tests[c].fn?e.tests[c].fn.test(g,f,b,j,a):!1}if(j)return i(b,o[k]);
var g=[],n=!1,h=k;c.each(o,function(c){k=c;var e=b;if(h!=k&&!v(b)){if(d==this._buffer[e]||d==a.skipOptionalPartCharacter)return g[c]={refresh:!0},this.lastValidPosition=e,!1;e=m?J(f,b):w(f,b)}if((m?this.lastValidPosition<=a.numericInput?p():w(f,e):this.lastValidPosition>=J(f,e))&&0<=e&&e<p())g[c]=i(e,this),!1!==g[c]?(!0===g[c]&&(g[c]={pos:e}),this.lastValidPosition=g[c].pos||e):this.lastValidPosition=m?w(f,b):J(f,b)});k=h;S(f,b,h,m);n=g[k]||n;setTimeout(function(){a.onKeyValidation.call(this,n,a)},
0);return n}function S(b,a,f,j){c.each(o,function(c){if(j?this.lastValidPosition<=a:this.lastValidPosition>=a){k=c;if(k!=f){var c=p(),l=i();j&&(b.reverse(),l.reverse());for(var g=b.length=a;g<c;g++){var n=B(g);H(b,g,u(l,n))}j&&b.reverse()}return!1}})}function v(b){b=B(b);b=F()[b];return void 0!=b?b.fn:!1}function B(b){return b%F().length}function E(b){return a.placeholder.charAt(b%a.placeholder.length)}function p(){return c.inputmask.getMaskLength(i(),a.greedy,a.repeat)}function w(b,a){var f=p();
if(a>=f)return f;for(var c=a;++c<f&&!v(c););return c}function J(b,a){var c=a;if(0>=c)return 0;for(;0<--c&&!v(c););return c}function H(b,a,c){var j=F()[B(a)],i=c;if(void 0!=i)switch(j.casing){case "upper":i=c.toUpperCase();break;case "lower":i=c.toLowerCase()}b[a]=i}function u(b,a,c){c&&(a=T(b,a));return b[a]}function T(b,a,c){if(c)for(;0>a&&b.length<p();){c=i().length-1;for(a=i().length;void 0!==i()[c];)b.unshift(i()[c--])}else for(;void 0==b[a]&&b.length<p();)for(c=0;void 0!==i()[c];)b.push(i()[c++]);
return a}function C(b,a,c){b._valueSet(a.join(""));void 0!=c&&(M?setTimeout(function(){l(b,c)},100):l(b,c))}function U(a,c,f){for(var j=p();c<f&&c<j;c++)H(a,c,u(i().slice(),c))}function N(a,c){var f=B(c);H(a,c,u(i(),f))}function x(b,d,f,j){var m=c(b).data("inputmask").isRTL,l=Q(b._valueGet(),m).split("");if(m){var g=p(),n=l.reverse();n.length=g;for(var h=0;h<g;h++){var k=B(g-(h+1));null==F()[k].fn&&n[h]!=u(i(),k)?(n.splice(h,0,u(i(),k)),n.length=g):n[h]=n[h]||u(i(),k)}l=n.reverse()}U(d,0,d.length);
d.length=i().length;for(var e=n=-1,o,g=p(),x=l.length,k=0==x?g:-1,h=0;h<x;h++)for(var t=e+1;t<g;t++)if(v(t)){var z=l[h];!1!==(o=K(t,z,d,!f,m))?(!0!==o&&(t=void 0!=o.pos?o.pos:t,z=void 0!=o.c?o.c:z),H(d,t,z),n=e=t):(N(d,t),z==E(t)&&(k=e=t));break}else if(N(d,t),n==e&&(n=t),e=t,l[h]==u(d,t))break;if(!1==a.greedy)for(h=Q(d.join(""),m).split("");d.length!=h.length;)m?d.shift():d.pop();f&&C(b,d);return m?a.numericInput?""!=a.radixPoint&&-1!=c.inArray(a.radixPoint,d)&&!0!==j?c.inArray(a.radixPoint,d):w(d,
g):w(d,k):w(d,n)}function X(a){return c.inputmask.escapeRegex.call(this,a)}function Q(a,c){return c?a.replace(RegExp("^("+X(i().join(""))+")*"),""):a.replace(RegExp("("+X(i().join(""))+")*$"),"")}function V(a,d){x(a,d,!1);var f=d.slice();if(c(a).data("inputmask").isRTL)for(var j=0;j<=f.length-1;j++){var i=B(j);if(F()[i].optionality)if(E(j)==d[j]||!v(j))f.splice(0,1);else break;else break}else for(j=f.length-1;0<=j;j--)if(i=B(j),F()[i].optionality)if(E(j)==d[j]||!v(j))f.pop();else break;else break;
C(a,f)}function Y(a,d){var f=a[0];if(F()&&(!0===d||!a.hasClass("hasDatepicker"))){var j=i().slice();x(f,j);return c.map(j,function(a,c){return v(c)&&a!=u(i().slice(),c)?a:null}).join("")}return f._valueGet()}function l(c,d,f){c=c.jquery&&0<c.length?c[0]:c;if("number"==typeof d){f="number"==typeof f?f:d;!1==a.insertMode&&d==f&&f++;if(c.setSelectionRange)c.setSelectionRange(d,f);else if(c.createTextRange){var i=c.createTextRange();i.collapse(!0);i.moveEnd("character",f);i.moveStart("character",d);i.select()}c.focus()}else{var m=
M?i:null,i=null;null==m&&(c.setSelectionRange?(d=c.selectionStart,f=c.selectionEnd):document.selection&&document.selection.createRange&&(i=document.selection.createRange(),d=0-i.duplicate().moveStart("character",-1E5),f=d+i.text.length),m={begin:d,end:f});return m}}function O(a){var d=!1,f=a._valueGet();currentActiveMasksetIndex=k;highestValidPosition=0;c.each(o,function(a,c){k=a;var b=p();if(c.lastValidPosition>=highestValidPosition&&c.lastValidPosition==b-1){for(var g=!0,l=0;l<b;l++){var h=v(l);
if(h&&f.charAt(l)==E(l)||!h&&f.charAt(l)!=i()[l]){g=!1;break}}if(d=d||g)return!1}highestValidPosition=c.lastValidPosition});k=currentActiveMasksetIndex;return d}function W(b){function d(a){a=c._data(a).events;c.each(a,function(a,b){c.each(b,function(a,c){if("inputmask"==c.namespace){var b=c.handler;c.handler=function(){return this.readOnly||this.disabled?!1:b.apply(this,arguments)}}})})}function f(a){var b;Object.getOwnPropertyDescriptor&&(b=Object.getOwnPropertyDescriptor(a,"value"));if(b&&b.get)a._valueGet||
(a._valueGet=b.get,a._valueSet=b.set,Object.defineProperty(a,"value",{get:function(){var a=c(this),b=c(this).data("inputmask"),e=b.masksets,d=b.activeMasksetIndex;return b&&b.autoUnmask?a.inputmask("unmaskedvalue"):this._valueGet()!=e[d]._buffer.join("")?this._valueGet():""},set:function(a){this._valueSet(a);c(this).triggerHandler("setvalue.inputmask")}}));else if(document.__lookupGetter__&&a.__lookupGetter__("value"))a._valueGet||(a._valueGet=a.__lookupGetter__("value"),a._valueSet=a.__lookupSetter__("value"),
a.__defineGetter__("value",function(){var a=c(this),b=c(this).data("inputmask"),e=b.masksets,d=b.activeMasksetIndex;return b&&b.autoUnmask?a.inputmask("unmaskedvalue"):this._valueGet()!=e[d]._buffer.join("")?this._valueGet():""}),a.__defineSetter__("value",function(a){this._valueSet(a);c(this).triggerHandler("setvalue.inputmask")}));else if(a._valueGet||(a._valueGet=function(){return this.value},a._valueSet=function(a){this.value=a}),!0!=c.fn.val.inputmaskpatch)c.fn.val=function(){if(arguments.length==
0){var a=c(this);if(a.data("inputmask")){if(a.data("inputmask").autoUnmask)return a.inputmask("unmaskedvalue");var a=c.inputmask.val.apply(a),b=c(this).data("inputmask");return a!=b.masksets[b.activeMasksetIndex]._buffer.join("")?a:""}return c.inputmask.val.apply(a)}var e=arguments;return this.each(function(){var a=c(this),b=c.inputmask.val.apply(a,e);a.data("inputmask")&&a.triggerHandler("setvalue.inputmask");return b})},c.extend(c.fn.val,{inputmaskpatch:!0})}function j(a,c,b){for(;!v(a)&&0<=a-1;)a--;
for(var d=a;d<c&&d<p();d++)if(v(d)){N(e,d);var f=w(e,d),g=u(e,f);if(g!=E(f))if(f<p()&&!1!==K(d,g,e,!0,r)&&F()[B(d)].def==F()[B(f)].def)H(e,d,u(e,f)),N(e,f);else{if(v(d))break}else if(void 0==b)break}else N(e,d);void 0!=b&&H(e,r?c:J(e,c),b);e=Q(e.join(""),r).split("");0==e.length&&(e=i().slice());return a}function m(a,c,b,d){for(;a<=c&&a<p();a++)if(v(a)){var f=u(e,a);H(e,a,b);if(f!=E(a))if(b=w(e,a),b<p())if(!1!==K(b,f,e,!0,r)&&F()[B(a)].def==F()[B(b)].def)b=f;else if(v(b))break;else b=f;else break;
else if(!0!==d)break}else N(e,a);d=e.length;e=Q(e.join(""),r).split("");0==e.length&&(e=i().slice());return c-(d-e.length)}function G(b){D=!1;var d=this,f=b.keyCode,g=l(d);if(a.numericInput&&""!=a.radixPoint){var h=d._valueGet().indexOf(a.radixPoint);-1!=h&&(r=g.begin<=h||g.end<=h)}if(f==a.keyCode.BACKSPACE||f==a.keyCode.DELETE||Z&&127==f){h=p();if(0==g.begin&&g.end==h)k=0,e=i().slice(),C(d,e),l(d,x(d,e,!1));else if(1<g.end-g.begin||1==g.end-g.begin&&a.insertMode)U(e,g.begin,g.end),S(e,g.begin,k),
C(d,e),l(r?x(d,e,!1):g.begin);else{var s=g.begin-(f==a.keyCode.DELETE?0:1);s<L&&f==a.keyCode.DELETE&&(s=L);s>=L&&(console.log("before delete "+e),a.numericInput&&a.greedy&&f==a.keyCode.DELETE&&e[s]==a.radixPoint?(s=w(e,s),r=!1):a.numericInput&&(a.greedy&&f==a.keyCode.BACKSPACE&&e[s]==a.radixPoint)&&(s--,r=!0),r?(s=m(L,s,E(s),!0),s=a.numericInput&&a.greedy&&f==a.keyCode.BACKSPACE&&e[s+1]==a.radixPoint?s+1:w(e,s)):s=j(s,h),S(e,s,k),C(d,e,s))}d._valueGet()==i().join("")&&c(d).trigger("cleared");b.preventDefault()}else f==
a.keyCode.END||f==a.keyCode.PAGE_DOWN?setTimeout(function(){var c=x(d,e,!1,!0);!a.insertMode&&(c==p()&&!b.shiftKey)&&c--;l(d,b.shiftKey?g.begin:c,c)},0):f==a.keyCode.HOME||f==a.keyCode.PAGE_UP?l(d,0,b.shiftKey?g.begin:0):f==a.keyCode.ESCAPE?(d._valueSet(y),l(d,0,x(d,e))):f==a.keyCode.INSERT?(a.insertMode=!a.insertMode,l(d,!a.insertMode&&g.begin==p()?g.begin-1:g.begin)):b.ctrlKey&&88==f?setTimeout(function(){l(d,x(d,e,!0))},0):a.insertMode||(f==a.keyCode.RIGHT?(h=g.begin==g.end?g.end+1:g.end,h=h<p()?
h:g.end,l(d,b.shiftKey?g.begin:h,b.shiftKey?h+1:h)):f==a.keyCode.LEFT&&(h=g.begin-1,h=0<h?h:0,l(d,h,b.shiftKey?g.end:h)));a.onKeyDown.call(this,b,a);t=-1!=c.inArray(f,a.ignorables)}function g(b){if(D)return!1;D=!0;var d=this,f=c(d),b=b||window.event,g=b.which||b.charCode||b.keyCode,i=String.fromCharCode(g);if(a.numericInput&&i==a.radixPoint){var h=d._valueGet().indexOf(a.radixPoint);l(d,w(e,-1!=h?h:p()))}if(b.ctrlKey||b.altKey||b.metaKey||t)return!0;if(g){f.trigger("input");var k=l(d),o=p(),g=!0;
U(e,k.begin,k.end);if(r){var h=J(e,k.end),q;if(!1!==(q=K(h==o||u(e,h)==a.radixPoint?J(e,h):h,i,e,!1,r))){var n=!1;!0!==q&&(n=q.refresh,h=void 0!=q.pos?q.pos:h,i=void 0!=q.c?q.c:i);if(!0!==n)if(q=L,!0==a.insertMode){if(!0==a.greedy)for(n=e.slice();u(n,q,!0)!=E(q)&&q<=h;)q=q==o?o+1:w(e,q);q<=h&&(a.greedy||e.length<o)?(e[L]!=E(L)&&e.length<o&&(o=T(e,-1,r),0!=k.end&&(h+=o),o=e.length),j(q,h,i)):g=!1}else H(e,h,i);g&&(C(d,e,a.numericInput?h+1:h),setTimeout(function(){O(d)&&f.trigger("complete")},0))}else M&&
C(d,e,k.begin)}else if(h=w(e,k.begin-1),T(e,h,r),!1!==(q=K(h,i,e,!1,r))){n=!1;!0!==q&&(n=q.refresh,h=void 0!=q.pos?q.pos:h,i=void 0!=q.c?q.c:i);if(!0!==n)if(!0==a.insertMode){k=p();for(n=e.slice();u(n,k,!0)!=E(k)&&k>=h;)k=0==k?-1:J(e,k);k>=h?m(h,e.length,i):g=!1}else H(e,h,i);g&&(i=w(e,h),C(d,e,i),setTimeout(function(){O(d)&&f.trigger("complete")},0))}else M&&C(d,e,k.begin);b.preventDefault()}}function n(b){var d=c(this),f=b.keyCode;a.onKeyUp.call(this,b,a);f==a.keyCode.TAB&&(d.hasClass("focus.inputmask")&&
0==this._valueGet().length)&&(e=i().slice(),C(this,e),r||l(this,0),y=this._valueGet())}var h=c(b);if(h.is(":input")){a.greedy=a.greedy?a.greedy:0==a.repeat;var A=h.prop("maxLength");p()>A&&-1<A&&(A<i().length&&(i().length=A),!1==a.greedy&&(a.repeat=Math.round(A/i().length)),h.prop("maxLength",2*p()));h.data("inputmask",{masksets:o,activeMasksetIndex:k,greedy:a.greedy,repeat:a.repeat,autoUnmask:a.autoUnmask,definitions:a.definitions,isRTL:!1});f(b);var e=i().slice(),y=b._valueGet(),D=!1,t=!1,z=-1,
L=w(e,-1);J(e,p());var r=!1;if("rtl"==b.dir||a.numericInput)b.dir="ltr",h.css("text-align","right"),h.removeAttr("dir"),A=h.data("inputmask"),A.isRTL=!0,h.data("inputmask",A),r=!0;h.unbind(".inputmask");h.removeClass("focus.inputmask");h.bind("mouseenter.inputmask",function(){if(!c(this).hasClass("focus.inputmask")&&a.showMaskOnHover){var b=this._valueGet().length;b<e.length&&(0==b&&(e=i().slice()),C(this,e))}}).bind("blur.inputmask",function(){var b=c(this),d=this._valueGet();b.removeClass("focus.inputmask");
d!=y&&b.change();a.clearMaskOnLostFocus&&""!=d&&(d==i().join("")?this._valueSet(""):V(this,e));O(this)||(b.trigger("incomplete"),a.clearIncomplete&&(a.clearMaskOnLostFocus?this._valueSet(""):(e=i().slice(),C(this,e))))}).bind("focus.inputmask",function(){var b=c(this),d=this._valueGet();if(!b.hasClass("focus.inputmask")&&(!a.showMaskOnHover||a.showMaskOnHover&&""==d))d=d.length,d<e.length&&(0==d&&(e=i().slice()),l(this,x(this,e,!0)));b.addClass("focus.inputmask");y=this._valueGet()}).bind("mouseleave.inputmask",
function(){var b=c(this);a.clearMaskOnLostFocus&&(b.hasClass("focus.inputmask")||(this._valueGet()==i().join("")||""==this._valueGet()?this._valueSet(""):V(this,e)))}).bind("click.inputmask",function(){var a=this;setTimeout(function(){var b=l(a);b.begin==b.end&&(b=b.begin,z=x(a,e,!1),r?l(a,b>z&&(!1!==K(b,e[b],e,!0,r)||!v(b))?b:z):l(a,b<z&&(!1!==K(b,e[b],e,!0,r)||!v(b))?b:z))},0)}).bind("dblclick.inputmask",function(){var a=this;setTimeout(function(){l(a,0,z)},0)}).bind("keydown.inputmask",G).bind("keypress.inputmask",
g).bind("keyup.inputmask",n).bind($+".inputmask dragdrop.inputmask drop.inputmask",function(){var a=this;setTimeout(function(){l(a,x(a,e,!0));O(a)&&h.trigger("complete")},0)}).bind("setvalue.inputmask",function(){y=this._valueGet();x(this,e,!0);this._valueGet()==i().join("")&&this._valueSet("")}).bind("complete.inputmask",a.oncomplete).bind("incomplete.inputmask",a.onincomplete).bind("cleared.inputmask",a.oncleared);var z=x(b,e,!0),I;try{I=document.activeElement}catch(P){}I===b?(h.addClass("focus.inputmask"),
l(b,z)):a.clearMaskOnLostFocus&&(b._valueGet()==i().join("")?b._valueSet(""):V(b,e));d(b)}}var a=c.extend(!0,{},c.inputmask.defaults,I),$=function(a){var c=document.createElement("input"),a="on"+a,f=a in c;f||(c.setAttribute(a,"return;"),f="function"==typeof c[a]);return f}("paste")?"paste":"input",Z=null!=navigator.userAgent.match(/iphone/i),M=null!=navigator.userAgent.match(/android.*mobile safari.*/i);if(M)var aa=navigator.userAgent.match(/mobile safari.*/i),M=533>=parseInt(RegExp(/[0-9]+/).exec(aa));
var o,k=0;if("string"==typeof G)switch(G){case "mask":return y(a.alias,I),o=R(),this.each(function(){W(this)});case "unmaskedvalue":return o=this.data("inputmask").masksets,k=this.data("inputmask").activeMasksetIndex,a.greedy=this.data("inputmask").greedy,a.repeat=this.data("inputmask").repeat,a.definitions=this.data("inputmask").definitions,Y(this);case "remove":return this.each(function(){var b=c(this),d=this;setTimeout(function(){if(b.data("inputmask")){o=b.data("inputmask").masksets;k=b.data("inputmask").activeMasksetIndex;
a.greedy=b.data("inputmask").greedy;a.repeat=b.data("inputmask").repeat;a.definitions=b.data("inputmask").definitions;d._valueSet(Y(b,!0));b.removeData("inputmask");b.unbind(".inputmask");b.removeClass("focus.inputmask");var c;Object.getOwnPropertyDescriptor&&(c=Object.getOwnPropertyDescriptor(d,"value"));c&&c.get?d._valueGet&&Object.defineProperty(d,"value",{get:d._valueGet,set:d._valueSet}):document.__lookupGetter__&&d.__lookupGetter__("value")&&d._valueGet&&(d.__defineGetter__("value",d._valueGet),
d.__defineSetter__("value",d._valueSet));delete d._valueGet;delete d._valueSet}},0)});case "getemptymask":return this.data("inputmask")?(o=this.data("inputmask").masksets,k=this.data("inputmask").activeMasksetIndex,o[k]._buffer.join("")):"";case "hasMaskedValue":return this.data("inputmask")?!this.data("inputmask").autoUnmask:!1;case "isComplete":return o=this.data("inputmask").masksets,k=this.data("inputmask").activeMasksetIndex,a.greedy=this.data("inputmask").greedy,a.repeat=this.data("inputmask").repeat,
a.definitions=this.data("inputmask").definitions,O(this[0]);default:return y(G,I)||(a.mask=G),o=R(),this.each(function(){W(this)})}else{if("object"==typeof G)return a=c.extend(!0,{},c.inputmask.defaults,G),y(a.alias,G),o=R(),this.each(function(){W(this)});if(void 0==G)return this.each(function(){var b=c(this).attr("data-inputmask");if(b&&""!=b)try{var b=b.replace(RegExp("'","g"),'"'),d=c.parseJSON("{"+b+"}");a=c.extend(!0,{},c.inputmask.defaults,d);y(a.alias,d);a.alias=void 0;c(this).inputmask(a)}catch(f){}})}return this})})(jQuery);
=======
(function(d){void 0==d.fn.inputmask&&(d.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},escapeChar:"\\",mask:null,oncomplete:d.noop,onincomplete:d.noop,oncleared:d.noop,repeat:0,greedy:!0,autoUnmask:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},onKeyUp:d.noop,onKeyDown:d.noop,showMaskOnHover:!0,onKeyValidation:d.noop,numericInput:!1,radixPoint:"",definitions:{9:{validator:"[0-9]",cardinality:1},a:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451]",cardinality:1},
"*":{validator:"[A-Za-z\u0410-\u044f\u0401\u04510-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[9,13,19,27,33,34,35,36,37,38,39,40,45,46,
93,112,113,114,115,116,117,118,119,120,121,122,123]},val:d.fn.val,escapeRegex:function(d){return d.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","gim"),"\\$1")},getMaskLength:function(d,C,z){var D=d.length;!C&&1<z&&(D+=d.length*(z-1));return D}},d.fn.inputmask=function(s,C){function z(f,b){var c=a.aliases[f];return c?(c.alias&&z(c.alias),d.extend(!0,a,c),d.extend(!0,a,b),!0):!1}function D(){var f=!1,b=0,c=a.mask.toString();1==c.length&&!1==a.greedy&&(a.placeholder="");for(var c=
d.map(c.split(""),function(c){var d=[];if(c==a.escapeChar)f=true;else if(c!=a.optionalmarker.start&&c!=a.optionalmarker.end||f){var E=a.definitions[c];if(E&&!f)for(c=0;c<E.cardinality;c++)d.push(A(b+c));else{d.push(c);f=false}b=b+d.length;return d}}),E=c.slice(),g=1;g<a.repeat&&a.greedy;g++)E=E.concat(c.slice());return E}function I(){var f=!1,b=!1,c=!1;return d.map(a.mask.toString().split(""),function(d){var g=[];if(d==a.escapeChar)b=!0;else if(d==a.optionalmarker.start&&!b)c=f=!0;else if(d==a.optionalmarker.end&&
!b)f=!1,c=!0;else{var i=a.definitions[d];if(i&&!b){for(var j=i.prevalidator,k=j?j.length:0,h=1;h<i.cardinality;h++){var l=k>=h?j[h-1]:[],e=l.validator,l=l.cardinality;g.push({fn:e?"string"==typeof e?RegExp(e):new function(){this.test=e}:/./,cardinality:l?l:1,optionality:f,newBlockMarker:!0==f?c:!1,offset:0,casing:i.casing,def:d});!0==f&&(c=!1)}g.push({fn:i.validator?"string"==typeof i.validator?RegExp(i.validator):new function(){this.test=i.validator}:/./,cardinality:i.cardinality,optionality:f,newBlockMarker:c,
offset:0,casing:i.casing,def:d})}else g.push({fn:null,cardinality:0,optionality:f,newBlockMarker:c,offset:0,casing:null,def:d}),b=!1;c=!1;return g}})}function G(f,b,c,d){var g=!1;if(0<=f&&f<n()){for(var j=f%i.length,r=b?1:0,k="",h=i[j].cardinality;h>r;h--)k+=t(c,j-(h-1));b&&(k+=b);g=null!=i[j].fn?i[j].fn.test(k,c,f,d,a):!1}setTimeout(function(){a.onKeyValidation.call(this,g,a)},0);return g}function r(f){f=i[f%i.length];return void 0!=f?f.fn:!1}function A(f){return a.placeholder.charAt(f%a.placeholder.length)}
function n(){return d.inputmask.getMaskLength(g,a.greedy,a.repeat)}function w(f,a){var c=n();if(a>=c)return c;for(var d=a;++d<c&&!r(d););return d}function L(a,b){var c=b;if(0>=c)return 0;for(;0<--c&&!r(c););return c}function F(a,b,c){var d=i[b%i.length],g=c;if(void 0!=g)switch(d.casing){case "upper":g=c.toUpperCase();break;case "lower":g=c.toLowerCase()}a[b]=g}function t(a,b,c){c&&(b=P(a,b));return a[b]}function P(a,b,c){if(c)for(;0>b&&a.length<n();){c=g.length-1;for(b=g.length;void 0!==g[c];)a.unshift(g[c--])}else for(;void 0==
a[b]&&a.length<n();)for(c=0;void 0!==g[c];)a.push(g[c++]);return b}function x(a,b,c){a._valueSet(b.join(""));void 0!=c&&(J?setTimeout(function(){j(a,c)},100):j(a,c))}function Q(a,b,c){for(var d=n();b<c&&b<d;b++)F(a,b,t(g.slice(),b))}function K(a,b){F(a,b,t(g,b%i.length))}function m(f,b,c,E){var j=d(f).data("inputmask").isRTL,m=M(f._valueGet(),j).split("");if(j){var B=n(),k=m.reverse();k.length=B;for(var h=0;h<B;h++){var l=(B-(h+1))%i.length;null==i[l].fn&&k[h]!=t(g,l)?(k.splice(h,0,t(g,l)),k.length=
B):k[h]=k[h]||t(g,l)}m=k.reverse()}Q(b,0,b.length);b.length=g.length;for(var e=k=-1,y,B=n(),s=m.length,l=0==s?B:-1,h=0;h<s;h++)for(var q=e+1;q<B;q++)if(r(q)){var u=m[h];!1!==(y=G(q,u,b,!c))?(!0!==y&&(q=void 0!=y.pos?y.pos:q,u=void 0!=y.c?y.c:u),F(b,q,u),k=e=q):(K(b,q),u==A(q)&&(l=e=q));break}else if(K(b,q),k==e&&(k=q),e=q,m[h]==t(b,q))break;if(!1==a.greedy)for(h=M(b.join(""),j).split("");b.length!=h.length;)j?b.shift():b.pop();c&&x(f,b);return j?a.numericInput?""!=a.radixPoint&&-1!=d.inArray(a.radixPoint,
b)&&!0!==E?d.inArray(a.radixPoint,b):w(b,B):w(b,l):w(b,k)}function S(a){return d.inputmask.escapeRegex.call(this,a)}function M(a,b){return b?a.replace(RegExp("^("+S(g.join(""))+")*"),""):a.replace(RegExp("("+S(g.join(""))+")*$"),"")}function R(a,b){m(a,b,!1);var c=b.slice();if(d(a).data("inputmask").isRTL)for(var g=0;g<=c.length-1;g++){var j=g%i.length;if(i[j].optionality)if(A(g)==b[g]||!r(g))c.splice(0,1);else break;else break}else for(g=c.length-1;0<=g;g--)if(j=g%i.length,i[j].optionality)if(A(g)==
b[g]||!r(g))c.pop();else break;else break;x(a,c)}function T(a,b){var c=a[0];if(i&&(!0===b||!a.hasClass("hasDatepicker"))){var j=g.slice();m(c,j);return d.map(j,function(a,b){return r(b)&&a!=t(g.slice(),b)?a:null}).join("")}return c._valueGet()}function j(d,b,c){d=d.jquery&&0<d.length?d[0]:d;if("number"==typeof b){c="number"==typeof c?c:b;!1==a.insertMode&&b==c&&c++;if(d.setSelectionRange)d.setSelectionRange(b,c);else if(d.createTextRange){var g=d.createTextRange();g.collapse(!0);g.moveEnd("character",
c);g.moveStart("character",b);g.select()}d.focus()}else{var j=J?g:null,g=null;null==j&&(d.setSelectionRange?(b=d.selectionStart,c=d.selectionEnd):document.selection&&document.selection.createRange&&(g=document.selection.createRange(),b=0-g.duplicate().moveStart("character",-1E5),c=b+g.text.length),j={begin:b,end:c});return j}}function N(a){for(var b=!0,a=a._valueGet(),d=a.length,g=0;g<d;g++)if(r(g)&&a.charAt(g)==A(g)){b=!1;break}return b}function O(f){function b(a){a=d._data(a).events;d.each(a,function(a,
b){d.each(b,function(a,b){if("inputmask"==b.namespace){var d=b.handler;b.handler=function(){return this.readOnly||this.disabled?!1:d.apply(this,arguments)}}})})}function c(a){var b;Object.getOwnPropertyDescriptor&&(b=Object.getOwnPropertyDescriptor(a,"value"));if(b&&b.get)a._valueGet||(a._valueGet=b.get,a._valueSet=b.set,Object.defineProperty(a,"value",{get:function(){var a=d(this),b=d(this).data("inputmask");return b&&b.autoUnmask?a.inputmask("unmaskedvalue"):this._valueGet()!=b._buffer.join("")?
this._valueGet():""},set:function(a){this._valueSet(a);d(this).triggerHandler("setvalue.inputmask")}}));else if(document.__lookupGetter__&&a.__lookupGetter__("value"))a._valueGet||(a._valueGet=a.__lookupGetter__("value"),a._valueSet=a.__lookupSetter__("value"),a.__defineGetter__("value",function(){var a=d(this),b=d(this).data("inputmask");return b&&b.autoUnmask?a.inputmask("unmaskedvalue"):this._valueGet()!=b._buffer.join("")?this._valueGet():""}),a.__defineSetter__("value",function(a){this._valueSet(a);
d(this).triggerHandler("setvalue.inputmask")}));else if(a._valueGet||(a._valueGet=function(){return this.value},a._valueSet=function(a){this.value=a}),!0!=d.fn.val.inputmaskpatch)d.fn.val=function(){if(arguments.length==0){var a=d(this);if(a.data("inputmask")){if(a.data("inputmask").autoUnmask)return a.inputmask("unmaskedvalue");var b=d.inputmask.val.apply(a);return b!=a.data("inputmask")._buffer.join("")?b:""}return d.inputmask.val.apply(a)}var e=arguments;return this.each(function(){var a=d(this),
b=d.inputmask.val.apply(a,e);a.data("inputmask")&&a.triggerHandler("setvalue.inputmask");return b})},d.extend(d.fn.val,{inputmaskpatch:!0})}function s(a,b,d){for(;!r(a)&&0<=a-1;)a--;for(var c=a;c<b&&c<n();c++)if(r(c)){K(e,c);var f=w(e,c),o=t(e,f);if(o!=A(f))if(f<n()&&!1!==G(c,o,e,!0)&&i[c%i.length].def==i[f%i.length].def)F(e,c,t(e,f)),K(e,f);else{if(r(c))break}else if(void 0==d)break}else K(e,c);void 0!=d&&F(e,v?b:L(e,b),d);e=M(e.join(""),v).split("");0==e.length&&(e=g.slice());return a}function z(a,
b,d,c){for(;a<=b&&a<n();a++)if(r(a)){var f=t(e,a);F(e,a,d);if(f!=A(a))if(d=w(e,a),d<n())if(!1!==G(d,f,e,!0)&&i[a%i.length].def==i[d%i.length].def)d=f;else if(r(d))break;else d=f;else break;else if(!0!==c)break}else K(e,a);c=e.length;e=M(e.join(""),v).split("");0==e.length&&(e=g.slice());return b-(c-e.length)}function D(b){C=!1;var c=this,f=b.keyCode,i=j(c);if(a.numericInput&&""!=a.radixPoint){var h=c._valueGet().indexOf(a.radixPoint);-1!=h&&(v=i.begin<=h||i.end<=h)}if(f==a.keyCode.BACKSPACE||f==a.keyCode.DELETE||
U&&127==f){h=n();if(0==i.begin&&i.end==h)e=g.slice(),x(c,e),j(c,m(c,e,!1));else if(1<i.end-i.begin||1==i.end-i.begin&&a.insertMode)Q(e,i.begin,i.end),x(c,e),j(v?m(c,e,!1):i.begin);else{var o=i.begin-(f==a.keyCode.DELETE?0:1);o<H&&f==a.keyCode.DELETE&&(o=H);o>=H&&(a.numericInput&&a.greedy&&f==a.keyCode.DELETE&&e[o]==a.radixPoint?(o=w(e,o),v=!1):a.numericInput&&(a.greedy&&f==a.keyCode.BACKSPACE&&e[o]==a.radixPoint)&&(o--,v=!0),v?(o=z(H,o,A(o),!0),o=a.numericInput&&a.greedy&&f==a.keyCode.BACKSPACE&&
e[o+1]==a.radixPoint?o+1:w(e,o)):o=s(o,h),x(c,e,o))}c._valueGet()==g.join("")&&d(c).trigger("cleared");b.preventDefault()}else f==a.keyCode.END||f==a.keyCode.PAGE_DOWN?setTimeout(function(){var d=m(c,e,!1,!0);!a.insertMode&&(d==n()&&!b.shiftKey)&&d--;j(c,b.shiftKey?i.begin:d,d)},0):f==a.keyCode.HOME||f==a.keyCode.PAGE_UP?j(c,0,b.shiftKey?i.begin:0):f==a.keyCode.ESCAPE?(c._valueSet(y),j(c,0,m(c,e))):f==a.keyCode.INSERT?(a.insertMode=!a.insertMode,j(c,!a.insertMode&&i.begin==n()?i.begin-1:i.begin)):
b.ctrlKey&&88==f?setTimeout(function(){j(c,m(c,e,!0))},0):a.insertMode||(f==a.keyCode.RIGHT?(h=i.begin==i.end?i.end+1:i.end,h=h<n()?h:i.end,j(c,b.shiftKey?i.begin:h,b.shiftKey?h+1:h)):f==a.keyCode.LEFT&&(h=i.begin-1,h=0<h?h:0,j(c,h,b.shiftKey?i.end:h)));a.onKeyDown.call(this,b,a);q=-1!=d.inArray(f,a.ignorables)}function B(b){if(C)return!1;C=!0;var c=this,f=d(c),b=b||window.event,g=b.which||b.charCode||b.keyCode,i=String.fromCharCode(g);if(a.numericInput&&i==a.radixPoint){var h=c._valueGet().indexOf(a.radixPoint);
j(c,w(e,-1!=h?h:n()))}if(b.ctrlKey||b.altKey||b.metaKey||q)return!0;if(g){f.trigger("input");var k=j(c),l=n(),g=!0;Q(e,k.begin,k.end);if(v){var h=L(e,k.end),p;if(!1!==(p=G(h==l||t(e,h)==a.radixPoint?L(e,h):h,i,e,!1))){!0!==p&&(h=void 0!=p.pos?p.pos:h,i=void 0!=p.c?p.c:i);p=H;if(!0==a.insertMode){if(!0==a.greedy)for(var m=e.slice();t(m,p,!0)!=A(p)&&p<=h;)p=p==l?l+1:w(e,p);p<=h&&(a.greedy||e.length<l)?(e[H]!=A(H)&&e.length<l&&(l=P(e,-1,v),0!=k.end&&(h+=l),l=e.length),s(p,h,i)):g=!1}else F(e,h,i);g&&
(x(c,e,a.numericInput?h+1:h),setTimeout(function(){N(c)&&f.trigger("complete")},0))}else J&&x(c,e,k.begin)}else if(h=w(e,k.begin-1),P(e,h,v),!1!==(p=G(h,i,e,!1))){!0!==p&&(h=void 0!=p.pos?p.pos:h,i=void 0!=p.c?p.c:i);if(!0==a.insertMode){k=n();for(m=e.slice();t(m,k,!0)!=A(k)&&k>=h;)k=0==k?-1:L(e,k);k>=h?z(h,e.length,i):g=!1}else F(e,h,i);g&&(i=w(e,h),x(c,e,i),setTimeout(function(){N(c)&&f.trigger("complete")},0))}else J&&x(c,e,k.begin);b.preventDefault()}}function k(b){var c=d(this),f=b.keyCode;a.onKeyUp.call(this,
b,a);f==a.keyCode.TAB&&(c.hasClass("focus.inputmask")&&0==this._valueGet().length)&&(e=g.slice(),x(this,e),v||j(this,0),y=this._valueGet())}var h=d(f);if(h.is(":input")){a.greedy=a.greedy?a.greedy:0==a.repeat;var l=h.prop("maxLength");n()>l&&-1<l&&(l<g.length&&(g.length=l),!1==a.greedy&&(a.repeat=Math.round(l/g.length)),h.prop("maxLength",2*n()));h.data("inputmask",{tests:i,_buffer:g,greedy:a.greedy,repeat:a.repeat,autoUnmask:a.autoUnmask,definitions:a.definitions,isRTL:!1});c(f);var e=g.slice(),
y=f._valueGet(),C=!1,q=!1,u=-1,H=w(e,-1);L(e,n());var v=!1;if("rtl"==f.dir||a.numericInput)f.dir="ltr",h.css("text-align","right"),h.removeAttr("dir"),l=h.data("inputmask"),l.isRTL=!0,h.data("inputmask",l),v=!0;h.unbind(".inputmask");h.removeClass("focus.inputmask");h.bind("mouseenter.inputmask",function(){if(!d(this).hasClass("focus.inputmask")&&a.showMaskOnHover){var b=this._valueGet().length;b<e.length&&(0==b&&(e=g.slice()),x(this,e))}}).bind("blur.inputmask",function(){var b=d(this),c=this._valueGet();
b.removeClass("focus.inputmask");c!=y&&b.change();a.clearMaskOnLostFocus&&""!=c&&(c==g.join("")?this._valueSet(""):R(this,e));N(this)||(b.trigger("incomplete"),a.clearIncomplete&&(a.clearMaskOnLostFocus?this._valueSet(""):(e=g.slice(),x(this,e))))}).bind("focus.inputmask",function(){var b=d(this),c=this._valueGet();if(!b.hasClass("focus.inputmask")&&(!a.showMaskOnHover||a.showMaskOnHover&&""==c))c=c.length,c<e.length&&(0==c&&(e=g.slice()),j(this,m(this,e,!0)));b.addClass("focus.inputmask");y=this._valueGet()}).bind("mouseleave.inputmask",
function(){var b=d(this);a.clearMaskOnLostFocus&&(b.hasClass("focus.inputmask")||(this._valueGet()==g.join("")||""==this._valueGet()?this._valueSet(""):R(this,e)))}).bind("click.inputmask",function(){var a=this;setTimeout(function(){var b=j(a);b.begin==b.end&&(b=b.begin,u=m(a,e,!1),v?j(a,b>u&&(!1!==G(b,e[b],e,!0)||!r(b))?b:u):j(a,b<u&&(!1!==G(b,e[b],e,!0)||!r(b))?b:u))},0)}).bind("dblclick.inputmask",function(){var a=this;setTimeout(function(){j(a,0,u)},0)}).bind("keydown.inputmask",D).bind("keypress.inputmask",
B).bind("keyup.inputmask",k).bind(V+".inputmask dragdrop.inputmask drop.inputmask",function(){var a=this;setTimeout(function(){j(a,m(a,e,!0))},0)}).bind("setvalue.inputmask",function(){y=this._valueGet();m(this,e,!0);this._valueGet()==g.join("")&&this._valueSet("")}).bind("complete.inputmask",a.oncomplete).bind("incomplete.inputmask",a.onincomplete).bind("cleared.inputmask",a.oncleared);var u=m(f,e,!0),I;try{I=document.activeElement}catch(O){}I===f?(h.addClass("focus.inputmask"),j(f,u)):a.clearMaskOnLostFocus&&
(f._valueGet()==g.join("")?f._valueSet(""):R(f,e));b(f)}}var a=d.extend(!0,{},d.inputmask.defaults,C),V=function(a){var b=document.createElement("input"),a="on"+a,c=a in b;c||(b.setAttribute(a,"return;"),c="function"==typeof b[a]);return c}("paste")?"paste":"input",U=null!=navigator.userAgent.match(/iphone/i),J=null!=navigator.userAgent.match(/android.*mobile safari.*/i);if(J)var W=navigator.userAgent.match(/mobile safari.*/i),J=533>=parseInt(RegExp(/[0-9]+/).exec(W));if("string"==typeof s)switch(s){case "mask":z(a.alias,
C);var g=D(),i=I();return this.each(function(){O(this)});case "unmaskedvalue":return i=this.data("inputmask").tests,g=this.data("inputmask")._buffer,a.greedy=this.data("inputmask").greedy,a.repeat=this.data("inputmask").repeat,a.definitions=this.data("inputmask").definitions,T(this);case "remove":return this.each(function(){var f=d(this),b=this;setTimeout(function(){if(f.data("inputmask")){i=f.data("inputmask").tests;g=f.data("inputmask")._buffer;a.greedy=f.data("inputmask").greedy;a.repeat=f.data("inputmask").repeat;
a.definitions=f.data("inputmask").definitions;b._valueSet(T(f,!0));f.removeData("inputmask");f.unbind(".inputmask");f.removeClass("focus.inputmask");var c;Object.getOwnPropertyDescriptor&&(c=Object.getOwnPropertyDescriptor(b,"value"));c&&c.get?b._valueGet&&Object.defineProperty(b,"value",{get:b._valueGet,set:b._valueSet}):document.__lookupGetter__&&b.__lookupGetter__("value")&&b._valueGet&&(b.__defineGetter__("value",b._valueGet),b.__defineSetter__("value",b._valueSet));delete b._valueGet;delete b._valueSet}},
0)});case "getemptymask":return this.data("inputmask")?this.data("inputmask")._buffer.join(""):"";case "hasMaskedValue":return this.data("inputmask")?!this.data("inputmask").autoUnmask:!1;case "isComplete":return i=this.data("inputmask").tests,g=this.data("inputmask")._buffer,a.greedy=this.data("inputmask").greedy,a.repeat=this.data("inputmask").repeat,a.definitions=this.data("inputmask").definitions,N(this[0]);default:return z(s,C)||(a.mask=s),g=D(),i=I(),this.each(function(){O(this)})}else{if("object"==
typeof s)return a=d.extend(!0,{},d.inputmask.defaults,s),z(a.alias,s),g=D(),i=I(),this.each(function(){O(this)});if(void 0==s)return this.each(function(){var f=d(this).attr("data-inputmask");if(f&&""!=f)try{var f=f.replace(RegExp("'","g"),'"'),b=d.parseJSON("{"+f+"}");a=d.extend(!0,{},d.inputmask.defaults,b);z(a.alias,b);a.alias=void 0;d(this).inputmask(a)}catch(c){}})}return this})})(jQuery);
>>>>>>> 1.x
