/*!
* jquery.inputmask.date.extensions.js
* http://github.com/RobinHerbots/jquery.inputmask
* Copyright (c) 2010 - 2014 Robin Herbots
* Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
* Version: 3.1.48
*/
;!function(a){"function"==typeof define&&define.amd?define(["jquery","./jquery.inputmask"],a):a(jQuery)}(function(a){return a.extend(a.inputmask.defaults.definitions,{h:{validator:"[01][0-9]|2[0-3]",cardinality:2,prevalidator:[{validator:"[0-2]",cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:"[0-5]",cardinality:1}]},d:{validator:"0[1-9]|[12][0-9]|3[01]",cardinality:2,prevalidator:[{validator:"[0-3]",cardinality:1}]},m:{validator:"0[1-9]|1[012]",cardinality:2,prevalidator:[{validator:"[01]",cardinality:1}]},y:{validator:"(19|20)\\d{2}",cardinality:4,prevalidator:[{validator:"[12]",cardinality:1},{validator:"(19|20)",cardinality:2},{validator:"(19|20)\\d",cardinality:3}]}}),a.extend(a.inputmask.defaults.aliases,{"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:new RegExp("[0-3]"),val1:new RegExp("0[1-9]|[12][0-9]|3[01]"),val2pre:function(c){var b=a.inputmask.escapeRegex.call(this,c);return new RegExp("((0[1-9]|[12][0-9]|3[01])"+b+"[01])")},val2:function(c){var b=a.inputmask.escapeRegex.call(this,c);return new RegExp("((0[1-9]|[12][0-9])"+b+"(0[1-9]|1[012]))|(30"+b+"(0[13-9]|1[012]))|(31"+b+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(e,b,c){if(isNaN(e)){return !1}var d=parseInt(e.concat(b.toString().slice(e.length))),f=parseInt(e.concat(c.toString().slice(e.length)));return(isNaN(d)?!1:d>=b&&c>=d)||(isNaN(f)?!1:f>=b&&c>=f)},determinebaseyear:function(c,e,g){var f=new Date().getFullYear();if(c>f){return c}if(f>e){for(var b=e.toString().slice(0,2),h=e.toString().slice(2,4);b+g>e;){b--}var d=b+h;return c>d?c:d}return f},onKeyUp:function(c){var d=a(this);if(c.ctrlKey&&c.keyCode==a.inputmask.keyCode.RIGHT){var b=new Date();d.val(b.getDate().toString()+(b.getMonth()+1).toString()+b.getFullYear().toString()),d.triggerHandler("setvalue.inputmask")}},getFrontValue:function(c,b,g){for(var h=0,f=0,e=0;e<c.length&&"2"!=c.charAt(e);e++){var d=g.definitions[c.charAt(e)];d?(h+=f,f=d.cardinality):f++}return b.join("").substr(h,f)},definitions:{"1":{validator:function(c,f,g,b,d){var e=d.regex.val1.test(c);return b||e||c.charAt(1)!=d.separator&&-1=="-./".indexOf(c.charAt(1))||!(e=d.regex.val1.test("0"+c.charAt(0)))?e:(f.buffer[g-1]="0",{refreshFromBuffer:{start:g-1,end:g},pos:g,c:c.charAt(0)})},cardinality:2,prevalidator:[{validator:function(c,f,g,b,d){isNaN(f.buffer[g+1])||(c+=f.buffer[g+1]);var e=1==c.length?d.regex.val1pre.test(c):d.regex.val1.test(c);return b||e||!(e=d.regex.val1.test("0"+c))?e:(f.buffer[g]="0",g++,{pos:g})},cardinality:1}]},"2":{validator:function(d,h,f,g,b){var c=b.getFrontValue(h.mask,h.buffer,b);-1!=c.indexOf(b.placeholder[0])&&(c="01"+b.separator);var j=b.regex.val2(b.separator).test(c+d);if(!g&&!j&&(d.charAt(1)==b.separator||-1!="-./".indexOf(d.charAt(1)))&&(j=b.regex.val2(b.separator).test(c+"0"+d.charAt(0)))){return h.buffer[f-1]="0",{refreshFromBuffer:{start:f-1,end:f},pos:f,c:d.charAt(0)}}if(b.mask.indexOf("2")==b.mask.length-1&&j){var i=h.buffer.join("").substr(4,4)+d;if(i!=b.leapday){return !0}var e=parseInt(h.buffer.join("").substr(0,4),10);return e%4===0?e%100===0?e%400===0?!0:!1:!0:!1}return j},cardinality:2,prevalidator:[{validator:function(c,g,h,b,d){isNaN(g.buffer[h+1])||(c+=g.buffer[h+1]);var f=d.getFrontValue(g.mask,g.buffer,d);-1!=f.indexOf(d.placeholder[0])&&(f="01"+d.separator);var e=1==c.length?d.regex.val2pre(d.separator).test(f+c):d.regex.val2(d.separator).test(f+c);return b||e||!(e=d.regex.val2(d.separator).test(f+"0"+c))?e:(g.buffer[h]="0",h++,{pos:h})},cardinality:1}]},y:{validator:function(c,f,h,b,e){if(e.isInYearRange(c,e.yearrange.minyear,e.yearrange.maxyear)){var g=f.buffer.join("").substr(0,6);if(g!=e.leapday){return !0}var d=parseInt(c,10);return d%4===0?d%100===0?d%400===0?!0:!1:!0:!1}return !1},cardinality:4,prevalidator:[{validator:function(d,g,h,c,e){var f=e.isInYearRange(d,e.yearrange.minyear,e.yearrange.maxyear);if(!c&&!f){var b=e.determinebaseyear(e.yearrange.minyear,e.yearrange.maxyear,d+"0").toString().slice(0,1);if(f=e.isInYearRange(b+d,e.yearrange.minyear,e.yearrange.maxyear)){return g.buffer[h++]=b.charAt(0),{pos:h}}if(b=e.determinebaseyear(e.yearrange.minyear,e.yearrange.maxyear,d+"0").toString().slice(0,2),f=e.isInYearRange(b+d,e.yearrange.minyear,e.yearrange.maxyear)){return g.buffer[h++]=b.charAt(0),g.buffer[h++]=b.charAt(1),{pos:h}}}return f},cardinality:1},{validator:function(c,h,f,g,b){var j=b.isInYearRange(c,b.yearrange.minyear,b.yearrange.maxyear);if(!g&&!j){var d=b.determinebaseyear(b.yearrange.minyear,b.yearrange.maxyear,c).toString().slice(0,2);if(j=b.isInYearRange(c[0]+d[1]+c[1],b.yearrange.minyear,b.yearrange.maxyear)){return h.buffer[f++]=d.charAt(1),{pos:f}}if(d=b.determinebaseyear(b.yearrange.minyear,b.yearrange.maxyear,c).toString().slice(0,2),b.isInYearRange(d+c,b.yearrange.minyear,b.yearrange.maxyear)){var i=h.buffer.join("").substr(0,6);if(i!=b.leapday){j=!0}else{var e=parseInt(c,10);j=e%4===0?e%100===0?e%400===0?!0:!1:!0:!1}}else{j=!1}if(j){return h.buffer[f-1]=d.charAt(0),h.buffer[f++]=d.charAt(1),h.buffer[f++]=c.charAt(0),{refreshFromBuffer:{start:f-3,end:f},pos:f}}}return j},cardinality:2},{validator:function(c,e,f,b,d){return d.isInYearRange(c,d.yearrange.minyear,d.yearrange.maxyear)},cardinality:3}]}},insertMode:!1,autoUnmask:!1},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(c){var b=a.inputmask.escapeRegex.call(this,c);return new RegExp("((0[13-9]|1[012])"+b+"[0-3])|(02"+b+"[0-2])")},val2:function(c){var b=a.inputmask.escapeRegex.call(this,c);return new RegExp("((0[1-9]|1[012])"+b+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+b+"30)|((0[13578]|1[02])"+b+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyUp:function(c){var d=a(this);if(c.ctrlKey&&c.keyCode==a.inputmask.keyCode.RIGHT){var b=new Date();d.val((b.getMonth()+1).toString()+b.getDate().toString()+b.getFullYear().toString()),d.triggerHandler("setvalue.inputmask")}}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyUp:function(c){var d=a(this);if(c.ctrlKey&&c.keyCode==a.inputmask.keyCode.RIGHT){var b=new Date();d.val(b.getFullYear().toString()+(b.getMonth()+1).toString()+b.getDate().toString()),d.triggerHandler("setvalue.inputmask")}}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:new RegExp("[012]"),hrs24:new RegExp("2[0-4]|1[3-9]"),hrs:new RegExp("[01][0-9]|2[0-4]"),ampm:new RegExp("^[a|p|A|P][m|M]"),mspre:new RegExp("[0-5]"),ms:new RegExp("[0-5][0-9]")},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(d,g,h,b,e){if("24"==e.hourFormat&&24==parseInt(d,10)){return g.buffer[h-1]="0",g.buffer[h]="0",{refreshFromBuffer:{start:h-1,end:h},c:"0"}}var f=e.regex.hrs.test(d);if(!b&&!f&&(d.charAt(1)==e.timeseparator||-1!="-.:".indexOf(d.charAt(1)))&&(f=e.regex.hrs.test("0"+d.charAt(0)))){return g.buffer[h-1]="0",g.buffer[h]=d.charAt(0),h++,{refreshFromBuffer:{start:h-2,end:h},pos:h,c:e.timeseparator}}if(f&&"24"!==e.hourFormat&&e.regex.hrs24.test(d)){var c=parseInt(d,10);return 24==c?(g.buffer[h+5]="a",g.buffer[h+6]="m"):(g.buffer[h+5]="p",g.buffer[h+6]="m"),c-=12,10>c?(g.buffer[h]=c.toString(),g.buffer[h-1]="0"):(g.buffer[h]=c.toString().charAt(1),g.buffer[h-1]=c.toString().charAt(0)),{refreshFromBuffer:{start:h-1,end:h+6},c:g.buffer[h]}}return f},cardinality:2,prevalidator:[{validator:function(c,f,g,b,d){var e=d.regex.hrspre.test(c);return b||e||!(e=d.regex.hrs.test("0"+c))?e:(f.buffer[g]="0",g++,{pos:g})},cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:function(c,f,g,b,d){var e=d.regex.mspre.test(c);return b||e||!(e=d.regex.ms.test("0"+c))?e:(f.buffer[g]="0",g++,{pos:g})},cardinality:1}]},t:{validator:function(c,e,f,b,d){return d.regex.ampm.test(c+"m")},casing:"lower",cardinality:1}},insertMode:!1,autoUnmask:!1},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",placeholder:"hh:mm:ss",alias:"datetime",autoUnmask:!1},"hh:mm":{mask:"h:s",placeholder:"hh:mm",alias:"datetime",autoUnmask:!1},date:{alias:"dd/mm/yyyy"},"mm/yyyy":{mask:"1/y",placeholder:"mm/yyyy",leapday:"donotuse",separator:"/",alias:"mm/dd/yyyy"}}),a.fn.inputmask});