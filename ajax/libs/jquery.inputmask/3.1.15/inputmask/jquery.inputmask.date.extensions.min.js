!function(b){"function"==typeof define&&define.amd?define(["jquery","./jquery.inputmask"],b):b(jQuery)}(function(b){return b.extend(b.inputmask.defaults.definitions,{h:{validator:"[01][0-9]|2[0-3]",cardinality:2,prevalidator:[{validator:"[0-2]",cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:"[0-5]",cardinality:1}]},d:{validator:"0[1-9]|[12][0-9]|3[01]",cardinality:2,prevalidator:[{validator:"[0-3]",cardinality:1}]},m:{validator:"0[1-9]|1[012]",cardinality:2,prevalidator:[{validator:"[01]",cardinality:1}]},y:{validator:"(19|20)\\d{2}",cardinality:4,prevalidator:[{validator:"[12]",cardinality:1},{validator:"(19|20)",cardinality:2},{validator:"(19|20)\\d",cardinality:3}]}}),b.extend(b.inputmask.defaults.aliases,{"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:new RegExp("[0-3]"),val1:new RegExp("0[1-9]|[12][0-9]|3[01]"),val2pre:function(a){var d=b.inputmask.escapeRegex.call(this,a);return new RegExp("((0[1-9]|[12][0-9]|3[01])"+d+"[01])")},val2:function(a){var d=b.inputmask.escapeRegex.call(this,a);return new RegExp("((0[1-9]|[12][0-9])"+d+"(0[1-9]|1[012]))|(30"+d+"(0[13-9]|1[012]))|(31"+d+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(g,f,j){if(isNaN(g)){return !1}var i=parseInt(g.concat(f.toString().slice(g.length))),h=parseInt(g.concat(j.toString().slice(g.length)));return(isNaN(i)?!1:i>=f&&j>=i)||(isNaN(h)?!1:h>=f&&j>=h)},determinebaseyear:function(i,h,n){var m=(new Date).getFullYear();if(i>m){return i}if(m>h){for(var l=h.toString().slice(0,2),k=h.toString().slice(2,4);l+n>h;){l--}var j=l+k;return i>j?i:j}return m},onKeyUp:function(a,l,k,j){var i=b(this);if(a.ctrlKey&&a.keyCode==j.keyCode.RIGHT){var h=new Date;i.val(h.getDate().toString()+(h.getMonth()+1).toString()+h.getFullYear().toString())}},definitions:{1:{validator:function(h,g,l,k,j){var i=j.regex.val1.test(h);return k||i||h.charAt(1)!=j.separator&&-1=="-./".indexOf(h.charAt(1))||!(i=j.regex.val1.test("0"+h.charAt(0)))?i:(g.buffer[l-1]="0",{refreshFromBuffer:{start:l-1,end:l},pos:l,c:h.charAt(0)})},cardinality:2,prevalidator:[{validator:function(h,g,l,k,j){isNaN(g.buffer[l+1])||(h+=g.buffer[l+1]);var i=1==h.length?j.regex.val1pre.test(h):j.regex.val1.test(h);return k||i||!(i=j.regex.val1.test("0"+h))?i:(g.buffer[l]="0",l++,{pos:l})},cardinality:1}]},2:{validator:function(r,q,p,o,n){var m=n.mask.indexOf("2")==n.mask.length-1?q.buffer.join("").substr(5,3):q.buffer.join("").substr(0,3);-1!=m.indexOf(n.placeholder[0])&&(m="01"+n.separator);var l=n.regex.val2(n.separator).test(m+r);if(!o&&!l&&(r.charAt(1)==n.separator||-1!="-./".indexOf(r.charAt(1)))&&(l=n.regex.val2(n.separator).test(m+"0"+r.charAt(0)))){return q.buffer[p-1]="0",{refreshFromBuffer:{start:p-1,end:p},pos:p,c:r.charAt(0)}}if(n.mask.indexOf("2")==n.mask.length-1&&l){var k=q.buffer.join("").substr(4,4)+r;if(k!=n.leapday){return !0}var j=parseInt(q.buffer.join("").substr(0,4),10);return j%4===0?j%100===0?j%400===0?!0:!1:!0:!1}return l},cardinality:2,prevalidator:[{validator:function(i,h,n,m,l){isNaN(h.buffer[n+1])||(i+=h.buffer[n+1]);var k=l.mask.indexOf("2")==l.mask.length-1?h.buffer.join("").substr(5,3):h.buffer.join("").substr(0,3);-1!=k.indexOf(l.placeholder[0])&&(k="01"+l.separator);var j=1==i.length?l.regex.val2pre(l.separator).test(k+i):l.regex.val2(l.separator).test(k+i);return m||j||!(j=l.regex.val2(l.separator).test(k+"0"+i))?j:(h.buffer[n]="0",n++,{pos:n})},cardinality:1}]},y:{validator:function(i,h,n,m,l){if(l.isInYearRange(i,l.yearrange.minyear,l.yearrange.maxyear)){var k=h.buffer.join("").substr(0,6);if(k!=l.leapday){return !0}var j=parseInt(i,10);return j%4===0?j%100===0?j%400===0?!0:!1:!0:!1}return !1},cardinality:4,prevalidator:[{validator:function(i,h,n,m,l){var k=l.isInYearRange(i,l.yearrange.minyear,l.yearrange.maxyear);if(!m&&!k){var j=l.determinebaseyear(l.yearrange.minyear,l.yearrange.maxyear,i+"0").toString().slice(0,1);if(k=l.isInYearRange(j+i,l.yearrange.minyear,l.yearrange.maxyear)){return h.buffer[n++]=j.charAt(0),{pos:n}}if(j=l.determinebaseyear(l.yearrange.minyear,l.yearrange.maxyear,i+"0").toString().slice(0,2),k=l.isInYearRange(j+i,l.yearrange.minyear,l.yearrange.maxyear)){return h.buffer[n++]=j.charAt(0),h.buffer[n++]=j.charAt(1),{pos:n}}}return k},cardinality:1},{validator:function(r,q,p,o,n){var m=n.isInYearRange(r,n.yearrange.minyear,n.yearrange.maxyear);if(!o&&!m){var l=n.determinebaseyear(n.yearrange.minyear,n.yearrange.maxyear,r).toString().slice(0,2);if(m=n.isInYearRange(r[0]+l[1]+r[1],n.yearrange.minyear,n.yearrange.maxyear)){return q.buffer[p++]=l.charAt(1),{pos:p}}if(l=n.determinebaseyear(n.yearrange.minyear,n.yearrange.maxyear,r).toString().slice(0,2),n.isInYearRange(l+r,n.yearrange.minyear,n.yearrange.maxyear)){var k=q.buffer.join("").substr(0,6);if(k!=n.leapday){m=!0}else{var j=parseInt(r,10);m=j%4===0?j%100===0?j%400===0?!0:!1:!0:!1}}else{m=!1}if(m){return q.buffer[p-1]=l.charAt(0),q.buffer[p++]=l.charAt(1),q.buffer[p++]=r.charAt(0),{refreshFromBuffer:{start:p-3,end:p},pos:p}}}return m},cardinality:2},{validator:function(g,f,j,i,h){return h.isInYearRange(g,h.yearrange.minyear,h.yearrange.maxyear)},cardinality:3}]}},insertMode:!1,autoUnmask:!1},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(a){var d=b.inputmask.escapeRegex.call(this,a);return new RegExp("((0[13-9]|1[012])"+d+"[0-3])|(02"+d+"[0-2])")},val2:function(a){var d=b.inputmask.escapeRegex.call(this,a);return new RegExp("((0[1-9]|1[012])"+d+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+d+"30)|((0[13578]|1[02])"+d+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyUp:function(a,l,k,j){var i=b(this);if(a.ctrlKey&&a.keyCode==j.keyCode.RIGHT){var h=new Date;i.val((h.getMonth()+1).toString()+h.getDate().toString()+h.getFullYear().toString())}}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyUp:function(a,l,k,j){var i=b(this);if(a.ctrlKey&&a.keyCode==j.keyCode.RIGHT){var h=new Date;i.val(h.getFullYear().toString()+(h.getMonth()+1).toString()+h.getDate().toString())}}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:new RegExp("[012]"),hrs24:new RegExp("2[0-4]|1[3-9]"),hrs:new RegExp("[01][0-9]|2[0-4]"),ampm:new RegExp("^[a|p|A|P][m|M]"),mspre:new RegExp("[0-5]"),ms:new RegExp("[0-5][0-9]")},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(i,h,n,m,l){if("24"==l.hourFormat&&24==parseInt(i,10)){return h.buffer[n-1]="0",h.buffer[n]="0",{refreshFromBuffer:{start:n-1,end:n},c:"0"}}var k=l.regex.hrs.test(i);if(!m&&!k&&(i.charAt(1)==l.timeseparator||-1!="-.:".indexOf(i.charAt(1)))&&(k=l.regex.hrs.test("0"+i.charAt(0)))){return h.buffer[n-1]="0",h.buffer[n]=i.charAt(0),n++,{refreshFromBuffer:{start:n-2,end:n},pos:n,c:l.timeseparator}}if(k&&"24"!==l.hourFormat&&l.regex.hrs24.test(i)){var j=parseInt(i,10);return 24==j?(h.buffer[n+5]="a",h.buffer[n+6]="m"):(h.buffer[n+5]="p",h.buffer[n+6]="m"),j-=12,10>j?(h.buffer[n]=j.toString(),h.buffer[n-1]="0"):(h.buffer[n]=j.toString().charAt(1),h.buffer[n-1]=j.toString().charAt(0)),{refreshFromBuffer:{start:n-1,end:n+6},c:h.buffer[n]}}return k},cardinality:2,prevalidator:[{validator:function(h,g,l,k,j){var i=j.regex.hrspre.test(h);return k||i||!(i=j.regex.hrs.test("0"+h))?i:(g.buffer[l]="0",l++,{pos:l})},cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:function(h,g,l,k,j){var i=j.regex.mspre.test(h);return k||i||!(i=j.regex.ms.test("0"+h))?i:(g.buffer[l]="0",l++,{pos:l})},cardinality:1}]},t:{validator:function(g,f,j,i,h){return h.regex.ampm.test(g+"m")},casing:"lower",cardinality:1}},insertMode:!1,autoUnmask:!1},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",placeholder:"hh:mm:ss",alias:"datetime",autoUnmask:!1},"hh:mm":{mask:"h:s",placeholder:"hh:mm",alias:"datetime",autoUnmask:!1},date:{alias:"dd/mm/yyyy"},"mm/yyyy":{mask:"1/y",placeholder:"mm/yyyy",leapday:"donotuse",separator:"/",alias:"mm/dd/yyyy"}}),b.fn.inputmask});