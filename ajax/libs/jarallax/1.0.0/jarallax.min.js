!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){Date.now||(Date.now=function(){return(new Date).getTime()}),window.requestAnimationFrame||function(){"use strict";for(var e=["webkit","moz"],t=0;t<e.length&&!window.requestAnimationFrame;++t){var n=e[t];window.requestAnimationFrame=window[n+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n+"CancelAnimationFrame"]||window[n+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var i=0;window.requestAnimationFrame=function(e){var t=Date.now(),n=Math.max(i+16,t);return setTimeout(function(){e(i=n)},n-t)},window.cancelAnimationFrame=clearTimeout}}();var t=function(){for(var e="transform WebkitTransform MozTransform OTransform msTransform".split(" "),t=document.createElement("div"),n=0;n<e.length;n++)if(t&&void 0!==t.style[e[n]])return e[n];return!1}(),n=function(){if(!window.getComputedStyle)return!1;var e,t=document.createElement("p"),n={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};(document.body||document.documentElement).insertBefore(t,null);for(var i in n)void 0!==t.style[i]&&(t.style[i]="translate3d(1px,1px,1px)",e=window.getComputedStyle(t).getPropertyValue(n[i]));return(document.body||document.documentElement).removeChild(t),void 0!==e&&e.length>0&&"none"!==e}(),i=function(){function t(t,i){var a,o=this;o.$item=e(t),o.defaults={speed:.5,imgSrc:null,imgWidth:null,imgHeight:null,enableTransform:!0,zIndex:-100},a=o.$item.data("jarallax")||{},o.options=e.extend({},o.defaults,a,i),o.instanceID=n++,o.image={src:o.options.imgSrc||null,$container:null,$item:null,width:o.options.imgWidth||null,height:o.options.imgHeight||null},o.initImg()&&(o.initEvents(),o.init())}var n=0;return t}();i.prototype.initImg=function(){var e=this;return null===e.image.src&&(e.image.src=e.$item.css("background-image").replace(/^url\(['"]?/g,"").replace(/['"]?\)$/g,"")),!(!e.image.src||"none"===e.image.src)},i.prototype.init=function(){var t=this;t.image.$container=e("<div>").css({position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden","pointer-events":"none",transition:"transform linear -1ms, -webkit-transform linear -1ms"}).prependTo(t.$item),t.image.$item=t.image.$container.clone().css({position:"fixed","pointer-events":"none","background-position":"50% 50%","background-repeat":"no-repeat no-repeat","background-image":"url("+t.image.src+")"}).prependTo(t.image.$container),t.image.$container.css({visibility:"hidden","z-index":t.options.zIndex}).attr("id","jarallax-container-"+t.instanceID).prependTo(t.$item),t.getImageSize(t.image.src,function(n,i){t.image.width=n,t.image.height=i,window.requestAnimationFrame(e.proxy(t.coverImage,t)),window.requestAnimationFrame(e.proxy(t.clipContainer,t)),window.requestAnimationFrame(e.proxy(t.onScroll,t)),t.$item.data("JarallaxOriginalStyles",t.$item.attr("style")),setTimeout(function(){t.$item.css({"background-image":"none","background-attachment":"scroll","background-size":"auto"})},0)})},i.prototype.initEvents=function(){var t=this;e(window).on("scroll.jarallax.jarallax-"+t.instanceID,function(){window.requestAnimationFrame(e.proxy(t.onScroll,t))});var n;e(window).on("resize.jarallax.jarallax-"+t.instanceID+" load.jarallax.jarallax-"+t.instanceID,function(){clearTimeout(n),n=setTimeout(function(){window.requestAnimationFrame(function(){t.coverImage(),t.clipContainer(),t.onScroll()})},100)})},i.prototype.destroy=function(){var t=this;e("head #jarallax-clip-"+t.instanceID).remove(),e(window).off(".jarallax-"+t.instanceID),t.$item.attr("style",t.$item.data("JarallaxOriginalStyles")),t.$item.removeData("JarallaxOriginalStyles"),t.image.$container.remove(),delete t.$item[0].jarallax},i.prototype.getImageSize=function(e,t){if(!e||!t)return!1;var n=new Image;n.onload=function(){t(n.width,n.height)},n.src=e},i.prototype.clipContainer=function(){var t=this,n=t.image.$container.outerWidth(!0),i=t.image.$container.outerHeight(!0),a=e("head #jarallax-clip-"+t.instanceID);a.length||(e("head").append('<style type="text/css" id="jarallax-clip-'+t.instanceID+'"></style>'),a=e("head #jarallax-clip-"+t.instanceID));var o=["#jarallax-container-"+t.instanceID+" {","   clip: rect(0px "+n+"px "+i+"px 0);","   clip: rect(0px, "+n+"px, "+i+"px, 0);","}"].join("\n");a[0].styleSheet?a[0].styleSheet.cssText=o:a.html(o)},i.prototype.coverImage=function(){var t=this;if(t.image.width&&t.image.height){var n=t.image.$container.outerWidth(!0),i=t.image.$container.outerHeight(!0),a=e(window).outerWidth(!0),o=e(window).outerHeight(!0),r=t.image.width,l=t.image.height,m={width:Math.max(a,n)*Math.max(t.options.speed,1),height:Math.max(o,i)*Math.max(t.options.speed,1)};if(m.width/m.height>r/l){var s=m.width*l/r;m.backgroundSize=m.width+"px "+s+"px"}else{var c=m.height*r/l;m.backgroundSize=c+"px "+m.height+"px"}t.image.$item.css(m)}},i.prototype.onScroll=function(){var i=this;if(i.image.width&&i.image.height){var a=e(window).scrollTop(),o=e(window).height(),r=i.$item.offset().top,l=i.$item.outerHeight(!0),m={visibility:"visible",backgroundPosition:"50% 50%"};if(!(a>r+l||r>a+o)){var s=-(a-r)*i.options.speed;t&&i.options.enableTransform?(m.transform="translateY("+s+"px)",n&&(m.transform="translate3d(0, "+s+"px, 0)")):m.backgroundPosition="50% "+Math.round(s)+"px",i.image.$item.css(m)}}};var a=e.fn.jarallax;e.fn.jarallax=function(){var e,t=this,n=arguments[0],a=Array.prototype.slice.call(arguments,1),o=t.length,r=0;for(r;o>r;r++)if("object"==typeof n||"undefined"==typeof n?t[r].jarallax=new i(t[r],n):e=t[r].jarallax[n].apply(t[r].jarallax,a),"undefined"!=typeof e)return e;return this},e.fn.jarallax.noConflict=function(){return e.fn.jarallax=a,this},e(document).on("ready.data-jarallax",function(){e("[data-jarallax]").jarallax()})});
//# sourceMappingURL=./1.0.0/jarallax.min.js.map