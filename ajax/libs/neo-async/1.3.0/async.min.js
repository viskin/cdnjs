(function(){function B(a){for(var e=-1,c=a.length,b=Array(c);++e<c;)b[e]=a[e];return b}function E(a,e){var c=-1,b=a.length-e;if(0>=b)return[];for(var d=Array(b);++c<b;)d[c]=a[c+e];return d}function J(a){for(var e=-1,c=a.length,b=-1,d=[];++e<c;){var f=a[e];f&&(d[++b]=f)}return d}function Ja(a){for(var e=-1,c=a.length,b=Array(c),d=c;++e<c;)b[--d]=a[e];return b}function fa(a,e,c){var b=-1,d=a.length;if(3===e.length)for(;++b<d;)e(a[b],b,C(c));else for(;++b<d;)e(a[b],C(c))}function ga(a,e,c,b){var d,f=
-1,g=b.length;if(3===e.length)for(;++f<g;)d=b[f],e(a[d],d,C(c));else for(;++f<g;)e(a[b[f]],C(c))}function ha(a,e,c){var b=-1,d=a.length;if(3===e.length)for(;++b<d;)e(a[b],b,c(b));else for(;++b<d;)e(a[b],c(b))}function W(a,e,c){var b,d=-1,f=a.length;if(3===e.length)for(;++d<f;)b=a[d],e(b,d,c(b));else for(;++d<f;)b=a[d],e(b,c(b))}function X(a,e,c,b){var d,f,g=-1,n=b.length;if(3===e.length)for(;++g<n;)d=b[g],f=a[d],e(f,d,c(f));else for(;++g<n;)f=a[b[g]],e(f,c(f))}function Y(a,e,c){var b,d=-1,f=a.length;
if(3===e.length)for(;++d<f;)b=a[d],e(b,d,c(d,b));else for(;++d<f;)b=a[d],e(b,c(d,b))}function ia(a,e,c,b){var d,f,g=-1,n=b.length;if(3===e.length)for(;++g<n;)d=b[g],f=a[d],e(f,d,c(g,f));else for(;++g<n;)f=a[b[g]],e(f,c(g,f))}function H(a,e){for(var c=-1,b=a.length;++c<b;)e(a[c],c);return a}function Z(a,e){for(var c=a.length;c--;)e(a[c],c);return a}function K(a,e,c){c=c||Object.keys(a);for(var b=-1,d=c.length;++b<d;){var f=c[b];e(a[f],f)}return a}function G(a,e){for(var c=-1;++c<a;)e(c)}function Ka(a,
e){for(var c=a.length,b=-1;++b<c;)if(!e(a[b]))return!1;return!0}function L(a){for(var e=a.length,c=-1,b=Array(e);++c<e;)b[c]=a[c];return b}function I(a){for(var e=Object.keys(a),c=e.length,b=-1,d={};++b<c;){var f=e[b];d[f]=a[f]}return d}function P(a,e){for(var c=-1,b=a.length,d=Array(b);++c<b;)d[c]=(a[c]||{})[e];return d}function $(a,e){return a.criteria-e.criteria}function C(a){return function(e,c){null===a&&w();a(e,c);a=null}}function ja(){function a(b,a){var e=c[a],k=e[0],h=e[1],m=b.length;d[a]=
function(){var a=B(arguments),c=a[k],d=a[h];switch(c.length){case 1:a[k]=function(a){x.safeNextTick(function(){c.call(d,a)})};break;case 2:a[k]=function(a,b){x.safeNextTick(function(){c.call(d,a,b)})};break;case 3:a[k]=function(a,b,f){x.safeNextTick(function(){c.call(d,a,b,f)})};break;case 4:a[k]=function(a,b,f,e){x.safeNextTick(function(){c.call(d,a,b,f,e)})};break;default:a[k]=function(){var a=B(arguments);x.safeNextTick(function(){c.apply(d,a)})}}switch(m){case 3:b(a[0],a[1],a[2]);break;case 4:b(a[0],
a[1],a[2],a[3]);break;case 5:b(a[0],a[1],a[2],a[3],a[4]);break;case 6:b(a[0],a[1],a[2],a[3],a[4],a[5])}}}function e(a,c){function e(){function b(a){return"function"!==typeof a?a:function(){var b=B(arguments);x.safeNextTick(function(){a.apply(g,b)})}}var c=B(arguments),d=c[h],g=c[m];Array.isArray(d)?H(d,function(a,c){d[c]=b(a)}):d&&"object"===typeof d&&K(d,function(a,c){d[c]=b(a)});switch(p){case 2:a(c[0],c[1]);break;case 3:a(c[0],c[1],c[2]);break;case 4:a(c[0],c[1],c[2],c[3])}}var k=b[c],h=k[0],m=
k[1];if(/^waterfall$/.test(c))d[c]=La;else{var p=a.length;d[c]=e}}var c={each:[1,3],eachSeries:[1,3],eachLimit:[2,4],forEach:[1,3],forEachSeries:[1,3],forEachLimit:[2,4],map:[1,3],mapSeries:[1,3],mapLimit:[2,4],mapValues:[1,3],mapValuesSeries:[1,3],mapValuesLimit:[2,4],filter:[1,3],filterSeries:[1,3],filterLimit:[2,4],select:[1,3],selectSeries:[1,3],selectLimit:[2,4],reject:[1,3],rejectSeries:[1,3],rejectLimit:[2,4],detect:[1,3],detectSeries:[1,3],detectLimit:[2,4],pick:[1,3],pickSeries:[1,3],pickLimit:[2,
4],reduce:[2,4],inject:[2,4],foldl:[2,4],reduceRight:[2,4],foldr:[2,4],transform:[1,4],transformSeries:[1,4],transformLimit:[2,5],sortBy:[1,3],sortBySeries:[1,3],sortByLimit:[2,4],some:[1,3],someSeries:[1,3],someLimit:[2,4],any:[1,3],every:[1,3],all:[1,3],everySeries:[1,3],everyLimit:[2,4],concat:[1,3],concatSeries:[1,3],concatLimit:[2,4],whilst:[1,3],doWhilst:[0,3],until:[1,3],doUntil:[0,3],forever:[0,2],times:[1,3],timesSeries:[1,3],timesLimit:[2,4]},b={parallel:[0,2],series:[0,2],parallelLimit:[0,
3],waterfall:[0,-1],auto:[0,-1]},d={};K(x,function(f,g){if("function"===typeof f){if(c[g])return a(f,g);if(b[g])return e(f,g)}d[g]=f});d.safe=ja;return d}function ka(a,e,c){return function(b,d,f,g){function n(a,b){return function(d){null===a&&w();!!d===c&&(m[a]=b);a=null;++p===h&&f(J(m))}}function k(a,b){return function(d,e){null===a&&w();d?(f(d,J(m)),f=u,a=null):(!!e===c&&(m[a]=b),a=null,0===--h&&f(void 0,J(m)))}}f=f||u;var h,m,p=0;d=g?d.bind(g):d;var l=(g=2===f.length)?k:n;if(Array.isArray(b))h=
b.length,m=Array(h),a(b,d,l);else if(b&&"object"===typeof b){var q=Object.keys(b);h=q.length;m=Array(h);e(b,d,l,q)}if(!h)return g?f(void 0,[]):f([])}}function la(a){return function(e,c,b,d){function f(){q=e[y];Q(q,F)}function g(){q=e[y];Q(q,y,F)}function n(){l=r[y];q=e[l];Q(q,F)}function k(){l=r[y];q=e[l];Q(q,l,F)}function h(c){!!c===a&&(t[++A]=q);++y>=p?(b(J(t)),b=w):v?x.nextTick(s):s()}function m(c,d){c?(b(c,J(t)),b=w):(!!d===a&&(t[++A]=q),++y>=p?(b(void 0,J(t)),b=w):v?x.nextTick(s):s())}b=b||u;
var p,l,q,r,s,t,v=!0,y=0,A=-1,D=2===b.length,F=D?m:h,Q=d?c.bind(d):c;Array.isArray(e)?(p=e.length,s=3===c.length?g:f):e&&"object"===typeof e&&(r=Object.keys(e),p=r.length,s=3===c.length?k:n);if(!p)return D?b(void 0,[]):b([]);t=Array(p);s();v=!1}}function ma(a){return function(e,c,b,d,f){function g(){var a=v++;if(a<l){var b=e[a];D(b,F(b,a))}}function n(){var a=v++;if(a<l){var b=e[a];D(b,a,F(b,a))}}function k(){var a=v++;if(a<l){var b=e[q[a]];D(b,F(b,a))}}function h(){var a=v++;if(a<l){var b=q[a],c=
e[b];D(c,b,F(c,a))}}function m(b,c){return function(f){null===c&&w();!!f===a&&(s[c]=b);c=null;++y>=l?(d(J(s)),d=w):t?x.nextTick(r):r()}}function p(b,c){return function(f,e){null===c&&w();f?(d(f,J(s)),r=d=u,c=null):(!!e===a&&(s[c]=b),c=null,++y===l?(d(void 0,J(s)),d=w):t?x.nextTick(r):r())}}d=d||u;var l,q,r,s,t=!0,v=0,y=0,A=2===d.length,D=f?b.bind(f):b,F=A?p:m;Array.isArray(e)?(l=e.length,r=3===b.length?n:g):e&&"object"===typeof e&&(q=Object.keys(e),l=q.length,r=3===b.length?h:k);if(!l||isNaN(c)||
1>c)return A?d(void 0,[]):d([]);s=Array(l);G(c>l?l:c,r);t=!1}}function N(a,e,c,b){function d(){r(a[q],k)}function f(){r(a[q],q,k)}function g(){r(a[m[q]],k)}function n(){var b=m[q];r(a[b],b,k)}function k(a,b){a?c(a):++q>=h?(c(),c=w):!1===b?c():l?x.nextTick(p):(l=!0,p());l=!1}c=c||u;var h,m,p,l=!0,q=0,r=b?e.bind(b):e;Array.isArray(a)?(h=a.length,p=3===e.length?f:d):a&&"object"===typeof a&&(m=Object.keys(a),h=m.length,p=3===e.length?n:g);if(!h)return c();p();l=!1}function R(a,e,c,b,d){function f(){r<
m&&t(a[r++],h)}function g(){var b=r++;b<m&&t(a[b],b,h)}function n(){r<m&&t(a[p[r++]],h)}function k(){var b=r++;b<m&&(b=p[b],t(a[b],b,h))}function h(a,c){a?(b(a),l=b=u):++s>=m?(b(),b=w):!1===c?(b(),b=u):q?x.nextTick(l):(q=!0,l());q=!1}b=b||u;var m,p,l,q=!1,r=0,s=0,t=d?c.bind(d):c;if(Array.isArray(a))m=a.length,l=3===c.length?g:f;else if(a&&"object"===typeof a)p=Object.keys(a),m=p.length,l=3===c.length?k:n;else return b();if(!m||isNaN(e)||1>e)return b();G(e>m?m:e,l);q=!0}function na(a,e,c){return function(b,
d,f,g){function n(a){var b=!1;return function(d){b&&w();b=!0;!!d===c?(f(a),f=u):++m===h&&(f(),f=w)}}function k(a){var b=!1;return function(d,e){b&&w();b=!0;d?(f(d),f=u):!!e===c?(f(void 0,a),f=u):++m===h&&(f(),f=w)}}f=f||u;var h,m=0;d=g?d.bind(g):d;g=2===f.length?k:n;if(Array.isArray(b))h=b.length,a(b,d,g);else if(b&&"object"===typeof b){var p=Object.keys(b);h=p.length;e(b,d,g,p)}h||f()}}function oa(a){return function(e,c,b,d){function f(){q=e[t];y(q,v)}function g(){q=e[t];y(q,t,v)}function n(){q=
e[A[t]];y(q,v)}function k(){l=A[t];q=e[l];y(q,l,v)}function h(c){!!c===a?(b(q),b=w):++t>=p?(b(),b=w):s?x.nextTick(r):(s=!0,r());s=!1}function m(c,d){c?(b(c),b=w):!!d===a?(b(void 0,q),b=w):++t>=p?(b(),b=w):s?x.nextTick(r):(s=!0,r());s=!1}b=b||u;var p,l,q,r,s=!0,t=0,v=2===b.length?m:h,y=d?c.bind(d):c;if(Array.isArray(e))p=e.length,r=3===c.length?g:f;else if(e&&"object"===typeof e){var A=Object.keys(e);p=A.length;r=3===c.length?k:n}if(!p)return b();r();s=!1}}function pa(a){return function(e,c,b,d,f){function g(){q=
A++;q>=l||(s=e[q],z(s,F(s)))}function n(){q=A++;q<l&&(s=e[q],z(s,q,F(s)))}function k(){q=A++;q<l&&(s=e[t[q]],z(s,F(s)))}function h(){A<l&&(r=t[A++],s=e[r],z(s,r,F(s)))}function m(b){var c=!1;return function(f){c&&w();c=!0;!!f===a?(d(b),v=d=u):++D>=l?(d(),d=w):y?x.nextTick(v):(y=!0,v());y=!1}}function p(b){var c=!1;return function(f,e){c&&w();c=!0;f?(d(f),v=d=u):!!e===a?(d(void 0,b),d=u):++D>=l?(d(),d=w):y?x.nextTick(v):(y=!0,v());y=!1}}d=d||u;var l,q,r,s,t,v,y=!0,A=0,D=0,F=2===d.length?p:m,z=f?b.bind(f):
b;Array.isArray(e)?(l=e.length,v=3===b.length?n:g):e&&"object"===typeof e&&(t=Object.keys(e),l=t.length,v=3===b.length?h:k);if(!l||isNaN(c)||1>c)return d();G(c>l?l:c,v);y=!1}}function S(a,e,c,b,d){function f(b){l=a[t];v(b,l,h)}function g(b){l=a[t];v(b,l,t,h)}function n(b){p=q[t];l=a[p];v(b,l,h)}function k(b){p=q[t];l=a[p];v(b,l,p,h)}function h(a,c){a?(b(a,c),b=w):++t>=m?(b(void 0,c),b=w):s?x.nextTick(function(){r(c)}):(s=!0,r(c));s=!1}b=b||u;var m,p,l,q,r,s=!0,t=0,v=d?c.bind(d):c;Array.isArray(a)?
(m=a.length,r=4===c.length?g:f):a&&"object"===typeof a&&(q=Object.keys(a),m=q.length,r=4===c.length?k:n);if(!m)return b(void 0,e);r(e);s=!1}function qa(a,e,c,b,d){function f(b){q=a[--m];v(b,q,h)}function g(b){p=--m;q=a[p];v(b,q,p,h)}function n(b){l=r[--m];q=a[l];v(b,q,h)}function k(b){l=r[--m];q=a[l];v(b,q,l,h)}function h(a,c){a?(b(a,c),b=w):0>=m?(b(void 0,c),b=w):t?x.nextTick(function(){s(c)}):(t=!0,s(c));t=!1}b=b||u;var m,p,l,q,r,s,t=!0,v=d?c.bind(d):c;Array.isArray(a)?(m=a.length,s=4===c.length?
g:f):a&&"object"===typeof a&&(r=Object.keys(a),m=r.length,s=4===c.length?k:n);if(!m)return b(void 0,e);s(e);t=!1}function ra(a,e,c,b){function d(a){c(!!a)}function f(a,b){c(a,!!b)}c=c||u;sa(a,e,2===c.length?f:d,b)}function ta(a,e,c){function b(){h=r;a[r](n)}function d(){h=r;a[r].call(c,n)}function f(){h=m[r];a[h](n)}function g(){h=m[r];a[h].call(c,n)}function n(a,b){a?(e(a,p),l=e=w):(p[h]=2>=arguments.length?b:E(arguments,1),++r>=k?(e(void 0,p),e=w):q?x.nextTick(l):(q=!0,l()),q=!1)}e=e||u;var k,h,
m,p,l,q=!0,r=0;if(Array.isArray(a))k=a.length,p=Array(k),l=c?d:b;else if(a&&"object"===typeof a)m=Object.keys(a),k=m.length,p={},l=c?g:f;else return e();if(!k)return e(void 0,p);l();q=!1}function aa(a,e,c,b){function d(){m=t++;if(m<h)a[m](k(m))}function f(){m=t++;m<h&&a[m].call(b,k(m))}function g(){t<h&&(p=l[t++],a[p](k(p)))}function n(){t<h&&(p=l[t++],a[p].call(b,k(p)))}function k(a){return function(b,d){null===a&&w();b?(c(b,q),c=u,a=null):(q[a]=2>=arguments.length?d:E(arguments,1),a=null,++v>=h?
c(void 0,q):s?x.nextTick(r):(s=!0,r()),s=!1)}}c=c||u;var h,m,p,l,q,r,s=!0,t=0,v=0;Array.isArray(a)?(h=a.length,q=Array(h),r=b?f:d):a&&"object"===typeof a&&(l=Object.keys(a),h=l.length,q={},r=b?n:g);if(!h||isNaN(e)||1>e)return c(void 0,q);G(e>h?h:e,r);s=!1}function ba(a,e){return Array.isArray(a)?0===a.length?(e(),!1):!0:(e(Error("First argument to waterfall must be an array of functions")),!1)}function La(a,e){function c(g){function n(a){b&&w();b=!0;if(a)e(a);else if(++g>=d)e.apply(null,B(arguments));
else{f=arguments;x.safeNextTick(function(){c(g)});return}e=c=w}b=!1;var k=a[g];switch(f.length){case 0:case 1:return k(n);case 2:return k(f[1],n);case 3:return k(f[1],f[2],n);case 4:return k(f[1],f[2],f[3],n);case 5:return k(f[1],f[2],f[3],f[4],n);case 6:return k(f[1],f[2],f[3],f[4],f[5],n);default:return f=E(f,1),f.push(n),k.apply(null,f)}}e=e||u;if(ba(a,e)){var b,d=a.length,f=[];c(0)}}function ua(a,e){function c(){switch(n.length){case 1:return n(b);case 2:return n(k[1],b);case 3:return n(k[1],
k[2],b);case 4:return n(k[1],k[2],k[3],b);case 5:return n(k[1],k[2],k[3],k[4],b);default:return k=E(k,1),k[n.length-1]=b,n.apply(null,k)}}function b(b){b?(e(b),e=w):++d>=g?(e.apply(null,B(arguments)),e=w):(n=a[d],k=arguments,f?x.nextTick(c):(f=!0,c()),f=!1)}e=e||u;if(ba(a,e)){var d=0,f=!0,g=a.length,n=a[d],k=[];c();f=!1}}function va(){var a=B(arguments);return function(){var e=this,c=B(arguments),b=c.pop();S(a,c,function(a,b,c){a.push(function(a){var b=E(arguments,1);c(a,b)});b.apply(e,a)},function(a,
c){c=Array.isArray(c)?c:[c];c.unshift(a);b.apply(e,c)})}}function wa(a){return function(e){var c=function(){var b=this,c=B(arguments),g=c.pop()||u;return a(e,function(a,e){a.apply(b,c.concat([e]))},g)};if(1<arguments.length){var b=E(arguments,1);return c.apply(this,b)}return c}}function xa(a,e,c){function b(a,b,c){function d(a){var b=f.tasks,c=b.length;if(!c)return 0;for(var e=-1;++e<c&&!(a<b[e].priority););return e}f.started=!0;var e=Array.isArray(a)?a:[a];if(void 0!==a&&e.length){c="function"===
typeof c?c:u;var p=d(b);H(e,function(a){a={task:a,priority:b,callback:c};f.tasks.splice(p++,0,a);"function"===typeof f.saturated&&f.length()===f.concurrency&&f.saturated();x.nextTick(f.process)})}else f.idle()&&x.nextTick(function(){"function"===typeof f.drain&&f.drain()})}if(void 0===e)e=1;else if(isNaN(e)||1>e)throw Error("concurrency must be more than 1");var d=0,f={tasks:[],concurrency:e,saturated:u,empty:u,drain:u,started:!1,paused:!1,push:function(a,c,d){b(a,c,d)},kill:function(){f.drain=u;
f.tasks=[]},process:function(){function a(){d--;b.callback&&b.callback.apply(b,B(arguments));"function"===typeof f.drain&&f.idle()&&f.drain();f.process()}if(!(f.paused||d>=f.concurrency)&&f.length()){var b=f.tasks.shift();"function"!==typeof f.empty||f.length()||f.empty();d++;(f._thisArg?f._worker.bind(f._thisArg):f._worker)(b.task,C(a))}},length:function(){return f.tasks.length},running:function(){return d},idle:function(){return 0===f.length()+d},pause:function(){f.paused=!0},resume:function(){!1!==
f.paused&&(f.paused=!1,G(f.concurrency,function(){x.setImmediate(f.process)}))},_worker:a,_thisArg:c};return f}function ya(a,e,c,b){function d(){h(k,f)}function f(b,e){g[k]=e;b?(c(b),c=w):++k>=a?(c(void 0,g),c=w):n?x.nextTick(d):d()}c=c||u;a=+a;if(isNaN(a)||1>a)return c(void 0,[]);var g=Array(a),n=!0,k=0,h=b?e.bind(b):e;d();n=!1}function za(a){return function(){var e=B(arguments),c=e.pop(),b;try{b=a.apply(this,e)}catch(d){return c(d)}c(null,b)}}function ca(a){function e(c){if(T[typeof console])if(c)console.error&&
console.error(c);else if(console[a]){var b=E(arguments,1);H(b,function(b){console[a](b)})}}return function(a){var b=E(arguments,1);b.push(e);a.apply(null,b)}}function z(a,e){this._emitter=a||ta;this._limit=e||4;this._events={};this._runing={};this._queue={}}function Aa(a){a=a||u;if(a.ONCE===da)return a;var e=function(c){if(a.length)return a(c);a();c()};e.func=a;return e}function Ba(a){a=a||u;var e=function(c){if(a.length)return a(c);a();c()};e.func=a;e.ONCE=da;return e}var M=this,Ma=M&&M.async,u=
function(){},w=function(){throw Error("Callback was already called.");},T={"function":!0,object:!0},U,ea,V;(function(){var a=function(a){setTimeout(a,0)};V="function"===typeof setImmediate?setImmediate:a;"object"===typeof process&&"function"===typeof process.nextTick?(U=process.nextTick,ea=/^v0.10/.test(process.version)?V:U):U=ea=V})();var O=function(a,e){return function(c,b,d,f){function g(a,b){a?(d(a),d=u):++k===n?d():!1===b&&(d(),d=u)}d=d||u;var n,k=0;b=f?b.bind(f):b;Array.isArray(c)?(n=c.length,
a(c,b,g)):c&&"object"===typeof c&&(f=Object.keys(c),n=f.length,e(c,b,g,f));n||d()}}(fa,ga),Na=function(a,e){return function(c,b,d,f){function g(a){return function(b,c){null===a&&w();k[a]=c;a=null;b?(d(b,L(k)),d=u):++h===n&&(d(void 0,k),d=w)}}d=d||u;var n,k,h=0;b=f?b.bind(f):b;Array.isArray(c)?(n=c.length,k=Array(n),a(c,b,g)):c&&"object"===typeof c&&(f=Object.keys(c),n=f.length,k=Array(n),e(c,b,g,f));n||d(void 0,[])}}(ha,function(a,e,c,b){var d,f=-1,g=b.length;if(3===e.length)for(;++f<g;)d=b[f],e(a[d],
d,c(f));else for(;++f<g;)e(a[b[f]],c(f))}),Oa=function(a,e){return function(c,b,d,f){function g(a){return function(b,c){null===a&&w();h[a]=c;a=null;b?(d(b,I(h)),d=u):++k===n&&(d(void 0,h),d=w)}}d=d||u;var n,k=0,h={};b=f?b.bind(f):b;Array.isArray(c)?(n=c.length,a(c,b,g)):c&&"object"===typeof c&&(f=Object.keys(c),n=f.length,e(c,b,g,f));n||d(void 0,h)}}(ha,function(a,e,c,b){var d,f=-1,g=b.length;if(3===e.length)for(;++f<g;)d=b[f],e(a[d],d,c(d));else for(;++f<g;)d=b[f],e(a[d],c(d))}),Ca=ka(Y,ia,!0),Da=
la(!0),Ea=ma(!0),Pa=ka(Y,ia,!1),Qa=la(!1),Ra=ma(!1),sa=na(W,X,!0),Fa=oa(!0),Ga=pa(!0),Ha=function(a,e){var c=na(a,e,!1);return function(a,d,e,g){function n(a){e(!a)}function k(a,b){e(a,!b)}e=e||u;c(a,d,2===e.length?k:n,g)}}(W,X),Sa=function(){var a=oa(!1);return function(e,c,b,d){function f(a){b(!a)}function g(a,c){b(a,!c)}b=b||u;a(e,c,2===b.length?g:f,d)}}(),Ta=function(){var a=pa(!1);return function(e,c,b,d,f){function g(a){d(!a)}function n(a,b){d(a,!b)}d=d||u;a(e,c,b,2===d.length?n:g,f)}}(),Ua=
function(a,e){return function(c,b,d,f){function g(a,b){return function(c){null===a&&w();c&&(m[a]=b);a=null;++h===k&&d(m)}}function n(a,b){return function(c,e){null===a&&w();c?(d(c,I(m)),d=u,a=null):(e&&(m[a]=b),a=null,++h===k&&(d(void 0,m),d=w))}}d=d||u;var k,h=0,m={};f=f?b.bind(f):b;var p=2===d.length,l=p?n:g;Array.isArray(c)?(k=c.length,a(c,f,l)):c&&"object"===typeof c&&(b=Object.keys(c),k=b.length,e(c,f,l,b));if(!k)return p?d(void 0,{}):d({})}}(Y,function(a,e,c,b){var d,f,g=-1,n=b.length;if(3===
e.length)for(;++g<n;)d=b[g],f=a[d],e(f,d,c(d,f));else for(;++g<n;)d=b[g],f=a[d],e(f,c(d,f))}),Va=function(a,e){return function(c,b,d,f,g){function n(a,b){a?(d(a,Array.isArray(h)?L(h):I(h)),d=u):++m===k?d(void 0,h):!1===b&&(d(void 0,Array.isArray(h)?L(h):I(h)),d=u)}d=d||u;var k,h,m=0;g=g?b.bind(g):b;Array.isArray(c)?(k=c.length,h=void 0!==f?f:[],a(c,h,g,n)):c&&"object"===typeof c&&(b=Object.keys(c),k=b.length,h=void 0!==f?f:{},e(c,h,g,n,b));k||d(void 0,void 0!==f?f:h||{})}}(function(a,e,c,b){var d=
-1,f=a.length;if(4===c.length)for(;++d<f;)c(e,a[d],d,C(b));else for(;++d<f;)c(e,a[d],C(b))},function(a,e,c,b,d){var f,g=-1,n=d.length;if(4===c.length)for(;++g<n;)f=d[g],c(e,a[f],f,C(b));else for(;++g<n;)c(e,a[d[g]],C(b))}),Wa=function(a,e){return function(c,b,d,f){function g(a){var b=!1;return function(c,e){b&&w();b=!0;k[h]={value:a,criteria:e};c?(d(c),d=u):++h===n&&(k.sort($),d(void 0,P(k,"value")),d=w)}}d=d||u;var n,k,h=0;b=f?b.bind(f):b;Array.isArray(c)?(n=c.length,k=Array(n),a(c,b,g)):c&&"object"===
typeof c&&(f=Object.keys(c),n=f.length,k=Array(n),e(c,b,g,f));n||d(void 0,[])}}(W,X),Xa=function(a,e){return function(c,b,d,f){function g(a,b){void 0!==b&&Array.prototype.push.apply(h,Array.isArray(b)?b:[b]);a?(d(a,L(h)),d=u):++k===n&&d(void 0,h)}d=d||u;var n,k=0,h=[];b=f?b.bind(f):b;Array.isArray(c)?(n=c.length,a(c,b,g)):c&&"object"===typeof c&&(f=Object.keys(c),n=f.length,e(c,b,g,f));n||d(void 0,h)}}(fa,ga),Ia=function(a,e){return function(c,b,d){function f(a){return function(c,d){null===a&&w();
c?(b(c,n),b=u,a=null):(n[a]=2>=arguments.length?d:E(arguments,1),a=null,++k===g&&(b(void 0,n),b=w))}}b=b||u;var g,n,k=0;if(Array.isArray(c))g=c.length,n=Array(g),a(c,f,d);else if(c&&"object"===typeof c){var h=Object.keys(c);g=h.length;n={};e(c,f,h,d)}g||b(void 0,n)}}(function(a,e,c){var b=-1,d=a.length;if(c)for(;++b<d;)a[b].call(c,e(b));else for(;++b<d;)a[b](e(b))},function(a,e,c,b){var d,f=-1,g=c.length;if(b)for(;++f<g;)d=c[f],a[d].call(b,e(d));else for(;++f<g;)d=c[f],a[d](e(d))}),x={VERSION:"1.3.0",
each:O,eachSeries:N,eachLimit:R,forEach:O,forEachSeries:N,forEachLimit:R,eachOf:O,eachOfSeries:N,eachOfLimit:R,forEachOf:O,forEachOfSeries:N,forEachOfLimit:R,map:Na,mapSeries:function(a,e,c,b){function d(){s(a[r],k)}function f(){s(a[r],r,k)}function g(){s(a[m[r]],k)}function n(){var b=m[r];s(a[b],b,k)}function k(a,b){p[r]=b;a?(c(a,L(p)),c=w):++r>=h?(c(void 0,p),c=w):q?x.nextTick(l):(q=!0,l());q=!1}c=c||u;var h,m,p,l,q=!0,r=0,s=b?e.bind(b):e;Array.isArray(a)?(h=a.length,l=3===e.length?f:d):a&&"object"===
typeof a&&(m=Object.keys(a),h=m.length,l=3===e.length?n:g);if(!h)return c(void 0,[]);p=Array(h);l();q=!1},mapLimit:function(a,e,c,b,d){function f(){var b=s++;b<m&&v(a[b],h(b))}function g(){var b=s++;b<m&&v(a[b],b,h(b))}function n(){var b=s++;b<m&&v(a[p[b]],h(b))}function k(){var b=s++;if(b<m){var c=p[b];v(a[c],c,h(b))}}function h(a){return function(c,d){null===a&&w();l[a]=d;a=null;c?(b(c,L(l)),q=b=u):++t>=m?(b(void 0,l),b=w):r?x.nextTick(q):(r=!0,q());r=!1}}b=b||u;var m,p,l,q,r=!0,s=0,t=0,v=d?c.bind(d):
c;Array.isArray(a)?(m=a.length,q=3===c.length?g:f):a&&"object"===typeof a&&(p=Object.keys(a),m=p.length,q=3===c.length?k:n);if(!m||isNaN(e)||1>e)return b(void 0,[]);l=Array(m);G(e>m?m:e,q);r=!1},mapValues:Oa,mapValuesSeries:function(a,e,c,b){function d(){m=s;t(a[s],k)}function f(){m=s;t(a[s],s,k)}function g(){m=p[s];t(a[m],k)}function n(){m=p[s];t(a[m],m,k)}function k(a,b){r[m]=b;a?(c(a,I(r)),c=w):++s>=h?(c(void 0,r),c=w):q?x.nextTick(l):(q=!0,l());q=!1}c=c||u;var h,m,p,l,q=!0,r={},s=0,t=b?e.bind(b):
e;Array.isArray(a)?(h=a.length,l=3===e.length?f:d):a&&"object"===typeof a&&(p=Object.keys(a),h=p.length,l=3===e.length?n:g);if(!h)return c(void 0,r);l();q=!1},mapValuesLimit:function(a,e,c,b,d){function f(){var b=s++;b<m&&v(a[b],h(b))}function g(){var b=s++;b<m&&v(a[b],b,h(b))}function n(){var b=s++;b<m&&(b=p[b],v(a[b],h(b)))}function k(){var b=s++;b<m&&(b=p[b],v(a[b],b,h(b)))}function h(a){return function(c,d){null===a&&w();r[a]=d;a=null;c?(b(c,I(r)),l=b=u):++t>=m?(b(void 0,r),b=w):q?x.nextTick(l):
(q=!0,l());q=!1}}b=b||u;var m,p,l,q=!0,r={},s=0,t=0,v=d?c.bind(d):c;Array.isArray(a)?(m=a.length,l=3===c.length?g:f):a&&"object"===typeof a&&(p=Object.keys(a),m=p.length,l=3===c.length?k:n);if(!m||isNaN(e)||1>e)return b(void 0,r);G(e>m?m:e,l);q=!1},filter:Ca,filterSeries:Da,filterLimit:Ea,select:Ca,selectSeries:Da,selectLimit:Ea,reject:Pa,rejectSeries:Qa,rejectLimit:Ra,detect:sa,detectSeries:Fa,detectLimit:Ga,pick:Ua,pickSeries:function(a,e,c,b){function d(){p=v;l=a[v];D(l,A)}function f(){p=v;l=a[v];
D(l,v,A)}function g(){p=q[v];l=a[p];D(l,A)}function n(){p=q[v];l=a[p];D(l,p,A)}function k(a){a&&(t[p]=l);++v>=m?(c(t),c=w):s?x.nextTick(r):(s=!0,r());s=!1}function h(a,b){a?(c(a,t),c=w):(b&&(t[p]=l),++v>=m?(c(void 0,t),c=w):s?x.nextTick(r):(s=!0,r()),s=!1)}c=c||u;var m,p,l,q,r,s=!0,t={},v=0,y=2===c.length,A=y?h:k,D=b?e.bind(b):e;Array.isArray(a)?(m=a.length,r=3===e.length?f:d):a&&"object"===typeof a&&(q=Object.keys(a),m=q.length,r=3===e.length?n:g);if(!m)return y?c(void 0,{}):c({});r();s=!1},pickLimit:function(a,
e,c,b,d){function f(){l=A++;l<p&&(r=a[l],C(r,B(r,l)))}function g(){l=A++;l<p&&(r=a[l],C(r,l,B(r,l)))}function n(){A<p&&(q=s[A++],r=a[q],C(r,B(r,q)))}function k(){A<p&&(q=s[A++],r=a[q],C(r,q,B(r,q)))}function h(a,c){return function(d){null===c&&w();d&&(y[c]=a);c=null;++D>=p?(b(y),b=w):v?x.nextTick(t):(v=!0,t());v=!1}}function m(a,c){return function(d,e){null===c&&w();d?(b(d,I(y)),t=b=u,c=null):(e&&(y[c]=a),c=null,++D>=p?(b(void 0,y),b=w):v?x.nextTick(t):(v=!0,t()),v=!1)}}b=b||u;var p,l,q,r,s,t,v=!0,
y={},A=0,D=0,z=2===b.length,B=z?m:h,C=d?c.bind(d):c;Array.isArray(a)?(p=a.length,t=3===c.length?g:f):a&&"object"===typeof a&&(s=Object.keys(a),p=s.length,t=3===c.length?k:n);if(!p||isNaN(e)||1>e)return z?b(void 0,{}):b({});G(e>p?p:e,t);v=!1},reduce:S,inject:S,foldl:S,reduceRight:qa,foldr:qa,transform:Va,transformSeries:function(a,e,c,b,d){function f(){v(r,a[t],h)}function g(){v(r,a[t],t,h)}function n(){v(r,a[l[t]],h)}function k(){p=l[t];v(r,a[p],p,h)}function h(a,b){a?(c(a,r),c=w):++t>=m?(c(void 0,
r),c=w):!1===b?(c(void 0,r),c=w):s?x.nextTick(q):(s=!0,q());s=!1}c=c||u;var m,p,l,q,r,s=!0,t=0,v=d?e.bind(d):e;Array.isArray(a)?(m=a.length,r=void 0!==b?b:[],q=4===e.length?g:f):a&&"object"===typeof a&&(l=Object.keys(a),m=l.length,r=void 0!==b?b:{},q=4===e.length?k:n);if(!m)return c(void 0,void 0!==b?b:r||{});q();s=!1},transformLimit:function(a,e,c,b,d,f){function g(){l=y++;l<p&&z(t,a[l],C(m))}function n(){l=y++;l<p&&z(t,a[l],l,C(m))}function k(){l=y++;l<p&&z(t,a[r[l]],C(m))}function h(){l=y++;l<
p&&(q=r[l],z(t,a[q],q,C(m)))}function m(a,c){a?(b(a,Array.isArray(t)?L(t):I(t)),s=b=u):++A>=p?(b(void 0,t),b=w):!1===c?(b(void 0,Array.isArray(t)?L(t):I(t)),s=b=u):v?x.nextTick(s):(v=!0,s());v=!1}b=b||u;var p,l,q,r,s,t,v=!0,y=0,A=0,z=f?c.bind(f):c;Array.isArray(a)?(p=a.length,t=void 0!==d?d:[],s=4===c.length?n:g):a&&"object"===typeof a&&(r=Object.keys(a),p=r.length,t=void 0!==d?d:{},s=4===c.length?h:k);if(!p||isNaN(e)||1>e)return b(void 0,void 0!==d?d:t||{});G(e>p?p:e,s);v=!1},sortBy:Wa,sortBySeries:function(a,
e,c,b){function d(){p=a[t];v(p,k)}function f(){p=a[t];v(p,t,k)}function g(){p=a[l[t]];v(p,k)}function n(){m=l[t];p=a[m];v(p,m,k)}function k(a,b){q[t]={value:p,criteria:b};a?(c(a),c=w):++t>=h?(q.sort($),c(void 0,P(q,"value")),c=w):s?x.nextTick(r):(s=!0,r());s=!1}c=c||u;var h,m,p,l,q,r,s=!0,t=0,v=b?e.bind(b):e;Array.isArray(a)?(h=a.length,r=3===e.length?f:d):a&&"object"===typeof a&&(l=Object.keys(a),h=l.length,r=3===e.length?n:g);if(!h)return c(void 0,[]);q=Array(h);r();s=!1},sortByLimit:function(a,
e,c,b,d){function f(){y<m&&(q=a[y++],D(q,h(q)))}function g(){p=y++;p<m&&(q=a[p],D(q,p,h(q)))}function n(){y<m&&(q=a[r[y++]],D(q,h(q)))}function k(){y<m&&(l=r[y++],q=a[l],D(q,l,h(q)))}function h(a){var c=!1;return function(d,e){c&&w();c=!0;s[z]={value:a,criteria:e};d?(b(d),t=b=u):++z>=m?(s.sort($),b(void 0,P(s,"value")),b=w):v?x.nextTick(t):(v=!0,t());v=!1}}b=b||u;var m,p,l,q,r,s,t,v=!1,y=0,z=0,D=d?c.bind(d):c;Array.isArray(a)?(m=a.length,t=3===c.length?g:f):a&&"object"===typeof a&&(r=Object.keys(a),
m=r.length,t=3===c.length?k:n);if(!m||isNaN(e)||1>e)return b(void 0,[]);s=Array(m);G(e>m?m:e,t)},some:ra,someSeries:function(a,e,c,b){function d(a){c(!!a)}function f(a,b){c(a,!!b)}c=c||u;Fa(a,e,2===c.length?f:d,b)},someLimit:function(a,e,c,b,d){function f(a){b(!!a)}function g(a,c){b(a,!!c)}b=b||u;Ga(a,e,c,2===b.length?g:f,d)},any:ra,every:Ha,all:Ha,everySeries:Sa,everyLimit:Ta,concat:Xa,concatSeries:function(a,e,c,b){function d(){t(a[s],k)}function f(){t(a[s],s,k)}function g(){t(a[p[s]],k)}function n(){m=
p[s];t(a[m],m,k)}function k(a,b){b&&Array.prototype.push.apply(r,Array.isArray(b)?b:[b]);a?(c(a,r),c=w):++s>=h?(c(void 0,r),c=w):q?x.nextTick(l):(q=!0,l());q=!1}c=c||u;var h,m,p,l,q=!0,r=[],s=0,t=b?e.bind(b):e;Array.isArray(a)?(h=a.length,l=3===e.length?f:d):a&&"object"===typeof a&&(p=Object.keys(a),h=p.length,l=3===e.length?n:g);if(!h)return c(void 0,r);l();q=!1},concatLimit:function(a,e,c,b,d){function f(){t<p&&y(a[t++],C(h))}function g(){l=t++;l<p&&y(a[l],l,C(h))}function n(){t<p&&y(a[z[t++]],
C(h))}function k(){t<p&&(q=z[t++],y(a[q],q,C(h)))}function h(a,c){c&&Array.prototype.push.apply(m,Array.isArray(c)?c:[c]);a?(b(a,m),b=u):++v>=p?(b(void 0,m),b=w):s?x.nextTick(r):(s=!0,r());s=!1}b=b||u;var m=[],p,l,q,r,s=!0,t=0,v=0,y=d?c.bind(d):c;if(Array.isArray(a))p=a.length,r=3===c.length?g:f;else if(a&&"object"===typeof a){var z=Object.keys(a);p=z.length;r=3===c.length?k:n}if(!p||isNaN(e)||1>e)return b(void 0,m);G(e>p?p:e,r);s=!1},parallel:Ia,series:ta,parallelLimit:aa,waterfall:function(a,e){function c(){f=
!1;switch(h.length){case 0:case 1:return k(b);case 2:return k(h[1],b);case 3:return k(h[1],h[2],b);case 4:return k(h[1],h[2],h[3],b);case 5:return k(h[1],h[2],h[3],h[4],b);case 6:return k(h[1],h[2],h[3],h[4],h[5],b);default:return h=E(h,1),h.push(b),k.apply(null,h)}}function b(b){f&&w();b?(e(b),e=w):(f=!0,++d>=n?(e.apply(null,B(arguments)),e=w):(k=a[d],h=arguments,g?x.nextTick(c):(g=!0,c()),g=!1))}e=e||u;if(ba(a,e)){var d=0,f=!1,g=!0,n=a.length,k=a[d],h=[];c();g=!1}},angelFall:ua,angelfall:ua,whilst:function(a,
e,c,b){function d(){a()?g(function(a){if(a)return c(a);f?x.nextTick(d):(f=!0,d());f=!1}):c()}c=c||u;var f=!0,g=b?e.bind(b):e;d();f=!1},doWhilst:function(a,e,c,b){function d(){g(function(a){if(a)return c(a);e.apply(b,E(arguments,1))?(f?x.nextTick(d):(f=!0,d()),f=!1):c()})}c=c||u;var f=!0,g=b?a.bind(b):a;d();f=!1},until:function(a,e,c,b){function d(){a()?c():g(function(a){if(a)return c(a);f?x.nextTick(d):(f=!0,d());f=!1})}c=c||u;var f=!0,g=b?e.bind(b):e;d();f=!1},doUntil:function(a,e,c,b){function d(){g(function(a){if(a)return c(a);
e.apply(b,E(arguments,1))?c():(f?x.nextTick(d):(f=!0,d()),f=!1)})}c=c||u;var f=!0,g=b?a.bind(b):a;d();f=!1},during:function(a,e,c,b){function d(a,b){if(a)return c(a);b?g(f):c()}function f(b){if(b)return c(b);a(d)}c=c||u;var g=b?e.bind(b):e;a(d)},doDuring:function(a,e,c,b){function d(a,b){if(a)return c(a);b?g(f):c()}function f(a,b){if(a)return c(a);switch(arguments.length){case 0:case 1:e(d);break;case 2:e(b,d);break;default:var f=E(arguments,1);f.push(d);e.apply(null,f)}}c=c||u;var g=b?a.bind(b):
a;d(null,!0)},forever:function(a,e,c){function b(){g(d)}function d(a){if(a){if(e)return e(a);throw a;}f?x.nextTick(b):(f=!0,b());f=!1}var f=!0,g=c?a.bind(c):a;b();f=!1},compose:function(){return va.apply(null,Ja(arguments))},seq:va,applyEach:wa(O),applyEachSeries:wa(N),queue:function(a,e,c){function b(a,b,c){d.started=!0;var e=Array.isArray(a)?a:[a];void 0!==a&&e.length?(b="function"===typeof b?b:null,H(e,function(a){a={task:a,callback:b};c?d.tasks.unshift(a):d.tasks.push(a);"function"===typeof d.saturated&&
d.length()===d.concurrency&&d.saturated();x.nextTick(d.process)})):d.idle()&&x.nextTick(function(){"function"===typeof d.drain&&d.drain()})}var d=xa(a,e,c);d.unshift=function(a,c){b(a,c,!0)};d.push=function(a,c){b(a,c)};return d},priorityQueue:xa,cargo:function(a,e){var c=!1,b={tasks:[],payload:e,saturated:u,empty:u,drain:u,drained:!0,push:function(a,c){a=Array.isArray(a)?a:[a];c="function"===typeof c?c:u;H(a,function(a){b.tasks.push({data:a,callback:c});b.drained=!1;"function"===typeof b.saturated&&
b.length()===b.payload&&b.saturated()});x.nextTick(b.process)},process:function(){if(!c)if(b.length()){var d="number"===typeof b.payload?b.tasks.splice(0,e):b.tasks,f=P(d,"data");b.length()||"function"!==typeof b.empty||b.empty();c=!0;a(f,function(){c=!1;var a=B(arguments);H(d,function(b){b.callback&&b.callback.apply(null,a)});b.process()})}else"function"!==typeof b.drain||b.drained||b.drain(),b.drained=!0},length:function(){return b.tasks.length},running:function(){return c}};return b},auto:function(a,
e){function c(a){g.unshift(a)}function b(){f--;H(g.slice(0),function(a){a()})}e=e?C(e):u;var d=Object.keys(a),f=d.length;if(!f)return e();var g=[],n={};c(function(){f||e(void 0,n)});K(a,function(a,d){function f(a){var c=E(arguments,1);1>=c.length&&(c=c[0]);if(a){var g=I(n);g[d]=c;e(a,g);e=u}else n[d]=c,x.nextTick(b)}function p(){return!n.hasOwnProperty(d)&&Ka(r,function(a){return n.hasOwnProperty(a)})}function l(){if(p()){var a;a:{a=-1;for(var b=g.length;++a<b;)if(g[a]===l)break a;a=void 0}0<=a&&
g.splice(a,1);s(f,n)}}a=Array.isArray(a)?a:[a];var q=a.length,r=a.slice(0,q-1),s=a[q-1];if(p())return s(f,n);c(l)},d)},retry:function(a,e,c){function b(b,f){c=b||c||u;var g,n;ya(a,function(b,c){e(function(d,e){g=d;n=e;if(!d)return c(!0);c(d&&b===a-1)},f)},function(){c(g,n)})}"function"===typeof a&&(c=e,e=a,a=5);a=parseInt(a,10)||5;return"function"===typeof c?b():b},iterator:function(a){function e(d){var f=function(){c&&a[b[d]||d].apply(null,B(arguments));return f.next()};f.next=function(){return d<
c-1?e(d+1):null};return f}var c=0,b=[];Array.isArray(a)?c=a.length:(b=Object.keys(a),c=b.length);return e(0)},apply:function(a){var e=E(arguments,1);return function(){return a.apply(this,e.concat(B(arguments)))}},nextTick:U,safeNextTick:ea,setImmediate:V,times:function(a,e,c,b){function d(b){return function(d,e){null===b&&w();f[b]=e;b=null;d?(c(d),c=u):0===--a&&c(void 0,f)}}c=c||u;a=+a;if(isNaN(a)||1>a)return c(void 0,[]);var f=Array(a),g=b?e.bind(b):e;G(a,function(a){g(a,d(a))})},timesSeries:ya,
timesLimit:function(a,e,c,b,d){function f(){var b=h++;b<a&&p(b,g(b))}function g(c){return function(d,e){null===c&&w();n[c]=e;c=null;d?(b(d),b=u):++m>=a?(b(void 0,n),b=w):k?x.nextTick(f):(k=!0,f());k=!1}}b=b||u;a=+a;if(isNaN(a)||1>a||isNaN(e)||1>e)return b(void 0,[]);var n=Array(a),k=!0,h=0,m=0,p=d?c.bind(d):c;G(e>a?a:e,f);k=!1},memoize:function(a,e,c){e=e||function(a){return a};var b={},d={},f=function(){function f(){var a=B(arguments);b[h]=a;var e=d[h];delete d[h];for(var g=-1,k=e.length;++g<k;)e[g].apply(c,
a)}var n=B(arguments),k=n.pop(),h=e.apply(null,n);if(b.hasOwnProperty(h))x.nextTick(function(){k.apply(c,b[h])});else{if(d.hasOwnProperty(h))return d[h].push(k);d[h]=[k];n.push(f);a.apply(c,n)}};f.memo=b;f.unmemoized=a;return f},unmemoize:function(a){return function(){return(a.unmemoized||a).apply(null,arguments)}},ensureAsync:function(a){return function(){var e=!0,c=B(arguments),b=c.pop();c.push(function(){var a=arguments;e?x.safeNextTick(function(){b.apply(null,a)}):b.apply(null,a)});a.apply(this,
c);e=!1}},constant:function(){var a=[null].concat(B(arguments));return function(e){e.apply(this,a)}},asyncify:za,wrapSync:za,log:ca("log"),dir:ca("dir"),createLogger:ca,noConflict:function(){M.async=Ma;return x},eventEmitter:function(a){a=a||{};var e=a.limit;return a.parallel&&!e?new z(Ia):a.parallel||a.parallelLimit?new z(aa,e):new z(a.emitter)},EventEmitter:z,safe:void 0};x.safe=ja();T[typeof define]&&define&&define.amd?define([],function(){return x}):T[typeof module]&&module&&module.exports?module.exports=
x:M&&T[typeof M.async]?M.neo_async=x:M.async=x;var da={__ONCE__:!0};z.prototype.getListeners=function(a){function e(a){a=a||[];var b=Array(a.length);H(a,function(a,c){b[c]=a.func});return b}var c=this._events;if(a)return e(c[a]);var b={};K(c,function(a,c){b[c]=e(a)});return b};z.prototype.addListener=function e(c,b){var d=this;if("object"===typeof c)return K(c,function(b,c){e.call(d,c,b)}),d;if(d.running(c))return d.queue(c,"addListener",b);d._events[c]=d._events[c]||[];Array.isArray(b)?H(b,function(b){d._events[c].push(Aa(b))}):
d._events[c].push(Aa(b));return d};z.prototype.addOnceListener=function c(b,d){var f=this;if("object"===typeof b)return K(b,function(b,d){c.call(f,d,b)}),f;Array.isArray(d)?H(d,function(b,c){d[c]=Ba(b)}):d=Ba(d);return f.addListener(b,d)};z.prototype.removeListener=function b(d,f){var g=this;if("object"===typeof d)return K(d,function(d,f){b.call(g,f,d)}),g;if(g.running(d))return g.queue(d,"removeListener",f);var n=g._events[d]||[];if(!n.length)return g;if(Array.isArray(f))return Z(f,function(f){b.call(g,
f,d)}),g;Z(n,function(b,d){b.func===f&&n.splice(d,1)});return g};z.prototype.removeEvent=function d(f){var g=this;if(!f)return K(g._events,function(f,k){d.call(g,k)}),g;(g._events[f]||[]).length&&delete g._events[f];return g};z.prototype.running=function(d){return this._runing[d]};z.prototype.queue=function(d,f,g,n){this._queue[d]=this._queue[d]||[];this._queue[d].push([f,g,n]);return this};z.prototype.resolve=function(d){if(this._runing[d])return this;var f=this._queue[d]||[];if(!f.length)return this;
f=f.shift();this[f[0]](d,f[1],f[2]);return this.resolve(d)};z.prototype.emit=function(d,f,g){function n(g,l){g?f(g):(Z(h,function(d,f){d.ONCE===da&&h.splice(f,1)}),f(void 0,l));k._runing[d]=!1;k.resolve(d)}f=f||u;var k=this;if(k.running(d))return k.queue(d,"emit",f,g);var h=k._events[d]||[];if(!h.length)return f(),k;k._runing[d]=!0;var m=k._emitter,m=g?m.bind(g):m;m===aa?m(h,k._limit,n):m(h,n);return k};z.prototype.on=z.prototype.addListener;z.prototype.once=z.prototype.addOnceListener;z.prototype.off=
z.prototype.removeListener;z.prototype.removeAllListener=z.prototype.removeEvent;z.prototype.trigger=z.prototype.emit}).call(this);
