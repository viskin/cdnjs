(function(){function B(a){for(var e=-1,c=a.length,b=Array(c);++e<c;)b[e]=a[e];return b}function D(a,e){var c=-1,b=a.length-e;if(0>=b)return[];for(var d=Array(b);++c<b;)d[c]=a[c+e];return d}function J(a){for(var e=-1,c=a.length,b=-1,d=[];++e<c;){var f=a[e];f&&(d[++b]=f)}return d}function Ja(a){for(var e=-1,c=a.length,b=Array(c),d=c;++e<c;)b[--d]=a[e];return b}function fa(a,e,c){var b=-1,d=a.length;if(3===e.length)for(;++b<d;)e(a[b],b,C(c));else for(;++b<d;)e(a[b],C(c))}function ga(a,e,c,b){var d,f=
-1,g=b.length;if(3===e.length)for(;++f<g;)d=b[f],e(a[d],d,C(c));else for(;++f<g;)e(a[b[f]],C(c))}function ha(a,e,c){var b=-1,d=a.length;if(3===e.length)for(;++b<d;)e(a[b],b,c(b));else for(;++b<d;)e(a[b],c(b))}function W(a,e,c){var b,d=-1,f=a.length;if(3===e.length)for(;++d<f;)b=a[d],e(b,d,c(b));else for(;++d<f;)b=a[d],e(b,c(b))}function X(a,e,c,b){var d,f,g=-1,q=b.length;if(3===e.length)for(;++g<q;)d=b[g],f=a[d],e(f,d,c(f));else for(;++g<q;)f=a[b[g]],e(f,c(f))}function Y(a,e,c){var b,d=-1,f=a.length;
if(3===e.length)for(;++d<f;)b=a[d],e(b,d,c(d,b));else for(;++d<f;)b=a[d],e(b,c(d,b))}function ia(a,e,c,b){var d,f,g=-1,q=b.length;if(3===e.length)for(;++g<q;)d=b[g],f=a[d],e(f,d,c(g,f));else for(;++g<q;)f=a[b[g]],e(f,c(g,f))}function G(a,e){for(var c=-1,b=a.length;++c<b;)e(a[c],c);return a}function Z(a,e){for(var c=a.length;c--;)e(a[c],c);return a}function K(a,e,c){c=c||Object.keys(a);for(var b=-1,d=c.length;++b<d;){var f=c[b];e(a[f],f)}return a}function F(a,e){for(var c=-1;++c<a;)e(c)}function Ka(a,
e){for(var c=a.length,b=-1;++b<c;)if(!e(a[b]))return!1;return!0}function L(a){for(var e=a.length,c=-1,b=Array(e);++c<e;)b[c]=a[c];return b}function H(a){for(var e=Object.keys(a),c=e.length,b=-1,d={};++b<c;){var f=e[b];d[f]=a[f]}return d}function Q(a,e){for(var c=-1,b=a.length,d=Array(b);++c<b;)d[c]=(a[c]||{})[e];return d}function $(a,e){return a.criteria-e.criteria}function C(a){return function(e,c){null===a&&w();a(e,c);a=null}}function ja(){function a(b,a){var e=c[a],l=e[0],h=e[1],p=b.length;d[a]=
function(){var a=B(arguments),c=a[l],d=a[h];switch(c.length){case 1:a[l]=function(a){y.safeNextTick(function(){c.call(d,a)})};break;case 2:a[l]=function(a,b){y.safeNextTick(function(){c.call(d,a,b)})};break;case 3:a[l]=function(a,b,f){y.safeNextTick(function(){c.call(d,a,b,f)})};break;case 4:a[l]=function(a,b,f,e){y.safeNextTick(function(){c.call(d,a,b,f,e)})};break;default:a[l]=function(){var a=B(arguments);y.safeNextTick(function(){c.apply(d,a)})}}switch(p){case 3:b(a[0],a[1],a[2]);break;case 4:b(a[0],
a[1],a[2],a[3]);break;case 5:b(a[0],a[1],a[2],a[3],a[4]);break;case 6:b(a[0],a[1],a[2],a[3],a[4],a[5])}}}function e(a,c){function e(){function b(a){return"function"!==typeof a?a:function(){var b=B(arguments);y.safeNextTick(function(){a.apply(g,b)})}}var c=B(arguments),d=c[h],g=c[p];Array.isArray(d)?G(d,function(a,c){d[c]=b(a)}):d&&"object"===typeof d&&K(d,function(a,c){d[c]=b(a)});switch(k){case 2:a(c[0],c[1]);break;case 3:a(c[0],c[1],c[2]);break;case 4:a(c[0],c[1],c[2],c[3])}}var l=b[c],h=l[0],p=
l[1];if(/^waterfall$/.test(c))d[c]=La;else{var k=a.length;d[c]=e}}var c={each:[1,3],eachSeries:[1,3],eachLimit:[2,4],forEach:[1,3],forEachSeries:[1,3],forEachLimit:[2,4],map:[1,3],mapSeries:[1,3],mapLimit:[2,4],mapValues:[1,3],mapValuesSeries:[1,3],mapValuesLimit:[2,4],filter:[1,3],filterSeries:[1,3],filterLimit:[2,4],select:[1,3],selectSeries:[1,3],selectLimit:[2,4],reject:[1,3],rejectSeries:[1,3],rejectLimit:[2,4],detect:[1,3],detectSeries:[1,3],detectLimit:[2,4],pick:[1,3],pickSeries:[1,3],pickLimit:[2,
4],reduce:[2,4],inject:[2,4],foldl:[2,4],reduceRight:[2,4],foldr:[2,4],transform:[1,4],transformSeries:[1,4],transformLimit:[2,5],sortBy:[1,3],sortBySeries:[1,3],sortByLimit:[2,4],some:[1,3],someSeries:[1,3],someLimit:[2,4],any:[1,3],every:[1,3],all:[1,3],everySeries:[1,3],everyLimit:[2,4],concat:[1,3],concatSeries:[1,3],concatLimit:[2,4],whilst:[1,3],doWhilst:[0,3],until:[1,3],doUntil:[0,3],forever:[0,2],times:[1,3],timesSeries:[1,3],timesLimit:[2,4]},b={parallel:[0,2],series:[0,2],parallelLimit:[0,
3],waterfall:[0,-1],auto:[0,-1]},d={};K(y,function(f,g){if("function"===typeof f){if(c[g])return a(f,g);if(b[g])return e(f,g)}d[g]=f});d.safe=ja;return d}function ka(a,e,c){return function(b,d,f,g){function q(a,b){return function(d){null===a&&w();!!d===c&&(p[a]=b);a=null;++k===h&&f(J(p))}}function l(a,b){return function(d,e){null===a&&w();d?(f(d,J(p)),f=u,a=null):(!!e===c&&(p[a]=b),a=null,++k===h&&f(void 0,J(p)))}}f=f||u;var h,p,k=0;g=g?d.bind(g):d;var m=2===f.length,n=m?l:q;Array.isArray(b)?(h=b.length,
p=Array(h),a(b,g,n)):b&&"object"===typeof b&&(d=Object.keys(b),h=d.length,p=Array(h),e(b,g,n,d));if(!h)return m?f(void 0,[]):f([])}}function la(a){return function(e,c,b,d){function f(){n=e[x];M(n,E)}function g(){n=e[x];M(n,x,E)}function q(){m=s[x];n=e[m];M(n,E)}function l(){m=s[x];n=e[m];M(n,m,E)}function h(c){!!c===a&&(t[++A]=n);++x>=k?(b(J(t)),b=w):v?y.nextTick(r):r()}function p(c,d){c?(b(c,J(t)),b=w):(!!d===a&&(t[++A]=n),++x>=k?(b(void 0,J(t)),b=w):v?y.nextTick(r):r())}b=b||u;var k,m,n,s,r,t,v=
!0,x=0,A=-1,I=2===b.length,E=I?p:h,M=d?c.bind(d):c;Array.isArray(e)?(k=e.length,r=3===c.length?g:f):e&&"object"===typeof e&&(s=Object.keys(e),k=s.length,r=3===c.length?l:q);if(!k)return I?b(void 0,[]):b([]);t=Array(k);r();v=!1}}function ma(a){return function(e,c,b,d,f){function g(){n=I++;n<m&&(r=e[n],z(r,B(r,n)))}function q(){n=I++;n<m&&(r=e[n],z(r,n,B(r,n)))}function l(){n=I++;n<m&&(r=e[t[n]],z(r,B(r,n)))}function h(){n=I++;n<m&&(s=t[n],r=e[s],z(r,s,B(r,n)))}function p(b,c){return function(f){null===
c&&w();!!f===a&&(x[c]=b);c=null;++E>=m?(d(J(x)),d=w):A?y.nextTick(v):v()}}function k(b,c){return function(f,e){null===c&&w();f?(d(f,J(x)),v=d=u,c=null):(!!e===a&&(x[c]=b),c=null,++E===m?(d(void 0,J(x)),d=w):A?y.nextTick(v):v())}}d=d||u;var m,n,s,r,t,v,x,A=!0,I=0,E=0,M=2===d.length,z=f?b.bind(f):b,B=M?k:p;Array.isArray(e)?(m=e.length,v=3===b.length?q:g):e&&"object"===typeof e&&(t=Object.keys(e),m=t.length,v=3===b.length?h:l);if(!m||isNaN(c)||1>c)return M?d(void 0,[]):d([]);x=Array(m);F(c>m?m:c,v);
A=!1}}function O(a,e,c,b){function d(){r(a[s],l)}function f(){r(a[s],s,l)}function g(){r(a[k[s]],l)}function q(){p=k[s];r(a[p],p,l)}function l(a,b){a?c(a):++s>=h?(c(),c=w):!1===b?c():n?y.nextTick(m):(n=!0,m());n=!1}c=c||u;var h,p,k,m,n=!0,s=0,r=b?e.bind(b):e;Array.isArray(a)?(h=a.length,m=3===e.length?f:d):a&&"object"===typeof a&&(k=Object.keys(a),h=k.length,m=3===e.length?q:g);if(!h)return c();m();n=!1}function R(a,e,c,b,d){function f(){t<p&&x(a[t++],h)}function g(){k=t++;k<p&&x(a[k],k,h)}function q(){t<
p&&x(a[n[t++]],h)}function l(){k=t++;k<p&&(m=n[k],x(a[m],m,h))}function h(a,c){a?(b(a),s=b=u):++v>=p?(b(),b=w):!1===c?(b(),b=u):r?y.nextTick(s):(r=!0,s());r=!1}b=b||u;var p,k,m,n,s,r=!1,t=0,v=0,x=d?c.bind(d):c;if(Array.isArray(a))p=a.length,s=3===c.length?g:f;else if(a&&"object"===typeof a)n=Object.keys(a),p=n.length,s=3===c.length?l:q;else return b();if(!p||isNaN(e)||1>e)return b();F(e>p?p:e,s);r=!0}function na(a,e,c){return function(b,d,f,g){function q(a){var b=!1;return function(d){b&&w();b=!0;
!!d===c?(f(a),f=u):++p===h&&(f(),f=w)}}function l(a){var b=!1;return function(d,e){b&&w();b=!0;d?(f(d),f=u):!!e===c?(f(void 0,a),f=u):++p===h&&(f(),f=w)}}f=f||u;var h,p=0;g=g?d.bind(g):d;var k=2===f.length?l:q;Array.isArray(b)?(h=b.length,a(b,g,k)):b&&"object"===typeof b&&(d=Object.keys(b),h=d.length,e(b,g,k,d));h||f()}}function oa(a){return function(e,c,b,d){function f(){n=e[v];A(n,x)}function g(){n=e[v];A(n,v,x)}function q(){n=e[s[v]];A(n,x)}function l(){m=s[v];n=e[m];A(n,m,x)}function h(c){!!c===
a?(b(n),b=w):++v>=k?(b(),b=w):t?y.nextTick(r):(t=!0,r());t=!1}function p(c,d){c?(b(c),b=w):!!d===a?(b(void 0,n),b=w):++v>=k?(b(),b=w):t?y.nextTick(r):(t=!0,r());t=!1}b=b||u;var k,m,n,s,r,t=!0,v=0,x=2===b.length?p:h,A=d?c.bind(d):c;Array.isArray(e)?(k=e.length,r=3===c.length?g:f):e&&"object"===typeof e&&(s=Object.keys(e),k=s.length,r=3===c.length?l:q);if(!k)return b();r();t=!1}}function pa(a){return function(e,c,b,d,f){function g(){n=A++;n<m&&(r=e[n],z(r,E(r)))}function q(){n=A++;n<m&&(r=e[n],z(r,
n,E(r)))}function l(){n=A++;n<m&&(r=e[t[n]],z(r,E(r)))}function h(){A<m&&(s=t[A++],r=e[s],z(r,s,E(r)))}function p(c){var b=!1;return function(f){b&&w();b=!0;!!f===a?(d(c),v=d=u):++I>=m?(d(),d=w):x?y.nextTick(v):(x=!0,v());x=!1}}function k(c){var b=!1;return function(f,e){b&&w();b=!0;f?(d(f),v=d=u):!!e===a?(d(void 0,c),d=u):++I>=m?(d(),d=w):x?y.nextTick(v):(x=!0,v());x=!1}}d=d||u;var m,n,s,r,t,v,x=!0,A=0,I=0,E=2===d.length?k:p,z=f?b.bind(f):b;Array.isArray(e)?(m=e.length,v=3===b.length?q:g):e&&"object"===
typeof e&&(t=Object.keys(e),m=t.length,v=3===b.length?h:l);if(!m||isNaN(c)||1>c)return d();F(c>m?m:c,v);x=!1}}function S(a,e,c,b,d){function f(b){m=a[t];v(b,m,h)}function g(b){m=a[t];v(b,m,t,h)}function q(b){k=n[t];m=a[k];v(b,m,h)}function l(b){k=n[t];m=a[k];v(b,m,k,h)}function h(a,c){a?(b(a,c),b=w):++t>=p?(b(void 0,c),b=w):r?y.nextTick(function(){s(c)}):(r=!0,s(c));r=!1}b=b||u;var p,k,m,n,s,r=!0,t=0,v=d?c.bind(d):c;Array.isArray(a)?(p=a.length,s=4===c.length?g:f):a&&"object"===typeof a&&(n=Object.keys(a),
p=n.length,s=4===c.length?l:q);if(!p)return b(void 0,e);s(e);r=!1}function qa(a,e,c,b,d){function f(b){n=a[--p];v(b,n,h)}function g(b){k=--p;n=a[k];v(b,n,k,h)}function q(b){m=s[--p];n=a[m];v(b,n,h)}function l(b){m=s[--p];n=a[m];v(b,n,m,h)}function h(a,c){a?(b(a,c),b=w):0>=p?(b(void 0,c),b=w):t?y.nextTick(function(){r(c)}):(t=!0,r(c));t=!1}b=b||u;var p,k,m,n,s,r,t=!0,v=d?c.bind(d):c;Array.isArray(a)?(p=a.length,r=4===c.length?g:f):a&&"object"===typeof a&&(s=Object.keys(a),p=s.length,r=4===c.length?
l:q);if(!p)return b(void 0,e);r(e);t=!1}function ra(a,e,c,b){function d(a){c(!!a)}function f(a,b){c(a,!!b)}c=c||u;sa(a,e,2===c.length?f:d,b)}function ta(a,e,c){function b(){h=s;a[s](q)}function d(){h=s;a[s].call(c,q)}function f(){h=p[s];a[h](q)}function g(){h=p[s];a[h].call(c,q)}function q(a,b){a?(e(a,k),m=e=w):(k[h]=2>=arguments.length?b:D(arguments,1),++s>=l?(e(void 0,k),e=w):n?y.nextTick(m):(n=!0,m()),n=!1)}e=e||u;var l,h,p,k,m,n=!0,s=0;if(Array.isArray(a))l=a.length,k=Array(l),m=c?d:b;else if(a&&
"object"===typeof a)p=Object.keys(a),l=p.length,k={},m=c?g:f;else return e();if(!l)return e(void 0,k);m();n=!1}function aa(a,e,c,b){function d(){p=t++;if(p<h)a[p](l(p))}function f(){p=t++;p<h&&a[p].call(b,l(p))}function g(){t<h&&(k=m[t++],a[k](l(k)))}function q(){t<h&&(k=m[t++],a[k].call(b,l(k)))}function l(a){return function(b,d){null===a&&w();b?(c(b,n),c=u,a=null):(n[a]=2>=arguments.length?d:D(arguments,1),a=null,++v>=h?c(void 0,n):r?y.nextTick(s):(r=!0,s()),r=!1)}}c=c||u;var h,p,k,m,n,s,r=!0,t=
0,v=0;Array.isArray(a)?(h=a.length,n=Array(h),s=b?f:d):a&&"object"===typeof a&&(m=Object.keys(a),h=m.length,n={},s=b?q:g);if(!h||isNaN(e)||1>e)return c(void 0,n);F(e>h?h:e,s);r=!1}function ba(a,e){return Array.isArray(a)?0===a.length?(e(),!1):!0:(e(Error("First argument to waterfall must be an array of functions")),!1)}function La(a,e){function c(g){function q(a){b&&w();b=!0;if(a)e(a);else if(++g>=d)e.apply(null,B(arguments));else{f=arguments;y.safeNextTick(function(){c(g)});return}e=c=w}b=!1;var l=
a[g];switch(f.length){case 0:case 1:return l(q);case 2:return l(f[1],q);case 3:return l(f[1],f[2],q);case 4:return l(f[1],f[2],f[3],q);case 5:return l(f[1],f[2],f[3],f[4],q);case 6:return l(f[1],f[2],f[3],f[4],f[5],q);default:return f=D(f,1),f.push(q),l.apply(null,f)}}e=e||u;if(ba(a,e)){var b,d=a.length,f=[];c(0)}}function ua(a,e){function c(){switch(q.length){case 1:return q(b);case 2:return q(l[1],b);case 3:return q(l[1],l[2],b);case 4:return q(l[1],l[2],l[3],b);case 5:return q(l[1],l[2],l[3],l[4],
b);default:return l=D(l,1),l[q.length-1]=b,q.apply(null,l)}}function b(b){b?(e(b),e=w):++d>=g?(e.apply(null,B(arguments)),e=w):(q=a[d],l=arguments,f?y.nextTick(c):(f=!0,c()),f=!1)}e=e||u;if(ba(a,e)){var d=0,f=!0,g=a.length,q=a[d],l=[];c();f=!1}}function va(){var a=B(arguments);return function(){var e=this,c=B(arguments),b=c.pop();S(a,c,function(a,b,c){a.push(function(a){var b=D(arguments,1);c(a,b)});b.apply(e,a)},function(a,c){c=Array.isArray(c)?c:[c];c.unshift(a);b.apply(e,c)})}}function wa(a){return function(e){var c=
function(){var b=this,c=B(arguments),g=c.pop()||u;return a(e,function(a,e){a.apply(b,c.concat([e]))},g)};if(1<arguments.length){var b=D(arguments,1);return c.apply(this,b)}return c}}function xa(a,e,c){function b(a,b,c){function d(a){var b=f.tasks,c=b.length;if(!c)return 0;for(var e=-1;++e<c&&!(a<b[e].priority););return e}f.started=!0;var e=Array.isArray(a)?a:[a];if(void 0!==a&&e.length){c="function"===typeof c?c:u;var k=d(b);G(e,function(a){a={task:a,priority:b,callback:c};f.tasks.splice(k++,0,a);
"function"===typeof f.saturated&&f.length()===f.concurrency&&f.saturated();y.nextTick(f.process)})}else f.idle()&&y.nextTick(function(){"function"===typeof f.drain&&f.drain()})}if(void 0===e)e=1;else if(isNaN(e)||1>e)throw Error("concurrency must be more than 1");var d=0,f={tasks:[],concurrency:e,saturated:u,empty:u,drain:u,started:!1,paused:!1,push:function(a,c,d){b(a,c,d)},kill:function(){f.drain=u;f.tasks=[]},process:function(){function a(){d--;b.callback&&b.callback.apply(b,B(arguments));"function"===
typeof f.drain&&f.idle()&&f.drain();f.process()}if(!(f.paused||d>=f.concurrency)&&f.length()){var b=f.tasks.shift();"function"!==typeof f.empty||f.length()||f.empty();d++;(f._thisArg?f._worker.bind(f._thisArg):f._worker)(b.task,C(a))}},length:function(){return f.tasks.length},running:function(){return d},idle:function(){return 0===f.length()+d},pause:function(){f.paused=!0},resume:function(){!1!==f.paused&&(f.paused=!1,F(f.concurrency,function(){y.setImmediate(f.process)}))},_worker:a,_thisArg:c};
return f}function ya(a,e,c,b){function d(){h(l,f)}function f(b,e){g[l]=e;b?(c(b),c=w):++l>=a?(c(void 0,g),c=w):q?y.nextTick(d):(q=!0,d());q=!1}c=c||u;a=+a;if(isNaN(a)||1>a)return c(void 0,[]);var g=Array(a),q=!0,l=0,h=b?e.bind(b):e;d();q=!1}function za(a){return function(){var e=B(arguments),c=e.pop(),b;try{b=a.apply(this,e)}catch(d){return c(d)}if("object"===typeof b&&"function"===typeof b.then)b.then(function(a){c(null,a)})["catch"](c);else c(null,b)}}function ca(a){function e(c){if(T[typeof console])if(c)console.error&&
console.error(c);else if(console[a]){var b=D(arguments,1);G(b,function(b){console[a](b)})}}return function(a){var b=D(arguments,1);b.push(e);a.apply(null,b)}}function z(a,e){this._emitter=a||ta;this._limit=e||4;this._events={};this._runing={};this._queue={}}function Aa(a){a=a||u;if(a.ONCE===da)return a;var e=function(c){if(a.length)return a(c);a();c()};e.func=a;return e}function Ba(a){a=a||u;var e=function(c){if(a.length)return a(c);a();c()};e.func=a;e.ONCE=da;return e}var N=this,Ma=N&&N.async,u=
function(){},w=function(){throw Error("Callback was already called.");},T={"function":!0,object:!0},U,ea,V;(function(){var a=function(a){setTimeout(a,0)};V="function"===typeof setImmediate?setImmediate:a;"object"===typeof process&&"function"===typeof process.nextTick?(U=process.nextTick,ea=/^v0.10/.test(process.version)?V:U):U=ea=V})();var P=function(a,e){return function(c,b,d,f){function g(a,b){a?(d(a),d=u):++l===q?d():!1===b&&(d(),d=u)}d=d||u;var q,l=0;f=f?b.bind(f):b;Array.isArray(c)?(q=c.length,
a(c,f,g)):c&&"object"===typeof c&&(b=Object.keys(c),q=b.length,e(c,f,g,b));q||d()}}(fa,ga),Na=function(a,e){return function(c,b,d,f){function g(a){return function(b,c){null===a&&w();l[a]=c;a=null;b?(d(b,L(l)),d=u):++h===q&&d(void 0,l)}}d=d||u;var q,l,h=0;f=f?b.bind(f):b;Array.isArray(c)?(q=c.length,l=Array(q),a(c,f,g)):c&&"object"===typeof c&&(b=Object.keys(c),q=b.length,l=Array(q),e(c,f,g,b));q||d(void 0,[])}}(ha,function(a,e,c,b){var d,f=-1,g=b.length;if(3===e.length)for(;++f<g;)d=b[f],e(a[d],d,
c(f));else for(;++f<g;)e(a[b[f]],c(f))}),Oa=function(a,e){return function(c,b,d,f){function g(a){return function(b,c){null===a&&w();h[a]=c;a=null;b?(d(b,H(h)),d=u):++l===q&&(d(void 0,h),d=w)}}d=d||u;var q,l=0,h={};f=f?b.bind(f):b;Array.isArray(c)?(q=c.length,a(c,f,g)):c&&"object"===typeof c&&(b=Object.keys(c),q=b.length,e(c,f,g,b));q||d(void 0,h)}}(ha,function(a,e,c,b){var d,f=-1,g=b.length;if(3===e.length)for(;++f<g;)d=b[f],e(a[d],d,c(d));else for(;++f<g;)d=b[f],e(a[d],c(d))}),Ca=ka(Y,ia,!0),Da=
la(!0),Ea=ma(!0),Pa=ka(Y,ia,!1),Qa=la(!1),Ra=ma(!1),sa=na(W,X,!0),Fa=oa(!0),Ga=pa(!0),Ha=function(a,e){var c=na(a,e,!1);return function(a,d,e,g){function q(a){e(!a)}function l(a,b){e(a,!b)}e=e||u;c(a,d,2===e.length?l:q,g)}}(W,X),Sa=function(){var a=oa(!1);return function(e,c,b,d){function f(a){b(!a)}function g(a,c){b(a,!c)}b=b||u;a(e,c,2===b.length?g:f,d)}}(),Ta=function(){var a=pa(!1);return function(e,c,b,d,f){function g(a){d(!a)}function q(a,b){d(a,!b)}d=d||u;a(e,c,b,2===d.length?q:g,f)}}(),Ua=
function(a,e){return function(c,b,d,f){function g(a,b){return function(c){null===a&&w();c&&(p[a]=b);a=null;++h===l&&d(p)}}function q(a,b){return function(c,e){null===a&&w();c?(d(c,H(p)),d=u,a=null):(e&&(p[a]=b),a=null,++h===l&&(d(void 0,p),d=w))}}d=d||u;var l,h=0,p={};f=f?b.bind(f):b;var k=2===d.length,m=k?q:g;Array.isArray(c)?(l=c.length,a(c,f,m)):c&&"object"===typeof c&&(b=Object.keys(c),l=b.length,e(c,f,m,b));if(!l)return k?d(void 0,{}):d({})}}(Y,function(a,e,c,b){var d,f,g=-1,q=b.length;if(3===
e.length)for(;++g<q;)d=b[g],f=a[d],e(f,d,c(d,f));else for(;++g<q;)d=b[g],f=a[d],e(f,c(d,f))}),Va=function(a,e){return function(c,b,d,f,g){function q(a,b){a?(d(a,Array.isArray(h)?L(h):H(h)),d=u):++p===l?d(void 0,h):!1===b&&(d(void 0,Array.isArray(h)?L(h):H(h)),d=u)}d=d||u;var l,h,p=0;g=g?b.bind(g):b;Array.isArray(c)?(l=c.length,h=void 0!==f?f:[],a(c,h,g,q)):c&&"object"===typeof c&&(b=Object.keys(c),l=b.length,h=void 0!==f?f:{},e(c,h,g,q,b));l||d(void 0,void 0!==f?f:h||{})}}(function(a,e,c,b){var d=
-1,f=a.length;if(4===c.length)for(;++d<f;)c(e,a[d],d,C(b));else for(;++d<f;)c(e,a[d],C(b))},function(a,e,c,b,d){var f,g=-1,q=d.length;if(4===c.length)for(;++g<q;)f=d[g],c(e,a[f],f,C(b));else for(;++g<q;)c(e,a[d[g]],C(b))}),Wa=function(a,e){return function(c,b,d,f){function g(a){var b=!1;return function(c,e){b&&w();b=!0;l[h]={value:a,criteria:e};c?(d(c),d=u):++h===q&&(l.sort($),d(void 0,Q(l,"value")),d=w)}}d=d||u;var q,l,h=0;b=f?b.bind(f):b;Array.isArray(c)?(q=c.length,l=Array(q),a(c,b,g)):c&&"object"===
typeof c&&(f=Object.keys(c),q=f.length,l=Array(q),e(c,b,g,f));q||d(void 0,[])}}(W,X),Xa=function(a,e){return function(c,b,d,f){function g(a,b){void 0!==b&&Array.prototype.push.apply(h,Array.isArray(b)?b:[b]);a?(d(a,L(h)),d=u):++l===q&&d(void 0,h)}d=d||u;var q,l=0,h=[];b=f?b.bind(f):b;Array.isArray(c)?(q=c.length,a(c,b,g)):c&&"object"===typeof c&&(f=Object.keys(c),q=f.length,e(c,b,g,f));q||d(void 0,h)}}(fa,ga),Ia=function(a,e){return function(c,b,d){function f(a){return function(c,d){null===a&&w();
c?(b(c,l),b=u,a=null):(l[a]=2>=arguments.length?d:D(arguments,1),a=null,++h===g&&(b(void 0,l),b=w))}}b=b||u;var g,q,l,h=0;Array.isArray(c)?(g=c.length,l=Array(g),a(c,f,d)):c&&"object"===typeof c&&(q=Object.keys(c),g=q.length,l={},e(c,f,q,d));g||b(void 0,l)}}(function(a,e,c){var b=-1,d=a.length;if(c)for(;++b<d;)a[b].call(c,e(b));else for(;++b<d;)a[b](e(b))},function(a,e,c,b){var d,f=-1,g=c.length;if(b)for(;++f<g;)d=c[f],a[d].call(b,e(d));else for(;++f<g;)d=c[f],a[d](e(d))}),y={VERSION:"1.3.2",each:P,
eachSeries:O,eachLimit:R,forEach:P,forEachSeries:O,forEachLimit:R,eachOf:P,eachOfSeries:O,eachOfLimit:R,forEachOf:P,forEachOfSeries:O,forEachOfLimit:R,map:Na,mapSeries:function(a,e,c,b){function d(){t(a[r],l)}function f(){t(a[r],r,l)}function g(){t(a[k[r]],l)}function q(){p=k[r];t(a[p],p,l)}function l(a,b){m[r]=b;a?(c(a,L(m)),c=w):++r>=h?(c(void 0,m),c=w):s?y.nextTick(n):(s=!0,n());s=!1}c=c||u;var h,p,k,m,n,s=!0,r=0,t=b?e.bind(b):e;Array.isArray(a)?(h=a.length,n=3===e.length?f:d):a&&"object"===typeof a&&
(k=Object.keys(a),h=k.length,n=3===e.length?q:g);if(!h)return c(void 0,[]);m=Array(h);n();s=!1},mapLimit:function(a,e,c,b,d){function f(){k=v++;k<p&&A(a[k],h(k))}function g(){k=v++;k<p&&A(a[k],k,h(k))}function q(){k=v++;k<p&&A(a[n[k]],h(k))}function l(){k=v++;k<p&&(m=n[k],A(a[m],m,h(k)))}function h(a){return function(c,d){null===a&&w();s[a]=d;a=null;c?(b(c,L(s)),r=b=u):++x>=p?(b(void 0,s),b=w):t?y.nextTick(r):(t=!0,r());t=!1}}b=b||u;var p,k,m,n,s,r,t=!0,v=0,x=0,A=d?c.bind(d):c;Array.isArray(a)?(p=
a.length,r=3===c.length?g:f):a&&"object"===typeof a&&(n=Object.keys(a),p=n.length,r=3===c.length?l:q);if(!p||isNaN(e)||1>e)return b(void 0,[]);s=Array(p);F(e>p?p:e,r);t=!1},mapValues:Oa,mapValuesSeries:function(a,e,c,b){function d(){p=r;t(a[r],l)}function f(){p=r;t(a[r],r,l)}function g(){p=k[r];t(a[p],l)}function q(){p=k[r];t(a[p],p,l)}function l(a,b){s[p]=b;a?(c(a,H(s)),c=w):++r>=h?(c(void 0,s),c=w):n?y.nextTick(m):(n=!0,m());n=!1}c=c||u;var h,p,k,m,n=!0,s={},r=0,t=b?e.bind(b):e;Array.isArray(a)?
(h=a.length,m=3===e.length?f:d):a&&"object"===typeof a&&(k=Object.keys(a),h=k.length,m=3===e.length?q:g);if(!h)return c(void 0,s);m();n=!1},mapValuesLimit:function(a,e,c,b,d){function f(){k=v++;k<p&&A(a[k],h(k))}function g(){k=v++;k<p&&A(a[k],k,h(k))}function q(){k=v++;k<p&&(m=n[k],A(a[m],h(m)))}function l(){k=v++;k<p&&(m=n[k],A(a[m],m,h(m)))}function h(a){return function(c,d){null===a&&w();t[a]=d;a=null;c?(b(c,H(t)),s=b=u):++x>=p?(b(void 0,t),b=w):r?y.nextTick(s):(r=!0,s());r=!1}}b=b||u;var p,k,
m,n,s,r=!0,t={},v=0,x=0,A=d?c.bind(d):c;Array.isArray(a)?(p=a.length,s=3===c.length?g:f):a&&"object"===typeof a&&(n=Object.keys(a),p=n.length,s=3===c.length?l:q);if(!p||isNaN(e)||1>e)return b(void 0,t);F(e>p?p:e,s);r=!1},filter:Ca,filterSeries:Da,filterLimit:Ea,select:Ca,selectSeries:Da,selectLimit:Ea,reject:Pa,rejectSeries:Qa,rejectLimit:Ra,detect:sa,detectSeries:Fa,detectLimit:Ga,pick:Ua,pickSeries:function(a,e,c,b){function d(){k=v;m=a[v];z(m,A)}function f(){k=v;m=a[v];z(m,v,A)}function g(){k=
n[v];m=a[k];z(m,A)}function q(){k=n[v];m=a[k];z(m,k,A)}function l(a){a&&(t[k]=m);++v>=p?(c(t),c=w):r?y.nextTick(s):(r=!0,s());r=!1}function h(a,b){a?(c(a,t),c=w):(b&&(t[k]=m),++v>=p?(c(void 0,t),c=w):r?y.nextTick(s):(r=!0,s()),r=!1)}c=c||u;var p,k,m,n,s,r=!0,t={},v=0,x=2===c.length,A=x?h:l,z=b?e.bind(b):e;Array.isArray(a)?(p=a.length,s=3===e.length?f:d):a&&"object"===typeof a&&(n=Object.keys(a),p=n.length,s=3===e.length?q:g);if(!p)return x?c(void 0,{}):c({});s();r=!1},pickLimit:function(a,e,c,b,d){function f(){m=
A++;m<k&&(s=a[m],C(s,B(s,m)))}function g(){m=A++;m<k&&(s=a[m],C(s,m,B(s,m)))}function q(){A<k&&(n=r[A++],s=a[n],C(s,B(s,n)))}function l(){A<k&&(n=r[A++],s=a[n],C(s,n,B(s,n)))}function h(a,c){return function(d){null===c&&w();d&&(x[c]=a);c=null;++z>=k?(b(x),b=w):v?y.nextTick(t):(v=!0,t());v=!1}}function p(a,c){return function(d,e){null===c&&w();d?(b(d,H(x)),t=b=u,c=null):(e&&(x[c]=a),c=null,++z>=k?(b(void 0,x),b=w):v?y.nextTick(t):(v=!0,t()),v=!1)}}b=b||u;var k,m,n,s,r,t,v=!0,x={},A=0,z=0,E=2===b.length,
B=E?p:h,C=d?c.bind(d):c;Array.isArray(a)?(k=a.length,t=3===c.length?g:f):a&&"object"===typeof a&&(r=Object.keys(a),k=r.length,t=3===c.length?l:q);if(!k||isNaN(e)||1>e)return E?b(void 0,{}):b({});F(e>k?k:e,t);v=!1},reduce:S,inject:S,foldl:S,reduceRight:qa,foldr:qa,transform:Va,transformSeries:function(a,e,c,b,d){function f(){v(s,a[t],h)}function g(){v(s,a[t],t,h)}function q(){v(s,a[m[t]],h)}function l(){k=m[t];v(s,a[k],k,h)}function h(a,b){a?(c(a,s),c=w):++t>=p?(c(void 0,s),c=w):!1===b?(c(void 0,s),
c=w):r?y.nextTick(n):(r=!0,n());r=!1}c=c||u;var p,k,m,n,s,r=!0,t=0,v=d?e.bind(d):e;Array.isArray(a)?(p=a.length,s=void 0!==b?b:[],n=4===e.length?g:f):a&&"object"===typeof a&&(m=Object.keys(a),p=m.length,s=void 0!==b?b:{},n=4===e.length?l:q);if(!p)return c(void 0,void 0!==b?b:s||{});n();r=!1},transformLimit:function(a,e,c,b,d,f){function g(){m=x++;m<k&&z(t,a[m],C(p))}function q(){m=x++;m<k&&z(t,a[m],m,C(p))}function l(){m=x++;m<k&&z(t,a[s[m]],C(p))}function h(){m=x++;m<k&&(n=s[m],z(t,a[n],n,C(p)))}
function p(a,c){a?(b(a,Array.isArray(t)?L(t):H(t)),r=b=u):++A>=k?(b(void 0,t),b=w):!1===c?(b(void 0,Array.isArray(t)?L(t):H(t)),r=b=u):v?y.nextTick(r):(v=!0,r());v=!1}b=b||u;var k,m,n,s,r,t,v=!0,x=0,A=0,z=f?c.bind(f):c;Array.isArray(a)?(k=a.length,t=void 0!==d?d:[],r=4===c.length?q:g):a&&"object"===typeof a&&(s=Object.keys(a),k=s.length,t=void 0!==d?d:{},r=4===c.length?h:l);if(!k||isNaN(e)||1>e)return b(void 0,void 0!==d?d:t||{});F(e>k?k:e,r);v=!1},sortBy:Wa,sortBySeries:function(a,e,c,b){function d(){k=
a[t];v(k,l)}function f(){k=a[t];v(k,t,l)}function g(){k=a[m[t]];v(k,l)}function q(){p=m[t];k=a[p];v(k,p,l)}function l(a,b){n[t]={value:k,criteria:b};a?(c(a),c=w):++t>=h?(n.sort($),c(void 0,Q(n,"value")),c=w):r?y.nextTick(s):(r=!0,s());r=!1}c=c||u;var h,p,k,m,n,s,r=!0,t=0,v=b?e.bind(b):e;Array.isArray(a)?(h=a.length,s=3===e.length?f:d):a&&"object"===typeof a&&(m=Object.keys(a),h=m.length,s=3===e.length?q:g);if(!h)return c(void 0,[]);n=Array(h);s();r=!1},sortByLimit:function(a,e,c,b,d){function f(){x<
p&&(n=a[x++],z(n,h(n)))}function g(){k=x++;k<p&&(n=a[k],z(n,k,h(n)))}function q(){x<p&&(n=a[s[x++]],z(n,h(n)))}function l(){x<p&&(m=s[x++],n=a[m],z(n,m,h(n)))}function h(a){var c=!1;return function(d,e){c&&w();c=!0;r[A]={value:a,criteria:e};d?(b(d),t=b=u):++A>=p?(r.sort($),b(void 0,Q(r,"value")),b=w):v?y.nextTick(t):(v=!0,t());v=!1}}b=b||u;var p,k,m,n,s,r,t,v=!1,x=0,A=0,z=d?c.bind(d):c;Array.isArray(a)?(p=a.length,t=3===c.length?g:f):a&&"object"===typeof a&&(s=Object.keys(a),p=s.length,t=3===c.length?
l:q);if(!p||isNaN(e)||1>e)return b(void 0,[]);r=Array(p);F(e>p?p:e,t)},some:ra,someSeries:function(a,e,c,b){function d(a){c(!!a)}function f(a,b){c(a,!!b)}c=c||u;Fa(a,e,2===c.length?f:d,b)},someLimit:function(a,e,c,b,d){function f(a){b(!!a)}function g(a,c){b(a,!!c)}b=b||u;Ga(a,e,c,2===b.length?g:f,d)},any:ra,every:Ha,all:Ha,everySeries:Sa,everyLimit:Ta,concat:Xa,concatSeries:function(a,e,c,b){function d(){t(a[r],l)}function f(){t(a[r],r,l)}function g(){t(a[k[r]],l)}function q(){p=k[r];t(a[p],p,l)}
function l(a,b){b&&Array.prototype.push.apply(s,Array.isArray(b)?b:[b]);a?(c(a,s),c=w):++r>=h?(c(void 0,s),c=w):n?y.nextTick(m):(n=!0,m());n=!1}c=c||u;var h,p,k,m,n=!0,s=[],r=0,t=b?e.bind(b):e;Array.isArray(a)?(h=a.length,m=3===e.length?f:d):a&&"object"===typeof a&&(k=Object.keys(a),h=k.length,m=3===e.length?q:g);if(!h)return c(void 0,s);m();n=!1},concatLimit:function(a,e,c,b,d){function f(){t<k&&x(a[t++],C(h))}function g(){m=t++;m<k&&x(a[m],m,C(h))}function q(){t<k&&x(a[z[t++]],C(h))}function l(){t<
k&&(n=z[t++],x(a[n],n,C(h)))}function h(a,c){c&&Array.prototype.push.apply(p,Array.isArray(c)?c:[c]);a?(b(a,p),b=u):++v>=k?(b(void 0,p),b=w):r?y.nextTick(s):(r=!0,s());r=!1}b=b||u;var p=[],k,m,n,s,r=!0,t=0,v=0,x=d?c.bind(d):c;if(Array.isArray(a))k=a.length,s=3===c.length?g:f;else if(a&&"object"===typeof a){var z=Object.keys(a);k=z.length;s=3===c.length?l:q}if(!k||isNaN(e)||1>e)return b(void 0,p);F(e>k?k:e,s);r=!1},parallel:Ia,series:ta,parallelLimit:aa,waterfall:function(a,e){function c(){f=!1;switch(h.length){case 0:case 1:return l(b);
case 2:return l(h[1],b);case 3:return l(h[1],h[2],b);case 4:return l(h[1],h[2],h[3],b);case 5:return l(h[1],h[2],h[3],h[4],b);case 6:return l(h[1],h[2],h[3],h[4],h[5],b);default:return h=D(h,1),h.push(b),l.apply(null,h)}}function b(b){f&&w();b?(e(b),e=w):(f=!0,++d>=q?(e.apply(null,B(arguments)),e=w):(l=a[d],h=arguments,g?y.nextTick(c):(g=!0,c()),g=!1))}e=e||u;if(ba(a,e)){var d=0,f=!1,g=!0,q=a.length,l=a[d],h=[];c();g=!1}},angelFall:ua,angelfall:ua,whilst:function(a,e,c,b){function d(){a()?g(function(a){if(a)return c(a);
f?y.nextTick(d):(f=!0,d());f=!1}):c()}c=c||u;var f=!0,g=b?e.bind(b):e;d();f=!1},doWhilst:function(a,e,c,b){function d(){g(function(a){if(a)return c(a);e.apply(b,D(arguments,1))?(f?y.nextTick(d):(f=!0,d()),f=!1):c()})}c=c||u;var f=!0,g=b?a.bind(b):a;d();f=!1},until:function(a,e,c,b){function d(){a()?c():g(function(a){if(a)return c(a);f?y.nextTick(d):(f=!0,d());f=!1})}c=c||u;var f=!0,g=b?e.bind(b):e;d();f=!1},doUntil:function(a,e,c,b){function d(){g(function(a){if(a)return c(a);e.apply(b,D(arguments,
1))?c():(f?y.nextTick(d):(f=!0,d()),f=!1)})}c=c||u;var f=!0,g=b?a.bind(b):a;d();f=!1},during:function(a,e,c,b){function d(a,b){if(a)return c(a);b?g(f):c()}function f(b){if(b)return c(b);a(d)}c=c||u;var g=b?e.bind(b):e;a(d)},doDuring:function(a,e,c,b){function d(a,b){if(a)return c(a);b?g(f):c()}function f(a,b){if(a)return c(a);switch(arguments.length){case 0:case 1:e(d);break;case 2:e(b,d);break;default:var f=D(arguments,1);f.push(d);e.apply(null,f)}}c=c||u;var g=b?a.bind(b):a;d(null,!0)},forever:function(a,
e,c){function b(){g(d)}function d(a){if(a){if(e)return e(a);throw a;}f?y.nextTick(b):(f=!0,b());f=!1}var f=!0,g=c?a.bind(c):a;b();f=!1},compose:function(){return va.apply(null,Ja(arguments))},seq:va,applyEach:wa(P),applyEachSeries:wa(O),queue:function(a,e,c){function b(a,b,c){d.started=!0;var e=Array.isArray(a)?a:[a];void 0!==a&&e.length?(b="function"===typeof b?b:null,G(e,function(a){a={task:a,callback:b};c?d.tasks.unshift(a):d.tasks.push(a);"function"===typeof d.saturated&&d.length()===d.concurrency&&
d.saturated();y.nextTick(d.process)})):d.idle()&&y.nextTick(function(){"function"===typeof d.drain&&d.drain()})}var d=xa(a,e,c);d.unshift=function(a,c){b(a,c,!0)};d.push=function(a,c){b(a,c)};return d},priorityQueue:xa,cargo:function(a,e){var c=!1,b={tasks:[],payload:e,saturated:u,empty:u,drain:u,drained:!0,push:function(a,c){a=Array.isArray(a)?a:[a];c="function"===typeof c?c:u;G(a,function(a){b.tasks.push({data:a,callback:c});b.drained=!1;"function"===typeof b.saturated&&b.length()===b.payload&&
b.saturated()});y.nextTick(b.process)},process:function(){if(!c)if(b.length()){var d="number"===typeof b.payload?b.tasks.splice(0,e):b.tasks,f=Q(d,"data");b.length()||"function"!==typeof b.empty||b.empty();c=!0;a(f,function(){c=!1;var a=B(arguments);G(d,function(b){b.callback&&b.callback.apply(null,a)});b.process()})}else"function"!==typeof b.drain||b.drained||b.drain(),b.drained=!0},length:function(){return b.tasks.length},running:function(){return c}};return b},auto:function(a,e){function c(a){g.unshift(a)}
function b(){f--;G(g.slice(0),function(a){a()})}e=e?C(e):u;var d=Object.keys(a),f=d.length;if(!f)return e();var g=[],q={};c(function(){f||e(void 0,q)});K(a,function(a,d){function f(a){var c=D(arguments,1);1>=c.length&&(c=c[0]);if(a){var g=H(q);g[d]=c;e(a,g);e=u}else q[d]=c,y.nextTick(b)}function k(){return!q.hasOwnProperty(d)&&Ka(s,function(a){return q.hasOwnProperty(a)})}function m(){if(k()){var a;a:{a=-1;for(var b=g.length;++a<b;)if(g[a]===m)break a;a=void 0}0<=a&&g.splice(a,1);r(f,q)}}a=Array.isArray(a)?
a:[a];var n=a.length,s=a.slice(0,n-1),r=a[n-1];if(k())return r(f,q);c(m)},d)},retry:function(a,e,c){function b(b,f){c=b||c||u;var g,q;ya(a,function(b,c){e(function(d,e){g=d;q=e;if(!d)return c(!0);c(d&&b===a-1)},f)},function(){c(g,q)})}"function"===typeof a&&(c=e,e=a,a=5);a=parseInt(a,10)||5;return"function"===typeof c?b():b},iterator:function(a){function e(d){var f=function(){c&&a[b[d]||d].apply(null,B(arguments));return f.next()};f.next=function(){return d<c-1?e(d+1):null};return f}var c=0,b=[];
Array.isArray(a)?c=a.length:(b=Object.keys(a),c=b.length);return e(0)},apply:function(a){var e=D(arguments,1);return function(){return a.apply(this,e.concat(B(arguments)))}},nextTick:U,safeNextTick:ea,setImmediate:V,times:function(a,e,c,b){function d(b){return function(d,e){null===b&&w();f[b]=e;b=null;d?(c(d),c=u):0===--a&&c(void 0,f)}}c=c||u;a=+a;if(isNaN(a)||1>a)return c(void 0,[]);var f=Array(a),g=b?e.bind(b):e;F(a,function(a){g(a,d(a))})},timesSeries:ya,timesLimit:function(a,e,c,b,d){function f(){var b=
h++;b<a&&k(b,g(b))}function g(c){return function(d,e){null===c&&w();q[c]=e;c=null;d?(b(d),b=u):++p>=a?(b(void 0,q),b=w):l?y.nextTick(f):(l=!0,f());l=!1}}b=b||u;a=+a;if(isNaN(a)||1>a||isNaN(e)||1>e)return b(void 0,[]);var q=Array(a),l=!0,h=0,p=0,k=d?c.bind(d):c;F(e>a?a:e,f);l=!1},memoize:function(a,e,c){e=e||function(a){return a};var b={},d={},f=function(){function f(){var a=B(arguments);b[h]=a;var e=d[h];delete d[h];for(var g=-1,l=e.length;++g<l;)e[g].apply(c,a)}var q=B(arguments),l=q.pop(),h=e.apply(null,
q);if(b.hasOwnProperty(h))y.nextTick(function(){l.apply(c,b[h])});else{if(d.hasOwnProperty(h))return d[h].push(l);d[h]=[l];q.push(f);a.apply(c,q)}};f.memo=b;f.unmemoized=a;return f},unmemoize:function(a){return function(){return(a.unmemoized||a).apply(null,arguments)}},ensureAsync:function(a){return function(){var e=!0,c=B(arguments),b=c.pop();c.push(function(){var a=arguments;e?y.safeNextTick(function(){b.apply(null,a)}):b.apply(null,a)});a.apply(this,c);e=!1}},constant:function(){var a=[null].concat(B(arguments));
return function(e){e.apply(this,a)}},asyncify:za,wrapSync:za,log:ca("log"),dir:ca("dir"),createLogger:ca,noConflict:function(){N.async=Ma;return y},eventEmitter:function(a){a=a||{};var e=a.limit;return a.parallel&&!e?new z(Ia):a.parallel||a.parallelLimit?new z(aa,e):new z(a.emitter)},EventEmitter:z,safe:void 0};y.safe=ja();T[typeof define]&&define&&define.amd?define([],function(){return y}):T[typeof module]&&module&&module.exports?module.exports=y:N&&T[typeof N.async]?N.neo_async=y:N.async=y;var da=
{__ONCE__:!0};z.prototype.getListeners=function(a){function e(a){a=a||[];var b=Array(a.length);G(a,function(a,c){b[c]=a.func});return b}var c=this._events;if(a)return e(c[a]);var b={};K(c,function(a,c){b[c]=e(a)});return b};z.prototype.addListener=function e(c,b){var d=this;if("object"===typeof c)return K(c,function(b,c){e.call(d,c,b)}),d;if(d.running(c))return d.queue(c,"addListener",b);d._events[c]=d._events[c]||[];Array.isArray(b)?G(b,function(b){d._events[c].push(Aa(b))}):d._events[c].push(Aa(b));
return d};z.prototype.addOnceListener=function c(b,d){var f=this;if("object"===typeof b)return K(b,function(b,d){c.call(f,d,b)}),f;Array.isArray(d)?G(d,function(b,c){d[c]=Ba(b)}):d=Ba(d);return f.addListener(b,d)};z.prototype.removeListener=function b(d,f){var g=this;if("object"===typeof d)return K(d,function(d,f){b.call(g,f,d)}),g;if(g.running(d))return g.queue(d,"removeListener",f);var q=g._events[d]||[];if(!q.length)return g;if(Array.isArray(f))return Z(f,function(f){b.call(g,f,d)}),g;Z(q,function(b,
d){b.func===f&&q.splice(d,1)});return g};z.prototype.removeEvent=function d(f){var g=this;if(!f)return K(g._events,function(f,l){d.call(g,l)}),g;(g._events[f]||[]).length&&delete g._events[f];return g};z.prototype.running=function(d){return this._runing[d]};z.prototype.queue=function(d,f,g,q){this._queue[d]=this._queue[d]||[];this._queue[d].push([f,g,q]);return this};z.prototype.resolve=function(d){if(this._runing[d])return this;var f=this._queue[d]||[];if(!f.length)return this;f=f.shift();this[f[0]](d,
f[1],f[2]);return this.resolve(d)};z.prototype.emit=function(d,f,g){function q(g,m){g?f(g):(Z(h,function(d,f){d.ONCE===da&&h.splice(f,1)}),f(void 0,m));l._runing[d]=!1;l.resolve(d)}f=f||u;var l=this;if(l.running(d))return l.queue(d,"emit",f,g);var h=l._events[d]||[];if(!h.length)return f(),l;l._runing[d]=!0;var p=l._emitter,p=g?p.bind(g):p;p===aa?p(h,l._limit,q):p(h,q);return l};z.prototype.on=z.prototype.addListener;z.prototype.once=z.prototype.addOnceListener;z.prototype.off=z.prototype.removeListener;
z.prototype.removeAllListener=z.prototype.removeEvent;z.prototype.trigger=z.prototype.emit}).call(this);
