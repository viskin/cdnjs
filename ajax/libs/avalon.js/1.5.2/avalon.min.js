(function(c,b){if(typeof module==="object"&&typeof module.exports==="object"){module.exports=c.document?b(c,true):function(d){if(!d.document){throw new Error("Avalon requires a window with a document")}return b(d)}}else{b(c)}}(typeof window!=="undefined"?window:this,function(cl,bd){var aM=new Date()-0;var cX=cl.document;var b=cX.getElementsByTagName("head")[0];var aI=b.insertBefore(document.createElement("avalon"),b.firstChild);aI.innerHTML="X<style id='avalonStyle'>.avalonHide{ display: none!important }</style>";aI.setAttribute("ms-skip","1");aI.className="avalonHide";var at=/\[native code\]/;function cL(){if(cl.console&&avalon.config.debug){Function.apply.call(console.log,console,arguments)}}var c6="$"+aM;var av=cl.require;var ao=cl.define;var r;var M=false;var w={};var b8=/[^, ]+/g;var f=/\w+/g;var C=/^(?:object|array)$/;var aA=/^\[object SVG\w*Element\]$/;var J=/^\[object (?:Window|DOMWindow|global)\]$/;var bJ=Object.prototype;var cr=bJ.hasOwnProperty;var c0=bJ.toString;var de=Array.prototype;var ab=de.slice;var aX=cl.dispatchEvent;var dr=cX.documentElement;var cx=cX.createDocumentFragment();var dG=cX.createElement("div");var aL={};"Boolean Number String Function Array Date RegExp Object Error".replace(b8,function(e){aL["[object "+e+"]"]=e.toLowerCase()});function l(){}function dJ(dV,dT){if(typeof dV==="string"){dV=dV.match(b8)||[]}var e={},dS=dT!==void 0?dT:1;for(var ap=0,dU=dV.length;ap<dU;ap++){e[dV[ap]]=dS}return e}var bU=function(e){e=e||"avalon";return String(Math.random()+Math.random()).replace(/\d\.\d{4}/,e)};function du(){if(cl.VBArray){var e=document.documentMode;return e?e:cl.XMLHttpRequest?7:6}else{return NaN}}var cg=du();avalon=function(e){return new avalon.init(e)};avalon.profile=function(){if(cl.console&&avalon.config.profile){Function.apply.call(console.log,console,arguments)}};avalon.nextTick=new function(){var dT=cl.setImmediate;var dS=cl.MutationObserver;if(dT){return dT.bind(cl)}var e=[];function dV(){var dX=e.length;for(var dW=0;dW<dX;dW++){e[dW]()}e=e.slice(dX)}if(dS){var dU=document.createTextNode("avalon");new dS(dV).observe(dU,{characterData:true});var ap=false;return function(dW){e.push(dW);ap=!ap;dU.data=ap}}return function(dW){setTimeout(dW,4)}};avalon.init=function(e){this[0]=this.element=e};avalon.fn=avalon.prototype=avalon.init.prototype;avalon.type=function(e){if(e==null){return String(e)}return typeof e==="object"||typeof e==="function"?aL[c0.call(e)]||"object":typeof e};var H=typeof alert==="object"?function(ap){try{return/^\s*\bfunction\b/.test(ap+"")}catch(dS){return false}}:function(e){return c0.call(e)==="[object Function]"};avalon.isFunction=H;avalon.isWindow=function(e){if(!e){return false}return e==e.document&&e.document!=e};function bo(e){return J.test(c0.call(e))}if(bo(cl)){avalon.isWindow=bo}var aN;for(aN in avalon({})){break}var dO=aN!=="0";avalon.isPlainObject=function(dT,ap){if(!dT||avalon.type(dT)!=="object"||dT.nodeType||avalon.isWindow(dT)){return false}try{if(dT.constructor&&!cr.call(dT,"constructor")&&!cr.call(dT.constructor.prototype,"isPrototypeOf")){return false}}catch(dS){return false}if(dO){for(ap in dT){return cr.call(dT,ap)}}for(ap in dT){}return ap===void 0||cr.call(dT,ap)};if(at.test(Object.getPrototypeOf)){avalon.isPlainObject=function(e){return c0.call(e)==="[object Object]"&&Object.getPrototypeOf(e)===bJ}}avalon.mix=avalon.fn.mix=function(){var d1,dT,ap,dS,dY,dZ,dX=arguments[0]||{},dV=1,dU=arguments.length,d0=false;if(typeof dX==="boolean"){d0=dX;dX=arguments[1]||{};dV++}if(typeof dX!=="object"&&!H(dX)){dX={}}if(dV===dU){dX=this;dV--}for(;dV<dU;dV++){if((d1=arguments[dV])!=null){for(dT in d1){ap=dX[dT];try{dS=d1[dT]}catch(dW){continue}if(dX===dS){continue}if(d0&&dS&&(avalon.isPlainObject(dS)||(dY=Array.isArray(dS)))){if(dY){dY=false;dZ=ap&&Array.isArray(ap)?ap:[]}else{dZ=ap&&avalon.isPlainObject(ap)?ap:{}}dX[dT]=avalon.mix(d0,dZ,dS)}else{if(dS!==void 0){dX[dT]=dS}}}}}return dX};function br(ap,e){ap=Math.floor(ap)||0;return ap<0?Math.max(e+ap,0):Math.min(ap,e)}avalon.mix({rword:b8,subscribers:c6,version:1.51,ui:{},log:cL,slice:aX?function(ap,dS,e){return ab.call(ap,dS,e)}:function(dS,dV,ap){var dT=[];var e=dS.length;if(ap===void 0){ap=e}if(typeof ap==="number"&&isFinite(ap)){dV=br(dV,e);ap=br(ap,e);for(var dU=dV;dU<ap;++dU){dT[dU-dV]=dS[dU]}}return dT},noop:l,error:function(dS,ap){throw (ap||Error)(dS)},oneObject:dJ,range:function(dV,ap,dU){dU||(dU=1);if(ap==null){ap=dV||0;dV=0}var dS=-1,dT=Math.max(0,Math.ceil((ap-dV)/dU)),e=new Array(dT);while(++dS<dT){e[dS]=dV;dV+=dU}return e},eventHooks:[],bind:function(dU,dT,dS,ap){var e=avalon.eventHooks;var dV=e[dT];if(typeof dV==="object"){dT=dV.type;if(dV.deel){dS=dV.deel(dU,dT,dS,ap)}}var dW=aX?dS:function(dX){dS.call(dU,cH(dX))};if(aX){dU.addEventListener(dT,dW,!!ap)}else{dU.attachEvent("on"+dT,dW)}return dW},unbind:function(dU,dT,dS,ap){var e=avalon.eventHooks;var dV=e[dT];var dW=dS||l;if(typeof dV==="object"){dT=dV.type;if(dV.deel){dS=dV.deel(dU,dT,dS,false)}}if(aX){dU.removeEventListener(dT,dW,!!ap)}else{dU.detachEvent("on"+dT,dW)}},css:function(dS,e,dT){if(dS instanceof avalon){dS=dS[0]}var dV=/[_-]/.test(e)?m(e):e,ap;e=avalon.cssName(dV)||dV;if(dT===void 0||typeof dT==="boolean"){ap=y[dV+":get"]||y["@:get"];if(e==="background"){e="backgroundColor"}var dU=ap(dS,e);return dT===true?parseFloat(dU)||0:dU}else{if(dT===""){dS.style[e]=""}else{if(dT==null||dT!==dT){return}if(isFinite(dT)&&!avalon.cssNumber[dV]){dT+="px"}ap=y[dV+":set"]||y["@:set"];ap(dS,e,dT)}}},each:function(dS,ap){if(dS){var e=0;if(a8(dS)){for(var dT=dS.length;e<dT;e++){if(ap(e,dS[e])===false){break}}}else{for(e in dS){if(dS.hasOwnProperty(e)&&ap(e,dS[e])===false){break}}}}},getWidgetData:function(dT,dU){var ap=avalon(dT).data();var e={};for(var dS in ap){if(dS.indexOf(dU)===0){e[dS.replace(dU,"").replace(/\w/,function(dV){return dV.toLowerCase()})]=ap[dS]}}return e},Array:{ensure:function(ap,e){if(ap.indexOf(e)===-1){return ap.push(e)}},removeAt:function(ap,e){return !!ap.splice(e,1).length},remove:function(dS,ap){var e=dS.indexOf(ap);if(~e){return avalon.Array.removeAt(dS,e)}return false}}});var dI=avalon.bindingHandlers={};var am=avalon.bindingExecutors={};var G=avalon.directives={};avalon.directive=function(e,ap){dI[e]=ap.init=(ap.init||l);am[e]=ap.update=(ap.update||l);return G[e]=ap};function a8(dT){if(!dT){return false}var dU=dT.length;if(dU===(dU>>>0)){var ap=c0.call(dT).slice(8,-1);if(/(?:regexp|string|function|window|global)$/i.test(ap)){return false}if(ap==="Array"){return true}try{if({}.propertyIsEnumerable.call(dT,"length")===false){return/^\s?function/.test(dT.item||dT.callee)}return true}catch(dS){return !dT.window}}return false}var i=new function(){function e(dS){this.size=0;this.limit=dS;this.head=this.tail=void 0;this._keymap={}}var ap=e.prototype;ap.put=function(dS,dU){var dT={key:dS,value:dU};this._keymap[dS]=dT;if(this.tail){this.tail.newer=dT;dT.older=this.tail}else{this.head=dT}this.tail=dT;if(this.size===this.limit){this.shift()}else{this.size++}return dU};ap.shift=function(){var dS=this.head;if(dS){this.head=this.head.newer;this.head.older=dS.newer=dS.older=this._keymap[dS.key]=void 0;delete this._keymap[dS.key]}};ap.get=function(dS){var dT=this._keymap[dS];if(dT===void 0){return}if(dT===this.tail){return dT.value}if(dT.newer){if(dT===this.head){this.head=dT.newer}dT.newer.older=dT.older}if(dT.older){dT.older.newer=dT.newer}dT.newer=void 0;dT.older=this.tail;if(this.tail){this.tail.newer=dT}this.tail=dT;return dT.value};return e};if(!"司徒正美".trim){var R=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(R,"")}}var dQ=!({toString:null}).propertyIsEnumerable("toString"),bA=(function(){}).propertyIsEnumerable("prototype"),D=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],aE=D.length;if(!Object.keys){Object.keys=function(dS){var dU=[];var dY=bA&&typeof dS==="function";if(typeof dS==="string"||(dS&&dS.callee)){for(var dW=0;dW<dS.length;++dW){dU.push(String(dW))}}else{for(var e in dS){if(!(dY&&e==="prototype")&&cr.call(dS,e)){dU.push(String(e))}}}if(dQ){var dX=dS.constructor,ap=dX&&dX.prototype===dS;for(var dV=0;dV<aE;dV++){var dT=D[dV];if(!(ap&&dT==="constructor")&&cr.call(dS,dT)){dU.push(dT)}}}return dU}}if(!Array.isArray){Array.isArray=function(e){return c0.call(e)==="[object Array]"}}if(!l.bind){Function.prototype.bind=function(dS){if(arguments.length<2&&dS===void 0){return this}var ap=this,e=arguments;return function(){var dT=[],dU;for(dU=1;dU<e.length;dU++){dT.push(e[dU])}for(dU=0;dU<arguments.length;dU++){dT.push(arguments[dU])}return ap.apply(dS,dT)}}}function bO(dT,e,dS){var ap="for(var "+dT+"i=0,n = this.length; i < n; i++){"+e.replace("_","((i in this) && fn.call(scope,this[i],i,this))")+"}"+dS;return Function("fn,scope",ap)}if(!at.test([].map)){avalon.mix(de,{indexOf:function(dS,e){var dT=this.length,ap=~~e;if(ap<0){ap+=dT}for(;ap<dT;ap++){if(this[ap]===dS){return ap}}return -1},lastIndexOf:function(dS,e){var dT=this.length,ap=e==null?dT-1:e;if(ap<0){ap=Math.max(0,dT+ap)}for(;ap>=0;ap--){if(this[ap]===dS){return ap}}return -1},forEach:bO("","_",""),filter:bO("r=[],j=0,","if(_)r[j++]=this[i]","return r"),map:bO("r=[],","r[i]=_","return r"),some:bO("","if(_)return true","return false"),every:bO("","if(!_)return false","return true")})}function u(ap,dS){try{while((dS=dS.parentNode)){if(dS===ap){return true}}return false}catch(dT){return false}}avalon.contains=u;if(!cX.contains){cX.contains=function(e){return u(cX,e)}}function s(){return new XMLSerializer().serializeToString(this)}if(cl.SVGElement){if(!cX.createTextNode("x").contains){Node.prototype.contains=function(e){return !!(this.compareDocumentPosition(e)&16)}}var bs="http://www.w3.org/2000/svg";var b6=cX.createElementNS(bs,"svg");b6.innerHTML='<circle cx="50" cy="50" r="40" fill="red" />';if(!aA.test(b6.firstChild)){function cf(dU,dV){if(dU&&dU.childNodes){var ap=dU.childNodes;for(var dS=0,dT;dT=ap[dS++];){if(dT.tagName){var e=cX.createElementNS(bs,dT.tagName.toLowerCase());de.forEach.call(dT.attributes,function(dW){e.setAttribute(dW.name,dW.value)});cf(dT,e);dV.appendChild(e)}}}}Object.defineProperties(SVGElement.prototype,{outerHTML:{enumerable:true,configurable:true,get:s,set:function(ap){var e=this.tagName.toLowerCase(),dS=this.parentNode,dU=avalon.parseHTML(ap);if(e==="svg"){dS.insertBefore(dU,this)}else{var dT=cX.createDocumentFragment();cf(dU,dT);dS.insertBefore(dT,this)}dS.removeChild(this)}},innerHTML:{enumerable:true,configurable:true,get:function(){var ap=this.outerHTML;var e=new RegExp("<"+this.nodeName+'\\b(?:(["\'])[^"]*?(\\1)|[^>])*>',"i");var dS=new RegExp("</"+this.nodeName+">$","i");return ap.replace(e,"").replace(dS,"")},set:function(e){if(avalon.clearHTML){avalon.clearHTML(this);var ap=avalon.parseHTML(e);cf(ap,this)}}}})}}if(!dr.outerHTML&&cl.HTMLElement){HTMLElement.prototype.__defineGetter__("outerHTML",s)}var dl=/^(?:mouse|contextmenu|drag)|click/;function cH(dT){var e={};for(var ap in dT){e[ap]=dT[ap]}var dV=e.target=dT.srcElement;if(dT.type.indexOf("key")===0){e.which=dT.charCode!=null?dT.charCode:dT.keyCode}else{if(dl.test(dT.type)){var dU=dV.ownerDocument||cX;var dS=dU.compatMode==="BackCompat"?dU.body:dU.documentElement;e.pageX=dT.clientX+(dS.scrollLeft>>0)-(dS.clientLeft>>0);e.pageY=dT.clientY+(dS.scrollTop>>0)-(dS.clientTop>>0);e.wheelDeltaY=e.wheelDelta;e.wheelDeltaX=0}}e.timeStamp=new Date()-0;e.originalEvent=dT;e.preventDefault=function(){dT.returnValue=false};e.stopPropagation=function(){dT.cancelBubble=true};return e}var bK=avalon.eventHooks;if(!("onmouseenter" in dr)){avalon.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(ap,e){bK[ap]={type:e,deel:function(dU,dS,dT){return function(dW){var dV=dW.relatedTarget;if(!dV||(dV!==dU&&!(dU.compareDocumentPosition(dV)&16))){delete dW.type;dW.type=ap;return dT.call(dU,dW)}}}}})}avalon.each({AnimationEvent:"animationend",WebKitAnimationEvent:"webkitAnimationEnd"},function(e,ap){if(cl[e]&&!bK.animationend){bK.animationend={type:ap}}});if(!("oninput" in cX.createElement("input"))){bK.input={type:"propertychange",deel:function(dS,e,ap){return function(dT){if(dT.propertyName==="value"){dT.type="input";return ap.call(dS,dT)}}}}}if(cX.onmousewheel===void 0){var cw=cX.onwheel!==void 0?"wheel":"DOMMouseScroll";var bI=cw==="wheel"?"deltaY":"detail";bK.mousewheel={type:cw,deel:function(dS,e,ap){return function(dT){dT.wheelDeltaY=dT.wheelDelta=dT[bI]>0?-120:120;dT.wheelDeltaX=0;if(Object.defineProperty){Object.defineProperty(dT,"type",{value:"mousewheel"})}ap.call(dS,dT)}}}}function aB(e){for(var ap in e){if(!cr.call(e,ap)){continue}var dS=e[ap];if(typeof aB.plugins[ap]==="function"){aB.plugins[ap](dS)}else{if(typeof aB[ap]==="object"){avalon.mix(aB[ap],dS)}else{aB[ap]=dS}}}return this}var c1,bD,an,aQ,bk,ad=/[-.*+?^${}()|[\]\/\\]/g;function cq(e){return(e+"").replace(ad,"\\$&")}var dN={loader:function(ap){var e=r&&ap;cl.require=e?r:av;cl.define=e?r.define:ao},interpolate:function(dT){c1=dT[0];bD=dT[1];if(c1===bD){throw new SyntaxError("openTag!==closeTag");var dS=c1+"test"+bD;dG.innerHTML=dS;if(dG.innerHTML!==dS&&dG.innerHTML.indexOf("&lt;")>-1){throw new SyntaxError("此定界符不合法")}dG.innerHTML=""}aB.openTag=c1;aB.closeTag=bD;var e=cq(c1),ap=cq(bD);an=new RegExp(e+"(.*?)"+ap);aQ=new RegExp(e+"(.*?)"+ap,"g");bk=new RegExp(e+".*?"+ap+"|\\sms-")}};aB.async=true;aB.debug=true;aB.plugins=dN;aB.plugins.interpolate(["{{","}}"]);aB.paths={};aB.shim={};aB.maxRepeatSize=100;avalon.config=aB;function a4(dU,dV){var dT=this.$events||(this.$events={});var e=dT[dU]||(dT[dU]=[]);if(typeof dV==="function"){var ap=dV;ap.uuid=Math.random();dV={element:dr,type:"user-watcher",handler:l,vmodels:[this],expr:dU,uuid:ap.uuid};dV.wildcard=/\*/.test(dU)}if(!dV.update){if(/\w\.*\B/.test(dU)){dV.getter=l;var dS=this;dV.update=function(){var dW=this.fireArgs||[];if(dW[2]){dV.handler.apply(dS,dW)}delete this.fireArgs};e.sync=true;avalon.Array.ensure(e,dV)}else{avalon.injectBinding(dV)}if(ap){dV.handler=ap}}else{if(!dV.oneTime){avalon.Array.ensure(e,dV)}}return function(){dV.update=dV.getter=dV.handler=l;dV.element=cX.createElement("a")}}function bc(dS,ap){var dU=this.$events;if(dU&&dU[dS]){if(ap){ap[2]=dS}dd(dU[dS],ap);var dT=this.$up;if(dT&&dT.$event){if(this.$pathname){bc.call(dT,this.$pathname+"."+dS,ap)}bc.call(dT,"*."+dS,ap)}}else{dT=this.$up;if(dT){var dV=this.$pathname+"."+dS;var e=dV.split(".");if(e.indexOf("*")===-1){bc.call(dT,dV,ap);e[1]="*";bc.call(dT,e.join("."),ap)}else{bc.call(dT,dV,ap)}}}}function dA(dS,ap){do{if(dS.$watch){var dT=dS.$events||(dS.$events={});var dU=dT[ap]||(dT[ap]=[]);cQ.collectDependency(dU);return}dS=dS.$up;if(dS){ap=dS.$pathname+"."+ap}else{break}}while(true)}function dd(dS,e){if(!dS){return}if(new Date()-cj>444&&typeof dS[0]==="object"){a9()}var dW=[],dV=[];for(var ap=0,dU;dU=dS[ap++];){if(dU.type==="user-watcher"){dW.push(dU)}else{dV.push(dU)}}if(aB.async){dH.render();for(ap=0;dU=dV[ap++];){if(dU.update){var dT=P(dU);if(!dH.queue[dT]){dH.queue[dT]=1;dH.queue.push(dU)}}}}else{for(ap=0;dU=dV[ap++];){if(dU.update){dU.update()}}}for(ap=0;dU=dW[ap++];){if(e&&e[2]===dU.expr||dU.wildcard){dU.fireArgs=e}dU.update()}}var dn=avalon.vmodels={};avalon.define=function(e){var dS=e.$id;if(!dS){cL("warning: vm必须指定$id")}var ap=cF(e);ap.$id=dS;return dn[dS]=ap};var ch=dJ("$id,$watch,$fire,$events,$model,$skipArray,$active,$pathname,$up,$track,$accessors");var c2=Object.defineProperty;var bG=true;try{c2({},"_",{value:"x"});var t=Object.defineProperties}catch(cz){bG=false}function cF(ap,e){e=e||{};e.watch=true;return dF(ap,e)}function by(){}function dF(e,d4){if(!e||(e.$id&&e.$accessors)){return e}d4=d4||w;var dT=d4.force||w;var dU=d4.old;var d0=typeof dU==="object"?dU.$accessors:w;var dV=new by();var dX={};var dY={};var d2=[];var dS=[];var d3={};if(e.$skipArray){d3=dJ(e.$skipArray);delete e.$skipArray}var dW=e.$computed;if(dW){delete e.$computed;for(var ap in dW){dY[ap]=true;(function(d6,d7){var d5;dX[d6]={get:function(){return d5=d7.get.call(this)},set:function(d8){if(typeof d7.set==="function"){var ea=d5;d7.set.call(this,d8);var d9=this[d6];if(this.$fire&&(d9!==ea)){this.$fire(d6,d9,ea)}}},enumerable:true,configurable:true}})(ap,dW[ap])}}for(ap in e){var d1=e[ap];if(!ch[ap]){dY[ap]=true}if(typeof d1==="function"||(d1&&d1.nodeType)||(!dT[ap]&&(ap.charAt(0)==="$"||ch[ap]||d3[ap]))){d2.push(ap)}else{if(dq(d1)){cL("warning:计算属性建议放在$computed对象中统一定义");(function(d6,d7){var d5;dX[d6]={get:function(){return d5=d7.get.call(this)},set:function(d8){if(typeof d7.set==="function"){var ea=d5;d7.set.call(this,d8);var d9=this[d6];if(this.$fire&&(d9!==ea)){this.$fire(d6,d9,ea)}}},enumerable:true,configurable:true}})(ap,d1)}else{dS.push(ap);if(d0[ap]){dX[ap]=d0[ap]}else{dX[ap]=b1(ap,d1)}}}}dX["$model"]=aR;dV=t(dV,dX,e);function dZ(d5){return dY[d5]===true}d2.forEach(function(d5){dV[d5]=e[d5]});dv(dV,"$id","anonymous");dv(dV,"$up",dU?dU.$up:null);dv(dV,"$track",Object.keys(dY));dv(dV,"$active",false);dv(dV,"$pathname",dU?dU.$pathname:"");dv(dV,"$accessors",dX);dv(dV,"hasOwnProperty",dZ);if(d4.watch){dv(dV,"$watch",function(){return a4.apply(dV,arguments)});dv(dV,"$fire",function(d9,d6){if(d9.indexOf("all!")===0){var d5=d9.slice(4);for(var d8 in avalon.vmodels){var d7=avalon.vmodels[d8];d7.$fire&&d7.$fire.apply(d7,[d5,d6])}}else{bc.call(dV,d9,[d6])}})}dS.forEach(function(d5){var d6=dV[d5]=e[d5];if(d6&&typeof d6==="object"){d6.$up=dV;d6.$pathname=d5}bc.call(dV,d5)});for(ap in dW){d1=dV[ap]}dV.$active=true;return dV}function dq(ap){if(ap&&typeof ap==="object"){for(var e in ap){if(e!=="get"&&e!=="set"){return false}}return typeof ap.get==="function"}}function b1(ap,dS){var e;dS=NaN;return{get:function(){if(this.$active){dA(this,ap)}return dS},set:function(dU){if(dS===dU){return}var dT=dS;e=aC(dU,dS);if(e){dS=e}else{e=void 0;dS=dU}if(Object(e)===e){e.$pathname=ap;e.$up=this}if(this.$active){bc.call(this,ap,[dS,dT])}},enumerable:true,configurable:true}}function aC(dV,ap,dW,dU){if(Array.isArray(dV)){return cZ(dV,ap,dU)}else{if(avalon.isPlainObject(dV)){if(ap){var dT=cP(dV);var e=cP(ap);if(dT.join(";")===e.join(";")){for(var dS in dV){if(dV.hasOwnProperty(dS)){ap[dS]=dV[dS]}}return ap}ap.$active=false}return dF(dV,{old:ap,watch:dU})}}if(dW){return dV}}var cP=at.test(Object.key)?Object.key:function(e){var ap=[];for(var dS in e){if(e.hasOwnProperty(dS)&&!ch[dS]){ap.push(dS)}}return ap};function cZ(dX,e,dV){if(e){var dS=[0,e.length].concat(dX);e.splice.apply(e,dS);return e}else{for(var dT in be){dX[dT]=be[dT]}dv(dX,"$up",null);dv(dX,"$pathname","");dv(dX,"$track",c4(dX.length));dX._=dF({length:NaN},{watch:true});dX._.length=dX.length;dX._.$watch("length",function(dZ,dY){bc.call(dX.$up,dX.$pathname+".length",[dZ,dY])});if(dV){dv(dX,"$watch",function(){return a4.apply(dX,arguments)})}if(aX){Object.defineProperty(dX,"$model",aR)}else{dX.$model=cY(dX)}for(var ap=0,dW=dX.length;ap<dW;ap++){var dU=dX[ap]=aC(dX[ap],0,1,1);if(Object(dU)){dU.$up=dX}}return dX}}function dv(ap,e,dS){if(bG){Object.defineProperty(ap,e,{value:dS,writable:true,enumerable:false,configurable:true})}else{ap[e]=dS}}function cY(dS){var dU=avalon.type(dS);if(dU==="array"){var dT=[];for(var e=0;e<dS.length;e++){dT[e]=cY(dS[e])}return dT}else{if(dU==="object"){var ap={};for(e in dS){if(dS.hasOwnProperty(e)){ap[e]=cY(dS[e])}}return ap}}return dS}var aR={get:function(){return cY(this)},set:l,enumerable:false,configurable:true};if(!bG){if("__defineGetter__" in avalon){c2=function(e,dS,ap){if("value" in ap){e[dS]=ap.value}if("get" in ap){e.__defineGetter__(dS,ap.get)}if("set" in ap){e.__defineSetter__(dS,ap.set)}return e};t=function(ap,e){for(var dS in e){if(e.hasOwnProperty(dS)){c2(ap,dS,e[dS])}}return ap}}if(cg){var I={};cl.execScript(["Function parseVB(code)","\tExecuteGlobal(code)","End Function"].join("\n"),"VBScript");function cD(ap,dT,dS,dU){var e=dT[dS];if(arguments.length===4){e.set.call(ap,dU)}else{return e.get.call(ap)}}t=function(dU,dT,dV){var ap=[];ap.push("\r\n\tPrivate [__data__], [__proxy__]","\tPublic Default Function [__const__](d"+aM+", p"+aM+")","\t\tSet [__data__] = d"+aM+": set [__proxy__] = p"+aM,"\t\tSet [__const__] = Me","\tEnd Function");var dX={};for(dU in dT){dX[dU]=true;ap.push("\tPublic Property Let ["+dU+"](val"+aM+")",'\t\tCall [__proxy__](Me,[__data__], "'+dU+'", val'+aM+")","\tEnd Property","\tPublic Property Set ["+dU+"](val"+aM+")",'\t\tCall [__proxy__](Me,[__data__], "'+dU+'", val'+aM+")","\tEnd Property","\tPublic Property Get ["+dU+"]","\tOn Error Resume Next","\t\tSet["+dU+'] = [__proxy__](Me,[__data__],"'+dU+'")',"\tIf Err.Number <> 0 Then","\t\t["+dU+'] = [__proxy__](Me,[__data__],"'+dU+'")',"\tEnd If","\tOn Error Goto 0","\tEnd Property")}for(dU in dV){if(dX[dU]!==true){dX[dU]=true;ap.push("\tPublic ["+dU+"]")}}for(dU in ch){if(dX[dU]!==true){dX[dU]=true;ap.push("\tPublic ["+dU+"]")}}ap.push("\tPublic [hasOwnProperty]");ap.push("End Class");var e=ap.join("\r\n");var dW=I[e];if(!dW){dW=bU("VBClass");cl.parseVB("Class "+dW+e);cl.parseVB(["Function "+dW+"Factory(a, b)","\tDim o","\tSet o = (New "+dW+")(a, b)","\tSet "+dW+"Factory = o","End Function"].join("\r\n"));I[e]=dW}var dS=cl[dW+"Factory"](dT,cD);return dS}}}var dj=["push","pop","shift","unshift","splice"];var dR=Array.prototype;var be={notify:function(){bc.call(this.$up,this.$pathname)},set:function(e,ap){if(((e>>>0)===e)&&this[e]!==ap){if(e>this.length){throw Error(e+"set方法的第一个参数不能大于原数组长度")}bc.call(this.$up,this.$pathname+".*",[ap,this[e]]);this.splice(e,1,ap)}},contains:function(e){return this.indexOf(e)!==-1},ensure:function(e){if(!this.contains(e)){this.push(e)}return this},pushArray:function(e){return this.push.apply(this,e)},remove:function(e){return this.removeAt(this.indexOf(e))},removeAt:function(e){if((e>>>0)===e){return this.splice(e,1)}return[]},size:function(){return this._.length},removeAll:function(dS){if(Array.isArray(dS)){for(var e=this.length-1;e>=0;e--){if(dS.indexOf(this[e])!==-1){b2.call(this,e,1);b2.call(this.$track,e,1)}}}else{if(typeof dS==="function"){for(e=this.length-1;e>=0;e--){var ap=this[e];if(dS(ap,e)){b2.call(this,e,1);b2.call(this.$track,e,1)}}}else{b2.call(this,0,this.length);b2.call(this.$track,0,this.length)}}if(!aX){this.$model=cY(this)}this.notify();this._.length=this.length},clear:function(){return this.removeAll()}};var b2=dR.splice;dj.forEach(function(ap){var e=dR[ap];be[ap]=function(){var dT=[];for(var dU=0,dV=arguments.length;dU<dV;dU++){dT[dU]=aC(arguments[dU],0,1,1)}var dS=e.apply(this,dT);g(this.$track,ap,dT);if(!aX){this.$model=cY(this)}this.notify();this._.length=this.length;return dS}});"sort,reverse".replace(b8,function(e){be[e]=function(){var dW=this.concat();var dX=this;var d0=Math.random();var dU=[];var dZ=false;dR[e].apply(dX,arguments);for(var dT=0,dS=dW.length;dT<dS;dT++){var dY=dX[dT];var ap=dW[dT];if(dY===ap){dU.push(dT)}else{var dV=dW.indexOf(dY);dU.push(dV);dW[dV]=d0;dZ=true}}if(dZ){bw(this.$track,dU);if(!aX){this.$model=cY(this)}this.notify()}return this}});function bw(dV,ap){var dT={};for(var dS=0,dU=ap.length;dS<dU;dS++){dT[dS]=dV[dS];var e=ap[dS];if(e in dT){dV[dS]=dT[e];delete dT[e]}else{dV[dS]=dV[e]}}}function c4(dS){var e=[];for(var ap=0;ap<dS;ap++){e[ap]=bU("$proxy$each")}return e}function g(ap,dU,dS){switch(dU){case"push":case"unshift":dS=c4(dS.length);break;case"splice":if(dS.length>2){var e=dS[1];var dT=dS.length-2;dS=[dS[0],dS[1]].concat(c4(dS.length-2))}break}Array.prototype[dU].apply(ap,dS)}var cQ=(function(){var e=[];var ap;return{begin:function(dS){e.push(ap);ap=dS},end:function(){ap=e.pop()},collectDependency:function(dS){if(ap){ap.callback(dS)}}}})();var cn=/^on$/;function dC(){return new Date()-0}avalon.injectBinding=function(e){e.handler=e.handler||G[e.type].update||l;e.update=function(){var ap=false;if(!e.getter){ap=true;cQ.begin({callback:function(d0){ah(d0,e)}});e.getter=ct(e.expr,e.vmodels,e);e.observers.forEach(function(d0){d0.v.$watch(d0.p,e)});delete e.observers}try{var dX=e.fireArgs,dZ,dY;delete e.fireArgs;if(!dX){if(e.type==="on"){dZ=e.getter+""}else{dZ=e.getter.apply(0,e.args)}}else{dZ=dX[0];dY=dX[1]}dY=typeof dY==="undefined"?e.oldValue:dY;if(e._filters){dZ=bt.$filter.apply(0,[dZ].concat(e._filters))}if(e.signature){var dT=avalon.type(dZ);if(dT!=="array"&&dT!=="object"){throw Error("warning:"+e.expr+"只能是对象或数组")}e.xtype=dT;var dU=co(e.proxies||[],dT);var dW=dZ.$track||(dT==="array"?c4(dZ.length):Object.keys(dZ));e.track=dW;if(dU!==dW.join(";")){e.handler(dZ,dY);e.oldValue=1}}else{if(Array.isArray(dZ)?dZ.length!==(dY&&dY.length):false){e.handler(dZ,dY);e.oldValue=dZ.concat()}else{if(!("oldValue" in e)||dZ!==dY){e.handler(dZ,dY);e.oldValue=dZ}}}}catch(dV){delete e.getter;cL("warning:exception throwed in [avalon.injectBinding] ",dV);var dS=e.element;if(dS&&dS.nodeType===3){dS.nodeValue=c1+(e.oneTime?"::":"")+e.expr+bD}}finally{ap&&cQ.end()}};e.update()};function ah(e,ap){if(ap.oneTime){return}if(e&&avalon.Array.ensure(e,ap)&&ap.element){cR(ap,e);if(new Date()-cj>444){a9()}}}function co(ap,e){var dS=[];for(var dT=0,dU;dU=ap[dT++];){dS.push(e?dU.$id:dU.$key)}return dS.join(";")}var dy=0;var dp=avalon.$$subscribers=[];var cj=new Date();var aP={};function P(ap){if(!ap.uuid){var e=ap.element;if(e){if(e.nodeType!==1){ap.uuid=ap.type+(ap.pos||0)+"-"+P(e.parentNode)}else{ap.uuid=ap.name+"-"+P(e)}}else{ap.uuid=++dy}}return ap.uuid}function cR(dT,dS){var e=dT.lists||(dT.lists=[]);var ap=P(dT);avalon.Array.ensure(e,dS);dS.$uuid=dS.$uuid||bU();if(!dp[ap]){dp[ap]=1;dp.push(dT)}}function a9(dS){var dU=dp.length;var e=dU;var dV=[];var dT={};var dY={};while(dS=dp[--dU]){var dX=dS.type;if(dY[dX]){dY[dX]++}else{dY[dX]=1;dV.push(dX)}}var dZ=false;dV.forEach(function(d1){if(aP[d1]!==dY[d1]){dT[d1]=1;dZ=true}});dU=e;if(dZ){while(dS=dp[--dU]){if(dS.element===null){dp.splice(dU,1);continue}if(dT[dS.type]&&h(dS.element)){dp.splice(dU,1);delete dp[dS.uuid];var d0=dS.lists;for(var ap=0,dW;dW=d0[ap++];){avalon.Array.remove(d0,dW);avalon.Array.remove(dW,dS)}ca(dS)}}}aP=dY;cj=new Date()}function ca(ap){delete dp[ap.uuid];ap.element=null;ap.rollback&&ap.rollback();for(var e in ap){ap[e]=null}}function h(dS){try{var ap=dS.parentNode.nodeType}catch(dT){return true}if(dS.ifRemove){if(!dr.contains(dS.ifRemove)&&(aI===dS.parentNode)){dS.parentNode&&dS.parentNode.removeChild(dS);return true}}return dS.msRetain?0:(dS.nodeType===1?!dr.contains(dS):!avalon.contains(dr,dS))}var bP={area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],col:[2,"<table><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],tr:[2,"<table>","</table>"],td:[3,"<table><tr>","</tr></table>"],g:[1,'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">',"</svg>"],_default:aX?[0,"",""]:[1,"X<div>","</div>"]};bP.th=bP.td;bP.optgroup=bP.option;bP.tbody=bP.tfoot=bP.colgroup=bP.caption=bP.thead;String("circle,defs,ellipse,image,line,path,polygon,polyline,rect,symbol,text,use").replace(b8,function(e){bP[e]=bP.g});var x=/<([\w:]+)/;var dx=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig;var b9=aX?/[^\d\D]/:/(<(?:script|link|style|meta|noscript))/ig;var dk=dJ(["","text/javascript","text/ecmascript","application/ecmascript","application/javascript"]);var cc=/<(?:tb|td|tf|th|tr|col|opt|leg|cap|area)/;var bY=cX.createElement("script");var ac=/<|&#?\w+;/;avalon.parseHTML=function(dW){var dY=cx.cloneNode(false);if(typeof dW!=="string"){return dY}if(!ac.test(dW)){dY.appendChild(cX.createTextNode(dW));return dY}dW=dW.replace(dx,"<$1></$2>").trim();var d1=(x.exec(dW)||["",""])[1].toLowerCase(),ap=bP[d1]||bP._default,e=dG,dZ,d0;if(!aX){dW=dW.replace(b9,"<br class=msNoScope>$1")}e.innerHTML=ap[1]+dW+ap[2];var dU=e.getElementsByTagName("script");if(dU.length){for(var dV=0,dS;dS=dU[dV++];){if(dk[dS.type]){d0=bY.cloneNode(false);de.forEach.call(dS.attributes,function(d2){if(d2&&d2.specified){d0[d2.name]=d2.value;d0.setAttribute(d2.name,d2.value)}});d0.text=dS.text;dS.parentNode.replaceChild(d0,dS)}}}if(!aX){var dX=ap[1]==="X<div>"?e.lastChild.firstChild:e.lastChild;if(dX&&dX.tagName==="TABLE"&&d1!=="tbody"){for(dU=dX.childNodes,dV=0;dS=dU[dV++];){if(dS.tagName==="TBODY"&&!dS.innerHTML){dX.removeChild(dS);break}}}dU=e.getElementsByTagName("br");var dT=dU.length;while(dS=dU[--dT]){if(dS.className==="msNoScope"){dS.parentNode.removeChild(dS)}}for(dU=e.all,dV=0;dS=dU[dV++];){if(z(dS)){bj(dS)}}}for(dV=ap[0];dV--;e=e.lastChild){}while(dZ=e.firstChild){dY.appendChild(dZ)}return dY};function z(e){var ap=e.nodeName;return ap.toLowerCase()===ap&&e.scopeName&&e.outerText===""}function bj(e){if(e.currentStyle.behavior!=="url(#default#VML)"){e.style.behavior="url(#default#VML)";e.style.display="inline-block";e.style.zoom=1}}avalon.innerHTML=function(dT,dS){if(!aX&&(!b9.test(dS)&&!cc.test(dS))){try{dT.innerHTML=dS;return}catch(dU){}}var ap=this.parseHTML(dS);this.clearHTML(dT).appendChild(ap)};avalon.clearHTML=function(e){e.textContent="";while(e.firstChild){e.removeChild(e.firstChild)}return e};function bL(e){return e.replace(/([a-z\d])([A-Z]+)/g,"$1-$2").toLowerCase()}function m(e){if(!e||e.indexOf("-")<0&&e.indexOf("_")<0){return e}return e.replace(/[-_][^-_]/g,function(ap){return ap.charAt(1).toUpperCase()})}var aa={_toString:function(){var ap=this.node;var e=ap.className;var dS=typeof e==="string"?e:e.baseVal;return dS.split(/\s+/).join(" ")},_contains:function(e){return(" "+this+" ").indexOf(" "+e+" ")>-1},_add:function(e){if(!this.contains(e)){this._set(this+" "+e)}},_remove:function(e){this._set((" "+this+" ").replace(" "+e+" "," "))},__set:function(e){e=e.trim();var ap=this.node;if(aA.test(ap)){ap.setAttribute("class",e)}else{ap.className=e}}};function bE(ap){if(!("classList" in ap)){ap.classList={node:ap};for(var e in aa){ap.classList[e.slice(1)]=aa[e]}}return ap.classList}"add,remove".replace(b8,function(e){avalon.fn[e+"Class"]=function(ap){var dS=this[0];if(ap&&typeof ap==="string"&&dS&&dS.nodeType===1){ap.replace(/\S+/g,function(dT){bE(dS)[e](dT)})}return this}});avalon.fn.mix({hasClass:function(e){var ap=this[0]||{};return ap.nodeType===1&&bE(ap).contains(e)},toggleClass:function(dV,dS){var dT,ap=0;var dW=String(dV).split(/\s+/);var e=typeof dS==="boolean";while((dT=dW[ap++])){var dU=e?dS:!this.hasClass(dT);this[dU?"addClass":"removeClass"](dT)}return this},attr:function(e,ap){if(arguments.length===2){this[0].setAttribute(e,ap);return this}else{return this[0].getAttribute(e)}},data:function(ap,dS){ap="data-"+bL(ap||"");switch(arguments.length){case 2:this.attr(ap,dS);return this;case 1:var dT=this.attr(ap);return dB(dT);case 0:var e={};de.forEach.call(this[0].attributes,function(dU){if(dU){ap=dU.name;if(!ap.indexOf("data-")){ap=m(ap.slice(5));e[ap]=dB(dU.value)}}});return e}},removeData:function(e){e="data-"+bL(e);this[0].removeAttribute(e);return this},css:function(ap,dT){if(avalon.isPlainObject(ap)){for(var dS in ap){avalon.css(this,dS,ap[dS])}}else{var e=avalon.css(this,ap,dT)}return e!==void 0?e:this},position:function(){var dS,dT,ap=this[0],e={top:0,left:0};if(!ap){return}if(this.css("position")==="fixed"){dT=ap.getBoundingClientRect()}else{dS=this.offsetParent();dT=this.offset();if(dS[0].tagName!=="HTML"){e=dS.offset()}e.top+=avalon.css(dS[0],"borderTopWidth",true);e.left+=avalon.css(dS[0],"borderLeftWidth",true);e.top-=dS.scrollTop();e.left-=dS.scrollLeft()}return{top:dT.top-e.top-avalon.css(ap,"marginTop",true),left:dT.left-e.left-avalon.css(ap,"marginLeft",true)}},offsetParent:function(){var e=this[0].offsetParent;while(e&&avalon.css(e,"position")==="static"){e=e.offsetParent}return avalon(e||dr)},bind:function(dS,ap,e){if(this[0]){return avalon.bind(this[0],dS,ap,e)}},unbind:function(dS,ap,e){if(this[0]){avalon.unbind(this[0],dS,ap,e)}return this},val:function(dU){var dT=this[0];if(dT&&dT.nodeType===1){var ap=arguments.length===0;var e=ap?":get":":set";var dS=aZ[dt(dT)+e];if(dS){var dV=dS(dT,dU)}else{if(ap){return(dT.value||"").replace(/\r/g,"")}else{dT.value=dU}}}return ap?dV:this}});function dB(ap){try{if(typeof ap==="object"){return ap}ap=ap==="true"?true:ap==="false"?false:ap==="null"?null:+ap+""===ap?+ap:cS.test(ap)?avalon.parseJSON(ap):ap}catch(dS){}return ap}var cS=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,cC=/^[\],:{}\s]*$/,cG=/(?:^|:|,)(?:\s*\[)+/g,c5=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,cd=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g;avalon.parseJSON=cl.JSON?JSON.parse:function(e){if(typeof e==="string"){e=e.trim();if(e){if(cC.test(e.replace(c5,"@").replace(cd,"]").replace(cG,""))){return(new Function("return "+e))()}}avalon.error("Invalid JSON: "+e)}return e};avalon.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(ap,e){avalon.fn[ap]=function(dV){var dS=this[0]||{},dU=cN(dS),dT=ap==="scrollTop";if(!arguments.length){return dU?(e in dU)?dU[e]:dr[ap]:dS[ap]}else{if(dU){dU.scrollTo(!dT?dV:avalon(dU).scrollLeft(),dT?dV:avalon(dU).scrollTop())}else{dS[ap]=dV}}}});function cN(e){return e.window&&e.document?e:e.nodeType===9?e.defaultView||e.parentWindow:false}var y=avalon.cssHooks={};var bT=["","-webkit-","-o-","-moz-","-ms-"];var cb={"float":aX?"cssFloat":"styleFloat"};avalon.cssNumber=dJ("animationIterationCount,columnCount,order,flex,flexGrow,flexShrink,fillOpacity,fontWeight,lineHeight,opacity,orphans,widows,zIndex,zoom");avalon.cssName=function(e,dT,dS){if(cb[e]){return cb[e]}dT=dT||dr.style;for(var ap=0,dU=bT.length;ap<dU;ap++){dS=m(bT[ap]+e);if(dS in dT){return(cb[e]=dS)}}return null};y["@:set"]=function(dS,ap,dT){try{dS.style[ap]=dT}catch(dU){}};if(cl.getComputedStyle){y["@:get"]=function(dT,ap){if(!dT||!dT.style){throw new Error("getComputedStyle要求传入一个节点 "+dT)}var e,dS=getComputedStyle(dT,null);if(dS){e=ap==="filter"?dS.getPropertyValue(ap):dS[ap];if(e===""){e=dT.style[ap]}}return e};y["opacity:get"]=function(ap){var e=y["@:get"](ap,"opacity");return e===""?"1":e}}else{var aw=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i;var cI=/^(top|right|bottom|left)$/;var cB=/alpha\([^)]*\)/i;var Z=!!cl.XDomainRequest;var dP="DXImageTransform.Microsoft.Alpha";var ai={thin:Z?"1px":"2px",medium:Z?"3px":"4px",thick:Z?"5px":"6px"};y["@:get"]=function(dV,dT){var dS=dV.currentStyle;var ap=dS[dT];if((aw.test(ap)&&!cI.test(ap))){var dU=dV.style,dW=dU.left,e=dV.runtimeStyle.left;dV.runtimeStyle.left=dS.left;dU.left=dT==="fontSize"?"1em":(ap||0);ap=dU.pixelLeft+"px";dU.left=dW;dV.runtimeStyle.left=e}if(ap==="medium"){dT=dT.replace("Width","Style");if(dS[dT]==="none"){ap="0px"}}return ap===""?"auto":ai[ap]||ap};y["opacity:set"]=function(dU,ap,dV){var dT=dU.style;var e=isFinite(dV)&&dV<=1?"alpha(opacity="+dV*100+")":"";var dS=dT.filter||"";dT.zoom=1;dT.filter=(cB.test(dS)?dS.replace(cB,e):dS+" "+e).trim();if(!dT.filter){dT.removeAttribute("filter")}};y["opacity:get"]=function(e){var ap=e.filters.alpha||e.filters[dP],dS=ap&&ap.enabled?ap.opacity:100;return(dS/100)+""}}"top,left".replace(b8,function(e){y[e+":get"]=function(dS){var ap=y["@:get"](dS,e);return/px$/.test(ap)?ap:avalon(dS).position()[e]+"px"}});var cu={position:"absolute",visibility:"hidden",display:"block"};var W=/^(none|table(?!-c[ea]).+)/;function ae(dS,dU){if(dS.offsetWidth<=0){if(W.test(y["@:get"](dS,"display"))){var dT={node:dS};for(var e in cu){dT[e]=dS.style[e];dS.style[e]=cu[e]}dU.push(dT)}var ap=dS.parentNode;if(ap&&ap.nodeType===1){ae(ap,dU)}}}"Width,Height".replace(b8,function(dS){var dU=dS.toLowerCase(),ap="client"+dS,e="scroll"+dS,dT="offset"+dS;y[dU+":get"]=function(dX,dY,dW){var dZ=-4;if(typeof dW==="number"){dZ=dW}dY=dS==="Width"?["Left","Right"]:["Top","Bottom"];var dV=dX[dT];if(dZ===2){return dV+avalon.css(dX,"margin"+dY[0],true)+avalon.css(dX,"margin"+dY[1],true)}if(dZ<0){dV=dV-avalon.css(dX,"border"+dY[0]+"Width",true)-avalon.css(dX,"border"+dY[1]+"Width",true)}if(dZ===-4){dV=dV-avalon.css(dX,"padding"+dY[0],true)-avalon.css(dX,"padding"+dY[1],true)}return dV};y[dU+"&get"]=function(dW){var dX=[];ae(dW,dX);var dZ=y[dU+":get"](dW);for(var dV=0,dY;dY=dX[dV++];){dW=dY.node;for(var d0 in dY){if(typeof dY[d0]==="string"){dW.style[d0]=dY[d0]}}}return dZ};avalon.fn[dU]=function(dW){var dV=this[0];if(arguments.length===0){if(dV.setTimeout){return dV["inner"+dS]||dV.document.documentElement[ap]}if(dV.nodeType===9){var dX=dV.documentElement;return Math.max(dV.body[e],dX[e],dV.body[dT],dX[dT],dX[ap])}return y[dU+"&get"](dV)}else{return this.css(dU,dW)}};avalon.fn["inner"+dS]=function(){return y[dU+":get"](this[0],void 0,-2)};avalon.fn["outer"+dS]=function(dV){return y[dU+":get"](this[0],void 0,dV===true?2:0)}});avalon.fn.offset=function(){var ap=this[0],dU={left:0,top:0};if(!ap||!ap.tagName||!ap.ownerDocument){return dU}var dZ=ap.ownerDocument,dV=dZ.body,dY=dZ.documentElement,dW=dZ.defaultView||dZ.parentWindow;if(!avalon.contains(dY,ap)){return dU}if(ap.getBoundingClientRect){dU=ap.getBoundingClientRect()}var dT=dY.clientTop||dV.clientTop,dX=dY.clientLeft||dV.clientLeft,e=Math.max(dW.pageYOffset||0,dY.scrollTop,dV.scrollTop),dS=Math.max(dW.pageXOffset||0,dY.scrollLeft,dV.scrollLeft);return{top:dU.top+e-dT,left:dU.left+dS-dX}};function dt(ap){var e=ap.tagName.toLowerCase();return e==="input"&&/checkbox|radio/.test(ap.type)?"checked":e}var di=/^<option(?:\s+\w+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s>]+))?)*\s+value[\s=]/i;var aZ={"option:get":cg?function(e){return di.test(e.outerHTML)?e.value:e.text.trim()}:function(e){return e.value},"select:get":function(e,dX){var dS,dZ=e.options,dU=e.selectedIndex,dV=aZ["option:get"],dT=e.type==="select-one"||dU<0,dY=dT?null:[],dW=dT?dU+1:dZ.length,ap=dU<0?dW:dT?dU:0;for(;ap<dW;ap++){dS=dZ[ap];if((dS.selected||ap===dU)&&!dS.disabled){dX=dV(dS);if(dT){return dX}dY.push(dX)}}return dY},"select:set":function(dU,ap,dV){ap=[].concat(ap);var e=aZ["option:get"];for(var dS=0,dT;dT=dU.options[dS++];){if((dT.selected=ap.indexOf(e(dT))>-1)){dV=true}}if(!dV){dU.selectedIndex=-1}}};var dL={};var ce=["break,case,catch,continue,debugger,default,delete,do,else,false","finally,for,function,if,in,instanceof,new,null,return,switch,this","throw,true,try,typeof,var,void,while,with","abstract,boolean,byte,char,class,const,double,enum,export,extends","final,float,goto,implements,import,int,interface,long,native","package,private,protected,public,short,static,super,synchronized","throws,transient,volatile","arguments,let,yield,undefined"].join(",");ce.replace(/\w+/g,function(e){dL[e]=true});var b4=/\[(['"]?)([^'"]+)\1\]/;var cA=function(e){return(e===36)||(e===95)||(e>=65&&e<=90)||(e>=97&&e<=122)};function aY(ap,dT,e,dS){return ap.slice(0,dT)+"."+ap.slice(dT).replace("["+e+"]",dS)}function T(d0){var ea=0;var d3=0;var d5={};var e="";var d9=[];var d8=false;var dX=function(eg){if(d3<0){return}var ed=ea;var ef=d0.slice(d3,ed);var ee=d3+"-"+(ed-1);d5[ee]=ef;if(dL[ef]&&d0.charAt(d3-1)!=="."){delete d5[ee]}if(eg){d5[d3]="*"}d3=-1};var dW=function(ee){var eg=d9.pop();var ed=ee?ea-1:ea;var ef=d0.slice(eg,ed);try{var ei=Function("return "+ef)();ei+="";d0=aY(d0,eg-1,ef,ei);ea=eg+ei.length-1;d5[eg+"-"+ea]=ei;dU="word";d3=-1}catch(eh){d0=aY(d0,eg-1,ef,"*");ea=eg;d5[eg]="*";dU="word";d3=-1}};var dU="unknown";var dV={unknown:function(){if(cA(d1)){dU="word";d3=ea}else{if(d1===34||d1===39){dU="string";e=d1}else{if(d1===93){dW()}}}},word:function(){if(/\B/.test(dT)){dU="unknown";d0=d0.slice(0,ea)+d0.slice(ea).replace(/\s*(\.|\[)\s*/,function(ee,ed){return ed});dT=d0.charAt(ea);if(d1===46){dU="dot";dX();d5[ea]="."}else{if(d1===91){d5[ea]=".";dX();d9.push(ea+1)}else{if(d1===93){if(d3>0){dX(true)}else{dW(true)}}else{dX()}}}}},dot:function(){dU="unknown";if(d1>=48&&d1<=57||d1===42||cA(d1)){dU="word";d3=ea}},string:function(){if(d8){d8=false}else{if(d1===92){d8=true}if(d1===e){dU="unknown"}}}};var ec=d0.length;do{var d1=d0.charCodeAt(ea);if(d1!==d1){dX();break}if(ec--===0){break}var dT=d0.charAt(ea);dV[dU]();ea++}while(true);var ap=[];for(ea in d5){var d7=d5[ea];var dS=ea.split("-");ap.push({first:~~dS[0],last:~~dS[1]||~~dS[0],text:d7})}ap.sort(function(ee,ed){return ee.first-ed.first});var eb={};do{var d6=ap.shift();if(!d6){break}var d2=true;loop:for(ea in eb){dS=ea.split("-");if(Number(dS[1])+1===d6.first){eb[dS[0]+"-"+d6.last]=eb[ea]+d6.text;delete eb[ea];d2=false;break loop}}if(d2){eb[d6.first+"-"+d6.last]=d6.text}}while(1);var dY=[];var d4={};for(ea in eb){var dZ=eb[ea];if(!d4[dZ]){d4[dZ]=true;dY.push(dZ)}}return dY}function b5(dX,dY,ap,dZ){var dW=[],dV=" = "+ap+".";for(var dS=dX.length,e;e=dX[--dS];){var dU=e.split("."),d0;var dT=dU[0];while(d0=dU.shift()){if(dY.hasOwnProperty(d0)){dW.push(dT+dV+dT);dZ.observers.push({v:dY,p:e});dX.splice(dS,1)}}}return dW}var dK=/(\$proxy\$[a-z]+)\d+$/;var cM=new i(218);var bz=new i(128);function cK(ap){ap=ap.trim();var e=cM.get(ap);if(e){return e.concat()}e=T(ap);return cM.put(ap,e).concat()}function ct(e,d7,d0){var dT=d0.filters;if(typeof dT==="string"&&dT.trim()&&!d0._filters){d0._filters=q(dT.trim())}var dY=cK(e);var dV=new Date()-0;var dU=[];var dW=[];var ap=[];d0.observers=[];for(var d3=0,d6=d7.length;d3<d6;d3++){if(dY.length){var ea="vm"+dV+"_"+d3;dW.push(ea);ap.push(d7[d3]);dU.push.apply(dU,b5(dY,d7[d3],ea,d0))}}d0.args=ap;var d1=d0.type;var d8=d7.map(function(eb){return String(eb.$id).replace(dK,"$1")})+e+d1;var dS=bz.get(d8);if(dS){if(d1==="duplex"){var d9=bz.get(d8+"setter");d0.setter=d9.apply(d9,d0.args)}return d0.getter=dS}if(!dU.length){dU.push("fix"+dV)}if(d1==="duplex"){var dX={};dU.forEach(function(ec){var eb=ec.split("=");dX[eb[0].trim()]=eb[1].trim()});e=e.replace(/[\$\w]+/,function(eb){return dX[eb]?dX[eb]:eb});var d5=Function.apply(l,dW.concat("'use strict';return function(vvv){"+e+" = vvv\n}\n"));bz.put(d8+"setter",d5);d0.setter=d5.apply(d5,d0.args)}if(d1==="on"){if(e.indexOf("(")===-1){e+=".call(this, $event)"}else{e=e.replace("(",".call(this,")}dW.push("$event");e="\nreturn "+e+";";var d4=e.lastIndexOf("\nreturn");var d2=e.slice(0,d4);var dZ=e.slice(d4);e=d2+"\n"+dZ}else{e="\nreturn "+e+";"}dS=Function.apply(l,dW.concat("'use strict';\nvar "+dU.join(",\n")+e));return bz.put(d8,dS)}function aD(ap){var e=an.test(ap);if(e){var dS=db(ap);if(dS.length===1){return dS[0].expr}return dS.map(function(dT){return dT.type?"("+dT.expr+")":az(dT.expr)}).join(" + ")}else{return ap}}function dz(dS,ap,dT){avalon.log("parseExprProxy方法即将被废弃");var e=dT.evaluator=ct(dS,ap,dT);if(e){dT.handler=am[dT.handlerName||dT.type];avalon.injectBinding(dT)}}var aU=/\)\s*$/;var bW=/\)\s*\|/g;var k=/\|\s*([$\w]+)/g;var cm=/"\s*\["/g;var K=/"\s*\(/g;function q(e){e=e.replace(aU,"").replace(bW,function(){return"],|"}).replace(k,function(dS,ap){return"["+az(ap)}).replace(cm,function(){return'"],["'}).replace(K,function(){return'",'})+"]";return Function("return ["+e+"]")()}var bR={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};var az=cl.JSON&&JSON.stringify||function(e){return'"'+e.replace(/[\\\"\x00-\x1f]/g,function(ap){var dS=bR[ap];return typeof dS==="string"?dS:"\\u"+("0000"+ap.charCodeAt(0).toString(16)).slice(-4)})+'"'};avalon.scan=function(ap,dS){ap=ap||dr;var e=dS?[].concat(dS):[];bQ(ap,e)};var bl=dJ("area,base,basefont,br,col,command,embed,hr,img,input,link,meta,param,source,track,wbr,noscript,script,style,textarea".toUpperCase());function d(e,dT,dS){var ap=setTimeout(function(){var dU=e.innerHTML;clearTimeout(ap);if(dU===dS){dT()}else{d(e,dT,dU)}})}function V(e,ap){var dS=e.getAttribute("avalonctrl")||ap.$id;e.setAttribute("avalonctrl",dS);if(ap.$events){ap.$events.expr=e.tagName+'[avalonctrl="'+dS+'"]'}}var a3=function(dU,ap,e){var dV=dU.getAttribute(ap);if(dV){for(var dS=0,dT;dT=e[dS++];){if(dT.hasOwnProperty(dV)&&typeof dT[dV]==="function"){return dT[dV]}}}};function dc(dT,e){for(var ap=0,dS;dS=dT[ap++];){dS.vmodels=e;G[dS.type].init(dS);avalon.injectBinding(dS);if(dS.getter&&dS.element.nodeType===1){dS.element.removeAttribute(dS.name)}}dT.length=0}var bg=cg&&cl.MutationObserver?function(dS){var ap=dS.firstChild,dT;while(ap){var e=ap.nextSibling;if(ap.nodeType===3){if(dT){dT.nodeValue+=ap.nodeValue;dS.removeChild(ap)}else{dT=ap}}else{dT=null}ap=e}}:0;var aH=/^\s*::/;var bb=/ms-(\w+)-?(.*)/;var dE=dJ("animationend,blur,change,input,click,dblclick,focus,keydown,keypress,keyup,mousedown,mouseenter,mouseleave,mousemove,mouseout,mouseover,mouseup,scan,scroll,submit");var cV=dJ("value,title,alt,checked,selected,disabled,readonly,enabled,href,src");function N(ap,e){return ap.priority-e.priority}function ck(d6,d5,dV){var ap=true;if(d5.length){var dW=Q?Q(d6):d6.attributes;var d8=[];var d7=[];var dZ={};var d0={};for(var d4=0,d3;d3=dW[d4++];){if(d3.specified){if(dV=d3.name.match(bb)){var dT=dV[1];var dU=dV[2]||"";var d2=d3.value;var d9=d3.name;if(d0[d9]){continue}d0[d9]=1;if(dE[dT]){dU=dT;dT="on"}else{if(cV[dT]){if(dT==="enabled"){cL("warning!ms-enabled或ms-attr-enabled已经被废弃");dT="disabled";d2="!("+d2+")"}dU=dT;dT="attr";d9="ms-"+dT+"-"+dU;d7.push([d3.name,d9,d2])}}dZ[d9]=d2;if(G[dT]){var dY=d2.replace(aH,"");var dS=d2!==dY;var d1={type:dT,param:dU,element:d6,name:d9,expr:dY,oneTime:dS,uuid:d3.name+"-"+P(d6),priority:(G[dT].priority||dT.charCodeAt(0)*10)+(Number(dU.replace(/\D/g,""))||0)};if(dT==="html"||dT==="text"){var dX=p(d2).filters;d1.expr=d1.expr.replace(dX,"");d1.filters=dX.replace(dM,function(){d1.type="html";d1.group=1;return""}).trim()}else{if(dT==="duplex"){var e=d9}else{if(d9==="ms-if-loop"){d1.priority+=100}}}d8.push(d1);if(dT==="widget"){d6.msData=d6.msData||dZ}}}}}if(d8.length){d8.sort(N);d7.forEach(function(ea){cL("warning!请改用"+ea[1]+"代替"+ea[0]+"!");d6.removeAttribute(ea[0]);d6.setAttribute(ea[1],ea[2])});if(e&&dZ["ms-attr-value"]&&d6.nodeName==="INPUT"&&d6.type==="text"){cL("warning!一个控件不能同时定义ms-attr-value与"+e)}for(d4=0;d1=d8[d4];d4++){dT=d1.type;if(bx.test(dT)){return dc(d8.slice(0,d4+1),d5)}else{if(ap){ap=!dD.test(dT)}}}dc(d8,d5)}}if(ap&&!bl[d6.tagName]&&(b0(d6)?d6.msResolved:1)){bg&&bg(d6);aS(d6,d5)}}var bx=/^if|widget|repeat$/;var dD=/^each|with|html|include$/;if(!aX){var c9=new i(512);var bV=/\s+([^=\s]+)(?:=("[^"]*"|'[^']*'|[^\s>]+))?/g,cp=/^['"]/,bF=/<\w+\b(?:(["'])[^"]*?(\1)|[^>])*>/i,U=/&amp;/g;var Q=function(ap){var dU=ap.outerHTML;if(dU.slice(0,2)==="</"||!dU.trim()){return[]}var dX=dU.match(bF)[0];var dT=[],dS,dY;var dV=c9.get(dX);if(dV){return dV}while(dS=bV.exec(dX)){dY=dS[2];if(dY){dY=(cp.test(dY)?dY.slice(1,-1):dY).replace(U,"&")}var e=dS[1].toLowerCase();match=e.match(bb);var dW={name:e,specified:true,value:dY||""};dT.push(dW)}return c9.put(dX,dT)}}var c3=/^(ms-\S+|data-\S+|on[a-z]+|id|style|class|tabindex)$/;function v(dU){var ap=Q?Q(dU):dU.attributes;var dS={};for(var dT=0,e;e=ap[dT++];){if(e.specified&&!c3.test(e.name)){dS[m(e.name)]=dB(e.value)}}return dS}function aS(dS,ap){var e=avalon.slice(dS.childNodes);a1(e,ap)}function a1(e,ap){for(var dV=0,dS;dS=e[dV++];){switch(dS.nodeType){case 1:var dT=dS,dX;bQ(dS,ap);if(!dT.msResolved&&dT.parentNode&&dT.parentNode.nodeType===1){var dY=b0(dT);if(dY){var dW=dT.localName?dT.localName.replace(dY+":",""):dT.nodeName;var dU=dY+":"+m(dW);ar.push({library:dY,element:dT,fullName:dU,widget:dW,vmodels:ap,name:"widget"});if(avalon.components[dU]){avalon.component(dU)}}}if(dS.msHasEvent){avalon.fireDom(dS,"datasetchanged",{bubble:dS.msHasEvent})}break;case 3:if(an.test(dS.nodeValue)){E(dS,ap,dV)}break}}}function bQ(dV,dT,dU){var ap=dV.getAttribute("ms-skip");if(!dV.getAttributeNode){return cL("warning "+dV.tagName+" no getAttributeNode method")}var e=dV.getAttributeNode("ms-important");var dX=dV.getAttributeNode("ms-controller");if(typeof ap==="string"){return}else{if(dU=e||dX){var dW=avalon.vmodels[dU.value];if(!dW){return}dT=dU===e?[dW]:[dW].concat(dT);var dS=dU.name;dV.removeAttribute(dS);avalon(dV).removeClass(dS);V(dV,dW)}}ck(dV,dT)}var dM=/\|\s*html(?:\b|$)/,bN=/\|\|/g,dw=/&lt;/g,ax=/&gt;/g,bi=/(['"])(\\\1|.)+?\1/g;function p(dS){if(dS.indexOf("|")>0){var e=dS.replace(bi,function(dT){return Array(dT.length+1).join("1")});var ap=e.replace(bN,"\u1122\u3344").indexOf("|");if(ap>-1){return{type:"text",filters:dS.slice(ap).trim(),expr:dS.slice(0,ap)}}}return{type:"text",expr:dS,filters:""}}function db(dT){var dS=[],ap,dU=0,e;do{e=dT.indexOf(c1,dU);if(e===-1){break}ap=dT.slice(dU,e);if(ap){dS.push({expr:ap})}dU=e+c1.length;e=dT.indexOf(bD,dU);if(e===-1){break}ap=dT.slice(dU,e);if(ap){dS.push(p(ap,dU))}dU=e+bD.length}while(1);ap=dT.slice(dU);if(ap){dS.push({expr:ap})}return dS}function E(dU,ap,e){var dV=[];tokens=db(dU.data);if(tokens.length){for(var dS=0;token=tokens[dS++];){var dT=cX.createTextNode(token.expr);if(token.type){token.expr=token.expr.replace(aH,function(){token.oneTime=true;return""});token.element=dT;token.filters=token.filters.replace(dM,function(){token.type="html";return""});token.pos=e*1000+dS;dV.push(token)}cx.appendChild(dT)}dU.parentNode.replaceChild(cx,dU);if(dV.length){dc(dV,ap)}}}var cO=function(){this.queue=[]};cO.prototype={render:function(ap){if(!this.locked){this.locked=ap?dr.offsetHeight+10:1;var e=this;avalon.nextTick(function(){e.flush()})}},flush:function(){for(var e=0,ap;ap=this.queue[e++];){ap.update()}this.locked=0;this.queue=[]}};var dH=new cO();var ar=[];var bH=[];var Y={$construct:function(){return avalon.mix.apply(null,arguments)},$ready:l,$init:l,$dispose:l,$container:null,$childReady:l,$replace:false,$extend:null,$$template:function(e){return e}};avalon.components={};avalon.component=function(e,dS){if(dS){avalon.components[e]=avalon.mix({},Y,dS)}for(var ap=0,dT;dT=ar[ap];ap++){if(e===dT.fullName){ar.splice(ap,1);ap--;(function(ec,dY,ek,d1){var d8=1;var eg=ec.library;var ei=avalon.libraries[eg]||Y;var d6=v(ek);var ea=cW(ec.vmodels,d6.config||ec.fullName);var d9=d6.$id||d6.identifier||bU(d1);delete d6.config;delete d6.$id;delete d6.identifier;var d3={};var em=avalon.components[dY.$extend];if(em){avalon.mix(true,d3,em);d3=em.$construct.call(ek,d3,{},{})}else{avalon.mix(true,d3,dY)}d3=avalon.components[e].$construct.call(ek,d3,ea,d6);d3.$refs={};d3.$id=d9;var en=d3.$slot;var d5=d3.$replace;var ej=d3.$container;var dU=d3.$template;delete d3.$slot;delete d3.$replace;delete d3.$container;delete d3.$template;delete d3.$construct;var eh=avalon.define(d3)||{};ek.msResolved=1;eh.$init(eh,ek);ei.$init(eh,ek);var ee=ek.childNodes;var d7={},ed;for(var eb=0,dX;dX=ee[eb++];){var dZ=dX.nodeType===1&&dX.getAttribute("slot")||en;if(dZ){if(d7[dZ]){d7[dZ].push(dX)}else{d7[dZ]=[dX]}}}if(eh.$$template){avalon.clearHTML(ek);ek.innerHTML=eh.$$template(dU)}for(eb in d7){if(eh.hasOwnProperty(eb)){var ef=d7[eb];if(ef.length){var dV=cx.cloneNode(true);for(var eo=0;ed=ef[eo++];){dV.appendChild(ed)}eh[eb]=dV}d7[eb]=null}}d7=null;var d4=ek.firstChild;if(d5){d4=ek.firstChild;ek.parentNode.replaceChild(d4,ek);d4.msResolved=1;ek=ec.element=d4}if(ej){ej.appendChild(ek)}avalon.fireDom(ek,"datasetchanged",{library:eg,vm:eh,childReady:1});var d2=0;var d0=avalon.bind(ek,"datasetchanged",function(ep){if(ep.childReady&&ep.library===eg){d8+=ep.childReady;if(eh!==ep.vm){eh.$refs[ep.vm.$id]=ep.vm;if(ep.childReady===-1){d2++;eh.$childReady(eh,ek,ep)}ep.stopPropagation()}}if(d8===0){var el=setTimeout(function(){clearTimeout(el);eh.$ready(eh,ek);ei.$ready(eh,ek)},d2?Math.max(d2*17,100):17);avalon.unbind(ek,"datasetchanged",d0);ec.rollback=function(){try{eh.$dispose(eh,ek);ei.$dispose(eh,ek)}catch(eq){}delete avalon.vmodels[eh.$id]};cR(ec,bH);if(cl.chrome){ek.addEventListener("DOMNodeRemovedFromDocument",function(){setTimeout(a9)})}}});bQ(ek,[eh].concat(ec.vmodels));avalon.vmodels[eh.$id]=eh;if(!ek.childNodes.length){avalon.fireDom(ek,"datasetchanged",{library:eg,vm:eh,childReady:-1})}else{var dW=setTimeout(function(){clearTimeout(dW);avalon.fireDom(ek,"datasetchanged",{library:eg,vm:eh,childReady:-1})},17)}})(dT,avalon.components[e],dT.element,dT.widget)}}};avalon.fireDom=function(dT,ap,dS){if(cX.createEvent){var e=cX.createEvent("Events");e.initEvent(ap,true,true,dS);avalon.mix(e,dS);dT.dispatchEvent(e)}else{if(dr.contains(dT)){e=cX.createEventObject();avalon.mix(e,dS);dT.fireEvent("on"+ap,e)}}};function cW(dS,dU){if(dU){for(var dT=0,ap;ap=dS[dT++];){if(ap.hasOwnProperty(dU)&&typeof ap[dU]==="object"){var e=ap[dU];return e.$model||e;break}}}return{}}avalon.libraries=[];avalon.library=function(e,ap){if(cX.namespaces){cX.namespaces.add(e,"http://www.w3.org/1999/xhtml")}avalon.libraries[e]=avalon.mix({$init:l,$ready:l,$dispose:l},ap||{})};avalon.library("ms");function b0(ap){if(ap.scopeName&&ap.scopeName!=="HTML"){return ap.scopeName}var dS=ap.nodeName.toLowerCase();var e=dS.indexOf(":");if(e>0){return dS.slice(0,e)}}var df=["autofocus,autoplay,async,allowTransparency,checked,controls","declare,disabled,defer,defaultChecked,defaultSelected","contentEditable,isMap,loop,multiple,noHref,noResize,noShade","open,readOnly,selected"].join(",");var B={};df.replace(b8,function(e){B[e.toLowerCase()]=e});var bv={"accept-charset":"acceptCharset","char":"ch",charoff:"chOff","class":"className","for":"htmlFor","http-equiv":"httpEquiv"};var j=["accessKey,bgColor,cellPadding,cellSpacing,codeBase,codeType,colSpan","dateTime,defaultValue,frameBorder,longDesc,maxLength,marginWidth,marginHeight","rowSpan,tabIndex,useMap,vSpace,valueType,vAlign"].join(",");j.replace(b8,function(e){bv[e.toLowerCase()]=e});var aq=avalon.directive("attr",{init:function(dS){dS.expr=aD(dS.expr.trim());if(dS.type==="include"){var ap=dS.element;c7(ap,dS);dS.includeRendered=a3(ap,"data-include-rendered",dS.vmodels);dS.includeLoaded=a3(ap,"data-include-loaded",dS.vmodels);var e=dS.includeReplace=!!avalon(ap).data("includeReplace");if(avalon(ap).data("includeCache")){dS.templateCache={}}dS.start=cX.createComment("ms-include");dS.end=cX.createComment("ms-include-end");if(e){dS.element=dS.end;dS._element=ap;ap.parentNode.insertBefore(dS.end,ap);ap.parentNode.insertBefore(dS.start,dS.end)}else{ap.insertBefore(dS.start,ap.firstChild);ap.appendChild(dS.end)}}},update:function(dV){var dU=this.element;var ap=this.param;if(ap==="href"||ap==="src"){if(typeof dV==="string"&&!dr.hasAttribute){dV=dV.replace(/&amp;/g,"&")}dU[ap]=dV;if(cl.chrome&&dU.tagName==="EMBED"){var dT=dU.parentNode;var dX=document.createComment("ms-src");dT.replaceChild(dX,dU);dT.replaceChild(dU,dX)}}else{var dS=(dV===false)||(dV===null)||(dV===void 0);if(!aX&&bv[ap]){ap=bv[ap]}var e=B[ap];if(typeof dU[e]==="boolean"){dU[e]=!!dV;if(!dV){dS=true}}if(dS){return dU.removeAttribute(ap)}var dW=aA.test(dU)?false:(cX.namespaces&&z(dU))?true:ap in dU.cloneNode(false);if(dW){dU[ap]=dV+""}else{dU.setAttribute(ap,dV)}}}});"title,alt,src,value,css,include,href".replace(b8,function(e){G[e]=aq});avalon.directive("class",{init:function(dV){var dT=dV.param;var e=dV.type;if(!dT||isFinite(dT)){dV.param="";G.effect.init(dV)}else{cL("ms-"+e+'-xxx="yyy"这种用法已经过时,请使用ms-'+e+'="xxx:yyy"');dV.expr="["+az(dT)+","+dV.expr+"]";dV.oldStyle=dT}if(e==="hover"||e==="active"){if(!dV.hasBindEvent){var dS=dV.element;var ap=avalon(dS);var dU="mouseenter";var dZ="mouseleave";if(e==="active"){dS.tabIndex=dS.tabIndex||-1;dU="mousedown";dZ="mouseup";var dY=ap.bind("mouseleave",function(){dV.toggleClass&&ap.removeClass(dV.newClass)})}}var dX=ap.bind(dU,function(){dV.toggleClass&&ap.addClass(dV.newClass)});var dW=ap.bind(dZ,function(){dV.toggleClass&&ap.removeClass(dV.newClass)});dV.rollback=function(){ap.unbind("mouseleave",dY);ap.unbind(dU,dX);ap.unbind(dZ,dW)};dV.hasBindEvent=true}},update:function(e){var dS=this;var ap=avalon(this.element);dS.newClass=e[0];dS.toggleClass=!!e[1];if(dS.oldClass&&dS.newClass!==dS.oldClass){ap.removeClass(dS.oldClass)}dS.oldClass=dS.newClass;if(dS.type==="class"){if(dS.oldStyle){ap.toggleClass(dS.oldStyle,!!e[1])}else{ap.toggleClass(dS.newClass,dS.toggleClass)}}}});"hover,active".replace(b8,function(e){G[e]=G["class"]});avalon.directive("css",{init:G.attr.init,update:function(e){avalon(this.element).css(this.param,e)}});avalon.directive("data",{priority:100,update:function(dS){var ap=this.element;var e="data-"+this.param;if(dS&&typeof dS==="object"){ap[e]=dS}else{ap.setAttribute(e,String(dS))}}});var b3=/^(?:checkbox|radio)$/;var bm=/^(?:radio|checked)$/;var dh=avalon.directive("duplex",{priority:2000,init:function(dY,dZ){var dS=dY.element;var ap=dY.vmodels;dY.changed=a3(dS,"data-duplex-changed",ap)||l;var dT=[];var dU=dJ("string,number,boolean,checked");if(dS.type==="radio"&&dY.param===""){dY.param="checked"}if(dS.msData){dS.msData["ms-duplex"]=dY.expr}dY.param.replace(f,function(d4){if(b3.test(dS.type)&&bm.test(d4)){if(d4==="radio"){cL("ms-duplex-radio已经更名为ms-duplex-checked")}d4="checked";dY.isChecked=true;dY.xtype="radio"}if(d4==="bool"){d4="boolean";cL("ms-duplex-bool已经更名为ms-duplex-boolean")}else{if(d4==="text"){d4="string";cL("ms-duplex-text已经更名为ms-duplex-string")}}if(dU[d4]){dZ=true}avalon.Array.ensure(dT,d4)});if(dS.type==="radio"){dY.xtype="radio"}if(!dZ){dT.push("string")}dY.param=dT.join("-");dY.changed=a3(dS,"binding-duplex-changed",ap)||l;if(!dY.xtype){dY.xtype=dS.tagName==="SELECT"?"select":dS.type==="checkbox"?"checkbox":/^change/.test(dS.getAttribute("data-duplex-event"))?"change":"input"}dY.bound=function(d5,d6){if(dS.addEventListener){dS.addEventListener(d5,d6,false)}else{dS.attachEvent("on"+d5,d6)}var d4=dY.rollback;dY.rollback=function(){dS.avalonSetter=null;avalon.unbind(dS,d5,d6);d4&&d4()}};var d2=false;function d3(d4){dY.changed.call(this,d4,dY)}function e(){d2=true}function dW(){d2=false}var d1=function(){var d6=dS.value;if(d2||d6===dY.oldValue){return}var d4=dY.pipe(d6,dY,"get");try{dY.setter(d4);d3.call(dS,d4)}catch(d5){cL(d5)}};switch(dY.xtype){case"radio":dY.bound("click",function(){var d4=dY.pipe(dS.value,dY,"get");try{dY.setter(d4);d3.call(dS,d4)}catch(d5){cL(d5)}});break;case"checkbox":dY.bound(aX?"change":"click",function(){var d6=dS.checked?"ensure":"remove";var d5=dY.getter.apply(0,dY.vmodels);if(!Array.isArray(d5)){cL("ms-duplex应用于checkbox上要对应一个数组");d5=[d5]}var d4=dY.pipe(dS.value,dY,"get");avalon.Array[d6](d5,d4);d3.call(dS,d5)});break;case"change":dY.bound("change",d1);break;case"input":if(!cg){dY.bound("input",d1);dY.bound("compositionstart",e);dY.bound("compositionend",dW);dY.bound("DOMAutoComplete",d1)}else{if(cg>8){dY.bound("input",d1)}else{dY.bound("propertychange",function(d4){if(d4.propertyName==="value"){d1()}})}dY.bound("dragend",function(){setTimeout(function(){d1()},17)})}break;case"select":dY.bound("change",function(){var d5=avalon(dS).val();if(Array.isArray(d5)){d5=d5.map(function(d6){return dY.pipe(d6,dY,"get")})}else{d5=dY.pipe(d5,dY,"get")}if(d5+""!==dY.oldValue){try{dY.setter(d5);d3.call(dS,d5)}catch(d4){cL(d4)}}});break}if(dY.xtype==="input"&&/^(text|password|hidden)/.test(dS.type)){dS.avalonSetter=d1;bu(function(){if(dr.contains(dS)){if(dY.oldValue!==dS.value){d1()}}else{if(!dS.msRetain){return false}}})}for(var dV in avalon.vmodels){var d0=avalon.vmodels[dV];d0.$fire("avalon-ms-duplex-init",dY)}var dX=dY.pipe||(dY.pipe=bq);dX(null,dY,"init")},update:function(ap){var e=this.element,dT=this,dS;switch(this.xtype){case"input":case"change":dS=this.pipe(ap,this,"set");if(dS!==this.oldValue){e.value=this.oldValue=dS}break;case"radio":dS=dT.isChecked?!!ap:ap+""===e.value;if(cg===6){setTimeout(function(){e.defaultChecked=dS;e.checked=dS},31)}else{e.checked=dS}break;case"checkbox":var dU=[].concat(ap);dS=this.pipe(e.value,this,"get");e.checked=dU.indexOf(dS)>-1;break;case"select":dT._value=ap;e.msHasEvent="selectDuplex";avalon.bind(e,"datasetchanged",function(dX){if(dX.bubble==="selectDuplex"){var dV=dT._value;var dW=Array.isArray(dV)?dV.map(String):dV+"";avalon(e).val(dW);e.oldValue=dW+"";dT.changed.call(e,dW)}});break}if(dT.xtype!=="select"){dT.changed.call(e,dS)}}});if(cg){avalon.bind(cX,"selectionchange",function(dS){var ap=cX.activeElement;if(ap&&typeof ap.avalonSetter==="function"){ap.avalonSetter()}})}function ag(e){return e==null?"":e}avalon.duplexHooks={checked:{get:function(ap,e){return !e.oldValue}},string:{get:function(e){return e},set:ag},"boolean":{get:function(e){return e==="true"},set:ag},number:{get:function(dT,dS){var ap=parseFloat(dT+"");if(-dT===-ap){return ap}var e=/strong|medium|weak/.exec(dS.element.getAttribute("data-duplex-number"))||["medium"];switch(e[0]){case"strong":return 0;case"medium":return dT===""?"":0;case"weak":return dT}},set:ag}};function bq(dS,ap,e){ap.param.replace(f,function(dT){var dU=avalon.duplexHooks[dT];if(dU&&typeof dU[e]==="function"){dS=dU[e](dS,ap)}});return dS}var O,c8=[];avalon.tick=function(e){if(c8.push(e)===1){O=setInterval(cU,60)}};function cU(){for(var ap=c8.length-1;ap>=0;ap--){var e=c8[ap];if(e()===false){c8.splice(ap,1)}}if(!c8.length){clearInterval(O)}}var bu=l;new function(){try{var dS={};var dW=HTMLInputElement.prototype;var dU=HTMLTextAreaElement.prototype;function ap(e){dS[this.tagName].call(this,e);if((typeof this.avalonSetter==="function")&&this.oldValue!==e){this.avalonSetter()}}var dV=HTMLInputElement.prototype;Object.getOwnPropertyNames(dV);dS.INPUT=Object.getOwnPropertyDescriptor(dW,"value").set;Object.defineProperty(dW,"value",{set:ap});dS.TEXTAREA=Object.getOwnPropertyDescriptor(dU,"value").set;Object.defineProperty(dU,"value",{set:ap})}catch(dT){bu=avalon.tick}};avalon.directive("effect",{priority:5,init:function(dU){var dT=dU.expr,dS,ap;var e=dT.replace(aQ,function(dV){return dV.replace(/./g,"0")}).indexOf(":");if(e===-1){dS=dT;ap=true}else{dS=dT.slice(0,e);ap=dT.slice(e+1)}if(!an.test(dT)){dS=az(dS)}else{dS=aD(dS)}dU.expr="["+dS+","+ap+"]"},update:function(e){var ap=e[0];var dU=this.element;if(dU.getAttribute("data-effect-name")===ap){return}else{dU.removeAttribute("data-effect-driver")}var dW=dU.style;var dT=cl.getComputedStyle?cl.getComputedStyle(dU):null;var dS=false;if(dT&&(bZ||X)){var dV=dW[cT]||dT[cT];if(dV&&dV!=="0s"){dU.setAttribute("data-effect-driver","t");dS=true}if(!dS){dV=dW[aT]||dT[aT];if(dV&&dV!=="0s"){dU.setAttribute("data-effect-driver","a");dS=true}}}if(!dS){if(avalon.effects[ap]){dU.setAttribute("data-effect-driver","j");dS=true}}if(dS){dU.setAttribute("data-effect-name",ap)}}});avalon.effects={};avalon.effect=function(e,ap){avalon.effects[e]=ap};var bZ=false;var X=false;var L;var cE;var cT=avalon.cssName("transition-duration");var aT=avalon.cssName("animation-duration");new function(){var dU={TransitionEvent:"transitionend",WebKitTransitionEvent:"webkitTransitionEnd",OTransitionEvent:"oTransitionEnd",otransitionEvent:"otransitionEnd"};var dV;for(var dT in dU){if(cl[dT]){dV=dU[dT];break}try{var dS=document.createEvent(dT);dV=dU[dT];break}catch(dW){}}if(typeof dV==="string"){bZ=true;L=dV}dU={AnimationEvent:"animationend",WebKitAnimationEvent:"webkitAnimationEnd"};var ap;for(dT in dU){if(cl[dT]){ap=dU[dT];break}}if(typeof ap==="string"){bZ=true;cE=ap}}();var n=[];function dm(dS,dT){if(!dS||dS.nodeType!==1){return null}if(dT){var ap=dT.effectName;var dU=dT.effectDriver}else{ap=dS.getAttribute("data-effect-name");dU=dS.getAttribute("data-effect-driver")}if(!ap||!dU){return null}var e=n.pop()||new ba();e.el=dS;e.driver=dU;e.useCss=dU!=="j";if(e.useCss){dT&&avalon(dS).addClass(dT.effectClass);e.cssEvent=dU==="t"?L:cE}e.name=ap;e.callbacks=avalon.effects[ap]||{};return e}function c7(dS,dT){var e=dS.getAttribute("data-effect-name");if(e){dT.effectName=e;dT.effectDriver=dS.getAttribute("data-effect-driver");var ap=+dS.getAttribute("data-effect-stagger");dT.effectLeaveStagger=+dS.getAttribute("data-effect-leave-stagger")||ap;dT.effectEnterStagger=+dS.getAttribute("data-effect-enter-stagger")||ap;dT.effectClass=dS.className||NaN}}function S(e){return e.replace(/^[\S]/g,function(ap){return ap.toUpperCase()})}var ds=new cO();function ba(){}ba.prototype={contrustor:ba,enterClass:function(){return ay(this,"enter")},leaveClass:function(){return ay(this,"leave")},actionFun:function(e,dW,dX){if(document.hidden){return}var dU=this;var dT=dU.el;var dS=e==="leave";e=dS?"leave":"enter";var dV=dS?"enter":"leave";a0(dU,"abort"+S(dV));a0(dU,"before"+S(e));if(!dS){dW(dT)}var ap=function(dY){dT.removeEventListener(dU.cssEvent,dU.cssCallback);if(dS){dW(dT);avalon(dT).removeClass(dU.cssClass)}else{if(dU.driver==="a"){avalon(dT).removeClass(dU.cssClass)}}if(dY!==true){a0(dU,"after"+S(e));dX&&dX(dT)}dU.dispose()};if(dU.useCss){if(dU.cssCallback){dU.cssCallback(true)}dU.cssClass=ay(dU,e);dU.cssCallback=ap;dU.update=function(){dT.addEventListener(dU.cssEvent,dU.cssCallback);if(!dS&&dU.driver==="t"){avalon(dT).removeClass(dU.cssClass)}};avalon(dT).addClass(dU.cssClass);ds.render(true);ds.queue.push(dU)}else{a0(dU,e,ap)}},enter:function(e,ap){this.actionFun.apply(this,["enter"].concat(avalon.slice(arguments)))},leave:function(e,ap){this.actionFun.apply(this,["leave"].concat(avalon.slice(arguments)))},dispose:function(){this.update=this.cssCallback=null;if(n.unshift(this)>100){n.pop()}}};function ay(e,dS){var ap=e.callbacks[dS+"Class"];if(typeof ap==="string"){return ap}if(typeof ap==="function"){return ap()}return e.name+"-"+dS}function a0(dS,ap,e){var dT=dS.callbacks[ap];if(dT){dT.call(dS,dS.el,e)}}var au=function(dT,ap){var e=ab.call(arguments,0);if(typeof e[2]!=="function"){e.splice(2,0,l)}if(typeof e[3]!=="function"){e.splice(3,0,l)}var dV=e[2];var dW=e[3];var dU=e[4];var dS=dm(dT,dU);if(!dS){dV();dW();return false}else{var dX=ap?"enter":"leave";dS[dX](dV,dW)}};avalon.mix(avalon.effect,{apply:au,append:function(ap,e,dT,dS){return au(ap,1,function(){e.appendChild(ap)},dT,dS)},before:function(e,dS,dT,ap){return au(e,1,function(){dS.parentNode.insertBefore(e,dS)},dT,ap)},remove:function(ap,e,dT,dS){return au(ap,0,function(){if(ap.parentNode===e){e.removeChild(ap)}},dT,dS)}});avalon.directive("html",{update:function(ap){var dW=this;var dU=this.element;var dY=dU.nodeType!==1;var dZ=dY?dU.parentNode:dU;if(!dZ){return}ap=ap==null?"":ap;if(dU.nodeType===3){var dS=bU("html");dZ.insertBefore(cX.createComment(dS),dU);dW.element=cX.createComment(dS+":end");dZ.replaceChild(dW.element,dU);dU=dW.element}if(typeof ap!=="object"){var dV=avalon.parseHTML(String(ap))}else{if(ap.nodeType===11){dV=ap}else{if(ap.nodeType===1||ap.item){var e=ap.nodeType===1?ap.childNodes:ap.item;dV=cx.cloneNode(true);while(e[0]){dV.appendChild(e[0])}}}}e=avalon.slice(dV.childNodes);if(dY){var dX=dU.nodeValue.slice(0,-4);while(true){var dT=dU.previousSibling;if(!dT||dT.nodeType===8&&dT.nodeValue===dX){break}else{dZ.removeChild(dT)}}dZ.insertBefore(dV,dU)}else{avalon.clearHTML(dU).appendChild(dV)}a1(e,dW.vmodels)}});avalon.directive("if",{priority:10,update:function(dV){var d1=this;var dY=this.element;var dT=d1.stamp=+new Date();var d0;var dU=function(){if(dT!==d1.stamp){return}d1.recoverNode=null};if(d1.recoverNode){d1.recoverNode()}try{if(!dY.parentNode){return}d0=dY.parentNode}catch(dZ){return}if(dV){function dX(){if(dY.getAttribute(d1.name)){dY.removeAttribute(d1.name);ck(dY,d1.vmodels)}d1.rollback=null}if(dY.nodeType===8){var dS=d1.keep;var ap=avalon.effect.apply(dS,1,function(){if(dT!==d1.stamp){return}dY.parentNode.replaceChild(dS,dY);dY=d1.element=dS;if(dS.getAttribute("_required")){dY.required=true;dY.removeAttribute("_required")}if(dY.querySelectorAll){avalon.each(dY.querySelectorAll("[_required=true]"),function(e){e.required=true;e.removeAttribute("_required")})}dX()},dU);ap=ap===false}if(!ap){dX()}}else{if(dY.nodeType===1){if(dY.required===true){dY.required=false;dY.setAttribute("_required","true")}if(dY.querySelectorAll){avalon.each(dY.querySelectorAll(":required"),function(e){dY.required=false;e.setAttribute("_required","true")})}var dW=d1.element=cX.createComment("ms-if"),d2=dY.nextSibling;d1.recoverNode=function(){d1.recoverNode=null;if(dW.parentNode!==d0){d0.insertBefore(dW,d2);d1.keep=dY}};avalon.effect.apply(dY,0,function(){d1.recoverNode=null;if(dT!==d1.stamp){return}dY.parentNode.replaceChild(dW,dY);d1.keep=dY;aI.appendChild(dY);d1.rollback=function(){if(dY.parentNode===aI){aI.removeChild(dY)}}},dU)}}}});var aW=/<noscript.*?>(?:[\s\S]+?)<\/noscript>/img;var bh=/<noscript.*?>([\s\S]+?)<\/noscript>/im;var aG=function(){return new (cl.XMLHttpRequest||ActiveXObject)("Microsoft.XMLHTTP")};var a6=avalon.templateCache={};function a5(dT,dV,dS){var dU=dT.templateCache&&dT.templateCache[dV];if(dU){var ap=cX.createDocumentFragment(),e;while(e=dU.firstChild){ap.appendChild(e)}return ap}return avalon.parseHTML(dS)}function af(ap){var dT=cX.createDocumentFragment();for(var dS=0,e=ap.length;dS<e;dS++){dT.appendChild(ap[dS])}return dT}avalon.directive("include",{init:G.attr.init,update:function(d9){var dX=this;var d2=this.element;var d0=dX.vmodels;var d5=dX.includeRendered;var d1=dX.effectName&&dX.effectClass;var dS=dX.templateCache;var e=dX.includeReplace;var dY=dX.includeLoaded;var d4=e?d2.parentNode:d2;var dV=dX._element;dX.recoverNodes=dX.recoverNodes||avalon.noop;var d8=e&&dV.cloneNode();var d3=function(el){var ec=dX._stamp=+(new Date());if(dY){var ef=dY.apply(d4,[el].concat(d0));if(typeof ef==="string"){el=ef}}if(d5){d(d4,function(){d5.call(d4)},NaN)}var eg=dX.includeLastID||"_default";dX.includeLastID=d9;var ei=dS&&dS[eg]||cX.createElement(d2.tagName||dX._element.tagName);if(d1){ei.className=d1;d4.insertBefore(ei,dX.start)}(dS||{})[eg]=ei;var ek=dX.recoverNodes();if(ek){d4.insertBefore(ek,dX.end)}while(true){var ed=dX.start.nextSibling;if(ed&&ed!==ei&&ed!==dX.end){ei.appendChild(ed)}else{break}}avalon.effect.remove(ei,d4,function(){if(dS){if(ec===dX._stamp){aI.appendChild(ei)}}},dX);var ee=d4,ej=avalon.noop,eb=avalon.noop;var eh=a5(dX,d9,el);var ea=avalon.slice(eh.childNodes);if(e&&d1){ee=dV;ee.innerHTML="";ee.setAttribute("ms-skip","true");d4.insertBefore(ee,dX.end.nextSibling);ej=function(){ee.insertBefore(eh,null)};eb=function(){dX.recoverNodes=avalon.noop;if(ec===dX._stamp){eh=af(ea);d4.insertBefore(eh,dX.end);a1(ea,d0)}if(ee.parentNode===d4){d4.removeChild(ee)}};dX.recoverNodes=function(){dX.recoverNodes=avalon.noop;return af(ea)}}else{ej=function(){d4.insertBefore(eh,dX.end);a1(ea,d0)}}avalon.effect.apply(ee,"enter",ej,eb)};if(dX.param==="src"){if(typeof a6[d9]==="string"){avalon.nextTick(function(){d3(a6[d9])})}else{if(Array.isArray(a6[d9])){a6[d9].push(d3)}else{var dU=aG();dU.onreadystatechange=function(){if(dU.readyState===4){var eb=dU.status;if(eb>=200&&eb<300||eb===304||eb===1223){var ed=dU.responseText;for(var ec=0,ea;ea=a6[d9][ec++];){ea(ed)}a6[d9]=ed}}};a6[d9]=[d3];dU.open("GET",d9,true);if("withCredentials" in dU){dU.withCredentials=true}dU.setRequestHeader("X-Requested-With","XMLHttpRequest");dU.send(null)}}}else{var ap=d9&&d9.nodeType===1?d9:cX.getElementById(d9);if(ap){if(ap.tagName==="NOSCRIPT"&&!(ap.innerHTML||ap.fixIE78)){dU=aG();dU.open("GET",location,false);dU.send(null);var d6=cX.getElementsByTagName("noscript");var dT=(dU.responseText||"").match(aW)||[];var dW=dT.length;for(var dZ=0;dZ<dW;dZ++){var d7=d6[dZ];if(d7){d7.style.display="none";d7.fixIE78=(dT[dZ].match(bh)||["","&nbsp;"])[1]}}}avalon.nextTick(function(){d3(ap.fixIE78||ap.value||ap.innerText||ap.innerHTML)})}}}});var bS=/\(([^)]*)\)/;var F=avalon.directive("on",{priority:3000,init:function(dT){var dS=dT.expr;dT.type="on";var ap=dT.param.replace(/-\d+$/,"");if(typeof F[ap+"Hook"]==="function"){F[ap+"Hook"](dT)}if(dS.indexOf("(")>0&&dS.indexOf(")")>-1){var e=(dS.match(bS)||["",""])[1].trim();if(e===""||e==="$event"){dS=dS.replace(bS,"")}}dT.expr=dS},update:function(dU){var dT=this;var dS=this.element;dU=function(dW){var dV=dT.getter||l;return dV.apply(this,dT.args.concat(dW))};var e=dT.param.replace(/-\d+$/,"");if(e==="scan"){dU.call(dS,{type:e})}else{if(typeof dT.specialBind==="function"){dT.specialBind(dS,dU)}else{var ap=avalon.bind(dS,e,dU)}}dT.rollback=function(){if(typeof dT.specialUnbind==="function"){dT.specialUnbind()}else{avalon.unbind(dS,e,ap)}}}});avalon.directive("repeat",{priority:90,init:function(dW){var dX=dW.type;dW.cache={};dW.enterCount=0;var dU=dW.element;if(dU.nodeType===1){dU.removeAttribute(dW.name);c7(dU,dW);dW.param=dW.param||"el";dW.sortedCallback=a3(dU,"data-with-sorted",dW.vmodels);var dT=a3(dU,"data-"+dX+"-rendered",dW.vmodels);var dS=bU(dX);var ap=cX.createComment(dS+":start");var dV=dW.element=cX.createComment(dS+":end");dW.signature=dS;dW.start=ap;dW.template=cx.cloneNode(false);if(dX==="repeat"){var dY=dU.parentNode;dY.replaceChild(dV,dU);dY.insertBefore(ap,dV);dW.template.appendChild(dU)}else{while(dU.firstChild){dW.template.appendChild(dU.firstChild)}dU.appendChild(ap);dU.appendChild(dV);dY=dU}dW.element=dV;if(dT){var e=avalon.bind(dY,"datasetchanged",function(){dT.apply(dY,dY.args);avalon.unbind(dY,"datasetchanged",e);dY.msRendered=dT})}}},update:function(d9,d1){var d6=this;var dV=this.xtype;this.enterCount+=1;var ec=!d1;if(ec){d6.$outer={};var dZ="$key";var dY="$val";if(dV==="array"){dZ="$first";dY="$last"}for(var ed=0,d0;d0=d6.vmodels[ed++];){if(d0.hasOwnProperty(dZ)&&d0.hasOwnProperty(dY)){d6.$outer=d0;break}}}var d4=this.track;if(d6.sortedCallback){var e=d6.sortedCallback.call(dX,d4);if(e&&Array.isArray(e)){d4=e}}var ea="move";d6.$repeat=d9;var eg=[];var ef=ec&&cx.cloneNode(false);var dT=[];var dW=this.param;var d7=avalon.mix({},this.cache);var ee=this.element;var dU=d4.length;var dX=ee.parentNode;for(ed=0;ed<dU;ed++){var d5=d4[ed];var eb=d7[d5];if(!eb){eb=bC(this);if(dV==="array"){ea="add";eb.$id=d5;eb[dW]=d9[ed]}else{ea="append";eb.$key=d5;eb.$val=d9[d5]}this.cache[d5]=eb;var d8=eb.$anchor||(eb.$anchor=ee.cloneNode(false));d8.nodeValue=this.signature;bp(d6,ef,eb,eg,ec&&!d6.effectDriver);bB(eb,d6,dV)}else{eg.push({});d7[d5]=true}if(this.enterCount===1){eb.$active=false;eb.$oldIndex=eb.$index;eb.$active=true;eb.$index=ed}if(dV==="array"){eb.$first=ed===0;eb.$last=ed===dU-1}else{eb.$val=cY(d9[d5])}dT.push(eb)}this.proxies=dT;if(ec&&!d6.effectDriver){dX.insertBefore(ef,ee);eg.forEach(function(eh){a1(eh.nodes||[],eh.vmodels);eh.nodes=eh.vmodels=null})}else{var ap=d6.staggerIndex=0;for(d5 in d7){if(d7[d5]!==true){ea="del";cy(d7[d5].$anchor,d6);c(this.cache,d5,dW);d7[d5]=null}}for(ed=0;ed<dU;ed++){eb=dT[ed];d5=dV==="array"?eb.$id:eb.$key;var d3=dT[ed-1];var dS=d3?d3.$anchor:d6.start;if(!d7[d5]){(function(ej,ek){var eh=ej.nodes;var ei=ej.vmodels;if(eh){ap=a7(d6.effectEnterStagger,function(){dX.insertBefore(ej.content,ek.nextSibling);a1(eh,ei);cv(eh,1,d6)},ap)}ej.nodes=ej.vmodels=null})(eg[ed],dS)}else{if(eb.$index!==eb.$oldIndex){(function(eh,ei){ap=a7(d6.effectEnterStagger,function(){var ek=cy(eh.$anchor);var ej=avalon.slice(ek.childNodes);dX.insertBefore(ek,ei.nextSibling);cv(ej,1,d6)},ap)})(eb,dS)}}}}if(!d9.$track){for(d5 in this.cache){c(this.cache,d5,dW)}}(function(eh){dX.args=eh;if(dX.msRendered){dX.msRendered.apply(dX,eh)}})(aB.newWatch?arguments:[ea]);var d2=setTimeout(function(){clearTimeout(d2);avalon.fireDom(dX,"datasetchanged",{bubble:dX.msHasEvent})});this.enterCount-=1}});"with,each".replace(b8,function(e){G[e]=avalon.mix({},G.repeat,{priority:1400})});function cv(ap,e,dU){for(var dS=0,dT;dT=ap[dS++];){if(dT.className===dU.effectClass){avalon.effect.apply(dT,e,l,l,dU)}}}function a7(e,dS,ap){if(e){setTimeout(dS,(++ap)*e)}else{dS()}return ap}function cy(ap,dX){var dW=cx.cloneNode(false);var dY=ap;var dT=dY.nodeValue;var dV=dX&&Math.max(+dX.staggerIndex,0);var e=avalon.slice(dY.parentNode.childNodes);var dU=e.indexOf(dY);while(true){var dS=e[--dU];if(!dS||String(dS.nodeValue).indexOf(dT)===0){break}if(dX&&(dS.className===dX.effectClass)){ap=dS;(function(dZ){dX.staggerIndex=a7(dX.effectLeaveStagger,function(){avalon.effect.apply(dZ,0,l,function(){dW.appendChild(dZ)},dX)},dV)})(dS)}else{dW.insertBefore(dS,dW.firstChild)}}dW.appendChild(dY);return dW}function bp(dS,ap,dW,dX,dY){var dU=dS.template.cloneNode(true);var e=avalon.slice(dU.childNodes);dU.appendChild(dW.$anchor);dY&&ap.appendChild(dU);var dV=[dW].concat(dS.vmodels);var dT={nodes:e,vmodels:dV,content:dU};dX.push(dT)}function bC(dT){var ap=dT.xtype==="object"?bM:b7;var e=ap(dT);var dS=e.$anchor||(e.$anchor=dT.element.cloneNode(false));dS.nodeValue=dT.signature;e.$outer=dT.$outer;return e}var aV=[];function b7(dU,ap){var dT=dU.param||"el";for(var e=0,dV=aV.length;e<dV;e++){var dS=aV[e];if(dS&&dS.hasOwnProperty(dT)){aV.splice(e,1);ap=dS;break}}if(!ap){ap=cs(dT)}return ap}function cs(dT){var dS={$outer:{},$index:0,$oldIndex:0,$anchor:null,$first:false,$last:false,$remove:avalon.noop};dS[dT]=NaN;var ap={$last:1,$first:1,$index:1};ap[dT]=1;var e=cF(dS,{force:ap});e.$id=bU("$proxy$each");return e}function bB(e,dU,dS){if(dS==="array"){e.$remove=function(){dU.$repeat.removeAt(e.$index)};var dT=dU.param;e.$watch(dT,function(dV){var dW=e.$index;dU.$repeat[dW]=dV})}else{e.$watch("$val",function ap(dV){dU.$repeat[e.$key]=dV})}}var aF=[];function bM(){return aF.pop()||bf()}function bf(){var e=cF({$key:"",$val:NaN,$index:0,$oldIndex:0,$outer:{},$anchor:null},{force:{$key:1,$val:1,$index:1}});e.$id=bU("$proxy$with");return e}function c(dS,dV,dW){var dU=dS[dV];if(dU){var e=dU.$id.indexOf("$proxy$each")===0?aV:aF;dU.$outer={};for(var dT in dU.$events){var ap=dU.$events[dT];if(Array.isArray(ap)){ap.length=0;if(dT===dW){dU[dW]=NaN}else{if(dT==="$val"){dU.$val=NaN}}}}if(e.unshift(dU)>aB.maxRepeatSize){e.pop()}delete dS[dV]}}avalon.directive("text",{update:function(dS){var ap=this.element;dS=dS==null?"":dS;if(ap.nodeType===3){try{ap.data=dS}catch(dT){}}else{if("textContent" in ap){ap.textContent=dS}else{ap.innerText=dS}}}});function aK(dT,dS){var e="_"+dT;if(!aK[e]){var ap=cX.createElement(dT);dr.appendChild(ap);if(aX){dS=getComputedStyle(ap,null).display}else{dS=ap.currentStyle.display}dr.removeChild(ap);aK[e]=dS}return aK[e]}avalon.parseDisplay=aK;avalon.directive("visible",{init:function(e){},update:function(dT){var ap=this.element,dS=this,e=dS.stamp=+new Date();if(dT){ap.style.display="none";avalon.effect.apply(ap,1,function(){if(e!==dS.stamp){return}var dU=ap.getAttribute("data-effect-driver")||"a";if(/^[atn]/.test(dU)){if(!this.effectName){ap.style.display=""}if(avalon(ap).css("display")==="none"){ap.style.display=aK(ap.nodeName)}}})}else{avalon.effect.apply(ap,0,function(){if(e!==dS.stamp){return}ap.style.display="none"})}}});var A=/<script[^>]*>([\S\s]*?)<\/script\s*>/gim;var ci=/\s+(on[^=\s]+)(?:=("[^"]*"|'[^']*'|[^\s>]+))?/g;var a2=/<\w+\b(?:(["'])[^"]*?(\1)|[^>])*>/ig;var dg={a:/\b(href)\=("javascript[^"]*"|'javascript[^']*')/ig,img:/\b(src)\=("javascript[^"]*"|'javascript[^']*')/ig,form:/\b(action)\=("javascript[^"]*"|'javascript[^']*')/ig};var cJ=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;var bn=/([^\#-~| |!])/g;function o(dU,dS,dX,dW){dU=(dU+"").replace(/[^0-9+\-Ee.]/g,"");var ap=!isFinite(+dU)?0:+dU,e=!isFinite(+dS)?3:Math.abs(dS),dZ=dW||",",dT=dX||".",dY="",dV=function(d2,d1){var d0=Math.pow(10,d1);return""+(Math.round(d2*d0)/d0).toFixed(d1)};dY=(e?dV(ap,e):""+Math.round(ap)).split(".");if(dY[0].length>3){dY[0]=dY[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,dZ)}if((dY[1]||"").length<e){dY[1]=dY[1]||"";dY[1]+=new Array(e-dY[1].length+1).join("0")}return dY.join(dT)}var bt=avalon.filters={uppercase:function(e){return e.toUpperCase()},lowercase:function(e){return e.toLowerCase()},truncate:function(dS,ap,e){ap=ap||30;e=typeof e==="string"?e:"...";return dS.length>ap?dS.slice(0,ap-e.length)+e:String(dS)},$filter:function(dT){for(var ap=1,dV=arguments.length;ap<dV;ap++){var dU=arguments[ap];var dS=avalon.filters[dU.shift()];if(typeof dS==="function"){var e=[dT].concat(dU);dT=dS.apply(null,e)}}return dT},camelize:m,sanitize:function(e){return e.replace(A,"").replace(a2,function(dS,ap){var dT=dS.toLowerCase().match(/<(\w+)\s/);if(dT){var dU=dg[dT[1]];if(dU){dS=dS.replace(dU,function(dX,dW,dY){var dV=dY.charAt(0);return dW+"="+dV+"javascript:void(0)"+dV})}}return dS.replace(ci," ").replace(/\s+/g," ")})},escape:function(e){return String(e).replace(/&/g,"&amp;").replace(cJ,function(dT){var dS=dT.charCodeAt(0);var ap=dT.charCodeAt(1);return"&#"+(((dS-55296)*1024)+(ap-56320)+65536)+";"}).replace(bn,function(ap){return"&#"+ap.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")},currency:function(e,ap,dS){return(ap||"\uFFE5")+o(e,isFinite(dS)?dS:2)},number:o};new function(){function dT(d0){return parseInt(d0,10)||0}function dU(d1,d2,d0){var d3="";if(d1<0){d3="-";d1=-d1}d1=""+d1;while(d1.length<d2){d1="0"+d1}if(d0){d1=d1.substr(d1.length-d2)}return d3+d1}function dX(d1,d2,d3,d0){return function(d4){var d5=d4["get"+d1]();if(d3>0||d5>-d3){d5+=d3}if(d5===0&&d3===-12){d5=12}return dU(d5,d2,d0)}}function ap(d1,d0){return function(d4,d2){var d5=d4["get"+d1]();var d3=(d0?("SHORT"+d1):d1).toUpperCase();return d2[d3][d5]}}function dZ(d1){var d0=-1*d1.getTimezoneOffset();var d2=(d0>=0)?"+":"";d2+=dU(Math[d0>0?"floor":"ceil"](d0/60),2)+dU(Math.abs(d0%60),2);return d2}function dW(d1,d0){return d1.getHours()<12?d0.AMPMS[0]:d0.AMPMS[1]}var dV={yyyy:dX("FullYear",4),yy:dX("FullYear",2,0,true),y:dX("FullYear",1),MMMM:ap("Month"),MMM:ap("Month",true),MM:dX("Month",2,1),M:dX("Month",1,1),dd:dX("Date",2),d:dX("Date",1),HH:dX("Hours",2),H:dX("Hours",1),hh:dX("Hours",2,-12),h:dX("Hours",1,-12),mm:dX("Minutes",2),m:dX("Minutes",1),ss:dX("Seconds",2),s:dX("Seconds",1),sss:dX("Milliseconds",3),EEEE:ap("Day"),EEE:ap("Day",true),a:dW,Z:dZ};var e=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/;var dS=/^\/Date\((\d+)\)\/$/;bt.date=function(d1,d9){var ed=bt.date.locate,eb="",d3=[],d8,d4;d9=d9||"mediumDate";d9=ed[d9]||d9;if(typeof d1==="string"){if(/^\d+$/.test(d1)){d1=dT(d1)}else{if(dS.test(d1)){d1=+RegExp.$1}else{var d2=d1.trim();var d0=[0,0,0,0,0,0,0];var ec=new Date(0);d2=d2.replace(/^(\d+)\D(\d+)\D(\d+)/,function(eg,ef,ee,ei){var eh=ei.length===4?[ei,ef,ee]:[ef,ee,ei];d0[0]=dT(eh[0]);d0[1]=dT(eh[1])-1;d0[2]=dT(eh[2]);return""});var d6=ec.setFullYear;var ea=ec.setHours;d2=d2.replace(/[T\s](\d+):(\d+):?(\d+)?\.?(\d)?/,function(eg,ef,ee,ei,eh){d0[3]=dT(ef);d0[4]=dT(ee);d0[5]=dT(ei);if(eh){d0[6]=Math.round(parseFloat("0."+eh)*1000)}return""});var d7=0;var d5=0;d2=d2.replace(/Z|([+-])(\d\d):?(\d\d)/,function(eg,ee,eh,ef){d6=ec.setUTCFullYear;ea=ec.setUTCHours;if(ee){d7=dT(ee+eh);d5=dT(ee+ef)}return""});d0[3]-=d7;d0[4]-=d5;d6.apply(ec,d0.slice(0,3));ea.apply(ec,d0.slice(3));d1=ec}}}if(typeof d1==="number"){d1=new Date(d1)}if(avalon.type(d1)!=="date"){return}while(d9){d4=e.exec(d9);if(d4){d3=d3.concat(d4.slice(1));d9=d3.pop()}else{d3.push(d9);d9=null}}d3.forEach(function(ee){d8=dV[ee];eb+=d8?d8(d1,ed):ee.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return eb};var dY={AMPMS:{0:"上午",1:"下午"},DAY:{0:"星期日",1:"星期一",2:"星期二",3:"星期三",4:"星期四",5:"星期五",6:"星期六"},MONTH:{0:"1月",1:"2月",2:"3月",3:"4月",4:"5月",5:"6月",6:"7月",7:"8月",8:"9月",9:"10月",10:"11月",11:"12月"},SHORTDAY:{"0":"周日","1":"周一","2":"周二","3":"周三","4":"周四","5":"周五","6":"周六"},fullDate:"y年M月d日EEEE",longDate:"y年M月d日",medium:"yyyy-M-d H:mm:ss",mediumDate:"yyyy-M-d",mediumTime:"H:mm:ss","short":"yy-M-d ah:mm",shortDate:"yy-M-d",shortTime:"ah:mm"};dY.SHORTMONTH=dY.MONTH;bt.date.locate=dY};var da=avalon.modules={"domReady!":{exports:avalon,state:3},avalon:{exports:avalon,state:4}};da.exports=da.avalon;new function(){var ep=[];var d0=[];var eq=/\.js$/i;var el=/(\?[^#]*)$/;function dY(et,es){var eu="js";et=et.replace(/^(\w+)\!/,function(eA,ez){eu=ez;return""});if(eu==="ready"){cL("debug: ready!已经被废弃，请使用domReady!");eu="domReady"}var ex="";et=et.replace(el,function(ez){ex=ez;return""});var ey="."+eu;var ev=/js|css/.test(ey)?ey:"";et=et.replace(/\.[a-z0-9]+$/g,function(ez){if(ez===ey){ev=ez;return""}else{return ez}});var ew=avalon.mix({query:ex,ext:ev,res:eu,name:et,toUrl:ei},es);ew.toUrl(et);return ew}function en(ex){var et=ex.name;var ev=ex.res;var eu=da[et];var es=et&&ex.urlNoQuery;if(eu&&eu.state>=1){return et}eu=da[es];if(eu&&eu.state>=3){r(eu.deps||[],eu.factory,es);return es}if(et&&!eu){eu=da[es]={id:es,state:1};var ew=function(ey){dW[ev]=ey;ey.load(et,ex,function(ez){if(arguments.length&&ez!==void 0){eu.exports=ez}eu.state=4;eo()})};if(!dW[ev]){r([ev],ew)}else{ew(dW[ev])}}return et?es:ev+"!"}var d9=[];var ef=false;r=avalon.require=function(ey,ew,es,eB){if(!ef){d9.push(avalon.slice(arguments));if(arguments.length<=2){ef=true;var ex=d9.splice(0,d9.length),ez;while(ez=ex.shift()){r.apply(null,ez)}}return}if(!Array.isArray(ey)){avalon.error("require方法的第一个参数应为数组 "+ey)}var eC=[];var eD={};var eu=es||"callback"+setTimeout("1");eB=eB||{};eB.baseUrl=aB.baseUrl;var et=!!eB.built;if(es){eB.parentUrl=es.substr(0,es.lastIndexOf("/"));eB.mapUrl=es.replace(eq,"")}if(et){var eA=dY(eB.defineName,eB);eu=eA.urlNoQuery}else{ey.forEach(function(eF){var eG=dY(eF,eB);var eE=en(eG);if(eE){if(!eD[eE]){eC.push(eE);eD[eE]="司徒正美"}}})}var ev=da[eu];if(!ev||ev.state!==4){da[eu]={id:eu,deps:et?ey.concat():eC,factory:ew||l,state:3}}if(!ev){ep.push(eu)}eo()};r.define=function(ew,ey,es){if(typeof ew!=="string"){es=ey;ey=ew;ew="anonymous"}if(!Array.isArray(ey)){es=ey;ey=[]}var ev={built:!ef,defineName:ew};var eu=[ey,es,ev];es.require=function(ez){eu.splice(2,0,ez);if(da[ez]){da[ez].state=3;var eA=false;try{eA=em(da[ez].deps,ez)}catch(eB){}if(eA){avalon.error(ez+"模块与之前的模块存在循环依赖，请不要直接用script标签引入"+ez+"模块")}}delete es.require;r.apply(null,eu)};var et=ev.built?"unknown":d8();if(et){var ex=da[et];if(ex){ex.state=2}es.require(et)}else{d0.push(es)}};r.config=aB;r.define.amd=da;var dU=aB["orig.paths"]={};var dV=aB["orig.map"]={};var d6=aB.packages=[];var dX=aB["orig.args"]={};avalon.mix(dN,{paths:function(es){avalon.mix(dU,es);aB.paths=dT(dU)},map:function(et){avalon.mix(dV,et);var es=dT(dV,1,1);avalon.each(es,function(eu,ev){ev.val=dT(ev.val)});aB.map=es},packages:function(ey){ey=ey.concat(d6);var ex={};var ev=[];for(var ew=0,eu;eu=ey[ew++];){eu=typeof eu==="string"?{name:eu}:eu;var et=eu.name;if(!ex[et]){var es=d4(eu.location||et,eu.main||"main");es=es.replace(eq,"");ev.push(eu);ex[et]=eu.location=es;eu.reg=dS(et)}}aB.packages=ev.sort()},urlArgs:function(es){if(typeof es==="string"){es={"*":es}}avalon.mix(dX,es);aB.urlArgs=dT(dX,1)},baseUrl:function(es){if(!dZ(es)){var et=b.getElementsByTagName("base")[0];if(et){b.removeChild(et)}var eu=cX.createElement("a");eu.href=es;es=ej(eu,"href");if(et){b.insertBefore(et,b.firstChild)}}if(es.length>3){aB.baseUrl=es}},shim:function(eu){for(var es in eu){var et=eu[es];if(Array.isArray(et)){et=eu[es]={deps:et}}if(!et.exportsFn&&(et.exports||et.init)){et.exportsFn=er(et)}}aB.shim=eu}});function em(eu,es){for(var et=0,ev;ev=eu[et++];){if(da[ev].state!==4&&(ev===es||em(da[ev].deps,es))){return true}}}function eb(et,es,eu){var ev=ee(et.src);et.onload=et.onreadystatechange=et.onerror=null;if(es||(eu&&da[ev]&&!da[ev].state)){setTimeout(function(){b.removeChild(et);et=null});cL("debug: 加载 "+ev+" 失败"+es+" "+(!da[ev].state))}else{return true}}function eo(){loop:for(var eu=ep.length,ex;ex=ep[--eu];){var ev=da[ex],ew=ev.deps;if(!ew){continue}for(var es=0,et;et=ew[es];es++){if(Object(da[et]).state!==4){continue loop}}if(ev.state!==4){ep.splice(eu,1);d1(ev.id,ev.deps,ev.factory);eo()}}}var ed=/complete|loaded/;function eg(es,ey,ex){var et=cX.createElement("script");var ev="onload" in et;var ew=ev?"onload":"onreadystatechange";function eu(){var ez=d0.pop();ez&&ez.require(ey);if(ex){ex()}if(eb(et,false,!ev)){cL("debug: 已成功加载 "+es);ey&&ep.push(ey);eo()}}et[ew]=ev?eu:function(){if(ed.test(et.readyState)){eu()}};et.onerror=function(){eb(et,true)};et.className=c6;et.src=es;b.insertBefore(et,b.firstChild);cL("debug: 正准备加载 "+es)}var dW=r.plugins={domReady:{load:l},js:{load:function(et,ev,eu){var es=ev.url;var ex=ev.urlNoQuery;var ew=aB.shim[et.replace(eq,"")];if(ew){r(ew.deps||[],function(){var ey=avalon.slice(arguments);eg(es,ex,function(){eu(ew.exportsFn?ew.exportsFn.apply(0,ey):void 0)})})}else{eg(es,ex)}}},css:{load:function(et,ew,eu){var es=ew.url;var ev=cX.createElement("link");ev.rel="stylesheet";ev.href=es;b.insertBefore(ev,b.firstChild);cL("debug: 已成功加载 "+es);eu()}},text:{load:function(et,ew,ev){var es=ew.url;var ey=aG();ey.onreadystatechange=function(){if(ey.readyState===4){var ez=ey.status;if(ez>399&&ez<600){avalon.error(es+" 对应资源不存在或没有开启 CORS")}else{cL("debug: 已成功加载 "+es);ev(ey.responseText)}}};var ex="_="+(new Date()-0);var eu=es.indexOf("?")===-1?es+"?"+ex:es+"&"+ex;ey.open("GET",eu,true);if("withCredentials" in ey){ey.withCredentials=true}ey.setRequestHeader("X-Requested-With","XMLHttpRequest");ey.send();cL("debug: 正准备加载 "+es)}}};r.checkDeps=eo;function ee(es){return(es||"").replace(el,"")}function dZ(es){return/^(?:[a-z]+:)?\/\//i.test(String(es))}function ej(es,et){return"1"[0]?es[et]:es.getAttribute(et,4)}function d8(){var es;try{a.b.c()}catch(ex){es=ex.stack;if(!es&&cl.opera){es=(String(ex).match(/of linked script \S+/g)||[]).join(" ")}}if(es){es=es.split(/[@ ]/g).pop();es=es[0]==="("?es.slice(1,-1):es.replace(/\s/,"");return ee(es.replace(/(:\d+)?:\d+$/i,""))}var et=b.getElementsByTagName("script");for(var ev=et.length,ew;ew=et[--ev];){if(ew.className===c6&&ew.readyState==="interactive"){var eu=ej(ew,"src");return ew.className=ee(eu)}}}var d2=/^callback\d+$/;function d1(es,eB,ew){var et=Object(da[es]);et.state=4;for(var ev=0,ez=[],eA;eA=eB[ev++];){if(eA==="exports"){var eu=et.exports||(et.exports={});ez.push(eu)}else{ez.push(da[eA].exports)}}try{var ey=ew.apply(cl,ez)}catch(ex){cL("执行["+es+"]模块的factory抛错： ",ex)}if(ey!==void 0){et.exports=ey}if(d2.test(es)){delete da[es]}delete et.factory;return ey}function ei(ey){if(ey.indexOf(this.res+"!")===0){ey=ey.slice(this.res.length+1)}var ev=ey;var eu=0;var ex=this.baseUrl;var et=this.parentUrl||ex;d7(ey,aB.paths,function(eA,ez){ev=ev.replace(ez,eA);eu=1});if(!eu){d7(ey,aB.packages,function(eB,ez,eA){ev=ev.replace(eA.name,eA.location)})}if(this.mapUrl){d7(this.mapUrl,aB.map,function(ez){d7(ev,ez,function(eB,eA){ev=ev.replace(eA,eB);et=ex})})}var ew=this.ext;if(ew&&eu&&ev.slice(-ew.length)===ew){ev=ev.slice(0,-ew.length)}if(!dZ(ev)){et=this.built||/^\w/.test(ev)?ex:et;ev=d4(et,ev)}var es=ev+ew;ev=es+this.query;es=ev.replace(el,function(ez){this.query=ez;return""});d7(ey,aB.urlArgs,function(ez){ev+=(ev.indexOf("?")===-1?"?":"&")+ez});this.url=ev;return this.urlNoQuery=es}function dT(ev,es,eu){var et=ap(ev,es,eu);et.sort(ek);return et}function dS(es){return new RegExp("^"+es+"(/|$)")}function er(es){return function(){var et;if(es.init){et=es.init.apply(cl,arguments)}return et||(es.exports&&eh(es.exports))}}function ap(ew,es,et){var ex=[];for(var eu in ew){if(cr.call(ew,eu)){var ev={name:eu,val:ew[eu]};ex.push(ev);ev.reg=eu==="*"&&es?/^/:dS(eu);if(et&&eu!=="*"){ev.reg=new RegExp("/"+eu.replace(/^\//,"")+"(/|$)")}}}return ex}function d7(eu,ew,ev){ew=ew||[];for(var es=0,et;et=ew[es++];){if(et.reg.test(eu)){ev(et.val,et.name,et);return false}}}function ek(et,es){var ev=et.name;var eu=es.name;if(eu==="*"){return -1}if(ev==="*"){return 1}return eu.length-ev.length}var e=/\/\w+\/\.\./;function d4(et,es){if(et.charAt(et.length-1)!=="/"){et+="/"}if(es.slice(0,2)==="./"){return et+es.slice(2)}if(es.slice(0,2)===".."){et+=es;while(e.test(et)){et=et.replace(e,"")}return et}if(es.slice(0,1)==="/"){return et+es.slice(1)}return et+es}function eh(et){if(!et){return et}var es=cl;et.split(".").forEach(function(eu){es=es[eu]});return es}var d3=cX.scripts[cX.scripts.length-1];var d5=d3.getAttribute("data-main");if(d5){dN.baseUrl(d5);var ea=aB.baseUrl;aB.baseUrl=ea.slice(0,ea.lastIndexOf("/")+1);eg(ea.replace(eq,"")+".js")}else{var ec=ee(ej(d3,"src"));aB.baseUrl=ec.slice(0,ec.lastIndexOf("/")+1)}};var aO=[],ak;var al=function(e){ak=true;if(r){da["domReady!"].state=4;r.checkDeps()}while(e=aO.shift()){e(avalon)}};function bX(){try{dr.doScroll("left");al()}catch(ap){setTimeout(bX)}}if(cX.readyState==="complete"){setTimeout(al)}else{if(aX){cX.addEventListener("DOMContentLoaded",al)}else{cX.attachEvent("onreadystatechange",function(){if(cX.readyState==="complete"){al()}});try{var aj=cl.frameElement===null}catch(cz){}if(dr.doScroll&&aj&&cl.external){bX()}}}avalon.bind(cl,"load",al);avalon.ready=function(e){if(!ak){aO.push(e)}else{e(avalon)}};avalon.config({loader:true});avalon.ready(function(){avalon.scan(cX.body)});if(typeof define==="function"&&define.amd){define("avalon",[],function(){return avalon})}var aJ=cl.avalon;avalon.noConflict=function(e){if(e&&cl.avalon===avalon){cl.avalon=aJ}return avalon};if(bd===void 0){cl.avalon=avalon}return avalon}));