this.basicModal={_lastFocus:null,_dom:function(a){return null==a?$(".basicModal"):$(".basicModal").find(""+a)},_valid:function(a){var l,o,n;return null!=a?(null==a.body&&(a.body=""),null==a["class"]&&(a["class"]=""),null==a.closable&&(a.closable=!0),null!=(null!=(l=a.buttons)?l.action:void 0)&&(null==a.buttons.action["class"]&&(a.buttons.action["class"]=""),null==a.buttons.action.title&&(a.buttons.action.title="OK")),null!=(null!=(o=a.buttons)?o.cancel:void 0)?null==a.buttons.cancel.title&&(a.buttons.cancel.title="Cancel"):null!=(null!=(n=a.buttons)?n.action:void 0)&&(a.buttons.action["class"]+=" basicModal__button--full"),!0):!1},_build:function(a){var l,o,n;return l="<div class='basicModalContainer basicModalContainer--fadeIn' data-closable='"+a.closable+"'>\n	<div class='basicModal basicModal--fadeIn "+a["class"]+'\' role="dialog">\n		'+a.body,null!=(null!=(o=a.buttons)?o.cancel:void 0)&&(l+=-1===a["class"].indexOf("login")?"<a id='basicModal__cancel' class='basicModal__button'>"+a.buttons.cancel.title+"</a>":"<div id='basicModal__cancel' class='basicModal__button' aria-label='close'><a class='ion-close'></a></div>"),null!=(null!=(n=a.buttons)?n.action:void 0)&&(l+="<a id='basicModal__action' class='basicModal__button "+a.buttons.action["class"]+"'>"+a.buttons.action.title+"</a>"),l+="	</div>\n</div>"},_getValues:function(){var a;return a=null,(0!==basicModal._dom("input").length||0!==basicModal._dom(".basicModal__dropdown").length)&&(a={},basicModal._dom("input").each(function(){var l,o;return l=$(this).attr("data-name"),o=$(this).val(),a[l]=o}),basicModal._dom(".basicModal__dropdown").each(function(){var l,o;return l=$(this).attr("data-name"),o=$(this).attr("data-value"),a[l]=o})),a},_bind:function(a){var l,o,n,t,s;return null!=(null!=(o=a.buttons)&&null!=(n=o.cancel)?n.fn:void 0)&&basicModal._dom("#basicModal__cancel").click(function(){return $(this).hasClass("basicModal__button--active")?!1:($(this).addClass("basicModal__button--active"),a.buttons.cancel.fn())}),null!=(null!=(t=a.buttons)&&null!=(s=t.action)?s.fn:void 0)&&basicModal._dom("#basicModal__action").click(function(){return $(this).hasClass("basicModal__button--active")?!1:($(this).addClass("basicModal__button--active"),a.buttons.action.fn(basicModal._getValues()))}),basicModal._dom("input").keydown(function(){return $(this).removeClass("error")}),l=null,basicModal._dom(".basicModal__dropdown .front").click(function(){var a;return a=$(this).parent(),clearTimeout(l),a.find(".back").show(),a.addClass("flip")}),basicModal._dom('.basicModal__dropdown .back ul li[class!="separator"]').click(function(){var a,o;return a=$(this).parent().parent().parent(),o=$(this).clone(),o.find("span").remove(),o=o.html().trim(),a.find(".front span").html(o),a.attr("data-value",$(this).data("value")),a.removeClass("flip"),l=setTimeout(function(){return a.find(".back").hide()},3e3)})},show:function(a){return basicModal._valid(a)?(basicModal._lastFocus=document.activeElement,0!==basicModal._dom().parent().length?(basicModal.close(!0),setTimeout(function(){return basicModal.show(a)},301),!1):($("body").append(basicModal._build(a)),basicModal._bind(a),null!=a.callback&&callback(),!0)):!1},error:function(a){return basicModal.reset(),basicModal._dom("input[data-name='"+a+"'], .basicModal__dropdown[data-name='"+a+"']").addClass("error").focus().select(),basicModal._dom().removeClass("basicModal--fadeIn basicModal--shake"),setTimeout(function(){return basicModal._dom().addClass("basicModal--shake")},1)},visible:function(){return 0===basicModal._dom().parent().length?!1:!0},action:function(){return 0!==basicModal._dom("#basicModal__action").length?(basicModal._dom("#basicModal__action").click(),!0):!1},cancel:function(){return 0!==basicModal._dom("#basicModal__cancel").length?(basicModal._dom("#basicModal__cancel").click(),!0):!1},reset:function(){return basicModal._dom(".basicModal__button").removeClass("basicModal__button--active"),basicModal._dom(".input, .basicModal__dropdown").removeClass("error"),!0},close:function(a){var l;return l=basicModal._dom().parent(),null==a||a===!0?"true"!==l.attr("data-closable")&&a!==!0?!1:(l.removeClass("basicModalContainer--fadeIn").addClass("basicModalContainer--fadeOut"),setTimeout(function(){return l.remove()},300),null!=basicModal._lastFocus&&(basicModal._lastFocus.focus(),basicModal._lastFocus=null),!0):!1}};