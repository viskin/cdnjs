"use strict";!function(n,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define(t):window[n]=t()}("basicModal",function(){var n=null,t={small:"basicModal__small",xclose:"basicModal__xclose"},a=function(){var n=void 0===arguments[0]?"":arguments[0],t=void 0===arguments[1]?!1:arguments[1];return t===!0?document.querySelectorAll(".basicModal "+n):document.querySelector(".basicModal "+n)},l=function(){var n=void 0===arguments[0]?{}:arguments[0];return null==n.body&&(n.body=""),null==n["class"]&&(n["class"]=""),n.closable!==!1&&(n.closable=!0),null==n.buttons?(console.error("basicModal requires at least one button"),!1):null!=n.buttons.action&&(null==n.buttons.action["class"]&&(n.buttons.action["class"]=""),null==n.buttons.action.title&&(n.buttons.action.title="OK"),null==n.buttons.action.fn)?(console.error("Missing fn for action-button"),!1):null!=n.buttons.cancel&&(null==n.buttons.cancel["class"]&&(n.buttons.cancel["class"]=""),null==n.buttons.cancel.title&&(n.buttons.cancel.title="Cancel"),null==n.buttons.cancel.fn)?(console.error("Missing fn for cancel-button"),!1):!0},o=function(n){var t='<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 512 512"><path d="M405 136.798l-29.798-29.798-119.202 119.202-119.202-119.202-29.798 29.798 119.202 119.202-119.202 119.202 29.798 29.798 119.202-119.202 119.202 119.202 29.798-29.798-119.202-119.202z"/></svg>',a="";return a+="\n	        <div class='basicModalContainer basicModalContainer--fadeIn' data-closable='"+n.closable+"'>\n	            <div class='basicModal basicModal--fadeIn "+n["class"]+"' role=\"dialog\">\n	                <div class='basicModal__content'>\n	                    "+n.body+"\n	                </div>\n	                <div class='basicModal__buttons'>\n	        ",null!=n.buttons.cancel&&(a+=-1===n.buttons.cancel["class"].indexOf("basicModal__xclose")?"<a id='basicModal__cancel' class='basicModal__button "+n.buttons.cancel["class"]+"'>"+n.buttons.cancel.title+"</a>":"<div id='basicModal__cancel' class='basicModal__button "+n.buttons.cancel["class"]+"' aria-label='close'>"+t+"</div>"),null!=n.buttons.action&&(a+="<a id='basicModal__action' class='basicModal__button "+n.buttons.action["class"]+"'>"+n.buttons.action.title+"</a>"),a+="\n	                </div>\n	            </div>\n	        </div>\n	        "},s=function(){var n=null,t=a("input",!0);if(t.length>0){n={};for(var l=0;l<t.length;++l){var o=t[l],s=o.getAttribute("name"),c=o.value;null!=s&&(n[s]=c)}0===Object.keys(n).length&&(n=null)}return n},c=function(n){null!=n.buttons.cancel&&(a("#basicModal__cancel").onclick=function(){return this.classList.contains("basicModal__button--active")===!0?!1:(this.classList.add("basicModal__button--active"),void n.buttons.cancel.fn())}),null!=n.buttons.action&&(a("#basicModal__action").onclick=function(){return this.classList.contains("basicModal__button--active")===!0?!1:(this.classList.add("basicModal__button--active"),void n.buttons.action.fn(s()))});for(var t=a("input",!0),l=0;l<t.length;++l)t[l].onkeydown=function(){this.classList.remove("error")};return!0},e=function v(t){if(null==t||0===Object.keys(t).length)return!1;if(n=document.activeElement,l(t)===!1)return!1;if(null!=a())return f(!0),setTimeout(function(){return v(t)},301),!1;var s=o(t);document.body.insertAdjacentHTML("beforeend",s),c(t);var e=a("input");return null!=e&&e.select(),null!=t.callback&&t.callback(t),!0},i=function(n){b();var t=a("input[name='"+n+"']");t.classList.add("error"),t.select(),a().classList.remove("basicModal--fadeIn","basicModal--shake"),setTimeout(function(){return a().classList.add("basicModal--shake")},1)},u=function(){return null!=a()?!0:!1},r=function(){var n=a("#basicModal__action");return null!=n?(n.click(),!0):!1},d=function(){var n=a("#basicModal__cancel");return null!=n?(n.click(),!0):!1},b=function(){for(var n=a(".basicModal__button",!0),t=0;t<n.length;++t)n[t].classList.remove("basicModal__button--active");for(var l=a("input",!0),t=0;t<l.length;++t)l[t].classList.remove("error");return!0},f=function(t){if(u()===!1)return!1;t!==!0&&(t=!1);var l=a().parentElement;return"false"===l.getAttribute("data-closable")&&t===!1?!1:(l.classList.remove("basicModalContainer--fadeIn"),l.classList.add("basicModalContainer--fadeOut"),setTimeout(function(){return l.parentNode.removeChild(l)},300),null!=n&&(n.focus(),n=null),!0)};return{THEME:t,show:e,visible:u,getValues:s,action:r,cancel:d,error:i,reset:b,close:f}});