(function(){var e;(e=function(e){return"object"==typeof exports&&"object"==typeof module?e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)})(function(e){return e.pivotUtilities.d3_renderers={Treemap:function(t,n){var r,i,l,u,o,d,a,c,s,f,h,p,y,g;for(l={localeStrings:{}},n=e.extend(l,n),d=e("<div>").css({width:"100%",height:"100%"}),c={name:"All",children:[]},r=function(e,t,n){var i,l,u,o,d,a;if(0===t.length)return void(e.value=n);for(null==e.children&&(e.children=[]),u=t.shift(),a=e.children,o=0,d=a.length;d>o;o++)if(i=a[o],i.name===u)return void r(i,t,n);return l={name:u},r(l,t,n),e.children.push(l)},g=t.getRowKeys(),p=0,y=g.length;y>p;p++)a=g[p],f=t.getAggregator(a,[]).value(),null!=f&&r(c,a,f);return i=d3.scale.category10(),h=e(window).width()/1.4,u=e(window).height()/1.4,o=10,s=d3.layout.treemap().size([h,u]).sticky(!0).value(function(e){return e.size}),d3.select(d[0]).append("div").style("position","relative").style("width",h+2*o+"px").style("height",u+2*o+"px").style("left",o+"px").style("top",o+"px").datum(c).selectAll(".node").data(s.padding([15,0,0,0]).value(function(e){return e.value}).nodes).enter().append("div").attr("class","node").style("background",function(e){return null!=e.children?"lightgrey":i(e.name)}).text(function(e){return e.name}).call(function(){this.style("left",function(e){return e.x+"px"}).style("top",function(e){return e.y+"px"}).style("width",function(e){return Math.max(0,e.dx-1)+"px"}).style("height",function(e){return Math.max(0,e.dy-1)+"px"})}),d}}})}).call(this);
//# sourceMappingURL=d3_renderers.min.js.map