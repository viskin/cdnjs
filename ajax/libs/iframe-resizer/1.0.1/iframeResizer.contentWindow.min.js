/*! iFrame Resizer (iframeSizer.contentWindow.min.js) - v1.0.0 - 2013-09-02
 *  Desc: Include this file in any page being loaded into an iframe
 *        to force the iframe to resize to the content size.
 *  Requires: jquery.iframeSizer.min.js on host page.
 *  Copyright: (c) 2013 David J. Bradshaw - dave@bradshaw.net
 *  License: MIT and GPL
 */

(function(){var e="",t=null,n=0,r=0,i=10,s=!1,o="[iFrameSizer]",u=!0;msgIdLen=o.length;try{function a(e,t){window.addEventListener?window.addEventListener(e,t,!1):window.attachEvent&&window.attachEvent("on"+e,t)}function f(t){return o+"["+e+"]"+" "+t}function l(e){s&&window.console&&console.log(f(e))}function c(e){window.console&&console.warn(f(e))}function h(f){function c(){function n(e){return"true"===e?!0:!1}function r(){document.body.style.margin=v+"px",l("Body margin set to "+v+"px")}function o(){a("resize",function(){p("Window resized")})}function u(){0!==interval&&(l("setInterval: "+interval),setInterval(function(){p("setInterval")},interval))}var c=f.data.substr(msgIdLen).split(":");e=c[0],v=parseInt(c[1],i),m=n(c[2]),s=n(c[3]),interval=parseInt(c[4],i),publicMethods=n(c[5]),t=f.source,l("Initialising iframe"),r(),o(),u(),publicMethods&&d()}function h(e){return parseInt(document.body["offset"+e],i)}function p(i){var s=h("Height")+2*v,u=h("Width")+2*v,a;if(n!==s||m&&r!==u)n=s,r=u,l("Trigger event: "+i),a=e+":"+n+":"+r,t.postMessage(o+a,"*"),l("Sending msg to host page ("+a+")")}function d(){l("Enabling public methods"),window.iFrameSizer={trigger:function(){p("window.iFrameSizer.trigger()")}}}var v,m;o===f.data.substr(0,msgIdLen)&&u&&(u=!1,c(),p("Init message from host page"))}a("message",h)}catch(p){c(p)}})();