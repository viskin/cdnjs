/*! iFrame Resizer (iframeSizer.contentWindow.min.js) - v2.1.0 - 2014-03-25
 *  Desc: Include this file in any page being loaded into an iframe
 *        to force the iframe to resize to the content size.
 *  Requires: iframeSizer.min.js on host page.
 *  Copyright: (c) 2014 David J. Bradshaw - dave@bradshaw.net
 *  License: MIT
 */

!function(){"use strict";function a(a,b){"addEventListener"in window?window.addEventListener(a,b,!1):"attachEvent"in window&&window.attachEvent("on"+a,b)}function b(a){return p+"["+r+"] "+a}function c(a){o&&"console"in window&&console.log(b(a))}function d(a){"console"in window&&console.warn(b(a))}function e(b){function e(){function d(){function a(a){return"true"===a?!0:!1}var c=b.data.substr(q).split(":");r=c[0],h=void 0!==c[1]?parseInt(c[1],g):0,j=void 0!==c[2]?a(c[2]):!1,o=void 0!==c[3]?a(c[3]):!1,m=void 0!==c[4]?parseInt(c[4],g):33,s=void 0!==c[5]?a(c[5]):!1,f=void 0!==c[6]?a(c[6]):!0,i=c[7]}function e(){void 0===i&&(i=h+"px"),""!==i&&"null"!==i&&(document.body.style.margin=i,c("Body margin set to "+i))}function k(){document.documentElement.style.height="auto",document.body.style.height="auto",c('HTML & body height set to "auto"')}function l(){a("resize",function(){w("resize","Window resized")})}function n(){!0===f?(l(),A()):c("Auto Resize disabled")}c("Initialising iFrame"),d(),e(),k(),y(),n()}function w(a,b,d,e){function f(){function a(a){function b(a){var b=/^\d+(px)?$/i;if(b.test(a))return parseInt(a,g);var d=c.style.left,e=c.runtimeStyle.left;return c.runtimeStyle.left=c.currentStyle.left,c.style.left=a||0,a=c.style.pixelLeft,c.style.left=d,c.runtimeStyle.left=e,a}var c=document.body,d=0;return d=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(c,null)[a]:b(c.currentStyle[a]),parseInt(d,g)}return document.body.offsetHeight+a("marginTop")+a("marginBottom")}function h(){return Math.max(document.documentElement.scrollWidth,document.body.scrollWidth)}function i(){c("Trigger event ("+b+") cancelled"),setTimeout(function(){n=a},u)}function l(){c("Trigger event: "+b),n=a}function m(){k=o,v=p,l(),x(k,v,a)}var o=void 0!==d?d:f(),p=void 0!==e?e:h();n in{size:1,interval:1}&&"resize"===a?i():(k!==o||j&&v!==p)&&m()}function x(a,b,d,e){var f=r+":"+a+":"+b+":"+d+(void 0!==e?":"+e:"");c("Sending message to host page ("+f+")"),t.postMessage(p+f,"*")}function y(){s&&(c("Enable public methods"),window.parentIFrame={close:function(){w("close","window.parentIFrame.close()",0,0)},getId:function(){return r},sendMessage:function(a){x(0,0,"message",a)},size:function(a,b){var c=""+(a?a:"")+(b?","+b:"");w("size","window.parentIFrame.size("+c+")",a,b)}})}function z(){0!==m&&(c("setInterval: "+m+"ms"),setInterval(function(){w("interval","setInterval: "+m)},Math.abs(m)))}function A(){function a(){var a=document.querySelector("body"),d={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},e=new b(function(a){w("mutationObserver","mutationObserver: "+a[0].target+" "+a[0].type)});c("Enable MutationObserver"),e.observe(a,d)}var b=window.MutationObserver||window.WebKitMutationObserver;b?0>m?z():a():(d("MutationObserver not supported in this browser!"),z())}function B(){return p===""+b.data.substr(0,q)}B()&&l&&(e(),w("init","Init message from host page"),l=!1)}var f=!0,g=10,h=0,i="",j=!1,k=1,l=!0,m=32,n="",o=!1,p="[iFrameSizer]",q=p.length,r="",s=!1,t=window.parent,u=50,v=1;a("message",e)}();
//# sourceMappingURL=../src/iframeResizer.contentWindow.map