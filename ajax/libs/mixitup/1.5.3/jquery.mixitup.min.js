(function(f){var c={init:function(g){return this.each(function(){var h={targetSelector:".mix",filterSelector:".filter",sortSelector:".sort",buttonEvent:"click",effects:["fade","scale"],listEffects:null,easing:"smooth",layoutMode:"grid",targetDisplayGrid:"inline-block",targetDisplayList:"block",listClass:"",gridClass:"",transitionSpeed:600,showOnLoad:"all",sortOnLoad:false,multiFilter:false,filterLogic:"or",resizeContainer:true,minHeight:0,failClass:"fail",perspectiveDistance:"3000",perspectiveOrigin:"50% 50%",animateGridList:true,onMixLoad:null,onMixStart:null,onMixEnd:null,container:null,origOrder:[],startOrder:[],newOrder:[],origSort:[],checkSort:[],filter:"",mixing:false,origDisplay:"",origLayout:"",origHeight:0,newHeight:0,isTouch:false,resetDelay:0,failsafe:null,prefix:"",easingFallback:"ease-in-out",transition:{},perspective:{},clean:{},fade:"1",scale:"",rotateX:"",rotateY:"",rotateZ:"",blur:"",grayscale:""};if(g){f.extend(h,g)}this.config=h;f.support.touch="ontouchend" in document;if(f.support.touch){h.isTouch=true;h.resetDelay=350}h.container=f(this);var q=h.container;h.prefix=e(q[0]);h.prefix=h.prefix?"-"+h.prefix.toLowerCase()+"-":"";q.find(h.targetSelector).each(function(){h.origOrder.push(f(this))});if(h.sortOnLoad){var o,j;if(f.isArray(h.sortOnLoad)){o=h.sortOnLoad[0],j=h.sortOnLoad[1];f(h.sortSelector+"[data-sort="+h.sortOnLoad[0]+"][data-order="+h.sortOnLoad[1]+"]").addClass("active")}else{f(h.sortSelector+"[data-sort="+h.sortOnLoad+"]").addClass("active");o=h.sortOnLoad,h.sortOnLoad="desc"}d(o,j,q,h)}for(var m=0;m<2;m++){var p=m==0?p=h.prefix:"";h.transition[p+"transition"]="all "+h.transitionSpeed+"ms ease-in-out";h.perspective[p+"perspective"]=h.perspectiveDistance+"px";h.perspective[p+"perspective-origin"]=h.perspectiveOrigin}for(var m=0;m<2;m++){var p=m==0?p=h.prefix:"";h.clean[p+"transition"]="none"}if(h.layoutMode=="list"){q.addClass(h.listClass);h.origDisplay=h.targetDisplayList}else{q.addClass(h.gridClass);h.origDisplay=h.targetDisplayGrid}h.origLayout=h.layoutMode;var n=h.showOnLoad.split(" ");f.each(n,function(){f(h.filterSelector+'[data-filter="'+this+'"]').addClass("active")});q.find(h.targetSelector).addClass("mix_all");if(n[0]=="all"){n[0]="mix_all",h.showOnLoad="mix_all"}var k=f();f.each(n,function(){k=k.add(f("."+this))});k.each(function(){var i=f(this);if(h.layoutMode=="list"){i.css("display",h.targetDisplayList)}else{i.css("display",h.targetDisplayGrid)}i.css(h.transition)});var l=setTimeout(function(){h.mixing=true;k.css("opacity","1");var i=setTimeout(function(){if(h.layoutMode=="list"){k.removeStyle(h.prefix+"transition, transition").css({display:h.targetDisplayList,opacity:1})}else{k.removeStyle(h.prefix+"transition, transition").css({display:h.targetDisplayGrid,opacity:1})}h.mixing=false;if(typeof h.onMixLoad=="function"){var r=h.onMixLoad.call(this,h);h=r?r:h}},h.transitionSpeed)},10);h.filter=h.showOnLoad;f(h.sortSelector).bind(h.buttonEvent,function(){if(!h.mixing){var s=f(this),r=s.attr("data-sort"),i=s.attr("data-order");if(!s.hasClass("active")){f(h.sortSelector).removeClass("active");s.addClass("active")}else{if(r!="random"){return false}}q.find(h.targetSelector).each(function(){h.startOrder.push(f(this))});a(h.filter,r,i,q,h)}});f(h.filterSelector).bind(h.buttonEvent,function(){if(!h.mixing){var s=f(this);if(h.multiFilter==false){f(h.filterSelector).removeClass("active");s.addClass("active");h.filter=s.attr("data-filter");f(h.filterSelector+'[data-filter="'+h.filter+'"]').addClass("active")}else{var i=s.attr("data-filter");if(s.hasClass("active")){s.removeClass("active");var r=new RegExp("(\\s|^)"+i);h.filter=h.filter.replace(r,"")}else{s.addClass("active");h.filter=h.filter+" "+i}}a(h.filter,null,null,q,h)}})})},toGrid:function(){return this.each(function(){var g=this.config;if(g.layoutMode!="grid"){g.layoutMode="grid";a(g.filter,null,null,f(this),g)}})},toList:function(){return this.each(function(){var g=this.config;if(g.layoutMode!="list"){g.layoutMode="list";a(g.filter,null,null,f(this),g)}})},filter:function(g){return this.each(function(){var h=this.config;if(!h.mixing){f(h.filterSelector).removeClass("active");f(h.filterSelector+'[data-filter="'+g+'"]').addClass("active");a(g,null,null,f(this),h)}})},sort:function(g){return this.each(function(){var i=this.config,k=f(this);if(!i.mixing){f(i.sortSelector).removeClass("active");if(f.isArray(g)){var j=g[0],h=g[1];f(i.sortSelector+'[data-sort="'+g[0]+'"][data-order="'+g[1]+'"]').addClass("active")}else{f(i.sortSelector+'[data-sort="'+g+'"]').addClass("active");var j=g,h="desc"}k.find(i.targetSelector).each(function(){i.startOrder.push(f(this))});a(i.filter,j,h,k,i)}})},multimix:function(g){return this.each(function(){var h=this.config,i=f(this);multiOut={filter:h.filter,sort:null,order:"desc",layoutMode:h.layoutMode};f.extend(multiOut,g);if(!h.mixing){f(h.filterSelector).add(h.sortSelector).removeClass("active");f(h.filterSelector+'[data-filter="'+multiOut.filter+'"]').addClass("active");if(typeof multiOut.sort!=="undefined"){f(h.sortSelector+'[data-sort="'+multiOut.sort+'"][data-order="'+multiOut.order+'"]').addClass("active");i.find(h.targetSelector).each(function(){h.startOrder.push(f(this))})}h.layoutMode=multiOut.layoutMode;a(multiOut.filter,multiOut.sort,multiOut.order,i,h)}})},remix:function(g){return this.each(function(){var h=this.config,i=f(this);h.origOrder=[];i.find(h.targetSelector).each(function(){var j=f(this);j.addClass("mix_all");h.origOrder.push(j)});if(!h.mixing&&typeof g!=="undefined"){f(h.filterSelector).removeClass("active");f(h.filterSelector+'[data-filter="'+g+'"]').addClass("active");a(g,null,null,i,h)}})}};f.fn.mixitup=function(h,g){if(c[h]){return c[h].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof h==="object"||!h){return c.init.apply(this,arguments)}}};function a(p,q,t,l,C){clearInterval(C.failsafe);C.mixing=true;C.filter=p;if(typeof C.onMixStart=="function"){var n=C.onMixStart.call(this,C);C=n?n:C}var v=C.transitionSpeed;for(var u=0;u<2;u++){var B=u==0?B=C.prefix:"";C.transition[B+"transition"]="all "+v+"ms linear";C.transition[B+"transform"]=B+"translate3d(0,0,0)";C.perspective[B+"perspective"]=C.perspectiveDistance+"px";C.perspective[B+"perspective-origin"]=C.perspectiveOrigin}var y=C.targetSelector,o=l.find(y);o.each(function(){this.data={}});var z=o.parent();z.css(C.perspective);C.easingFallback="ease-in-out";if(C.easing=="smooth"){C.easing="cubic-bezier(0.25, 0.46, 0.45, 0.94)"}if(C.easing=="snap"){C.easing="cubic-bezier(0.77, 0, 0.175, 1)"}if(C.easing=="windback"){C.easing="cubic-bezier(0.175, 0.885, 0.320, 1.275)",C.easingFallback="cubic-bezier(0.175, 0.885, 0.320, 1)"}if(C.easing=="windup"){C.easing="cubic-bezier(0.6, -0.28, 0.735, 0.045)",C.easingFallback="cubic-bezier(0.6, 0.28, 0.735, 0.045)"}var j=C.layoutMode=="list"&&C.listEffects!=null?C.listEffects:C.effects;if(Array.prototype.indexOf){C.fade=j.indexOf("fade")>-1?"0":"";C.scale=j.indexOf("scale")>-1?"scale(.01)":"";C.rotateZ=j.indexOf("rotateZ")>-1?"rotate(180deg)":"";C.rotateY=j.indexOf("rotateY")>-1?"rotateY(90deg)":"";C.rotateX=j.indexOf("rotateX")>-1?"rotateX(90deg)":"";C.blur=j.indexOf("blur")>-1?"blur(8px)":"";C.grayscale=j.indexOf("grayscale")>-1?"grayscale(100%)":""}var g=f(),s=f(),r=[],h=false;if(typeof p==="string"){r=b(p)}else{h=true;f.each(p,function(F){r[F]=b(this)})}if(C.filterLogic=="or"){if(r[0]==""){r.shift()}if(r.length<1){s=s.add(l.find(y+":visible"))}else{o.each(function(){var F=f(this);if(!h){if(F.is("."+r.join(", ."))){g=g.add(F)}else{s=s.add(F)}}else{var i=0;f.each(r,function(G){if(this.length){if(F.is("."+this.join(", ."))){i++}}else{if(i>0){i++}}});if(i==r.length){g=g.add(F)}else{s=s.add(F)}}})}}else{g=g.add(z.find(y+"."+r.join(".")));s=s.add(z.find(y+":not(."+r.join(".")+"):visible"))}var E=g.length;var m=f(),x=f(),D=f();s.each(function(){var i=f(this);if(i.css("display")!="none"){m=m.add(i);D=D.add(i)}});if(g.filter(":visible").length==E&&!m.length&&!q){if(C.origLayout==C.layoutMode){w();return false}else{if(g.length==1){if(C.layoutMode=="list"){l.addClass(C.listClass);l.removeClass(C.gridClass);D.css("display",C.targetDisplayList)}else{l.addClass(C.gridClass);l.removeClass(C.listClass);D.css("display",C.targetDisplayGrid)}w();return false}}}C.origHeight=z.height();if(g.length){l.removeClass(C.failClass);g.each(function(){var i=f(this);if(i.css("display")=="none"){x=x.add(i)}else{D=D.add(i)}});if((C.origLayout!=C.layoutMode)&&C.animateGridList==false){if(C.layoutMode=="list"){l.addClass(C.listClass);l.removeClass(C.gridClass);D.css("display",C.targetDisplayList)}else{l.addClass(C.gridClass);l.removeClass(C.listClass);D.css("display",C.targetDisplayGrid)}w();return false}if(!window.atob){w();return false}o.css(C.clean);D.each(function(){this.data.origPos=f(this).offset()});if(C.layoutMode=="list"){l.addClass(C.listClass);l.removeClass(C.gridClass);x.css("display",C.targetDisplayList)}else{l.addClass(C.gridClass);l.removeClass(C.listClass);x.css("display",C.targetDisplayGrid)}x.each(function(){this.data.showInterPos=f(this).offset()});m.each(function(){this.data.hideInterPos=f(this).offset()});D.each(function(){this.data.preInterPos=f(this).offset()});if(C.layoutMode=="list"){D.css("display",C.targetDisplayList)}else{D.css("display",C.targetDisplayGrid)}if(q){d(q,t,l,C)}if(q&&C.origSort.compare(C.checkSort)){w();return false}m.hide();x.each(function(F){this.data.finalPos=f(this).offset()});D.each(function(){this.data.finalPrePos=f(this).offset()});C.newHeight=z.height();if(q){d("reset",null,l,C)}x.hide();D.css("display",C.origDisplay);if(C.origDisplay=="block"){l.addClass(C.listClass);x.css("display",C.targetDisplayList)}else{l.removeClass(C.listClass);x.css("display",C.targetDisplayGrid)}if(C.resizeContainer){z.css("height",C.origHeight+"px")}var k={};for(var u=0;u<2;u++){var B=u==0?B=C.prefix:"";k[B+"transform"]=C.scale+" "+C.rotateX+" "+C.rotateY+" "+C.rotateZ;k[B+"filter"]=C.blur+" "+C.grayscale}x.css(k);D.each(function(){var H=this.data,J=f(this);if(J.hasClass("mix_tohide")){H.preTX=H.origPos.left-H.hideInterPos.left;H.preTY=H.origPos.top-H.hideInterPos.top}else{H.preTX=H.origPos.left-H.preInterPos.left;H.preTY=H.origPos.top-H.preInterPos.top}var I={};for(var G=0;G<2;G++){var F=G==0?F=C.prefix:"";I[F+"transform"]="translate("+H.preTX+"px,"+H.preTY+"px)"}J.css(I)});if(C.layoutMode=="list"){l.addClass(C.listClass);l.removeClass(C.gridClass)}else{l.addClass(C.gridClass);l.removeClass(C.listClass)}var A=setTimeout(function(){if(C.resizeContainer){var I={};for(var H=0;H<2;H++){var F=H==0?F=C.prefix:"";I[F+"transition"]="all "+v+"ms ease-in-out";I.height=C.newHeight+"px"}z.css(I)}m.css("opacity",C.fade);x.css("opacity",1);x.each(function(){var M=this.data;M.tX=M.finalPos.left-M.showInterPos.left;M.tY=M.finalPos.top-M.showInterPos.top;var K={};for(var L=0;L<2;L++){var J=L==0?J=C.prefix:"";K[J+"transition-property"]=J+"transform, "+J+"filter, opacity";K[J+"transition-timing-function"]=C.easing+", linear, linear";K[J+"transition-duration"]=v+"ms";K[J+"transition-delay"]="0";K[J+"transform"]="translate("+M.tX+"px,"+M.tY+"px)";K[J+"filter"]="none"}f(this).css("-webkit-transition","all "+v+"ms "+C.easingFallback).css(K)});D.each(function(){var L=this.data;L.tX=L.finalPrePos.left!=0?L.finalPrePos.left-L.preInterPos.left:0;L.tY=L.finalPrePos.left!=0?L.finalPrePos.top-L.preInterPos.top:0;var M={};for(var K=0;K<2;K++){var J=K==0?J=C.prefix:"";M[J+"transition"]="all "+v+"ms "+C.easing;M[J+"transform"]="translate("+L.tX+"px,"+L.tY+"px)"}f(this).css("-webkit-transition","all "+v+"ms "+C.easingFallback).css(M)});var G={};for(var H=0;H<2;H++){var F=H==0?F=C.prefix:"";G[F+"transition"]="all "+v+"ms "+C.easing+", "+F+"filter "+v+"ms linear, opacity "+v+"ms linear";G[F+"transform"]=C.scale+" "+C.rotateX+" "+C.rotateY+" "+C.rotateZ;G[F+"filter"]=C.blur+" "+C.grayscale;G.opacity=C.fade}m.css(G);z.bind("webkitTransitionEnd transitionend otransitionend oTransitionEnd",function(i){if(i.originalEvent.propertyName.indexOf("transform")>-1||i.originalEvent.propertyName.indexOf("opacity")>-1){if(y.indexOf(".")>-1){if(f(i.target).hasClass(y.replace(".",""))){w()}}else{if(f(i.target).is(y)){w()}}}})},10);C.failsafe=setTimeout(function(){if(C.mixing){w()}},v+400)}else{if(C.resizeContainer){z.css("height",C.origHeight+"px")}if(!window.atob){w();return false}m=s;var A=setTimeout(function(){z.css(C.perspective);if(C.resizeContainer){var J={};for(var I=0;I<2;I++){var G=I==0?G=C.prefix:"";J[G+"transition"]="height "+v+"ms ease-in-out";J.height=C.minHeight+"px"}z.css(J)}o.css(C.transition);var F=s.length;if(F){var H={};for(var I=0;I<2;I++){var G=I==0?G=C.prefix:"";H[G+"transform"]=C.scale+" "+C.rotateX+" "+C.rotateY+" "+C.rotateZ;H[G+"filter"]=C.blur+" "+C.grayscale;H.opacity=C.fade}m.css(H);z.bind("webkitTransitionEnd transitionend otransitionend oTransitionEnd",function(i){if(i.originalEvent.propertyName.indexOf("transform")>-1||i.originalEvent.propertyName.indexOf("opacity")>-1){l.addClass(C.failClass);w()}})}else{C.mixing=false}},10)}function w(){z.unbind();if(q){d(q,t,l,C)}C.startOrder=[],C.newOrder=[],C.origSort=[],C.checkSort=[];o.removeStyle(C.prefix+"filter, filter, "+C.prefix+"transform, transform, opacity, display").css(C.clean).removeAttr("data-checksum");if(!window.atob){o.css({display:"none",opacity:"0"})}var i=C.resizeContainer?"height":"";z.removeStyle(C.prefix+"transition, transition, "+C.prefix+"perspective, perspective, "+C.prefix+"perspective-origin, perspective-origin, "+i);if(C.layoutMode=="list"){g.css({display:C.targetDisplayList,opacity:"1"});C.origDisplay=C.targetDisplayList}else{g.css({display:C.targetDisplayGrid,opacity:"1"});C.origDisplay=C.targetDisplayGrid}C.origLayout=C.layoutMode;var F=setTimeout(function(){o.removeStyle(C.prefix+"transition, transition");C.mixing=false;if(typeof C.onMixEnd=="function"){var G=C.onMixEnd.call(this,C);C=G?G:C}})}}function d(n,g,m,j){function l(p,o){var r=isNaN(p.attr(n)*1)?p.attr(n).toLowerCase():p.attr(n)*1,q=isNaN(o.attr(n)*1)?o.attr(n).toLowerCase():o.attr(n)*1;if(r<q){return -1}if(r>q){return 1}return 0}function h(o){if(g=="asc"){i.prepend(o).prepend(" ")}else{i.append(o).append(" ")}}function k(u){var q=u.slice();var o=q.length;var s=o;while(s--){var v=parseInt(Math.random()*o);var r=q[s];q[s]=q[v];q[v]=r}return q}m.find(j.targetSelector).wrapAll('<div class="mix_sorter"/>');var i=m.find(".mix_sorter");if(!j.origSort.length){i.find(j.targetSelector+":visible").each(function(){f(this).wrap("<s/>");j.origSort.push(f(this).parent().html().replace(/\s+/g,""));f(this).unwrap()})}i.empty();if(n=="reset"){f.each(j.startOrder,function(){i.append(this).append(" ")})}else{if(n=="default"){f.each(j.origOrder,function(){h(this)})}else{if(n=="random"){if(!j.newOrder.length){j.newOrder=k(j.startOrder)}f.each(j.newOrder,function(){i.append(this).append(" ")})}else{if(n=="custom"){f.each(g,function(){h(this)})}else{if(typeof j.origOrder[0].attr(n)==="undefined"){console.log("No such attribute found. Terminating");return false}if(!j.newOrder.length){f.each(j.origOrder,function(){j.newOrder.push(f(this))});j.newOrder.sort(l)}f.each(j.newOrder,function(){h(this)})}}}}j.checkSort=[];i.find(j.targetSelector+":visible").each(function(o){var p=f(this);if(o==0){p.attr("data-checksum","1")}p.wrap("<s/>");j.checkSort.push(p.parent().html().replace(/\s+/g,""));p.unwrap()});m.find(j.targetSelector).unwrap()}function e(h){var j=["Webkit","Moz","O","ms"];for(var g=0;g<j.length;g++){if(j[g]+"Transition" in h.style){return j[g]}}return"transition" in h.style?"":false}f.fn.removeStyle=function(g){return this.each(function(){var i=f(this);g=g.replace(/\s+/g,"");var h=g.split(",");f.each(h,function(){var j=new RegExp(this.toString()+"[^;]+;?","g");i.attr("style",function(k,l){if(l){return l.replace(j,"")}})})})};Array.prototype.compare=function(h){if(this.length!=h.length){return false}for(var g=0;g<h.length;g++){if(this[g].compare){if(!this[g].compare(h[g])){return false}}if(this[g]!==h[g]){return false}}return true};function b(h){h=h.replace(/\s{2,}/g," ");var g=h.split(" ");f.each(g,function(j){if(this=="all"){g[j]="mix_all"}});if(g[0]==""){g.shift()}return g}})(jQuery);