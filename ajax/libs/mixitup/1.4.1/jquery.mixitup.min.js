(function(e){var b={init:function(f){return this.each(function(){var k={targetSelector:".mix",filterSelector:".filter",sortSelector:".sort",buttonEvent:"click",effects:["fade","scale"],listEffects:null,easing:"smooth",layoutMode:"grid",targetDisplayGrid:"inline-block",targetDisplayList:"block",listClass:"",gridClass:"",transitionSpeed:600,showOnLoad:"all",multiFilter:false,filterLogic:"or",resizeContainer:true,minHeight:0,failClass:"fail",perspectiveDistance:"3000",perspectiveOrigin:"50% 50%",animateGridList:true,onMixLoad:null,onMixStart:null,onMixEnd:null,container:null,origOrder:[],startOrder:[],newOrder:[],origSort:[],checkSort:[],filter:"",mixing:false,origDisplay:"",origLayout:"",origHeight:0,newHeight:0,isTouch:false,resetDelay:0,failsafe:null,prefix:"",easingFallback:"ease-in-out",transition:{},perspective:{},clean:{},fade:"1",scale:"",rotateX:"",rotateY:"",rotateZ:"",blur:"",grayscale:""};if(f){e.extend(k,f)}this.config=k;e.support.touch="ontouchend" in document;if(e.support.touch){k.isTouch=true;k.resetDelay=350}k.container=e(this);var n=k.container;k.prefix=d(n[0]);k.prefix=k.prefix?"-"+k.prefix.toLowerCase()+"-":"";n.find(k.targetSelector).each(function(){k.origOrder.push(e(this))});for(var m=0;m<2;m++){var h=m==0?h=k.prefix:"";k.transition[h+"transition"]="all "+k.transitionSpeed+"ms ease-in-out";k.perspective[h+"perspective"]=k.perspectiveDistance+"px";k.perspective[h+"perspective-origin"]=k.perspectiveOrigin}for(var m=0;m<2;m++){var h=m==0?h=k.prefix:"";k.clean[h+"transition"]="none"}if(k.layoutMode=="list"){n.addClass(k.listClass);k.origDisplay=k.targetDisplayList}else{n.addClass(k.gridClass);k.origDisplay=k.targetDisplayGrid}k.origLayout=k.layoutMode;var l=k.showOnLoad.split(" ");e.each(l,function(){e(k.filterSelector+'[data-filter="'+this+'"]').addClass("active")});n.find(k.targetSelector).addClass("mix_all");if(l[0]=="all"){l[0]="mix_all",k.showOnLoad="mix_all"}var g=e();e.each(l,function(){g=g.add(e("."+this))});g.each(function(){var i=e(this);if(k.layoutMode=="list"){i.css("display",k.targetDisplayList)}else{i.css("display",k.targetDisplayGrid)}i.css(k.transition)});var j=setTimeout(function(){k.mixing=true;g.css("opacity","1");var i=setTimeout(function(){if(k.layoutMode=="list"){g.removeStyle(k.prefix+"transition, transition").css({display:k.targetDisplayList,opacity:1})}else{g.removeStyle(k.prefix+"transition, transition").css({display:k.targetDisplayGrid,opacity:1})}k.mixing=false;if(typeof k.onMixLoad=="function"){var o=k.onMixLoad.call(this,k);k=o?o:k}},k.transitionSpeed)},10);k.filter=k.showOnLoad;e(k.sortSelector).bind(k.buttonEvent,function(){if(!k.mixing){var p=e(this),o=p.attr("data-sort"),i=p.attr("data-order");if(!p.hasClass("active")){e(k.sortSelector).removeClass("active");p.addClass("active")}else{if(o!="random"){return false}}n.find(k.targetSelector).each(function(){k.startOrder.push(e(this))});a(k.filter,o,i,n,k)}});e(k.filterSelector).bind(k.buttonEvent,function(){if(!k.mixing){var p=e(this);if(k.multiFilter==false){e(k.filterSelector).removeClass("active");p.addClass("active");k.filter=p.attr("data-filter");e(k.filterSelector+'[data-filter="'+k.filter+'"]').addClass("active");if(k.filter=="all"){k.filter="mix_all"}}else{var i=p.attr("data-filter");if(i=="all"){i="mix_all"}if(p.hasClass("active")){p.removeClass("active");var o=new RegExp("(\\s|^)"+i);k.filter=k.filter.replace(o,"")}else{p.addClass("active");k.filter=k.filter+" "+i}}a(k.filter,null,null,n,k)}})})},toGrid:function(){return this.each(function(){var f=this.config;if(f.layoutMode!="grid"){f.layoutMode="grid";a(f.filter,null,null,e(this),f)}})},toList:function(){return this.each(function(){var f=this.config;if(f.layoutMode!="list"){f.layoutMode="list";a(f.filter,null,null,e(this),f)}})},filter:function(f){return this.each(function(){var g=this.config;e(g.filterSelector).removeClass("active");e(g.filterSelector+'[data-filter="'+f+'"]').addClass("active");if(f=="all"){f="mix_all"}if(!g.mixing){g.filter=f;a(f,null,null,e(this),g)}})},sort:function(f){return this.each(function(){var h=this.config;if(e.isArray(f)){var i=f[0],g=f[1]}else{var i=f,g="desc"}if(!h.mixing){e(this).find(h.targetSelector).each(function(){h.startOrder.push(e(this))});a(h.filter,i,g,e(this),h)}})}};e.fn.mixitup=function(g,f){if(b[g]){return b[g].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof g==="object"||!g){return b.init.apply(this,arguments)}}};function a(o,p,s,j,B){clearInterval(B.failsafe);B.mixing=true;if(typeof B.onMixStart=="function"){var l=B.onMixStart.call(this,B);B=l?l:B}var u=B.transitionSpeed;for(var t=0;t<2;t++){var A=t==0?A=B.prefix:"";B.transition[A+"transition"]="all "+u+"ms linear";B.transition[A+"transform"]=A+"translate3d(0,0,0)";B.perspective[A+"perspective"]=B.perspectiveDistance+"px";B.perspective[A+"perspective-origin"]=B.perspectiveOrigin}var x=B.targetSelector,n=j.find(x);n.each(function(){this.data={}});var y=n.parent();y.css(B.perspective);B.easingFallback="ease-in-out";if(B.easing=="smooth"){B.easing="cubic-bezier(0.25, 0.46, 0.45, 0.94)"}if(B.easing=="snap"){B.easing="cubic-bezier(0.77, 0, 0.175, 1)"}if(B.easing=="windback"){B.easing="cubic-bezier(0.175, 0.885, 0.320, 1.275)",B.easingFallback="cubic-bezier(0.175, 0.885, 0.320, 1)"}if(B.easing=="windup"){B.easing="cubic-bezier(0.6, -0.28, 0.735, 0.045)",B.easingFallback="cubic-bezier(0.6, 0.28, 0.735, 0.045)"}var g=B.layoutMode=="list"&&B.listEffects!=null?B.listEffects:B.effects;if(Array.prototype.indexOf){B.fade=g.indexOf("fade")>-1?"0":"";B.scale=g.indexOf("scale")>-1?"scale(.01)":"";B.rotateZ=g.indexOf("rotateZ")>-1?"rotate(180deg)":"";B.rotateY=g.indexOf("rotateY")>-1?"rotateY(90deg)":"";B.rotateX=g.indexOf("rotateX")>-1?"rotateX(90deg)":"";B.blur=g.indexOf("blur")>-1?"blur(8px)":"";B.grayscale=g.indexOf("grayscale")>-1?"grayscale(100%)":""}var m=o.replace(/\s|\//g,".");var f=e(),r=e();if(B.filterLogic=="or"){var q=m.split(".");if(B.multiFilter==true&&q[0]==""){q.shift()}if(q.length<1){r=r.add(j.find(x+":visible"))}else{n.each(function(){var E=0,G=e(this);for(var F=0;F<q.length;F++){if(G.hasClass(q[F])){f=f.add(G);E++}}if(E==0){r=r.add(G)}})}}else{f=f.add(y.find(x+"."+m));r=r.add(y.find(x+":not(."+m+"):visible"))}var D=f.length;var k=e(),w=e(),C=e();r.each(function(){var i=e(this);if(i.css("display")!="none"){k=k.add(i);C=C.add(i)}});if(f.filter(":visible").length==D&&!k.length&&!p){if(B.origLayout==B.layoutMode){v();return false}else{if(f.length==1){if(B.layoutMode=="list"){j.addClass(B.listClass);j.removeClass(B.gridClass);C.css("display",B.targetDisplayList)}else{j.addClass(B.gridClass);j.removeClass(B.listClass);C.css("display",B.targetDisplayGrid)}v();return false}}}B.origHeight=y.height();if(f.length){j.removeClass(B.failClass);f.each(function(){var i=e(this);if(i.css("display")=="none"){w=w.add(i)}else{C=C.add(i)}});if((B.origLayout!=B.layoutMode)&&B.animateGridList==false){if(B.layoutMode=="list"){j.addClass(B.listClass);j.removeClass(B.gridClass);C.css("display",B.targetDisplayList)}else{j.addClass(B.gridClass);j.removeClass(B.listClass);C.css("display",B.targetDisplayGrid)}v();return false}if(!window.atob){v();return false}n.css(B.clean);C.each(function(){this.data.origPos=e(this).offset()});if(B.layoutMode=="list"){j.addClass(B.listClass);j.removeClass(B.gridClass);w.css("display",B.targetDisplayList)}else{j.addClass(B.gridClass);j.removeClass(B.listClass);w.css("display",B.targetDisplayGrid)}w.each(function(){this.data.showInterPos=e(this).offset()});k.each(function(){this.data.hideInterPos=e(this).offset()});C.each(function(){this.data.preInterPos=e(this).offset()});if(B.layoutMode=="list"){C.css("display",B.targetDisplayList)}else{C.css("display",B.targetDisplayGrid)}if(p){c(p,s,j,B)}if(p&&B.origSort.compare(B.checkSort)){v();return false}k.hide();w.each(function(E){this.data.finalPos=e(this).offset()});C.each(function(){this.data.finalPrePos=e(this).offset()});B.newHeight=y.height();if(p){c("reset",null,j,B)}w.hide();C.css("display",B.origDisplay);if(B.origDisplay=="block"){j.addClass(B.listClass);w.css("display",B.targetDisplayList)}else{j.removeClass(B.listClass);w.css("display",B.targetDisplayGrid)}if(B.resizeContainer){y.css("height",B.origHeight+"px")}var h={};for(var t=0;t<2;t++){var A=t==0?A=B.prefix:"";h[A+"transform"]=B.scale+" "+B.rotateX+" "+B.rotateY+" "+B.rotateZ;h[A+"filter"]=B.blur+" "+B.grayscale}w.css(h);C.each(function(){var G=this.data,I=e(this);if(I.hasClass("mix_tohide")){G.preTX=G.origPos.left-G.hideInterPos.left;G.preTY=G.origPos.top-G.hideInterPos.top}else{G.preTX=G.origPos.left-G.preInterPos.left;G.preTY=G.origPos.top-G.preInterPos.top}var H={};for(var F=0;F<2;F++){var E=F==0?E=B.prefix:"";H[E+"transform"]="translate("+G.preTX+"px,"+G.preTY+"px)"}I.css(H)});if(B.layoutMode=="list"){j.addClass(B.listClass);j.removeClass(B.gridClass)}else{j.addClass(B.gridClass);j.removeClass(B.listClass)}var z=setTimeout(function(){if(B.resizeContainer){var H={};for(var G=0;G<2;G++){var E=G==0?E=B.prefix:"";H[E+"transition"]="all "+u+"ms ease-in-out";H.height=B.newHeight+"px"}y.css(H)}k.css("opacity",B.fade);w.css("opacity",1);w.each(function(){var L=this.data;L.tX=L.finalPos.left-L.showInterPos.left;L.tY=L.finalPos.top-L.showInterPos.top;var J={};for(var K=0;K<2;K++){var I=K==0?I=B.prefix:"";J[I+"transition-property"]=I+"transform, "+I+"filter, opacity";J[I+"transition-timing-function"]=B.easing+", linear, linear";J[I+"transition-duration"]=u+"ms";J[I+"transition-delay"]="0";J[I+"transform"]="translate("+L.tX+"px,"+L.tY+"px)";J[I+"filter"]="none"}e(this).css("-webkit-transition","all "+u+"ms "+B.easingFallback).css(J)});C.each(function(){var K=this.data;K.tX=K.finalPrePos.left!=0?K.finalPrePos.left-K.preInterPos.left:0;K.tY=K.finalPrePos.left!=0?K.finalPrePos.top-K.preInterPos.top:0;var L={};for(var J=0;J<2;J++){var I=J==0?I=B.prefix:"";L[I+"transition"]="all "+u+"ms "+B.easing;L[I+"transform"]="translate("+K.tX+"px,"+K.tY+"px)"}e(this).css("-webkit-transition","all "+u+"ms "+B.easingFallback).css(L)});var F={};for(var G=0;G<2;G++){var E=G==0?E=B.prefix:"";F[E+"transition"]="all "+u+"ms "+B.easing+", "+E+"filter "+u+"ms linear, opacity "+u+"ms linear";F[E+"transform"]=B.scale+" "+B.rotateX+" "+B.rotateY+" "+B.rotateZ;F[E+"filter"]=B.blur+" "+B.grayscale;F.opacity=B.fade}k.css(F);y.bind("webkitTransitionEnd transitionend otransitionend oTransitionEnd",function(i){if(i.originalEvent.propertyName.indexOf("transform")>-1||i.originalEvent.propertyName.indexOf("opacity")>-1){if(x.indexOf(".")>-1){if(e(i.target).hasClass(x.replace(".",""))){v()}}else{if(e(i.target).is(x)){v()}}}})},10);B.failsafe=setTimeout(function(){if(B.mixing){v()}},u+400)}else{if(B.resizeContainer){y.css("height",B.origHeight+"px")}if(!window.atob){v();return false}k=r;var z=setTimeout(function(){y.css(B.perspective);if(B.resizeContainer){var I={};for(var H=0;H<2;H++){var F=H==0?F=B.prefix:"";I[F+"transition"]="height "+u+"ms ease-in-out";I.height=B.minHeight+"px"}y.css(I)}n.css(B.transition);var E=r.length;if(E){var G={};for(var H=0;H<2;H++){var F=H==0?F=B.prefix:"";G[F+"transform"]=B.scale+" "+B.rotateX+" "+B.rotateY+" "+B.rotateZ;G[F+"filter"]=B.blur+" "+B.grayscale;G.opacity=B.fade}k.css(G);y.bind("webkitTransitionEnd transitionend otransitionend oTransitionEnd",function(i){if(i.originalEvent.propertyName.indexOf("transform")>-1||i.originalEvent.propertyName.indexOf("opacity")>-1){j.addClass(B.failClass);v()}})}else{B.mixing=false}},10)}function v(){y.unbind();if(p){c(p,s,j,B)}B.startOrder=[],B.newOrder=[],B.origSort=[],B.checkSort=[];n.removeStyle(B.prefix+"filter, filter, "+B.prefix+"transform, transform, opacity, display").css(B.clean).removeAttr("data-checksum");if(!window.atob){n.css({display:"none",opacity:"0"})}var i=B.resizeContainer?"height":"";y.removeStyle(B.prefix+"transition, transition, "+B.prefix+"perspective, perspective, "+B.prefix+"perspective-origin, perspective-origin, "+i);if(B.layoutMode=="list"){f.css({display:B.targetDisplayList,opacity:"1"});B.origDisplay=B.targetDisplayList}else{f.css({display:B.targetDisplayGrid,opacity:"1"});B.origDisplay=B.targetDisplayGrid}B.origLayout=B.layoutMode;var E=setTimeout(function(){n.removeStyle(B.prefix+"transition, transition");B.mixing=false;if(typeof B.onMixEnd=="function"){var F=B.onMixEnd.call(this,B);B=F?F:B}})}}function c(m,f,l,i){function k(o,n){if(o.attr(m).toLowerCase()<n.attr(m).toLowerCase()){return -1}if(o.attr(m).toLowerCase()>n.attr(m).toLowerCase()){return 1}return 0}function g(n){if(f=="asc"){h.prepend(n).prepend(" ")}else{h.append(n).append(" ")}}function j(s){var o=s.slice();var n=o.length;var r=n;while(r--){var u=parseInt(Math.random()*n);var q=o[r];o[r]=o[u];o[u]=q}return o}l.find(i.targetSelector).wrapAll('<div class="mix_sorter"/>');var h=l.find(".mix_sorter");if(!i.origSort.length){h.find(i.targetSelector+":visible").each(function(){e(this).wrap("<s/>");i.origSort.push(e(this).parent().html().replace(/\s+/g,""));e(this).unwrap()})}h.empty();if(m=="reset"){e.each(i.startOrder,function(){h.append(this).append(" ")})}else{if(m=="default"){e.each(i.origOrder,function(){g(this)})}else{if(m=="random"){if(!i.newOrder.length){i.newOrder=j(i.startOrder)}e.each(i.newOrder,function(){h.append(this).append(" ")})}else{if(m=="custom"){e.each(f,function(){g(this)})}else{if(typeof i.origOrder[0].attr(m)==="undefined"){console.log("No such attribute found. Terminating")}if(!i.newOrder.length){e.each(i.origOrder,function(){i.newOrder.push(e(this))});i.newOrder.sort(k)}e.each(i.newOrder,function(){g(this)})}}}}i.checkSort=[];h.find(i.targetSelector+":visible").each(function(n){var o=e(this);if(n==0){o.attr("data-checksum","1")}o.wrap("<s/>");i.checkSort.push(o.parent().html().replace(/\s+/g,""));o.unwrap()});l.find(i.targetSelector).unwrap()}function d(g){var h=["Webkit","Moz","O","ms"];for(var f=0;f<h.length;f++){if(h[f]+"Transition" in g.style){return h[f]}}return"transition" in g.style?"":false}e.fn.removeStyle=function(f){return this.each(function(){var h=e(this);f=f.replace(/\s+/g,"");var g=f.split(",");e.each(g,function(){var i=new RegExp(this.toString()+"[^;]+;?","g");h.attr("style",function(j,k){if(k){return k.replace(i,"")}})})})};Array.prototype.compare=function(g){if(this.length!=g.length){return false}for(var f=0;f<g.length;f++){if(this[f].compare){if(!this[f].compare(g[f])){return false}}if(this[f]!==g[f]){return false}}return true}})(jQuery);