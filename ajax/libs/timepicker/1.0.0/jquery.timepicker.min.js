"undefined"!=typeof jQuery&&!function(e){var t=function(e,t,i){return Array(i+1-e.length).join(t)+e};e.TimePicker=function(t,i){var n=this,s=t.ownerDocument;n.element=e(t).data("TimePicker",n).attr("autocomplete","off"),n.selectedTime=e.fn.timepicker.parseTime(n.element.val()),n.options=e.metadata?e.extend({},i,n.element.metadata()):i,0===n.element.attr("id").length&&n.element.attr("id","timepicker-field-"+(new Date).getTime()),n._build(),n.menu.delegate("a","mouseenter.timepicker mouseleave.timepicker",function(t){"mouseover"==t.type?n._activate(e(this).parent()):n._deactivate()}).delegate("a","click",function(t){t.preventDefault(),n._select(e(this).parent())}).appendTo("body",s),n.element.bind("keydown.timepicker",function(e){switch(e.which){case n.keyCode.ENTER:case n.keyCode.NUMPAD_ENTER:e.preventDefault(),n.closed?n.element.change():n._select(n.active);break;case n.keyCode.UP:n.previous();break;case n.keyCode.DOWN:n.next();break;default:n.close()}}).bind("focus.timepicker",function(){n.open()}).bind("change.timepicker",function(t){n.closed&&n.setTime(e.fn.timepicker.parseTime(n.element.val()))})},e.TimePicker.prototype={keyCode:{DOWN:40,END:35,ENTER:13,HOME:36,LEFT:37,NUMPAD_ENTER:108,PAGE_DOWN:34,PAGE_UP:33,RIGHT:39,TAB:9,UP:38},_isValidTime:function(e){var t=this,i=null,n=null;return e.setSeconds(0,0),null!==t.options.minTime?(i=new Date,i.setTime(e.valueOf()),i.setHours(t.options.minTime.getHours(),t.options.minTime.getMinutes(),0,0)):null===t.options.minHour&&null===t.options.minMinutes||(i=new Date,i.setTime(e.valueOf()),null!==t.options.minHour&&i.setHours(t.options.minHour,0,0,0),null!==t.options.minMinutes&&i.setMinutes(t.options.minMinutes,0,0)),null!==t.options.maxTime?(n=new Date,n.setTime(e.valueOf()),n.setHours(t.options.maxTime.getHours(),t.options.maxTime.getMinutes(),0,0)):null===t.options.maxHour&&null===t.options.maxMinutes||(n=new Date,n.setTime(e.valueOf()),null!==t.options.maxHour&&n.setHours(t.options.maxHour,0,0,0),null!==t.options.maxMinutes&&n.setMinutes(t.options.maxMinutes,0,0)),null!==i&&null!==n?e>=i&&n>=e:null!==i?e>=i:null!==n?n>=e:!0},_populate:function(i){var n,s,o,r,a,u=this,l=null,m=60/u.options.interval,c="",d="",h=new Date;i?(n=i.getHours(),o=Math.ceil(i.getMinutes()/u.options.interval)):u.options.startTime?(n=u.options.startTime.getHours(),o=Math.ceil(u.options.startTime.getMinutes()/u.options.interval)):(n=u.options.startHour,o=Math.ceil(u.options.startMinutes/u.options.interval)),s=n+24+1,o>=m&&(n+=1,s+=1,o-=m),r=o,a=m,u.menu.empty();for(var p=n;s>p;p++){p==s-1&&(a=r);for(var f=o;a>f;f++)c=t((p%24).toString(),"0",2),d=t((f%m*u.options.interval).toString(),"0",2),h.setHours(c,d),u._isValidTime(h)&&(l=e("<li>").addClass("ui-menu-item").appendTo(u.menu),e("<a>").addClass("ui-corner-all").text(e.fn.timepicker.formatTime(u.options.timeFormat,h)).appendTo(l));o=0}},_build:function(){this.menu=e("<ul>",{id:"timepicker-"+(new Date).getTime()}).addClass("ui-timepicker ui-widget ui-widget-content").addClass("ui-corner-all ui-helper-hidden"),this.closed=!0,this._populate()},_hasScroll:function(){return this.menu.height()<this.menu.attr("scrollHeight")},_activate:function(e){if(this._deactivate(),this._hasScroll()){var t=e.offset().top-this.menu.offset().top,i=this.menu.scrollTop(),n=this.menu.height();0>t?this.menu.scrollTop(i+t):t>n&&this.menu.scrollTop(i+t-n+e.height())}this.active=e.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-item").end()},_deactivate:function(){this.active&&(this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this.active=null)},_select:function(t){this.setTime(e.fn.timepicker.parseTime(t.children("a").text())),this.close()},_move:function(e,t){if(this.closed&&this.open(),!this.active)return void this._activate(this.menu.children(t));var i=this.active[e+"All"](".ui-menu-item").eq(0);i.length?this._activate(i):this._activate(this.menu.children(t))},option:function(e,t){return arguments.length>1?(this.options.hasOwnProperty(e)&&(this.options[e]=t),this):this.options[e]},next:function(){this._move("next",".ui-menu-item:first")},previous:function(){this._move("prev",".ui-menu-item:last")},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},selected:function(){return this.active?this.active:null},open:function(){var t=this;if(t.closed){t.selectedTime&&t._populate(t.selectedTime);var i=t.element.offset();i.top=i.top+t.element.outerHeight(),i.width=t.element.innerWidth(),t.menu.css(i),t.menu.removeClass("ui-helper-hidden").addClass("ui-menu"),e("html").bind("focusin.timepicker click.timepicker",function(i){var n=e(i.target),s=n.closest("#"+t.menu.attr("id"));s.length>0||n.attr("id")===t.element.attr("id")||setTimeout(function(){t.close()},50)}),t.closed=!1}return t.element},close:function(){var t=this;return t.closed||(t.menu.scrollTop(0).addClass("ui-helper-hidden").removeClass("ui-menu"),t.menu.children().removeClass("ui-state-hover"),e("html").unbind(".timepciker"),t.closed=!0),t.element},destroy:function(){return this.element.unbind(".timepicker").data("TimePicker",null)},getTime:function(){return this.selectedTime?this.selectedTime:null},setTime:function(t){var i=this;t&&t.getMinutes&&(i.element.val(e.fn.timepicker.formatTime(i.options.timeFormat,t)),i.selectedTime=t,i.options.change&&e.isFunction(i.options.change)&&i.options.change(t))}},e.TimePicker.defaults={timeFormat:"hh:mm p",minHour:null,minMinutes:null,minTime:null,maxHour:null,maxMinutes:null,maxTime:null,startHour:7,startMinutes:0,startTime:null,interval:30,change:function(e){}},e.fn.timepicker=function(t){if(e.fn.jquery<"1.4.1")return this;if(this.data("TimePicker"))return this.data("TimePicker");var i=e.extend({},e.TimePicker.defaults,t);return this.each(function(){new e.TimePicker(this,i)})},e.fn.timepicker.formatTime=function(e,i){var n=i.getHours(),s=n%12,o=i.getMinutes(),r=i.getSeconds(),a={hh:t((0===s?12:s).toString(),"0",2),HH:t(n.toString(),"0",2),mm:t(o.toString(),"0",2),ss:t(r.toString(),"0",2),h:0===s?12:s,H:n,m:o,s:r,p:n>11?"PM":"AM"},u=e,l="";for(l in a)a.hasOwnProperty(l)&&(u=u.replace(new RegExp(l,"g"),a[l]));return u},e.fn.timepicker.parseTime=function(){var t=[[/^(\d+)$/,"$1"],[/^:(\d)$/,"$10"],[/^:(\d+)/,"$1"],[/^(\d):([7-9])$/,"0$10$2"],[/^(\d):(\d\d)$/,"$1$2"],[/^(\d):(\d{1,})$/,"0$1$20"],[/^(\d\d):([7-9])$/,"$10$2"],[/^(\d\d):(\d)$/,"$1$20"],[/^(\d\d):(\d*)$/,"$1$2"],[/^(\d{3,}):(\d)$/,"$10$2"],[/^(\d{3,}):(\d{2,})/,"$1$2"],[/^(\d):(\d):(\d)$/,"0$10$20$3"],[/^(\d{1,2}):(\d):(\d\d)/,"$10$2$3"]];return function(i){var n=new Date,s=!1,o=!1,r=!1,a=!1,u=!1,l=0;i=i.toLowerCase(),s=/a/.test(i),o=s?!1:/p/.test(i),i=i.replace(/[^0-9:]/g,"").replace(/:+/g,":");for(l in t)if(t[l][0].test(i)){i=i.replace(t[l][0],t[l][1]);break}return i=i.replace(/:/g,""),1==i.length?r=i:2==i.length?r=i:3==i.length||5==i.length?(r=i.substr(0,1),a=i.substr(1,2),u=i.substr(3,2)):(4==i.length||i.length>5)&&(r=i.substr(0,2),a=i.substr(2,2),u=i.substr(4,2)),i.length>0&&i.length<5&&(i.length<3&&(a=0),u=0),r===!1||a===!1||u===!1?!1:(r=parseInt(r,10),a=parseInt(a,10),u=parseInt(u,10),s&&12==r?r=0:o&&12>r&&(r+=12),r>24&&6>=r%10&&60>=a&&60>=u?e.fn.timepicker.parseTime(i+"0"+(s?"a":"")+(o?"p":"")):24>=r&&60>=a&&60>=u?(n.setHours(r,a,u),n):!1)}}()}(jQuery);
//# sourceMappingURL=./jquery.timepicker.min.js.map