(function(angular){"use strict";angular.module("oc.lazyLoad").directive("ocLazyLoad",["$ocLazyLoad","$compile","$animate","$parse",function($ocLazyLoad,$compile,$animate,$parse){return{restrict:"A",terminal:true,priority:1e3,compile:function compile(element,attrs){var content=element[0].innerHTML;element.html("");return function($scope,$element,$attr){var model=$parse($attr.ocLazyLoad);$scope.$watch(function(){return model($scope)||$attr.ocLazyLoad},function(moduleName){if(angular.isDefined(moduleName)){$ocLazyLoad.load(moduleName).then(function(){$animate.enter(content,$element);var contents=element.contents();angular.forEach(contents,function(content){if(content.nodeType!==3){$compile(content)($scope)}})})}},true)}}}}])})(angular);