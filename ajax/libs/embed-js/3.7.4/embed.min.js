/*
 *  embed-js - v3.7.4
 *  A JavaScript plugin that analyses the string and embeds emojis, media, tweets, code and services.
 *  http://riteshkr.com/embed.js
 *
 *  Made by Ritesh Kumar
 *  Under MIT License
 */
!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b():"function"==typeof define&&define.amd?define(b):b()}(this,function(){"use strict";function a(a,b,d,e){var f=Object.create((b||c).prototype),g=new l(e||[]);return f._invoke=i(a,d,g),f}function b(a,b,c){try{return{type:"normal",arg:a.call(b,c)}}catch(d){return{type:"throw",arg:d}}}function c(){}function d(){}function e(){}function f(a){["next","throw","return"].forEach(function(b){a[b]=function(a){return this._invoke(b,a)}})}function g(a){this.arg=a}function h(a){function c(d,e,f,h){var i=b(a[d],a,e);if("throw"!==i.type){var j=i.arg,k=j.value;return k instanceof g?Promise.resolve(k.arg).then(function(a){c("next",a,f,h)},function(a){c("throw",a,f,h)}):Promise.resolve(k).then(function(a){j.value=a,f(j)},h)}h(i.arg)}function d(a,b){function d(){return new Promise(function(d,e){c(a,b,d,e)})}return e=e?e.then(d,d):d()}"object"===("undefined"==typeof process?"undefined":J(process))&&process.domain&&(c=process.domain.bind(c));var e;this._invoke=d}function i(a,c,d){var e=W;return function(f,g){if(e===Y)throw new Error("Generator is already running");if(e===Z){if("throw"===f)throw g;return n()}for(;;){var h=d.delegate;if(h){if("return"===f||"throw"===f&&h.iterator[f]===R){d.delegate=null;var i=h.iterator["return"];if(i){var j=b(i,h.iterator,g);if("throw"===j.type){f="throw",g=j.arg;continue}}if("return"===f)continue}var j=b(h.iterator[f],h.iterator,g);if("throw"===j.type){d.delegate=null,f="throw",g=j.arg;continue}f="next",g=R;var k=j.arg;if(!k.done)return e=X,k;d[h.resultName]=k.value,d.next=h.nextLoc,d.delegate=null}if("next"===f)e===X?d.sent=g:d.sent=R;else if("throw"===f){if(e===W)throw e=Z,g;d.dispatchException(g)&&(f="next",g=R)}else"return"===f&&d.abrupt("return",g);e=Y;var j=b(a,c,d);if("normal"===j.type){e=d.done?Z:X;var k={value:j.arg,done:d.done};if(j.arg!==$)return k;d.delegate&&"next"===f&&(g=R)}else"throw"===j.type&&(e=Z,f="throw",g=j.arg)}}}function j(a){var b={tryLoc:a[0]};1 in a&&(b.catchLoc=a[1]),2 in a&&(b.finallyLoc=a[2],b.afterLoc=a[3]),this.tryEntries.push(b)}function k(a){var b=a.completion||{};b.type="normal",delete b.arg,a.completion=b}function l(a){this.tryEntries=[{tryLoc:"root"}],a.forEach(j,this),this.reset(!0)}function m(a){if(a){var b=a[T];if(b)return b.call(a);if("function"==typeof a.next)return a;if(!isNaN(a.length)){var c=-1,d=function e(){for(;++c<a.length;)if(Q.call(a,c))return e.value=a[c],e.done=!1,e;return e.value=R,e.done=!0,e};return d.next=d}}return{next:n}}function n(){return{value:R,done:!0}}function o(a,b){return a.substr(0,b-1)+(a.length>b?"...":"")}function p(a){return-1===a.indexOf("//")?"//"+a:a}function q(a,b){for(var c in b)b[c]&&b[c].constructor===Object?(a[c]=a[c]||{},q(a[c],b[c])):a[c]=b[c];return a}function r(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function s(a){return a.sort(function(a,b){return a.index-b.index})}function t(a,b){for(var c=s(b),d=0;d<c.length;d++)a+=" "+c[d].text;return a}function u(a,b){return a.exec(b)}function v(a,b){return-1==a.excludeEmbed.indexOf(b)&&"all"!==a.excludeEmbed}function w(a,b){return-1==a.inlineEmbed.indexOf(b)&&"all"!==a.inlineEmbed}function x(a){var b={width:a.videoWidth,height:a.videoHeight};if(a.videoHeight&&a.videoWidth)return b;if(a.videoHeight)return a.videoWidth=b.width=a.videoHeight/3*4,b;if(a.videoWidth)return a.videoHeight=b.height=b.width/4*3,b;var c,d=(c=[800,600],b.width=c[0],b.height=c[1],c),e=P(d,2);return a.videoWidth=e[0],a.videoHeight=e[1],b}function y(a){if(null===a||"object"!==("undefined"==typeof a?"undefined":J(a)))return a;var b=a.constructor();for(var c in a)b[c]=y(a[c]);return b}function z(){return/((href|src)=["']|)(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])|(?:https?:\/\/)?(?:(?:0rz\.tw)|(?:1link\.in)|(?:1url\.com)|(?:2\.gp)|(?:2big\.at)|(?:2tu\.us)|(?:3\.ly)|(?:307\.to)|(?:4ms\.me)|(?:4sq\.com)|(?:4url\.cc)|(?:6url\.com)|(?:7\.ly)|(?:a\.gg)|(?:a\.nf)|(?:aa\.cx)|(?:abcurl\.net)|(?:ad\.vu)|(?:adf\.ly)|(?:adjix\.com)|(?:afx\.cc)|(?:all\.fuseurl.com)|(?:alturl\.com)|(?:amzn\.to)|(?:ar\.gy)|(?:arst\.ch)|(?:atu\.ca)|(?:azc\.cc)|(?:b23\.ru)|(?:b2l\.me)|(?:bacn\.me)|(?:bcool\.bz)|(?:binged\.it)|(?:bit\.ly)|(?:buff\.ly)|(?:bizj\.us)|(?:bloat\.me)|(?:bravo\.ly)|(?:bsa\.ly)|(?:budurl\.com)|(?:canurl\.com)|(?:chilp\.it)|(?:chzb\.gr)|(?:cl\.lk)|(?:cl\.ly)|(?:clck\.ru)|(?:cli\.gs)|(?:cliccami\.info)|(?:clickthru\.ca)|(?:clop\.in)|(?:conta\.cc)|(?:cort\.as)|(?:cot\.ag)|(?:crks\.me)|(?:ctvr\.us)|(?:cutt\.us)|(?:dai\.ly)|(?:decenturl\.com)|(?:dfl8\.me)|(?:digbig\.com)|(?:digg\.com)|(?:disq\.us)|(?:dld\.bz)|(?:dlvr\.it)|(?:do\.my)|(?:doiop\.com)|(?:dopen\.us)|(?:easyuri\.com)|(?:easyurl\.net)|(?:eepurl\.com)|(?:eweri\.com)|(?:fa\.by)|(?:fav\.me)|(?:fb\.me)|(?:fbshare\.me)|(?:ff\.im)|(?:fff\.to)|(?:fire\.to)|(?:firsturl\.de)|(?:firsturl\.net)|(?:flic\.kr)|(?:flq\.us)|(?:fly2\.ws)|(?:fon\.gs)|(?:freak\.to)|(?:fuseurl\.com)|(?:fuzzy\.to)|(?:fwd4\.me)|(?:fwib\.net)|(?:g\.ro.lt)|(?:gizmo\.do)|(?:gl\.am)|(?:go\.9nl.com)|(?:go\.ign.com)|(?:go\.usa.gov)|(?:goo\.gl)|(?:goshrink\.com)|(?:gurl\.es)|(?:hex\.io)|(?:hiderefer\.com)|(?:hmm\.ph)|(?:href\.in)|(?:hsblinks\.com)|(?:htxt\.it)|(?:huff\.to)|(?:hulu\.com)|(?:hurl\.me)|(?:hurl\.ws)|(?:icanhaz\.com)|(?:idek\.net)|(?:ilix\.in)|(?:is\.gd)|(?:its\.my)|(?:ix\.lt)|(?:j\.mp)|(?:jijr\.com)|(?:kl\.am)|(?:klck\.me)|(?:korta\.nu)|(?:krunchd\.com)|(?:l9k\.net)|(?:lat\.ms)|(?:liip\.to)|(?:liltext\.com)|(?:linkbee\.com)|(?:linkbun\.ch)|(?:liurl\.cn)|(?:ln-s\.net)|(?:ln-s\.ru)|(?:lnk\.gd)|(?:lnk\.ms)|(?:lnkd\.in)|(?:lnkurl\.com)|(?:lru\.jp)|(?:lt\.tl)|(?:lurl\.no)|(?:macte\.ch)|(?:mash\.to)|(?:merky\.de)|(?:migre\.me)|(?:miniurl\.com)|(?:minurl\.fr)|(?:mke\.me)|(?:moby\.to)|(?:moourl\.com)|(?:mrte\.ch)|(?:myloc\.me)|(?:myurl\.in)|(?:n\.pr)|(?:nbc\.co)|(?:nblo\.gs)|(?:nn\.nf)|(?:not\.my)|(?:notlong\.com)|(?:nsfw\.in)|(?:nutshellurl\.com)|(?:nxy\.in)|(?:nyti\.ms)|(?:o-x\.fr)|(?:oc1\.us)|(?:om\.ly)|(?:omf\.gd)|(?:omoikane\.net)|(?:on\.cnn.com)|(?:on\.mktw.net)|(?:onforb\.es)|(?:orz\.se)|(?:ow\.ly)|(?:ping\.fm)|(?:pli\.gs)|(?:pnt\.me)|(?:politi\.co)|(?:post\.ly)|(?:pp\.gg)|(?:profile\.to)|(?:ptiturl\.com)|(?:pub\.vitrue.com)|(?:qlnk\.net)|(?:qte\.me)|(?:qu\.tc)|(?:qy\.fi)|(?:r\.im)|(?:rb6\.me)|(?:read\.bi)|(?:readthis\.ca)|(?:reallytinyurl\.com)|(?:redir\.ec)|(?:redirects\.ca)|(?:redirx\.com)|(?:retwt\.me)|(?:ri\.ms)|(?:rickroll\.it)|(?:riz\.gd)|(?:rt\.nu)|(?:ru\.ly)|(?:rubyurl\.com)|(?:rurl\.org)|(?:rww\.tw)|(?:s4c\.in)|(?:s7y\.us)|(?:safe\.mn)|(?:sameurl\.com)|(?:sdut\.us)|(?:shar\.es)|(?:shink\.de)|(?:shorl\.com)|(?:short\.ie)|(?:short\.to)|(?:shortlinks\.co.uk)|(?:shorturl\.com)|(?:shout\.to)|(?:show\.my)|(?:shrinkify\.com)|(?:shrinkr\.com)|(?:shrt\.fr)|(?:shrt\.st)|(?:shrten\.com)|(?:shrunkin\.com)|(?:simurl\.com)|(?:slate\.me)|(?:smallr\.com)|(?:smsh\.me)|(?:smurl\.name)|(?:sn\.im)|(?:snipr\.com)|(?:snipurl\.com)|(?:snurl\.com)|(?:sp2\.ro)|(?:spedr\.com)|(?:srnk\.net)|(?:srs\.li)|(?:starturl\.com)|(?:su\.pr)|(?:surl\.co.uk)|(?:surl\.hu)|(?:t\.cn)|(?:t\.co)|(?:t\.lh.com)|(?:ta\.gd)|(?:tbd\.ly)|(?:tcrn\.ch)|(?:tgr\.me)|(?:tgr\.ph)|(?:tighturl\.com)|(?:tiniuri\.com)|(?:tiny\.cc)|(?:tiny\.ly)|(?:tiny\.pl)|(?:tinylink\.in)|(?:tinyuri\.ca)|(?:tinyurl\.com)|(?:tl\.gd)|(?:tmi\.me)|(?:tnij\.org)|(?:tnw\.to)|(?:tny\.com)|(?:to\.ly)|(?:togoto\.us)|(?:totc\.us)|(?:toysr\.us)|(?:tpm\.ly)|(?:tr\.im)|(?:tra\.kz)|(?:trunc\.it)|(?:twhub\.com)|(?:twirl\.at)|(?:twitclicks\.com)|(?:twitterurl\.net)|(?:twitterurl\.org)|(?:twiturl\.de)|(?:twurl\.cc)|(?:twurl\.nl)|(?:u\.mavrev.com)|(?:u\.nu)|(?:u76\.org)|(?:ub0\.cc)|(?:ulu\.lu)|(?:updating\.me)|(?:ur1\.ca)|(?:url\.az)|(?:url\.co.uk)|(?:url\.ie)|(?:url360\.me)|(?:url4\.eu)|(?:urlborg\.com)|(?:urlbrief\.com)|(?:urlcover\.com)|(?:urlcut\.com)|(?:urlenco\.de)|(?:urli\.nl)|(?:urls\.im)|(?:urlshorteningservicefortwitter\.com)|(?:urlx\.ie)|(?:urlzen\.com)|(?:usat\.ly)|(?:use\.my)|(?:vb\.ly)|(?:vgn\.am)|(?:vl\.am)|(?:vm\.lc)|(?:w55\.de)|(?:wapo\.st)|(?:wapurl\.co.uk)|(?:wipi\.es)|(?:wp\.me)|(?:x\.vu)|(?:xr\.com)|(?:xrl\.in)|(?:xrl\.us)|(?:xurl\.es)|(?:xurl\.jp)|(?:y\.ahoo.it)|(?:yatuc\.com)|(?:ye\.pe)|(?:yep\.it)|(?:yfrog\.com)|(?:yhoo\.it)|(?:yiyd\.com)|(?:youtu\.be)|(?:yuarel\.com)|(?:z0p\.de)|(?:zi\.ma)|(?:zi\.mu)|(?:zipmyurl\.com)|(?:zud\.me)|(?:zurl\.ws)|(?:zz\.gd)|(?:zzang\.kr)|(?:›\.ws)|(?:✩\.ws)|(?:✿\.ws)|(?:❥\.ws)|(?:➔\.ws)|(?:➞\.ws)|(?:➡\.ws)|(?:➨\.ws)|(?:➯\.ws)|(?:➹\.ws)|(?:➽\.ws))\/[a-z0-9]*/gi}function A(){return"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random())}function B(a){try{delete window[a]}catch(b){window[a]=void 0}}function C(a){var b=document.getElementById(a);document.getElementsByTagName("head")[0].removeChild(b)}function D(a){if(a.customVideoClickHandler)return a.videoClickHandler(a,E);for(var b=document.getElementsByClassName(a.videoClickClass),c=0;c<b.length;c++)b[c].onclick=function(){a.onVideoShow();var b=this.getAttribute("data-ejs-url")+"?autoplay=true";this.parentNode.parentNode.innerHTML=E(b,a)}}function E(a,b){var c=x(b);return ejs.template.vimeo(a,c,b)||ejs.template.youtube(a,c,b)||'<div class="ejs-video-player ejs-embed">\n        <iframe src="'+a+'" frameBorder="0" width="'+c.width+'" height="'+c.height+'"></iframe>\n        </div>'}function F(a,b){return'<div class="ejs-video ejs-embed">\n        <div class="ejs-video-preview">\n        <div class="ejs-video-thumb" data-ejs-url="'+b+'">\n        <div class="ejs-thumb" style="background-image:url('+a.thumbnail+')"></div>\n        <i class="fa fa-play-circle-o"></i>\n        </div>\n        <div class="ejs-video-detail">\n        <div class="ejs-video-title">\n        <a href="'+a.url+'">\n        '+a.title+'\n        </a>\n        </div>\n        <div class="ejs-video-desc">\n        '+a.description+'\n        </div>\n        <div class="ejs-video-stats">\n        <span>\n        <i class="fa fa-eye"></i>'+a.views+'\n        </span>\n        <span>\n        <i class="fa fa-heart"></i>'+a.likes+"\n        </span>\n        </div>\n        </div>\n        </div>\n        </div>"}function G(a,b,c){return"vimeo"===a.host?ejs.template.detailsVimeo(a,b,c)||F(a,c):"youtube"===a.host?ejs.template.detailsYoutube(a,b,c)||F(a,c):void 0}function H(a){var b=x(a);if(a.videojsOptions.width=b.width,a.videojsOptions.height=b.height,a.videoJS){if(!window.videojs)throw new ReferenceError("You have enabled videojs but you haven't loaded the library.Find it at http://videojs.com/");for(var c=a.element.getElementsByClassName("ejs-video-js"),d=0;d<c.length;d++)videojs(c[d],a.videojsOptions,function(){return a.videojsCallback()})}}function I(a){for(var b=document.getElementsByClassName(a),c=0;c<b.length;c++)b[c].onclick=null}var J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},K=function(a){return function(){var b=a.apply(this,arguments);return new Promise(function(a,c){function d(e,f){try{var g=b[e](f),h=g.value}catch(i){return void c(i)}g.done?a(h):Promise.resolve(h).then(function(a){d("next",a)},function(a){d("throw",a)})}d("next")})}},L=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},M=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),N=function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)},O=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b},P=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Q=Object.prototype.hasOwnProperty,R=void 0,S="function"==typeof Symbol?Symbol:{},T=S.iterator||"@@iterator",U=S.toStringTag||"@@toStringTag",V={};V.wrap=a;var W="suspendedStart",X="suspendedYield",Y="executing",Z="completed",$={},_=e.prototype=c.prototype;d.prototype=_.constructor=e,e.constructor=d,e[U]=d.displayName="GeneratorFunction",V.isGeneratorFunction=function(a){var b="function"==typeof a&&a.constructor;return b?b===d||"GeneratorFunction"===(b.displayName||b.name):!1},V.mark=function(a){return Object.setPrototypeOf?Object.setPrototypeOf(a,e):(a.__proto__=e,U in a||(a[U]="GeneratorFunction")),a.prototype=Object.create(_),a},V.awrap=function(a){return new g(a)},f(h.prototype),V.async=function(b,c,d,e){var f=new h(a(b,c,d,e));return V.isGeneratorFunction(c)?f:f.next().then(function(a){return a.done?a.value:f.next()})},f(_),_[T]=function(){return this},_[U]="Generator",_.toString=function(){return"[object Generator]"},V.keys=function(a){var b=[];for(var c in a)b.push(c);return b.reverse(),function d(){for(;b.length;){var c=b.pop();if(c in a)return d.value=c,d.done=!1,d}return d.done=!0,d}},V.values=m,l.prototype={constructor:l,reset:function(a){if(this.prev=0,this.next=0,this.sent=R,this.done=!1,this.delegate=null,this.tryEntries.forEach(k),!a)for(var b in this)"t"===b.charAt(0)&&Q.call(this,b)&&!isNaN(+b.slice(1))&&(this[b]=R)},stop:function(){this.done=!0;var a=this.tryEntries[0],b=a.completion;if("throw"===b.type)throw b.arg;return this.rval},dispatchException:function(a){function b(b,d){return f.type="throw",f.arg=a,c.next=b,!!d}if(this.done)throw a;for(var c=this,d=this.tryEntries.length-1;d>=0;--d){var e=this.tryEntries[d],f=e.completion;if("root"===e.tryLoc)return b("end");if(e.tryLoc<=this.prev){var g=Q.call(e,"catchLoc"),h=Q.call(e,"finallyLoc");if(g&&h){if(this.prev<e.catchLoc)return b(e.catchLoc,!0);if(this.prev<e.finallyLoc)return b(e.finallyLoc)}else if(g){if(this.prev<e.catchLoc)return b(e.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<e.finallyLoc)return b(e.finallyLoc)}}}},abrupt:function(a,b){for(var c=this.tryEntries.length-1;c>=0;--c){var d=this.tryEntries[c];if(d.tryLoc<=this.prev&&Q.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var e=d;break}}e&&("break"===a||"continue"===a)&&e.tryLoc<=b&&b<=e.finallyLoc&&(e=null);var f=e?e.completion:{};return f.type=a,f.arg=b,e?this.next=e.finallyLoc:this.complete(f),$},complete:function(a,b){if("throw"===a.type)throw a.arg;"break"===a.type||"continue"===a.type?this.next=a.arg:"return"===a.type?(this.rval=a.arg,this.next="end"):"normal"===a.type&&b&&(this.next=b)},finish:function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.finallyLoc===a)return this.complete(c.completion,c.afterLoc),k(c),$}},"catch":function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.tryLoc===a){var d=c.completion;if("throw"===d.type){var e=d.arg;k(c)}return e}}throw new Error("illegal catch attempt")},delegateYield:function(a,b,c){return this.delegate={iterator:m(a),resultName:b,nextLoc:c},$}},window.regeneratorRuntime=V;var aa=function(){function a(b,c){L(this,a),this.output=b,this.options=c,this.emojiList=["bowtie","smile","laughing","blush","smiley","relaxed","smirk","heart_eyes","kissing_heart","kissing_closed_eyes","flushed","relieved","satisfied","grin","wink","stuck_out_tongue_winking_eye","stuck_out_tongue_closed_eyes","grinning","kissing","winky_face","kissing_smiling_eyes","stuck_out_tongue","sleeping","worried","frowning","anguished","open_mouth","grimacing","confused","hushed","expressionless","unamused","sweat_smile","sweat","wow","disappointed_relieved","weary","pensive","disappointed","confounded","fearful","cold_sweat","persevere","cry","sob","joy","astonished","scream","neckbeard","tired_face","angry","rage","triumph","sleepy","yum","mask","sunglasses","dizzy_face","imp","smiling_imp","neutral_face","no_mouth","innocent","alien","yellow_heart","blue_heart","purple_heart","heart","green_heart","broken_heart","heartbeat","heartpulse","two_hearts","revolving_hearts","cupid","sparkling_heart","sparkles","star","star2","dizzy","boom","collision","anger","exclamation","question","grey_exclamation","grey_question","zzz","dash","sweat_drops","notes","musical_note","fire","hankey","poop","shit","\\+1","thumbsup","-1","thumbsdown","ok_hand","punch","facepunch","fist","v","wave","hand","raised_hand","open_hands","point_up","point_down","point_left","point_right","raised_hands","pray","point_up_2","clap","muscle","metal","fu","walking","runner","running","couple","family","two_men_holding_hands","two_women_holding_hands","dancer","dancers","ok_woman","no_good","information_desk_person","raising_hand","bride_with_veil","person_with_pouting_face","person_frowning","bow","couplekiss","couple_with_heart","massage","haircut","nail_care","boy","girl","woman","man","baby","older_woman","older_man","person_with_blond_hair","man_with_gua_pi_mao","man_with_turban","construction_worker","cop","angel","princess","smiley_cat","smile_cat","heart_eyes_cat","kissing_cat","smirk_cat","scream_cat","crying_cat_face","joy_cat","pouting_cat","japanese_ogre","japanese_goblin","see_no_evil","hear_no_evil","speak_no_evil","guardsman","skull","feet","lips","kiss","droplet","ear","eyes","nose","tongue","love_letter","bust_in_silhouette","busts_in_silhouette","speech_balloon","thought_balloon","feelsgood","finnadie","goberserk","godmode","hurtrealbad","rage1","rage2","rage3","rage4","suspect","trollface","sunny","umbrella","cloud","snowflake","snowman","zap","cyclone","foggy","ocean","cat","dog","mouse","hamster","rabbit","wolf","frog","tiger","koala","bear","pig","pig_nose","cow","boar","monkey_face","monkey","horse","racehorse","camel","sheep","elephant","panda_face","snake","bird","baby_chick","hatched_chick","hatching_chick","chicken","penguin","turtle","bug","honeybee","ant","beetle","snail","octopus","tropical_fish","fish","whale","whale2","dolphin","cow2","ram","rat","water_buffalo","tiger2","rabbit2","dragon","goat","rooster","dog2","pig2","mouse2","ox","dragon_face","blowfish","crocodile","dromedary_camel","leopard","cat2","poodle","paw_prints","bouquet","cherry_blossom","tulip","four_leaf_clover","rose","sunflower","hibiscus","maple_leaf","leaves","fallen_leaf","herb","mushroom","cactus","palm_tree","evergreen_tree","deciduous_tree","chestnut","seedling","blossom","ear_of_rice","shell","globe_with_meridians","sun_with_face","full_moon_with_face","new_moon_with_face","new_moon","waxing_crescent_moon","first_quarter_moon","waxing_gibbous_moon","full_moon","waning_gibbous_moon","last_quarter_moon","waning_crescent_moon","last_quarter_moon_with_face","first_quarter_moon_with_face","moon","earth_africa","earth_americas","earth_asia","volcano","milky_way","partly_sunny","octocat","squirrel","bamboo","gift_heart","dolls","school_satchel","mortar_board","flags","fireworks","sparkler","wind_chime","rice_scene","jack_o_lantern","ghost","santa","christmas_tree","gift","bell","no_bell","tanabata_tree","tada","confetti_ball","balloon","crystal_ball","cd","dvd","floppy_disk","camera","video_camera","movie_camera","computer","tv","iphone","phone","telephone","telephone_receiver","pager","fax","minidisc","vhs","sound","speaker","mute","loudspeaker","mega","hourglass","hourglass_flowing_sand","alarm_clock","watch","radio","satellite","loop","mag","mag_right","unlock","lock","lock_with_ink_pen","closed_lock_with_key","key","bulb","flashlight","high_brightness","low_brightness","electric_plug","battery","calling","email","mailbox","postbox","bath","bathtub","shower","toilet","wrench","nut_and_bolt","hammer","seat","moneybag","yen","dollar","pound","euro","credit_card","money_with_wings","e-mail","inbox_tray","outbox_tray","envelope","incoming_envelope","postal_horn","mailbox_closed","mailbox_with_mail","mailbox_with_no_mail","door","smoking","bomb","gun","hocho","pill","syringe","page_facing_up","page_with_curl","bookmark_tabs","bar_chart","chart_with_upwards_trend","chart_with_downwards_trend","scroll","clipboard","calendar","date","card_index","file_folder","open_file_folder","scissors","pushpin","paperclip","black_nib","pencil2","straight_ruler","triangular_ruler","closed_book","green_book","blue_book","orange_book","notebook","notebook_with_decorative_cover","ledger","books","bookmark","name_badge","microscope","telescope","newspaper","football","basketball","soccer","baseball","tennis","8ball","rugby_football","bowling","golf","mountain_bicyclist","bicyclist","horse_racing","snowboarder","swimmer","surfer","ski","spades","hearts","clubs","diamonds","gem","ring","trophy","musical_score","musical_keyboard","violin","space_invader","video_game","black_joker","flower_playing_cards","game_die","dart","mahjong","clapper","memo","pencil","book","art","microphone","headphones","trumpet","saxophone","guitar","shoe","sandal","high_heel","lipstick","boot","shirt","tshirt","necktie","womans_clothes","dress","running_shirt_with_sash","jeans","kimono","bikini","ribbon","tophat","crown","womans_hat","mans_shoe","closed_umbrella","briefcase","handbag","pouch","purse","eyeglasses","fishing_pole_and_fish","coffee","tea","sake","baby_bottle","beer","beers","cocktail","tropical_drink","wine_glass","fork_and_knife","pizza","hamburger","fries","poultry_leg","meat_on_bone","spaghetti","curry","fried_shrimp","bento","sushi","fish_cake","rice_ball","rice_cracker","rice","ramen","stew","oden","dango","egg","bread","doughnut","custard","icecream","ice_cream","shaved_ice","birthday","cake","cookie","chocolate_bar","candy","lollipop","honey_pot","apple","green_apple","tangerine","lemon","cherries","grapes","watermelon","strawberry","peach","melon","banana","pear","pineapple","sweet_potato","eggplant","tomato","corn","house","house_with_garden","school","office","post_office","hospital","bank","convenience_store","love_hotel","hotel","wedding","church","department_store","european_post_office","city_sunrise","city_sunset","japanese_castle","european_castle","tent","factory","tokyo_tower","japan","mount_fuji","sunrise_over_mountains","sunrise","stars","themoreyouknow","tmyk","statue_of_liberty","bridge_at_night","carousel_horse","rainbow","ferris_wheel","fountain","roller_coaster","ship","speedboat","boat","sailboat","rowboat","anchor","rocket","airplane","helicopter","steam_locomotive","tram","mountain_railway","bike","aerial_tramway","suspension_railway","mountain_cableway","tractor","blue_car","oncoming_automobile","car","red_car","taxi","oncoming_taxi","articulated_lorry","bus","oncoming_bus","rotating_light","police_car","oncoming_police_car","fire_engine","ambulance","minibus","truck","train","station","train2","bullettrain_front","bullettrain_side","light_rail","monorail","railway_car","trolleybus","ticket","fuelpump","vertical_traffic_light","traffic_light","warning","construction","beginner","atm","slot_machine","busstop","barber","hotsprings","checkered_flag","crossed_flags","izakaya_lantern","moyai","circus_tent","performing_arts","round_pushpin","triangular_flag_on_post","jp","kr","cn","us","fr","es","it","ru","gb","uk","de","one","two","three","four","five","six","seven","eight","nine","keycap_ten","1234","zero","hash","symbols","arrow_backward","arrow_down","arrow_forward","arrow_left","capital_abcd","abcd","abc","arrow_lower_left","arrow_lower_right","arrow_right","arrow_up","arrow_upper_left","arrow_upper_right","arrow_double_down","arrow_double_up","arrow_down_small","arrow_heading_down","arrow_heading_up","leftwards_arrow_with_hook","arrow_right_hook","left_right_arrow","arrow_up_down","arrow_up_small","arrows_clockwise","arrows_counterclockwise","rewind","fast_forward","information_source","ok","twisted_rightwards_arrows","repeat","repeat_one","new","top","up","cool","free","ng","cinema","koko","signal_strength","u5272","u5408","u55b6","u6307","u6708","u6709","u6e80","u7121","u7533","u7a7a","u7981","sa","restroom","mens","womens","baby_symbol","no_smoking","parking","wheelchair","metro","baggage_claim","accept","wc","potable_water","put_litter_in_its_place","secret","congratulations","m","passport_control","left_luggage","customs","ideograph_advantage","cl","sos","id","no_entry_sign","underage","no_mobile_phones","do_not_litter","non-potable_water","no_bicycles","no_pedestrians","children_crossing","no_entry","eight_spoked_asterisk","eight_pointed_black_star","heart_decoration","vs","vibration_mode","mobile_phone_off","chart","currency_exchange","aries","taurus","gemini","cancer","leo","virgo","libra","scorpius","sagittarius","capricorn","aquarius","pisces","ophiuchus","six_pointed_star","negative_squared_cross_mark","a","b","ab","o2","diamond_shape_with_a_dot_inside","recycle","end","on","soon","clock1","clock130","clock10","clock1030","clock11","clock1130","clock12","clock1230","clock2","clock230","clock3","clock330","clock4","clock430","clock5","clock530","clock6","clock630","clock7","clock730","clock8","clock830","clock9","clock930","heavy_dollar_sign","copyright","registered","tm","x","heavy_exclamation_mark","bangbang","interrobang","o","heavy_multiplication_x","heavy_plus_sign","heavy_minus_sign","heavy_division_sign","white_flower","100","heavy_check_mark","ballot_box_with_check","radio_button","link","curly_loop","wavy_dash","part_alternation_mark","trident","black_square","white_square","white_check_mark","black_square_button","white_square_button","black_circle","white_circle","red_circle","large_blue_circle","large_blue_diamond","large_orange_diamond","small_blue_diamond","small_orange_diamond","small_red_triangle","small_red_triangle_down","shipit"],this.allEmojiList=this.emojiList.concat(this.options.customEmoji),this.emojiRegex=new RegExp(":("+this.allEmojiList.join("|")+"):","g")}return M(a,[{key:"process",value:function(){var a=this;return this.output.replace(this.emojiRegex,function(b,c){return ejs.template.emoji(c,a.options)||'<span class="emoticon emoticon-'+c+'" title=":'+c+':"></span>'})}}]),a}(),ba=function(){function a(b,c){L(this,a),this.input=" "+b+" ";var d=[{text:" :) ",code:"&#xe60a"},{text:" :D ",code:"&#xe608"},{text:" :d ",code:"&#xe608"},{text:" :( ",code:"&#xe60e"},{text:" :/ ",code:"&#xe620"},{text:" :P ",code:"&#xe60c"},{text:" :p ",code:"&#xe60c"},{text:" 3:) ",code:"&#xe618"},{text:" (^) ",code:"&#xe607"},{text:" ;) ",code:"&#xe610"},{text:" :o ",code:"&#xe61a"},{text:" -_- ",code:"&#xe61e"},{text:" (y) ",code:"&#xe606"},{text:" :* ",code:"&#xe604"},{text:" &lt;3 ",code:"&#xe604"},{text:" <3 ",code:"&#xe604"},{text:" &lt;/3 ",code:"&#xe605"},{text:" </3 ",code:"&#xe605"},{text:" ^_^ ",code:"&#xe612"},{text:" 8-) ",code:"&#xe614"},{text:" 8| ",code:"&#xe614"},{text:" :S ",code:"&#xe61c"},{text:" :s ",code:"&#xe61c"}];this.icons=c.customFontIcons.length?c.customFontIcons:d,this.EscapedSymbols=this.icons.map(function(a){return""+r(a.text)}),this.smileyRegex=new RegExp("("+this.EscapedSymbols.join("|")+")","g")}return M(a,[{key:"process",value:function(){var a=this,b=this.input.replace(this.smileyRegex,function(b,c){var d=a.EscapedSymbols.indexOf(r(c)),e=a.icons[d].code;return ejs.template.smiley(c,e,a.options)||' <span class="icon-emoticon" title="'+c+'">'+e+"</span> "});return b.substring(1,b.length-1)}}]),a}(),ca=function(){function a(b,c){L(this,a),this.input=b,this.options=c,this.urlRegex=z()}return M(a,[{key:"process",value:function(){var a=this,b=this.options.linkOptions;return this.input.replace(this.urlRegex,function(c){var d=c.split(".")[c.split(".").length-1];return c="/"==c[c.length-1]?c.slice(0,-1):c,-1===b.exclude.indexOf(d)?ejs.template.url(c,a.options)||'<a href="'+p(c)+'" rel="'+b.rel+'" target="'+b.target+'">'+c+"</a>":c})}}]),a}();!function(){function a(a){if("string"!=typeof a&&(a=a.toString()),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(a))throw new TypeError("Invalid character in header field name");return a.toLowerCase()}function b(a){return"string"!=typeof a&&(a=a.toString()),a}function c(a){this.map={},a instanceof c?a.forEach(function(a,b){this.append(b,a)},this):a&&Object.getOwnPropertyNames(a).forEach(function(b){this.append(b,a[b])},this)}function d(a){return a.bodyUsed?Promise.reject(new TypeError("Already read")):void(a.bodyUsed=!0)}function e(a){return new Promise(function(b,c){a.onload=function(){b(a.result)},a.onerror=function(){c(a.error)}})}function f(a){var b=new FileReader;return b.readAsArrayBuffer(a),e(b)}function g(a){var b=new FileReader;return b.readAsText(a),e(b)}function h(){return this.bodyUsed=!1,this._initBody=function(a){if(this._bodyInit=a,"string"==typeof a)this._bodyText=a;else if(n.blob&&Blob.prototype.isPrototypeOf(a))this._bodyBlob=a;else if(n.formData&&FormData.prototype.isPrototypeOf(a))this._bodyFormData=a;else{if(a)throw new Error("unsupported BodyInit type");this._bodyText=""}},n.blob?(this.blob=function(){var a=d(this);if(a)return a;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(f)},this.text=function(){var a=d(this);if(a)return a;if(this._bodyBlob)return g(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var a=d(this);return a?a:Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(k)}),this.json=function(){return this.text().then(JSON.parse)},this}function i(a){var b=a.toUpperCase();return o.indexOf(b)>-1?b:a}function j(a,b){if(b=b||{},this.url=a,this.credentials=b.credentials||"omit",this.headers=new c(b.headers),this.method=i(b.method||"GET"),this.mode=b.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&b.body)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(b.body)}function k(a){var b=new FormData;return a.trim().split("&").forEach(function(a){if(a){var c=a.split("="),d=c.shift().replace(/\+/g," "),e=c.join("=").replace(/\+/g," ");b.append(decodeURIComponent(d),decodeURIComponent(e))}}),b}function l(a){var b=new c,d=a.getAllResponseHeaders().trim().split("\n");return d.forEach(function(a){var c=a.trim().split(":"),d=c.shift().trim(),e=c.join(":").trim();b.append(d,e)}),b}function m(a,b){b||(b={}),this._initBody(a),this.type="default",this.url=null,this.status=b.status,this.ok=this.status>=200&&this.status<300,this.statusText=b.statusText,this.headers=b.headers instanceof c?b.headers:new c(b.headers),this.url=b.url||""}if(!self.fetch){c.prototype.append=function(c,d){c=a(c),d=b(d);var e=this.map[c];e||(e=[],this.map[c]=e),e.push(d)},c.prototype["delete"]=function(b){delete this.map[a(b)]},c.prototype.get=function(b){var c=this.map[a(b)];return c?c[0]:null},c.prototype.getAll=function(b){return this.map[a(b)]||[]},c.prototype.has=function(b){return this.map.hasOwnProperty(a(b))},c.prototype.set=function(c,d){this.map[a(c)]=[b(d)]},c.prototype.forEach=function(a,b){Object.getOwnPropertyNames(this.map).forEach(function(c){this.map[c].forEach(function(d){a.call(b,d,c,this)},this)},this)};var n={blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(a){return!1}}(),formData:"FormData"in self},o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];h.call(j.prototype),h.call(m.prototype),self.Headers=c,self.Request=j,self.Response=m,self.fetch=function(a,b){var c;return c=j.prototype.isPrototypeOf(a)&&!b?a:new j(a,b),new Promise(function(a,b){function d(){return"responseURL"in e?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):void 0;
}var e=new XMLHttpRequest;e.onload=function(){var c=1223===e.status?204:e.status;if(100>c||c>599)return void b(new TypeError("Network request failed"));var f={status:c,statusText:e.statusText,headers:l(e),url:d()},g="response"in e?e.response:e.responseText;a(new m(g,f))},e.onerror=function(){b(new TypeError("Network request failed"))},e.open(c.method,c.url,!0),"include"===c.credentials&&(e.withCredentials=!0),"responseType"in e&&n.blob&&(e.responseType="blob"),c.headers.forEach(function(a,b){e.setRequestHeader(b,a)}),e.send("undefined"==typeof c._bodyInit?null:c._bodyInit)})},self.fetch.polyfill=!0}}();var da={timeout:5e3,jsonpCallback:"callback"},ea=function(a){var b=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],c=null!=b.timeout?b.timeout:da.timeout,d=null!=b.jsonpCallback?b.jsonpCallback:da.jsonpCallback,e=void 0;return new Promise(function(b,f){var g=A();window[g]=function(a){b({ok:!0,json:function(){return Promise.resolve(a)}}),e&&clearTimeout(e),C(d+"_"+g),B(g)},a+=-1===a.indexOf("?")?"?":"&";var h=document.createElement("script");h.setAttribute("src",a+d+"="+g),h.id=d+"_"+g,document.getElementsByTagName("head")[0].appendChild(h),e=setTimeout(function(){f(new Error("JSONP request to "+a+" timed out")),B(g),C(d+"_"+g)},c)})};window.fetchJsonp=ea;var fa=function(){var a=K(V.mark(function b(a,c){var d,e,f,g;return V.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(V){b.next=2;break}return b.abrupt("return",a.output);case 2:d=a.options.link?new RegExp("([^>]*"+a.regex.source+")</a>","gi"):new RegExp("([^\\s]*"+a.regex.source+")","gi"),e=void 0;case 4:if(null===(e=u(d,a.output))){b.next=21;break}if(f=(a.options.link?e[0].slice(0,-4):e[0])||e[1],-1===a.options.served.indexOf(f)){b.next=8;break}return b.abrupt("continue",4);case 8:return b.next=10,c(a,e,f);case 10:if(g=b.sent){b.next=13;break}return b.abrupt("continue",4);case 13:if(a.options.served.push(f),!a.options.link){b.next=18;break}return b.abrupt("return",a.options.inlineText?a.output.replace(e[0],e[0]+g):a.output.replace(e[0],g+"</a>"));case 18:return b.abrupt("return",a.options.inlineText?a.output.replace(e[0],e[0]+g):a.output.replace(e[0],g));case 19:b.next=4;break;case 21:return b.abrupt("return",a.output);case 22:case"end":return b.stop()}},b,this)}));return function(b,c){return a.apply(this,arguments)}}(),ga=function(){var a=K(V.mark(function b(a,c){var d,e,f;return V.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(V){b.next=2;break}return b.abrupt("return",a.output);case 2:d=void 0;case 3:if(null===(d=u(a.regex,a.input))){b.next=16;break}if(e=d[0],-1!==!a.options.served.indexOf(e)){b.next=7;break}return b.abrupt("continue",3);case 7:return b.next=9,c(a,d,e,!0);case 9:if(f=b.sent){b.next=12;break}return b.abrupt("continue",3);case 12:a.options.served.push(e),a.embeds.push({text:f,index:d.index}),b.next=3;break;case 16:return b.abrupt("return",a.embeds);case 17:case"end":return b.stop()}},b,this)}));return function(b,c){return a.apply(this,arguments)}}(),ha=function(){function a(b,c,d,e){L(this,a),this.input=b,this.output=c,this.options=d,this.embeds=e,this.regex=/https:\/\/twitter\.com\/\w+\/\w+\/\d+/gi,this.service="twitter",this.load=this.load.bind(this),this.options.element.addEventListener("rendered",this.load,!1)}return M(a,[{key:"tweetData",value:function(){var a=K(regeneratorRuntime.mark(function b(a){var c,d,e;return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c=this.options.tweetOptions,d="https://api.twitter.com/1/statuses/oembed.json?omit_script=true&url="+a+"&maxwidth="+c.maxWidth+"&hide_media="+c.hideMedia+"&hide_thread="+c.hideThread+"&align="+c.align+"&lang="+c.lang,b.next=4,ea(d,{credentials:"include"});case 4:return e=b.sent,b.next=7,e.json();case 7:return b.abrupt("return",b.sent);case 8:case"end":return b.stop()}},b,this)}));return function(b){return a.apply(this,arguments)}}()},{key:"load",value:function(){var a=this;twttr.widgets.load(this.options.element),twttr.events.bind("loaded",function(){a.options.onTweetsLoad()})}},{key:"process",value:function(){var b=K(regeneratorRuntime.mark(function c(){return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(b.prev=0,w(this.options,this.service)){b.next=7;break}return b.next=4,fa(this,a.urlToText);case 4:this.output=b.sent,b.next=10;break;case 7:return b.next=9,ga(this,a.urlToText);case 9:this.embeds=b.sent;case 10:return b.abrupt("return",[this.output,this.embeds]);case 13:return b.prev=13,b.t0=b["catch"](0),b.abrupt("return",[this.output,this.embeds]);case 16:case"end":return b.stop()}},c,this,[[0,13]])}));return function(){return b.apply(this,arguments)}}()}],[{key:"urlToText",value:function(){var a=K(regeneratorRuntime.mark(function b(a,c,d){var e;return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,a.tweetData(d);case 2:return e=b.sent,b.abrupt("return",e.html);case 4:case"end":return b.stop()}},b,this)}));return function(b,c,d){return a.apply(this,arguments)}}()}]),a}(),ia=function(){function a(b,c,d,e){L(this,a),this.input=b,this.output=c,this.options=d,this.embeds=e,this.service="map",this.regex=/@\((.+)\)/gi}return M(a,[{key:"process",value:function(){var b=K(regeneratorRuntime.mark(function c(){var b,d,e=this;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:b=void 0,d=regeneratorRuntime.mark(function f(){var c,d,g,h,i;return regeneratorRuntime.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if("place"===e.options.mapOptions.mode){f.next=6;break}return f.next=3,a.getCoordinate(b[0]);case 3:f.t0=f.sent,f.next=7;break;case 6:f.t0=[null,null];case 7:c=f.t0,d=P(c,2),g=d[0],h=d[1],i=a.template(b[0],g,h,e.options),w(e.options,e.service)?(e.embeds.push({text:i,index:b.index}),e.output=e.output.replace(e.regex,function(b){return'<span class="ejs-location">'+a.locationText(b)+"</span>"})):e.output=e.output.replace(e.regex,function(b){return'<span class="ejs-location">'+a.locationText(b)+"</span>"+i});case 13:case"end":return f.stop()}},f,e)});case 2:if(null===(b=u(this.regex,this.output))){c.next=6;break}return c.delegateYield(d(),"t0",4);case 4:c.next=2;break;case 6:return c.abrupt("return",[this.output,this.embeds]);case 7:case"end":return c.stop()}},c,this)}));return function(){return b.apply(this,arguments)}}()}],[{key:"getCoordinate",value:function(){var a=K(regeneratorRuntime.mark(function b(a){var c,d,e,f,g;return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c="http://maps.googleapis.com/maps/api/geocode/json?address="+a+"&sensor=false",b.next=3,fetch(c);case 3:return d=b.sent,b.next=6,d.json();case 6:return e=b.sent,f=e.results[0].geometry.location.lat,g=e.results[0].geometry.location.lng,b.abrupt("return",[f,g]);case 10:case"end":return b.stop()}},b,this)}));return function(b){return a.apply(this,arguments)}}()},{key:"template",value:function(a,b,c,d){var e=a.split("(")[1].split(")")[0],f=d.mapOptions,g=x(d);return"place"===f.mode?'<div class="ejs-embed ejs-map"><iframe width="'+g.width+'" height="'+g.height+'" src="https://www.google.com/maps/embed/v1/place?key='+d.googleAuthKey+"&q="+e+'"></iframe></div>':"streetview"===f.mode?'<div class="ejs-embed ejs-map"><iframe width="'+g.width+'" height="'+g.height+'" src="https://www.google.com/maps/embed/v1/streetview?key='+d.googleAuthKey+"&location="+b+","+c+'&heading=210&pitch=10&fov=35"></iframe></div>':"view"===f.mode?'<div class="ejs-embed ejs-map"><iframe width="'+g.width+'" height="'+g.height+'" src="https://www.google.com/maps/embed/v1/view?key='+d.googleAuthKey+"&center="+b+","+c+'&zoom=18&maptype=satellite"></iframe></div>':void 0}},{key:"locationText",value:function(a){return a.split("(")[1].split(")")[0]}}]),a}(),ja=function(){function a(b,c){if(L(this,a),!window.marked)throw new ReferenceError("marked.js is not loaded.");this.output=b,this.options=c,this.process()}return M(a,[{key:"process",value:function(){var a=this,b=new marked.Renderer;return b.code=function(a){var b=window.hljs?hljs.highlightAuto(a):{value:a},c=window.hljs?b.language:"";return'<pre><code class="ejs-code hljs '+c+'">'+b.value+"</code></pre>"},b.link=function(b,c,d){return-1===b.indexOf("&lt;/a")?b:b.match(/&gt;(.+)&lt;\/a/gi)?(c||(c=""),'<a href="'+RegExp.$1+'" rel='+a.options.linkOptions.rel+'" target="'+a.options.linkOptions.target+'" title="'+c+'">'+d+"</a>"):void 0},b.image=function(a,b,c){return-1===a.indexOf("&lt;/a")?a:a.match(/&gt;(.+)&lt;\/a/gi)?(b||(b=""),'<div class="ejs-image ejs-embed"><div class="ne-image-wrapper"><img src="'+RegExp.$1+'" title="'+b+'" alt="'+c+'"/></div></div>'):void 0},b.paragraph=function(a){return"<p> "+a+" </p>"},marked.Lexer.rules.gfm.heading=marked.Lexer.rules.normal.heading,marked.Lexer.rules.tables.heading=marked.Lexer.rules.normal.heading,this.options.markedOptions.renderer=b,marked(this.output,this.options.markedOptions)}}]),a}(),ka=function(){function a(b,c){if(L(this,a),!hljs)throw new ReferenceError("'hljs is not defined. HighlightJS library is needed to highlight code. Visit https://highlightjs.org/'");this.output=b,this.options=c,this.regex=/(`{3})(\s|[a-z]+)\s*([\s\S]*?[^`])\s*\1(?!`)/gm,this.inlineCodeRegex=/(`)\s*([\s\S]*?[^`])\s*\1(?!`)/gm}return M(a,[{key:"process",value:function(){return this.output=this.output.replace(this.inlineCodeRegex,function(a,b,c){return"<code>"+c+"</code>"}),this.output.replace(this.regex,function(b,c,d,e){var f=e;f=a.trimSpace(f),f=a.encode(f),f=f.replace(/:\/\//g,"~P");var g=d.split("\n")[0],h=void 0;return g?h=hljs.highlightAuto(f,[g]):(h=hljs.highlightAuto(f),g=h.language),a.addTemplate(h,g)})}}],[{key:"encode",value:function(a){return a=a.replace(/&amp;/gm,""),a=a.replace(/&lt;/g,"<"),a=a.replace(/&gt;/g,">")}},{key:"trimSpace",value:function(a){return a=a.replace(/^([ \t]*)/g,""),a=a.replace(/[ \t]*$/g,"")}},{key:"addTemplate",value:function(a,b){return'<pre><code class="ejs-code hljs '+b+'">'+a.value+"</code></pre>"}}]),a}(),la=function(){function a(b,c,d,e){L(this,a),this.input=b,this.output=c,this.options=d,this.embeds=e}return M(a,[{key:"process",value:function(){var a=this;if(w(this.options,this.service)){for(var b=void 0;null!==(b=u(this.regex,this.input));)if(-1===this.options.served.indexOf(b[0])){var c=this.template(b[0]);this.embeds.push({text:c,index:b.index})}}else{var d=this.options.link?new RegExp("([^>]*"+this.regex.source+")</a>","gm"):new RegExp("([^\\s]*"+this.regex.source+")","gm");this.output=this.output.replace(d,function(b){var c=a.options.link?b.slice(0,-4):b;return-1===a.options.served.indexOf(c)?(a.options.served.push(c),a.options.link?a.options.inlineText?b+a.template(b.slice(0,-4)):a.template(b.slice(0,-4))+"</a>":a.options.inlineText?b+a.template(b):a.template(b)):c})}return[this.output,this.embeds]}}]),a}(),ma=function(a){function b(a,c,d,e){L(this,b);var f=O(this,Object.getPrototypeOf(b).call(this,a,c,d,e));return f.regex=/ideone.com\/[a-zA-Z0-9]{6}/gi,f.service="ideone",f}return N(b,a),M(b,[{key:"template",value:function(a){return ejs.template.ideone(a,this.options)||'<div class="ejs-ideone ejs-embed"><iframe src="http://ideone.com/embed/'+a.split("/")[1]+'" frameborder="0" height="'+this.options.codeEmbedHeight+'"></iframe></div>'}}]),b}(la),na=function(a){function b(a,c,d,e){L(this,b);var f=O(this,Object.getPrototypeOf(b).call(this,a,c,d,e));return f.regex=/plnkr.co\/edit\/[a-zA-Z0-9\?=]+/gi,f.service="plunker",f}return N(b,a),M(b,[{key:"template",value:function(a){var b=a.split("?")[0].split("/"),c=b[b.length-1];return ejs.template.plunker(c,this.options)||'<div class="ejs-embed ejs-plunker">\n		<iframe class="ne-plunker" src="http://embed.plnkr.co/'+c+'" height="'+this.options.codeEmbedHeight+'"></iframe>\n		</div>'}}]),b}(la),oa=function(a){function b(a,c,d,e){L(this,b);var f=O(this,Object.getPrototypeOf(b).call(this,a,c,d,e));return f.regex=/jsbin.com\/[a-zA-Z0-9_]+\/[0-9_]+/gi,f.service="jsbin",f}return N(b,a),M(b,[{key:"template",value:function(a){return ejs.template.jsBin(a,this.options)||'<div class="ejs-jsbin ejs-embed">\n		<iframe height="'+this.options.codeEmbedHeight+'" class="jsbin-embed foo" src="http://'+a+'/embed?html,js,output"></iframe>\n		</div>'}}]),b}(la),pa=function(a){function b(a,c,d,e){L(this,b);var f=O(this,Object.getPrototypeOf(b).call(this,a,c,d,e));return f.regex=/http:\/\/codepen.io\/([A-Za-z0-9_]+)\/pen\/([A-Za-z0-9_]+)/gi,f.service="codepen",f}return N(b,a),M(b,[{key:"template",value:function(a){return ejs.template.codePen(a,this.options)||'<div class="ejs-embed ejs-codepen">\n			<iframe scrolling="no" height="'+this.options.codeEmbedHeight+'" src="'+a.replace(/\/pen\//,"/embed/")+"/?height="+this.options.codeEmbedHeight+'"></iframe>\n		</div>'}}]),b}(la),qa=function(a){function b(a,c,d,e){L(this,b);var f=O(this,Object.getPrototypeOf(b).call(this,a,c,d,e));return f.regex=/jsfiddle.net\/[a-zA-Z0-9_]+\/[a-zA-Z0-9_\/]+/gi,f.service="jsfiddle",f}return N(b,a),M(b,[{key:"template",value:function(a){return a="/"==a[a.length-1]?a.slice(0,-1):a,a=-1!==a.indexOf("//")?a:"//"+a,ejs.template.jsFiddle(a,this.options)||'<div class="ejs-embed ejs-jsfiddle"><iframe height="'+this.options.codeEmbedHeight+'" src="'+a+'/embedded"></iframe></div>'}}]),b}(la),ra=function(a){function b(a,c,d,e){L(this,b);var f=O(this,Object.getPrototypeOf(b).call(this,a,c,d,e));return f.regex=/gist.github.com\/[a-zA-Z0-9_-]+\/([a-zA-Z0-9]+)/g,f.service="gist",f.options.element.addEventListener("rendered",function(){f.load()}),f}return N(b,a),M(b,[{key:"template",value:function(a){return'<div class="ejs-gist" data-src="'+a+'"></div>'}},{key:"load",value:function(){for(var a=this.options.element.getElementsByClassName("ejs-gist"),b=0;b<a.length;b++){var c=document.createElement("iframe");c.setAttribute("width","100%"),c.id="ejs-gist-"+b;var d=a[b];d.innerHTML="",d.appendChild(c);var e=a[b].getAttribute("data-src");e=-1===e.indexOf("http")?"https://"+e:e;var f='<html><base target="_parent"/><body onload="parent.document.getElementById(\'ejs-gist-'+b+'\').style.height=parseInt(document.body.scrollHeight)+20+\'px\'"><script type="text/javascript" src="'+e+'.js"></script></body></html>',g=c.document;c.contentDocument?g=c.contentDocument:c.contentWindow&&(g=c.contentWindow.document),g.open(),g.writeln(f),g.close()}}}]),b}(la),sa=function(a){function b(a,c,d,e){L(this,b);var f=O(this,Object.getPrototypeOf(b).call(this,a,c,d,e));return f.regex=/ted.com\/talks\/[a-zA-Z0-9_]+/gi,f.service="ted",f}return N(b,a),M(b,[{key:"template",value:function(a){var b=x(this.options),c=a.split("/"),d=c[c.length-1];return ejs.template.ted(d,b,this.options)||'<div class="ejs-embed ejs-ted"><iframe src="http://embed.ted.com/talks/'+d+'.html" height="'+b.height+'" width="'+b.width+'"></iframe></div>'}}]),b}(la),ta=function(a){function b(a,c,d,e){L(this,b);var f=O(this,Object.getPrototypeOf(b).call(this,a,c,d,e));return f.regex=/dailymotion.com\/video\/[a-zA-Z0-9-_]+/gi,f.service="dailymotion",f}return N(b,a),M(b,[{key:"template",value:function(a){var b=x(this.options),c=a.split("/"),d=c[c.length-1];return ejs.template.dailymotion(d,b,this.options)||'<div class="ejs-video ejs-embed">\n		<iframe src="http://www.dailymotion.com/embed/video/'+d+'" height="'+b.height+'" width="'+b.width+'"></iframe>\n		</div>'}}]),b}(la),ua=function(a){function b(a,c,d,e){L(this,b);var f=O(this,Object.getPrototypeOf(b).call(this,a,c,d,e));return f.regex=/ustream.tv\/[a-z\/0-9]*/gi,f.service="ustream",f}return N(b,a),M(b,[{key:"template",value:function(a){var b=a.split("/");b.splice(1,0,"embed");var c=x(this.options);return ejs.template.ustream(b,c,this.options)||'<div class="ejs-embed ejs-ustream"><iframe src="//www.'+b.join("/")+'" height="'+c.height+'" width="'+c.width+'"></iframe></div>'}}]),b}(la),va=function(a){function b(a,c,d,e){L(this,b);var f=O(this,Object.getPrototypeOf(b).call(this,a,c,d,e));return f.regex=/liveleak.com\/view\?i=[a-zA-Z0-9_]+/gi,f.service="liveleak",f}return N(b,a),M(b,[{key:"template",value:function(a){var b=x(this.options);return ejs.template.liveLeak(a,b,this.options)||'<div class="ejs-video ejs-embed"><iframe src="http://www.liveleak.com/e/'+a.split("=")[1]+'" height="'+b.height+'" width="'+b.width+'"></iframe></div>'}}]),b}(la),wa=function(a){function b(a,c,d,e){L(this,b);var f=O(this,Object.getPrototypeOf(b).call(this,a,c,d,e));return f.regex=/vine.co\/v\/[a-zA-Z0-9]+/gi,f.service="vine",f}return N(b,a),M(b,[{key:"template",value:function(a){var b=this.options.vineOptions,c=a.split("/"),d=c[c.length-1];return ejs.template.vine(d,this.options)||'<div class="ejs-vine">\n		<iframe class="ejs-vine-iframe" src="https://vine.co/v/'+d+"/embed/"+b.type+'" height="'+b.height+'" width="'+b.width+'"></iframe>\n		</div>'}}]),b}(la),xa=function(){function a(b,c,d,e){L(this,a),this.input=b,this.output=c,this.options=d,this.embeds=e,this.regex=/https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube\.com(?:\/embed\/|\/v\/|\/watch\?v=|\/ytscreeningroom\?v=|\/feeds\/api\/videos\/|\/user\S*[^\w\-\s]|\S*[^\w\-\s]))([\w\-]{11})[?=&+%\w-]*/gi,this.service="youtube"}return M(a,[{key:"data",value:function(){var a=K(regeneratorRuntime.mark(function b(a){var c,d,e;return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.prev=0,c="https://www.googleapis.com/youtube/v3/videos?id="+a+"&key="+this.options.googleAuthKey+"&part=snippet,statistics",b.next=4,fetch(c);case 4:return d=b.sent,b.next=7,d.json();case 7:return e=b.sent,b.abrupt("return",e.items[0]);case 11:b.prev=11,b.t0=b["catch"](0);case 14:case"end":return b.stop()}},b,this,[[0,11]])}));return function(b){return a.apply(this,arguments)}}()},{key:"process",value:function(){var b=K(regeneratorRuntime.mark(function c(){return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(b.prev=0,w(this.options,this.service)){b.next=7;break}return b.next=4,fa(this,a.urlToText);case 4:this.output=b.sent,b.next=10;break;case 7:return b.next=9,ga(this,a.urlToText);case 9:this.embeds=b.sent;case 10:b.next=15;break;case 12:b.prev=12,b.t0=b["catch"](0);case 15:return b.abrupt("return",[this.output,this.embeds]);case 16:case"end":return b.stop()}},c,this,[[0,12]])}));return function(){return b.apply(this,arguments)}}()}],[{key:"formatData",value:function(a,b){return{title:a.snippet.title,thumbnail:a.snippet.thumbnails.medium.url,rawDescription:a.snippet.description,views:a.statistics.viewCount,likes:a.statistics.likeCount,description:b(a.snippet.description,150),url:"https://www.youtube.com/watch?v="+a.id,id:a.id,host:"youtube"}}},{key:"urlToText",value:function(){var b=K(regeneratorRuntime.mark(function c(b,d,e,f){var g,h,i;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(g=f?d[1]:d[2],h="https://www.youtube.com/embed/"+g,i=void 0,!b.options.videoDetails){c.next=10;break}return c.next=6,b.data(g);case 6:return i=c.sent,c.abrupt("return",G(a.formatData(i,o),i,h));case 10:return c.abrupt("return",E(h,b.options));case 11:case"end":return c.stop()}},c,this)}));return function(a,c,d,e){return b.apply(this,arguments)}}()}]),a}(),ya=function(){function a(b,c,d,e){L(this,a),this.input=b,this.output=c,this.options=d,this.embeds=e,this.regex=/https?:\/\/(?:www\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|)(\d+)(?:$|\/|\?)*/gi,this.service="vimeo"}return M(a,[{key:"data",value:function(){var a=K(regeneratorRuntime.mark(function b(a){var c,d,e;return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.prev=0,c="https://vimeo.com/api/v2/video/"+a+".json",b.next=4,fetch(c);case 4:return d=b.sent,b.next=7,d.json();case 7:return e=b.sent,b.abrupt("return",e[0]);case 11:b.prev=11,b.t0=b["catch"](0);case 14:case"end":return b.stop()}},b,this,[[0,11]])}));return function(b){return a.apply(this,arguments)}}()},{key:"process",value:function(){var b=K(regeneratorRuntime.mark(function c(){return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(b.prev=0,w(this.options,this.service)){b.next=7;break}return b.next=4,fa(this,a.urlToText);case 4:this.output=b.sent,b.next=10;break;case 7:return b.next=9,ga(this,a.urlToText);case 9:this.embeds=b.sent;case 10:return b.abrupt("return",[this.output,this.embeds]);case 13:b.prev=13,b.t0=b["catch"](0);case 16:case"end":return b.stop()}},c,this,[[0,13]])}));return function(){return b.apply(this,arguments)}}()}],[{key:"formatData",value:function(a,b){return{title:a.title,thumbnail:a.thumbnail_medium,rawDescription:a.description.replace(/\n/g,"<br/>").replace(/&#10;/g,"<br/>"),views:a.stats_number_of_plays,likes:a.stats_number_of_likes,description:b(a.description.replace(/((<|&lt;)br\s*\/*(>|&gt;)\r\n)/g," "),150),url:a.url,id:a.id,host:"vimeo"}}},{key:"urlToText",value:function(){var b=K(regeneratorRuntime.mark(function c(b,d,e,f){var g,h,i;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(g=void 0,g=f?d[3]:b.options.link?d[0].slice(0,-4).split("/").slice(-1).pop():d[0].split("/").slice(-1).pop()){c.next=4;break}return c.abrupt("return");case 4:if(h="https://player.vimeo.com/video/"+g,i=void 0,!b.options.videoDetails){c.next=13;break}return c.next=9,b.data(g);case 9:return i=c.sent,c.abrupt("return",G(a.formatData(i,o),i,h));case 13:return c.abrupt("return",E(h,b.options));case 14:case"end":return c.stop()}},c,this)}));return function(a,c,d,e){return b.apply(this,arguments)}}()}]),a}(),za=function(a){function b(a,c,d,e){L(this,b);var f=O(this,Object.getPrototypeOf(b).call(this,a,c,d,e));return f.regex=/(?:https?):\/\/\S*\.(?:ogv|webm|mp4)/gi,f.service="video",f}return N(b,a),M(b,[{key:"template",value:function(a){return ejs.template.basicVideo(a,this.options)||'<div class="ejs-video ejs-embed">\n		<div class="ejs-video-player">\n		<div class="ejs-player">\n		<video src="'+a+'" class="ejs-video-js video-js" controls></video>\n		</div>\n		</div>\n		</div>'}}]),b}(la),Aa=function(a){function b(a,c,d,e){L(this,b);var f=O(this,Object.getPrototypeOf(b).call(this,a,c,d,e));return f.regex=/(soundcloud.com)\/[a-zA-Z0-9-_]+\/[a-zA-Z0-9-_]+/gi,f.service="soundcloud",f}return N(b,a),M(b,[{key:"template",value:function(a){var b=this.options.soundCloudOptions;return ejs.template.soundCloud(a,b,this.options)||'<div class="ejs-embed">\n		<iframe height="160" scrolling="no" src="https://w.soundcloud.com/player/?url='+a+"\n		&auto_play     = "+b.autoPlay+"\n		&hide_related  = "+b.hideRelated+"\n		&show_comments = "+b.showComments+"\n		&show_user     = "+b.showUser+"\n		&show_reposts  = "+b.showReposts+"\n		&visual        = "+b.visual+"\n		&download      = "+b.download+"\n		&color         = "+b.themeColor+"\n		&theme_color   = "+b.themeColor+'"></iframe>\n		</div>'}}]),b}(la),Ba=function(a){function b(a,c,d,e){L(this,b);var f=O(this,Object.getPrototypeOf(b).call(this,a,c,d,e));return f.regex=/spotify.com\/track\/[a-zA-Z0-9_]+/gi,f.service="spotify",f}return N(b,a),M(b,[{key:"template",value:function(a){var b=a.split("/"),c=b[b.length-1];return ejs.template.spotify(c,this.options)||'<div class="ejs-embed"><iframe src="https://embed.spotify.com/?uri=spotify:track:'+c+'" height="80"></iframe></div>'}}]),b}(la),Ca=function(a){function b(a,c,d,e){L(this,b);var f=O(this,Object.getPrototypeOf(b).call(this,a,c,d,e));return f.regex=/((?:https?):\/\/\S*\.(?:wav|mp3|ogg))/gi,f.service="audio",f}return N(b,a),M(b,[{key:"template",value:function(a){return ejs.template.basicAudio(a,this.options)||'<div class="ejs-audio ejs-embed"><audio src="'+a+'" controls class="video-js ejs-video-js"></audio></div>'}}]),b}(la),Da=function(a){function b(a,c,d,e){L(this,b);var f=O(this,Object.getPrototypeOf(b).call(this,a,c,d,e));return f.regex=/flickr.com\/[a-z]+\/[a-zA-Z@_$!\d\-\]+\/[\d]+/gi,f.service="flickr",f}return N(b,a),M(b,[{key:"template",value:function(a){var b=x(this.options);return ejs.template.flickr(a,b,this.options)||'<div class="ejs-embed">\n			<div class="ne-image-wrapper">\n				<iframe src="'+p(a.split("/?")[0])+'/player/" width="'+b.width+'" height="'+b.height+'"></iframe>\n			</div>\n		</div>'}}]),b}(la),Ea=function(a){function b(a,c,d,e){L(this,b);var f=O(this,Object.getPrototypeOf(b).call(this,a,c,d,e));return f.regex=/instagram.com\/p\/[a-zA-Z0-9_\/\?\-\=]+/gi,f.service="instagram",f}return N(b,a),M(b,[{key:"template",value:function(a){var b=x(this.options);return ejs.template.instagram(a,b,this.options)||'<div class="ejs-embed ejs-instagram"><iframe src="'+p(a.split("/?")[0])+'/embed/" height="'+b.height+'"></iframe></div>'}}]),b}(la),Fa=function(a){function b(a,c,d,e){L(this,b);var f=O(this,Object.getPrototypeOf(b).call(this,a,c,d,e));return f.regex=/((?:https?):\/\/\S*\.(?:gif|jpg|jpeg|tiff|png|svg|webp))/gi,f.service="image",f}return N(b,a),M(b,[{key:"template",value:function(a){return ejs.template.basicImage(a,this.options)||'<div class="ejs-image ejs-embed"><div class="ne-image-wrapper"><img src="'+a+'"/></div></div>'}}]),b}(la),Ga=function(){function a(b,c,d,e){L(this,a),this.input=b,this.output=c,this.options=d,this.embeds=e,this.regex=/slideshare.net\/[a-zA-Z0-9_-]*\/[a-zA-Z0-9_-]*/gi,this.service="slideshare"}return M(a,[{key:"template",value:function(a){return ejs.template.slideShare(a,this.options)||'<div class="ejs-embed ejs-slideshare">'+a+"</div>"}},{key:"process",value:function(){var b=K(regeneratorRuntime.mark(function c(){return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(w(this.options,this.service)){b.next=6;break}return b.next=3,fa(this,a.urlToText);case 3:this.output=b.sent,b.next=9;break;case 6:return b.next=8,ga(this,a.urlToText);case 8:this.embeds=b.sent;case 9:return b.abrupt("return",[this.output,this.embeds]);case 10:case"end":return b.stop()}},c,this)}));return function(){return b.apply(this,arguments)}}()}],[{key:"fetchData",value:function(){var a=K(regeneratorRuntime.mark(function b(a,c){var d,e,f,g;return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return d=x(a.options),e="http://www.slideshare.net/api/oembed/2?url="+c+"&format=jsonp&maxwidth="+d.width+"&maxheight="+d.height,b.next=4,ea(e,{credentials:"include"});case 4:return f=b.sent,b.next=7,f.json();case 7:return g=b.sent,b.abrupt("return",g.html);case 9:case"end":return b.stop()}},b,this)}));return function(b,c){return a.apply(this,arguments)}}()},{key:"urlToText",value:function(){var b=K(regeneratorRuntime.mark(function c(b,d,e){var f;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,a.fetchData(b,e);case 2:return f=c.sent,c.abrupt("return",b.template(f));case 4:case"end":return c.stop()}},c,this)}));return function(a,c,d){return b.apply(this,arguments)}}()}]),a}(),Ha=function(){function a(b,c,d,e){L(this,a),this.input=b,this.output=c,this.options=d,this.embeds=e,this.service="opengraph",this.excludeRegex=new RegExp([".mp4|.mp3|.gif|.pdf|.doc|.ppt|.docx|.jpg|.jpeg|.ogg"].concat(d.openGraphExclude).join("|"),"gi")}return M(a,[{key:"template",value:function(a){return ejs.template.openGraph(a,this.options)||'<div class="ejs-embed ejs-ogp">\n		<div class="ejs-ogp-thumb" style="background-image:url('+a.image+')"></div>\n		<div class="ejs-ogp-details">\n		<div class="ejs-ogp-title"><a href="'+a.url+'" target="'+this.options.linkOptions.target+'">'+a.title+'</a></div>\n		<div class="ejs-ogb-details">'+a.description+"</div></div></div>"}},{key:"fetchData",value:function(){var a=K(regeneratorRuntime.mark(function b(a){var c,d,e;return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.prev=0,a=encodeURIComponent(a),c=new Function("url","return `"+this.options.openGraphEndpoint+"`")(a),b.next=5,fetch(c);case 5:return d=b.sent,b.next=8,d.json();case 8:return e=b.sent,b.abrupt("return",this.options.onOpenGraphFetch(e)||e);case 12:b.prev=12,b.t0=b["catch"](0),this.options.onOpenGraphFail(b.t0);case 15:case"end":return b.stop()}},b,this,[[0,12]])}));return function(b){return a.apply(this,arguments)}}()},{key:"process",value:function(){var b=K(regeneratorRuntime.mark(function c(){var b,d,e,f;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(c.prev=0,b=void 0,this.regex=z(),w(this.options,this.service)){c.next=9;break}return c.next=6,fa(this,a.urlToText);case 6:this.output=c.sent,c.next=19;break;case 9:if(null===(b=u(this.regex,this.input))){c.next=19;break}if(d=b[0],a.ifProcessOGC(d,this.excludeRegex)){c.next=13;break}return c.abrupt("continue",9);case 13:return c.next=15,this.fetchData(d);case 15:e=c.sent,e&&e.success&&(f=this.template(e),this.embeds.push({text:f,index:b.index}),this.options.served.push(d)),c.next=9;break;case 19:return c.abrupt("return",[this.output,this.embeds]);case 22:c.prev=22,c.t0=c["catch"](0);case 25:case"end":return c.stop()}},c,this,[[0,22]])}));return function(){return b.apply(this,arguments)}}()}],[{key:"ifProcessOGC",value:function(a,b){return a.match(b)?!1:!0}},{key:"urlToText",value:function(){var b=K(regeneratorRuntime.mark(function c(b,d,e){var f;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(a.ifProcessOGC(e,b.excludeRegex)){c.next=2;break}return c.abrupt("return");case 2:return c.next=4,b.fetchData(e);case 4:return f=c.sent,c.abrupt("return",f&&f.success?b.template(f):null);case 6:case"end":return c.stop()}},c,this)}));return function(a,c,d){return b.apply(this,arguments)}}()}]),a}(),Ia=function(){function a(b,c,d,e){L(this,a),this.input=b,this.output=c,this.options=d,this.embeds=e,this.service="github",this.regex=/github.com\/([a-zA-Z0-9\.-]+)\/([a-zA-Z0-9\.-]+)/gi}return M(a,[{key:"process",value:function(){var b=K(regeneratorRuntime.mark(function c(){return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(w(this.options,this.service)){b.next=6;break}return b.next=3,fa(this,a.urlToText);case 3:this.output=b.sent,b.next=9;break;case 6:return b.next=8,ga(this,a.urlToText);case 8:this.embeds=b.sent;case 9:return b.abrupt("return",[this.output,this.embeds]);case 10:case"end":return b.stop()}},c,this)}));return function(){return b.apply(this,arguments)}}()}],[{key:"template",value:function(a,b){return ejs.template.Github(a,b)||'<div class="ejs-embed ejs-github">\n		<div class="ejs-ogp-thumb" style="background-image:url('+a.owner.avatar_url+')"></div>\n		<div class="ejs-ogp-details">\n		<div class="ejs-ogp-title"><a href="'+a.html_url+'" target="'+b.linkOptions.target+'">'+a.full_name+'</a></div>\n		<div class="ejs-ogb-details">'+a.description+'</div><div class="ejs-github-stats">\n        <span>\n        <i class="fa fa-star"></i>'+a.stargazers_count+'\n        </span>\n        <span>\n        <i class="fa fa-code-fork"></i>'+a.network_count+"\n        </span>\n        </div></div></div>"}},{key:"fetchRepo",value:function(){var a=K(regeneratorRuntime.mark(function b(a){var c,d;return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c="https://api.github.com/repos/"+a.user+"/"+a.repo,b.next=3,fetch(c);case 3:return d=b.sent,b.next=6,d.json();case 6:return b.abrupt("return",b.sent);case 7:case"end":return b.stop()}},b,this)}));return function(b){return a.apply(this,arguments)}}()},{key:"urlToText",value:function(){var b=K(regeneratorRuntime.mark(function c(b,d,e,f){var g,h;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(g=f?{user:d[1],repo:d[2]}:{user:d[2],repo:d[3]},g.repo){c.next=3;break}return c.abrupt("return");case 3:return c.next=5,a.fetchRepo(g);case 5:return h=c.sent,c.abrupt("return",a.template(h,b.options));case 7:case"end":return c.stop()}},c,this)}));return function(a,c,d,e){return b.apply(this,arguments)}}()}]),a}();!function(a){var b={},c={marked:!1,markedOptions:{},link:!0,linkOptions:{target:"self",exclude:["pdf"],rel:""},emoji:!0,customEmoji:[],fontIcons:!0,customFontIcons:[],highlightCode:!1,videoJS:!1,videojsOptions:{fluid:!0,preload:"metadata"},locationEmbed:!0,mapOptions:{mode:"place"},tweetsEmbed:!1,tweetOptions:{maxWidth:550,hideMedia:!1,hideThread:!1,align:"none",lang:"en"},openGraphEndpoint:null,openGraphExclude:[],
videoEmbed:!0,videoHeight:null,videoWidth:null,videoDetails:!0,audioEmbed:!0,excludeEmbed:[],inlineEmbed:[],inlineText:!0,codeEmbedHeight:500,vineOptions:{maxWidth:null,type:"postcard",responsive:!0,width:350,height:460},googleAuthKey:"",soundCloudOptions:{height:160,themeColor:"f50000",autoPlay:!1,hideRelated:!1,showComments:!0,showUser:!0,showReposts:!1,visual:!1,download:!1},videoClickClass:"ejs-video-thumb",customVideoClickHandler:!1,beforeEmbedJSApply:function(){},afterEmbedJSApply:function(){},onVideoShow:function(){},onTweetsLoad:function(){},videojsCallback:function(){},onOpenGraphFetch:function(){},onOpenGraphFail:function(){},videoClickHandler:function(){},served:[]},d=function(){function a(d,e){L(this,a);var f=y(c),g=y(b),h=q(f,g);if(this.options=q(h,d),!this.options.element&&!e)throw ReferenceError("You need to pass an element or the string that needs to be processed");this.options.element?(this.element=this.options.element,this.input=this.element.innerHTML):this.input=e}return M(a,[{key:"process",value:function(){var a=K(V.mark(function b(){var a,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,u,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,Q,R,S,T,U,W,X,Y,Z,$,_,da,ea,fa,ga,la;return V.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(a=this.input,c=this.options,d=[],e="",this.options.beforeEmbedJSApply(),c.link&&(e=new ca(a,c).process()),!c.openGraphEndpoint){b.next=13;break}return b.next=9,new Ha(a,e,c,d).process();case 9:f=b.sent,g=P(f,2),e=g[0],d=g[1];case 13:if(c.marked&&(e=new ja(e,c).process()),c.emoji&&(e=new aa(e,c).process()),c.fontIcons&&(e=new ba(e,c).process()),c.highlightCode&&!c.marked&&(e=new ka(e,c).process()),v(c,"ideone")&&(h=new ma(a,e,c,d).process(),i=P(h,2),e=i[0],d=i[1]),v(c,"plunker")&&(j=new na(a,e,c,d).process(),k=P(j,2),e=k[0],d=k[1]),v(c,"jsbin")&&(l=new oa(a,e,c,d).process(),m=P(l,2),e=m[0],d=m[1]),v(c,"codepen")&&(n=new pa(a,e,c,d).process(),o=P(n,2),e=o[0],d=o[1]),v(c,"jsfiddle")&&(p=new qa(a,e,c,d).process(),q=P(p,2),e=q[0],d=q[1]),v(c,"gist")&&(r=new ra(a,e,c,d).process(),s=P(r,2),e=s[0],d=s[1]),v(c,"ted")&&(u=new sa(a,e,c,d).process(),w=P(u,2),e=w[0],d=w[1]),v(c,"dailymotion")&&(x=new ta(a,e,c,d).process(),y=P(x,2),e=y[0],d=y[1]),v(c,"ustream")&&(z=new ua(a,e,c,d).process(),A=P(z,2),e=A[0],d=A[1]),v(c,"liveleak")&&(B=new va(a,e,c,d).process(),C=P(B,2),e=C[0],d=C[1]),c.videoEmbed&&(D=new za(a,e,c,d).process(),E=P(D,2),e=E[0],d=E[1]),v(c,"vine")&&(F=new wa(a,e,c,d).process(),G=P(F,2),e=G[0],d=G[1]),!v(c,"youtube")||!V){b.next=36;break}return b.next=32,new xa(a,e,c,d).process();case 32:H=b.sent,I=P(H,2),e=I[0],d=I[1];case 36:if(!v(c,"vimeo")){b.next=43;break}return b.next=39,new ya(a,e,c,d).process();case 39:J=b.sent,K=P(J,2),e=K[0],d=K[1];case 43:if(!v(c,"opengraph")){b.next=50;break}return b.next=46,new Ia(a,e,c,d).process();case 46:L=b.sent,M=P(L,2),e=M[0],d=M[1];case 50:if(!c.locationEmbed){b.next=57;break}return b.next=53,new ia(a,e,c,d).process();case 53:N=b.sent,O=P(N,2),e=O[0],d=O[1];case 57:if(v(c,"soundcloud")&&(Q=new Aa(a,e,c,d).process(),R=P(Q,2),e=R[0],d=R[1]),v(c,"spotify")&&(S=new Ba(a,e,c,d).process(),T=P(S,2),e=T[0],d=T[1]),c.audioEmbed&&(U=new Ca(a,e,c,d).process(),W=P(U,2),e=W[0],d=W[1]),v(c,"flickr")&&(X=new Da(a,e,c,d).process(),Y=P(X,2),e=Y[0],d=Y[1]),v(c,"instagram")&&(Z=new Ea(a,e,c,d).process(),$=P(Z,2),e=$[0],d=$[1]),!v(c,"slideshare")){b.next=69;break}return b.next=65,new Ga(a,e,c,d).process();case 65:_=b.sent,da=P(_,2),e=da[0],d=da[1];case 69:if(c.imageEmbed&&(ea=new Fa(a,e,c,d).process(),fa=P(ea,2),e=fa[0],d=fa[1]),!c.tweetsEmbed){b.next=78;break}return this.twitter=new ha(a,e,c,d),b.next=74,this.twitter.process();case 74:ga=b.sent,la=P(ga,2),e=la[0],d=la[1];case 78:return b.abrupt("return",t(e,d));case 79:case"end":return b.stop()}},b,this)}));return function(){return a.apply(this,arguments)}}()},{key:"render",value:function(){var a=K(V.mark(function b(){var a;return V.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(this.element){b.next=2;break}throw new Error("You didn't pass an element while creating this instance. render() method can't work without an element");case 2:return b.next=4,this.process();case 4:this.element.innerHTML=b.sent,H(this.options),D(this.options),a=new Event("rendered"),this.element.dispatchEvent(a),this.options.afterEmbedJSApply();case 10:case"end":return b.stop()}},b,this)}));return function(){return a.apply(this,arguments)}}()},{key:"text",value:function(){var a=K(V.mark(function b(a){var c;return V.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,this.process();case 2:c=b.sent,a(c,this.input);case 4:case"end":return b.stop()}},b,this)}));return function(b){return a.apply(this,arguments)}}()},{key:"destroy",value:function(){if(!this.element)throw new Error("destroy() method only if an element had been passed in the options object");I("ejs-video-thumb"),this.element.removeEventListener("rendered",this.twitter.load(),!1),this.element.innerHTML=this.input}}]),a}();a.ejs={instances:[],elements:[],setOptions:function(a){b=q(c,a)},applyEmbedJS:function(a){"."===a.charAt(0)&&(a=a.substr(1)),this.elements=document.getElementsByClassName(a);for(var b=0;b<this.elements.length;b++){var c={element:this.elements[b]};this.instances[b]=new d(c),this.instances[b].render()}},destroyEmbedJS:function(){for(var a=0;a<this.elements.length;a++)this.instances[a].destroy()},template:{url:function(){},smiley:function(){},emoji:function(){},basicAudio:function(){},soundCloud:function(){},spotify:function(){},codePen:function(){},ideone:function(){},jsBin:function(){},jsFiddle:function(){},plunker:function(){},basicImage:function(){},flickr:function(){},instagram:function(){},basicVideo:function(){},dailymotion:function(){},liveLeak:function(){},ted:function(){},ustream:function(){},detailsVimeo:function(){},detailsYoutube:function(){},vine:function(){},vimeo:function(){},youtube:function(){},openGraph:function(){},Github:function(){},slideShare:function(){}}},a.EmbedJS=d}(window)});