/*
SPF 23 (v2.3.0)
(c) 2012-2015 Google, Inc.
License: MIT
*/
/**
 * https://github.com/google/tracing-framework
 * Copyright 2013 Google, Inc. All Rights Reserved.
 * Use of this source code is governed by a BSD-style license that can be
 * found at https://github.com/google/tracing-framework/blob/master/LICENSE.
 */
(function(){function aa(a){return a};function f(a,b,c){var d=Array.prototype.slice.call(arguments,2);return function(){var c=d.slice();c.push.apply(c,arguments);return a.apply(b,c)}}function ba(){};function k(a,b){for(var c=0,d=a.length;c<d;c++)c in a&&b.call(void 0,a[c],c,a)}function m(a,b){for(var c=0,d=a.length;c<d;c++)if(c in a&&!b.call(void 0,a[c],c,a))return!1;return!0}function ca(a,b){for(var c=0,d=a.length;c<d;c++)if(c in a&&b.call(void 0,a[c],c,a))return!0;return!1}function da(a,b){var c=[];k(a,function(a,e,g){b.call(void 0,a,e,g)&&c.push(a)});return c}function n(a){return a&&a.push?a:[a]};function ea(a,b){var c=b||document;return c.querySelectorAll?c.querySelectorAll(a):[]}function fa(a,b){var c=document,d=c.createElement("iframe");d.id=a||"";d.src='javascript:""';d.style.display="none";b&&(d.onload=f(b,null,d));c.body.appendChild(d);return d};function ga(a,b){if(b){if(a.classList)return a.classList.contains(b);var c=a.classList?a.classList:a.className&&a.className.match(/\S+/g)||[];return ca(c,function(a){return a==b})}return!1};function p(a,b){return q[a]=b}var q=window._spf_state||{};window._spf_state=q;function ha(a,b){a&&b&&(a in r||(r[a]=[]),r[a].push(b))}function ia(a,b){a in r&&b&&m(r[a],function(a,d,e){return a==b?(e[d]=null,!1):!0})}function ja(a){a in r&&k(r[a],function(a,c,d){d[c]=null;a&&a()})}var r={};p("ps-s",r);var ka=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^\s+|\s+$/g,"")};var t={};"config"in q||p("config",t);t=q.config;var la=!!this.wtf&&2==this.wtf.trace.API_VERSION,ma=la?this.wtf.trace.instrument:aa;function na(a){return a}var u=!window._spf_tracing_runtime_disabled&&la?ma:na;function v(a,b,c){var d=w[a];return a&&b?(d||(d=w[a]=x()),a=y(b,c||0),d.items.push(a)):d&&d.items.length||0}function z(a,b){var c=w[a];if(c){var d=!!c.b||!!c.a;0<c.c&&(b||!d)&&A(a,b)}}function oa(a){(a=w[a])&&a.c--}function pa(a,b){var c=w[a];c&&(c.c++,z(a,b))}function B(a){var b=w[a];b&&(qa(b),delete w[a])}function ra(a,b){var c=a||"",d;for(d in w)b!=d&&0==d.lastIndexOf(c,0)&&B(d)}function sa(a){var b=parseInt(q.uid,10)||0;b++;return a["spf-key"]||(a["spf-key"]=""+p("uid",b))}
function A(a,b){var c=w[a];if(c&&(qa(c),0<c.c&&c.items.length)){var d=c.items[0];if(d){var e=f(function(a,b){b();a()},null,f(A,null,a,b));b?(c.items.shift(),e(d.e)):ta(c,d,e)}}}function ta(a,b,c){b.d?(c=f(c,null,ba),a.a=setTimeout(c,b.d),b.d=0):(a.items.shift(),c=f(c,null,b.e),(b=(b=t["advanced-task-scheduler"])&&b.addTask)?a.b=b(c):a.a=setTimeout(c,0))}function qa(a){if(a.b){var b=t["advanced-task-scheduler"];(b=b&&b.cancelTask)&&b(a.b);a.b=0}a.a&&(clearTimeout(a.a),a.a=0)}
function x(){return{items:[],b:0,a:0,c:1}}function y(a,b){return{e:a,d:b}}var w={},v=u(v,"spf.tasks.add"),z=u(z,"spf.tasks.run"),oa=u(oa,"spf.tasks.suspend"),pa=u(pa,"spf.tasks.resume"),B=u(B,"spf.tasks.cancel"),ra=u(ra,"spf.tasks.cancelAllExcept"),sa=u(sa,"spf.tasks.key"),A=u(A,"spf.tasks.do_"),x=u(x,"spf.tasks.createQueue_"),y=u(y,"spf.tasks.createTask_");function ua(a){var b=document.createElement("a");b.href=a;b.href=b.href;return b.href.split("#")[0]};var va;function C(a,b,c,d){b=D(a,b);var e=c||"^"+b,g=E(a,e),l;l=E(a,b);if((l=F[l])&&e!=l){G(a,l);var h=E(a,b);delete F[h];(h=E(a,l))&&g&&h in r&&(r[g]=(r[g]||[]).concat(r[h]),delete r[h])}h=E(a,b);F[h]=e;H(a,e,b);ha(g,d);d=f(I,null,a);J(a,b)?(l&&e!=l&&(a=wa(a,b))&&a.setAttribute("name",c||""),d()):(a=K(a,b,d,void 0,void 0,void 0))&&c&&a.setAttribute("name",c)}
function L(a,b){var c=M(a,b);G(a,b);if(c){var d=E(a,c);delete F[d]}d=E(a,b);delete r[d];d=a==N;if(c){var d=d?"spfjsunload":"spfcssunload",e={name:b,url:c};if(document.createEvent){var g=document.createEvent("CustomEvent");g.initCustomEvent(d,!0,!0,e);document.dispatchEvent(g)}O(a,c)}}function I(a){var b=E(a,""),c;for(c in r)0==c.indexOf(b)&&m(c.substring(b.length).split("|"),f(P,null,a))&&ja(c)}
function K(a,b,c,d,e){function g(){J(a,b,e)&&Q(R,a,b,e);h&&h.parentNode&&l==document&&h.parentNode.removeChild(h);c&&setTimeout(c,0);return null}b=D(a,b);Q(xa,a,b,e);var l=d||document,h=l.createElement("script");if(!b)return g();d=S(b);h.className=E(a,d);"onload"in h?h.onerror=h.onload=g:h.onreadystatechange=function(){/^c|loade/.test(h.readyState)&&g()};d=l.getElementsByTagName("head")[0]||l.body;h.async=!0;h.src=b;d.insertBefore(h,d.firstChild);return h}
function O(a,b,c){b=D(a,b);(c=wa(a,b,c))&&c.parentNode&&c.parentNode.removeChild(c);ya(a,b)}function wa(a,b,c){b=S(b);a="."+E(a,b);return ea(a,c)[0]}function za(a){var b=a==N,c=[];k(ea(b?"script[src]":'link[rel~="stylesheet"]'),function(d){var e=b?d.src:d.href,e=D(a,e);if(!J(a,e)){Q(R,a,e);var g=S(e);if(g=E(a,g))d.classList?d.classList.add(g):ga(d,g)||(d.className+=" "+g);if(g=d.getAttribute("name")){var l=E(a,e);F[l]=g;H(a,g,e)}c.push(d)}});return c}
function Aa(a,b,c){if(b&&(b=D(a,b),c||!J(a,b)))if(c&&a==Ba)Ca(b);else{var d=S(b),e=E(a,d),g=E(a,"prefetch"),d=document.getElementById(g);if(!d)d=fa(g,function(a){a.title=g;z(g,!0)});else if(!c&&d.contentWindow.document.getElementById(e))return;a=f(Da,null,d,a,b,e,g);d.title?a():v(g,a)}}
function Da(a,b,c,d,e){var g=b==N,l=b==Ea;a=a.contentWindow.document;var h=a.getElementById(d);h&&h.parentNode.removeChild(h);g?(h=a.createElement("object"),Fa?a.createElement("script").src=c:h.data=c,h.id=d,a.body.appendChild(h)):l?(h=K(b,c,null,a,e),h.id=d):(h=a.createElement("img"),Fa&&(c=c+"#"+(new Date).getTime()),h.src=c,h.id=d,a.body.appendChild(h))}function Ca(a){var b=new Image;Fa&&(a=a+"#"+(new Date).getTime());b.src=a}
function Ga(a,b,c){for(var d=a==N,e=M(a,c),g=b.replace(/\s/g,""),g=g||"",l=0,h=0,Xa=g.length;h<Xa;++h)l=31*l+g.charCodeAt(h),l%=4294967296;g="hash-"+l;H(a,c,g);!T(a,g)&&(b=Ha(a,b))&&(Q(R,a,g),b&&!d&&(d=S(g),d=E(a,d),b.className=d,b.setAttribute("name",c)),(e=e&&e[0])&&O(a,e))}
function Ha(a,b){b=ka(b);if(!b)return null;var c=document.getElementsByTagName("head")[0]||document.body,d;a==N?(d=document.createElement("script"),d.text=b,c.appendChild(d),c.removeChild(d)):(d=document.createElement("style"),c.appendChild(d),"styleSheet"in d?d.styleSheet.cssText=b:d.appendChild(document.createTextNode(b)));return d}function Ia(a,b){p("rsrc-p-"+a,b)}
function D(a,b){var c="rsrc-p-"+a;if(b){var d=b.indexOf("//");if(0>d){if(0==b.lastIndexOf("hash-",0))return b;c=q[c]||"";if("string"==typeof c)b=c+b;else for(var e in c)b=b.replace(e,c[e]);a!=Ba&&(b=0>b.indexOf("."+a)?b+"."+a:b);b=ua(b)}else 0==d&&(b=ua(b))}return b}function E(a,b,c){return a+"-"+b+(c?"-"+c:"")}function S(a){return a?String(a).replace(/[^\w]/g,""):""}function Q(a,b,c,d){b=E(b,c,d);U[b]=a}function J(a,b,c){a=E(a,b,c);return U[a]}function ya(a,b){var c=E(a,b);delete U[c]}
function T(a,b){var c=J(a,b);return""==b||c==R}function H(a,b,c){a=E(a,b);V[a]=c}function M(a,b){var c=E(a,b);return V[c]}function G(a,b){var c=E(a,b);delete V[c]}function P(a,b){var c=M(a,b);return void 0!=c&&T(a,c)}var U={},F={},V={},Fa=-1!=navigator.userAgent.indexOf(" Trident/"),xa=1,R=2,Ea="css",Ba="img",N="js";p("rsrc-s",U);p("rsrc-n",F);p("rsrc-u",V);C=u(C,"spf.net.resource.load");L=u(L,"spf.net.resource.unload");va=u(va,"spf.net.resource.unload_");I=u(I,"spf.net.resource.check");K=u(K,"spf.net.resource.create");
O=u(O,"spf.net.resource.destroy");za=u(za,"spf.net.resource.discover");Aa=u(Aa,"spf.net.resource.prefetch");Da=u(Da,"spf.net.resource.prefetch_");Ga=u(Ga,"spf.net.resource.eval");Ha=u(Ha,"spf.net.resource.exec");Ia=u(Ia,"spf.net.resource.path");D=u(D,"spf.net.resource.canonicalize");E=u(E,"spf.net.resource.key");S=u(S,"spf.net.resource.label");Q=u(Q,"spf.net.resource.status.set");J=u(J,"spf.net.resource.status.get");ya=u(ya,"spf.net.resource.status.clear");T=u(T,"spf.net.resource.status.loaded");
H=u(H,"spf.net.resource.url.set");M=u(M,"spf.net.resource.url.get");G=u(G,"spf.net.resource.url.clear");P=u(P,"spf.net.resource.url.loaded");function W(a,b,c){C(N,a,b,c)}function Ja(a){L(N,a)}function Ka(){za(N)}function La(a,b){K(N,a,b)}function Ma(a){a=n(a);k(a,function(a){Aa(N,a)})}function X(a,b,c){a=n(a);a=da(a,function(a){return!!a});var d=[];k(a,function(a){void 0==M(N,a)&&d.push(a)});var e=!d.length;if(b){var g=m(a,f(P,null,N));e&&g?b():(a=E(N,a.sort().join("|")),ha(a,b))}c&&!e&&c(d)}function Na(a){H(N,a,"");I(N)}function Oa(a,b){a=n(a);var c=E(N,a.sort().join("|"));ia(c,b)}function Y(a,b){X(a,b,Pa)}
function Pa(a){k(a,function(a){function c(){W(e,a)}var d=Z[a],e=Qa[a]||a;d?Y(d,c):c()})}function Ra(a){a=n(a);k(a,function(a){var c=[],d;for(d in Z){var e=Z[d],e=n(e);k(e,function(e){e==a&&c.push(d)})}k(c,function(a){Ra(a)});Ja(a)})}function Sa(a,b){Ga(N,a,b)}function Ta(a,b){if(a){for(var c in a)Z[c]=a[c];if(b)for(c in b)Qa[c]=b[c]}}function Ua(a){Ia(N,a)}var Z={};p("js-d",Z);var Qa={};p("js-u",Qa);W=u(W,"spf.net.script.load");Ja=u(Ja,"spf.net.script.unload");Ka=u(Ka,"spf.net.script.discover");
La=u(La,"spf.net.script.get");Ma=u(Ma,"spf.net.script.prefetch");X=u(X,"spf.net.script.ready");Na=u(Na,"spf.net.script.done");Oa=u(Oa,"spf.net.script.ignore");Y=u(Y,"spf.net.script.require");Pa=u(Pa,"spf.net.script.require_");Ra=u(Ra,"spf.net.script.unrequire");Sa=u(Sa,"spf.net.script.eval");Ta=u(Ta,"spf.net.script.declare");Ua=u(Ua,"spf.net.script.path");var Va={script:{load:W,get:La,ready:X,done:Na,require:Y,declare:Ta,path:Ua}},Wa=this.spf=this.spf||{},Ya;for(Ya in Va)Wa[Ya]=Va[Ya];})();
