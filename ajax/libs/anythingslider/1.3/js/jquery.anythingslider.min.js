(function(a){a.anythingSlider=function(c,b){var d=this;d.$el=a(c);d.el=c;d.currentPage=1;d.timer=null;d.playing=false;d.$el.data("AnythingSlider",d);d.init=function(){d.options=a.extend({},a.anythingSlider.defaults,b);d.$wrapper=d.$el.find("> div").css("overflow","hidden");d.$slider=d.$wrapper.find("> ul");d.$items=d.$slider.find("> li");d.$single=d.$items.filter(":first");d.singleWidth=d.$single.outerWidth();d.pages=d.$items.length;if(d.pages===1){d.options.autoPlay=false}d.buildNavigation();var e=d.$items.filter(":last").clone().addClass("cloned");if(e.attr("id")!=""){d.$items.filter(":first").before(e.attr("id",(e.attr("id")+"-cloned")))}else{d.$items.filter(":first").before(e)}e=d.$items.filter(":first").clone().addClass("cloned");if(e.attr("id")!=""){d.$items.filter(":last").after(e.attr("id",(e.attr("id")+"-cloned")))}else{d.$items.filter(":last").after(e)}d.$items=d.$slider.find("> li");if(d.pages>1){d.buildNextBackButtons()}if(d.options.autoPlay){d.playing=!d.options.startStopped;d.buildAutoPlay()}if(d.options.pauseOnHover){d.$el.hover(function(){d.clearTimer()},function(){d.startStop(d.playing)})}if((d.options.hashTags==true&&!d.gotoHash())||d.options.hashTags==false){d.setCurrentPage(1)}};d.gotoPage=function(g,f){if(f!==true){f=false}if(!f){d.startStop(false)}if(typeof(g)=="undefined"||g==null){g=1;d.setCurrentPage(1)}if(g>d.pages+1){g=d.pages}if(g<0){g=1}var e=g<d.currentPage?-1:1,i=Math.abs(d.currentPage-g),h=d.singleWidth*e*i;d.$wrapper.filter(":not(:animated)").animate({scrollLeft:"+="+h},d.options.animationTime,d.options.easing,function(){if(g==0){d.$wrapper.scrollLeft(d.singleWidth*d.pages);g=d.pages}else{if(g>d.pages){d.$wrapper.scrollLeft(d.singleWidth);g=1}}d.setCurrentPage(g)})};d.setCurrentPage=function(f,e){if(d.options.buildNavigation){d.$nav.find(".cur").removeClass("cur");a(d.$navLinks[f-1]).addClass("cur")}if(e!==false){d.$wrapper.scrollLeft(d.singleWidth*f)}d.currentPage=f};d.goForward=function(e){if(e!==true){e=false}d.gotoPage(d.currentPage+1,e)};d.goBack=function(){d.gotoPage(d.currentPage-1)};d.gotoHash=function(){if(/^#?panel-\d+$/.test(window.location.hash)){var f=parseInt(window.location.hash.substr(7));var e=d.$items.filter(":eq("+f+")");if(e.length!=0){d.setCurrentPage(f);return true}}return false};d.buildNavigation=function(){d.$nav=a("<div class='thumbNav'><ul/></div>").prependTo(d.$el);if(d.options.buildNavigation&&(d.pages>1)){d.$items.each(function(f,g){var e=f+1;var h=a("<a href='#'></a>");if(typeof(d.options.navigationFormatter)=="function"){h.html(d.options.navigationFormatter(e,a(this)))}else{h.text(e)}h.click(function(i){d.gotoPage(e);if(d.options.hashTags){d.setHash("panel-"+e)}i.preventDefault()});a("ul",d.$nav).append(h);h.wrap("<li />")});d.$navLinks=d.$nav.find("li > a")}};d.buildNextBackButtons=function(){var e=a('<li class="arrow forward"><a href="#">'+d.options.forwardText+"</a></li>"),f=a('<li class="arrow back"><a href="#">'+d.options.backText+"</a></li>");f.click(function(g){d.goBack();g.preventDefault()});e.click(function(g){d.goForward();g.preventDefault()});a("ul",d.$nav).prepend(f).append(e)};d.buildAutoPlay=function(){d.$startStop=a("<a href='#' class='start-stop'></a>").html(d.playing?d.options.stopText:d.options.startText);d.$el.prepend(d.$startStop);d.$startStop.click(function(f){d.startStop(!d.playing);f.preventDefault()});d.startStop(d.playing)};d.startStop=function(e){if(e!==true){e=false}d.playing=e;if(d.options.autoPlay){d.$startStop.toggleClass("playing",e).html(e?d.options.stopText:d.options.startText)}if(e){d.clearTimer();d.timer=window.setInterval(function(){d.goForward(true)},d.options.delay)}else{d.clearTimer()}};d.clearTimer=function(){if(d.timer){window.clearInterval(d.timer)}};d.setHash=function(e){if(typeof window.location.hash!=="undefined"){if(window.location.hash!==e){window.location.hash=e}}else{if(location.hash!==e){location.hash=e}}return e};d.init()};a.anythingSlider.defaults={easing:"swing",autoPlay:true,startStopped:false,delay:3000,animationTime:600,hashTags:true,buildNavigation:true,pauseOnHover:true,startText:"Start",stopText:"Stop",navigationFormatter:null,forwardText:"&gt;",backText:"&lt;"};a.fn.anythingSlider=function(b){if(typeof(b)=="object"){return this.each(function(c){(new a.anythingSlider(this,b));b.hashTags=false})}else{if(typeof(b)=="number"){return this.each(function(c){var d=a(this).data("AnythingSlider");if(d){d.gotoPage(b)}})}}}})(jQuery);