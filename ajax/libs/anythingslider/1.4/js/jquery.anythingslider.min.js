/*
 AnythingSlider v1.4 minified using Google Closure Compiler
 By Chris Coyier: http://css-tricks.com
 with major improvements by Doug Neiner: http://pixelgraphics.us/
 based on work by Remy Sharp: http://jqueryfordesigners.com/
*/
(function($){$.anythingSlider=function(e,g){var a=this;a.$el=$(e).addClass("anythingBase").wrap('<div class="anythingSlider"><div class="anythingWindow" /></div>');a.$el.data("AnythingSlider",a);a.init=function(){a.options=$.extend({},$.anythingSlider.defaults,g);a.$wrapper=a.$el.parent().closest("div.anythingSlider");a.$window=a.$el.closest("div.anythingWindow");a.$items=a.$el.find("> li").addClass("panel");a.$objects=a.$items.find("object");a.$dimensions=[];a.currentPage=a.options.startPanel;a.timer=
null;a.playing=false;a.pages=a.$items.length;a.$objlen=!!a.$objects.length;a.runTimes=$("div.anythingSlider").index(a.$wrapper)+1;if(!$.isFunction($.easing[a.options.easing]))a.options.easing="swing";if(a.options.resizeContents){if(a.options.width){a.$wrapper.css("width",a.options.width);a.$items.css("width",a.options.width)}if(a.options.height){a.$wrapper.css("height",a.options.height);a.$items.css("height",a.options.height)}a.$objlen&&a.$objects.find("embed").andSelf().css({width:"100%",height:"100%"})}a.$objects.each(function(){$(this).find("[src*=youtube]").length&&
$(this).parent().wrap('<div id="yt-temp"></div>').find("embed[src*=youtube]").attr("src",function(c,d){return d+"&enablejsapi=1&version=3"}).end().find("param[value*=youtube]").attr("value",function(c,d){return d+"&enablejsapi=1&version=3"}).end().detach().appendTo($("#yt-temp")).unwrap()});if(a.pages===1){a.options.autoPlay=false;a.options.buildNavigation=false;a.options.buildArrows=false}if(a.options.autoPlay){a.playing=!a.options.startStopped;a.buildAutoPlay()}a.buildNavigation();var b=a.$items.filter(":last").clone().addClass("cloned");
a.$items.filter(":first").before(b.attr("id",function(c,d){return d===""?"":d+"-cloned"}));b=a.$items.filter(":first").clone().addClass("cloned");a.$items.filter(":last").after(b.attr("id",function(c,d){return d===""?"":d+"-cloned"}));a.$items=a.$el.find("> li");a.setDimensions();a.options.resizeContents||$(window).load(function(){a.setDimensions()});a.options.buildArrows&&a.buildNextBackButtons();a.options.pauseOnHover&&a.$wrapper.hover(function(){a.clearTimer()},function(){a.startStop(a.playing)});
if(a.options.hashTags===true&&!a.gotoHash()||a.options.hashTags===false)a.setCurrentPage(a.options.startPanel,false);a.$items.find("a").focus(function(){a.$items.find(".focusedLink").removeClass("focusedLink");$(this).addClass("focusedLink");a.$items.each(function(c){if($(this).find("a.focusedLink").length){a.gotoPage(c);return false}})});$(window).keyup(function(c){if(a.$wrapper.is(".activeSlider"))switch(c.which){case 39:a.goForward();break;case 37:a.goBack()}})};a.buildNavigation=function(){a.$nav=
$('<ul class="thumbNav" />').appendTo(a.$wrapper);a.options.playRtl&&a.$wrapper.addClass("rtl");a.options.buildNavigation&&a.pages>1&&a.$items.each(function(b){var c=b+1;b=$("<a href='#'></a>");typeof a.options.navigationFormatter=="function"?b.html(a.options.navigationFormatter(c,$(this))):b.text(c);b.bind("click focusin",function(d){a.gotoPage(c);a.options.hashTags&&a.setHash("panel"+a.runTimes+"-"+c);d.preventDefault()});$(a.$nav).append(b);b.wrap("<li />")})};a.buildNextBackButtons=function(){var b=
$('<span class="arrow forward"><a href="#">'+a.options.forwardText+"</a></span>"),c=$('<span class="arrow back"><a href="#">'+a.options.backText+"</a></span>");c.click(function(d){a.goBack();d.preventDefault()});b.click(function(d){a.goForward();d.preventDefault()});c.add(b).find("a").bind("focusin focusout",function(){$(this).toggleClass("hover")});a.$wrapper.prepend(b).prepend(c)};a.buildAutoPlay=function(){a.$startStop=$("<a href='#' class='start-stop'></a>").html(a.playing?a.options.stopText:
a.options.startText);a.$wrapper.append(a.$startStop);a.$startStop.click(function(b){a.startStop(!a.playing);if(a.playing)a.options.playRtl?a.goBack(true):a.goForward(true);b.preventDefault()}).bind("focusin focusout",function(){$(this).toggleClass("hover")});a.startStop(a.playing)};a.setDimensions=function(){var b,c,d,f,h,i=0,j=a.$window.width(),k=$(window).width();a.$items.each(function(l){d=$(this).children("*");if(a.options.resizeContents){b=parseInt(a.options.width,10)||j;c=parseInt(a.options.height,
10)||a.$window.height();$(this).css({width:b,height:c});d.length==1&&d.css({width:b,height:c})}else{b=$(this).width();h=b>=k?true:false;if(d.length==1&&h){f=d.width()>=k?j:d.width();$(this).css("width",f);d.css("max-width",f);b=f}b=h?a.options.width||j:b;$(this).css("width",b);c=$(this).outerHeight();$(this).css("height",c)}a.$dimensions[l]=[b,c,i];i+=b});a.$el.css("width",i<a.options.maxOverallWidth?i:a.options.maxOverallWidth)};a.gotoPage=function(b,c){if(typeof b==="undefined"||b===null){b=a.options.startPage;
a.setCurrentPage(a.options.startPage)}if(b>a.pages+1)b=a.pages;if(b<0)b=1;if(c!==true)c=false;if(!c||a.options.stopAtEnd&&b==a.pages)a.startStop(false);if(!a.checkVideo(a.playing)){a.options.resizeContents||a.$wrapper.filter(":not(:animated)").animate({width:a.$dimensions[b][0],height:a.$dimensions[b][1]},{queue:false,duration:a.options.animationTime,easing:a.options.easing});a.$window.filter(":not(:animated)").animate({scrollLeft:a.$dimensions[b][2]},{queue:false,duration:a.options.animationTime,
easing:a.options.easing,complete:function(){a.endAnimation(b)}})}};a.endAnimation=function(b){if(b===0){a.$window.scrollLeft(a.$dimensions[a.pages][2]);b=a.pages}else if(b>a.pages){a.$window.scrollLeft(0);b=1}a.setCurrentPage(b,false);if(a.$objlen){b=a.$items.eq(a.currentPage).find("embed[src*=youtube]");try{b.length&&$.isFunction(b[0].getPlayerState)&&b[0].getPlayerState()>0&&b[0].playVideo()}catch(c){}}};a.setCurrentPage=function(b,c){if(a.options.buildNavigation){a.$nav.find(".cur").removeClass("cur");
a.$nav.find("a").eq(b-1).addClass("cur")}if(!c){a.$wrapper.css({width:a.$dimensions[b][0],height:a.$dimensions[b][1]});a.$wrapper.scrollLeft(0);a.$window.scrollLeft(a.$dimensions[b][2])}a.currentPage=b;if(!a.$wrapper.is(".activeSlider")){$(".activeSlider").removeClass("activeSlider");a.$wrapper.addClass("activeSlider")}};a.goForward=function(b){if(b!==true){b=false;a.startStop(false)}a.gotoPage(a.currentPage+1,b)};a.goBack=function(b){if(b!==true){b=false;a.startStop(false)}a.gotoPage(a.currentPage-
1,b)};a.gotoHash=function(){var b=window.location.hash.match(/^#?panel(\d+)-(\d+)$/);if(b)if(parseInt(b[1],10)==a.runTimes){b=parseInt(b[2],10);if(a.$items.filter(":eq("+b+")").length!==0){a.setCurrentPage(b,false);return true}}return false};a.setHash=function(b){if(typeof window.location.hash!=="undefined"){if(window.location.hash!==b)window.location.hash=b}else if(location.hash!==b)location.hash=b;return b};a.clearTimer=function(){a.timer&&window.clearInterval(a.timer)};a.startStop=function(b){if(b!==
true)b=false;a.playing=b;if(a.options.autoPlay)a.$startStop.toggleClass("playing",b).html(b?a.options.stopText:a.options.startText);if(b){a.clearTimer();a.timer=window.setInterval(function(){a.checkVideo(b)||(a.options.playRtl?a.goBack(true):a.goForward(true))},a.options.delay)}else a.clearTimer()};a.checkVideo=function(b){var c,d,f=false;a.$objlen&&a.$objects.each(function(){c=$(this).find("embed[src*=youtube]");try{if(c.length&&$.isFunction(c[0].getPlayerState)){d=c[0].getPlayerState();if(b&&d==
1&&a.$items.index(c.closest("li"))==a.currentPage&&a.options.resumeOnVideoEnd)f=true;else d>0&&c[0].pauseVideo()}}catch(h){}});return f};a.init()};$.anythingSlider.defaults={width:null,height:null,resizeContents:true,startPanel:1,hashTags:true,buildArrows:true,buildNavigation:true,navigationFormatter:null,forwardText:"&raquo;",backText:"&laquo;",autoPlay:true,startStopped:false,pauseOnHover:true,resumeOnVideoEnd:true,stopAtEnd:false,playRtl:false,startText:"Start",stopText:"Stop",delay:3E3,animationTime:600,
easing:"swing",maxOverallWidth:32766};$.fn.anythingSlider=function(e){if((typeof e).match("object|undefined"))return this.each(function(){new $.anythingSlider(this,e)});else if(/\d/.test(e)&&!isNaN(e))return this.each(function(){var g=$(this).data("AnythingSlider");if(g){var a=typeof e=="number"?e:parseInt($.trim(e),10);a<1||a>g.pages||g.gotoPage(a)}})}})(jQuery);
