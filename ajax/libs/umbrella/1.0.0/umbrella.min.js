function ajax(a,b,c,d,e){var f=function(){};c=c||f,d=d||f,e=e||f,e(),b+="&umbrella=true";var g=new XMLHttpRequest;return g.open("POST",a,!0),g.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),g.send(b),g.onload=function(){var a=this.status;if(200>a||a>=400)return d(a),!1;var b=this.response;return isJson(b)?void c(JSON.parse(b)):(console.log("Response isn't json"),c(b),!1)},g}function isJson(a){try{var b=JSON.parse(a);if(b&&"object"==typeof b&&null!==b)return b}catch(c){}return!1}function node(a){return u(a).first()}var u=function(a,b){return this instanceof u?("string"==typeof a?(this.selector=a,this.nodes=this.findNodes(a,b)):"object"==typeof a&&a.nodeName?this.nodes=[a]:Array.isArray(a)&&(this.nodes=a.slice()),this):new u(a,b)};u.prototype.findNodes=function(a,b){return b?this.cssNodes(a,b):a.match(/^\.[a-zA-Z0-9_]+$/)?this.classNodes(a.substring(1)):a.match(/^[a-zA-Z]+$/)?this.tagNodes(a):a.match(/^\#[a-zA-Z0-9_]+$/)?this.idNodes(a.substring(1)):this.cssNodes(a)},u.prototype.tagNodes=function(a){return Array.prototype.slice.call(document.getElementsByTagName(a),0)},u.prototype.idNodes=function(a){return[document.getElementById(a)]},u.prototype.classNodes=function(a){return Array.prototype.slice.call(document.getElementsByClassName(a),0)},u.prototype.cssNodes=function(a,b){return b=b||document,Array.prototype.slice.call(b.querySelectorAll(a),0)},u.prototype.selector="",u.prototype.nodes=[],u.options={},u.prototype.addClass=function(){var a=Array.prototype.slice.call(arguments).toString().split(/[\s,]+/);return this.each(function(b){a.forEach(function(a){a&&b.classList.add(a)})})},u.prototype.adjacent=function(a,b){return this.each(function(c){c.insertAdjacentHTML(a,b)})},u.prototype.after=function(a){return this.adjacent("afterend",a)},u.prototype.ajax=function(a,b,c){return this.on("submit",function(d){d.preventDefault(),ajax(u(this).attr("action"),u(this).serialize(),a,b,c)}),this},u.prototype.append=function(a){return this.adjacent("beforeend",a)},u.prototype.attr=function(a,b){if(void 0!==b){var c=a;a={},a[c]=b}return"object"==typeof a?this.each(function(b){for(var c in a)null!==a[c]?b.setAttribute(c,a[c]):b.removeAttribute(c)}):this.first().getAttribute(a)},u.prototype.before=function(a){return this.adjacent("beforebegin",a),this},u.prototype.children=function(a){var b=[];return this.each(function(){b.concat(this.children)}),this.nodes=b,this},u.prototype.click=function(a){return this.on("click",a),this},u.prototype.closest=function(a){var b=[];return this.each(function(){for(var c=this;c;)"function"==typeof c.matches&&c.matches(a)?b.unshift(c):("function"==typeof c.msMatchesSelector&&c.msMatchesSelector(a)&&b.unshift(c),"function"==typeof c.mozMatchesSelector&&c.mozMatchesSelector(a)&&b.unshift(c),"function"==typeof c.webkitMatchesSelector&&c.webkitMatchesSelector(a)&&b.unshift(c),"function"==typeof c.oMatchesSelector&&c.oMatchesSelector(a)&&b.unshift(c)),c=c.parentNode;b.concat(this.children)}),this.nodes=b,this},u.prototype.each=function(a){for(var b=0;b<this.nodes.length;b++){var c=a.call(this.nodes[b],this.nodes[b],b);c&&(this.nodes[b]=c)}return this},u.prototype.find=function(a){a=a||"*";var b=[];return this.each(function(){var c=this.querySelectorAll(a);b=b.concat(Array.prototype.slice.call(c,0))}),this.nodes=b,this},u.prototype.first=function(){return this.nodes.length>0?this.nodes[0]:void 0},u.prototype.hasClass=function(a){var b=!1;return this.each(function(){a.split(" ").forEach(function(a){this.classList.contains(a)&&(b=!0)},this)}),b},u.prototype.html=function(a){return void 0!==a?(this.each(function(){this.innerHTML=a}),this):this.first().innerHTML},u.prototype.on=function(a,b){for(var c=a.split(" "),d=0;d<c.length;d++)this.each(function(){this.addEventListener(c[d],b)});return this},u.prototype.parent=function(){return u(this.nodes).each(function(a){return a.parentNode})},u.prototype.prepend=function(a){return this.adjacent("afterbegin",a),this},u.prototype.remove=function(){this.each(function(a){a.parentNode.removeChild(a)})},u.prototype.removeClass=function(a){return this.each(function(){this.classList.remove(a.split(" "))}),this},u.prototype.serialize=function(){function a(a){return encodeURIComponent(a).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")}var b,c=this.first(),d="";for(b=c.elements.length-1;b>=0;b-=1){var e=c.elements[b];if(""!==e.name)switch(e.type){case"file":break;case"checkbox":case"radio":if(!e.checked)break;default:d+="&"+a(e.name)+"="+a(e.value)}}return d},u.setOptions=function(a,b){u.options[a]=u.options[a]||{};for(var c in b)u.options[a][c]=b[c]},u.status=function(a,b,c,d){d=d||a,a&&(u.prototype[a]=function(){return this.addClass(d),this}),b&&(u.prototype[b]=function(){return this.removeClass(d),this}),c&&(u.prototype[c]=function(){return this.hasClass(d)})};