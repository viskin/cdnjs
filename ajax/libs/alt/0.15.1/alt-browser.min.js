(function(b){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=b()}else{if(typeof define==="function"&&define.amd){define([],b)}else{var a;if(typeof window!=="undefined"){a=window}else{if(typeof global!=="undefined"){a=global}else{if(typeof self!=="undefined"){a=self}else{a=this}}}a.Alt=b()}}})(function(){var d,b,a;return(function c(f,k,h){function g(q,n){if(!k[q]){if(!f[q]){var m=typeof require=="function"&&require;if(!n&&m){return m(q,!0)}if(e){return e(q,!0)}var p=new Error("Cannot find module '"+q+"'");throw p.code="MODULE_NOT_FOUND",p}var i=k[q]={exports:{}};f[q][0].call(i.exports,function(l){var o=f[q][1][l];return g(o?o:l)},i,i.exports,c,f,k,h)}return k[q].exports}var e=typeof require=="function"&&require;for(var j=0;j<h.length;j++){g(h[j])}return g})({1:[function(j,i,k){var m={};var f=Object.create;var p=Object.defineProperties;var q=Object.defineProperty;var s=function(v){var e=arguments[1]===undefined?{}:arguments[1];return{value:v,configurable:!!e.c,writable:!!e.w,enumerable:!!e.e}};var t=function(e){return e&&e[l.toStringTag]==="Symbol"};var u=undefined;try{var r=q({},"y",{get:function(){return 1}});u=r.y===1}catch(o){u=false}var h={};var n=function(y){y=String(y);var v="";var w=0;while(h[y+v]){v=w+=1}h[y+v]=1;var e="Symbol("+y+""+v+")";if(u){q(Object.prototype,e,{get:undefined,set:function(x){q(this,e,s(x,{c:true,w:true}))},configurable:true,enumerable:false})}return e};var g=f(null);function l(v){if(this instanceof l){throw new TypeError("Symbol is not a constructor")}v=v===undefined?"":String(v);var e=n(v);if(!u){return e}return f(g,{__description__:s(v),__tag__:s(e)})}p(l,{"for":s(function(e){var w=String(e);if(m[w]){return m[w]}var v=l(w);m[w]=v;return v}),keyFor:s(function(e){if(!t(e)){throw new TypeError(""+e+" is not a symbol")}for(var v in m){if(m[v]===e){return m[v].__description__}}})});p(l,{hasInstance:s(l("hasInstance")),isConcatSpreadable:s(l("isConcatSpreadable")),iterator:s(l("iterator")),match:s(l("match")),replace:s(l("replace")),search:s(l("search")),species:s(l("species")),split:s(l("split")),toPrimitive:s(l("toPrimitive")),toStringTag:s(l("toStringTag")),unscopables:s(l("unscopables"))});p(g,{constructor:s(l),toString:s(function(){return this.__tag__}),valueOf:s(function(){return"Symbol("+this.__description__+")"})});if(u){q(g,l.toStringTag,s("Symbol",{c:true}))}i.exports=typeof Symbol==="function"?Symbol:l},{}],2:[function(h,g,i){function p(s,q,r){this.fn=s;this.context=q;this.once=r||false}function o(){}o.prototype._events=undefined;o.prototype.listeners=function l(t){if(!this._events||!this._events[t]){return[]}if(this._events[t].fn){return[this._events[t].fn]}for(var s=0,r=this._events[t].length,q=new Array(r);s<r;s++){q[s]=this._events[t][s].fn}return q};o.prototype.emit=function m(r,t,s,q,B,A){if(!this._events||!this._events[r]){return false}var z=this._events[r],x=arguments.length,y,w;if("function"===typeof z.fn){if(z.once){this.removeListener(r,z.fn,true)}switch(x){case 1:return z.fn.call(z.context),true;case 2:return z.fn.call(z.context,t),true;case 3:return z.fn.call(z.context,t,s),true;case 4:return z.fn.call(z.context,t,s,q),true;case 5:return z.fn.call(z.context,t,s,q,B),true;case 6:return z.fn.call(z.context,t,s,q,B,A),true}for(w=1,y=new Array(x-1);w<x;w++){y[w-1]=arguments[w]}z.fn.apply(z.context,y)}else{var u=z.length,v;for(w=0;w<u;w++){if(z[w].once){this.removeListener(r,z[w].fn,true)}switch(x){case 1:z[w].fn.call(z[w].context);break;case 2:z[w].fn.call(z[w].context,t);break;case 3:z[w].fn.call(z[w].context,t,s);break;default:if(!y){for(v=1,y=new Array(x-1);v<x;v++){y[v-1]=arguments[v]}}z[w].fn.apply(z[w].context,y)}}}return true};o.prototype.on=function k(s,r,q){var t=new p(r,q||this);if(!this._events){this._events={}}if(!this._events[s]){this._events[s]=t}else{if(!this._events[s].fn){this._events[s].push(t)}else{this._events[s]=[this._events[s],t]}}return this};o.prototype.once=function f(s,r,q){var t=new p(r,q||this,true);if(!this._events){this._events={}}if(!this._events[s]){this._events[s]=t}else{if(!this._events[s].fn){this._events[s].push(t)}else{this._events[s]=[this._events[s],t]}}return this};o.prototype.removeListener=function j(w,u,t){if(!this._events||!this._events[w]){return this}var s=this._events[w],r=[];if(u){if(s.fn&&(s.fn!==u||(t&&!s.once))){r.push(s)}if(!s.fn){for(var q=0,v=s.length;q<v;q++){if(s[q].fn!==u||(t&&!s[q].once)){r.push(s[q])}}}}if(r.length){this._events[w]=r.length===1?r[0]:r}else{delete this._events[w]}return this};o.prototype.removeAllListeners=function n(q){if(!this._events){return this}if(q){delete this._events[q]}else{this._events={}}return this};o.prototype.off=o.prototype.removeListener;o.prototype.addListener=o.prototype.on;o.prototype.setMaxListeners=function e(){return this};o.EventEmitter=o;o.EventEmitter2=o;o.EventEmitter3=o;g.exports=o},{}],3:[function(f,g,e){g.exports.Dispatcher=f("./lib/Dispatcher")},{"./lib/Dispatcher":4}],4:[function(j,k,i){var h=j("./invariant");var g=1;var e="ID_";function f(){this.$Dispatcher_callbacks={};this.$Dispatcher_isPending={};this.$Dispatcher_isHandled={};this.$Dispatcher_isDispatching=false;this.$Dispatcher_pendingPayload=null}f.prototype.register=function(m){var l=e+g++;this.$Dispatcher_callbacks[l]=m;return l};f.prototype.unregister=function(l){h(this.$Dispatcher_callbacks[l],"Dispatcher.unregister(...): `%s` does not map to a registered callback.",l);delete this.$Dispatcher_callbacks[l]};f.prototype.waitFor=function(m){h(this.$Dispatcher_isDispatching,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var l=0;l<m.length;l++){var n=m[l];if(this.$Dispatcher_isPending[n]){h(this.$Dispatcher_isHandled[n],"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",n);continue}h(this.$Dispatcher_callbacks[n],"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",n);this.$Dispatcher_invokeCallback(n)}};f.prototype.dispatch=function(l){h(!this.$Dispatcher_isDispatching,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch.");this.$Dispatcher_startDispatching(l);try{for(var m in this.$Dispatcher_callbacks){if(this.$Dispatcher_isPending[m]){continue}this.$Dispatcher_invokeCallback(m)}}finally{this.$Dispatcher_stopDispatching()}};f.prototype.isDispatching=function(){return this.$Dispatcher_isDispatching};f.prototype.$Dispatcher_invokeCallback=function(l){this.$Dispatcher_isPending[l]=true;this.$Dispatcher_callbacks[l](this.$Dispatcher_pendingPayload);this.$Dispatcher_isHandled[l]=true};f.prototype.$Dispatcher_startDispatching=function(l){for(var m in this.$Dispatcher_callbacks){this.$Dispatcher_isPending[m]=false;this.$Dispatcher_isHandled[m]=false}this.$Dispatcher_pendingPayload=l;this.$Dispatcher_isDispatching=true};f.prototype.$Dispatcher_stopDispatching=function(){this.$Dispatcher_pendingPayload=null;this.$Dispatcher_isDispatching=false};k.exports=f},{"./invariant":5}],5:[function(g,h,f){var e=function(i,s,r,q,p,n,l,k){if(false){if(s===undefined){throw new Error("invariant requires an error message argument")}}if(!i){var o;if(s===undefined){o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.")}else{var m=[r,q,p,n,l,k];var j=0;o=new Error("Invariant Violation: "+s.replace(/%s/g,function(){return m[j++]}))}o.framesToPop=1;throw o}};h.exports=e},{}],6:[function(f,g,e){function h(i){if(i==null){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(i)}g.exports=Object.assign||function(n,m){var p;var l;var o=h(n);for(var k=1;k<arguments.length;k++){p=arguments[k];l=Object.keys(Object(p));for(var j=0;j<l.length;j++){o[l[j]]=p[l[j]]}}return o}},{}],7:[function(j,g,P){var l=function(aa){return aa&&aa.__esModule?aa["default"]:aa};var V=function T(ab,ae,ad){var af=Object.getOwnPropertyDescriptor(ab,ae);if(af===undefined){var ac=Object.getPrototypeOf(ab);if(ac===null){return undefined}else{return T(ac,ae,ad)}}else{if("value" in af&&af.writable){return af.value}else{var aa=af.get;if(aa===undefined){return undefined}return aa.call(ad)}}};var x=function(ab,aa){if(typeof aa!=="function"&&aa!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof aa)}ab.prototype=Object.create(aa&&aa.prototype,{constructor:{value:ab,enumerable:false,writable:true,configurable:true}});if(aa){ab.__proto__=aa}};var m=(function(){function aa(ad,ac){for(var ab in ac){var ae=ac[ab];ae.configurable=true;if(ae.value){ae.writable=true}}Object.defineProperties(ad,ac)}return function(ad,ab,ac){if(ab){aa(ad.prototype,ab)}if(ac){aa(ad,ac)}return ad}})();var J=function(aa,ab){if(!(aa instanceof ab)){throw new TypeError("Cannot call a class as a function")}};var U=j("flux").Dispatcher;var q=l(j("eventemitter3"));var I=l(j("es-symbol"));var S=l(j("object-assign"));var D=I("action creator handler");var i=I("holds the actions uid symbol for listening");var Q=I("the actions uid name");var z=I("name of listeners");var H=I("event emitter instance");var r=I("init snapshot storage");var R=I("last snapshot storage");var M=I("store lifecycle listeners");var n=I("stores action listeners storage");var Y=I("store public method storage");var G=I("the state container");var F={};function X(aa){return aa.replace(/[a-z]([A-Z])/g,function(ab){return""+ab[0]+"_"+ab[1].toLowerCase()}).toUpperCase()}function k(aa,ab){var ad=0;var ac=ab;while(Object.hasOwnProperty.call(aa,ac)){ac=ab+String(++ad)}return ac}function f(){}var C=Object.getOwnPropertyNames(f);var K=Object.getOwnPropertyNames(f.prototype);var L=function(ab,aa){return Object.getOwnPropertyNames(ab).reduce(function(ad,ac){if(aa.indexOf(ac)!==-1){return ad}ad[ac]=ab[ac];return ad},{})};var Z=(function(){function af(aj,ai,ak,ah){var ag=this;J(this,af);this[H]=new q();this[M]={};this[G]=ak||ai;this.boundListeners=ai[z];this.StoreModel=ah;if(typeof this.StoreModel==="object"){this.StoreModel.state=S({},ah.state)}S(this[M],ai[M]);S(this,ai[Y]);this.dispatchToken=aj.register(function(am){if(typeof ai.beforeEach==="function"){ai.beforeEach(am.action.toString(),am.data,ag[G])}if(ai[n][am.action]){var al=ai[n][am.action](am.data);if(al!==false){ag.emitChange()}}if(typeof ai.afterEach==="function"){ai.afterEach(am.action.toString(),am.data,ag[G])}});if(this[M].init){this[M].init()}}m(af,{getEventEmitter:{value:function ad(){return this[H]}},emitChange:{value:function ae(){this[H].emit("change",this[G])}},listen:{value:function ab(ag){this[H].on("change",ag)}},unlisten:{value:function ac(ag){this[H].removeListener("change",ag)}},getState:{value:function aa(){var ag=this[G];return Object.keys(ag).reduce(function(ai,ah){ai[ah]=ag[ah];return ai},{})}}});return af})();var y=(function(){function ab(ae,ac,ad,af){J(this,ab);this[Q]=ac;this[D]=ad.bind(this);this.actions=af;this.alt=ae}m(ab,{dispatch:{value:function aa(ac){this.alt.dispatch(this[Q],ac)}}});return ab})();var N={on:function A(ab,aa){this[M][ab]=aa.bind(this)},bindAction:function u(ac,ab){if(!ac){throw new ReferenceError("Invalid action reference passed in")}if(typeof ab!=="function"){throw new TypeError("bindAction expects a function")}if(ab.length>1){throw new TypeError("Action handler in store "+this._storeName+" for "+(""+(ac[i]||ac).toString()+" was defined with 2 ")+"parameters. Only a single parameter is passed through the dispatcher, did you mean to pass in an Object instead?")}var aa=ac[i]?ac[i]:ac;this[n][aa]=ab.bind(this);this[z].push(I.keyFor(aa))},bindActions:function W(ab){var aa=this;Object.keys(ab).forEach(function(ae){var ad=ab[ae];var ag=/./;var af=ae.replace(ag,function(ah){return"on"+ah[0].toUpperCase()});var ac=null;if(aa[ae]&&aa[af]){throw new ReferenceError("You have multiple action handlers bound to an action: "+(""+ae+" and "+af))}else{if(aa[ae]){ac=aa[ae]}else{if(aa[af]){ac=aa[af]}}}if(ac){aa.bindAction(ad,ac)}})},bindListeners:function o(ab){var aa=this;Object.keys(ab).forEach(function(ac){var ae=ab[ac];var ad=aa[ac];if(!ad){throw new ReferenceError(""+ac+" defined but does not exist in "+aa._storeName)}if(Array.isArray(ae)){ae.forEach(function(af){aa.bindAction(af,ad)})}else{aa.bindAction(ae,ad)}})}};var B={waitFor:function E(aa){if(!aa){throw new ReferenceError("Dispatch tokens not provided")}if(arguments.length===1){aa=Array.isArray(aa)?aa:[aa]}else{aa=Array.prototype.slice.call(arguments)}var ab=aa.map(function(ac){return ac.dispatchToken||ac});this.dispatcher.waitFor(ab)},exportPublicMethods:function v(ab){var aa=this;Object.keys(ab).forEach(function(ac){if(typeof ab[ac]!=="function"){throw new TypeError("exportPublicMethods expects a function")}aa[Y][ac]=ab[ac]})},emitChange:function t(){this.getInstance().emitChange()}};var w=function(aa,ac,ab){var ad=aa.deserialize(ac);Object.keys(ad).forEach(function(af){var ae=aa.stores[af];if(ae){if(ae[M].deserialize){ad[af]=ae[M].deserialize(ad[af])||ad[af]}S(ae[G],ad[af]);ab(ae)}})};var s=function(aa){for(var ad=arguments.length,ac=Array(ad>1?ad-1:0),ae=1;ae<ad;ae++){ac[ae-1]=arguments[ae]}var ab=ac.length?ac:Object.keys(aa.stores);return ab.reduce(function(ai,ah){var ag=aa.stores[ah];if(ag[M].snapshot){ag[M].snapshot()}var af=ag[M].serialize&&ag[M].serialize();ai[ah]=af?af:ag.getState();return ai},{})};var O=function(aa,ac){var ad=aa.stores[ac][G];var ab=aa.deserialize(aa[r]);ab[ac]=ad;aa[r]=aa.serialize(ab);aa[R]=aa[r]};var p=function(aa,ad,ac){var ab=aa.deserialize(ad);var ae=ac.reduce(function(ag,af){if(!ab[af]){throw new ReferenceError(""+af+" is not a valid store")}ag[af]=ab[af];return ag},{});return aa.serialize(ae)};var h=function(ag,aa,ab,af){var ae=undefined;var ad={};ad[z]=[];ad[M]={};ad[n]={};S(ad,{_storeName:ab,alt:ag,dispatcher:ag.dispatcher,getInstance:function ac(){return ae},setState:function ah(){var ai=arguments[0]===undefined?{}:arguments[0];S(this.state,ai);this.emitChange();return false}},N,B,aa);if(ad.bindListeners){N.bindListeners.call(ad,ad.bindListeners)}if(ad.lifecycle){Object.keys(ad.lifecycle).forEach(function(ai){N.on.call(ad,ai,ad.lifecycle[ai])})}ae=S(new Z(ag.dispatcher,ad,ad.state,aa),ad.publicMethods);if(af){ag.stores[ab]=ae;O(ag,ab)}return ae};var e=(function(){function ah(){var ao=arguments[0]===undefined?{}:arguments[0];J(this,ah);this.serialize=ao.serialize||JSON.stringify;this.deserialize=ao.deserialize||JSON.parse;this.dispatcher=ao.dispatcher||new U();this.actions={};this.stores={};this[R]=this[r]="{}"}m(ah,{dispatch:{value:function ai(ap,ao){this.dispatcher.dispatch({action:ap,data:ao})}},createStore:{value:function aj(ar,aq){var ao=arguments[2]===undefined?true:arguments[2];var av=undefined;var ax=aq||ar.name||ar.displayName||"";if(ao&&(this.stores[ax]||!ax)){if(typeof console!=="undefined"){if(this.stores[ax]){console.warn(new ReferenceError("A store named "+ax+" already exists, double check your store names or pass in your own custom identifier for each store"))}else{console.warn(new ReferenceError("Store name was not specified"))}}ax=k(this.stores,ax)}if(typeof ar==="object"){return h(this,ar,ax,ao)}var au=(function(az){function ay(aA){J(this,ay);V(Object.getPrototypeOf(ay.prototype),"constructor",this).call(this,aA)}x(ay,az);return ay})(ar);S(au.prototype,N,B,{_storeName:ax,alt:this,dispatcher:this.dispatcher,getInstance:function ap(){return av},setState:function at(){var ay=arguments[0]===undefined?{}:arguments[0];S(this,ay);this.emitChange();return false}});au.prototype[z]=[];au.prototype[M]={};au.prototype[n]={};au.prototype[Y]={};var aw=new au(this);av=S(new Z(this.dispatcher,aw,null,ar),L(ar,C));if(ao){this.stores[ax]=av;O(this,ax)}return av}},generateActions:{value:function ak(){for(var ao=arguments.length,aq=Array(ao),ap=0;ap<ao;ap++){aq[ap]=arguments[ap]}return this.createActions(function(){var ar;(ar=this).generateActions.apply(ar,aq)})}},createActions:{value:function ad(au){var ao=this;var ar=arguments[1]===undefined?{}:arguments[1];var at=S({},L(au.prototype,K));var aq=au.name||au.displayName||"";var ap=(function(ax){function av(ay){J(this,av);V(Object.getPrototypeOf(av.prototype),"constructor",this).call(this,ay)}x(av,ax);m(av,{generateActions:{value:function aw(){for(var ay=arguments.length,aA=Array(ay),az=0;az<ay;az++){aA[az]=arguments[az]}aA.forEach(function(aB){at[aB]=function(aD){for(var aC=arguments.length,aE=Array(aC>1?aC-1:0),aF=1;aF<aC;aF++){aE[aF-1]=arguments[aF]}this.dispatch(aE.length?[aD].concat(aE):aD)}})}}});return av})(au);new ap(this);return Object.keys(at).reduce(function(az,ax){var aw=X(ax);var aA=k(F,""+aq+"#"+ax);F[aA]=1;var av=I["for"](aA);var ay=new y(ao,av,at[ax],az);az[ax]=ay[D];az[ax].defer=function(){for(var aB=arguments.length,aC=Array(aB),aD=0;aD<aB;aD++){aC[aD]=arguments[aD]}setTimeout(function(){ay[D].apply(null,aC)})};az[ax][i]=av;az[aw]=av;return az},ar)}},takeSnapshot:{value:function al(){for(var ap=arguments.length,ao=Array(ap),aq=0;aq<ap;aq++){ao[aq]=arguments[aq]}var ar=s.apply(undefined,[this].concat(ao));this[R]=this.serialize(S(this.deserialize(this[R]),ar));return this.serialize(ar)}},rollback:{value:function am(){w(this,this[R],function(ao){if(ao[M].rollback){ao[M].rollback()}ao.emitChange()})}},recycle:{value:function ae(){for(var aq=arguments.length,ap=Array(aq),ar=0;ar<aq;ar++){ap[ar]=arguments[ar]}var ao=ap.length?p(this,this[r],ap):this[r];w(this,ao,function(at){if(at[M].init){at[M].init()}at.emitChange()})}},flush:{value:function an(){var ao=this.serialize(s(this));this.recycle();return ao}},bootstrap:{value:function af(ao){w(this,ao,function(ap){if(ap[M].bootstrap){ap[M].bootstrap()}ap.emitChange()})}},addActions:{value:function ac(ao,ap){this.actions[ao]=this.createActions(ap)}},addStore:{value:function ab(ap,ao,aq){this.createStore(ao,ap,aq)}},getActions:{value:function aa(ao){return this.actions[ao]}},getStore:{value:function ag(ao){return this.stores[ao]}}});return ah})();g.exports=e},{"es-symbol":1,eventemitter3:2,flux:3,"object-assign":6}]},{},[7])(7)});