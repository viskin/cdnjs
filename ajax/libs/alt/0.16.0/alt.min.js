(function(b){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=b()}else{if(typeof define==="function"&&define.amd){define([],b)}else{var a;if(typeof window!=="undefined"){a=window}else{if(typeof global!=="undefined"){a=global}else{if(typeof self!=="undefined"){a=self}else{a=this}}}a.Alt=b()}}})(function(){var d,b,a;return(function c(f,k,h){function g(q,n){if(!k[q]){if(!f[q]){var m=typeof require=="function"&&require;if(!n&&m){return m(q,!0)}if(e){return e(q,!0)}var p=new Error("Cannot find module '"+q+"'");throw p.code="MODULE_NOT_FOUND",p}var i=k[q]={exports:{}};f[q][0].call(i.exports,function(l){var o=f[q][1][l];return g(o?o:l)},i,i.exports,c,f,k,h)}return k[q].exports}var e=typeof require=="function"&&require;for(var j=0;j<h.length;j++){g(h[j])}return g})({1:[function(j,i,k){var m={};var f=Object.create;var p=Object.defineProperties;var q=Object.defineProperty;var s=function(v){var e=arguments[1]===undefined?{}:arguments[1];return{value:v,configurable:!!e.c,writable:!!e.w,enumerable:!!e.e}};var t=function(e){return e&&e[l.toStringTag]==="Symbol"};var u=undefined;try{var r=q({},"y",{get:function(){return 1}});u=r.y===1}catch(o){u=false}var h={};var n=function(y){y=String(y);var v="";var w=0;while(h[y+v]){v=w+=1}h[y+v]=1;var e="Symbol("+y+""+v+")";if(u){q(Object.prototype,e,{get:undefined,set:function(x){q(this,e,s(x,{c:true,w:true}))},configurable:true,enumerable:false})}return e};var g=f(null);function l(v){if(this instanceof l){throw new TypeError("Symbol is not a constructor")}v=v===undefined?"":String(v);var e=n(v);if(!u){return e}return f(g,{__description__:s(v),__tag__:s(e)})}p(l,{"for":s(function(e){var w=String(e);if(m[w]){return m[w]}var v=l(w);m[w]=v;return v}),keyFor:s(function(e){if(!t(e)){throw new TypeError(""+e+" is not a symbol")}for(var v in m){if(m[v]===e){return m[v].__description__}}})});p(l,{hasInstance:s(l("hasInstance")),isConcatSpreadable:s(l("isConcatSpreadable")),iterator:s(l("iterator")),match:s(l("match")),replace:s(l("replace")),search:s(l("search")),species:s(l("species")),split:s(l("split")),toPrimitive:s(l("toPrimitive")),toStringTag:s(l("toStringTag")),unscopables:s(l("unscopables"))});p(g,{constructor:s(l),toString:s(function(){return this.__tag__}),valueOf:s(function(){return"Symbol("+this.__description__+")"})});if(u){q(g,l.toStringTag,s("Symbol",{c:true}))}i.exports=typeof Symbol==="function"?Symbol:l},{}],2:[function(h,g,i){function p(s,q,r){this.fn=s;this.context=q;this.once=r||false}function o(){}o.prototype._events=undefined;o.prototype.listeners=function l(t){if(!this._events||!this._events[t]){return[]}if(this._events[t].fn){return[this._events[t].fn]}for(var s=0,r=this._events[t].length,q=new Array(r);s<r;s++){q[s]=this._events[t][s].fn}return q};o.prototype.emit=function m(r,t,s,q,B,A){if(!this._events||!this._events[r]){return false}var z=this._events[r],x=arguments.length,y,w;if("function"===typeof z.fn){if(z.once){this.removeListener(r,z.fn,true)}switch(x){case 1:return z.fn.call(z.context),true;case 2:return z.fn.call(z.context,t),true;case 3:return z.fn.call(z.context,t,s),true;case 4:return z.fn.call(z.context,t,s,q),true;case 5:return z.fn.call(z.context,t,s,q,B),true;case 6:return z.fn.call(z.context,t,s,q,B,A),true}for(w=1,y=new Array(x-1);w<x;w++){y[w-1]=arguments[w]}z.fn.apply(z.context,y)}else{var u=z.length,v;for(w=0;w<u;w++){if(z[w].once){this.removeListener(r,z[w].fn,true)}switch(x){case 1:z[w].fn.call(z[w].context);break;case 2:z[w].fn.call(z[w].context,t);break;case 3:z[w].fn.call(z[w].context,t,s);break;default:if(!y){for(v=1,y=new Array(x-1);v<x;v++){y[v-1]=arguments[v]}}z[w].fn.apply(z[w].context,y)}}}return true};o.prototype.on=function k(s,r,q){var t=new p(r,q||this);if(!this._events){this._events={}}if(!this._events[s]){this._events[s]=t}else{if(!this._events[s].fn){this._events[s].push(t)}else{this._events[s]=[this._events[s],t]}}return this};o.prototype.once=function f(s,r,q){var t=new p(r,q||this,true);if(!this._events){this._events={}}if(!this._events[s]){this._events[s]=t}else{if(!this._events[s].fn){this._events[s].push(t)}else{this._events[s]=[this._events[s],t]}}return this};o.prototype.removeListener=function j(w,u,t){if(!this._events||!this._events[w]){return this}var s=this._events[w],r=[];if(u){if(s.fn&&(s.fn!==u||(t&&!s.once))){r.push(s)}if(!s.fn){for(var q=0,v=s.length;q<v;q++){if(s[q].fn!==u||(t&&!s[q].once)){r.push(s[q])}}}}if(r.length){this._events[w]=r.length===1?r[0]:r}else{delete this._events[w]}return this};o.prototype.removeAllListeners=function n(q){if(!this._events){return this}if(q){delete this._events[q]}else{this._events={}}return this};o.prototype.off=o.prototype.removeListener;o.prototype.addListener=o.prototype.on;o.prototype.setMaxListeners=function e(){return this};o.EventEmitter=o;o.EventEmitter2=o;o.EventEmitter3=o;g.exports=o},{}],3:[function(f,g,e){g.exports.Dispatcher=f("./lib/Dispatcher")},{"./lib/Dispatcher":4}],4:[function(j,k,i){var h=j("./invariant");var g=1;var e="ID_";function f(){this.$Dispatcher_callbacks={};this.$Dispatcher_isPending={};this.$Dispatcher_isHandled={};this.$Dispatcher_isDispatching=false;this.$Dispatcher_pendingPayload=null}f.prototype.register=function(m){var l=e+g++;this.$Dispatcher_callbacks[l]=m;return l};f.prototype.unregister=function(l){h(this.$Dispatcher_callbacks[l],"Dispatcher.unregister(...): `%s` does not map to a registered callback.",l);delete this.$Dispatcher_callbacks[l]};f.prototype.waitFor=function(m){h(this.$Dispatcher_isDispatching,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var l=0;l<m.length;l++){var n=m[l];if(this.$Dispatcher_isPending[n]){h(this.$Dispatcher_isHandled[n],"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",n);continue}h(this.$Dispatcher_callbacks[n],"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",n);this.$Dispatcher_invokeCallback(n)}};f.prototype.dispatch=function(l){h(!this.$Dispatcher_isDispatching,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch.");this.$Dispatcher_startDispatching(l);try{for(var m in this.$Dispatcher_callbacks){if(this.$Dispatcher_isPending[m]){continue}this.$Dispatcher_invokeCallback(m)}}finally{this.$Dispatcher_stopDispatching()}};f.prototype.isDispatching=function(){return this.$Dispatcher_isDispatching};f.prototype.$Dispatcher_invokeCallback=function(l){this.$Dispatcher_isPending[l]=true;this.$Dispatcher_callbacks[l](this.$Dispatcher_pendingPayload);this.$Dispatcher_isHandled[l]=true};f.prototype.$Dispatcher_startDispatching=function(l){for(var m in this.$Dispatcher_callbacks){this.$Dispatcher_isPending[m]=false;this.$Dispatcher_isHandled[m]=false}this.$Dispatcher_pendingPayload=l;this.$Dispatcher_isDispatching=true};f.prototype.$Dispatcher_stopDispatching=function(){this.$Dispatcher_pendingPayload=null;this.$Dispatcher_isDispatching=false};k.exports=f},{"./invariant":5}],5:[function(g,h,f){var e=function(i,s,r,q,p,n,l,k){if(false){if(s===undefined){throw new Error("invariant requires an error message argument")}}if(!i){var o;if(s===undefined){o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.")}else{var m=[r,q,p,n,l,k];var j=0;o=new Error("Invariant Violation: "+s.replace(/%s/g,function(){return m[j++]}))}o.framesToPop=1;throw o}};h.exports=e},{}],6:[function(f,g,e){function h(i){if(i==null){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(i)}g.exports=Object.assign||function(n,m){var p;var l;var o=h(n);for(var k=1;k<arguments.length;k++){p=arguments[k];l=Object.keys(Object(p));for(var j=0;j<l.length;j++){o[l[j]]=p[l[j]]}}return o}},{}],7:[function(i,g,l){var o=function(p){return p&&p.__esModule?p:{"default":p}};var m=function(p,q){if(!(p instanceof q)){throw new TypeError("Cannot call a class as a function")}};var j=(function(){function p(t,r){for(var q=0;q<r.length;q++){var s=r[q];s.enumerable=s.enumerable||false;s.configurable=true;if("value" in s){s.writable=true}Object.defineProperty(t,s.key,s)}}return function(s,q,r){if(q){p(s.prototype,q)}if(r){p(s,r)}return s}})();Object.defineProperty(l,"__esModule",{value:true});var n=i("./symbols/symbols");var h=o(n);var k=h.ACTION_HANDLER;var f=h.ACTION_UID;var e=(function(){function q(t,r,s,u){m(this,q);this[f]=r;this[k]=s.bind(this);this.actions=u;this.alt=t}j(q,[{key:"dispatch",value:function p(r){this.alt.dispatch(this[f],r)}}]);return q})();l["default"]=e;g.exports=l["default"]},{"./symbols/symbols":9}],8:[function(p,g,y){var x=function(z){return z&&z.__esModule?z:{"default":z}};var j=function(z,A){if(!(z instanceof A)){throw new TypeError("Cannot call a class as a function")}};var u=(function(){function z(D,B){for(var A=0;A<B.length;A++){var C=B[A];C.enumerable=C.enumerable||false;C.configurable=true;if("value" in C){C.writable=true}Object.defineProperty(D,C.key,C)}}return function(C,A,B){if(A){z(C.prototype,A)}if(B){z(C,B)}return C}})();Object.defineProperty(y,"__esModule",{value:true});var s=p("eventemitter3");var r=x(s);var h=p("object-assign");var k=x(h);var f=p("es-symbol");var q=x(f);var w=p("./symbols/symbols");var v=x(w);var m=v.ALL_LISTENERS;var n=v.LIFECYCLE;var o=v.LISTENERS;var i=v.PUBLIC_METHODS;var t=v.STATE_CONTAINER;var e=q["default"]();var l=(function(){function E(I,G,H,F){var J=this;j(this,E);this[e]=new r["default"]();this[n]={};this[t]=H||G;this._storeName=G._storeName;this.boundListeners=G[m];this.StoreModel=F;if(typeof this.StoreModel==="object"){this.StoreModel.state=k["default"]({},F.state)}k["default"](this[n],G[n]);k["default"](this,G[i]);this.dispatchToken=I.dispatcher.register(function(M){if(G[n].beforeEach){G[n].beforeEach(M,J[t])}if(G[o][M.action]){var K=false;try{K=G[o][M.action](M.data)}catch(L){if(J[n].error){J[n].error(L,M,J[t])}else{throw L}}if(K!==false){J.emitChange()}}if(G[n].afterEach){G[n].afterEach(M,J[t])}});if(this[n].init){this[n].init()}}u(E,[{key:"getEventEmitter",value:function C(){return this[e]}},{key:"emitChange",value:function D(){this[e].emit("change",this[t])}},{key:"listen",value:function A(F){var G=this;this[e].on("change",F);return function(){return G.unlisten(F)}}},{key:"unlisten",value:function B(F){if(this[n].unlisten){this[n].unlisten()}this[e].removeListener("change",F)}},{key:"getState",value:function z(){return this.StoreModel.config.getState.call(this,this[t])}}]);return E})();y["default"]=l;g.exports=y["default"]},{"./symbols/symbols":9,"es-symbol":1,eventemitter3:2,"object-assign":6}],9:[function(k,j,o){var q=function(u){return u&&u.__esModule?u:{"default":u}};Object.defineProperty(o,"__esModule",{value:true});var f=k("es-symbol");var r=q(f);var m=r["default"]();o.ACTION_HANDLER=m;var n=r["default"]();o.ACTION_KEY=n;var h=r["default"]();o.ACTION_UID=h;var l=r["default"]();o.ALL_LISTENERS=l;var g=r["default"]();o.INIT_SNAPSHOT=g;var i=r["default"]();o.LAST_SNAPSHOT=i;var e=r["default"]();o.LIFECYCLE=e;var t=r["default"]();o.LISTENERS=t;var p=r["default"]();o.PUBLIC_METHODS=p;var s=r["default"]();o.STATE_CONTAINER=s},{"es-symbol":1}],10:[function(k,i,n){var q=function(u){return u&&u.__esModule?u:{"default":u}};Object.defineProperty(n,"__esModule",{value:true});n.setAppState=s;n.snapshot=f;n.saveInitialSnapshot=l;n.filterSnapshots=r;var p=k("object-assign");var m=q(p);var o=k("../symbols/symbols");var j=q(o);var g=j.INIT_SNAPSHOT;var h=j.LAST_SNAPSHOT;var e=j.LIFECYCLE;var t=j.STATE_CONTAINER;function s(u,w,v){var x=u.deserialize(w);Object.keys(x).forEach(function(A){var y=u.stores[A];if(y){var z=y.StoreModel.config;if(z.onDeserialize){x[A]=z.onDeserialize(x[A])||x[A]}m["default"](y[t],x[A]);v(y)}})}function f(u){var w=arguments[1]===undefined?[]:arguments[1];var v=w.length?w:Object.keys(u.stores);return v.reduce(function(B,C){var A=C.displayName||C;var y=u.stores[A];var z=y.StoreModel.config;if(y[e].snapshot){y[e].snapshot()}var x=z.onSerialize&&z.onSerialize(y[t]);B[A]=x?x:y.getState();return B},{})}function l(u,v){var w=u.deserialize(u.serialize(u.stores[v][t]));u[g][v]=w;u[h][v]=w}function r(u,w,v){return v.reduce(function(z,x){var y=x.displayName||x;if(!w[y]){throw new ReferenceError(""+y+" is not a valid store")}z[y]=w[y];return z},{})}},{"../symbols/symbols":9,"object-assign":6}],11:[function(g,e,h){Object.defineProperty(h,"__esModule",{value:true});var i=g("../symbols/symbols");var p={waitFor:function k(r){if(!r){throw new ReferenceError("Dispatch tokens not provided")}if(arguments.length===1){r=Array.isArray(r)?r:[r]}else{r=Array.prototype.slice.call(arguments)}var s=r.map(function(t){return t.dispatchToken||t});this.dispatcher.waitFor(s)},exportPublicMethods:function q(r){var s=this;Object.keys(r).forEach(function(t){if(typeof r[t]!=="function"){throw new TypeError("exportPublicMethods expects a function")}s[i.PUBLIC_METHODS][t]=r[t]})},emitChange:function n(){this.getInstance().emitChange()}};h.StoreMixinEssentials=p;var m={on:function l(s,r){this[i.LIFECYCLE][s]=r.bind(this)},bindAction:function o(t,s){if(!t){throw new ReferenceError("Invalid action reference passed in")}if(typeof s!=="function"){throw new TypeError("bindAction expects a function")}if(s.length>1){throw new TypeError("Action handler in store "+this._storeName+" for "+(""+(t[i.ACTION_KEY]||t).toString()+" was defined with 2 ")+"parameters. Only a single parameter is passed through the dispatcher, did you mean to pass in an Object instead?")}var r=t[i.ACTION_KEY]?t[i.ACTION_KEY]:t;this[i.LISTENERS][r]=s.bind(this);this[i.ALL_LISTENERS].push(Symbol.keyFor(r))},bindActions:function f(s){var r=this;Object.keys(s).forEach(function(v){var u=s[v];var x=/./;var w=v.replace(x,function(y){return"on"+y[0].toUpperCase()});var t=null;if(r[v]&&r[w]){throw new ReferenceError("You have multiple action handlers bound to an action: "+(""+v+" and "+w))}else{if(r[v]){t=r[v]}else{if(r[w]){t=r[w]}}}if(t){r.bindAction(u,t)}})},bindListeners:function j(s){var r=this;Object.keys(s).forEach(function(t){var v=s[t];var u=r[t];if(!u){throw new ReferenceError(""+t+" defined but does not exist in "+r._storeName)}if(Array.isArray(v)){v.forEach(function(w){r.bindAction(w,u)})}else{r.bindAction(v,u)}})}};h.StoreMixinListeners=m},{"../symbols/symbols":9}],12:[function(t,g,H){var F=function(I){return I&&I.__esModule?I:{"default":I}};var y=Function.prototype.bind;var l=function(I,J){if(!(I instanceof J)){throw new TypeError("Cannot call a class as a function")}};var f=function D(J,M,L){var N=Object.getOwnPropertyDescriptor(J,M);if(N===undefined){var K=Object.getPrototypeOf(J);if(K===null){return undefined}else{return D(K,M,L)}}else{if("value" in N){return N.value}else{var I=N.get;if(I===undefined){return undefined}return I.call(L)}}};var z=function(J,I){if(typeof I!=="function"&&I!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof I)}J.prototype=Object.create(I&&I.prototype,{constructor:{value:J,enumerable:false,writable:true,configurable:true}});if(I){J.__proto__=I}};Object.defineProperty(H,"__esModule",{value:true});H.transformStore=r;H.createStoreFromObject=m;H.createStoreFromClass=u;var h=t("object-assign");var n=F(h);var G=t("../AltStore");var x=F(G);var E=t("./StoreMixins");var w=F(E);var i=t("./getInternalMethods");var e=F(i);var A=t("../symbols/symbols");var C=F(A);var o=w.StoreMixinListeners;var k=w.StoreMixinEssentials;var q=C.ALL_LISTENERS;var p=C.LIFECYCLE;var s=C.LISTENERS;var j=C.PUBLIC_METHODS;var B=C.STATE_CONTAINER;function v(I,M,L){if(!L){return}var J=M.StoreModel.config;var K=typeof L==="function"?L(M[B]):L;M[B]=J.setState.call(I,M[B],K);if(!I.alt.dispatcher.isDispatching()){I.emitChange()}}function r(J,I){return J.reduce(function(L,K){return K(L)},I)}function m(N,I,J){var M=undefined;var L={};L[q]=[];L[p]={};L[s]={};n["default"](L,{_storeName:J,alt:N,dispatcher:N.dispatcher,getInstance:function K(){return M},setState:function O(P){v(this,M,P)}},o,k,I);if(L.bindListeners){o.bindListeners.call(L,L.bindListeners)}if(L.lifecycle){Object.keys(L.lifecycle).forEach(function(P){o.on.call(L,P,L.lifecycle[P])})}M=n["default"](new x["default"](N,L,L.state,I),L.publicMethods,{displayName:J});return M}function u(L,M,T){for(var Q=arguments.length,S=Array(Q>3?Q-3:0),I=3;I<Q;I++){S[I-3]=arguments[I]}var P=undefined;var J=M.config;var O=(function(V){function U(){for(var W=arguments.length,Y=Array(W),X=0;X<W;X++){Y[X]=arguments[X]}l(this,U);f(Object.getPrototypeOf(U.prototype),"constructor",this).apply(this,Y)}z(U,V);return U})(M);n["default"](O.prototype,o,k,{_storeName:T,alt:L,dispatcher:L.dispatcher,getInstance:function K(){return P},setState:function N(U){v(this,P,U)}});O.prototype[q]=[];O.prototype[p]={};O.prototype[s]={};O.prototype[j]={};var R=new (y.apply(O,[null].concat(S)))();P=n["default"](new x["default"](L,R,R[L.config.stateKey]||R[J.stateKey]||null,M),e["default"](M),{displayName:T});return P}},{"../AltStore":8,"../symbols/symbols":9,"./StoreMixins":11,"./getInternalMethods":15,"object-assign":6}],13:[function(g,i,e){var f=function(l){return l&&l.__esModule?l:{"default":l}};Object.defineProperty(e,"__esModule",{value:true});var j=g("object-assign");var h=f(j);function k(n,m){m.config=h["default"]({getState:function l(o){return Object.keys(o).reduce(function(q,p){q[p]=o[p];return q},{})},setState:h["default"]},n,m.config)}e["default"]=k;i.exports=e["default"]},{"object-assign":6}],14:[function(f,g,e){Object.defineProperty(e,"__esModule",{value:true});e["default"]=h;function h(i){return i.replace(/[a-z]([A-Z])/g,function(j){return""+j[0]+"_"+j[1].toLowerCase()}).toUpperCase()}g.exports=e["default"]},{}],15:[function(h,i,f){Object.defineProperty(f,"__esModule",{value:true});f["default"]=j;function e(){}var k=Object.getOwnPropertyNames(e);var g=Object.getOwnPropertyNames(e.prototype);function j(n,m){var l=m?g:k;return Object.getOwnPropertyNames(n).reduce(function(p,o){if(l.indexOf(o)!==-1){return p}p[o]=n[o];return p},{})}i.exports=f["default"]},{}],16:[function(f,h,e){Object.defineProperty(e,"__esModule",{value:true});e["default"]=g;function g(i,j){var l=0;var k=j;while(Object.hasOwnProperty.call(i,k)){k=j+String(++l)}return k}h.exports=e["default"]},{}],17:[function(f,g,e){Object.defineProperty(e,"__esModule",{value:true});e.warn=h;function h(i){if(typeof console!=="undefined"){console.warn(new ReferenceError(i))}}},{}],18:[function(h,f,R){var M=function(Y){return Y&&Y.__esModule?Y:{"default":Y}};var l=Function.prototype.bind;var W=function V(Z,ac,ab){var ad=Object.getOwnPropertyDescriptor(Z,ac);if(ad===undefined){var aa=Object.getPrototypeOf(Z);if(aa===null){return undefined}else{return V(aa,ac,ab)}}else{if("value" in ad){return ad.value}else{var Y=ad.get;if(Y===undefined){return undefined}return Y.call(ab)}}};var F=function(Z,Y){if(typeof Y!=="function"&&Y!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof Y)}Z.prototype=Object.create(Y&&Y.prototype,{constructor:{value:Z,enumerable:false,writable:true,configurable:true}});if(Y){Z.__proto__=Y}};var O=function(Y,Z){if(!(Y instanceof Z)){throw new TypeError("Cannot call a class as a function")}};var n=(function(){function Y(ac,aa){for(var Z=0;Z<aa.length;Z++){var ab=aa[Z];ab.enumerable=ab.enumerable||false;ab.configurable=true;if("value" in ab){ab.writable=true}Object.defineProperty(ac,ab.key,ab)}}return function(ab,Z,aa){if(Z){Y(ab.prototype,Z)}if(aa){Y(ab,aa)}return ab}})();Object.defineProperty(R,"__esModule",{value:true});var K=h("./AltAction");var y=M(K);var X=h("es-symbol");var U=M(X);var k=h("object-assign");var u=M(k);var T=h("./utils/formatAsConstant");var B=M(T);var G=h("./utils/getInternalMethods");var H=M(G);var m=h("./utils/uid");var L=M(m);var v=h("flux");var q=h("./utils/warnings");var t=h("./utils/StoreUtils");var C=M(t);var r=h("./symbols/symbols");var N=M(r);var p=h("./utils/StateFunctions");var D=M(p);var A=h("./utils/createStoreConfig");var I=M(A);var i=C.createStoreFromObject;var z=C.createStoreFromClass;var o=C.transformStore;var J=N.ACTION_HANDLER;var g=N.ACTION_KEY;var w=N.INIT_SNAPSHOT;var S=N.LAST_SNAPSHOT;var P=N.LIFECYCLE;var s=D.filterSnapshots;var Q=D.saveInitialSnapshot;var E=D.setAppState;var x=D.snapshot;var j=U["default"]();var e=(function(){function ag(){var ap=arguments[0]===undefined?{}:arguments[0];O(this,ag);this.config=ap;this.serialize=ap.serialize||JSON.stringify;this.deserialize=ap.deserialize||JSON.parse;this.dispatcher=ap.dispatcher||new v.Dispatcher();this.actions={};this.stores={};this.storeTransforms=ap.storeTransforms||[];this[j]={};this[w]={};this[S]={}}n(ag,[{key:"dispatch",value:function ah(aq,ap){this.dispatcher.dispatch({action:aq,data:ap})}},{key:"createUnsavedStore",value:function ae(ar){for(var ap=arguments.length,aq=Array(ap>1?ap-1:0),au=1;au<ap;au++){aq[au-1]=arguments[au]}var at=ar.displayName||"";I["default"](this.config,ar);var av=o(this.storeTransforms,ar);return typeof av==="object"?i(this,av,at):z.apply(undefined,[this,av,at].concat(aq))}},{key:"createStore",value:function ai(au,at){for(var ap=arguments.length,ar=Array(ap>2?ap-2:0),aq=2;aq<ap;aq++){ar[aq-2]=arguments[aq]}var av=at||au.displayName||au.name||"";I["default"](this.config,au);var ax=o(this.storeTransforms,au);if(this.stores[av]||!av){if(this.stores[av]){q.warn("A store named "+av+" already exists, double check your store names or pass in your own custom identifier for each store")}else{q.warn("Store name was not specified")}av=L["default"](this.stores,av)}var aw=typeof ax==="object"?i(this,ax,av):z.apply(undefined,[this,ax,av].concat(ar));this.stores[av]=aw;Q(this,av);return aw}},{key:"generateActions",value:function ak(){for(var ar=arguments.length,aq=Array(ar),ap=0;ap<ar;ap++){aq[ap]=arguments[ap]}return this.createActions(function(){this.generateActions.apply(this,aq)})}},{key:"createAction",value:function al(ar,aq,av){var aw=L["default"](this[j],"Alt."+ar);this[j][aw]=1;var ap=U["default"]["for"](aw);var au=new y["default"](this,ap,aq,av);var at=au[J];at.defer=function(){for(var az=arguments.length,ay=Array(az),ax=0;ax<az;ax++){ay[ax]=arguments[ax]}setTimeout(function(){au[J].apply(null,ay)})};at[g]=ap;return at}},{key:"createActions",value:function ac(aw){var ax=this;for(var au=arguments.length,ar=Array(au>2?au-2:0),ap=2;ap<au;ap++){ar[ap-2]=arguments[ap]}var at=arguments[1]===undefined?{}:arguments[1];var av={};var aq=aw.displayName||aw.name||"";if(typeof aw==="function"){(function(){u["default"](av,H["default"](aw.prototype,true));var ay=(function(aB){function az(){for(var aD=arguments.length,aC=Array(aD),aE=0;aE<aD;aE++){aC[aE]=arguments[aE]}O(this,az);W(Object.getPrototypeOf(az.prototype),"constructor",this).apply(this,aC)}F(az,aB);n(az,[{key:"generateActions",value:function aA(){for(var aC=arguments.length,aE=Array(aC),aD=0;aD<aC;aD++){aE[aD]=arguments[aD]}aE.forEach(function(aF){av[aF]=function(aG){for(var aI=arguments.length,aH=Array(aI>1?aI-1:0),aJ=1;aJ<aI;aJ++){aH[aJ-1]=arguments[aJ]}this.dispatch(aH.length?[aG].concat(aH):aG)}})}}]);return az})(aw);u["default"](av,new (l.apply(ay,[null].concat(ar)))())})()}else{u["default"](av,aw)}return Object.keys(av).reduce(function(aA,az){aA[az]=ax.createAction(""+aq+"#"+az,av[az],aA);var ay=B["default"](az);aA[ay]=aA[az][g];return aA},at)}},{key:"takeSnapshot",value:function am(){for(var aq=arguments.length,ap=Array(aq),at=0;at<aq;at++){ap[at]=arguments[at]}var ar=x(this,ap);u["default"](this[S],ar);return this.serialize(ar)}},{key:"rollback",value:function an(){E(this,this.serialize(this[S]),function(ap){if(ap[P].rollback){ap[P].rollback()}ap.emitChange()})}},{key:"recycle",value:function ab(){for(var ar=arguments.length,aq=Array(ar),at=0;at<ar;at++){aq[at]=arguments[at]}var ap=aq.length?s(this,this[w],aq):this[w];E(this,this.serialize(ap),function(au){if(au[P].init){au[P].init()}au.emitChange()})}},{key:"flush",value:function ao(){var ap=this.serialize(x(this));this.recycle();return ap}},{key:"bootstrap",value:function ad(ap){E(this,ap,function(aq){if(aq[P].bootstrap){aq[P].bootstrap()}aq.emitChange()})}},{key:"prepare",value:function aj(ap,ar){var aq={};if(!ap._storeName){throw new ReferenceError("Store provided does not have a name")}aq[ap._storeName]=ar;return this.serialize(aq)}},{key:"addActions",value:function aa(ar,au){for(var aq=arguments.length,ap=Array(aq>2?aq-2:0),at=2;at<aq;at++){ap[at-2]=arguments[at]}this.actions[ar]=Array.isArray(au)?this.generateActions.apply(this,au):this.createActions.apply(this,[au].concat(ap))}},{key:"addStore",value:function Z(at,ar){for(var ap=arguments.length,aq=Array(ap>2?ap-2:0),au=2;au<ap;au++){aq[au-2]=arguments[au]}this.createStore.apply(this,[ar,at].concat(aq))}},{key:"getActions",value:function Y(ap){return this.actions[ap]}},{key:"getStore",value:function af(ap){return this.stores[ap]}}]);return ag})();R["default"]=e;f.exports=R["default"]},{"./AltAction":7,"./symbols/symbols":9,"./utils/StateFunctions":10,"./utils/StoreUtils":12,"./utils/createStoreConfig":13,"./utils/formatAsConstant":14,"./utils/getInternalMethods":15,"./utils/uid":16,"./utils/warnings":17,"es-symbol":1,flux:3,"object-assign":6}]},{},[18])(18)});