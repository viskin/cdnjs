{"version":3,"file":"ramjet.umd.js","sources":["../src/ramjet.js","../src/transformer.js","../src/utils/rAF.js","../src/utils/generateId.js","../src/utils/getKeyframes.js","../src/utils/addCss.js","../src/easing.js","../src/interpolators/transform.js","../src/interpolators/borderRadius.js","../src/interpolators/array.js","../src/interpolators/rgba.js","../src/interpolators/opacity.js","../src/Wrapper.js","../src/utils/matrix.js","../src/utils/detect.js","../src/utils/findParent.js","../src/utils/parseBorderRadius.js","../src/utils/parseColor.js","../src/utils/node.js","../src/utils/svg.js","../node_modules/stacking-order/src/index.js","../node_modules/stacking-order/src/utils/last.js","../node_modules/stacking-order/src/utils/getZIndex.js","../node_modules/stacking-order/src/utils/getAncestors.js","../node_modules/stacking-order/src/utils/findStackingContext.js"],"sourcesContent":["import { compare } from 'stacking-order';\nimport { showNode, hideNode } from './utils/node.js';\nimport Wrapper from './Wrapper.js';\nimport transformer from './transformer.js';\n\nexport function transform ( fromNode, toNode, options = {} ) {\n\tif ( typeof options === 'function' ) {\n\t\toptions = { done: options };\n\t}\n\n\tif ( !( 'duration' in options ) ) {\n\t\toptions.duration = 400;\n\t}\n\n\tconst from = new Wrapper( fromNode, options );\n\tconst to = new Wrapper( toNode, options );\n\n\tconst order = compare( from._node, to._node );\n\n\tfrom.setOpacity( 1 );\n\tto.setOpacity( 0 );\n\n\t// in many cases, the stacking order of `from` and `to` is\n\t// determined by their relative location in the document â€“\n\t// so we need to preserve it\n\tif ( order === 1 ) {\n\t\tto.insert();\n\t\tfrom.insert();\n\t} else {\n\t\tfrom.insert();\n\t\tto.insert();\n\t}\n\n\treturn transformer( from, to, options );\n}\n\nexport function hide ( ...nodes ) {\n\tnodes.forEach( hideNode );\n}\n\nexport function show ( ...nodes ) {\n\tnodes.forEach( showNode );\n}\n\n// expose some basic easing functions\nexport { linear, easeIn, easeOut, easeInOut } from './easing.js';\n","import { compare } from 'stacking-order';\nimport getOpacityInterpolator from './interpolators/opacity.js';\nimport getRgbaInterpolator from './interpolators/rgba.js';\nimport getBorderRadiusInterpolator from './interpolators/borderRadius.js';\nimport getTransformInterpolator from './interpolators/transform.js';\nimport { linear } from './easing.js';\nimport addCss from './utils/addCss.js';\nimport getKeyframes from './utils/getKeyframes.js';\nimport generateId from './utils/generateId.js';\nimport {\n\tKEYFRAMES,\n\tANIMATION_END,\n\tkeyframesSupported\n} from './utils/detect.js';\nimport rAF from './utils/rAF.js';\n\nexport default function transformer ( from, to, options ) {\n\tconst duration = options.duration || 400;\n\tconst easing = options.easing || linear;\n\n\tconst useTimer = !keyframesSupported || !!options.useTimer;\n\n\tconst order = compare( from._node, to._node );\n\n\tconst interpolators = {\n\t\topacity: getOpacityInterpolator( from.opacity, to.opacity, order ),\n\t\tbackgroundColor: options.interpolateBackgroundColor ? getRgbaInterpolator( from.rgba, to.rgba, order ) : null,\n\t\tborderRadius: options.interpolateBorderRadius ? getBorderRadiusInterpolator( from, to ) : null,\n\t\ttransformFrom: getTransformInterpolator( from, to ),\n\t\ttransformTo: getTransformInterpolator( to, from )\n\t};\n\n\tlet running;\n\tlet disposeCss;\n\tlet torndown;\n\n\tlet remaining = duration;\n\tlet endTime;\n\n\tfunction tick () {\n\t\tif ( !running ) return;\n\n\t\tconst timeNow = Date.now();\n\t\tremaining = endTime - timeNow;\n\n\t\tif ( remaining < 0 ) {\n\t\t\ttransformer.teardown();\n\t\t\tif ( options.done ) options.done();\n\n\t\t\treturn;\n\t\t}\n\n\t\tconst t = easing( 1 - ( remaining / duration ) );\n\t\ttransformer.goto( t );\n\n\t\trAF( tick );\n\t}\n\n\tconst transformer = {\n\t\tteardown () {\n\t\t\tif ( torndown ) return transformer;\n\n\t\t\trunning = false;\n\t\t\ttorndown = true;\n\n\t\t\tfrom.detach();\n\t\t\tto.detach();\n\n\t\t\tfrom = null;\n\t\t\tto = null;\n\n\t\t\treturn transformer;\n\t\t},\n\n\t\tgoto ( pos ) {\n\t\t\ttransformer.pause();\n\n\t\t\tconst t = easing( pos );\n\n\t\t\t// opacity\n\t\t\tconst opacity = interpolators.opacity( t );\n\t\t\tfrom.setOpacity( opacity.from );\n\t\t\tto.setOpacity( opacity.to );\n\n\t\t\t// transform\n\t\t\tconst transformFrom = interpolators.transformFrom( t );\n\t\t\tconst transformTo = interpolators.transformTo( 1 - t );\n\t\t\tfrom.setTransform( transformFrom );\n\t\t\tto.setTransform( transformTo );\n\n\t\t\t// background color\n\t\t\tif ( interpolators.backgroundColor ) {\n\t\t\t\tconst backgroundColor = interpolators.backgroundColor( t );\n\t\t\t\tfrom.setBackgroundColor( backgroundColor.from );\n\t\t\t\tto.setBackgroundColor( backgroundColor.to );\n\t\t\t}\n\n\t\t\t// border radius\n\t\t\tif ( interpolators.borderRadius ) {\n\t\t\t\tconst borderRadius = interpolators.borderRadius( t );\n\t\t\t\tfrom.setBorderRadius( borderRadius.from );\n\t\t\t\tto.setBorderRadius( borderRadius.to );\n\t\t\t}\n\n\t\t\treturn transformer;\n\t\t},\n\n\t\tpause () {\n\t\t\tif ( !running ) return transformer;\n\t\t\trunning = false;\n\n\t\t\tif ( !useTimer ) {\n\t\t\t\t// TODO derive current position somehow, use that rather than\n\t\t\t\t// current computed style (from and to get out of sync in\n\t\t\t\t// some browsers?)\n\t\t\t\tremaining = endTime - Date.now();\n\n\t\t\t\tfrom.freeze();\n\t\t\t\tto.freeze();\n\t\t\t\tdisposeCss();\n\t\t\t}\n\n\t\t\treturn transformer;\n\t\t},\n\n\t\tplay () {\n\t\t\tif ( running ) return transformer;\n\t\t\trunning = true;\n\n\t\t\tendTime = Date.now() + remaining;\n\n\t\t\tif ( useTimer ) {\n\t\t\t\trAF( tick );\n\t\t\t} else {\n\t\t\t\tconst { fromKeyframes, toKeyframes } = getKeyframes( from, to, interpolators, options.easing || linear, remaining, duration );\n\n\t\t\t\tconst fromId = generateId();\n\t\t\t\tconst toId = generateId();\n\n\t\t\t\tconst css = `\n\t\t\t\t\t${KEYFRAMES} ${fromId} { ${fromKeyframes} }\n\t\t\t\t\t${KEYFRAMES} ${toId}   { ${toKeyframes} }`;\n\n\t\t\t\tdisposeCss = addCss( css );\n\n\t\t\t\tfrom.animateWithKeyframes( fromId, remaining );\n\t\t\t\tto.animateWithKeyframes( toId, remaining );\n\t\t\t}\n\n\t\t\treturn transformer;\n\t\t}\n\t};\n\n\t// handle animation end\n\tif ( !useTimer ) {\n\t\tlet animating = 2;\n\n\t\tconst done = () => {\n\t\t\tif ( !--animating ) {\n\t\t\t\ttransformer.teardown();\n\n\t\t\t\tif ( options.done ) options.done();\n\n\t\t\t\tdisposeCss();\n\t\t\t}\n\t\t};\n\n\t\tfrom._clone.addEventListener( ANIMATION_END, done );\n\t\tto._clone.addEventListener( ANIMATION_END, done );\n\t}\n\n\treturn transformer.play();\n}\n","const rAF = window.requestAnimationFrame       ||\n            window.webkitRequestAnimationFrame ||\n            ( fn => setTimeout( fn, 16 ) );\n\nexport default rAF;","export default function generateId () {\n\treturn 'ramjet' + ~~( Math.random() * 1000000 );\n}\n","import { TRANSFORM_CSS } from './detect.js';\n\nexport default function getKeyframes ( from, to, interpolators, easing, remaining, duration ) {\n\tconst numFrames = remaining / 16;\n\n\tlet fromKeyframes = '';\n\tlet toKeyframes = '';\n\n\tfunction addKeyframes ( pc, t ) {\n\t\tconst opacity = interpolators.opacity( t );\n\t\tconst backgroundColor = interpolators.backgroundColor ? interpolators.backgroundColor( t ) : null;\n\t\tconst borderRadius = interpolators.borderRadius ? interpolators.borderRadius( t ) : null;\n\t\tconst transformFrom = interpolators.transformFrom( t );\n\t\tconst transformTo = interpolators.transformTo( 1 - t );\n\n\t\tfromKeyframes += '\\n' +\n\t\t\t`${pc}% {` +\n\t\t\t\t`opacity: ${opacity.from};` +\n\t\t\t\t`${TRANSFORM_CSS}: ${transformFrom};` +\n\t\t\t\t( backgroundColor ? `background-color: ${backgroundColor.from};` : '' ) +\n\t\t\t\t( borderRadius ? `border-radius: ${borderRadius.from};` : '' ) +\n\t\t\t`}`;\n\n\t\ttoKeyframes += '\\n' +\n\t\t\t`${pc}% {` +\n\t\t\t\t`opacity: ${opacity.to};` +\n\t\t\t\t`${TRANSFORM_CSS}: ${transformTo};` +\n\t\t\t\t( backgroundColor ? `background-color: ${backgroundColor.to};` : '' ) +\n\t\t\t\t( borderRadius ? `border-radius: ${borderRadius.to};` : '' ) +\n\t\t\t`}`;\n\t}\n\n\tlet i;\n\tlet startPos = 1 - ( remaining / duration );\n\n\tfor ( i = 0; i < numFrames; i += 1 ) {\n\t\tconst relPos = i / numFrames;\n\t\tconst absPos = startPos + ( ( remaining / duration ) * relPos );\n\n\t\tconst pc = 100 * relPos;\n\t\tconst t = easing( absPos );\n\n\t\taddKeyframes( pc, t );\n\t}\n\n\taddKeyframes( 100, 1 );\n\n\treturn { fromKeyframes, toKeyframes };\n}\n","const head = document.getElementsByTagName( 'head' )[0];\n\nexport default function addCss ( css ) {\n\tlet styleElement = document.createElement( 'style' );\n\tstyleElement.type = 'text/css';\n\n\t// Internet Exploder won't let you use styleSheet.innerHTML - we have to\n\t// use styleSheet.cssText instead\n\tlet styleSheet = styleElement.styleSheet;\n\n\tif ( styleSheet ) {\n\t\tstyleSheet.cssText = css;\n\t} else {\n\t\tstyleElement.innerHTML = css;\n\t}\n\n\thead.appendChild( styleElement );\n\n\treturn () => head.removeChild( styleElement );\n}\n","export function linear ( pos ) {\n\treturn pos;\n}\n\nexport function easeIn ( pos ) {\n\treturn Math.pow( pos, 3 );\n}\n\nexport function easeOut ( pos ) {\n\treturn ( Math.pow( ( pos - 1 ), 3 ) + 1 );\n}\n\nexport function easeInOut ( pos ) {\n\tif ( ( pos /= 0.5 ) < 1 ) {\n\t\treturn ( 0.5 * Math.pow( pos, 3 ) );\n\t}\n\n\treturn ( 0.5 * ( Math.pow( ( pos - 2 ), 3 ) + 2 ) );\n}","import { IDENTITY, decompose, multiply } from '../utils/matrix';\n\nfunction interpolateMatrices ( a, b ) {\n\tlet transform = [];\n\n\treturn t => {\n\t\tlet i = a.length;\n\t\twhile ( i-- ) {\n\t\t\tconst from = a[i];\n\t\t\tconst to = b[i];\n\t\t\ttransform[i] = from + t * ( to - from );\n\t\t}\n\n\t\treturn `matrix(${transform.join(',')})`;\n\t};\n}\n\nfunction interpolate ( a, b ) {\n\tconst d = b - a;\n\treturn t => a + t * d;\n}\n\nfunction getRotation ( radians ) {\n\twhile ( radians > Math.PI ) radians -= Math.PI * 2;\n\twhile ( radians < -Math.PI ) radians += Math.PI * 2;\n\treturn radians;\n}\n\nfunction interpolateDecomposedTransforms ( a, b ) {\n\tconst rotate = interpolate( getRotation( a.rotate ), getRotation( b.rotate ) );\n\tconst skewX = interpolate( a.skewX, b.skewX );\n\tconst scaleX = interpolate( a.scaleX, b.scaleX );\n\tconst scaleY = interpolate( a.scaleY, b.scaleY );\n\tconst translateX = interpolate( a.translateX, b.translateX );\n\tconst translateY = interpolate( a.translateY, b.translateY );\n\n\treturn t => {\n\t\tconst transform = `translate(${translateX(t)}px, ${translateY(t)}px) rotate(${rotate(t)}rad) skewX(${skewX(t)}rad) scale(${scaleX(t)}, ${scaleY(t)})`;\n\t\treturn transform;\n\t};\n}\n\nexport default function getTransformInterpolator ( a, b ) {\n\tconst scale_x = b.width / a.width;\n\tconst scale_y = b.height / a.height;\n\tconst d_x = b.left - a.left;\n\tconst d_y = b.top - a.top;\n\n\tconst a_start = a.transform;\n\n\tconst move_a_to_b = [ 1, 0, 0, 1, d_x, d_y ];\n\tconst scale_a_to_b = [ scale_x, 0, 0, scale_y, 0, 0 ];\n\n\tlet matrix = IDENTITY;\n\n\tmatrix = multiply( matrix, a.invertedParentCTM );\n\tmatrix = multiply( matrix, move_a_to_b );\n\tmatrix = multiply( matrix, b.ctm );\n\tmatrix = multiply( matrix, scale_a_to_b );\n\n\tconst decomposed_start = decompose( a_start );\n\tconst decomposed_end = decompose( matrix );\n\n\tif ( !decomposed_start || !decomposed_end ) return interpolateMatrices( a_start, matrix );\n\treturn interpolateDecomposedTransforms( decomposed_start, decomposed_end );\n}\n","import interpolateArray from './array.js';\n\n// Border radius is given as a string in the following form\n//\n//     tl.x tr.x br.x bl.x / tl.y tr.y br.y bl.y\n//\n// ...where t, r, b and l are top, right, bottom, left, and\n// x and y are self-explanatory. Each value is followed by 'px'\n\n// TODO it must be possible to do this more simply. Maybe have\n// a flat array from the start?\n\nexport default function getBorderRadiusInterpolator ( a, b ) {\n\t// TODO fast path - no transition needed\n\n\tconst aWidth = a.width;\n\tconst aHeight = a.height;\n\n\tconst bWidth = b.width;\n\tconst bHeight = b.height;\n\n\ta = a.borderRadius;\n\tb = b.borderRadius;\n\n\tconst a_x_t0 = [ a.tl.x, a.tr.x, a.br.x, a.bl.x ];\n\tconst a_y_t0 = [ a.tl.y, a.tr.y, a.br.y, a.bl.y ];\n\n\tconst b_x_t1 = [ b.tl.x, b.tr.x, b.br.x, b.bl.x ];\n\tconst b_y_t1 = [ b.tl.y, b.tr.y, b.br.y, b.bl.y ];\n\n\tconst a_x_t1 = b_x_t1.map( x => x * aWidth / bWidth );\n\tconst a_y_t1 = b_y_t1.map( y => y * aHeight / bHeight );\n\n\tconst b_x_t0 = a_x_t0.map( x => x * bWidth / aWidth );\n\tconst b_y_t0 = a_y_t0.map( y => y * bHeight / aHeight );\n\n\tconst ax = interpolateArray( a_x_t0, a_x_t1 );\n\tconst ay = interpolateArray( a_y_t0, a_y_t1 );\n\n\tconst bx = interpolateArray( b_x_t0, b_x_t1 );\n\tconst by = interpolateArray( b_y_t0, b_y_t1 );\n\n\tlet borderRadius = {};\n\n\treturn t => {\n\t\tlet x = ax( t );\n\t\tlet y = ay( t );\n\n\t\tborderRadius.from = `${x.join('px ')}px / ${y.join('px ')}px`;\n\n\t\tx = bx( t );\n\t\ty = by( t );\n\n\t\tborderRadius.to = `${x.join('px ')}px / ${y.join('px ')}px`;\n\n\t\treturn borderRadius;\n\t};\n}\n","export default function interpolateArray ( a, b ) {\n\tconst len = a.length;\n\tlet array = new Array( len );\n\n\treturn t => {\n\t\tlet i = len;\n\t\twhile ( i-- ) {\n\t\t\tarray[i] = a[i] + t * ( b[i] - a[i] );\n\t\t}\n\n\t\treturn array;\n\t};\n}\n","import getOpacityInterpolator from './opacity';\n\nexport default function getRgbaInterpolator ( a, b, order ) {\n\tif ( a.alpha === 1 && b.alpha === 1 ) {\n\t\t// no need to animate anything\n\t\treturn null;\n\t}\n\n\tlet rgba = {};\n\tlet opacityAt = getOpacityInterpolator( a.alpha, b.alpha, order );\n\n\treturn t => {\n\t\tconst opacity = opacityAt( t );\n\n\t\trgba.from = `rgba(${a.r},${a.g},${a.b},${opacity.from})`;\n\t\trgba.to = `rgba(${b.r},${b.g},${b.b},${opacity.to})`;\n\n\t\treturn rgba;\n\t};\n}\n","export default function getOpacityInterpolator ( from, to, order ) {\n\tlet opacity = {};\n\n\treturn t => {\n\t\tconst targetOpacity = ( to - from ) * t + from;\n\n\t\t// Based on the blending formula here. (http://en.wikipedia.org/wiki/Alpha_compositing#Alpha_blending)\n\t\t// This is a quadratic blending function that makes the top layer and bottom layer blend linearly.\n\t\t// However there is an asymptote at target=1 so that needs to be handled with an if else statement.\n\t\tif ( targetOpacity === 1 ) {\n\t\t\tif ( order === 1 ) {\n\t\t\t\topacity.from = 1 - t;\n\t\t\t\topacity.to = 1;\n\t\t\t} else {\n\t\t\t\topacity.from = 1;\n\t\t\t\topacity.to = t;\n\t\t\t}\n\t\t} else {\n\t\t\topacity.from = targetOpacity - ( t * t * targetOpacity );\n\t\t\topacity.to = ( targetOpacity - opacity.from ) / ( 1 - opacity.from );\n\t\t}\n\n\t\treturn opacity;\n\t};\n}\n","import { cloneNode } from './utils/node.js';\nimport parseColor from './utils/parseColor.js';\nimport parseBorderRadius from './utils/parseBorderRadius.js';\nimport { svgns } from './utils/svg.js';\nimport { findParentByTagName } from './utils/findParent.js';\nimport {\n\tANIMATION,\n\tANIMATION_DIRECTION,\n\tANIMATION_DURATION,\n\tANIMATION_ITERATION_COUNT,\n\tANIMATION_NAME,\n\tANIMATION_TIMING_FUNCTION,\n\tTRANSFORM,\n\tTRANSFORM_ORIGIN\n} from './utils/detect.js';\nimport {\n\tinvert,\n\tgetCumulativeTransformMatrix,\n\tgetTransformMatrix,\n\tmultiply,\n\tIDENTITY\n} from './utils/matrix.js';\n\nfunction getBoundingClientRect ( node, invertedParentCTM ) {\n\tconst originalTransformOrigin = node.style[ TRANSFORM_ORIGIN ];\n\tconst originalTransform = node.style[ TRANSFORM ];\n\tconst originalTransformAttribute = node.getAttribute( 'transform' ); // SVG\n\n\tnode.style[ TRANSFORM_ORIGIN ] = '0 0';\n\tnode.style[ TRANSFORM ] = `matrix(${invertedParentCTM.join(',')})`;\n\n\tconst bcr = node.getBoundingClientRect();\n\n\t// reset\n\tnode.style[ TRANSFORM_ORIGIN ] = originalTransformOrigin;\n\tnode.style[ TRANSFORM ] = originalTransform;\n\tnode.setAttribute( 'transform', originalTransformAttribute || '' ); // TODO remove attribute altogether if null?\n\n\treturn bcr;\n}\n\nexport default class Wrapper {\n\tconstructor ( node, options ) {\n\t\tthis.init( node, options );\n\t}\n\n\tinit ( node ) {\n\t\tthis._node = node;\n\t\tthis._clone = cloneNode( node );\n\n\t\tconst style = window.getComputedStyle( node );\n\t\tthis.style = style;\n\n\t\t// we need to get the 'naked' boundingClientRect, i.e.\n\t\t// without any transforms\n\t\t// TODO what if the node is the root <svg> node?\n\t\tconst parentCTM = node.namespaceURI === 'svg' ? node.parentNode.getScreenCTM() : getCumulativeTransformMatrix( node.parentNode );\n\t\tthis.invertedParentCTM = invert( parentCTM );\n\t\tthis.transform = getTransformMatrix( node ) || IDENTITY;\n\t\tthis.ctm = multiply( parentCTM, this.transform );\n\n\t\tconst bcr = getBoundingClientRect( node, this.invertedParentCTM );\n\t\tthis.bcr = bcr;\n\n\t\t// TODO create a flat array? easier to work with later?\n\t\tconst borderRadius = {\n\t\t\ttl: parseBorderRadius( style.borderTopLeftRadius ),\n\t\t\ttr: parseBorderRadius( style.borderTopRightRadius ),\n\t\t\tbr: parseBorderRadius( style.borderBottomRightRadius ),\n\t\t\tbl: parseBorderRadius( style.borderBottomLeftRadius )\n\t\t};\n\n\t\tthis.borderRadius = borderRadius;\n\t\tthis.opacity = +( style.opacity );\n\t\tthis.rgba = parseColor( style.backgroundColor );\n\n\t\tthis.left = bcr.left;\n\t\tthis.top = bcr.top;\n\t\tthis.width = bcr.width;\n\t\tthis.height = bcr.height;\n\t}\n\n\tinsert () {\n\t\tconst bcr = this.bcr;\n\n\t\tconst offsetParent = this._node.offsetParent;\n\n\t\tlet clone;\n\n\t\tif ( this._node.namespaceURI === svgns ) { // TODO what if it's the <svg> itself, not a child?\n\t\t\tconst svg = findParentByTagName( this._node, 'svg' ); // TODO should be the namespace boundary - could be SVG inside SVG\n\n\t\t\tclone = svg.cloneNode( false );\n\t\t\tclone.appendChild( this._clone ); // TODO what about transforms?\n\t\t} else {\n\t\t\tclone = this._clone;\n\t\t}\n\n\t\tconst offsetParentStyle = window.getComputedStyle( offsetParent );\n\t\tconst offsetParentBcr = getBoundingClientRect( offsetParent, invert( getCumulativeTransformMatrix( offsetParent.parentNode ) ) );\n\n\t\tclone.style.position = 'absolute';\n\t\tclone.style[ TRANSFORM_ORIGIN ] = '0 0';\n\t\tclone.style.top = ( bcr.top - parseInt( this.style.marginTop, 10 ) - ( offsetParentBcr.top - parseInt( offsetParentStyle.marginTop, 10 ) ) ) + 'px';\n\t\tclone.style.left = ( bcr.left - parseInt( this.style.marginLeft, 10 ) - ( offsetParentBcr.left - parseInt( offsetParentStyle.marginLeft, 10 ) ) ) + 'px';\n\n\t\t// TODO we need to account for transforms *between* the offset parent and the node\n\n\t\toffsetParent.appendChild( clone );\n\t}\n\n\tdetach () {\n\t\tthis._clone.parentNode.removeChild( this._clone );\n\t}\n\n\tsetOpacity ( opacity ) {\n\t\tthis._clone.style.opacity = opacity;\n\t}\n\n\tsetTransform( transform ) {\n\t\tthis._clone.style.transform = this._clone.style.webkitTransform = this._clone.style.msTransform = transform;\n\t}\n\n\tsetBackgroundColor ( color ) {\n\t\tthis._clone.style.backgroundColor = color;\n\t}\n\n\tsetBorderRadius ( borderRadius ) {\n\t\tthis._clone.style.borderRadius = borderRadius;\n\t}\n\n\tanimateWithKeyframes ( id, duration ) {\n\t\tthis._clone.style[ ANIMATION_DIRECTION ] = 'alternate';\n\t\tthis._clone.style[ ANIMATION_DURATION ] = `${duration/1000}s`;\n\t\tthis._clone.style[ ANIMATION_ITERATION_COUNT ] = 1;\n\t\tthis._clone.style[ ANIMATION_NAME ] = id;\n\t\tthis._clone.style[ ANIMATION_TIMING_FUNCTION ] = 'linear';\n\t}\n\n\tfreeze () {\n\t\tconst computedStyle = getComputedStyle( this._clone );\n\n\t\tthis.setOpacity( computedStyle.opacity );\n\t\tthis.setTransform( computedStyle.transform );\n\t\tthis.setBackgroundColor( computedStyle.backgroundColor );\n\t\tthis.setBorderRadius( computedStyle.borderRadius );\n\n\t\tthis._clone.style[ ANIMATION ] = 'none';\n\t}\n}\n","import { svgns } from './svg.js';\nimport { TRANSFORM, TRANSFORM_ORIGIN } from './detect.js';\nimport { findTransformParent } from './findParent.js';\n\nexport const IDENTITY = [ 1, 0, 0, 1, 0, 0 ];\n\nexport function multiply ( [ a1, b1, c1, d1, e1, f1 ], [ a2, b2, c2, d2, e2, f2 ] ) {\n\treturn [\n\t\t( a1 * a2 ) + ( c1 * b2 ),      // a\n\t\t( b1 * a2 ) + ( d1 * b2 ),      // b\n\t\t( a1 * c2 ) + ( c1 * d2 ),      // c\n\t\t( b1 * c2 ) + ( d1 * d2 ),      // d\n\t\t( a1 * e2 ) + ( c1 * f2 ) + e1, // e\n\t\t( b1 * e2 ) + ( d1 * f2 ) + f1  // f\n\t];\n}\n\nexport function invert ( [ a, b, c, d, e, f ] ) {\n\tconst determinant = ( a * d ) - ( c * b );\n\n\treturn [\n\t\td /  determinant,\n\t\tb / -determinant,\n\t\tc / -determinant,\n\t\ta /  determinant,\n\t\t( ( c * f ) - ( e * d ) ) / determinant,\n\t\t( ( e * b ) - ( a * f ) ) / determinant\n\t];\n}\n\nfunction pythag ( a, b ) {\n\treturn Math.sqrt( a * a + b * b );\n}\n\nexport function decompose ( [ a, b, c, d, e, f ] ) {\n\t// If determinant equals zero (e.g. x scale or y scale equals zero),\n\t// the matrix cannot be decomposed\n\tif ( ( ( a * d ) - ( b * c ) ) === 0 ) return null;\n\n\t// See https://github.com/Rich-Harris/Neo/blob/master/Neo.js for\n\t// an explanation of the following\n\tconst scaleX = pythag( a, b );\n\ta /= scaleX;\n\tb /= scaleX;\n\n\tlet scaledShear = a * c + b * d;\n\tconst desheared = [ a * -scaledShear + c, b * -scaledShear + d ];\n\n\tconst scaleY = pythag( desheared[0], desheared[1] );\n\n\tconst skewX = scaledShear / scaleY;\n\n\tconst rotate = b > 0 ?\n\t\tMath.acos( a ) :\n\t\t( ( 2 * Math.PI ) - Math.acos( a ) );\n\n\treturn {\n\t\trotate,\n\t\tscaleX,\n\t\tscaleY,\n\t\tskewX,\n\t\ttranslateX: e,\n\t\ttranslateY: f\n\t};\n}\n\nexport function parseMatrixTransformString ( transform ) {\n\tif ( transform.slice( 0, 7 ) !== 'matrix(' ) {\n\t\tthrow new Error( `Could not parse transform string (${transform})` );\n\t}\n\n\treturn transform.slice( 7, -1 ).split( ' ' ).map( parseFloat );\n}\n\nexport function getCumulativeTransformMatrix ( node ) {\n\tif ( node.namespaceURI === svgns ) {\n\t\tconst { a, b, c, d, e, f } = node.getCTM();\n\t\treturn [ a, b, c, d, e, f ];\n\t}\n\n\tlet matrix = [ 1, 0, 0, 1, 0, 0 ];\n\n\twhile ( node instanceof Element ) {\n\t\tconst parentMatrix = getTransformMatrix( node );\n\n\t\tif ( parentMatrix ) {\n\t\t\tmatrix = multiply( parentMatrix, matrix );\n\t\t}\n\n\t\tnode = findTransformParent( node );\n\t}\n\n\treturn matrix;\n}\n\nexport function getTransformMatrix ( node ) {\n\tif ( node.namespaceURI === svgns ) {\n\t\tconst ctm = getCumulativeTransformMatrix( node );\n\t\tconst parentCTM = getCumulativeTransformMatrix( node.parentNode );\n\t\treturn multiply( invert( parentCTM ), ctm );\n\t}\n\n\tconst style = getComputedStyle( node );\n\tconst transform = style[ TRANSFORM ];\n\n\tif ( transform === 'none' ) {\n\t\treturn null;\n\t}\n\n\tconst origin = ( style[ TRANSFORM_ORIGIN ] ).split( ' ' ).map( parseFloat );\n\n\tlet matrix = parseMatrixTransformString( transform );\n\n\t// compensate for the transform origin (we want to express everything in [0,0] terms)\n\tmatrix = multiply( [ 1, 0, 0, 1, origin[0], origin[1] ], matrix );\n\tmatrix = multiply( matrix, [ 1, 0, 0, 1, -origin[0], -origin[1] ] );\n\n\t// TODO if is SVG, multiply by CTM, to account for viewBox\n\n\treturn matrix;\n}\n","const div = document.createElement( 'div' );\n\nlet keyframesSupported = true;\nlet TRANSFORM;\nlet TRANSFORM_ORIGIN;\nlet TRANSFORM_CSS;\nlet KEYFRAMES;\nlet ANIMATION;\nlet ANIMATION_DIRECTION;\nlet ANIMATION_DURATION;\nlet ANIMATION_ITERATION_COUNT;\nlet ANIMATION_NAME;\nlet ANIMATION_TIMING_FUNCTION;\nlet ANIMATION_END;\n\n// We have to browser-sniff for IE11, because it was apparently written\n// by a barrel of stoned monkeys - http://jsfiddle.net/rich_harris/oquLu2qL/\n\n// http://stackoverflow.com/questions/17907445/how-to-detect-ie11\nconst isIe11 = !window.ActiveXObject && 'ActiveXObject' in window;\n\nif (\n\t!isIe11 &&\n\t( 'transform' in div.style || 'webkitTransform' in div.style ) &&\n\t( 'animation' in div.style || 'webkitAnimation' in div.style )\n) {\n\tkeyframesSupported = true;\n\n\tif ( 'webkitTransform' in div.style ) {\n\t\tTRANSFORM = 'webkitTransform';\n\t\tTRANSFORM_CSS = '-webkit-transform';\n\t\tTRANSFORM_ORIGIN = 'webkitTransformOrigin';\n\t} else {\n\t\tTRANSFORM = TRANSFORM_CSS = 'transform';\n\t\tTRANSFORM_ORIGIN = 'transformOrigin';\n\t}\n\n\tif ( 'animation' in div.style ) {\n\t\tKEYFRAMES = '@keyframes';\n\n\t\tANIMATION                 = 'animation';\n\t\tANIMATION_DIRECTION       = 'animationDirection';\n\t\tANIMATION_DURATION        = 'animationDuration';\n\t\tANIMATION_ITERATION_COUNT = 'animationIterationCount';\n\t\tANIMATION_NAME            = 'animationName';\n\t\tANIMATION_TIMING_FUNCTION = 'animationTimingFunction';\n\n\t\tANIMATION_END             = 'animationend';\n\t} else {\n\t\tKEYFRAMES = '@-webkit-keyframes';\n\n\t\tANIMATION                 = 'webkitAnimation';\n\t\tANIMATION_DIRECTION       = 'webkitAnimationDirection';\n\t\tANIMATION_DURATION        = 'webkitAnimationDuration';\n\t\tANIMATION_ITERATION_COUNT = 'webkitAnimationIterationCount';\n\t\tANIMATION_NAME            = 'webkitAnimationName';\n\t\tANIMATION_TIMING_FUNCTION = 'webkitAnimationTimingFunction';\n\n\t\tANIMATION_END             = 'webkitAnimationEnd';\n\t}\n} else {\n\tkeyframesSupported = false;\n}\n\nexport {\n\tkeyframesSupported,\n\tTRANSFORM,\n\tTRANSFORM_ORIGIN,\n\tTRANSFORM_CSS,\n\tKEYFRAMES,\n\tANIMATION,\n\tANIMATION_DIRECTION,\n\tANIMATION_DURATION,\n\tANIMATION_ITERATION_COUNT,\n\tANIMATION_NAME,\n\tANIMATION_TIMING_FUNCTION,\n\tANIMATION_END\n};\n","import { svgns } from './svg';\n\nexport function findParentByTagName ( node, tagName ) {\n\twhile ( node ) {\n\t\tif ( node.tagName === tagName ) {\n\t\t\treturn node;\n\t\t}\n\n\t\tnode = node.parentNode;\n\t}\n}\n\nexport function findTransformParent ( node ) {\n\tconst isSvg = node.namespaceURI === svgns && node.tagName !== 'svg';\n\treturn isSvg ? findParentByTagName( node, 'svg' ) : node.parentNode;\n}","var borderRadiusRegex = /^(\\d+)px(?: (\\d+)px)?$/;\n\nexport default function parseBorderRadius ( str ) {\n\tconst match = borderRadiusRegex.exec( str );\n\n\treturn match[2] ?\n\t\t{ x: +match[1], y: +match[2] } :\n\t\t{ x: +match[1], y: +match[1] };\n}","const bgColorRegexp= /^rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d?.\\d+))?\\)$/;\n\nexport default function parseColor ( str ) {\n\tconst match = bgColorRegexp.exec( str );\n\n\tif ( !match ) return null;\n\n\treturn {\n\t\tr: +match[1],\n\t\tg: +match[2],\n\t\tb: +match[3],\n\t\talpha: match[4] ? +match[4] : 1\n\t};\n}","import { svgns } from './svg.js';\n\nexport function hideNode ( node ) {\n\tnode.__ramjetOriginalTransition__ = node.style.webkitTransition || node.style.transition;\n\tnode.__ramjetOriginalOpacity__ = node.style.opacity;\n\n\tnode.style.webkitTransition = node.style.transition = '';\n\n\tnode.style.opacity = 0;\n}\n\nexport function showNode ( node ) {\n\tif ( '__ramjetOriginalOpacity__' in node ) {\n\t\tnode.style.transition = '';\n\t\tnode.style.opacity = node.__ramjetOriginalOpacity__;\n\n\t\tif ( node.__ramjetOriginalTransition__ ) {\n\t\t\tsetTimeout( () => {\n\t\t\t\tnode.style.transition = node.__ramjetOriginalTransition__;\n\t\t\t});\n\t\t}\n\t}\n}\n\nexport function cloneNode ( node ) {\n\tconst clone = node.cloneNode();\n\n\tconst isSvg = node.parentNode && node.parentNode.namespaceURI === svgns;\n\n\tif ( node.nodeType === 1 ) {\n\t\tconst width = node.style.width;\n\t\tconst height = node.style.height;\n\n\t\tclone.setAttribute( 'style', window.getComputedStyle( node ).cssText );\n\n\t\tif ( isSvg ) {\n\t\t\tclone.style.width = width;\n\t\t\tclone.style.height = height;\n\t\t}\n\n\t\tconst len = node.childNodes.length;\n\t\tlet i;\n\n\t\tfor ( i = 0; i < len; i += 1 ) {\n\t\t\tclone.appendChild( cloneNode( node.childNodes[i] ) );\n\t\t}\n\t}\n\n\treturn clone;\n}\n","export const svgns = 'http://www.w3.org/2000/svg';\n","import findStackingContext from './utils/findStackingContext.js';\nimport getAncestors from './utils/getAncestors.js';\nimport getZIndex from './utils/getZIndex.js';\nimport last from './utils/last.js';\n\nexport function compare ( a, b ) {\n\tif ( a === b ) throw new Error( 'Cannot compare node with itself' );\n\n\tlet ancestors = {\n\t\ta: getAncestors( a ),\n\t\tb: getAncestors( b )\n\t};\n\n\tlet commonAncestor;\n\n\t// remove shared ancestors\n\twhile ( last( ancestors.a ) === last( ancestors.b ) ) {\n\t\ta = ancestors.a.pop();\n\t\tb = ancestors.b.pop();\n\n\t\tcommonAncestor = a;\n\t}\n\n\tlet stackingContexts = {\n\t\ta: findStackingContext( ancestors.a ),\n\t\tb: findStackingContext( ancestors.b )\n\t};\n\n\tlet zIndexes = {\n\t\ta: getZIndex( stackingContexts.a ),\n\t\tb: getZIndex( stackingContexts.b )\n\t};\n\n\tif ( zIndexes.a === zIndexes.b ) {\n\t\tconst children = commonAncestor.childNodes;\n\n\t\tconst furthestAncestors = {\n\t\t\ta: last( ancestors.a ),\n\t\t\tb: last( ancestors.b )\n\t\t};\n\n\t\tlet i = children.length;\n\t\twhile ( i-- ) {\n\t\t\tconst child = children[i];\n\t\t\tif ( child === furthestAncestors.a ) return 1;\n\t\t\tif ( child === furthestAncestors.b ) return -1;\n\t\t}\n\t}\n\n\treturn Math.sign( zIndexes.a - zIndexes.b );\n}\n","export default function last ( array ) {\n\treturn array[ array.length - 1 ];\n}\n","export default function getZIndex ( node ) {\n\treturn node && Number( getComputedStyle( node ).zIndex ) || 0;\n}\n","export default function getAncestors ( node ) {\n\tlet ancestors = [];\n\n\twhile ( node ) {\n\t\tancestors.push( node );\n\t\tnode = node.parentNode;\n\t}\n\n\treturn ancestors; // [ node, ... <body>, <html>, document ]\n}\n","const props = /\\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\\b/;\n\nfunction isFlexItem ( node ) {\n\tconst display = getComputedStyle( node.parentNode ).display;\n\treturn display === 'flex' || display === 'inline-flex';\n}\n\nfunction createsStackingContext ( node ) {\n\tconst style = getComputedStyle( node );\n\n\t// https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Positioning/Understanding_z_index/The_stacking_context\n\tif ( style.position === 'fixed' ) return true;\n\tif ( style.zIndex !== 'auto' && style.position !== 'static' || isFlexItem( node ) ) return true;\n\tif ( +style.opacity < 1 ) return true;\n\tif ( 'transform' in style && style.transform !== 'none' ) return true;\n\tif ( 'webkitTransform' in style && style.webkitTransform !== 'none' ) return true;\n\tif ( 'mixBlendMode' in style && style.mixBlendMode !== 'normal' ) return true;\n\tif ( 'filter' in style && style.filter !== 'none' ) return true;\n\tif ( 'webkitFilter' in style && style.webkitFilter !== 'none' ) return true;\n\tif ( 'isolation' in style && style.isolation === 'isolate' ) return true;\n\tif ( props.test( style.willChange ) ) return true;\n\tif ( style.webkitOverflowScrolling === 'touch' ) return true;\n\n\treturn false;\n}\n\nexport default function findStackingContext ( nodes ) {\n\tlet i = nodes.length;\n\n\twhile ( i-- ) {\n\t\tif ( createsStackingContext( nodes[i] ) ) return nodes[i];\n\t}\n\n\treturn null;\n}\n"],"names":[],"mappings":"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"}