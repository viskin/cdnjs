!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.app=t()}}(function(){var t;return function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var h=n[s]={exports:{}};t[s][0].call(h.exports,function(e){var n=t[s][1][e];return r(n?n:e)},h,h.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){"use strict";function i(t){var e,n,r,o,s;if(n=t.cloneNode(),1===t.nodeType){for(e=window.getComputedStyle(t),A.forEach(function(t){n.style[t]=e[t]}),r=t.attributes.length,o=0;r>o;o+=1)s=t.attributes[o],n.setAttribute(s.name,s.value);for(r=t.childNodes.length,o=0;r>o;o+=1)n.appendChild(i(t.childNodes[o]))}return n}function r(t){var e,n,r,o,s,a,u,c;r=t.getBoundingClientRect(),n=window.getComputedStyle(t),o=t.cloneNode(),A.forEach(function(t){o.style[t]=n[t]});var h=t.offsetParent,l=h.getBoundingClientRect();for(o.style.position="absolute",o.style.top=r.top-parseInt(n.marginTop,10)-l.top+"px",o.style.left=r.left-parseInt(n.marginLeft,10)-l.left+"px",a=t.childNodes.length,s=0;a>s;s+=1)u=i(t.childNodes[s]),o.appendChild(u);return e={node:t,bcr:r,clone:o,cx:(r.left+r.right)/2,cy:(r.top+r.bottom)/2,width:r.right-r.left,height:r.bottom-r.top,isSvg:t.namespaceURI===O},e.isSvg?(c=t.getScreenCTM(),e.transform="matrix("+[c.a,c.b,c.c,c.d,c.e,c.f].join(",")+")",P.appendChild(o)):(e.transform="",t.parentNode.appendChild(o)),e}function o(t){t.__ramjetOriginalTransition__=t.style.transition,t.style.transition="",t.style.opacity=0}function s(t){t.style.transition="",t.style.opacity=1,t.__ramjetOriginalTransition__&&setTimeout(function(){t.style.transition=t.__ramjetOriginalTransition__})}function a(t,e,n,i,r,o,s,a){var u=t?"translate("+e+" "+n+") scale("+(1+a*o)+" "+(1+a*s)+") translate("+-e+" "+-n+") translate("+a*i+" "+a*r+")":"translate("+a*i+"px,"+a*r+"px) scale("+(1+a*o)+","+(1+a*s)+")";return u}function u(t){return t}function c(t){return Math.pow(t,3)}function h(t){return Math.pow(t-1,3)+1}function l(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)}function d(t){var e=document.createElement("style");e.type="text/css";var n=document.getElementsByTagName("head")[0],i=e.styleSheet;return i?i.cssText=t:e.innerHTML=t,n.appendChild(e),function(){return n.removeChild(e)}}function f(t,e,n){var i,r=e.cx-t.cx,o=e.cy-t.cy,s=e.width/t.width-1,a=e.height/t.height-1,c=t.width/e.width-1,h=t.height/e.height-1,l=n.easing||u,d=n.duration/50,f=[],p=[];for(i=0;d>i;i+=1){var m=100*(i/d),v=l(i/d),g=t.cx+r*v,y=t.cy+o*v,w=T(t.isSvg,g,y,r,o,s,a,v)+" "+t.transform,b=T(e.isSvg,g,y,-r,-o,c,h,1-v)+" "+e.transform;f.push(""+m+"% { opacity: "+(1-v)+"; "+D+": "+w+"; }"),p.push(""+m+"% { opacity: "+v+"; "+D+": "+b+"; }")}var x=t.cx+r,k=t.cy+o,E=T(t.isSvg,x,k,r,o,s,a,1)+" "+t.transform,_=T(e.isSvg,x,k,-r,-o,c,h,0)+" "+e.transform;return f.push("100% { opacity: 0; "+D+": "+E+"; }"),p.push("100% { opacity: 1; "+D+": "+_+"; }"),f=f.join("\n"),p=p.join("\n"),{fromKeyframes:f,toKeyframes:p}}function p(t,e){if(t.classList)return void t.classList.add(e);var n=new RegExp("\\b"+e+"\\b");n.test(t.className)||(t.className+=" "+e)}function m(t,e){if(t.classList)return void t.classList.remove(e);var n=new RegExp("\\b"+e+"\\b","g");n.test(t.className)&&(t.className=t.className.replace(n,""))}var v,g,y=t("ractive"),w=t("ractive-events-tap"),b=t("eases"),x={template:{v:3,t:[{p:[1,1,0],t:7,e:"div",a:{"class":"wrapper"},f:[{p:[2,2,23],t:7,e:"svg",f:[{p:[4,3,32],t:7,e:"g",a:{transform:"translate(50,50)"},f:[{p:[5,4,68],t:7,e:"circle",a:{r:[{t:2,r:"radius",p:[5,15,79]}]}}," ",{p:[7,4,152],t:7,e:"polyline",a:{"class":"play",points:"-3,-6 5,0 -3,6"}}," ",{p:[11,5,235],t:7,e:"path",a:{d:[{t:2,r:"progressPath",p:[11,14,244]}]},f:[]}]}]}]}]},css:".wrapper,svg{width:100px;left:0;position:absolute}polyline,text{fill:rgba(0,0,0,.4)}.wrapper{top:50%}svg{height:100px;top:-50px}g{opacity:.6;-webkit-transition:opacity .2s;transition:opacity .2s}.demo:hover g{opacity:1}text{text-anchor:middle;font-size:1.2em}circle{fill:#FFDC00;fill-opacity:.7}path{stroke:#FFDC00;stroke-width:6;fill:none;stroke-linecap:round}"},k={},E=.01;if(k.exports={data:function(){return{paused:!0,progress:0,radius:25}},oninit:function(){var t=this;this.observe("paused",function(e){e||(t.set("progress",0),t.animate("progress",1,{duration:t.get("duration")}))})},computed:{progressPath:function(){var t=this.get("progress"),e=this.get("radius")-3,n=2*t*Math.PI,i=void 0,r="",o="M";for(i=0;n>i;i+=E){var s=e*Math.sin(i),a=e*-Math.cos(i);r+=""+o+s+","+a+" ",o="L"}return r}}},"object"==typeof k.exports)for(v in k.exports)k.exports.hasOwnProperty(v)&&(x[v]=k.exports[v]);g=y.extend(x);var _=g,S=["length","parentRule"],C=function(){var t;return t="undefined"!=typeof CSS2Properties?Object.keys(CSS2Properties.prototype):Object.keys(document.createElement("div").style).filter(function(t){return!~S.indexOf(t)})}(),A=C,O="http://www.w3.org/2000/svg",P=document.createElementNS(O,"svg");P.style.position="fixed",P.style.top=P.style.left="0",P.style.width=P.style.height="100%",P.style.overflow="visible",P.style.pointerEvents="none",P.setAttribute("class","mogrify-svg"),document.body.appendChild(P);var T=a,j=window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return setTimeout(t,16)},F=j,R=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},I=function(t,e,n){function i(){var u,p,m,v,g,y,w;return u=Date.now(),p=u-l,p>d?(t.clone.parentNode.removeChild(t.clone),e.clone.parentNode.removeChild(e.clone),void(n.done&&n.done())):(m=f(p/d),t.clone.style.opacity=1-m,e.clone.style.opacity=m,v=t.cx+r*m,g=t.cy+o*m,y=T(t.isSvg,v,g,r,o,s,a,m)+" "+t.transform,w=T(e.isSvg,v,g,-r,-o,c,h,1-m)+" "+e.transform,t.isSvg?t.clone.setAttribute("transform",y):t.clone.style.transform=t.clone.style.webkitTransform=y,e.isSvg?e.clone.setAttribute("transform",w):e.clone.style.transform=e.clone.style.webkitTransform=w,void F(i))}R(this,I);var r=e.cx-t.cx,o=e.cy-t.cy,s=e.width/t.width-1,a=e.height/t.height-1,c=t.width/e.width-1,h=t.height/e.height-1,l=Date.now(),d=n.duration||400,f=n.easing||u;i()},L=I,N=document.createElement("div"),M=!0,D=void 0,V=void 0,q=void 0,z=void 0,U=void 0,B=void 0,W=void 0,$=void 0;("transform"in N.style||"webkitTransform"in N.style)&&("animation"in N.style||"webkitAnimation"in N.style)?(M=!0,D="transform"in N.style?"transform":"-webkit-transform","animation"in N.style?(V="@keyframes",q="animationDirection",z="animationDuration",U="animationIterationCount",B="animationName",W="animationTimingFunction",$="animationend"):(V="@-webkit-keyframes",q="webkitAnimationDirection",z="webkitAnimationDuration",U="webkitAnimationIterationCount",B="webkitAnimationName",W="webkitAnimationTimingFunction",$="webkitAnimationEnd")):M=!1;var H,Q,K=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Z=function(t,e,n){function i(){l&&p&&(t.clone.parentNode.removeChild(t.clone),e.clone.parentNode.removeChild(e.clone),n.done&&n.done(),h())}K(this,Z);var r=f(t,e,n),o=r.fromKeyframes,s=r.toKeyframes,a="_"+~~(1e6*Math.random()),u="_"+~~(1e6*Math.random()),c=""+V+" "+a+" { "+o+" } "+V+" "+u+" { "+s+" }",h=d(c);t.clone.style[q]="alternate",t.clone.style[z]=""+n.duration/1e3+"s",t.clone.style[U]=1,t.clone.style[B]=a,t.clone.style[W]="linear",e.clone.style[q]="alternate",e.clone.style[z]=""+n.duration/1e3+"s",e.clone.style[U]=1,e.clone.style[B]=u,e.clone.style[W]="linear";var l,p;t.clone.addEventListener($,function(){l=!0,i()}),e.clone.addEventListener($,function(){p=!0,i()})},G=Z,Y={transform:function(t,e){var n=void 0===arguments[2]?{}:arguments[2];"function"==typeof n&&(n={done:n}),"duration"in n||(n.duration=400);var i=r(t),o=r(e);return!M||n.useTimer||i.isSvg||o.isSvg?new L(i,o,n):new G(i,o,n)},hide:function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];e.forEach(o)},show:function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];e.forEach(s)},linear:u,easeIn:c,easeOut:h,easeInOut:l},J={template:{v:3,t:[{p:[1,1,0],t:7,e:"section",f:[{p:[2,2,11],t:7,e:"h1",f:["More examples"]}," ",{p:[4,2,36],t:7,e:"p",f:["Ramjet was inspired by the iOS-8 style zoom effect that happens when you open an app. The (square, with rounded corners) app icon smoothly transforms into a fullscreen rectangular app view, and your brain is totally okay with that! Somehow it is tricked into believing that the two completely different views represent the same object â€“ that the app is somehow ",{p:[4,372,406],t:7,e:"em",f:["contained"]}," inside the icon."]}," ",{p:[6,2,448],t:7,e:"p",f:["So it only makes sense to have a demo showing a similar effect. If you have any other good use cases, ",{p:[6,107,553],t:7,e:"a",a:{href:"https://github.com/rich-harris/ramjet"},f:["come on over to Github"]}," so we can add more examples!"]}," ",{p:[8,2,663],t:7,e:"div",a:{"class":"outer"},f:[{p:[9,3,685],t:7,e:"div",a:{"class":"inner"},f:[{t:4,f:[{p:[11,5,731],t:7,e:"div",a:{"class":"menu-item","data-id":[{t:2,r:"id",p:[13,15,773]}],"data-label":[{t:2,x:{r:["i"],s:"_0+1"},p:[14,18,798]}],style:["background-color: ",{t:2,r:"color",p:[15,31,837]},";"]},v:{tap:{m:"select",a:{r:["."],s:"[_0]"}}}}],n:52,i:"i",r:"items",p:[10,4,708]}," ",{t:4,f:[{p:[21,5,924],t:7,e:"div",a:{"class":"detail",style:["background-image: url(images/",{t:2,r:"detail.id",p:[24,42,1035]},".jpg);"]},t0:{n:"ramjet",d:["{id:",{t:2,r:"detail.id",p:[23,30,978]},"}"]},v:{tap:{m:"select",a:{r:[],s:"[null]"}}},f:[{p:[27,6,1094],t:7,e:"p",a:{"class":"credit"},f:[{p:[27,24,1112],t:7,e:"a",a:{target:"_blank",href:[{t:2,r:"detail.url",p:[27,49,1137]}]},f:["via Flickr"]}," â€“ ",{p:[27,88,1176],t:7,e:"a",a:{target:"_blank",href:[{t:2,r:"detail.license.url",p:[27,113,1201]}]},f:[{t:2,r:"detail.license.name",p:[27,137,1225]}]}]}]}],n:50,r:"detail",p:[20,4,905]}]}]}]}]},css:".inner,.menu-item{position:relative}.credit,.credit a,.credit a:visited,.menu-item{color:#fff}.controls{margin:0 0 1em}.outer{width:100%;max-width:24rem;margin:0 auto}.inner{width:100%;padding:0 0 133.333%}.menu-item{font-size:2em;width:calc(33.333% - 1rem);padding:0 0 calc(33.333% - 1rem);text-align:center;line-height:1;float:left;margin:0 1rem 1rem 0;background-image:url(noise.png);cursor:pointer;box-sizing:border-box}.credit,.detail,.menu-item::after{position:absolute}.menu-item::after{content:attr(data-label);top:50%;left:0;width:100%;text-align:center;transform:translate(0,-50%)}.detail{top:0;left:0;width:calc(100% - 1rem);height:calc(100% - 1rem);background:50% 50% no-repeat;background-size:cover;cursor:pointer}.credit{width:100%;right:0;bottom:0;text-align:right;padding:1em;margin:0;font-weight:700;opacity:.6;-webkit-box-sizing:border-box;box-sizing:border-box;background:rgba(0,0,0,.4)}"},X={};!function(){var t={"./ramjet":Y,"ractive-events-tap":w,eases:b},e=function(e){if(t.hasOwnProperty(e))return t[e];throw new Error('Could not find required module "'+e+'"')},n=e("./ramjet"),i=e("ractive-events-tap"),r=e("eases"),o={name:"CC BY 2.0",url:"https://creativecommons.org/licenses/by/2.0/"},s={name:"CC BY-SA 2.0",url:"https://creativecommons.org/licenses/by-sa/2.0/"},a={name:"CC BY-ND 2.0",url:"https://creativecommons.org/licenses/by-nd/2.0/"},u=[{color:"#001f3f",id:"7863279376_fdfc66dee5_z",url:"https://www.flickr.com/photos/43428526@N03/7863279376",license:o},{color:"#0074D9",id:"6527537485_a10d95332a_z",url:"https://www.flickr.com/photos/25507134@N00/6527537485",license:o},{color:"#7FDBFF",id:"3354331318_a8764c5c6b_z",url:"https://www.flickr.com/photos/37707866@N00/3354331318",license:o},{color:"#39CCCC",id:"4608886209_b00e405171_z",url:"https://www.flickr.com/photos/32751486@N00/4608886209",license:s},{color:"#3D9970",id:"5548569010_bdb0623140_z",url:"https://www.flickr.com/photos/25483059@N08/5548569010",license:o},{color:"#2ECC40",id:"2447470760_53844a0359_o",url:"https://www.flickr.com/photos/8404611@N06/2447470760",license:o},{color:"#01FF70",id:"114428206_b7e5e87d2a_z",url:"https://www.flickr.com/photos/33917831@N00/114428206",license:s},{color:"#FFDC00",id:"4818617089_bb60293550_z",url:"https://www.flickr.com/photos/46417125@N04/4818617089",license:a},{color:"#FF851B",id:"3945496657_470f924759_z",url:"https://www.flickr.com/photos/56068058@N00/3945496657",license:o},{color:"#FF4136",id:"4216820032_9f2470f41b_z",url:"https://www.flickr.com/photos/31883499@N05/4216820032",license:o},{color:"#85144b",id:"2625506561_e3753e0fa8_z",url:"https://www.flickr.com/photos/8484971@N07/2625506561",license:a},{color:"#B10DC9",id:"5385464371_c33ed491f6_z",url:"https://www.flickr.com/photos/58028312@N00/5385464371",license:a}];if(u.forEach(function(t){t.src="images/"+t.id+".jpg",(new Image).src=t.src}),X.exports={data:function(){return{easingFunctions:Object.keys(r),easing:"cubicOut",duration:400,reverse:!1,items:u}},select:function(t){var e=this;this.get("transitioning")||(this.set("transitioning",!0),this.set("detail",null).then(function(){e.set({detail:t,transitioning:!1})}))},events:{tap:i},transitions:{ramjet:function(t,e){var i=".menu-item[data-id='"+(e.id||t.node.__id)+"']";if(!i)throw new Error("No selector specified for ramjet transition");var r=document.querySelector(i),o=t.isIntro?r:t.node,s=t.isIntro?t.node:r;n.transform(o,s,{duration:e.duration||(t.isIntro?400:200),easing:n.easeOut,done:function(){n.show(t.node),n.show(r),t.complete()}}),n.hide(t.node),n.hide(r),t.isIntro&&(t.node.__id=e.id)}}},"object"==typeof X.exports)for(H in X.exports)X.exports.hasOwnProperty(H)&&(J[H]=X.exports[H]);Q=y.extend(J)}();var tt,et,nt=Q,it=p,rt=m,ot={template:{v:3,t:[{p:[1,1,0],t:7,e:"section",f:[{p:[2,2,11],t:7,e:"h1",f:["Easy does it"]}," ",{p:[4,2,35],t:7,e:"p",f:["You can use an easing function to make the transformation seem more natural. For convenience, ",{p:[4,99,132],t:7,e:"code",f:["ramjet.linear"]}," (the default), ",{p:[4,141,174],t:7,e:"code",f:["ramjet.easeIn"]},", ",{p:[4,169,202],t:7,e:"code",f:["ramjet.easeOut"]}," and ",{p:[4,201,234],t:7,e:"code",f:["ramjet.easeInOut"]}," are included, but you can use any function that takes in input between 0 and 1 and returns a similar value, such as ",{p:[4,347,380],t:7,e:"a",a:{href:"http://robertpenner.com/easing/"},f:["Robert Penner's easing equations"]}," (included here via Matt DesLauriers' ",{p:[4,463,496],t:7,e:"a",a:{href:"https://www.npmjs.com/package/eases"},f:["eases"]}," package)."]}," ",{p:[6,2,568],t:7,e:"p",f:["In supported browsers, ramjet uses CSS animations to make the transformation buttery smooth, even on mobile. It precalculates keyframes so that you can use any timing function you like, not just the limited ones built in to CSS. (When transforming to or from SVG elements, ramjet falls back to timer-based animations, as SVG elements cannot be transformed with CSS. This may cause stutter on mobile devices.)"]}," ",{p:[8,2,986],t:7,e:"pre",f:[{p:[8,7,991],t:7,e:"code",f:["var eases = require('eases');\n\nramjet.transform(",{t:2,r:"from",p:[10,18,1045]},", ",{t:2,r:"to",p:[10,28,1055]},", {\n  easing: eases.",{t:2,r:"easing",p:[11,17,1081]},",\n  duration: ",{t:2,r:"duration",p:[12,13,1105]},"\n});"]}]}," ",{p:[15,2,1137],t:7,e:"div",a:{"class":"controls"},f:[{p:[16,3,1162],t:7,e:"select",a:{value:[{t:2,r:"easing",p:[16,18,1177]}]},f:[{t:4,f:[{p:[18,5,1223],t:7,e:"option",f:[{t:2,r:".",p:[18,13,1231]}]}],n:52,r:"easingFunctions",p:[17,4,1193]}]}," ",{p:[22,3,1277],t:7,e:"label",f:[{p:[23,4,1288],t:7,e:"input",a:{type:"range",value:[{t:2,r:"duration",p:[23,31,1315]}],min:"0",max:"2000"}}," ",{t:2,r:"duration",p:[24,4,1352]},"ms"]}]}," ",{p:[28,2,1388],t:7,e:"div",a:{"class":"demo"},v:{tap:"start"},f:[{p:[29,3,1424],t:7,e:"div",a:{"class":"a"},f:[{p:[29,18,1439],t:7,e:"span",f:["a"]}]}," ",{p:[30,3,1462],t:7,e:"div",a:{"class":"b hidden"},f:[{p:[30,25,1484],t:7,e:"span",f:["b"]}]}," ",{p:[32,3,1508],t:7,e:"StartButton",a:{duration:[{t:2,r:"duration",p:[32,26,1531]}],paused:[{t:2,x:{r:["transitioning"],s:"!_0"},p:[32,48,1553]}]}}]}]}]},css:".controls{margin:0 0 1em}"},st={};!function(){var t={"./ramjet":Y,"ractive-events-tap":w,eases:b,"./addClass":it,"./removeClass":rt},e=function(e){if(t.hasOwnProperty(e))return t[e];throw new Error('Could not find required module "'+e+'"')},n=e("./ramjet"),i=e("ractive-events-tap"),r=e("eases"),o=e("./addClass"),s=e("./removeClass");if(st.exports={data:function(){return{easingFunctions:Object.keys(r),easing:"elasticOut",duration:800,reverse:!1}},computed:{from:'${reverse} ? "b" : "a"',to:'${reverse} ? "a" : "b"'},onrender:function(){var t=this,e=this.find(".a"),i=this.find(".b");this.on("start",function(){if(!t.get("transitioning")){t.set("transitioning",!0);var a=t.get("reverse"),u=a?i:e,c=a?e:i;s(u,"hidden"),s(c,"hidden"),n.transform(u,c,{easing:r[t.get("easing")],duration:t.get("duration"),done:function(){t.set("transitioning",!1),s(c,"hidden"),t.toggle("reverse")}}),o(u,"hidden"),o(c,"hidden")}})},events:{tap:i}},"object"==typeof st.exports)for(tt in st.exports)st.exports.hasOwnProperty(tt)&&(ot[tt]=st.exports[tt]);et=y.extend(ot)}();var at,ut,ct=et,ht={template:{v:3,t:[{p:[1,1,0],t:7,e:"section",f:[{p:[2,2,11],t:7,e:"h1",f:["The illusion of movement"]}," ",{p:[4,2,47],t:7,e:"p",f:["By changing the display of the elements immediately before and after the transition, we can create the illusion that a single element is moving across the screen and into a different part of the DOM."]}," ",{p:[6,2,256],t:7,e:"pre",f:[{p:[6,7,261],t:7,e:"code",f:["// set the stage so ramjet copies the right styles...\n",{t:2,r:"to",p:[7,1,321]},".classList.remove('hidden');\n\nramjet.transform( ",{t:2,r:"from",p:[9,19,375]},", ",{t:2,r:"to",p:[9,29,385]},", {\n  done: function () {\n    // this function is called as soon as the transition completes\n    ",{t:2,r:"to",p:[12,5,488]},".classList.remove('hidden');\n  }\n});\n\n// ...then hide the original elements for the duration of the transition\na.classList.add('hidden');\nb.classList.add('hidden');\n"]}]}," ",{p:[21,2,675],t:7,e:"div",a:{"class":"demo"},v:{tap:"start"},f:[{p:[22,3,711],t:7,e:"div",a:{"class":"a"},f:[{p:[22,18,726],t:7,e:"span",f:["a"]}]}," ",{p:[23,3,749],t:7,e:"div",a:{"class":"b hidden"},f:[{p:[23,25,771],t:7,e:"span",f:["b"]}]}," ",{p:[25,3,795],t:7,e:"StartButton",a:{duration:"400",paused:[{t:2,x:{r:["transitioning"],s:"!_0"},p:[25,39,831]}]}}]}]}]},css:".a.hidden,.b.hidden{background:#fff}"},lt={};!function(){var t={"./ramjet":Y,"ractive-events-tap":w,"./addClass":it,"./removeClass":rt},e=function(e){if(t.hasOwnProperty(e))return t[e];throw new Error('Could not find required module "'+e+'"')},n=e("./ramjet"),i=e("ractive-events-tap"),r=e("./addClass"),o=e("./removeClass");if(lt.exports={data:function(){return{transitioning:!1,reverse:!1}},computed:{from:'${reverse} ? "b" : "a"',to:'${reverse} ? "a" : "b"'},onrender:function(){var t=this,e=this.find(".a"),i=this.find(".b");this.on("start",function(){if(!t.get("transitioning")){var s=t.get("reverse");t.set("transitioning",!0);var a=s?i:e,u=s?e:i;o(a,"hidden"),o(u,"hidden"),n.transform(a,u,{done:function(){t.set("transitioning",!1),o(u,"hidden"),t.toggle("reverse")}}),r(a,"hidden"),r(u,"hidden")}})},events:{tap:i}},"object"==typeof lt.exports)for(at in lt.exports)lt.exports.hasOwnProperty(at)&&(ht[at]=lt.exports[at]);ut=y.extend(ht)}();var dt,ft,pt=ut,mt={template:{v:3,t:[{p:[1,1,0],t:7,e:"section",f:[{p:[2,2,11],t:7,e:"h1",f:["How it works"]}," ",{p:[4,2,35],t:7,e:"p",f:["Ramjet makes it looks as though one DOM element is capable of transforming into another, no matter where the two elements sit in the DOM tree."]}," ",{p:[6,2,187],t:7,e:"p",f:["It does so by making copies of the two elements (and all their children), setting a fixed position on each, then using CSS transforms to morph the two elements in sync."]}," ",{p:[8,2,365],t:7,e:"pre",f:[{p:[8,7,370],t:7,e:"code",f:["ramjet.transform( a, b );"]}]}," ",{p:[10,2,417],t:7,e:"div",a:{"class":"demo"},v:{tap:"start"},f:[{p:[11,3,453],t:7,e:"div",a:{"class":"a"},f:[{p:[11,18,468],t:7,e:"span",f:["a"]}]}," ",{p:[12,3,491],t:7,e:"div",a:{"class":"b"},f:[{p:[12,18,506],t:7,e:"span",f:["b"]}]}," ",{p:[14,3,530],t:7,e:"StartButton",a:{duration:"400",paused:[{t:2,x:{r:["transitioning"],s:"!_0"},p:[14,39,566]}]}}]}]}]}},vt={};!function(){var t={"./ramjet":Y,"ractive-events-tap":w},e=function(e){if(t.hasOwnProperty(e))return t[e];throw new Error('Could not find required module "'+e+'"')},n=e("./ramjet"),i=e("ractive-events-tap");if(vt.exports={data:function(){return{transitioning:!1}},onrender:function(){var t=this,e=this.find(".a"),i=this.find(".b");this.on("start",function(){t.get("transitioning")||(t.set("transitioning",!0),n.transform(e,i,{done:function(){t.set("transitioning",!1)}}))})},events:{tap:i}},"object"==typeof vt.exports)for(dt in vt.exports)vt.exports.hasOwnProperty(dt)&&(mt[dt]=vt.exports[dt]);ft=y.extend(mt)}();var gt,yt,wt=ft,bt={template:{v:3,t:[{p:[1,1,0],t:7,e:"section",f:[{p:[2,2,11],t:7,e:"div",a:{"class":"intro"},f:[{p:[3,3,33],t:7,e:"div",a:{"class":"container","data-container":"0"},f:[{p:[4,4,79],t:7,e:"p",a:{"data-stage":"0"},f:["Ramjet lets you transform one DOM element..."]}]}," ",{p:[7,3,158],t:7,e:"div",a:{"class":"container","data-container":"1"},f:[{p:[8,4,204],t:7,e:"p",a:{"data-stage":"1"},f:["...into another."]}]}," ",{p:[11,3,255],t:7,e:"div",a:{"class":"container","data-container":"2"},f:[{p:[12,4,301],t:7,e:"p",a:{"data-stage":"2"},f:["It doesn't care where they sit in the DOM tree, or what children they have..."]}]}," ",{p:[15,3,413],t:7,e:"svg",a:{"class":"container","data-container":"3",viewBox:"0 0 600 300"},f:[{p:[16,4,481],t:7,e:"defs",f:[{p:[17,5,492],t:7,e:"path",a:{id:"upper",d:"M 90 150 C 200 80 400 80 510 150"}}," ",{p:[18,5,552],t:7,e:"path",a:{id:"lower",d:"M 90 150 C 200 220 400 220 510 150"}}]}," ",{p:[22,4,657],t:7,e:"g",a:{"data-stage":"3"},f:[" ",{p:[24,5,755],t:7,e:"rect",a:{fill:"#85144b",x:"50",y:"50",width:"500",height:"200"}}," ",{p:[29,5,894],t:7,e:"text",a:{style:"fill: white; font-size: 2rem; text-anchor: middle;"},f:[{p:[30,6,965],t:7,e:"textPath",a:{"xlink:href":"#upper",startOffset:"50%"},f:["...or whether they're HTML"]}]}," ",{p:[35,5,1081],t:7,e:"text",a:{style:"fill: white; font-size: 2rem; text-anchor: middle;"},f:[{p:[36,6,1152],t:7,e:"textPath",a:{"xlink:href":"#lower",startOffset:"50%"},f:[{p:[37,7,1207],t:7,e:"tspan",a:{"alignment-baseline":"hanging"},f:["~~~ o r Â  S V G ! ~~~"]}]}]}]}]}," ",{p:[44,3,1378],t:7,e:"div",a:{"class":"container","data-container":"4","data-stage":"4",style:"background: url(ram.jpg) no-repeat 50% 50%; background-size: cover;"},f:[{p:[45,4,1515],t:7,e:"p",a:{"class":"high-contrast"},f:["You can use images..."]}]}," ",{p:[49,3,1638],t:7,e:"div",a:{"class":"container","data-container":"5","data-stage":"5",style:"background: url(Ramjetinpast.gif) no-repeat 50% 50%; background-size: cover;"},f:[{p:[50,4,1784],t:7,e:"p",a:{"class":"high-contrast"},f:["...even animated ones"]}]}]}]}]},css:"section{border-bottom:1px solid #999}.intro{position:relative;width:100%;height:20em;margin:0 0 1em}.intro p{margin:0 0 .5em;text-shadow:0 0 7px rgba(0,0,0,.1)}.intro .high-contrast{text-shadow:0 0 10px rgba(0,0,0,1),0 0 10px rgba(0,0,0,1)}.container{position:absolute;font-size:1.4em;-webkit-box-sizing:border-box;box-sizing:border-box}@media (min-width:40em){.container{font-size:2em}}[data-stage]{visibility:hidden;background-image:url(noise.png)}[data-stage].visible{visibility:visible}[data-container='0']{left:0;top:0;width:33.333%;height:50%}[data-stage='0']{background-color:#39CCCC;color:#fff;padding:.5em}[data-container='1']{left:0;top:50%;width:33.333%;height:50%}[data-stage='1']{background-color:#FF851B;color:#fff;padding:.5em}[data-container='2']{left:33.333%;top:50%;width:66.666%;height:50%}[data-stage='2']{background-color:#2ECC40;color:#fff;padding:.5em}[data-container='3']{left:33.333%;top:0;width:66.666%;height:100%}[data-container='4']{right:0;top:0;width:33.333%;height:100%}[data-stage='4']{background-color:#85144b;color:#fff;padding:.5em}[data-container='5']{right:33.333%;top:0;width:33.333%;height:100%}[data-stage='5']{background-color:#BBB;color:#fff;padding:.5em}svg{height:10em}img{max-width:100%}"},xt={};!function(){{var t={"./ramjet":Y,"ractive-events-tap":w,eases:b,"./addClass":it,"./removeClass":rt},e=function(e){if(t.hasOwnProperty(e))return t[e];throw new Error('Could not find required module "'+e+'"')},n=e("./ramjet"),i=e("ractive-events-tap"),r=e("eases"),o=e("./addClass"),s=e("./removeClass");y.Promise}if(xt.exports={data:function(){return{easingFunctions:Object.keys(r),easing:"cubicOut",duration:400,reverse:!1,stage:0}},onrender:function(){function t(){var t=n.getBoundingClientRect(),e=t.top,i=t.bottom;return e<window.innerHeight&&i>0}var e=this;o(this.find("[data-stage='0']"),"visible");var n=this.find("section");this.set("inView",t());var i=void 0;this.observe("inView",function(t){clearTimeout(i),t&&(i=setTimeout(function(){return e.next()},1500))}),window.addEventListener("scroll",function(n){e.set("inView",t())})},next:function(){var t=this;if(this.get("inView")){var e=this.get("stage"),i=(e+1)%6,a=this.find("[data-stage='"+e+"']"),u=this.find("[data-stage='"+i+"']");o(a,"visible"),o(u,"visible"),n.transform(a,u,{easing:r[this.get("easing")],duration:400,done:function(){t.set("stage",i),o(u,"visible"),setTimeout(function(){t.next()},1500)}}),s(a,"visible"),s(u,"visible")}},events:{tap:i}},"object"==typeof xt.exports)for(gt in xt.exports)xt.exports.hasOwnProperty(gt)&&(bt[gt]=xt.exports[gt]);yt=y.extend(bt)}();var kt,Et,_t=yt,St={template:{v:3,t:[{p:[8,1,276],t:7,e:"Demo"}," ",{p:[9,1,284],t:7,e:"BasicTransformation"}," ",{p:[10,1,307],t:7,e:"MovementIllusion"}," ",{p:[11,1,327],t:7,e:"Timing"}," ",{p:[14,1,353],t:7,e:"Ios"}," ",{p:[16,1,361],t:7,e:"h2",f:["More info"]}," ",{p:[18,1,381],t:7,e:"p",f:["Ramjet is free and open source software released under the MIT License. The code is available on ",{p:[18,101,481],t:7,e:"a",a:{href:"https://github.com/rich-harris/ramjet\n"},f:["Github"]},". Issues and pull requests welcome!"]}," ",{p:[21,1,581],t:7,e:"p",f:["It was made by this guy -> ",{p:[21,31,611],t:7,e:"a",a:{href:"http://twitter.com/Rich_Harris"},f:["@Rich_Harris"]},". You should ",{p:[21,101,681],t:7,e:"em",f:["definitely"]}," follow him on Twitter."]}]},css:'.a,.b{background-image:url(noise.png)}h2,section h1{font-size:2em;margin:2em 0 1em}.demo,pre{margin:0 0 1em}section{margin:0 0 2em}.a,.b{position:relative;width:100px;height:100px;border:1px solid}.a span,.b span{position:absolute;display:block;text-align:center;width:100%;top:50%;color:#fff;-webkit-transform:translate(0,-50%);transform:translate(0,-50%);font-size:2em;text-shadow:0 0 7px rgba(0,0,0,.1)}.hidden span{text-shadow:none}.a{float:left;background-color:#0074D9;border-color:#0074D9}.b{float:right;background-color:#01FF70;border-color:#01FF70}.hidden{background:#fff}.demo{position:relative;padding:0 0 0 116px;-webkit-box-sizing:border-box;box-sizing:border-box;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none}.demo:after,.demo:before{content:" ";display:table}.demo:after{clear:both}pre{color:#666}select{font-family:inherit;font-size:inherit;margin:0 1em 0 0}',components:{StartButton:_,Ios:nt,Timing:ct,MovementIllusion:pt,BasicTransformation:wt,Demo:_t}},Ct={};if("object"==typeof Ct.exports)for(kt in Ct.exports)Ct.exports.hasOwnProperty(kt)&&(St[kt]=Ct.exports[kt]);Et=y.extend(St);var At=Et;new At({el:"main"})},{eases:20,ractive:35,"ractive-events-tap":34}],2:[function(t,e,n){function i(t){var e=2.5949095;return(t*=2)<1?.5*t*t*((e+1)*t-e):.5*((t-=2)*t*((e+1)*t+e)+2)}e.exports=i},{}],3:[function(t,e,n){function i(t){var e=1.70158;return t*t*((e+1)*t-e)}e.exports=i},{}],4:[function(t,e,n){function i(t){var e=1.70158;return--t*t*((e+1)*t+e)+1}e.exports=i},{}],5:[function(t,e,n){function i(t){return.5>t?.5*(1-r(1-2*t)):.5*r(2*t-1)+.5}var r=t("./bounce-out");e.exports=i},{"./bounce-out":7}],6:[function(t,e,n){function i(t){return 1-r(1-t)}var r=t("./bounce-out");e.exports=i},{"./bounce-out":7}],7:[function(t,e,n){function i(t){var e=4/11,n=8/11,i=.9,r=4356/361,o=35442/1805,s=16061/1805,a=t*t;return e>t?7.5625*a:n>t?9.075*a-9.9*t+3.4:i>t?r*a-o*t+s:10.8*t*t-20.52*t+10.72}e.exports=i},{}],8:[function(t,e,n){function i(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}e.exports=i},{}],9:[function(t,e,n){function i(t){return 1-Math.sqrt(1-t*t)}e.exports=i},{}],10:[function(t,e,n){function i(t){return Math.sqrt(1- --t*t)}e.exports=i},{}],11:[function(t,e,n){function i(t){return.5>t?4*t*t*t:.5*Math.pow(2*t-2,3)+1}e.exports=i},{}],12:[function(t,e,n){function i(t){return t*t*t}e.exports=i},{}],13:[function(t,e,n){function i(t){var e=t-1;return e*e*e+1}e.exports=i},{}],14:[function(t,e,n){function i(t){return.5>t?.5*Math.sin(13*Math.PI/2*2*t)*Math.pow(2,10*(2*t-1)):.5*Math.sin(-13*Math.PI/2*(2*t-1+1))*Math.pow(2,-10*(2*t-1))+1}e.exports=i},{}],15:[function(t,e,n){function i(t){return Math.sin(13*t*Math.PI/2)*Math.pow(2,10*(t-1))}e.exports=i},{}],16:[function(t,e,n){function i(t){return Math.sin(-13*(t+1)*Math.PI/2)*Math.pow(2,-10*t)+1}e.exports=i},{}],17:[function(t,e,n){function i(t){return 0===t||1===t?t:.5>t?.5*Math.pow(2,20*t-10):-.5*Math.pow(2,10-20*t)+1}e.exports=i},{}],18:[function(t,e,n){function i(t){return 0===t?t:Math.pow(2,10*(t-1))}e.exports=i},{}],19:[function(t,e,n){function i(t){return 1===t?t:1-Math.pow(2,-10*t)}e.exports=i},{}],20:[function(t,e,n){e.exports={backInOut:t("./back-in-out"),backIn:t("./back-in"),backOut:t("./back-out"),bounceInOut:t("./bounce-in-out"),bounceIn:t("./bounce-in"),bounceOut:t("./bounce-out"),circInOut:t("./circ-in-out"),circIn:t("./circ-in"),circOut:t("./circ-out"),cubicInOut:t("./cubic-in-out"),cubicIn:t("./cubic-in"),cubicOut:t("./cubic-out"),elasticInOut:t("./elastic-in-out"),elasticIn:t("./elastic-in"),elasticOut:t("./elastic-out"),expoInOut:t("./expo-in-out"),expoIn:t("./expo-in"),expoOut:t("./expo-out"),linear:t("./linear"),quadInOut:t("./quad-in-out"),quadIn:t("./quad-in"),quadOut:t("./quad-out"),quartInOut:t("./quart-in-out"),quartIn:t("./quart-in"),quartOut:t("./quart-out"),quintInOut:t("./quint-in-out"),quintIn:t("./quint-in"),quintOut:t("./quint-out"),sineInOut:t("./sine-in-out"),sineIn:t("./sine-in"),sineOut:t("./sine-out")}},{"./back-in":3,"./back-in-out":2,"./back-out":4,"./bounce-in":6,"./bounce-in-out":5,"./bounce-out":7,"./circ-in":9,"./circ-in-out":8,"./circ-out":10,"./cubic-in":12,"./cubic-in-out":11,"./cubic-out":13,"./elastic-in":15,"./elastic-in-out":14,"./elastic-out":16,"./expo-in":18,"./expo-in-out":17,"./expo-out":19,"./linear":21,"./quad-in":23,"./quad-in-out":22,"./quad-out":24,"./quart-in":26,"./quart-in-out":25,"./quart-out":27,"./quint-in":29,"./quint-in-out":28,"./quint-out":30,"./sine-in":32,"./sine-in-out":31,"./sine-out":33}],21:[function(t,e,n){function i(t){return t}e.exports=i},{}],22:[function(t,e,n){function i(t){return t/=.5,1>t?.5*t*t:(t--,-.5*(t*(t-2)-1))}e.exports=i},{}],23:[function(t,e,n){function i(t){return t*t}e.exports=i},{}],24:[function(t,e,n){function i(t){return-t*(t-2)}e.exports=i},{}],25:[function(t,e,n){function i(t){return.5>t?8*Math.pow(t,4):-8*Math.pow(t-1,4)+1}e.exports=i},{}],26:[function(t,e,n){function i(t){return Math.pow(t,4)}e.exports=i},{}],27:[function(t,e,n){function i(t){return Math.pow(t-1,3)*(1-t)+1}e.exports=i},{}],28:[function(t,e,n){function i(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}e.exports=i},{}],29:[function(t,e,n){function i(t){return t*t*t*t*t}e.exports=i},{}],30:[function(t,e,n){function i(t){return--t*t*t*t*t+1}e.exports=i},{}],31:[function(t,e,n){function i(t){return-.5*(Math.cos(Math.PI*t)-1);

}e.exports=i},{}],32:[function(t,e,n){function i(t){return 1-Math.cos(t*Math.PI/2)}e.exports=i},{}],33:[function(t,e,n){function i(t){return Math.sin(t*Math.PI/2)}e.exports=i},{}],34:[function(e,n,i){!function(e,r){"object"==typeof i&&"undefined"!=typeof n?n.exports=r():"function"==typeof t&&t.amd?t(r):e.Ractive.events.tap=r()}(this,function(){"use strict";function t(t,e){return new c(t,e)}function e(t){this.__tap_handler__.mousedown(t)}function n(t){this.__tap_handler__.touchdown(t)}function i(){this.addEventListener("keydown",o,!1),this.addEventListener("blur",r,!1)}function r(){this.removeEventListener("keydown",o,!1),this.removeEventListener("blur",r,!1)}function o(t){32===t.which&&this.__tap_handler__.fire()}var s=t,a=5,u=400,c=function(t,e){this.node=t,this.callback=e,this.preventMousedownEvents=!1,this.bind(t)};return c.prototype={bind:function(t){window.navigator.pointerEnabled?t.addEventListener("pointerdown",e,!1):window.navigator.msPointerEnabled?t.addEventListener("MSPointerDown",e,!1):t.addEventListener("mousedown",e,!1),t.addEventListener("touchstart",n,!1),("BUTTON"===t.tagName||"button"===t.type)&&t.addEventListener("focus",i,!1),t.__tap_handler__=this},fire:function(t,e,n){this.callback({node:this.node,original:t,x:e,y:n})},mousedown:function(t){var e=this;if(!this.preventMousedownEvents&&(void 0===t.which||1===t.which)){var n=t.clientX,i=t.clientY,r=t.pointerId,o=function(t){t.pointerId==r&&(e.fire(t,n,i),c())},s=function(t){t.pointerId==r&&(Math.abs(t.clientX-n)>=a||Math.abs(t.clientY-i)>=a)&&c()},c=function(){e.node.removeEventListener("MSPointerUp",o,!1),document.removeEventListener("MSPointerMove",s,!1),document.removeEventListener("MSPointerCancel",c,!1),e.node.removeEventListener("pointerup",o,!1),document.removeEventListener("pointermove",s,!1),document.removeEventListener("pointercancel",c,!1),e.node.removeEventListener("click",o,!1),document.removeEventListener("mousemove",s,!1)};window.navigator.pointerEnabled?(this.node.addEventListener("pointerup",o,!1),document.addEventListener("pointermove",s,!1),document.addEventListener("pointercancel",c,!1)):window.navigator.msPointerEnabled?(this.node.addEventListener("MSPointerUp",o,!1),document.addEventListener("MSPointerMove",s,!1),document.addEventListener("MSPointerCancel",c,!1)):(this.node.addEventListener("click",o,!1),document.addEventListener("mousemove",s,!1)),setTimeout(c,u)}},touchdown:function(){var t=this,e=event.touches[0],n=e.clientX,i=e.clientY,r=e.identifier,o=function(e){var o=e.changedTouches[0];return o.identifier!==r?void c():(e.preventDefault(),t.preventMousedownEvents=!0,clearTimeout(t.preventMousedownTimeout),t.preventMousedownTimeout=setTimeout(function(){t.preventMousedownEvents=!1},400),t.fire(e,n,i),void c())},s=function(t){var e;(1!==t.touches.length||t.touches[0].identifier!==r)&&c(),e=t.touches[0],(Math.abs(e.clientX-n)>=a||Math.abs(e.clientY-i)>=a)&&c()},c=function(){t.node.removeEventListener("touchend",o,!1),window.removeEventListener("touchmove",s,!1),window.removeEventListener("touchcancel",c,!1)};this.node.addEventListener("touchend",o,!1),window.addEventListener("touchmove",s,!1),window.addEventListener("touchcancel",c,!1),setTimeout(c,u)},teardown:function(){var t=this.node;t.removeEventListener("pointerdown",e,!1),t.removeEventListener("MSPointerDown",e,!1),t.removeEventListener("mousedown",e,!1),t.removeEventListener("touchstart",n,!1),t.removeEventListener("focus",i,!1)}},s})},{}],35:[function(e,n,i){!function(e,r){"object"==typeof i&&"undefined"!=typeof n?n.exports=r():"function"==typeof t&&t.amd?t(r):e.Ractive=r()}(this,function(){"use strict";function t(t){var e;if(t&&"boolean"!=typeof t)return"undefined"!=typeof window&&document&&t?t.nodeType?t:"string"==typeof t&&(e=document.getElementById(t),!e&&document.querySelector&&(e=document.querySelector(t)),e&&e.nodeType)?e:t[0]&&t[0].nodeType?t[0]:null:null}function e(t){return t&&"unknown"!=typeof t.parentNode&&t.parentNode&&t.parentNode.removeChild(t),t}function n(t){return null!=t&&t.toString?t:""}function i(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;e>i;i++)n[i-1]=arguments[i];for(var r,o;o=n.shift();)for(r in o)Oa.call(o,r)&&(t[r]=o[r]);return t}function r(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;e>i;i++)n[i-1]=arguments[i];return n.forEach(function(e){for(var n in e)!e.hasOwnProperty(n)||n in t||(t[n]=e[n])}),t}function o(t){return"[object Array]"===Pa.call(t)}function s(t){return Ta.test(Pa.call(t))}function a(t,e){return null===t&&null===e?!0:"object"==typeof t||"object"==typeof e?!1:t===e}function u(t){return!isNaN(parseFloat(t))&&isFinite(t)}function c(t){return t&&"[object Object]"===Pa.call(t)}function h(t,e){return t.replace(/%s/g,function(){return e.shift()})}function l(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;e>i;i++)n[i-1]=arguments[i];throw t=h(t,n),new Error(t)}function d(){Hw.DEBUG&&Sa.apply(null,arguments)}function f(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;e>i;i++)n[i-1]=arguments[i];t=h(t,n),Ca(t,n)}function p(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;e>i;i++)n[i-1]=arguments[i];t=h(t,n),Fa[t]||(Fa[t]=!0,Ca(t,n))}function m(){Hw.DEBUG&&f.apply(null,arguments)}function v(){Hw.DEBUG&&p.apply(null,arguments)}function g(t,e,n){var i=y(t,e,n);return i?i[t][n]:null}function y(t,e,n){for(;e;){if(n in e[t])return e;if(e.isolated)return null;e=e.parent}}function w(t){return function(){return t}}function b(t){var e,n,i,r,o,s;for(e=t.split("."),(n=za[e.length])||(n=x(e.length)),o=[],i=function(t,n){return t?"*":e[n]},r=n.length;r--;)s=n[r].map(i).join("."),o.hasOwnProperty(s)||(o.push(s),o[s]=!0);return o}function x(t){var e,n,i,r,o,s,a,u,c="";if(!za[t]){for(i=[];c.length<t;)c+=1;for(e=parseInt(c,2),r=function(t){return"1"===t},o=0;e>=o;o+=1){for(n=o.toString(2);n.length<t;)n="0"+n;for(u=[],a=n.length,s=0;a>s;s++)u.push(r(n[s]));i[o]=u}za[t]=i}return za[t]}function k(t,e,n,i){var r=t[e];if(!r||!r.equalsOrStartsWith(i)&&r.equalsOrStartsWith(n))return t[e]=r?r.replace(n,i):i,!0}function E(t){var e=t.slice(2);return"i"===t[1]&&u(e)?+e:e}function _(t){return null==t?t:(Wa.hasOwnProperty(t)||(Wa[t]=new $a(t)),Wa[t])}function S(t,e){function n(e,n){var i,r,s;return n.isRoot?s=[].concat(Object.keys(t.viewmodel.data),Object.keys(t.viewmodel.mappings),Object.keys(t.viewmodel.computations)):(i=t.viewmodel.wrapped[n.str],r=i?i.get():t.viewmodel.get(n),s=r?Object.keys(r):null),s&&s.forEach(function(t){"_ractive"===t&&o(r)||e.push(n.join(t))}),e}var i,r,s;for(i=e.str.split("."),s=[Qa];r=i.shift();)"*"===r?s=s.reduce(n,[]):s[0]===Qa?s[0]=_(r):s=s.map(C(r));return s}function C(t){return function(e){return e.join(t)}}function A(t){return t?t.replace(Ua,".$1"):""}function O(t,e,n){if("string"!=typeof e||!u(n))throw new Error("Bad arguments");var i=void 0,r=void 0;if(/\*/.test(e))return r={},S(t,_(A(e))).forEach(function(e){var i=t.viewmodel.get(e);if(!u(i))throw new Error(Za);r[e.str]=i+n}),t.set(r);if(i=t.get(e),!u(i))throw new Error(Za);return t.set(e,+i+n)}function P(t,e){return Ka(this,t,void 0===e?1:+e)}function T(t){this.event=t,this.method="on"+t,this.deprecate=tu[t]}function j(t,e){var n=t.indexOf(e);-1===n&&t.push(e)}function F(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]==e)return!0;return!1}function R(t,e){var n;if(!o(t)||!o(e))return!1;if(t.length!==e.length)return!1;for(n=t.length;n--;)if(t[n]!==e[n])return!1;return!0}function I(t){return"string"==typeof t?[t]:void 0===t?[]:t}function L(t){return t[t.length-1]}function N(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}function M(t){for(var e=[],n=t.length;n--;)e[n]=t[n];return e}function D(t){setTimeout(t,0)}function V(t,e){return function(){for(var n;n=t.shift();)n(e)}}function q(t,e,n,i){var r;if(e===t)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(e instanceof eu)e.then(n,i);else if(!e||"object"!=typeof e&&"function"!=typeof e)n(e);else{try{r=e.then}catch(o){return void i(o)}if("function"==typeof r){var s,a,u;a=function(e){s||(s=!0,q(t,e,n,i))},u=function(t){s||(s=!0,i(t))};try{r.call(e,a,u)}catch(o){if(!s)return i(o),void(s=!0)}}else n(e)}}function z(t,e,n){var i;return e=A(e),"~/"===e.substr(0,2)?(i=_(e.substring(2)),W(t,i.firstKey,n)):"."===e[0]?(i=U(au(n),e),i&&W(t,i.firstKey,n)):i=B(t,_(e),n),i}function U(t,e){var n;if(void 0!=t&&"string"!=typeof t&&(t=t.str),"."===e)return _(t);if(n=t?t.split("."):[],"../"===e.substr(0,3)){for(;"../"===e.substr(0,3);){if(!n.length)throw new Error('Could not resolve reference - too many "../" prefixes');n.pop(),e=e.substring(3)}return n.push(e),_(n.join("."))}return _(t?t+e.replace(/^\.\//,"."):e.replace(/^\.\/?/,""))}function B(t,e,n,i){var r,o,s,a,u;if(e.isRoot)return e;for(o=e.firstKey;n;)if(r=n.context,n=n.parent,r&&(a=!0,s=t.viewmodel.get(r),s&&("object"==typeof s||"function"==typeof s)&&o in s))return r.join(e.str);return $(t.viewmodel,o)?e:t.parent&&!t.isolated&&(a=!0,n=t.component.parentFragment,o=_(o),u=B(t.parent,o,n,!0))?(t.viewmodel.map(o,{origin:t.parent.viewmodel,keypath:u}),e):i||a?void 0:(t.viewmodel.set(e,void 0),e)}function W(t,e){var n;!t.parent||t.isolated||$(t.viewmodel,e)||(e=_(e),(n=B(t.parent,e,t.component.parentFragment,!0))&&t.viewmodel.map(e,{origin:t.parent.viewmodel,keypath:n}))}function $(t,e){return""===e||e in t.data||e in t.computations||e in t.mappings}function H(t){t.teardown()}function Q(t){t.unbind()}function K(t){t.unrender()}function Z(t){t.cancel()}function G(t){t.detach()}function Y(t){t.detachNodes()}function J(t){!t.ready||t.outros.length||t.outroChildren||(t.outrosComplete||(t.parent?t.parent.decrementOutros(t):t.detachNodes(),t.outrosComplete=!0),t.intros.length||t.totalChildren||("function"==typeof t.callback&&t.callback(),t.parent&&t.parent.decrementTotal()))}function X(){for(var t,e,n;hu.ractives.length;)e=hu.ractives.pop(),n=e.viewmodel.applyChanges(),n&&pu.fire(e,n);for(tt(),t=0;t<hu.views.length;t+=1)hu.views[t].update();for(hu.views.length=0,t=0;t<hu.tasks.length;t+=1)hu.tasks[t]();return hu.tasks.length=0,hu.ractives.length?X():void 0}function tt(){var t,e,n,i;for(t=fu.length;t--;)e=fu[t],e.keypath?fu.splice(t,1):(n=uu(e.root,e.ref,e.parentFragment))&&((i||(i=[])).push({item:e,keypath:n}),fu.splice(t,1));i&&i.forEach(et)}function et(t){t.item.resolve(t.keypath)}function nt(t,e,n){var i,r,o,s,a,u,c,h,l,d,f,p,m,v;if(i=new su(function(t){return r=t}),"object"==typeof t){n=e||{},u=n.easing,c=n.duration,a=[],h=n.step,l=n.complete,(h||l)&&(f={},n.step=null,n.complete=null,d=function(t){return function(e,n){f[t]=n}});for(o in t)t.hasOwnProperty(o)&&((h||l)&&(p=d(o),n={easing:u,duration:c},h&&(n.step=p)),n.complete=l?p:ja,a.push(it(this,o,t[o],n)));return v={easing:u,duration:c},h&&(v.step=function(t){return h(t,f)}),l&&i.then(function(t){return l(t,f)}),v.complete=r,m=it(this,null,null,v),a.push(m),i.stop=function(){for(var t;t=a.pop();)t.stop();m&&m.stop()},i}return n=n||{},n.complete&&i.then(n.complete),n.complete=r,s=it(this,t,e,n),i.stop=function(){return s.stop()},i}function it(t,e,n,i){var r,o,s,u;return e&&(e=_(A(e))),null!==e&&(u=t.viewmodel.get(e)),yu.abort(e,t),a(u,n)?(i.complete&&i.complete(i.to),ku):(i.easing&&(r="function"==typeof i.easing?i.easing:t.easing[i.easing],"function"!=typeof r&&(r=null)),o=void 0===i.duration?400:i.duration,s=new bu({keypath:e,from:u,to:n,root:t,duration:o,easing:r,interpolator:i.interpolator,step:i.step,complete:i.complete}),yu.add(s),t._animations.push(s),s)}function rt(){return this.detached?this.detached:(this.el&&N(this.el.__ractive_instances__,this),this.detached=this.fragment.detach(),_u.fire(this),this.detached)}function ot(t){return this.el?this.fragment.find(t):null}function st(t,e){var n;return n=this._isComponentQuery?!this.selector||t.name===this.selector:t.node?da(t.node,this.selector):null,n?(this.push(t.node||t.instance),e||this._makeDirty(),!0):void 0}function at(t){var e;return(e=t.parentFragment)?e.owner:t.component&&(e=t.component.parentFragment)?e.owner:void 0}function ut(t){var e,n;for(e=[t],n=at(t);n;)e.push(n),n=at(n);return e}function ct(t,e,n,i){var r=[];return ka(r,{selector:{value:e},live:{value:n},_isComponentQuery:{value:i},_test:{value:Cu}}),n?(ka(r,{cancel:{value:Au},_root:{value:t},_sort:{value:Tu},_makeDirty:{value:ju},_remove:{value:Fu},_dirty:{value:!1,writable:!0}}),r):r}function ht(t,e){var n,i;return this.el?(e=e||{},n=this._liveQueries,(i=n[t])?e&&e.live?i:i.slice():(i=Ru(this,t,!!e.live,!1),i.live&&(n.push(t),n["_"+t]=i),this.fragment.findAll(t,i),i)):[]}function lt(t,e){var n,i;return e=e||{},n=this._liveComponentQueries,(i=n[t])?e&&e.live?i:i.slice():(i=Ru(this,t,!!e.live,!0),i.live&&(n.push(t),n["_"+t]=i),this.fragment.findAllComponents(t,i),i)}function dt(t){return this.fragment.findComponent(t)}function ft(t){return this.container?this.container.component&&this.container.component.name===t?this.container:this.container.findContainer(t):null}function pt(t){return this.parent?this.parent.component&&this.parent.component.name===t?this.parent:this.parent.findParent(t):null}function mt(t,e){var n=void 0===arguments[2]?{}:arguments[2];if(e){n.event?n.event.name=e:n.event={name:e,_noArg:!0};var i=_(e).wildcardMatches();vt(t,i,n.event,n.args,!0)}}function vt(t,e,n,i){var r,o,s=void 0===arguments[4]?!1:arguments[4],a=!0;for(qu.enqueue(t,n),o=e.length;o>=0;o--)r=t._subs[e[o]],r&&(a=gt(t,r,n,i)&&a);if(qu.dequeue(t),t.parent&&a){if(s&&t.component){var u=t.component.name+"."+e[e.length-1];e=_(u).wildcardMatches(),n&&(n.component=t)}vt(t.parent,e,n,i)}}function gt(t,e,n,i){var r=null,o=!1;n&&!n._noArg&&(i=[n].concat(i)),e=e.slice();for(var s=0,a=e.length;a>s;s+=1)e[s].apply(t,i)===!1&&(o=!0);return n&&!n._noArg&&o&&(r=n.original)&&(r.preventDefault&&r.preventDefault(),r.stopPropagation&&r.stopPropagation()),!o}function yt(t){var e={args:Array.prototype.slice.call(arguments,1)};zu(this,t,e)}function wt(t){var e;return t=_(A(t)),e=this.viewmodel.get(t,Wu),void 0===e&&this.parent&&!this.isolated&&uu(this,t.str,this.component.parentFragment)&&(e=this.viewmodel.get(t)),e}function bt(e,n){if(!this.fragment.rendered)throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");if(e=t(e),n=t(n)||null,!e)throw new Error("You must specify a valid target to insert into");e.insertBefore(this.detach(),n),this.el=e,(e.__ractive_instances__||(e.__ractive_instances__=[])).push(this),this.detached=null,xt(this)}function xt(t){Hu.fire(t),t.findAllComponents("*").forEach(function(t){xt(t.instance)})}function kt(t,e,n){var i,r;return t=_(A(t)),i=this.viewmodel.get(t),o(i)&&o(e)?(r=mu.start(this,!0),this.viewmodel.merge(t,i,e,n),mu.end(),r):this.set(t,e,n&&n.complete)}function Et(t,e){var n,i;return n=S(t,e),i={},n.forEach(function(e){i[e.str]=t.get(e.str)}),i}function _t(t,e,n,i){var r,o,s;e=_(A(e)),i=i||ac,e.isPattern?(r=new oc(t,e,n,i),t.viewmodel.patternObservers.push(r),o=!0):r=new Gu(t,e,n,i),r.init(i.init),t.viewmodel.register(e,r,o?"patternObservers":"observers"),r.ready=!0;var a={cancel:function(){var n;s||(o?(n=t.viewmodel.patternObservers.indexOf(r),t.viewmodel.patternObservers.splice(n,1),t.viewmodel.unregister(e,r,"patternObservers")):t.viewmodel.unregister(e,r,"observers"),s=!0)}};return t._observers.push(a),a}function St(t,e,n){var i,r,o,s;if(c(t)){n=e,r=t,i=[];for(t in r)r.hasOwnProperty(t)&&(e=r[t],i.push(this.observe(t,e,n)));return{cancel:function(){for(;i.length;)i.pop().cancel()}}}if("function"==typeof t)return n=e,e=t,t="",sc(this,t,e,n);if(o=t.split(" "),1===o.length)return sc(this,t,e,n);for(i=[],s=o.length;s--;)t=o[s],t&&i.push(sc(this,t,e,n));return{cancel:function(){for(;i.length;)i.pop().cancel()}}}function Ct(t,e,n){var i=this.observe(t,function(){e.apply(this,arguments),i.cancel()},{init:!1,defer:n&&n.defer});return i}function At(t,e){var n,i=this;if(t)n=t.split(" ").map(hc).filter(lc),n.forEach(function(t){var n,r;(n=i._subs[t])&&(e?(r=n.indexOf(e),-1!==r&&n.splice(r,1)):i._subs[t]=[])});else for(t in this._subs)delete this._subs[t];return this}function Ot(t,e){var n,i,r,o=this;if("object"==typeof t){n=[];for(i in t)t.hasOwnProperty(i)&&n.push(this.on(i,t[i]));return{cancel:function(){for(var t;t=n.pop();)t.cancel()}}}return r=t.split(" ").map(hc).filter(lc),r.forEach(function(t){(o._subs[t]||(o._subs[t]=[])).push(e)}),{cancel:function(){return o.off(t,e)}}}function Pt(t,e){var n=this.on(t,function(){e.apply(this,arguments),n.cancel()});return n}function Tt(t,e,n){var i,r,o,s,a,u,c=[];if(i=jt(t,e,n),!i)return null;for(r=t.length,a=i.length-2-i[1],o=Math.min(r,i[0]),s=o+i[1],u=0;o>u;u+=1)c.push(u);for(;s>u;u+=1)c.push(-1);for(;r>u;u+=1)c.push(u+a);return 0!==a?c.touchedFrom=i[0]:c.touchedFrom=t.length,c}function jt(t,e,n){switch(e){case"splice":for(void 0!==n[0]&&n[0]<0&&(n[0]=t.length+Math.max(n[0],-t.length));n.length<2;)n.push(0);return n[1]=Math.min(n[1],t.length-n[0]),n;case"sort":case"reverse":return null;case"pop":return t.length?[t.length-1,1]:[0,0];case"push":return[t.length,0].concat(n);case"shift":return[0,t.length?1:0];case"unshift":return[0,0].concat(n)}}function Ft(e,n){var i,r,o,s=this;if(o=this.transitionsEnabled,this.noIntro&&(this.transitionsEnabled=!1),i=mu.start(this,!0),mu.scheduleTask(function(){return Ac.fire(s)},!0),this.fragment.rendered)throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");if(e=t(e)||this.el,n=t(n)||this.anchor,this.el=e,this.anchor=n,!this.append&&e){var a=e.__ractive_instances__;a&&a.length&&Rt(a),e.innerHTML=""}return this.cssId&&Sc.apply(),e&&((r=e.__ractive_instances__)?r.push(this):e.__ractive_instances__=[this],n?e.insertBefore(this.fragment.render(),n):e.appendChild(this.fragment.render())),mu.end(),this.transitionsEnabled=o,i.then(function(){return Oc.fire(s)})}function Rt(t){t.splice(0,t.length).forEach(H)}function It(t,e){for(var n=t.slice(),i=e.length;i--;)~n.indexOf(e[i])||n.push(e[i]);return n}function Lt(t,e){var n,i,r;return i='[data-ractive-css~="{'+e+'}"]',r=function(t){var e,n,r,o,s,a,u,c=[];for(e=[];n=Ic.exec(t);)e.push({str:n[0],base:n[1],modifiers:n[2]});for(o=e.map(Mt),u=e.length;u--;)a=o.slice(),r=e[u],a[u]=r.base+i+r.modifiers||"",s=o.slice(),s[u]=i+" "+s[u],c.push(a.join(" "),s.join(" "));return c.join(", ")},n=Nc.test(t)?t.replace(Nc,i):t.replace(Rc,"").replace(Fc,function(t,e){var n,i;return Lc.test(e)?t:(n=e.split(",").map(Nt),i=n.map(r).join(", ")+" ",t.replace(e,i))})}function Nt(t){return t.trim?t.trim():t.replace(/^\s+/,"").replace(/\s+$/,"")}function Mt(t){return t.str}function Dt(t){t&&t.constructor!==Object&&("function"==typeof t||("object"!=typeof t?l("data option must be an object or a function, `"+t+"` is not valid"):m("If supplied, options.data should be a plain JavaScript object - using a non-POJO as the root object may work, but is discouraged")))}function Vt(t,e){Dt(e);var n="function"==typeof t,i="function"==typeof e;return e||n||(e={}),n||i?function(){var r=i?qt(e,this):e,o=n?qt(t,this):t;return zt(r,o)}:zt(e,t)}function qt(t,e){var n=t.call(e);if(n)return"object"!=typeof n&&l("Data function must return an object"),n.constructor!==Object&&v("Data function returned something other than a plain JavaScript object. This might work, but is strongly discouraged"),n}function zt(t,e){if(t&&e){for(var n in e)n in t||(t[n]=e[n]);return t}return t||e}function Ut(t){var e,n,i;return t.matchString("=")?(e=t.pos,t.allowWhitespace(),(n=t.matchPattern(Rh))?t.matchPattern(Ih)?(i=t.matchPattern(Rh))?(t.allowWhitespace(),t.matchString("=")?[n,i]:(t.pos=e,null)):(t.pos=e,null):null:(t.pos=e,null)):null}function Bt(t){var e;return(e=t.matchPattern(Nh))?{t:ph,v:e}:null}function Wt(t){var e,n;if(t.interpolate[t.inside]===!1)return null;for(n=0;n<t.tags.length;n+=1)if(e=$t(t,t.tags[n]))return e}function $t(t,e){var n,i,r,o;if(n=t.pos,t.matchString("\\"+e.open)){if(0===n||"\\"!==t.str[n-1])return e.open}else if(!t.matchString(e.open))return null;if(i=Fh(t))return t.matchString(e.close)?(e.open=i[0],e.close=i[1],t.sortMustacheTags(),Dh):null;if(t.allowWhitespace(),t.matchString("/")){t.pos-=1;var s=t.pos;Lh(t)?t.pos=s:(t.pos=s-e.close.length,t.error("Attempted to close a section that wasn't open"))}for(o=0;o<e.readers.length;o+=1)if(r=e.readers[o],i=r(t,e))return e.isStatic&&(i.s=!0),t.includeLinePositions&&(i.p=t.getLinePos(n)),i;return t.pos=n,null}function Ht(t){var e;return(e=t.matchPattern(Uh))?{t:ch,v:e}:null}function Qt(t){var e=t.remaining();return"true"===e.substr(0,4)?(t.pos+=4,{t:fh,v:"true"}):"false"===e.substr(0,5)?(t.pos+=5,{t:fh,v:"false"}):null}function Kt(t){var e;return(e=Zh(t))?Jh.test(e.v)?e.v:'"'+e.v.replace(/"/g,'\\"')+'"':(e=zh(t))?e.v:(e=t.matchPattern(Gh))?e:void 0}function Zt(t){var e,n,i;return e=t.pos,t.allowWhitespace(),n=Yh(t),null===n?(t.pos=e,null):(t.allowWhitespace(),t.matchString(":")?(t.allowWhitespace(),i=Ol(t),null===i?(t.pos=e,null):{t:vh,k:n,v:i}):(t.pos=e,null))}function Gt(t){var e,n,i,r;return e=t.pos,i=Xh(t),null===i?null:(n=[i],t.matchString(",")?(r=Gt(t),r?n.concat(r):(t.pos=e,null)):n)}function Yt(t){function e(t){i.push(t)}var n,i,r,o;return n=t.pos,t.allowWhitespace(),r=Ol(t),null===r?null:(i=[r],t.allowWhitespace(),t.matchString(",")&&(o=Yt(t),null===o&&t.error(Vh),o.forEach(e)),i)}function Jt(t){return zh(t)||Bh(t)||Zh(t)||el(t)||il(t)||Lh(t)}function Xt(t){var e,n,i,r,o,s;return e=t.pos,i=t.matchPattern(/^@(?:keypath|index|key)/),i||(n=t.matchPattern(sl)||"",i=!n&&t.relaxedNames&&t.matchPattern(hl)||t.matchPattern(cl),i||"."!==n||(n="",i=".")),i?n||t.relaxedNames||!$h.test(i)?!n&&Wh.test(i)?(r=Wh.exec(i)[0],t.pos=e+r.length,{t:mh,v:r}):(o=(n||"")+A(i),t.matchString("(")&&(s=o.lastIndexOf("."),-1!==s?(o=o.substr(0,s),t.pos=e+o.length):t.pos-=1),{t:gh,n:o.replace(/^this\./,"./").replace(/^this$/,".")}):(t.pos=e,null):null}function te(t){var e,n;return e=t.pos,t.matchString("(")?(t.allowWhitespace(),n=Ol(t),n||t.error(Vh),t.allowWhitespace(),t.matchString(")")||t.error(qh),{t:xh,x:n}):null}function ee(t){var e,n,i;if(e=t.pos,t.allowWhitespace(),t.matchString(".")){if(t.allowWhitespace(),n=t.matchPattern(Gh))return{t:yh,n:n};t.error("Expected a property name")}return t.matchString("[")?(t.allowWhitespace(),i=Ol(t),i||t.error(Vh),t.allowWhitespace(),t.matchString("]")||t.error("Expected ']'"),{t:yh,x:i}):null}function ne(t){var e,n,i,r;return(n=Cl(t))?(e=t.pos,t.allowWhitespace(),t.matchString("?")?(t.allowWhitespace(),i=Ol(t),i||t.error(Vh),t.allowWhitespace(),t.matchString(":")||t.error('Expected ":"'),t.allowWhitespace(),r=Ol(t),r||t.error(Vh),{t:kh,o:[n,i,r]}):(t.pos=e,n)):null}function ie(t){return Al(t)}function re(t){function e(t){switch(t.t){case fh:case mh:case ch:case ph:return t.v;case hh:return JSON.stringify(String(t.v));case lh:return"["+(t.m?t.m.map(e).join(","):"")+"]";case dh:return"{"+(t.m?t.m.map(e).join(","):"")+"}";case vh:return t.k+":"+e(t.v);case bh:return("typeof"===t.s?"typeof ":t.s)+e(t.o);case Eh:return e(t.o[0])+("in"===t.s.substr(0,2)?" "+t.s+" ":t.s)+e(t.o[1]);case _h:return e(t.x)+"("+(t.o?t.o.map(e).join(","):"")+")";case xh:return"("+e(t.x)+")";case wh:return e(t.x)+e(t.r);case yh:return t.n?"."+t.n:"["+e(t.x)+"]";case kh:return e(t.o[0])+"?"+e(t.o[1])+":"+e(t.o[2]);case gh:return"_"+n.indexOf(t.n);default:throw new Error("Expected legal JavaScript")}}var n;return oe(t,n=[]),{r:n,s:e(t)}}function oe(t,e){var n,i;if(t.t===gh&&-1===e.indexOf(t.n)&&e.unshift(t.n),i=t.o||t.m)if(c(i))oe(i,e);else for(n=i.length;n--;)oe(i[n],e);t.x&&oe(t.x,e),t.r&&oe(t.r,e),t.v&&oe(t.v,e)}function se(t,e){var n;if(t){for(;t.t===xh&&t.x;)t=t.x;return t.t===gh?e.r=t.n:t.t===ch&&jl.test(t.v)?e.r=t.v:(n=ae(t))?e.rx=n:e.x=Pl(t),e}}function ae(t){for(var e,n=[];t.t===wh&&t.r.t===yh;)e=t.r,n.unshift(e.x?e.x.t===gh?e.x:Pl(e.x):e.n),t=t.x;return t.t!==gh?null:{r:t.n,m:n}}function ue(t,e){var n,i=Ol(t);return i?(t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),n={t:Zc},Tl(i,n),n):null}function ce(t,e){var n,i;return t.matchString("&")?(t.allowWhitespace(),(n=Ol(t))?(t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),i={t:Zc},Tl(n,i),i):null):null}function he(t,e){var n,i,r,o,s;return n=t.pos,t.matchString(">")?(t.allowWhitespace(),i=t.pos,t.relaxedNames=!0,r=Ol(t),t.relaxedNames=!1,t.allowWhitespace(),o=Ol(t),t.allowWhitespace(),r?(s={t:th},Tl(r,s),t.allowWhitespace(),o&&(s={t:Gc,n:Oh,f:[s]},Tl(o,s)),t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),s):null):null}function le(t,e){var n;return t.matchString("!")?(n=t.remaining().indexOf(e.close),-1!==n?(t.pos+=n+e.close.length,{t:eh}):void 0):null}function de(t,e){var n,i,r;if(n=t.pos,i=Ol(t),!i)return null;for(r=0;r<e.length;r+=1)if(t.remaining().substr(0,e[r].length)===e[r])return i;return t.pos=n,ol(t)}function fe(t,e){var n,i,r,o;n=t.pos;try{i=Nl(t,[e.close])}catch(s){o=s}if(!i){if("!"===t.str.charAt(n))return t.pos=n,null;if(o)throw o}if(!t.matchString(e.close)&&(t.error("Expected closing delimiter '"+e.close+"' after reference"),!i)){if("!"===t.nextChar())return null;t.error("Expected expression or legal reference")}return r={t:Kc},Tl(i,r),r}function pe(t,e){var n,i,r;return t.matchPattern(Vl)?(n=t.pos,i=t.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/),t.allowWhitespace(),t.matchString(e.close)||t.error("expected legal partial name"),r={t:sh},i&&(r.n=i),r):null}function me(t,e){var n,i,r,o;return n=t.pos,t.matchString(e.open)?(t.allowWhitespace(),t.matchString("/")?(t.allowWhitespace(),i=t.remaining(),r=i.indexOf(e.close),-1!==r?(o={t:Jc,r:i.substr(0,r).split(" ")[0]},t.pos+=r,t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),o):(t.pos=n,null)):(t.pos=n,null)):null}function ve(t,e){var n=t.pos;return t.matchString(e.open)?t.matchPattern(Ul)?(t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),{t:Th}):(t.pos=n,null):null}function ge(t,e){var n,i=t.pos;return t.matchString(e.open)?t.matchPattern(Wl)?(n=Ol(t),t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),{t:jh,x:n}):(t.pos=i,null):null}function ye(t,e){var n,i,r,o,s,a,u,c,h,l,d,f;if(n=t.pos,t.matchString("^"))r={t:Gc,f:[],n:Ch};else{if(!t.matchString("#"))return null;r={t:Gc,f:[]},t.matchString("partial")&&(t.pos=n-t.standardDelimiters[0].length,t.error("Partial definitions can only be at the top level of the template, or immediately inside components")),(u=t.matchPattern(Zl))&&(f=u,r.n=$l[u])}if(t.allowWhitespace(),i=Ol(t),i||t.error("Expected expression"),d=t.matchPattern(Ql)){var p=void 0;(p=t.matchPattern(Kl))?r.i=d+","+p:r.i=d}t.allowWhitespace(),t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),t.sectionDepth+=1,s=r.f,h=[];do if(o=ql(t,e))f&&o.r!==f&&t.error("Expected "+e.open+"/"+f+e.close),t.sectionDepth-=1,l=!0;else if(o=Bl(t,e))r.n===Ch&&t.error("{{else}} not allowed in {{#unless}}"),a&&t.error("illegal {{elseif...}} after {{else}}"),c||(c=we(i,r.n)),c.f.push({t:Gc,n:Sh,x:Pl(xe(h.concat(o.x))),f:s=[]}),h.push(be(o.x));else if(o=zl(t,e))r.n===Ch&&t.error("{{else}} not allowed in {{#unless}}"),a&&t.error("there can only be one {{else}} block, at the end of a section"),a=!0,c?c.f.push({t:Gc,n:Sh,x:Pl(xe(h)),f:s=[]}):(c=we(i,r.n),s=c.f);else{if(o=t.read(Xd),!o)break;s.push(o)}while(!l);return c&&(r.n===Oh&&(r.n=Ph),r.l=c),Tl(i,r),r.f.length||delete r.f,r}function we(t,e){var n;return e===Oh?(n={t:Gc,n:Sh,f:[]},Tl(be(t),n)):(n={t:Gc,n:Ch,f:[]},Tl(t,n)),n}function be(t){return t.t===bh&&"!"===t.s?t.o:{t:bh,s:"!",o:ke(t)}}function xe(t){return 1===t.length?t[0]:{t:Eh,s:"&&",o:[ke(t[0]),ke(xe(t.slice(1)))]}}function ke(t){return{t:xh,x:t}}function Ee(t){var e,n,i,r,o;return e=t.pos,t.matchString(Yl)?(i=t.remaining(),r=i.indexOf(Jl),-1===r&&t.error("Illegal HTML - expected closing comment sequence ('-->')"),n=i.substr(0,r),t.pos+=r+3,o={t:eh,c:n},t.includeLinePositions&&(o.p=t.getLinePos(e)),o):null}function _e(t){return t.replace(kl,function(t,e){var n;return n="#"!==e[0]?bl[e]:"x"===e[1]?parseInt(e.substring(2),16):parseInt(e.substring(1),10),n?String.fromCharCode(Se(n)):t})}function Se(t){return t?10===t?32:128>t?t:159>=t?xl[t-128]:55296>t?t:57343>=t?65533:65535>=t?t:65533:65533}function Ce(t){return t.replace(Sl,"&amp;").replace(El,"&lt;").replace(_l,"&gt;")}function Ae(t){return"string"==typeof t}function Oe(t){return t.t===eh||t.t===nh}function Pe(t){return(t.t===Gc||t.t===Yc)&&t.f}function Te(t,e,n,i,r){var s,a,u,c,h,l,d,f;for(ud(t),s=t.length;s--;)a=t[s],a.exclude?t.splice(s,1):e&&a.t===eh&&t.splice(s,1);for(ld(t,i,r),s=t.length;s--;){if(a=t[s],a.f&&(h=n||a.t===Xc&&pd.test(a.e),h||(u=t[s-1],c=t[s+1],(!u||"string"==typeof u&&vd.test(u))&&(l=!0),(!c||"string"==typeof c&&md.test(c))&&(d=!0)),Te(a.f,e,h,l,d)),a.l&&(Te(a.l.f,e,n,l,d),t.splice(s+1,0,a.l),delete a.l),a.a)for(f in a.a)a.a.hasOwnProperty(f)&&"string"!=typeof a.a[f]&&Te(a.a[f],e,n,l,d);if(a.m&&Te(a.m,e,n,l,d),a.v)for(f in a.v)a.v.hasOwnProperty(f)&&(o(a.v[f].n)&&Te(a.v[f].n,e,n,l,d),o(a.v[f].d)&&Te(a.v[f].d,e,n,l,d))}for(s=t.length;s--;)"string"==typeof t[s]&&("string"==typeof t[s+1]&&(t[s]=t[s]+t[s+1],t.splice(s+1,1)),n||(t[s]=t[s].replace(fd," ")),""===t[s]&&t.splice(s,1))}function je(t){var e,n;return e=t.pos,t.matchString("</")?(n=t.matchPattern(yd))?t.inside&&n!==t.inside?(t.pos=e,null):{t:rh,e:n}:(t.pos-=2,void t.error("Illegal closing tag")):null}function Fe(t){var e,n,i;return t.allowWhitespace(),(n=t.matchPattern(xd))?(e={name:n},i=Re(t),null!=i&&(e.value=i),e):null}function Re(t){var e,n,i,r;return e=t.pos,/[=\/>\s]/.test(t.nextChar())||t.error("Expected `=`, `/`, `>` or whitespace"),t.allowWhitespace(),t.matchString("=")?(t.allowWhitespace(),n=t.pos,i=t.sectionDepth,r=Ne(t,"'")||Ne(t,'"')||Le(t),null===r&&t.error("Expected valid attribute value"),t.sectionDepth!==i&&(t.pos=n,t.error("An attribute value must contain as many opening section tags as closing section tags")),r.length?1===r.length&&"string"==typeof r[0]?_e(r[0]):r:""):(t.pos=e,null)}function Ie(t){var e,n,i,r,o;return e=t.pos,(n=t.matchPattern(kd))?(i=n,r=t.tags.map(function(t){return t.open}),-1!==(o=wd(i,r))&&(n=n.substr(0,o),t.pos=e+n.length),n):null}function Le(t){var e,n;for(t.inAttribute=!0,e=[],n=Mh(t)||Ie(t);null!==n;)e.push(n),n=Mh(t)||Ie(t);return e.length?(t.inAttribute=!1,e):null}function Ne(t,e){var n,i,r;if(n=t.pos,!t.matchString(e))return null;for(t.inAttribute=e,i=[],r=Mh(t)||Me(t,e);null!==r;)i.push(r),r=Mh(t)||Me(t,e);return t.matchString(e)?(t.inAttribute=!1,i):(t.pos=n,null)}function Me(t,e){var n,i,r,o;return n=t.pos,r=t.remaining(),o=t.tags.map(function(t){return t.open}),o.push(e),i=wd(r,o),-1===i&&t.error("Quoted attribute value must have a closing quote"),i?(t.pos+=i,r.substr(0,i)):null}function De(t){var e,n,i;return t.allowWhitespace(),(e=Yh(t))?(i={key:e},t.allowWhitespace(),t.matchString(":")?(t.allowWhitespace(),(n=t.read())?(i.value=n.v,i):null):null):null}function Ve(t,e){var n,i,r,o,s,a,u,c,h;if("string"==typeof t){if(i=Cd.exec(t)){var l=t.lastIndexOf(")");return Ad.test(t)||e.error("Invalid input after method call expression '"+t.slice(l+1)+"'"),n={m:i[1]},o="["+t.slice(n.m.length+1,l)+"]",r=new Ed(o),n.a=Pl(r.result[0]),n}if(-1===t.indexOf(":"))return t.trim();t=[t]}if(n={},u=[],c=[],t){for(;t.length;)if(s=t.shift(),"string"==typeof s){if(a=s.indexOf(":"),-1!==a){a&&u.push(s.substr(0,a)),s.length>a+1&&(c[0]=s.substring(a+1));break}u.push(s)}else u.push(s);c=c.concat(t)}return u.length?c.length||"string"!=typeof u?(n={n:1===u.length&&"string"==typeof u[0]?u[0]:u},1===c.length&&"string"==typeof c[0]?(h=_d("["+c[0]+"]"),n.a=h?h.value:c[0].trim()):n.d=c):n=u:n="",n}function qe(t){var e,n,i,r,o,s,a,u,c,h,l,d,f,p,m,v;if(e=t.pos,t.inside||t.inAttribute)return null;if(!t.matchString("<"))return null;if("/"===t.nextChar())return null;if(n={},t.includeLinePositions&&(n.p=t.getLinePos(e)),t.matchString("!"))return n.t=uh,t.matchPattern(/^doctype/i)||t.error("Expected DOCTYPE declaration"),n.a=t.matchPattern(/^(.+?)>/),n;if(n.t=Xc,n.e=t.matchPattern(Pd),!n.e)return null;for(Td.test(t.nextChar())||t.error("Illegal tag name"),
o=function(e,i){var r=i.n||i;Rd.test(r)&&(t.pos-=r.length,t.error("Cannot use reserved event names (change, reset, teardown, update, construct, config, init, render, unrender, detach, insert)")),n.v[e]=i},t.allowWhitespace();s=Mh(t)||bd(t);)s.name?(i=Id[s.name])?n[i]=Sd(s.value,t):(r=Fd.exec(s.name))?(n.v||(n.v={}),a=Sd(s.value,t),o(r[1],a)):t.sanitizeEventAttributes&&jd.test(s.name)||(n.a||(n.a={}),n.a[s.name]=s.value||(""===s.value?"":0)):(n.m||(n.m=[]),n.m.push(s)),t.allowWhitespace();if(t.allowWhitespace(),t.matchString("/")&&(u=!0),!t.matchString(">"))return null;var g=n.e.toLowerCase(),y=t.preserveWhitespace;if(!u&&!wl.test(n.e)){t.elementStack.push(g),("script"===g||"style"===g)&&(t.inside=g),c=[],h=ba(null);do if(p=t.pos,m=t.remaining(),ze(g,m))if(v=gd(t)){f=!0;var w=v.e.toLowerCase();if(w!==g&&(t.pos=p,!~t.elementStack.indexOf(w))){var b="Unexpected closing tag";wl.test(w)&&(b+=" (<"+w+"> is a void element - it cannot contain children)"),t.error(b)}}else(d=ql(t,{open:t.standardDelimiters[0],close:t.standardDelimiters[1]}))?(f=!0,t.pos=p):(d=t.read(tf))?(h[d.n]&&(t.pos=p,t.error("Duplicate partial definition")),dd(d.f,t.stripComments,y,!y,!y),h[d.n]=d.f,l=!0):(d=t.read(Xd))?c.push(d):f=!0;else f=!0;while(!f);c.length&&(n.f=c),l&&(n.p=h),t.elementStack.pop()}return t.inside=null,t.sanitizeElements&&-1!==t.sanitizeElements.indexOf(g)?Ld:n}function ze(t,e){var n,i;return n=/^<([a-zA-Z][a-zA-Z0-9]*)/.exec(e),i=Od[t],n&&i?!~i.indexOf(n[1].toLowerCase()):!0}function Ue(t){var e,n,i,r;return n=t.remaining(),r=t.inside?"</"+t.inside:"<",t.inside&&!t.interpolate[t.inside]?e=n.indexOf(r):(i=t.tags.map(function(t){return t.open}),i=i.concat(t.tags.map(function(t){return"\\"+t.open})),t.inAttribute===!0?i.push('"',"'","=","<",">","`"):i.push(t.inAttribute?t.inAttribute:r),e=wd(n,i)),e?(-1===e&&(e=n.length),t.pos+=e,t.inside?n.substr(0,e):_e(n.substr(0,e))):null}function Be(t){return t.replace(qd,"\\$&")}function We(t){var e=t.pos,n=t.standardDelimiters[0],i=t.standardDelimiters[1],r=void 0,o=void 0;if(!t.matchPattern(Ud)||!t.matchString(n))return t.pos=e,null;var s=t.matchPattern(Bd);if(v("Inline partial comments are deprecated.\nUse this...\n  {{#partial "+s+"}} ... {{/partial}}\n\n...instead of this:\n  <!-- {{>"+s+"}} --> ... <!-- {{/"+s+"}} -->'"),!t.matchString(i)||!t.matchPattern(Wd))return t.pos=e,null;r=[];var a=new RegExp("^<!--\\s*"+Vd(n)+"\\s*\\/\\s*"+s+"\\s*"+Vd(i)+"\\s*-->");do t.matchPattern(a)?o=!0:(Nd=t.read(Xd),Nd||t.error("expected closing comment ('<!-- "+n+"/"+s+i+" -->')"),r.push(Nd));while(!o);return{t:ah,f:r,n:s}}function $e(t){var e,n,i,r,o;e=t.pos;var s=t.standardDelimiters;if(!t.matchString(s[0]))return null;if(!t.matchPattern(Hd))return t.pos=e,null;n=t.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/),n||t.error("expected legal partial name"),t.matchString(s[1])||t.error("Expected closing delimiter '"+s[1]+"'"),i=[];do(r=ql(t,{open:t.standardDelimiters[0],close:t.standardDelimiters[1]}))?("partial"===!r.r&&t.error("Expected "+s[0]+"/partial"+s[1]),o=!0):(r=t.read(Xd),r||t.error("Expected "+s[0]+"/partial"+s[1]),i.push(r));while(!o);return{t:ah,n:n,f:i}}function He(t){for(var e=[],n=ba(null),i=!1,r=t.preserveWhitespace;t.pos<t.str.length;){var o=t.pos,s=void 0,a=void 0;(a=t.read(tf))?(n[a.n]&&(t.pos=o,t.error("Duplicated partial definition")),dd(a.f,t.stripComments,r,!r,!r),n[a.n]=a.f,i=!0):(s=t.read(Xd))?e.push(s):t.error("Unexpected template content")}var u={v:sa,t:e};return i&&(u.p=n),u}function Qe(t,e){return new Jd(t,e||{}).result}function Ke(t){var e=ba(sf);return e.parse=function(e,n){return Ze(e,n||t)},e}function Ze(t,e){if(!Kd)throw new Error("Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser");return Kd(t,e||this.options)}function Ge(t,e){var n;if(!Xs){if(e&&e.noThrow)return;throw new Error("Cannot retrieve template #"+t+" as Ractive is not running in a browser.")}if(Ye(t)&&(t=t.substring(1)),!(n=document.getElementById(t))){if(e&&e.noThrow)return;throw new Error("Could not find template element with id #"+t)}if("SCRIPT"!==n.tagName.toUpperCase()){if(e&&e.noThrow)return;throw new Error("Template element with id #"+t+", must be a <script> element")}return n.textContent}function Ye(t){return t&&"#"===t.charAt(0)}function Je(t){return!("string"==typeof t)}function Xe(t){return t.defaults&&(t=t.defaults),of.reduce(function(e,n){return e[n]=t[n],e},{})}function tn(t){var e,n=t._config.template;if(n&&n.fn)return e=en(t,n.fn),e!==n.result?(n.result=e,e=rn(e,t)):void 0}function en(t,e){var n=nn(af.getParseOptions(t));return e.call(t,n)}function nn(t){var e=ba(af);return e.parse=function(e,n){return af.parse(e,n||t)},e}function rn(t,e){if("string"==typeof t)"#"===t[0]&&(t=af.fromId(t)),t=Kd(t,af.getParseOptions(e));else{if("number"!=typeof t.v)throw new Error("The template parser was passed a non-string template, but the template doesn't have a version.  Make sure you're passing in the template you think you are.");if(t.v!==sa)throw new Error("Mismatched template version (expected "+sa+", got "+t.v+") Please ensure you are using the latest version of Ractive.js in your build process as well as in your app")}return t}function on(t,e,n){if(e)for(var i in e)(n||!t.hasOwnProperty(i))&&(t[i]=e[i])}function sn(t,e,n){if(!/_super/.test(n))return n;var i=function(){var t,r=an(i._parent,e),o="_super"in this,s=this._super;return this._super=r,t=n.apply(this,arguments),o?this._super=s:delete this._super,t};return i._parent=t,i._method=n,i}function an(t,e){var n,i;return e in t?(n=t[e],i="function"==typeof n?n:function(){return n}):i=ja,i}function un(t,e,n){return"options."+t+" has been deprecated in favour of options."+e+"."+(n?" You cannot specify both options, please use options."+e+".":"")}function cn(t,e,n){if(e in t){if(n in t)throw new Error(un(e,n,!0));m(un(e,n)),t[n]=t[e]}}function hn(t){cn(t,"beforeInit","onconstruct"),cn(t,"init","onrender"),cn(t,"complete","oncomplete"),cn(t,"eventDefinitions","events"),o(t.adaptors)&&cn(t,"adaptors","adapt")}function ln(t,e,n,i){yf(i);for(var r in i)if(mf.hasOwnProperty(r)){var o=i[r];"el"!==r&&"function"==typeof o?m(""+r+" is a Ractive option that does not expect a function and will be ignored","init"===t?n:null):n[r]=o}vf.forEach(function(r){r[t](e,n,i)}),Tc[t](e,n,i),cf[t](e,n,i),Vc[t](e,n,i),dn(e.prototype,n,i)}function dn(t,e,n){for(var i in n)if(!pf[i]&&n.hasOwnProperty(i)){var r=n[i];"function"==typeof r&&(r=gf(t,i,r)),e[i]=r}}function fn(t){var e={};return t.forEach(function(t){return e[t]=!0}),e}function pn(){this.dirtyValue=this.dirtyArgs=!0,this.bound&&"function"==typeof this.owner.bubble&&this.owner.bubble()}function mn(){var t;return 1===this.items.length?this.items[0].detach():(t=document.createDocumentFragment(),this.items.forEach(function(e){var n=e.detach();n&&t.appendChild(n)}),t)}function vn(t){var e,n,i,r;if(this.items){for(n=this.items.length,e=0;n>e;e+=1)if(i=this.items[e],i.find&&(r=i.find(t)))return r;return null}}function gn(t,e){var n,i,r;if(this.items)for(i=this.items.length,n=0;i>n;n+=1)r=this.items[n],r.findAll&&r.findAll(t,e);return e}function yn(t,e){var n,i,r;if(this.items)for(i=this.items.length,n=0;i>n;n+=1)r=this.items[n],r.findAllComponents&&r.findAllComponents(t,e);return e}function wn(t){var e,n,i,r;if(this.items){for(e=this.items.length,n=0;e>n;n+=1)if(i=this.items[n],i.findComponent&&(r=i.findComponent(t)))return r;return null}}function bn(t){var e,n=t.index;return e=this.items[n+1]?this.items[n+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)}function xn(){return this.items&&this.items[0]?this.items[0].firstNode():null}function kn(t,e,n,i){return i=i||0,t.map(function(t){var r,o,s;return t.text?t.text:t.fragments?t.fragments.map(function(t){return kn(t.items,e,n,i)}).join(""):(r=n+"-"+i++,s=t.keypath&&(o=t.root.viewmodel.wrapped[t.keypath.str])?o.value:t.getValue(),e[r]=s,"${"+r+"}")}).join("")}function En(){var t,e,n,i;return this.dirtyArgs&&(e=Of(this.items,t={},this.root._guid),n=_d("["+e+"]",t),i=n?n.value:[this.toString()],this.argsList=i,this.dirtyArgs=!1),this.argsList}function _n(){var t=this;do if(t.pElement)return t.pElement.node;while(t=t.parent);return this.root.detached||this.root.el}function Sn(){var t,e,n,i;return this.dirtyValue&&(e=Of(this.items,t={},this.root._guid),n=_d(e,t),i=n?n.value:this.toString(),this.value=i,this.dirtyValue=!1),this.value}function Cn(){this.registered&&this.root.viewmodel.unregister(this.keypath,this),this.resolver&&this.resolver.unbind()}function An(){return this.value}function On(t,e){for(var n,i=0;i<e.prop.length;i++)if(void 0!==(n=t[e.prop[i]]))return n}function Pn(t,e){var n,i,r,o,s,a={},u=!1;for(e||(a.refs=n={});t;){if((s=t.owner)&&(i=s.indexRefs)){if(e&&(r=s.getIndexRef(e)))return a.ref={fragment:t,ref:r},a;if(!e)for(o in i)r=i[o],n[r.n]||(u=!0,n[r.n]={fragment:t,ref:r})}!t.parent&&t.owner&&t.owner.component&&t.owner.component.parentFragment&&!t.owner.component.instance.isolated?(a.componentBoundary=!0,t=t.owner.component.parentFragment):t=t.parent}return u?a:void 0}function Tn(t,e,n){var i;return"@"===e.charAt(0)?new zf(t,e,n):(i=Wf(t.parentFragment,e))?new Bf(t,i,n):new Df(t,e,n)}function jn(t,e){var n,i;if(Kf[t])return Kf[t];for(i=[];e--;)i[e]="_"+e;return n=new Function(i.join(","),"return("+t+")"),Kf[t]=n,n}function Fn(t){return t.call()}function Rn(t,e){return t.replace(/_([0-9]+)/g,function(t,n){var i,r;return+n>=e.length?"_"+n:(i=e[n],void 0===i?"undefined":i.isSpecial?(r=i.value,"number"==typeof r?r:'"'+r+'"'):i.str)})}function In(t){return _("${"+t.replace(/[\.\[\]]/g,"-").replace(/\*/,"#MUL#")+"}")}function Ln(t){return void 0!==t&&"@"!==t[0]}function Nn(t,e){var n,i,r;if(t.__ractive_nowrap)return t;if(i="__ractive_"+e._guid,n=t[i])return n;if(/this/.test(t.toString())){xa(t,i,{value:Zf.call(t,e),configurable:!0});for(r in t)t.hasOwnProperty(r)&&(t[i][r]=t[r]);return e._boundFunctions.push({fn:t,prop:i}),t[i]}return xa(t,"__ractive_nowrap",{value:t}),t.__ractive_nowrap}function Mn(t){return t.value}function Dn(t){return void 0!=t}function Vn(t){t.forceResolution()}function qn(t,e){function n(e){t.resolve(e)}function i(e){var n=t.keypath;e!=n&&(t.resolve(e),void 0!==n&&t.fragments&&t.fragments.forEach(function(t){t.rebind(n,e)}))}var r,o,s;o=e.parentFragment,s=e.template,t.root=o.root,t.parentFragment=o,t.pElement=o.pElement,t.template=e.template,t.index=e.index||0,t.isStatic=e.template.s,t.type=e.template.t,t.registered=!1,(r=s.r)&&(t.resolver=Hf(t,r,n)),e.template.x&&(t.resolver=new Gf(t,o,e.template.x,i)),e.template.rx&&(t.resolver=new tp(t,e.template.rx,i)),t.template.n!==Ch||t.hasOwnProperty("value")||t.setValue(void 0)}function zn(t){var e,n,i;return t&&t.isSpecial?(this.keypath=t,void this.setValue(t.value)):(this.registered&&(this.root.viewmodel.unregister(this.keypath,this),this.registered=!1,e=!0),this.keypath=t,void 0!=t&&(n=this.root.viewmodel.get(t),this.root.viewmodel.register(t,this),this.registered=!0),this.setValue(n),void(e&&(i=this.twowayBinding)&&i.rebound()))}function Un(t,e){this.fragments&&this.fragments.forEach(function(n){return n.rebind(t,e)}),this.resolver&&this.resolver.rebind(t,e)}function Bn(){this.parentFragment.bubble()}function Wn(){var t;return 1===this.fragments.length?this.fragments[0].detach():(t=document.createDocumentFragment(),this.fragments.forEach(function(e){t.appendChild(e.detach())}),t)}function $n(t){var e,n,i;for(n=this.fragments.length,e=0;n>e;e+=1)if(i=this.fragments[e].find(t))return i;return null}function Hn(t,e){var n,i;for(i=this.fragments.length,n=0;i>n;n+=1)this.fragments[n].findAll(t,e)}function Qn(t,e){var n,i;for(i=this.fragments.length,n=0;i>n;n+=1)this.fragments[n].findAllComponents(t,e)}function Kn(t){var e,n,i;for(n=this.fragments.length,e=0;n>e;e+=1)if(i=this.fragments[e].findComponent(t))return i;return null}function Zn(t){return this.fragments[t.index+1]?this.fragments[t.index+1].firstNode():this.parentFragment.findNextNode(this)}function Gn(){var t,e,n;if(t=this.fragments.length)for(e=0;t>e;e+=1)if(n=this.fragments[e].firstNode())return n;return this.parentFragment.findNextNode(this)}function Yn(t){var e,n,i,r,o,s,a,u=this;if(!this.shuffling&&!this.unbound&&this.currentSubtype===Ah){if(this.shuffling=!0,mu.scheduleTask(function(){return u.shuffling=!1}),e=this.parentFragment,o=[],t.forEach(function(t,e){var i,r,s,a,c;return t===e?void(o[t]=u.fragments[e]):(i=u.fragments[e],void 0===n&&(n=e),-1===t?(u.fragmentsToUnrender.push(i),void i.unbind()):(r=t-e,s=u.keypath.join(e),a=u.keypath.join(t),i.index=t,(c=i.registeredIndexRefs)&&c.forEach(Jn),i.rebind(s,a),void(o[t]=i)))}),r=this.root.viewmodel.get(this.keypath).length,void 0===n){if(this.length===r)return;n=this.length}for(this.length=this.fragments.length=r,this.rendered&&mu.addView(this),s={template:this.template.f,root:this.root,owner:this},i=n;r>i;i+=1)a=o[i],a||this.fragmentsToCreate.push(i),this.fragments[i]=a}}function Jn(t){t.rebind("","")}function Xn(){var t=this;return this.docFrag=document.createDocumentFragment(),this.fragments.forEach(function(e){return t.docFrag.appendChild(e.render())}),this.renderedFragments=this.fragments.slice(),this.fragmentsToRender=[],this.rendered=!0,this.docFrag}function ti(t){var e,n,i=this;this.updating||(this.updating=!0,this.keypath&&(e=this.root.viewmodel.wrapped[this.keypath.str])&&(t=e.get()),this.fragmentsToCreate.length?(n={template:this.template.f||[],root:this.root,pElement:this.pElement,owner:this},this.fragmentsToCreate.forEach(function(t){var e;n.context=i.keypath.join(t),n.index=t,e=new yw(n),i.fragmentsToRender.push(i.fragments[t]=e)}),this.fragmentsToCreate.length=0):ni(this,t)&&(this.bubble(),this.rendered&&mu.addView(this)),this.value=t,this.updating=!1)}function ei(t,e,n){if(e===Ah&&t.indexRefs&&t.indexRefs[0]){var i=t.indexRefs[0];(n&&"i"===i.t||!n&&"k"===i.t)&&(n||(t.length=0,t.fragmentsToUnrender=t.fragments.slice(0),t.fragmentsToUnrender.forEach(function(t){return t.unbind()}))),i.t=n?"k":"i"}t.currentSubtype=e}function ni(t,e){var n={template:t.template.f||[],root:t.root,pElement:t.parentFragment.pElement,owner:t};if(t.hasContext=!0,t.subtype)switch(t.subtype){case Sh:return t.hasContext=!1,ai(t,e,!1,n);case Ch:return t.hasContext=!1,ai(t,e,!0,n);case Oh:return si(t,n);case Ph:return oi(t,e,n);case Ah:if(c(e))return ei(t,t.subtype,!0),ri(t,e,n)}return t.ordered=!!s(e),t.ordered?(ei(t,Ah,!1),ii(t,e,n)):c(e)||"function"==typeof e?t.template.i?(ei(t,Ah,!0),ri(t,e,n)):(ei(t,Oh,!1),si(t,n)):(ei(t,Sh,!1),t.hasContext=!1,ai(t,e,!1,n))}function ii(t,e,n){var i,r,o;if(r=e.length,r===t.length)return!1;if(r<t.length)t.fragmentsToUnrender=t.fragments.splice(r,t.length-r),t.fragmentsToUnrender.forEach(Q);else if(r>t.length)for(i=t.length;r>i;i+=1)n.context=t.keypath.join(i),n.index=i,o=new yw(n),t.fragmentsToRender.push(t.fragments[i]=o);return t.length=r,!0}function ri(t,e,n){var i,r,o,s,a,u;for(o=t.hasKey||(t.hasKey={}),r=t.fragments.length;r--;)s=t.fragments[r],s.key in e||(a=!0,s.unbind(),t.fragmentsToUnrender.push(s),t.fragments.splice(r,1),o[s.key]=!1);for(r=t.fragments.length;r--;)s=t.fragments[r],s.index!==r&&(s.index=r,(u=s.registeredIndexRefs)&&u.forEach(hi));r=t.fragments.length;for(i in e)o[i]||(a=!0,n.context=t.keypath.join(i),n.key=i,n.index=r++,s=new yw(n),t.fragmentsToRender.push(s),t.fragments.push(s),o[i]=!0);return t.length=t.fragments.length,a}function oi(t,e,n){return e?si(t,n):ui(t)}function si(t,e){var n;return t.length?void 0:(e.context=t.keypath,e.index=0,n=new yw(e),t.fragmentsToRender.push(t.fragments[0]=n),t.length=1,!0)}function ai(t,e,n,i){var r,o,a,u,h;if(o=s(e)&&0===e.length,a=!1,!s(e)&&c(e)){a=!0;for(h in e){a=!1;break}}return r=n?o||a||!e:e&&!o&&!a,r?t.length?t.length>1?(t.fragmentsToUnrender=t.fragments.splice(1),t.fragmentsToUnrender.forEach(Q),!0):void 0:(i.index=0,u=new yw(i),t.fragmentsToRender.push(t.fragments[0]=u),t.length=1,!0):ui(t)}function ui(t){return t.length?(t.fragmentsToUnrender=t.fragments.splice(0,t.fragments.length).filter(ci),t.fragmentsToUnrender.forEach(Q),t.length=t.fragmentsToRender.length=0,!0):void 0}function ci(t){return t.rendered}function hi(t){t.rebind("","")}function li(t){var e,n,i;for(e="",n=0,i=this.length,n=0;i>n;n+=1)e+=this.fragments[n].toString(t);return e}function di(){var t=this;this.fragments.forEach(Q),this.fragmentsToRender.forEach(function(e){return N(t.fragments,e)}),this.fragmentsToRender=[],Lf.call(this),this.length=0,this.unbound=!0}function fi(t){this.fragments.forEach(t?pi:mi),this.renderedFragments=[],this.rendered=!1}function pi(t){t.unrender(!0)}function mi(t){t.unrender(!1)}function vi(){var t,e,n,i,r,o,s;for(n=this.renderedFragments;t=this.fragmentsToUnrender.pop();)t.unrender(!0),n.splice(n.indexOf(t),1);for(;t=this.fragmentsToRender.shift();)t.render();for(this.rendered&&(r=this.parentFragment.getNode()),s=this.fragments.length,o=0;s>o;o+=1)t=this.fragments[o],e=n.indexOf(t,o),e!==o?(this.docFrag.appendChild(t.detach()),-1!==e&&n.splice(e,1),n.splice(o,0,t)):this.docFrag.childNodes.length&&(i=t.firstNode(),r.insertBefore(this.docFrag,i));this.rendered&&this.docFrag.childNodes.length&&(i=this.parentFragment.findNextNode(this),r.insertBefore(this.docFrag,i)),this.renderedFragments=this.fragments.slice()}function gi(){var t,e;if(this.docFrag){for(t=this.nodes.length,e=0;t>e;e+=1)this.docFrag.appendChild(this.nodes[e]);return this.docFrag}}function yi(t){var e,n,i,r;for(n=this.nodes.length,e=0;n>e;e+=1)if(i=this.nodes[e],1===i.nodeType){if(da(i,t))return i;if(r=i.querySelector(t))return r}return null}function wi(t,e){var n,i,r,o,s,a;for(i=this.nodes.length,n=0;i>n;n+=1)if(r=this.nodes[n],1===r.nodeType&&(da(r,t)&&e.push(r),o=r.querySelectorAll(t)))for(s=o.length,a=0;s>a;a+=1)e.push(o[a])}function bi(){return this.rendered&&this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)}function xi(t){return jp[t]||(jp[t]=la(t))}function ki(t){var e,n,i;t&&"select"===t.name&&t.binding&&(e=M(t.node.options).filter(Ei),t.getAttribute("multiple")?i=e.map(function(t){return t.value}):(n=e[0])&&(i=n.value),void 0!==i&&t.binding.setValue(i),t.bubble())}function Ei(t){return t.selected}function _i(){if(this.rendered)throw new Error("Attempted to render an item that was already rendered");return this.docFrag=document.createDocumentFragment(),this.nodes=Fp(this.value,this.parentFragment.getNode(),this.docFrag),Rp(this.pElement),this.rendered=!0,this.docFrag}function Si(t){var e;(e=this.root.viewmodel.wrapped[this.keypath.str])&&(t=e.get()),t!==this.value&&(this.value=t,this.parentFragment.bubble(),this.rendered&&mu.addView(this))}function Ci(){return void 0!=this.value?_e(""+this.value):""}function Ai(t){this.rendered&&t&&(this.nodes.forEach(e),this.rendered=!1)}function Oi(){var t,e;if(this.rendered){for(;this.nodes&&this.nodes.length;)t=this.nodes.pop(),t.parentNode.removeChild(t);e=this.parentFragment.getNode(),this.nodes=Fp(this.value,e,this.docFrag),e.insertBefore(this.docFrag,this.parentFragment.findNextNode(this)),Rp(this.pElement)}}function Pi(){var t,e=this.node;return e?((t=e.parentNode)&&t.removeChild(e),e):void 0}function Ti(){return null}function ji(){return this.node}function Fi(t){return this.attributes&&this.attributes[t]?this.attributes[t].value:void 0}function Ri(){var t=this.useProperty||!this.rendered?this.fragment.getValue():this.fragment.toString();a(t,this.value)||("id"===this.name&&this.value&&delete this.root.nodes[this.value],this.value=t,"value"===this.name&&this.node&&(this.node._ractive.value=t),this.rendered&&mu.addView(this))}function Ii(t){var e=t.fragment.items;if(1===e.length)return e[0].type===Kc?e[0]:void 0}function Li(t){return this.type=ih,this.element=t.element,this.root=t.root,om(this,t.name),this.isBoolean=yl.test(this.name),t.value&&"string"!=typeof t.value?(this.parentFragment=this.element.parentFragment,this.fragment=new yw({template:t.value,root:this.root,owner:this}),this.value=this.fragment.getValue(),this.interpolator=sm(this),this.isBindable=!!this.interpolator&&!this.interpolator.isStatic,void(this.ready=!0)):void(this.value=this.isBoolean?!0:t.value||"")}function Ni(t,e){this.fragment&&this.fragment.rebind(t,e)}function Mi(t){var e;this.node=t,t.namespaceURI&&t.namespaceURI!==ia.html||(e=hm[this.name]||this.name,void 0!==t[e]&&(this.propertyName=e),(this.isBoolean||this.isTwoway)&&(this.useProperty=!0),"value"===e&&(t._ractive.value=this.value)),this.rendered=!0,this.update()}function Di(){var t=this,e=t.name,n=t.namespacePrefix,i=t.value,r=t.interpolator,o=t.fragment;if(("value"!==e||"select"!==this.element.name&&"textarea"!==this.element.name)&&("value"!==e||void 0===this.element.getAttribute("contenteditable"))){if("name"===e&&"input"===this.element.name&&r)return"name={{"+(r.keypath.str||r.ref)+"}}";if(this.isBoolean)return i?e:"";if(o){if(1===o.items.length&&null==o.items[0].value)return"";i=o.toString()}return n&&(e=n+":"+e),i?e+'="'+Vi(i)+'"':e}}function Vi(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function qi(){this.fragment&&this.fragment.unbind(),"id"===this.name&&delete this.root.nodes[this.value]}function zi(){var t,e,n,i,r=this.value;if(!this.locked)for(this.node._ractive.value=r,t=this.node.options,i=t.length;i--;)if(e=t[i],n=e._ractive?e._ractive.value:e.value,n==r){e.selected=!0;break}}function Ui(){var t,e,n,i,r=this.value;for(o(r)||(r=[r]),t=this.node.options,e=t.length;e--;)n=t[e],i=n._ractive?n._ractive.value:n.value,n.selected=F(r,i)}function Bi(){var t=this,e=t.node,n=t.value;e.checked=n==e._ractive.value}function Wi(){var t,e,n,i,r=this.node;if(t=r.checked,r.value=this.element.getAttribute("value"),r.checked=this.element.getAttribute("value")===this.element.getAttribute("name"),t&&!r.checked&&this.element.binding&&(n=this.element.binding.siblings,i=n.length)){for(;i--;){if(e=n[i],!e.element.node)return;if(e.element.node.checked)return mu.addRactive(e.root),e.handleChange()}this.root.viewmodel.set(e.keypath,void 0)}}function $i(){var t,e,n=this,i=n.element,r=n.node,s=n.value,a=i.binding;if(t=i.getAttribute("value"),o(s)){for(e=s.length;e--;)if(t==s[e])return void(a.isChecked=r.checked=!0);a.isChecked=r.checked=!1}else a.isChecked=r.checked=s==t}function Hi(){this.node.className=n(this.value)}function Qi(){var t=this,e=t.node,n=t.value;this.root.nodes[n]=e,e.id=n}function Ki(){var t,e;t=this.node,e=this.value,void 0===e&&(e=""),t.style.setAttribute("cssText",e)}function Zi(){var t=this.value;void 0===t&&(t=""),this.locked||(this.node.innerHTML=t)}function Gi(){var t=this,e=t.node,n=t.value;e._ractive.value=n,this.locked||(e.value=void 0==n?"":n)}function Yi(){this.locked||(this.node[this.propertyName]=this.value)}function Ji(){var t=this,e=t.node,n=t.namespace,i=t.name,r=t.value,o=t.fragment;n?e.setAttributeNS(n,i,(o||r).toString()):this.isBoolean?r?e.setAttribute(i,""):e.removeAttribute(i):null==r?e.removeAttribute(i):e.setAttribute(i,(o||r).toString())}function Xi(){var t,e,n=this,i=n.name,r=n.element,o=n.node;"id"===i?e=wm:"value"===i?"select"===r.name&&"value"===i?e=r.getAttribute("multiple")?pm:fm:"textarea"===r.name?e=km:null!=r.getAttribute("contenteditable")?e=xm:"input"===r.name&&(t=r.getAttribute("type"),e="file"===t?ja:"radio"===t&&r.binding&&"name"===r.binding.name?vm:km):this.isTwoway&&"name"===i?"radio"===o.type?e=mm:"checkbox"===o.type&&(e=gm):"style"===i&&o.style.setAttribute?e=bm:"class"!==i||o.namespaceURI&&o.namespaceURI!==ia.html?this.useProperty&&(e=Em):e=ym,e||(e=_m),this.update=e,this.update()}function tr(t,e){var n=e?"svg":"div";return Am.innerHTML="<"+n+" "+t+"></"+n+">",M(Am.childNodes[0].attributes)}function er(t,e){for(var n=t.length;n--;)if(t[n].name===e.name)return!1;return!0}function nr(t){for(;t=t.parent;)if("form"===t.name)return t}function ir(){this._ractive.binding.handleChange()}function rr(t,e,n){var i=t+e+n;return qm[i]||(qm[i]=[])}function or(t){return t.isChecked}function sr(t){return t.element.getAttribute("value")}function ar(){var t;Nm.call(this),t=this._ractive.root.viewmodel.get(this._ractive.binding.keypath),this.value=void 0==t?"":t}function ur(){var t=this._ractive.binding,e=this;t._timeout&&clearTimeout(t._timeout),t._timeout=setTimeout(function(){t.rendered&&Nm.call(e),t._timeout=void 0},t.element.lazy)}function cr(t){var e,n,i,r,o,s=t.attributes;return t.binding&&(t.binding.teardown(),t.binding=null),(t.getAttribute("contenteditable")||s.contenteditable&&hr(s.contenteditable))&&hr(s.value)?n=Dm:"input"===t.name?(e=t.getAttribute("type"),"radio"===e||"checkbox"===e?(i=hr(s.name),r=hr(s.checked),i&&r&&m("A radio input can have two-way binding on its name attribute, or its checked attribute - not both",{ractive:t.root}),i?n="radio"===e?Wm:Hm:r&&(n="radio"===e?Um:Km)):"file"===e&&hr(s.value)?n=tv:hr(s.value)&&(n="number"===e||"range"===e?nv:ev)):"select"===t.name&&hr(s.value)?n=t.getAttribute("multiple")?Jm:Gm:"textarea"===t.name&&hr(s.value)&&(n=ev),n&&(o=new n(t))&&o.keypath?o:void 0}function hr(t){return t&&t.isBindable}function lr(){var t=this.getAction();t&&!this.hasListener?this.listen():!t&&this.hasListener&&this.unrender()}function dr(t){zu(this.root,this.getAction(),{event:t})}function fr(){return this.action.toString().trim()}function pr(t,e,n){var i,r,o,s=this;this.element=t,this.root=t.root,this.parentFragment=t.parentFragment,this.name=e,-1!==e.indexOf("*")&&(l('Only component proxy-events may contain "*" wildcards, <%s on-%s="..."/> is not valid',t.name,e),this.invalid=!0),n.m?(r=n.a.r,this.method=n.m,this.keypaths=[],this.fn=Qf(n.a.s,r.length),this.parentFragment=t.parentFragment,o=this.root,this.refResolvers=[],r.forEach(function(t,e){var n=void 0;(n=uv.exec(t))?s.keypaths[e]={eventObject:!0,refinements:n[1]?n[1].split("."):[]}:s.refResolvers.push(Hf(s,t,function(t){return s.resolve(e,t)}))}),this.fire=mr):(i=n.n||n,"string"!=typeof i&&(i=new yw({template:i,root:this.root,owner:this})),this.action=i,n.d?(this.dynamicParams=new yw({template:n.d,root:this.root,owner:this.element}),this.fire=gr):n.a&&(this.params=n.a,this.fire=vr))}function mr(t){var e,n,i;if(e=this.root,"function"!=typeof e[this.method])throw new Error('Attempted to call a non-existent method ("'+this.method+'")');n=this.keypaths.map(function(n){var i,r,o;if(void 0===n)return void 0;if(n.eventObject){if(i=t,r=n.refinements.length)for(o=0;r>o;o+=1)i=i[n.refinements[o]]}else i=e.viewmodel.get(n);return i}),qu.enqueue(e,t),i=this.fn.apply(null,n),e[this.method].apply(e,i),qu.dequeue(e)}function vr(t){zu(this.root,this.getAction(),{event:t,args:this.params})}function gr(t){var e=this.dynamicParams.getArgsList();"string"==typeof e&&(e=e.substr(1,e.length-2)),zu(this.root,this.getAction(),{event:t,args:e})}function yr(t){var e,n,i,r={};e=this._ractive,n=e.events[t.type],(i=Wf(n.element.parentFragment))&&(r=Wf.resolve(i)),n.fire({node:this,original:t,index:r,keypath:e.keypath.str,context:e.root.viewmodel.get(e.keypath)})}function wr(){var t,e=this.name;if(!this.invalid){if(t=g("events",this.root,e))this.custom=t(this.node,br(e));else{if(!("on"+e in this.node||window&&"on"+e in window||ta))return void(dv[e]||v(La(e,"event"),{node:this.node}));this.node.addEventListener(e,cv,!1)}this.hasListener=!0}}function br(t){return lv[t]||(lv[t]=function(e){var n=e.node._ractive;e.index=n.index,e.keypath=n.keypath.str,e.context=n.root.viewmodel.get(n.keypath),n.events[t].fire(e)}),lv[t]}function xr(t,e){function n(n){n&&n.rebind(t,e)}var i;return this.method?(i=this.element.parentFragment,void this.refResolvers.forEach(n)):("string"!=typeof this.action&&n(this.action),void(this.dynamicParams&&n(this.dynamicParams)))}function kr(){this.node=this.element.node,this.node._ractive.events[this.name]=this,(this.method||this.getAction())&&this.listen()}function Er(t,e){this.keypaths[t]=e}function _r(){return this.method?void this.refResolvers.forEach(Q):("string"!=typeof this.action&&this.action.unbind(),void(this.dynamicParams&&this.dynamicParams.unbind()))}function Sr(){this.custom?this.custom.teardown():this.node.removeEventListener(this.name,cv,!1),this.hasListener=!1}function Cr(){var t=this;this.dirty||(this.dirty=!0,mu.scheduleTask(function(){Ar(t),t.dirty=!1})),this.parentFragment.bubble()}function Ar(t){var e,n,i,r,o;e=t.node,e&&(r=M(e.options),n=t.getAttribute("value"),i=t.getAttribute("multiple"),void 0!==n?(r.forEach(function(t){var e,r;e=t._ractive?t._ractive.value:t.value,r=i?Or(n,e):n==e,r&&(o=!0),t.selected=r}),o||(r[0]&&(r[0].selected=!0),t.binding&&t.binding.forceUpdate())):t.binding&&t.binding.forceUpdate())}function Or(t,e){for(var n=t.length;n--;)if(t[n]==e)return!0}function Pr(t,e){t.select=jr(t.parent),t.select&&(t.select.options.push(t),e.a||(e.a={}),void 0!==e.a.value||e.a.hasOwnProperty("disabled")||(e.a.value=e.f),"selected"in e.a&&void 0!==t.select.getAttribute("value")&&delete e.a.selected)}function Tr(t){t.select&&N(t.select.options,t)}function jr(t){if(t)do if("select"===t.name)return t;while(t=t.parent)}function Fr(t){var e,n,i,r,o,s,a;this.type=Xc,e=this.parentFragment=t.parentFragment,n=this.template=t.template,this.parent=t.pElement||e.pElement,this.root=i=e.root,this.index=t.index,this.key=t.key,this.name=rm(n.e),"option"===this.name&&Pr(this,n),"select"===this.name&&(this.options=[],this.bubble=Cr),"form"===this.name&&(this.formBindings=[]),a=nm(this,n),this.attributes=Pm(this,n.a),this.conditionalAttributes=Fm(this,n.m),n.f&&(this.fragment=new yw({template:n.f,root:i,owner:this,pElement:this,cssIds:null})),s=i.twoway,a.twoway===!1?s=!1:a.twoway===!0&&(s=!0),this.twoway=s,this.lazy=a.lazy,s&&(r=iv(this,n.a))&&(this.binding=r,o=this.root._twowayBindings[r.keypath.str]||(this.root._twowayBindings[r.keypath.str]=[]),o.push(r)),n.v&&(this.eventHandlers=bv(this,n.v)),n.o&&(this.decorator=new Sv(this,n.o)),this.intro=n.t0||n.t1,this.outro=n.t0||n.t2}function Rr(t,e){function n(n){n.rebind(t,e)}var i,r,o,s;if(this.attributes&&this.attributes.forEach(n),this.conditionalAttributes&&this.conditionalAttributes.forEach(n),this.eventHandlers&&this.eventHandlers.forEach(n),this.decorator&&n(this.decorator),this.fragment&&n(this.fragment),o=this.liveQueries)for(s=this.root,i=o.length;i--;)o[i]._makeDirty();this.node&&(r=this.node._ractive)&&k(r,"keypath",t,e)}function Ir(t){var e;(t.attributes.width||t.attributes.height)&&t.node.addEventListener("load",e=function(){var n=t.getAttribute("width"),i=t.getAttribute("height");void 0!==n&&t.node.setAttribute("width",n),void 0!==i&&t.node.setAttribute("height",i),t.node.removeEventListener("load",e,!1)},!1)}function Lr(t){t.node.addEventListener("reset",Mr,!1)}function Nr(t){t.node.removeEventListener("reset",Mr,!1)}function Mr(){var t=this._ractive.proxy;mu.start(),t.formBindings.forEach(Dr),mu.end()}function Dr(t){t.root.viewmodel.set(t.keypath,t.resetValue)}function Vr(t,e,n){var i,r,o;this.element=t,this.root=i=t.root,this.isIntro=n,r=e.n||e,("string"==typeof r||(o=new yw({template:r,root:i,owner:t}),r=o.toString(),o.unbind(),""!==r))&&(this.name=r,e.a?this.params=e.a:e.d&&(o=new yw({template:e.d,root:i,owner:t}),this.params=o.getArgsList(),o.unbind()),this._fn=g("transitions",i,r),this._fn||v(La(r,"transition"),{ractive:this.root}))}function qr(t){return t}function zr(){eg.hidden=document[Yv]}function Ur(){eg.hidden=!0}function Br(){eg.hidden=!1}function Wr(){var t,e,n,i=this;return t=this.node=this.element.node,e=t.getAttribute("style"),this.complete=function(r){n||(!r&&i.isIntro&&$r(t,e),t._ractive.transition=null,i._manager.remove(i),n=!0)},this._fn?void this._fn.apply(this.root,[this].concat(this.params)):void this.complete()}function $r(t,e){e?t.setAttribute("style",e):(t.getAttribute("style"),t.removeAttribute("style"))}function Hr(){var t,e,n,i=this,r=this.root;return t=Qr(this),e=this.node=la(this.name,t),this.parentFragment.cssIds&&this.node.setAttribute("data-ractive-css",this.parentFragment.cssIds.map(function(t){return"{"+t+"}"}).join(" ")),xa(this.node,"_ractive",{value:{proxy:this,keypath:au(this.parentFragment),events:ba(null),root:r}}),this.attributes.forEach(function(t){
return t.render(e)}),this.conditionalAttributes.forEach(function(t){return t.render(e)}),this.fragment&&("script"===this.name?(this.bubble=dg,this.node.text=this.fragment.toString(!1),this.fragment.unrender=ja):"style"===this.name?(this.bubble=lg,this.bubble(),this.fragment.unrender=ja):this.binding&&this.getAttribute("contenteditable")?this.fragment.unrender=ja:this.node.appendChild(this.fragment.render())),this.binding&&(this.binding.render(),this.node._ractive.binding=this.binding),this.eventHandlers&&this.eventHandlers.forEach(function(t){return t.render()}),"option"===this.name&&Kr(this),"img"===this.name?Ir(this):"form"===this.name?Lr(this):"input"===this.name||"textarea"===this.name?this.node.defaultValue=this.node.value:"option"===this.name&&(this.node.defaultSelected=this.node.selected),this.decorator&&this.decorator.fn&&mu.scheduleTask(function(){i.decorator.torndown||i.decorator.init()},!0),r.transitionsEnabled&&this.intro&&(n=new fg(this,this.intro,!0),mu.registerTransition(n),mu.scheduleTask(function(){return n.start()},!0),this.transition=n),this.node.autofocus&&mu.scheduleTask(function(){return i.node.focus()},!0),Zr(this),this.node}function Qr(t){var e,n,i;return e=(n=t.getAttribute("xmlns"))?n:"svg"===t.name?ia.svg:(i=t.parent)?"foreignObject"===i.name?ia.html:i.node.namespaceURI:t.root.el.namespaceURI}function Kr(t){var e,n,i;if(t.select&&(n=t.select.getAttribute("value"),void 0!==n))if(e=t.getAttribute("value"),t.select.node.multiple&&o(n)){for(i=n.length;i--;)if(e==n[i]){t.node.selected=!0;break}}else t.node.selected=e==n}function Zr(t){var e,n,i,r,o;e=t.root;do for(n=e._liveQueries,i=n.length;i--;)r=n[i],o=n["_"+r],o._test(t)&&(t.liveQueries||(t.liveQueries=[])).push(o);while(e=e.parent)}function Gr(t){var e,n,i;if(e=t.getAttribute("value"),void 0===e||!t.select)return!1;if(n=t.select.getAttribute("value"),n==e)return!0;if(t.select.getAttribute("multiple")&&o(n))for(i=n.length;i--;)if(n[i]==e)return!0}function Yr(t){var e,n,i,r;return e=t.attributes,n=e.type,i=e.value,r=e.name,n&&"radio"===n.value&&i&&r.interpolator&&i.value===r.interpolator.value?!0:void 0}function Jr(t){var e=t.toString();return e?" "+e:""}function Xr(){this.fragment&&this.fragment.unbind(),this.binding&&this.binding.unbind(),this.eventHandlers&&this.eventHandlers.forEach(Q),"option"===this.name&&Tr(this),this.attributes.forEach(Q),this.conditionalAttributes.forEach(Q)}function to(t){var e,n,i;(i=this.transition)&&i.complete(),"option"===this.name?this.detach():t&&mu.detachWhenReady(this),this.fragment&&this.fragment.unrender(!1),(e=this.binding)&&(this.binding.unrender(),this.node._ractive.binding=null,n=this.root._twowayBindings[e.keypath.str],n.splice(n.indexOf(e),1)),this.eventHandlers&&this.eventHandlers.forEach(K),this.decorator&&mu.registerDecorator(this.decorator),this.root.transitionsEnabled&&this.outro&&(i=new fg(this,this.outro,!1),mu.registerTransition(i),mu.scheduleTask(function(){return i.start()})),this.liveQueries&&eo(this),"form"===this.name&&Nr(this)}function eo(t){var e,n,i;for(i=t.liveQueries.length;i--;)e=t.liveQueries[i],n=e.selector,e._remove(t.node)}function no(t,e){var n=xg.exec(e)[0];return null===t||n.length<t.length?n:t}function io(t,e,n){var i;if(i=ro(t,e,n||{}))return i;if(i=af.fromId(e,{noThrow:!0})){i=kg(i);var r=af.parse(i,af.getParseOptions(t));return t.partials[e]=r.t}}function ro(t,e,n){var i=void 0,r=ao(e,n.owner);if(r)return r;var o=y("partials",t,e);if(o){if(r=o.partials[e],"function"==typeof r&&(i=r.bind(o),i.isOwner=o.partials.hasOwnProperty(e),r=i.call(t,af)),!r&&""!==r)return void m(Ia,e,"partial","partial",{ractive:t});if(!af.isParsed(r)){var s=af.parse(r,af.getParseOptions(o));s.p&&m("Partials ({{>%s}}) cannot contain nested inline partials",e,{ractive:t});var a=i?o:oo(o,e);a.partials[e]=r=s.t}return i&&(r._fn=i),r.v?r.t:r}}function oo(t,e){return t.partials.hasOwnProperty(e)?t:so(t.constructor,e)}function so(t,e){return t?t.partials.hasOwnProperty(e)?t:so(t._Parent,e):void 0}function ao(t,e){if(e){if(e.template&&e.template.p&&e.template.p[t])return e.template.p[t];if(e.parentFragment&&e.parentFragment.owner)return ao(t,e.parentFragment.owner)}}function uo(t,e){var n,i=y("components",t,e);if(i&&(n=i.components[e],!n._Parent)){var r=n.bind(i);if(r.isOwner=i.components.hasOwnProperty(e),n=r(),!n)return void m(Ia,e,"component","component",{ractive:t});"string"==typeof n&&(n=uo(t,n)),n._fn=r,i.components[e]=n}return n}function co(){var t=this.instance.fragment.detach();return Rg.fire(this.instance),t}function ho(t){return this.instance.fragment.find(t)}function lo(t,e){return this.instance.fragment.findAll(t,e)}function fo(t,e){e._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(t,e)}function po(t){return t&&t!==this.name?this.instance.fragment?this.instance.fragment.findComponent(t):null:this.instance}function mo(){return this.parentFragment.findNextNode(this)}function vo(){return this.rendered?this.instance.fragment.firstNode():null}function go(t,e,n){function i(t){var n,i;t.value=e,t.updating||(i=t.ractive,n=t.keypath,t.updating=!0,mu.start(i),i.viewmodel.mark(n),mu.end(),t.updating=!1)}var r,o,s,a,u,c;if(r=t.obj,o=t.prop,n&&!n.configurable){if("length"===o)return;throw new Error('Cannot use magic mode with property "'+o+'" - object is not configurable')}n&&(s=n.get,a=n.set),u=s||function(){return e},c=function(t){a&&a(t),e=s?s():t,c._ractiveWrappers.forEach(i)},c._ractiveWrappers=[t],Object.defineProperty(r,o,{get:u,set:c,enumerable:!0,configurable:!0})}function yo(t,e){var n,i,r,o;if(this.adaptors)for(n=this.adaptors.length,i=0;n>i;i+=1)if(r=this.adaptors[i],r.filter(e,t,this.ractive))return o=this.wrapped[t]=r.wrap(this.ractive,e,t,bo(t)),void(o.value=e)}function wo(t,e){var n,i={};if(!e)return t;e+=".";for(n in t)t.hasOwnProperty(n)&&(i[e+n]=t[n]);return i}function bo(t){var e;return iy[t]||(e=t?t+".":"",iy[t]=function(n,i){var r;return"string"==typeof n?(r={},r[e+n]=i,r):"object"==typeof n?e?wo(n,t):n:void 0}),iy[t]}function xo(t){var e,n,i=[Qa];for(e=t.length;e--;)for(n=t[e].parent;n&&!n.isRoot;)-1===t.indexOf(n)&&j(i,n),n=n.parent;return i}function ko(t,e,n){var i;_o(t,e),n||(i=e.wildcardMatches(),i.forEach(function(n){Eo(t,n,e)}))}function Eo(t,e,n){var i,r,o;e=e.str||e,i=t.depsMap.patternObservers,r=i&&i[e],r&&r.forEach(function(e){o=n.join(e.lastKey),_o(t,o),Eo(t,e,o)})}function _o(t,e){t.patternObservers.forEach(function(t){t.regex.test(e.str)&&t.update(e)})}function So(){function t(t){var i=t.key;t.viewmodel===s?(s.clearCache(i.str),t.invalidate(),n.push(i),e(i)):t.viewmodel.mark(i)}function e(n){var i,r;s.noCascade.hasOwnProperty(n.str)||((r=s.deps.computed[n.str])&&r.forEach(t),(i=s.depsMap.computed[n.str])&&i.forEach(e))}var n,i,r,o=this,s=this,a={};return n=this.changes,n.length?(n.slice().forEach(e),i=ry(n),i.forEach(function(e){var i;-1===n.indexOf(e)&&(i=s.deps.computed[e.str])&&i.forEach(t)}),this.changes=[],this.patternObservers.length&&(i.forEach(function(t){return oy(o,t,!0)}),n.forEach(function(t){return oy(o,t)})),this.deps.observers&&(i.forEach(function(t){return Co(o,null,t,"observers")}),Oo(this,n,"observers")),this.deps["default"]&&(r=[],i.forEach(function(t){return Co(o,r,t,"default")}),r.length&&Ao(this,r,n),Oo(this,n,"default")),n.forEach(function(t){a[t.str]=o.get(t)}),this.implicitChanges={},this.noCascade={},a):void 0}function Co(t,e,n,i){var r,o;(r=Po(t,n,i))&&(o=t.get(n),r.forEach(function(t){e&&t.refineValue?e.push(t):t.setValue(o)}))}function Ao(t,e,n){e.forEach(function(e){for(var i=!1,r=0,o=n.length,s=[];o>r;){var a=n[r];if(a===e.keypath){i=!0;break}a.slice(0,e.keypath.length)===e.keypath&&s.push(a),r++}i&&e.setValue(t.get(e.keypath)),s.length&&e.refineValue(s)})}function Oo(t,e,n){function i(t){t.forEach(r),t.forEach(o)}function r(e){var i=Po(t,e,n);i&&a.push({keypath:e,deps:i})}function o(e){var r;(r=t.depsMap[n][e.str])&&i(r)}function s(e){var n=t.get(e.keypath);e.deps.forEach(function(t){return t.setValue(n)})}var a=[];i(e),a.forEach(s)}function Po(t,e,n){var i=t.deps[n];return i?i[e.str]:null}function To(){this.captureGroups.push([])}function jo(t,e){var n,i;if(e||(i=this.wrapped[t])&&i.teardown()!==!1&&(this.wrapped[t]=null),this.cache[t]=void 0,n=this.cacheMap[t])for(;n.length;)this.clearCache(n.pop())}function Fo(t,e){var n=e.firstKey;return!(n in t.data||n in t.computations||n in t.mappings)}function Ro(t,e){var n=new dy(t,e);return this.ready&&n.init(this),this.computations[t.str]=n}function Io(t,e){var n,i,r,o,s,a=this.cache,u=t.str;if(e=e||vy,e.capture&&(o=L(this.captureGroups))&&(~o.indexOf(t)||o.push(t)),Oa.call(this.mappings,t.firstKey))return this.mappings[t.firstKey].get(t,e);if(t.isSpecial)return t.value;if(void 0===a[u]?((i=this.computations[u])&&!i.bypass?(n=i.get(),this.adapt(u,n)):(r=this.wrapped[u])?n=r.value:t.isRoot?(this.adapt("",this.data),n=this.data):n=Lo(this,t),a[u]=n):n=a[u],!e.noUnwrap&&(r=this.wrapped[u])&&(n=r.get()),t.isRoot&&e.fullRootGet)for(s in this.mappings)n[s]=this.mappings[s].getValue();return n===py?void 0:n}function Lo(t,e){var n,i,r,o;return n=t.get(e.parent),(o=t.wrapped[e.parent.str])&&(n=o.get()),null!==n&&void 0!==n?((i=t.cacheMap[e.parent.str])?-1===i.indexOf(e.str)&&i.push(e.str):t.cacheMap[e.parent.str]=[e.str],"object"!=typeof n||e.lastKey in n?(r=n[e.lastKey],t.adapt(e.str,r,!1),t.cache[e.str]=r,r):t.cache[e.str]=py):void 0}function No(){var t;for(t in this.computations)this.computations[t].init(this)}function Mo(t,e){var n=this.mappings[t.str]=new wy(t,e);return n.initViewmodel(this),n}function Do(t,e){var n,i=t.str;e&&(e.implicit&&(this.implicitChanges[i]=!0),e.noCascade&&(this.noCascade[i]=!0)),(n=this.computations[i])&&n.invalidate(),-1===this.changes.indexOf(t)&&this.changes.push(t);var r=e?e.keepExistingWrapper:!1;this.clearCache(i,r),this.ready&&this.onchange()}function Vo(t,e,n,i){var r,o,s,a;if(this.mark(t),i&&i.compare){s=zo(i.compare);try{r=e.map(s),o=n.map(s)}catch(u){m('merge(): "%s" comparison failed. Falling back to identity checking',t),r=e,o=n}}else r=e,o=n;a=xy(r,o),this.smartUpdate(t,n,a,e.length!==n.length)}function qo(t){return JSON.stringify(t)}function zo(t){if(t===!0)return qo;if("string"==typeof t)return Ey[t]||(Ey[t]=function(e){return e[t]}),Ey[t];if("function"==typeof t)return t;throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}function Uo(t,e){var n,i,r,o=void 0===arguments[2]?"default":arguments[2];e.isStatic||((n=this.mappings[t.firstKey])?n.register(t,e,o):(i=this.deps[o]||(this.deps[o]={}),r=i[t.str]||(i[t.str]=[]),r.push(e),this.depsMap[o]||(this.depsMap[o]={}),t.isRoot||Bo(this,t,o)))}function Bo(t,e,n){for(var i,r,o;!e.isRoot;)i=t.depsMap[n],r=i[e.parent.str]||(i[e.parent.str]=[]),o=e.str,void 0===r["_"+o]&&(r["_"+o]=0,r.push(e)),r["_"+o]+=1,e=e.parent}function Wo(){return this.captureGroups.pop()}function $o(t){this.data=t,this.clearCache("")}function Ho(t,e){var n,i,r,o,s=void 0===arguments[2]?{}:arguments[2];if(!s.noMapping&&(n=this.mappings[t.firstKey]))return n.set(t,e);if(i=this.computations[t.str]){if(i.setting)return;i.set(e),e=i.get()}a(this.cache[t.str],e)||(r=this.wrapped[t.str],r&&r.reset&&(o=r.reset(e)!==!1,o&&(e=r.get())),i||o||Qo(this,t,e),s.silent?this.clearCache(t.str):this.mark(t))}function Qo(t,e,n){var i,r,o,s;o=function(){i.set?i.set(e.lastKey,n):(r=i.get(),s())},s=function(){r||(r=Yg(e.lastKey),t.set(e.parent,r,{silent:!0})),r[e.lastKey]=n},i=t.wrapped[e.parent.str],i?o():(r=t.get(e.parent),(i=t.wrapped[e.parent.str])?o():s())}function Ko(t,e,n){var i,r,o,s=this;if(r=n.length,n.forEach(function(e,n){-1===e&&s.mark(t.join(n),Ty)}),this.set(t,e,{silent:!0}),(i=this.deps["default"][t.str])&&i.filter(Zo).forEach(function(t){return t.shuffle(n,e)}),r!==e.length){for(this.mark(t.join("length"),Py),o=n.touchedFrom;o<e.length;o+=1)this.mark(t.join(o));for(o=e.length;r>o;o+=1)this.mark(t.join(o),Ty)}}function Zo(t){return"function"==typeof t.shuffle}function Go(){var t,e=this;for(Object.keys(this.cache).forEach(function(t){return e.clearCache(t)});t=this.unresolvedImplicitDependencies.pop();)t.teardown()}function Yo(t,e){var n,i,r,o=void 0===arguments[2]?"default":arguments[2];if(!e.isStatic){if(n=this.mappings[t.firstKey])return n.unregister(t,e,o);if(i=this.deps[o][t.str],r=i.indexOf(e),-1===r)throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");i.splice(r,1),t.isRoot||Jo(this,t,o)}}function Jo(t,e,n){for(var i,r;!e.isRoot;)i=t.depsMap[n],r=i[e.parent.str],r["_"+e.str]-=1,r["_"+e.str]||(N(r,e),r["_"+e.str]=void 0),e=e.parent}function Xo(t){this.hook=new nu(t),this.inProcess={},this.queue={}}function ts(t,e){return t[e._guid]||(t[e._guid]=[])}function es(t,e){var n=ts(t.queue,e);for(t.hook.fire(e);n.length;)es(t,n.shift());delete t.queue[e._guid]}function ns(t,e){var n,i={};for(n in e)i[n]=is(t,n,e[n]);return i}function is(t,e,n){var i,r;return"function"==typeof n&&(i=os(n,t)),"string"==typeof n&&(i=rs(t,n)),"object"==typeof n&&("string"==typeof n.get?i=rs(t,n.get):"function"==typeof n.get?i=os(n.get,t):l("`%s` computation must have a `get()` method",e),"function"==typeof n.set&&(r=os(n.set,t))),{getter:i,setter:r}}function rs(t,e){var n,i,r;return n="return ("+e.replace(My,function(t,e){return i=!0,'__ractive.get("'+e+'")'})+");",i&&(n="var __ractive = this; "+n),r=new Function(n),i?r.bind(t):r}function os(t,e){return/this/.test(t.toString())?t.bind(e):t}function ss(e){var n,r,o=void 0===arguments[1]?{}:arguments[1],s=void 0===arguments[2]?{}:arguments[2];if(Hw.DEBUG&&Aa(),cs(e,s),xa(e,"data",{get:hs}),Dy.fire(e,o),Uy.forEach(function(t){e[t]=i(ba(e.constructor[t]||null),o[t])}),r=new Iy({adapt:as(e,e.adapt,o),data:zc.init(e.constructor,e,o),computed:Ny(e,i(ba(e.constructor.prototype.computed),o.computed)),mappings:s.mappings,ractive:e,onchange:function(){return mu.addRactive(e)}}),e.viewmodel=r,r.init(),wf.init(e.constructor,e,o),Vy.fire(e),qy.begin(e),e.template){var a=void 0;(s.cssIds||e.cssId)&&(a=s.cssIds?s.cssIds.slice():[],e.cssId&&a.push(e.cssId)),e.fragment=new yw({template:e.template,root:e,owner:e,cssIds:a})}if(qy.end(e),n=t(e.el)){var u=e.render(n,e.append);Hw.DEBUG_PROMISES&&u["catch"](function(t){throw v("Promise debugging is enabled, to help solve errors that happen asynchronously. Some browsers will log unhandled promise rejections, in which case you can safely disable promise debugging:\n  Ractive.DEBUG_PROMISES = false;"),m("An error happened during rendering",{ractive:e}),t.stack&&d(t.stack),t})}}function as(t,e,n){function i(e){return"string"==typeof e&&(e=g("adaptors",t,e),e||l(La(e,"adaptor"))),e}var r,o,s;if(e=e.map(i),r=I(n.adapt).map(i),r=us(e,r),o="magic"in n?n.magic:t.magic,s="modifyArrays"in n?n.modifyArrays:t.modifyArrays,o){if(!na)throw new Error("Getters and setters (magic mode) are not supported in this browser");s&&r.push(ey),r.push(ty)}return s&&r.push(Zg),r}function us(t,e){for(var n=t.slice(),i=e.length;i--;)~n.indexOf(e[i])||n.push(e[i]);return n}function cs(t,e){t._guid="r-"+zy++,t._subs=ba(null),t._config={},t._twowayBindings=ba(null),t._animations=[],t.nodes={},t._liveQueries=[],t._liveComponentQueries=[],t._boundFunctions=[],t._observers=[],e.component?(t.parent=e.parent,t.container=e.container||null,t.root=t.parent.root,t.component=e.component,e.component.instance=t,t._inlinePartials=e.inlinePartials):(t.root=t,t.parent=t.container=null)}function hs(){throw new Error("Using `ractive.data` is no longer supported - you must use the `ractive.get()` API instead")}function ls(t,e,n){this.parentFragment=t.parentFragment,this.callback=n,this.fragment=new yw({template:e,root:t.root,owner:this}),this.update()}function ds(t,e,n){var i;return e.r?i=Hf(t,e.r,n):e.x?i=new Gf(t,t.parentFragment,e.x,n):e.rx&&(i=new tp(t,e.rx,n)),i}function fs(t){return 1===t.length&&t[0].t===Kc}function ps(t,e){var n;for(n in e)e.hasOwnProperty(n)&&ms(t.instance,t.root,n,e[n])}function ms(t,e,n,i){"string"!=typeof i&&l("Components currently only support simple events - you cannot include arguments. Sorry!"),t.on(n,function(){var t,n;return arguments.length&&arguments[0]&&arguments[0].node&&(t=Array.prototype.shift.call(arguments)),n=Array.prototype.slice.call(arguments),zu(e,i,{event:t,args:n}),!1})}function vs(t,e){var n,i;if(!e)throw new Error('Component "'+this.name+'" not found');n=this.parentFragment=t.parentFragment,i=n.root,this.root=i,this.type=oh,this.name=t.template.e,this.index=t.index,this.indexRefBindings={},this.yielders={},this.resolvers=[],$y(this,e,t.template.a,t.template.f,t.template.p),Hy(this,t.template.v),(t.template.t0||t.template.t1||t.template.t2||t.template.o)&&m('The "intro", "outro" and "decorator" directives have no effect on components',{ractive:this.instance}),Qy(this)}function gs(t,e){function n(n){n.rebind(t,e)}var i;this.resolvers.forEach(n);for(var r in this.yielders)this.yielders[r][0]&&n(this.yielders[r][0]);(i=this.root._liveComponentQueries["_"+this.name])&&i._makeDirty()}function ys(){var t=this.instance;return t.render(this.parentFragment.getNode()),this.rendered=!0,t.fragment.detach()}function ws(){return this.instance.fragment.toString()}function bs(){var t=this.instance;this.resolvers.forEach(Q),xs(this),t._observers.forEach(Z),t.fragment.unbind(),t.viewmodel.teardown(),t.fragment.rendered&&t.el.__ractive_instances__&&N(t.el.__ractive_instances__,t),Xy.fire(t)}function xs(t){var e,n;e=t.root;do(n=e._liveComponentQueries["_"+t.name])&&n._remove(t);while(e=e.parent)}function ks(t){this.shouldDestroy=t,this.instance.unrender()}function Es(t){var e=this;this.owner=t.owner,this.parent=this.owner.parentFragment,this.root=t.root,this.pElement=t.pElement,this.context=t.context,this.index=t.index,this.key=t.key,this.registeredIndexRefs=[],this.cssIds="cssIds"in t?t.cssIds:this.parent?this.parent.cssIds:null,this.items=t.template.map(function(n,i){return _s({parentFragment:e,pElement:t.pElement,template:n,index:i})}),this.value=this.argsList=null,this.dirtyArgs=this.dirtyValue=!0,this.bound=!0}function _s(t){if("string"==typeof t.template)return new If(t);switch(t.template.t){case sh:return new sw(t);case Kc:return new sp(t);case Gc:return new Cp(t);case Zc:return new Wp(t);case Xc:var e=void 0;return(e=jg(t.parentFragment.root,t.template.e))?new nw(t,e):new wg(t);case th:return new Tg(t);case eh:return new rw(t);case uh:return new uw(t);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!")}}function Ss(t,e){(!this.owner||this.owner.hasContext)&&k(this,"context",t,e),this.items.forEach(function(n){n.rebind&&n.rebind(t,e)})}function Cs(){var t;return 1===this.items.length?t=this.items[0].render():(t=document.createDocumentFragment(),this.items.forEach(function(e){t.appendChild(e.render())})),this.rendered=!0,t}function As(t){return this.items?this.items.map(t?Ps:Os).join(""):""}function Os(t){return t.toString()}function Ps(t){return t.toString(!0)}function Ts(){this.bound&&(this.items.forEach(js),this.bound=!1)}function js(t){t.unbind&&t.unbind()}function Fs(t){if(!this.rendered)throw new Error("Attempted to unrender a fragment that was not rendered");this.items.forEach(function(e){return e.unrender(t)}),this.rendered=!1}function Rs(t){var e,n,i,r,o;if(t=t||{},"object"!=typeof t)throw new Error("The reset method takes either no arguments, or an object containing new data");for((n=this.viewmodel.wrapped[""])&&n.reset?n.reset(t)===!1&&this.viewmodel.reset(t):this.viewmodel.reset(t),i=wf.reset(this),r=i.length;r--;)if(bw.indexOf(i[r])>-1){o=!0;break}if(o){var s=void 0;this.viewmodel.mark(Qa),(s=this.component)&&(s.shouldDestroy=!0),this.unrender(),s&&(s.shouldDestroy=!1),this.fragment.template!==this.template&&(this.fragment.unbind(),this.fragment=new yw({template:this.template,root:this,owner:this})),e=this.render(this.el,this.anchor)}else e=mu.start(this,!0),this.viewmodel.mark(Qa),mu.end();return xw.fire(this,t),e}function Is(t){var e,n;cf.init(null,this,{template:t}),e=this.transitionsEnabled,this.transitionsEnabled=!1,(n=this.component)&&(n.shouldDestroy=!0),this.unrender(),n&&(n.shouldDestroy=!1),this.fragment.unbind(),this.fragment=new yw({template:this.template,root:this,owner:this}),this.render(this.el,this.anchor),this.transitionsEnabled=e}function Ls(t,e){var n,i;if(i=mu.start(this,!0),c(t)){n=t;for(t in n)n.hasOwnProperty(t)&&(e=n[t],Ns(this,t,e))}else Ns(this,t,e);return mu.end(),i}function Ns(t,e,n){e=_(A(e)),e.isPattern?S(t,e).forEach(function(e){t.viewmodel.set(e,n)}):t.viewmodel.set(e,n)}function Ms(t,e){return Ka(this,t,void 0===e?-1:-e)}function Ds(){var t;return this.fragment.unbind(),this.viewmodel.teardown(),this._observers.forEach(Z),this.fragment.rendered&&this.el.__ractive_instances__&&N(this.el.__ractive_instances__,this),this.shouldDestroy=!0,t=this.fragment.rendered?this.unrender():su.resolve(),jw.fire(this),this._boundFunctions.forEach(Vs),t}function Vs(t){delete t.fn[t.prop]}function qs(t){var e=this;if("string"!=typeof t)throw new TypeError(Ra);var n=void 0;return/\*/.test(t)?(n={},S(this,_(A(t))).forEach(function(t){n[t.str]=!e.viewmodel.get(t)}),this.set(n)):this.set(t,!this.get(t))}function zs(){return this.fragment.toString(!0)}function Us(){var t,e;if(!this.fragment.rendered)return m("ractive.unrender() was called on a Ractive instance that was not rendered"),su.resolve();for(t=mu.start(this,!0),e=!this.component||this.component.shouldDestroy||this.shouldDestroy;this._animations[0];)this._animations[0].stop();return this.fragment.unrender(e),N(this.el.__ractive_instances__,this),Lw.fire(this),mu.end(),t}function Bs(t){var e;return t=_(t)||Qa,e=mu.start(this,!0),this.viewmodel.mark(t),mu.end(),Dw.fire(this,t),e}function Ws(t,e){var n,i,r;if("string"!=typeof t||e){r=[];for(i in this._twowayBindings)(!t||_(i).equalsOrStartsWith(t))&&r.push.apply(r,this._twowayBindings[i])}else r=this._twowayBindings[t];return n=$s(this,r),this.set(n)}function $s(t,e){var n={},i=[];return e.forEach(function(t){var e,r;if(!t.radioName||t.element.node.checked){if(t.checkboxName)return void(i[t.keypath.str]||t.changed()||(i.push(t.keypath),i[t.keypath.str]=t));e=t.attribute.value,r=t.getValue(),R(e,r)||a(e,r)||(n[t.keypath.str]=r)}}),i.length&&i.forEach(function(t){var e,r,o;e=i[t.str],r=e.attribute.value,o=e.getValue(),R(r,o)||(n[t.str]=o)}),n}function Hs(t,e){return"function"==typeof e&&/_super/.test(t)}function Qs(t){for(var e={};t;)Ks(t,e),Gs(t,e),t=t._Parent!==Hw?t._Parent:!1;return e}function Ks(t,e){vf.forEach(function(n){Zs(n.useDefaults?t.prototype:t,e,n.name)})}function Zs(t,e,n){var i,r=Object.keys(t[n]);r.length&&((i=e[n])||(i=e[n]={}),r.filter(function(t){return!(t in i)}).forEach(function(e){return i[e]=t[n][e]}))}function Gs(t,e){Object.keys(t.prototype).forEach(function(n){if("computed"!==n){var i=t.prototype[n];if(n in e){if("function"==typeof e[n]&&"function"==typeof i&&e[n]._method){var r=void 0,o=i._method;o&&(i=i._method),r=zw(e[n]._method,i),o&&(r._method=r),e[n]=r}}else e[n]=i._method?i._method:i}})}function Ys(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return e.length?e.reduce(Js,this):Js(this)}function Js(t){var e,n,r=void 0===arguments[1]?{}:arguments[1];return r.prototype instanceof Hw&&(r=Uw(r)),e=function(t){return this instanceof e?void By(this,t):new e(t)},n=ba(t.prototype),n.constructor=e,ka(e,{defaults:{value:n},extend:{value:Ys,writable:!0,configurable:!0},_Parent:{value:t}}),wf.extend(t,n,r),zc.extend(t,n,r),r.computed&&(n.computed=i(ba(t.prototype.computed),r.computed)),e.prototype=n,e}var Xs,ta,ea,na,ia,ra,oa,sa=3,aa={el:void 0,append:!1,template:{v:sa,t:[]},preserveWhitespace:!1,sanitize:!1,stripComments:!0,delimiters:["{{","}}"],tripleDelimiters:["{{{","}}}"],interpolate:!1,data:{},computed:{},magic:!1,modifyArrays:!0,adapt:[],isolated:!1,twoway:!0,lazy:!1,noIntro:!1,transitionsEnabled:!0,complete:void 0,css:null,noCssTransform:!1},ua=aa,ca={linear:function(t){return t},easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return Math.pow(t-1,3)+1},easeInOut:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)}};Xs="object"==typeof document,ta="undefined"!=typeof navigator&&/jsDom/.test(navigator.appName),ea="undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply;try{Object.defineProperty({},"test",{value:0}),na=!0}catch(ha){na=!1}ia={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ra="undefined"==typeof document?!1:document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),oa=["o","ms","moz","webkit"];var la,da,fa,pa,ma,va,ga,ya,wa;if(la=ra?function(t,e){return e&&e!==ia.html?document.createElementNS(e,t):document.createElement(t)}:function(t,e){if(e&&e!==ia.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return document.createElement(t)},Xs){for(fa=la("div"),pa=["matches","matchesSelector"],wa=function(t){return function(e,n){return e[t](n)}},ga=pa.length;ga--&&!da;)if(ma=pa[ga],fa[ma])da=wa(ma);else for(ya=oa.length;ya--;)if(va=oa[ga]+ma.substr(0,1).toUpperCase()+ma.substring(1),fa[va]){da=wa(va);break}da||(da=function(t,e){var n,i,r;for(i=t.parentNode,i||(fa.innerHTML="",i=fa,t=t.cloneNode(),fa.appendChild(t)),n=i.querySelectorAll(e),r=n.length;r--;)if(n[r]===t)return!0;return!1})}else da=null;var ba,xa,ka,Ea=null;try{Object.defineProperty({},"test",{value:0}),Xs&&Object.defineProperty(document.createElement("div"),"test",{value:0}),xa=Object.defineProperty}catch(_a){xa=function(t,e,n){t[e]=n.value}}try{try{Object.defineProperties({},{test:{value:0}})}catch(_a){throw _a}Xs&&Object.defineProperties(la("div"),{test:{value:0}}),ka=Object.defineProperties}catch(_a){ka=function(t,e){var n;for(n in e)e.hasOwnProperty(n)&&xa(t,n,e[n])}}try{Object.create(null),ba=Object.create}catch(_a){ba=function(){var t=function(){};return function(e,n){var i;return null===e?{}:(t.prototype=e,i=new t,n&&Object.defineProperties(i,n),i)}}()}var Sa,Ca,Aa,Oa=Object.prototype.hasOwnProperty,Pa=Object.prototype.toString,Ta=/^\[object (?:Array|FileList)\]$/,ja=function(){},Fa={};ea?!function(){var t=["%cRactive.js %c0.7.2 %cin debug mode, %cmore...","color: rgb(114, 157, 52); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(82, 140, 224); font-weight: normal; text-decoration: underline;"],e="You're running Ractive 0.7.2 in debug mode - messages will be printed to the console to help you fix problems and optimise your application.\n\nTo disable debug mode, add this line at the start of your app:\n  Ractive.DEBUG = false;\n\nTo disable debug mode when your app is minified, add this snippet:\n  Ractive.DEBUG = /unminified/.test(function(){/*unminified*/});\n\nGet help and support:\n  http://docs.ractivejs.org\n  http://stackoverflow.com/questions/tagged/ractivejs\n  http://groups.google.com/forum/#!forum/ractive-js\n  http://twitter.com/ractivejs\n\nFound a bug? Raise an issue:\n  https://github.com/ractivejs/ractive/issues\n\n";Aa=function(){var n=!!console.groupCollapsed;console[n?"groupCollapsed":"log"].apply(console,t),console.log(e),n&&console.groupEnd(t),Aa=ja},Ca=function(t,e){if(Aa(),"object"==typeof e[e.length-1]){var n=e.pop(),i=n?n.ractive:null;if(i){var r=void 0;i.component&&(r=i.component.name)&&(t="<"+r+"> "+t);var o=void 0;(o=n.node||i.fragment&&i.fragment.rendered&&i.find("*"))&&e.push(o)}}console.warn.apply(console,["%cRactive.js: %c"+t,"color: rgb(114, 157, 52);","color: rgb(85, 85, 85);"].concat(e))},Sa=function(){console.log.apply(console,arguments)}}():Ca=Sa=Aa=ja;var Ra="Bad arguments",Ia='A function was specified for "%s" %s, but no %s was returned',La=function(t,e){return'Missing "'+t+'" '+e+" plugin. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#"+e+"s"},Na=function(t,e,n,i){if(t===e)return w(e);if(i){var r=g("interpolators",n,i);if(r)return r(t,e)||w(e);l(La(i,"interpolator"))}return Va.number(t,e)||Va.array(t,e)||Va.object(t,e)||w(e)},Ma=Na,Da={number:function(t,e){var n;return u(t)&&u(e)?(t=+t,e=+e,n=e-t,n?function(e){return t+e*n}:function(){return t}):null},array:function(t,e){var n,i,r,s;if(!o(t)||!o(e))return null;for(n=[],i=[],s=r=Math.min(t.length,e.length);s--;)i[s]=Ma(t[s],e[s]);for(s=r;s<t.length;s+=1)n[s]=t[s];for(s=r;s<e.length;s+=1)n[s]=e[s];return function(t){for(var e=r;e--;)n[e]=i[e](t);return n}},object:function(t,e){var n,i,r,o,s;if(!c(t)||!c(e))return null;n=[],o={},r={};for(s in t)Oa.call(t,s)&&(Oa.call(e,s)?(n.push(s),r[s]=Ma(t[s],e[s])):o[s]=t[s]);for(s in e)Oa.call(e,s)&&!Oa.call(t,s)&&(o[s]=e[s]);return i=n.length,function(t){for(var e,s=i;s--;)e=n[s],o[e]=r[e](t);return o}}},Va=Da,qa=b,za={},Ua=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g,Ba=/\*/,Wa={},$a=function(t){var e=t.split(".");this.str=t,"@"===t[0]&&(this.isSpecial=!0,this.value=E(t)),this.firstKey=e[0],this.lastKey=e.pop(),this.isPattern=Ba.test(t),this.parent=""===t?null:_(e.join(".")),this.isRoot=!t};$a.prototype={equalsOrStartsWith:function(t){return t===this||this.startsWith(t)},join:function(t){return _(this.isRoot?String(t):this.str+"."+t)},replace:function(t,e){return this===t?e:this.startsWith(t)?null===e?e:_(this.str.replace(t.str+".",e.str+".")):void 0},startsWith:function(t){return t?t&&this.str.substr(0,t.str.length+1)===t.str+".":!1},toString:function(){throw new Error("Bad coercion")},valueOf:function(){throw new Error("Bad coercion")},wildcardMatches:function(){return this._wildcardMatches||(this._wildcardMatches=qa(this.str))}};var Ha,Qa=_(""),Ka=O,Za="Cannot add to a non-numeric value",Ga=P;"undefined"==typeof window?Ha=null:(!function(t,e,n){var i,r;if(!n.requestAnimationFrame){for(i=0;i<t.length&&!n.requestAnimationFrame;++i)n.requestAnimationFrame=n[t[i]+"RequestAnimationFrame"];n.requestAnimationFrame||(r=n.setTimeout,n.requestAnimationFrame=function(t){var n,i,o;return n=Date.now(),i=Math.max(0,16-(n-e)),o=r(function(){t(n+i)},i),e=n+i,o})}}(oa,0,window),Ha=window.requestAnimationFrame);var Ya,Ja=Ha;Ya="undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?function(){return window.performance.now()}:function(){return Date.now()};var Xa=Ya,tu={construct:{deprecated:"beforeInit",replacement:"onconstruct"},render:{deprecated:"init",message:'The "init" method has been deprecated and will likely be removed in a future release. You can either use the "oninit" method which will fire only once prior to, and regardless of, any eventual ractive instance being rendered, or if you need to access the rendered DOM, use "onrender" instead. See http://docs.ractivejs.org/latest/migrating for more information.'},complete:{deprecated:"complete",replacement:"oncomplete"}};T.prototype.fire=function(t,e){function n(n){return t[n]?(e?t[n](e):t[n](),!0):void 0}n(this.method),!t[this.method]&&this.deprecate&&n(this.deprecate.deprecated)&&(this.deprecate.message?m(this.deprecate.message):m('The method "%s" has been deprecated in favor of "%s" and will likely be removed in a future release. See http://docs.ractivejs.org/latest/migrating for more information.',this.deprecate.deprecated,this.deprecate.replacement)),e?t.fire(this.event,e):t.fire(this.event)};var eu,nu=T,iu={},ru={},ou={};"function"==typeof Promise?eu=Promise:(eu=function(t){var e,n,i,r,o,s,a=[],u=[],c=iu;i=function(t){return function(i){c===iu&&(e=i,c=t,n=V(c===ru?a:u,e),D(n))}},r=i(ru),o=i(ou);try{t(r,o)}catch(h){o(h)}return s={then:function(t,e){
var i=new eu(function(r,o){var s=function(t,e,n){e.push("function"==typeof t?function(e){var n;try{n=t(e),q(i,n,r,o)}catch(s){o(s)}}:n)};s(t,a,r),s(e,u,o),c!==iu&&D(n)});return i}},s["catch"]=function(t){return this.then(null,t)},s},eu.all=function(t){return new eu(function(e,n){var i,r,o,s=[];if(!t.length)return void e(s);for(o=function(t,r){t&&"function"==typeof t.then?t.then(function(t){s[r]=t,--i||e(s)},n):(s[r]=t,--i||e(s))},i=r=t.length;r--;)o(t[r],r)})},eu.resolve=function(t){return new eu(function(e){e(t)})},eu.reject=function(t){return new eu(function(e,n){n(t)})});var su=eu,au=function(t){do if(void 0!==t.context)return t.context;while(t=t.parent);return Qa},uu=z,cu=function(t,e){this.callback=t,this.parent=e,this.intros=[],this.outros=[],this.children=[],this.totalChildren=this.outroChildren=0,this.detachQueue=[],this.decoratorQueue=[],this.outrosComplete=!1,e&&e.addChild(this)};cu.prototype={addChild:function(t){this.children.push(t),this.totalChildren+=1,this.outroChildren+=1},decrementOutros:function(){this.outroChildren-=1,J(this)},decrementTotal:function(){this.totalChildren-=1,J(this)},add:function(t){var e=t.isIntro?this.intros:this.outros;e.push(t)},addDecorator:function(t){this.decoratorQueue.push(t)},remove:function(t){var e=t.isIntro?this.intros:this.outros;N(e,t),J(this)},init:function(){this.ready=!0,J(this)},detachNodes:function(){this.decoratorQueue.forEach(H),this.detachQueue.forEach(G),this.children.forEach(Y)}};var hu,lu,du=cu,fu=[],pu=new nu("change");lu={start:function(t,e){var n,i;return e&&(n=new su(function(t){return i=t})),hu={previousBatch:hu,transitionManager:new du(i,hu&&hu.transitionManager),views:[],tasks:[],ractives:[],instance:t},t&&hu.ractives.push(t),n},end:function(){X(),hu.transitionManager.init(),!hu.previousBatch&&hu.instance&&(hu.instance.viewmodel.changes=[]),hu=hu.previousBatch},addRactive:function(t){hu&&j(hu.ractives,t)},registerTransition:function(t){t._manager=hu.transitionManager,hu.transitionManager.add(t)},registerDecorator:function(t){hu.transitionManager.addDecorator(t)},addView:function(t){hu.views.push(t)},addUnresolved:function(t){fu.push(t)},removeUnresolved:function(t){N(fu,t)},detachWhenReady:function(t){hu.transitionManager.detachQueue.push(t)},scheduleTask:function(t,e){var n;if(hu){for(n=hu;e&&n.previousBatch;)n=n.previousBatch;n.tasks.push(t)}else t()}};var mu=lu,vu=[],gu={tick:function(){var t,e,n;for(n=Xa(),mu.start(),t=0;t<vu.length;t+=1)e=vu[t],e.tick(n)||vu.splice(t--,1);mu.end(),vu.length?Ja(gu.tick):gu.running=!1},add:function(t){vu.push(t),gu.running||(gu.running=!0,Ja(gu.tick))},abort:function(t,e){for(var n,i=vu.length;i--;)n=vu[i],n.root===e&&n.keypath===t&&n.stop()}},yu=gu,wu=function(t){var e;this.startTime=Date.now();for(e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);this.interpolator=Ma(this.from,this.to,this.root,this.interpolator),this.running=!0,this.tick()};wu.prototype={tick:function(){var t,e,n,i,r,o;return o=this.keypath,this.running?(i=Date.now(),t=i-this.startTime,t>=this.duration?(null!==o&&(mu.start(this.root),this.root.viewmodel.set(o,this.to),mu.end()),this.step&&this.step(1,this.to),this.complete(this.to),r=this.root._animations.indexOf(this),-1===r&&m("Animation was not found"),this.root._animations.splice(r,1),this.running=!1,!1):(e=this.easing?this.easing(t/this.duration):t/this.duration,null!==o&&(n=this.interpolator(e),mu.start(this.root),this.root.viewmodel.set(o,n),mu.end()),this.step&&this.step(e,n),!0)):!1},stop:function(){var t;this.running=!1,t=this.root._animations.indexOf(this),-1===t&&m("Animation was not found"),this.root._animations.splice(t,1)}};var bu=wu,xu=nt,ku={stop:ja},Eu=rt,_u=new nu("detach"),Su=ot,Cu=st,Au=function(){var t,e,n;t=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],e=this.selector,n=t.indexOf(e),-1!==n&&(t.splice(n,1),t[e]=null)},Ou=function(t,e){var n,i,r,o,s,a,u,c,h,l;for(n=ut(t.component||t._ractive.proxy),i=ut(e.component||e._ractive.proxy),r=L(n),o=L(i);r&&r===o;)n.pop(),i.pop(),s=r,r=L(n),o=L(i);if(r=r.component||r,o=o.component||o,h=r.parentFragment,l=o.parentFragment,h===l)return a=h.items.indexOf(r),u=l.items.indexOf(o),a-u||n.length-i.length;if(c=s.fragments)return a=c.indexOf(h),u=c.indexOf(l),a-u||n.length-i.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")},Pu=function(t,e){var n;return t.compareDocumentPosition?(n=t.compareDocumentPosition(e),2&n?1:-1):Ou(t,e)},Tu=function(){this.sort(this._isComponentQuery?Ou:Pu),this._dirty=!1},ju=function(){var t=this;this._dirty||(this._dirty=!0,mu.scheduleTask(function(){t._sort()}))},Fu=function(t){var e=this.indexOf(this._isComponentQuery?t.instance:t);-1!==e&&this.splice(e,1)},Ru=ct,Iu=ht,Lu=lt,Nu=dt,Mu=ft,Du=pt,Vu={enqueue:function(t,e){t.event&&(t._eventQueue=t._eventQueue||[],t._eventQueue.push(t.event)),t.event=e},dequeue:function(t){t._eventQueue&&t._eventQueue.length?t.event=t._eventQueue.pop():delete t.event}},qu=Vu,zu=mt,Uu=yt,Bu=wt,Wu={capture:!0,noUnwrap:!0,fullRootGet:!0},$u=bt,Hu=new nu("insert"),Qu=kt,Ku=function(t,e,n,i){this.root=t,this.keypath=e,this.callback=n,this.defer=i.defer,this.context=i&&i.context?i.context:t};Ku.prototype={init:function(t){this.value=this.root.get(this.keypath.str),t!==!1?this.update():this.oldValue=this.value},setValue:function(t){var e=this;a(t,this.value)||(this.value=t,this.defer&&this.ready?mu.scheduleTask(function(){return e.update()}):this.update())},update:function(){this.updating||(this.updating=!0,this.callback.call(this.context,this.value,this.oldValue,this.keypath.str),this.oldValue=this.value,this.updating=!1)}};var Zu,Gu=Ku,Yu=Et,Ju=Array.prototype.slice;Zu=function(t,e,n,i){this.root=t,this.callback=n,this.defer=i.defer,this.keypath=e,this.regex=new RegExp("^"+e.str.replace(/\./g,"\\.").replace(/\*/g,"([^\\.]+)")+"$"),this.values={},this.defer&&(this.proxies=[]),this.context=i&&i.context?i.context:t},Zu.prototype={init:function(t){var e,n;if(e=Yu(this.root,this.keypath),t!==!1)for(n in e)e.hasOwnProperty(n)&&this.update(_(n));else this.values=e},update:function(t){var e,n=this;if(t.isPattern){e=Yu(this.root,t);for(t in e)e.hasOwnProperty(t)&&this.update(_(t))}else if(!this.root.viewmodel.implicitChanges[t.str])return this.defer&&this.ready?void mu.scheduleTask(function(){return n.getProxy(t).update()}):void this.reallyUpdate(t)},reallyUpdate:function(t){var e,n,i,r;return e=t.str,n=this.root.viewmodel.get(t),this.updating?void(this.values[e]=n):(this.updating=!0,a(n,this.values[e])&&this.ready||(i=Ju.call(this.regex.exec(e),1),r=[n,this.values[e],e].concat(i),this.values[e]=n,this.callback.apply(this.context,r)),void(this.updating=!1))},getProxy:function(t){var e=this;return this.proxies[t.str]||(this.proxies[t.str]={update:function(){return e.reallyUpdate(t)}}),this.proxies[t.str]}};var Xu,tc,ec,nc,ic,rc,oc=Zu,sc=_t,ac={},uc=St,cc=Ct,hc=function(t){return t.trim()},lc=function(t){return""!==t},dc=At,fc=Ot,pc=Pt,mc=Tt,vc=Array.prototype,gc=function(t){return function(e){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;n>r;r++)i[r-1]=arguments[r];var s,a,u,c,h=[];if(e=_(A(e)),s=this.viewmodel.get(e),a=s.length,!o(s))throw new Error("Called ractive."+t+"('"+e.str+"'), but '"+e.str+"' does not refer to an array");return h=mc(s,t,i),c=vc[t].apply(s,i),u=mu.start(this,!0).then(function(){return c}),h?this.viewmodel.smartUpdate(e,s,h):this.viewmodel.mark(e),mu.end(),u}},yc=gc("pop"),wc=gc("push"),bc="/* Ractive.js component styles */\n",xc=[],kc=!1;Xs?(ec=document.createElement("style"),ec.type="text/css",nc=document.getElementsByTagName("head")[0],rc=!1,ic=ec.styleSheet,tc=function(){var t=bc+xc.map(function(t){return"\n/* {"+t.id+"} */\n"+t.styles}).join("\n");ic?ic.cssText=t:ec.innerHTML=t,rc||(nc.appendChild(ec),rc=!0)},Xu={add:function(t){xc.push(t),kc=!0},apply:function(){kc&&(tc(),kc=!1)}}):Xu=null;var Ec,_c,Sc=Xu,Cc=Ft,Ac=new nu("render"),Oc=new nu("complete"),Pc={extend:function(t,e,n){e.adapt=It(e.adapt,I(n.adapt))},init:function(){}},Tc=Pc,jc=Lt,Fc=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,Rc=/\/\*.*?\*\//g,Ic=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~\(]+(?:\([^\)]+\))?)?\s*[\s\+\>\~]?)\s*/g,Lc=/^@media/,Nc=/\[data-ractive-css~="\{[a-z0-9-]+\}"]/g,Mc=1,Dc={name:"css",extend:function(t,e,n){if(n.css){var i=Mc++,r=n.noCssTransform?n.css:jc(n.css,i);e.cssId=i,Sc.add({id:i,styles:r})}},init:function(){}},Vc=Dc,qc={name:"data",extend:function(t,e,n){var i=void 0,r=void 0;if(n.data&&c(n.data))for(i in n.data)r=n.data[i],r&&"object"==typeof r&&(c(r)||o(r))&&m("Passing a `data` option with object and array properties to Ractive.extend() is discouraged, as mutating them is likely to cause bugs. Consider using a data function instead:\n\n  // this...\n  data: function () {\n    return {\n      myObject: {}\n    };\n  })\n\n  // instead of this:\n  data: {\n    myObject: {}\n  }");e.data=Vt(e.data,n.data)},init:function(t,e,n){var i=Vt(t.prototype.data,n.data);return"function"==typeof i&&(i=i.call(e)),i||{}},reset:function(t){var e=this.init(t.constructor,t,t.viewmodel);return t.viewmodel.reset(e),!0}},zc=qc,Uc=/^\s+/;_c=function(t){this.name="ParseError",this.message=t;try{throw new Error(t)}catch(e){this.stack=e.stack}},_c.prototype=Error.prototype,Ec=function(t,e){var n,i,r=0;for(this.str=t,this.options=e||{},this.pos=0,this.lines=this.str.split("\n"),this.lineEnds=this.lines.map(function(t){var e=r+t.length+1;return r=e,e},0),this.init&&this.init(t,e),n=[];this.pos<this.str.length&&(i=this.read());)n.push(i);this.leftover=this.remaining(),this.result=this.postProcess?this.postProcess(n,e):n},Ec.prototype={read:function(t){var e,n,i,r;for(t||(t=this.converters),e=this.pos,i=t.length,n=0;i>n;n+=1)if(this.pos=e,r=t[n](this))return r;return null},getLinePos:function(t){for(var e,n=0,i=0;t>=this.lineEnds[n];)i=this.lineEnds[n],n+=1;return e=t-i,[n+1,e+1,t]},error:function(t){var e=this.getLinePos(this.pos),n=e[0],i=e[1],r=this.lines[e[0]-1],o=0,s=r.replace(/\t/g,function(t,n){return n<e[1]&&(o+=1),"  "})+"\n"+new Array(e[1]+o).join(" ")+"^----",a=new _c(""+t+" at line "+n+" character "+i+":\n"+s);throw a.line=e[0],a.character=e[1],a.shortMessage=t,a},matchString:function(t){return this.str.substr(this.pos,t.length)===t?(this.pos+=t.length,t):void 0},matchPattern:function(t){var e;return(e=t.exec(this.remaining()))?(this.pos+=e[0].length,e[1]||e[0]):void 0},allowWhitespace:function(){this.matchPattern(Uc)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}},Ec.extend=function(t){var e,n,i=this;e=function(t,e){Ec.call(this,t,e)},e.prototype=ba(i.prototype);for(n in t)Oa.call(t,n)&&(e.prototype[n]=t[n]);return e.extend=Ec.extend,e};var Bc,Wc,$c,Hc=Ec,Qc=1,Kc=2,Zc=3,Gc=4,Yc=5,Jc=6,Xc=7,th=8,eh=9,nh=10,ih=13,rh=14,oh=15,sh=16,ah=17,uh=18,ch=20,hh=21,lh=22,dh=23,fh=24,ph=25,mh=26,vh=27,gh=30,yh=31,wh=32,bh=33,xh=34,kh=35,Eh=36,_h=40,Sh=50,Ch=51,Ah=52,Oh=53,Ph=54,Th=60,jh=61,Fh=Ut,Rh=/^[^\s=]+/,Ih=/^\s+/,Lh=Bt,Nh=/^(\/(?:[^\n\r\u2028\u2029\/\\[]|\\.|\[(?:[^\n\r\u2028\u2029\]\\]|\\.)*])+\/(?:([gimuy])(?![a-z]*\2))*(?![a-zA-Z_$0-9]))/,Mh=Wt,Dh={t:nh,exclude:!0},Vh="Expected a JavaScript expression",qh="Expected closing paren",zh=Ht,Uh=/^(?:[+-]?)0*(?:(?:(?:[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,Bh=Qt;Bc=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/,Wc=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/,$c=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/;var Wh,$h,Hh=function(t){return function(e){var n,i,r,o;for(n=e.pos,i='"',r=!1;!r;)o=e.matchPattern(Bc)||e.matchPattern(Wc)||e.matchString(t),o?i+='"'===o?'\\"':"\\'"===o?"'":o:(o=e.matchPattern($c),o?i+="\\u"+("000"+o.charCodeAt(1).toString(16)).slice(-4):r=!0);return i+='"',JSON.parse(i)}},Qh=Hh('"'),Kh=Hh("'"),Zh=function(t){var e,n;return e=t.pos,t.matchString('"')?(n=Kh(t),t.matchString('"')?{t:hh,v:n}:(t.pos=e,null)):t.matchString("'")?(n=Qh(t),t.matchString("'")?{t:hh,v:n}:(t.pos=e,null)):null},Gh=/^[a-zA-Z_$][a-zA-Z_$0-9]*/,Yh=Kt,Jh=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/,Xh=Zt,tl=Gt,el=function(t){var e,n;return e=t.pos,t.allowWhitespace(),t.matchString("{")?(n=tl(t),t.allowWhitespace(),t.matchString("}")?{t:dh,m:n}:(t.pos=e,null)):(t.pos=e,null)},nl=Yt,il=function(t){var e,n;return e=t.pos,t.allowWhitespace(),t.matchString("[")?(n=nl(t),t.matchString("]")?{t:lh,m:n}:(t.pos=e,null)):(t.pos=e,null)},rl=Jt,ol=Xt,sl=/^(?:~\/|(?:\.\.\/)+|\.\/(?:\.\.\/)*|\.)/;Wh=/^(?:Array|console|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)\b/,$h=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/;var al,ul,cl=/^[a-zA-Z$_0-9]+(?:(?:\.[a-zA-Z$_0-9]+)|(?:\[[0-9]+\]))*/,hl=/^[a-zA-Z_$][-a-zA-Z_$0-9]*/,ll=te,dl=function(t){return rl(t)||ol(t)||ll(t)},fl=ee,pl=function(t){var e,n,i,r;if(n=dl(t),!n)return null;for(;n;)if(e=t.pos,i=fl(t))n={t:wh,x:n,r:i};else{if(!t.matchString("("))break;t.allowWhitespace(),r=nl(t),t.allowWhitespace(),t.matchString(")")||t.error(qh),n={t:_h,x:n},r&&(n.o=r)}return n};ul=function(t,e){return function(n){var i;return(i=e(n))?i:n.matchString(t)?(n.allowWhitespace(),i=Ol(n),i||n.error(Vh),{s:t,o:i,t:bh}):null}},function(){var t,e,n,i,r;for(i="! ~ + - typeof".split(" "),r=pl,t=0,e=i.length;e>t;t+=1)n=ul(i[t],r),r=n;al=r}();var ml,vl,gl=al;vl=function(t,e){return function(n){var i,r,o;if(r=e(n),!r)return null;for(;;){if(i=n.pos,n.allowWhitespace(),!n.matchString(t))return n.pos=i,r;if("in"===t&&/[a-zA-Z_$0-9]/.test(n.remaining().charAt(0)))return n.pos=i,r;if(n.allowWhitespace(),o=e(n),!o)return n.pos=i,r;r={t:Eh,s:t,o:[r,o]}}}},function(){var t,e,n,i,r;for(i="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),r=gl,t=0,e=i.length;e>t;t+=1)n=vl(i[t],r),r=n;ml=r}();var yl,wl,bl,xl,kl,El,_l,Sl,Cl=ml,Al=ne,Ol=ie,Pl=re,Tl=se,jl=/^[0-9][1-9]*$/,Fl=ue,Rl=ce,Il=he,Ll=le,Nl=de,Ml=fe,Dl=pe,Vl=/^yield\s*/,ql=me,zl=ve,Ul=/^\s*else\s*/,Bl=ge,Wl=/^\s*elseif\s+/,$l={each:Ah,"if":Sh,"if-with":Ph,"with":Oh,unless:Ch},Hl=ye,Ql=/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,Kl=/^\s*,\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,Zl=new RegExp("^("+Object.keys($l).join("|")+")\\b"),Gl=Ee,Yl="<!--",Jl="-->";yl=/^(allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|translate|trueSpeed|typeMustMatch|visible)$/i,wl=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,bl={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},xl=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],kl=new RegExp("&(#?(?:x[\\w\\d]+|\\d+|"+Object.keys(bl).join("|")+"));?","g"),El=/</g,_l=/>/g,Sl=/&/g;var Xl,td,ed,nd,id,rd,od,sd=/^\s*\r?\n/,ad=/\r?\n\s*$/,ud=function(t){var e,n,i,r,o;for(e=1;e<t.length;e+=1)n=t[e],i=t[e-1],r=t[e-2],Ae(n)&&Oe(i)&&Ae(r)&&ad.test(r)&&sd.test(n)&&(t[e-2]=r.replace(ad,"\n"),t[e]=n.replace(sd,"")),Pe(n)&&Ae(i)&&ad.test(i)&&Ae(n.f[0])&&sd.test(n.f[0])&&(t[e-1]=i.replace(ad,"\n"),n.f[0]=n.f[0].replace(sd,"")),Ae(n)&&Pe(i)&&(o=L(i.f),Ae(o)&&ad.test(o)&&sd.test(n)&&(i.f[i.f.length-1]=o.replace(ad,"\n"),t[e]=n.replace(sd,"")));return t},cd=/^[ \t\f\r\n]+/,hd=/[ \t\f\r\n]+$/,ld=function(t,e,n){var i;e&&(i=t[0],"string"==typeof i&&(i=i.replace(cd,""),i?t[0]=i:t.shift())),n&&(i=L(t),"string"==typeof i&&(i=i.replace(hd,""),i?t[t.length-1]=i:t.pop()))},dd=Te,fd=/[ \t\f\r\n]+/g,pd=/^(?:pre|script|style|textarea)$/i,md=/^\s+/,vd=/\s+$/,gd=je,yd=/^([a-zA-Z]{1,}:?[a-zA-Z0-9\-]*)\s*\>/,wd=function(t,e){var n,i,r;for(n=e.length;n--;){if(i=t.indexOf(e[n]),!i)return 0;-1!==i&&(!r||r>i)&&(r=i)}return r||-1},bd=Fe,xd=/^[^\s"'>\/=]+/,kd=/^[^\s"'=<>`]+/;td={"true":!0,"false":!1,undefined:void 0,"null":null},ed=new RegExp("^(?:"+Object.keys(td).join("|")+")"),nd=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,id=/\$\{([^\}]+)\}/g,rd=/^\$\{([^\}]+)\}/,od=/^\s*$/,Xl=Hc.extend({init:function(t,e){this.values=e.values,this.allowWhitespace()},postProcess:function(t){return 1===t.length&&od.test(this.leftover)?{value:t[0].v}:null},converters:[function(t){var e;return t.values?(e=t.matchPattern(rd),e&&t.values.hasOwnProperty(e)?{v:t.values[e]}:void 0):null},function(t){var e;return(e=t.matchPattern(ed))?{v:td[e]}:void 0},function(t){var e;return(e=t.matchPattern(nd))?{v:+e}:void 0},function(t){var e,n=Zh(t);return n&&(e=t.values)?{v:n.v.replace(id,function(t,n){return n in e?e[n]:n})}:n},function(t){var e,n;if(!t.matchString("{"))return null;if(e={},t.allowWhitespace(),t.matchString("}"))return{v:e};for(;n=De(t);){if(e[n.key]=n.value,t.allowWhitespace(),t.matchString("}"))return{v:e};if(!t.matchString(","))return null}return null},function(t){var e,n;if(!t.matchString("["))return null;if(e=[],t.allowWhitespace(),t.matchString("]"))return{v:e};for(;n=t.read();){if(e.push(n.v),t.allowWhitespace(),t.matchString("]"))return{v:e};if(!t.matchString(","))return null;t.allowWhitespace()}return null}]});var Ed,_d=function(t,e){var n=new Xl(t,{values:e});return n.result},Sd=Ve,Cd=/^([a-zA-Z_$][a-zA-Z_$0-9]*)\(/,Ad=/\)\s*$/;Ed=Hc.extend({converters:[Ol]});var Od,Pd=/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/,Td=/^[\s\n\/>]/,jd=/^on/,Fd=/^on-([a-zA-Z\\*\\.$_][a-zA-Z\\*\\.$_0-9\-]+)$/,Rd=/^(?:change|reset|teardown|update|construct|config|init|render|unrender|detach|insert)$/,Id={"intro-outro":"t0",intro:"t1",outro:"t2",decorator:"o"},Ld={exclude:!0};Od={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr main menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rt","rp"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tfoot:["tbody"],tr:["tr","tbody"],td:["td","th","tr"],th:["td","th","tr"]};var Nd,Md=qe,Dd=Ue,Vd=Be,qd=/[-\/\\^$*+?.()|[\]{}]/g,zd=We,Ud=/^<!--\s*/,Bd=/s*>\s*([a-zA-Z_$][-a-zA-Z_$0-9]*)\s*/,Wd=/\s*-->/,$d=$e,Hd=/^#\s*partial\s+/,Qd=He,Kd=Qe,Zd=[Il,Rl,Hl,Dl,Ml,Ll],Gd=[Fl],Yd=[Rl,Hl,Ml],Jd=void 0,Xd=[Mh,Gl,Md,Dd],tf=[zd,$d];Jd=Hc.extend({init:function(t,e){var n=e.tripleDelimiters||["{{{","}}}"],i=e.staticDelimiters||["[[","]]"],r=e.staticTripleDelimiters||["[[[","]]]"];this.standardDelimiters=e.delimiters||["{{","}}"],this.tags=[{isStatic:!1,isTriple:!1,open:this.standardDelimiters[0],close:this.standardDelimiters[1],readers:Zd},{isStatic:!1,isTriple:!0,open:n[0],close:n[1],readers:Gd},{isStatic:!0,isTriple:!1,open:i[0],close:i[1],readers:Yd},{isStatic:!0,isTriple:!0,open:r[0],close:r[1],readers:Gd}],this.sortMustacheTags(),this.sectionDepth=0,this.elementStack=[],this.interpolate={script:!e.interpolate||e.interpolate.script!==!1,style:!e.interpolate||e.interpolate.style!==!1},e.sanitize===!0&&(e.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),this.stripComments=e.stripComments!==!1,this.preserveWhitespace=e.preserveWhitespace,this.sanitizeElements=e.sanitize&&e.sanitize.elements,this.sanitizeEventAttributes=e.sanitize&&e.sanitize.eventAttributes,this.includeLinePositions=e.includeLinePositions},postProcess:function(t){return t.length?(this.sectionDepth>0&&this.error("A section was left open"),dd(t[0].t,this.stripComments,this.preserveWhitespace,!this.preserveWhitespace,!this.preserveWhitespace),t[0]):{t:[],v:sa}},converters:[Qd],sortMustacheTags:function(){this.tags.sort(function(t,e){return e.open.length-t.open.length})}});var ef,nf,rf,of=["preserveWhitespace","sanitize","stripComments","delimiters","tripleDelimiters","interpolate"],sf={parse:Ze,fromId:Ge,isHashedId:Ye,isParsed:Je,getParseOptions:Xe,createHelper:Ke},af=sf,uf={name:"template",extend:function(t,e,n){var i;"template"in n&&(i=n.template,"function"==typeof i?e.template=i:e.template=rn(i,e))},init:function(t,e,n){var i,r;i="template"in n?n.template:t.prototype.template,"function"==typeof i&&(r=i,i=en(e,r),e._config.template={fn:r,result:i}),i=rn(i,e),e.template=i.t,i.p&&on(e.partials,i.p)},reset:function(t){var e,n=tn(t);return n?(e=rn(n,t),t.template=e.t,on(t.partials,e.p,!0),!0):void 0}},cf=uf;ef=["adaptors","components","computed","decorators","easing","events","interpolators","partials","transitions"],nf=function(t,e){this.name=t,this.useDefaults=e},nf.prototype={constructor:nf,extend:function(t,e,n){this.configure(this.useDefaults?t.defaults:t,this.useDefaults?e:e.constructor,n)},init:function(){},configure:function(t,e,n){var i,r=this.name,o=n[r];i=ba(t[r]);for(var s in o)i[s]=o[s];e[r]=i},reset:function(t){var e=t[this.name],n=!1;return Object.keys(e).forEach(function(t){var i=e[t];i._fn&&(i._fn.isOwner?e[t]=i._fn:delete e[t],n=!0)}),n}},rf=ef.map(function(t){return new nf(t,"computed"===t)});var hf,lf,df,ff,pf,mf,vf=rf,gf=sn,yf=hn;ff={adapt:Tc,css:Vc,data:zc,template:cf},df=Object.keys(ua),mf=fn(df.filter(function(t){return!ff[t]})),pf=fn(df.concat(vf.map(function(t){return t.name}))),lf=[].concat(df.filter(function(t){return!vf[t]&&!ff[t]}),vf,ff.data,ff.template,ff.css),hf={extend:function(t,e,n){return ln("extend",t,e,n)},init:function(t,e,n){return ln("init",t,e,n)},reset:function(t){return lf.filter(function(e){return e.reset&&e.reset(t)}).map(function(t){return t.name})},order:lf};var wf=hf,bf=pn,xf=mn,kf=vn,Ef=gn,_f=yn,Sf=wn,Cf=bn,Af=xn,Of=kn,Pf=En,Tf=_n,jf=Sn,Ff=function(){return e(this.node)},Rf=function(t){this.type=Qc,this.text=t.template};Rf.prototype={detach:Ff,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createTextNode(this.text)),this.node},toString:function(t){return t?Ce(this.text):this.text},unrender:function(t){return t?this.detach():void 0}};var If=Rf,Lf=Cn,Nf=An,Mf=function(t,e,n){var i;this.ref=e,this.resolved=!1,this.root=t.root,this.parentFragment=t.parentFragment,this.callback=n,i=uu(t.root,e,t.parentFragment),void 0!=i?this.resolve(i):mu.addUnresolved(this)};Mf.prototype={resolve:function(t){this.keypath&&!t&&mu.addUnresolved(this),this.resolved=!0,this.keypath=t,this.callback(t)},forceResolution:function(){this.resolve(_(this.ref))},rebind:function(t,e){var n;void 0!=this.keypath&&(n=this.keypath.replace(t,e),void 0!==n&&this.resolve(n))},unbind:function(){this.resolved||mu.removeUnresolved(this)}};var Df=Mf,Vf=function(t,e,n){this.parentFragment=t.parentFragment,this.ref=e,this.callback=n,this.rebind()},qf={"@keypath":{prefix:"c",prop:["context"]},"@index":{prefix:"i",prop:["index"]},"@key":{prefix:"k",prop:["key","index"]}};Vf.prototype={rebind:function(){var t,e=this.ref,n=this.parentFragment,i=qf[e];if(!i)throw new Error('Unknown special reference "'+e+'" - valid references are @index, @key and @keypath');if(this.cached)return this.callback(_("@"+i.prefix+On(this.cached,i)));if(-1!==i.prop.indexOf("index")||-1!==i.prop.indexOf("key"))for(;n;){if(n.owner.currentSubtype===Ah&&void 0!==(t=On(n,i)))return this.cached=n,n.registerIndexRef(this),this.callback(_("@"+i.prefix+t));n=!n.parent&&n.owner&&n.owner.component&&n.owner.component.parentFragment&&!n.owner.component.instance.isolated?n.owner.component.parentFragment:n.parent}else for(;n;){if(void 0!==(t=On(n,i)))return this.callback(_("@"+i.prefix+t.str));n=n.parent}},unbind:function(){this.cached&&this.cached.unregisterIndexRef(this)}};var zf=Vf,Uf=function(t,e,n){this.parentFragment=t.parentFragment,this.ref=e,this.callback=n,e.ref.fragment.registerIndexRef(this),this.rebind()};Uf.prototype={rebind:function(){var t,e=this.ref.ref;t="k"===e.ref.t?"k"+e.fragment.key:"i"+e.fragment.index,void 0!==t&&this.callback(_("@"+t))},unbind:function(){this.ref.ref.fragment.unregisterIndexRef(this)}};var Bf=Uf,Wf=Pn;Pn.resolve=function(t){var e,n,i={};for(e in t.refs)n=t.refs[e],i[n.ref.n]="k"===n.ref.t?n.fragment.key:n.fragment.index;return i};var $f,Hf=Tn,Qf=jn,Kf={},Zf=Function.prototype.bind;$f=function(t,e,n,i){var r,o=this;r=t.root,this.root=r,this.parentFragment=e,this.callback=i,this.owner=t,this.str=n.s,this.keypaths=[],this.pending=n.r.length,this.refResolvers=n.r.map(function(t,e){return Hf(o,t,function(t){o.resolve(e,t)})}),this.ready=!0,this.bubble()},$f.prototype={bubble:function(){this.ready&&(this.uniqueString=Rn(this.str,this.keypaths),this.keypath=In(this.uniqueString),this.createEvaluator(),this.callback(this.keypath))},unbind:function(){for(var t;t=this.refResolvers.pop();)t.unbind()},resolve:function(t,e){this.keypaths[t]=e,this.bubble()},createEvaluator:function(){var t,e,n,i,r,o=this;i=this.keypath,t=this.root.viewmodel.computations[i.str],t?this.root.viewmodel.mark(i):(r=Qf(this.str,this.refResolvers.length),e=this.keypaths.map(function(t){var e;return"undefined"===t?function(){return void 0}:t.isSpecial?(e=t.value,function(){return e}):function(){var e=o.root.viewmodel.get(t,{noUnwrap:!0,fullRootGet:!0});return"function"==typeof e&&(e=Nn(e,o.root)),e}}),n={deps:this.keypaths.filter(Ln),getter:function(){var t=e.map(Fn);return r.apply(null,t)}},t=this.root.viewmodel.compute(i,n))},rebind:function(t,e){this.refResolvers.forEach(function(n){return n.rebind(t,e)})}};var Gf=$f,Yf=function(t,e,n){var i=this;this.resolver=e,this.root=e.root,this.parentFragment=n,this.viewmodel=e.root.viewmodel,"string"==typeof t?this.value=t:t.t===gh?this.refResolver=Hf(this,t.n,function(t){i.resolve(t)}):new Gf(e,n,t,function(t){i.resolve(t)})};Yf.prototype={resolve:function(t){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.keypath=t,this.value=this.viewmodel.get(t),this.bind(),this.resolver.bubble()},bind:function(){this.viewmodel.register(this.keypath,this)},rebind:function(t,e){this.refResolver&&this.refResolver.rebind(t,e)},setValue:function(t){this.value=t,this.resolver.bubble()},unbind:function(){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.refResolver&&this.refResolver.unbind()},forceResolution:function(){this.refResolver&&this.refResolver.forceResolution()}};var Jf=Yf,Xf=function(t,e,n){var i,r,o,s,a=this;this.parentFragment=s=t.parentFragment,this.root=i=t.root,this.mustache=t,this.ref=r=e.r,this.callback=n,this.unresolved=[],(o=uu(i,r,s))?this.base=o:this.baseResolver=new Df(this,r,function(t){a.base=t,a.baseResolver=null,a.bubble()}),this.members=e.m.map(function(t){return new Jf(t,a,s)}),this.ready=!0,this.bubble()};Xf.prototype={getKeypath:function(){var t=this.members.map(Mn);return!t.every(Dn)||this.baseResolver?null:this.base.join(t.join("."))},bubble:function(){this.ready&&!this.baseResolver&&this.callback(this.getKeypath())},unbind:function(){this.members.forEach(Q)},rebind:function(t,e){var n;if(this.base){var i=this.base.replace(t,e);i&&i!==this.base&&(this.base=i,n=!0)}this.members.forEach(function(i){i.rebind(t,e)&&(n=!0)}),n&&this.bubble()},forceResolution:function(){this.baseResolver&&(this.base=_(this.ref),this.baseResolver.unbind(),this.baseResolver=null),this.members.forEach(Vn),this.bubble()}};var tp=Xf,ep=qn,np=zn,ip=Un,rp={getValue:Nf,init:ep,resolve:np,rebind:ip},op=function(t){this.type=Kc,rp.init(this,t)};op.prototype={update:function(){this.node.data=void 0==this.value?"":this.value},resolve:rp.resolve,rebind:rp.rebind,detach:Ff,unbind:Lf,render:function(){return this.node||(this.node=document.createTextNode(n(this.value))),this.node},unrender:function(t){t&&e(this.node)},getValue:rp.getValue,setValue:function(t){var e;this.keypath&&(e=this.root.viewmodel.wrapped[this.keypath.str])&&(t=e.get()),a(t,this.value)||(this.value=t,this.parentFragment.bubble(),this.node&&mu.addView(this))},firstNode:function(){return this.node},toString:function(t){var e=""+n(this.value);return t?Ce(e):e}};var sp=op,ap=Bn,up=Wn,cp=$n,hp=Hn,lp=Qn,dp=Kn,fp=Zn,pp=Gn,mp=Yn,vp=function(t,e){rp.rebind.call(this,t,e)},gp=Xn,yp=ti,wp=li,bp=di,xp=fi,kp=vi,Ep=function(t){this.type=Gc,this.subtype=this.currentSubtype=t.template.n,this.inverted=this.subtype===Ch,this.pElement=t.pElement,this.fragments=[],this.fragmentsToCreate=[],this.fragmentsToRender=[],this.fragmentsToUnrender=[],t.template.i&&(this.indexRefs=t.template.i.split(",").map(function(t,e){return{n:t,t:0===e?"k":"i"}})),this.renderedFragments=[],this.length=0,rp.init(this,t)};Ep.prototype={bubble:ap,detach:up,find:cp,findAll:hp,findAllComponents:lp,findComponent:dp,findNextNode:fp,firstNode:pp,getIndexRef:function(t){if(this.indexRefs)for(var e=this.indexRefs.length;e--;){var n=this.indexRefs[e];if(n.n===t)return n}},getValue:rp.getValue,shuffle:mp,rebind:vp,render:gp,resolve:rp.resolve,setValue:yp,toString:wp,unbind:bp,unrender:xp,update:kp};var _p,Sp,Cp=Ep,Ap=gi,Op=yi,Pp=wi,Tp=bi,jp={};try{la("table").innerHTML="foo"}catch(_a){_p=!0,Sp={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}var Fp=function(t,e,n){var i,r,o,s,a,u=[];if(null!=t&&""!==t){for(_p&&(r=Sp[e.tagName])?(i=xi("DIV"),i.innerHTML=r[0]+t+r[1],i=i.querySelector(".x"),"SELECT"===i.tagName&&(o=i.options[i.selectedIndex])):e.namespaceURI===ia.svg?(i=xi("DIV"),
i.innerHTML='<svg class="x">'+t+"</svg>",i=i.querySelector(".x")):(i=xi(e.tagName),i.innerHTML=t,"SELECT"===i.tagName&&(o=i.options[i.selectedIndex]));s=i.firstChild;)u.push(s),n.appendChild(s);if("SELECT"===e.tagName)for(a=u.length;a--;)u[a]!==o&&(u[a].selected=!1)}return u},Rp=ki,Ip=_i,Lp=Si,Np=Ci,Mp=Ai,Dp=Oi,Vp=function(t){this.type=Zc,rp.init(this,t)};Vp.prototype={detach:Ap,find:Op,findAll:Pp,firstNode:Tp,getValue:rp.getValue,rebind:rp.rebind,render:Ip,resolve:rp.resolve,setValue:Lp,toString:Np,unbind:Lf,unrender:Mp,update:Dp};var qp,zp,Up,Bp,Wp=Vp,$p=function(){this.parentFragment.bubble()},Hp=Pi,Qp=function(t){return this.node?da(this.node,t)?this.node:this.fragment&&this.fragment.find?this.fragment.find(t):void 0:null},Kp=function(t,e){e._test(this,!0)&&e.live&&(this.liveQueries||(this.liveQueries=[])).push(e),this.fragment&&this.fragment.findAll(t,e)},Zp=function(t,e){this.fragment&&this.fragment.findAllComponents(t,e)},Gp=function(t){return this.fragment?this.fragment.findComponent(t):void 0},Yp=Ti,Jp=ji,Xp=Fi,tm=/^true|on|yes|1$/i,em=/^[0-9]+$/,nm=function(t,e){var n,i,r;return r=e.a||{},i={},n=r.twoway,void 0!==n&&(i.twoway=0===n||tm.test(n)),n=r.lazy,void 0!==n&&(0!==n&&em.test(n)?i.lazy=parseInt(n):i.lazy=0===n||tm.test(n)),i},im=Ri;qp="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),zp="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),Up=function(t){for(var e={},n=t.length;n--;)e[t[n].toLowerCase()]=t[n];return e},Bp=Up(qp.concat(zp));var rm=function(t){var e=t.toLowerCase();return Bp[e]||e},om=function(t,e){var n,i;if(n=e.indexOf(":"),-1===n||(i=e.substr(0,n),"xmlns"===i))t.name=t.element.namespace!==ia.html?rm(e):e;else if(e=e.substring(n+1),t.name=rm(e),t.namespace=ia[i.toLowerCase()],t.namespacePrefix=i,!t.namespace)throw'Unknown namespace ("'+i+'")'},sm=Ii,am=Li,um=Ni,cm=Mi,hm={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},lm=Di,dm=qi,fm=zi,pm=Ui,mm=Bi,vm=Wi,gm=$i,ym=Hi,wm=Qi,bm=Ki,xm=Zi,km=Gi,Em=Yi,_m=Ji,Sm=Xi,Cm=function(t){this.init(t)};Cm.prototype={bubble:im,init:am,rebind:um,render:cm,toString:lm,unbind:dm,update:Sm};var Am,Om=Cm,Pm=function(t,e){var n,i,r=[];for(n in e)"twoway"!==n&&"lazy"!==n&&e.hasOwnProperty(n)&&(i=new Om({element:t,name:n,value:e[n],root:t.root}),r[n]=i,"value"!==n&&r.push(i));return(i=r.value)&&r.push(i),r};"undefined"!=typeof document&&(Am=la("div"));var Tm=function(t,e){this.element=t,this.root=t.root,this.parentFragment=t.parentFragment,this.attributes=[],this.fragment=new yw({root:t.root,owner:this,template:[e]})};Tm.prototype={bubble:function(){this.node&&this.update(),this.element.bubble()},rebind:function(t,e){this.fragment.rebind(t,e)},render:function(t){this.node=t,this.isSvg=t.namespaceURI===ia.svg,this.update()},unbind:function(){this.fragment.unbind()},update:function(){var t,e,n=this;t=this.fragment.toString(),e=tr(t,this.isSvg),this.attributes.filter(function(t){return er(e,t)}).forEach(function(t){n.node.removeAttribute(t.name)}),e.forEach(function(t){n.node.setAttribute(t.name,t.value)}),this.attributes=e},toString:function(){return this.fragment.toString()}};var jm=Tm,Fm=function(t,e){return e?e.map(function(e){return new jm(t,e)}):[]},Rm=function(t){var e,n,i,r;if(this.element=t,this.root=t.root,this.attribute=t.attributes[this.name||"value"],e=this.attribute.interpolator,e.twowayBinding=this,n=e.keypath){if("}"===n.str.slice(-1))return v("Two-way binding does not work with expressions (`%s` on <%s>)",e.resolver.uniqueString,t.name,{ractive:this.root}),!1;if(n.isSpecial)return v("Two-way binding does not work with %s",e.resolver.ref,{ractive:this.root}),!1}else{var o=e.template.r?"'"+e.template.r+"' reference":"expression";m("The %s being used for two-way binding is ambiguous, and may cause unexpected results. Consider initialising your data to eliminate the ambiguity",o,{ractive:this.root}),e.resolver.forceResolution(),n=e.keypath}this.attribute.isTwoway=!0,this.keypath=n,i=this.root.viewmodel.get(n),void 0===i&&this.getInitialValue&&(i=this.getInitialValue(),void 0!==i&&this.root.viewmodel.set(n,i)),(r=nr(t))&&(this.resetValue=i,r.formBindings.push(this))};Rm.prototype={handleChange:function(){var t=this;mu.start(this.root),this.attribute.locked=!0,this.root.viewmodel.set(this.keypath,this.getValue()),mu.scheduleTask(function(){return t.attribute.locked=!1}),mu.end()},rebound:function(){var t,e,n;e=this.keypath,n=this.attribute.interpolator.keypath,e!==n&&(N(this.root._twowayBindings[e.str],this),this.keypath=n,t=this.root._twowayBindings[n.str]||(this.root._twowayBindings[n.str]=[]),t.push(this))},unbind:function(){}},Rm.extend=function(t){var e,n=this;return e=function(t){Rm.call(this,t),this.init&&this.init()},e.prototype=ba(n.prototype),i(e.prototype,t),e.extend=Rm.extend,e};var Im,Lm=Rm,Nm=ir,Mm=Lm.extend({getInitialValue:function(){return this.element.fragment?this.element.fragment.toString():""},render:function(){var t=this.element.node;t.addEventListener("change",Nm,!1),this.root.lazy||(t.addEventListener("input",Nm,!1),t.attachEvent&&t.addEventListener("keyup",Nm,!1))},unrender:function(){var t=this.element.node;t.removeEventListener("change",Nm,!1),t.removeEventListener("input",Nm,!1),t.removeEventListener("keyup",Nm,!1)},getValue:function(){return this.element.node.innerHTML}}),Dm=Mm,Vm=rr,qm={},zm=Lm.extend({name:"checked",init:function(){this.siblings=Vm(this.root._guid,"radio",this.element.getAttribute("name")),this.siblings.push(this)},render:function(){var t=this.element.node;t.addEventListener("change",Nm,!1),t.attachEvent&&t.addEventListener("click",Nm,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",Nm,!1),t.removeEventListener("click",Nm,!1)},handleChange:function(){mu.start(this.root),this.siblings.forEach(function(t){t.root.viewmodel.set(t.keypath,t.getValue())}),mu.end()},getValue:function(){return this.element.node.checked},unbind:function(){N(this.siblings,this)}}),Um=zm,Bm=Lm.extend({name:"name",init:function(){this.siblings=Vm(this.root._guid,"radioname",this.keypath.str),this.siblings.push(this),this.radioName=!0},getInitialValue:function(){return this.element.getAttribute("checked")?this.element.getAttribute("value"):void 0},render:function(){var t=this.element.node;t.name="{{"+this.keypath.str+"}}",t.checked=this.root.viewmodel.get(this.keypath)==this.element.getAttribute("value"),t.addEventListener("change",Nm,!1),t.attachEvent&&t.addEventListener("click",Nm,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",Nm,!1),t.removeEventListener("click",Nm,!1)},getValue:function(){var t=this.element.node;return t._ractive?t._ractive.value:t.value},handleChange:function(){this.element.node.checked&&Lm.prototype.handleChange.call(this)},rebound:function(t,e){var n;Lm.prototype.rebound.call(this,t,e),(n=this.element.node)&&(n.name="{{"+this.keypath.str+"}}")},unbind:function(){N(this.siblings,this)}}),Wm=Bm,$m=Lm.extend({name:"name",getInitialValue:function(){return this.noInitialValue=!0,[]},init:function(){var t,e;this.checkboxName=!0,this.siblings=Vm(this.root._guid,"checkboxes",this.keypath.str),this.siblings.push(this),this.noInitialValue&&(this.siblings.noInitialValue=!0),this.siblings.noInitialValue&&this.element.getAttribute("checked")&&(t=this.root.viewmodel.get(this.keypath),e=this.element.getAttribute("value"),t.push(e))},unbind:function(){N(this.siblings,this)},render:function(){var t,e,n=this.element.node;t=this.root.viewmodel.get(this.keypath),e=this.element.getAttribute("value"),o(t)?this.isChecked=F(t,e):this.isChecked=t==e,n.name="{{"+this.keypath.str+"}}",n.checked=this.isChecked,n.addEventListener("change",Nm,!1),n.attachEvent&&n.addEventListener("click",Nm,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",Nm,!1),t.removeEventListener("click",Nm,!1)},changed:function(){var t=!!this.isChecked;return this.isChecked=this.element.node.checked,this.isChecked===t},handleChange:function(){this.isChecked=this.element.node.checked,Lm.prototype.handleChange.call(this)},getValue:function(){return this.siblings.filter(or).map(sr)}}),Hm=$m,Qm=Lm.extend({name:"checked",render:function(){var t=this.element.node;t.addEventListener("change",Nm,!1),t.attachEvent&&t.addEventListener("click",Nm,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",Nm,!1),t.removeEventListener("click",Nm,!1)},getValue:function(){return this.element.node.checked}}),Km=Qm,Zm=Lm.extend({getInitialValue:function(){var t,e,n,i,r=this.element.options;if(void 0===this.element.getAttribute("value")&&(e=t=r.length,t)){for(;e--;)if(r[e].getAttribute("selected")){n=r[e].getAttribute("value"),i=!0;break}if(!i)for(;++e<t;)if(!r[e].getAttribute("disabled")){n=r[e].getAttribute("value");break}return void 0!==n&&(this.element.attributes.value.value=n),n}},render:function(){this.element.node.addEventListener("change",Nm,!1)},unrender:function(){this.element.node.removeEventListener("change",Nm,!1)},setValue:function(t){this.root.viewmodel.set(this.keypath,t)},getValue:function(){var t,e,n,i,r;for(t=this.element.node.options,n=t.length,e=0;n>e;e+=1)if(i=t[e],t[e].selected)return r=i._ractive?i._ractive.value:i.value},forceUpdate:function(){var t=this,e=this.getValue();void 0!==e&&(this.attribute.locked=!0,mu.scheduleTask(function(){return t.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,e))}}),Gm=Zm,Ym=Gm.extend({getInitialValue:function(){return this.element.options.filter(function(t){return t.getAttribute("selected")}).map(function(t){return t.getAttribute("value")})},render:function(){var t;this.element.node.addEventListener("change",Nm,!1),t=this.root.viewmodel.get(this.keypath),void 0===t&&this.handleChange()},unrender:function(){this.element.node.removeEventListener("change",Nm,!1)},setValue:function(){throw new Error("TODO not implemented yet")},getValue:function(){var t,e,n,i,r,o;for(t=[],e=this.element.node.options,i=e.length,n=0;i>n;n+=1)r=e[n],r.selected&&(o=r._ractive?r._ractive.value:r.value,t.push(o));return t},handleChange:function(){var t,e,n;return t=this.attribute,e=t.value,n=this.getValue(),void 0!==e&&R(n,e)||Gm.prototype.handleChange.call(this),this},forceUpdate:function(){var t=this,e=this.getValue();void 0!==e&&(this.attribute.locked=!0,mu.scheduleTask(function(){return t.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,e))},updateModel:function(){void 0!==this.attribute.value&&this.attribute.value.length||this.root.viewmodel.set(this.keypath,this.initialValue)}}),Jm=Ym,Xm=Lm.extend({render:function(){this.element.node.addEventListener("change",Nm,!1)},unrender:function(){this.element.node.removeEventListener("change",Nm,!1)},getValue:function(){return this.element.node.files}}),tv=Xm;Im=Lm.extend({getInitialValue:function(){return""},getValue:function(){return this.element.node.value},render:function(){var t,e=this.element.node,n=!1;this.rendered=!0,t=this.root.lazy,this.element.lazy===!0?t=!0:this.element.lazy===!1?t=!1:u(this.element.lazy)?(t=!1,n=+this.element.lazy):u(t||"")&&(n=+t,t=!1,this.element.lazy=n),this.handler=n?ur:Nm,e.addEventListener("change",Nm,!1),t||(e.addEventListener("input",this.handler,!1),e.attachEvent&&e.addEventListener("keyup",this.handler,!1)),e.addEventListener("blur",ar,!1)},unrender:function(){var t=this.element.node;this.rendered=!1,t.removeEventListener("change",Nm,!1),t.removeEventListener("input",this.handler,!1),t.removeEventListener("keyup",this.handler,!1),t.removeEventListener("blur",ar,!1)}});var ev=Im,nv=ev.extend({getInitialValue:function(){return void 0},getValue:function(){var t=parseFloat(this.element.node.value);return isNaN(t)?void 0:t}}),iv=cr,rv=lr,ov=dr,sv=fr,av=pr,uv=/^event(?:\.(.+))?/,cv=yr,hv=wr,lv={},dv={touchstart:!0,touchmove:!0,touchend:!0,touchcancel:!0,touchleave:!0},fv=xr,pv=kr,mv=Er,vv=_r,gv=Sr,yv=function(t,e,n){this.init(t,e,n)};yv.prototype={bubble:rv,fire:ov,getAction:sv,init:av,listen:hv,rebind:fv,render:pv,resolve:mv,unbind:vv,unrender:gv};var wv=yv,bv=function(t,e){var n,i,r,o,s=[];for(i in e)if(e.hasOwnProperty(i))for(r=i.split("-"),n=r.length;n--;)o=new wv(t,r[n],e[i]),s.push(o);return s},xv=function(t,e){var n,i,r,o=this;this.element=t,this.root=n=t.root,i=e.n||e,("string"==typeof i||(r=new yw({template:i,root:n,owner:t}),i=r.toString(),r.unbind(),""!==i))&&(e.a?this.params=e.a:e.d&&(this.fragment=new yw({template:e.d,root:n,owner:t}),this.params=this.fragment.getArgsList(),this.fragment.bubble=function(){this.dirtyArgs=this.dirtyValue=!0,o.params=this.getArgsList(),o.ready&&o.update()}),this.fn=g("decorators",n,i),this.fn||l(La(i,"decorator")))};xv.prototype={init:function(){var t,e,n;if(t=this.element.node,this.params?(n=[t].concat(this.params),e=this.fn.apply(this.root,n)):e=this.fn.call(this.root,t),!e||!e.teardown)throw new Error("Decorator definition must return an object with a teardown method");this.actual=e,this.ready=!0},update:function(){this.actual.update?this.actual.update.apply(this.root,this.params):(this.actual.teardown(!0),this.init())},rebind:function(t,e){this.fragment&&this.fragment.rebind(t,e)},teardown:function(t){this.torndown=!0,this.ready&&this.actual.teardown(),!t&&this.fragment&&this.fragment.unbind()}};var kv,Ev,_v,Sv=xv,Cv=Fr,Av=Rr,Ov=Vr,Pv=function(t){return t.replace(/-([a-zA-Z])/g,function(t,e){return e.toUpperCase()})};Xs?(Ev={},_v=la("div").style,kv=function(t){var e,n,i;if(t=Pv(t),!Ev[t])if(void 0!==_v[t])Ev[t]=t;else for(i=t.charAt(0).toUpperCase()+t.substring(1),e=oa.length;e--;)if(n=oa[e],void 0!==_v[n+i]){Ev[t]=n+i;break}return Ev[t]}):kv=null;var Tv,jv,Fv=kv;Xs?(jv=window.getComputedStyle||Ea.getComputedStyle,Tv=function(t){var e,n,i,r,s;if(e=jv(this.node),"string"==typeof t)return s=e[Fv(t)],"0px"===s&&(s=0),s;if(!o(t))throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties");for(n={},i=t.length;i--;)r=t[i],s=e[Fv(r)],"0px"===s&&(s=0),n[r]=s;return n}):Tv=null;var Rv=Tv,Iv=function(t,e){var n;if("string"==typeof t)this.node.style[Fv(t)]=e;else for(n in t)t.hasOwnProperty(n)&&(this.node.style[Fv(n)]=t[n]);return this},Lv=function(t){var e;this.duration=t.duration,this.step=t.step,this.complete=t.complete,"string"==typeof t.easing?(e=t.root.easing[t.easing],e||(v(La(t.easing,"easing")),e=qr)):e="function"==typeof t.easing?t.easing:qr,this.easing=e,this.start=Xa(),this.end=this.start+this.duration,this.running=!0,yu.add(this)};Lv.prototype={tick:function(t){var e,n;return this.running?t>this.end?(this.step&&this.step(1),this.complete&&this.complete(1),!1):(e=t-this.start,n=this.easing(e/this.duration),this.step&&this.step(n),!0):!1},stop:function(){this.abort&&this.abort(),this.running=!1}};var Nv,Mv,Dv,Vv,qv,zv,Uv,Bv,Wv=Lv,$v=new RegExp("^-(?:"+oa.join("|")+")-"),Hv=function(t){return t.replace($v,"")},Qv=new RegExp("^(?:"+oa.join("|")+")([A-Z])"),Kv=function(t){var e;return t?(Qv.test(t)&&(t="-"+t),e=t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})):""},Zv={},Gv={};Xs?(Mv=la("div").style,function(){void 0!==Mv.transition?(Dv="transition",Vv="transitionend",qv=!0):void 0!==Mv.webkitTransition?(Dv="webkitTransition",Vv="webkitTransitionEnd",qv=!0):qv=!1}(),Dv&&(zv=Dv+"Duration",Uv=Dv+"Property",Bv=Dv+"TimingFunction"),Nv=function(t,e,n,i,r){setTimeout(function(){var o,s,a,u,c;u=function(){s&&a&&(t.root.fire(t.name+":end",t.node,t.isIntro),r())},o=(t.node.namespaceURI||"")+t.node.tagName,t.node.style[Uv]=i.map(Fv).map(Kv).join(","),t.node.style[Bv]=Kv(n.easing||"linear"),t.node.style[zv]=n.duration/1e3+"s",c=function(e){var n;n=i.indexOf(Pv(Hv(e.propertyName))),-1!==n&&i.splice(n,1),i.length||(t.node.removeEventListener(Vv,c,!1),a=!0,u())},t.node.addEventListener(Vv,c,!1),setTimeout(function(){for(var r,h,l,d,f,p=i.length,v=[];p--;)d=i[p],r=o+d,qv&&!Gv[r]&&(t.node.style[Fv(d)]=e[d],Zv[r]||(h=t.getStyle(d),Zv[r]=t.getStyle(d)!=e[d],Gv[r]=!Zv[r],Gv[r]&&(t.node.style[Fv(d)]=h))),(!qv||Gv[r])&&(void 0===h&&(h=t.getStyle(d)),l=i.indexOf(d),-1===l?m("Something very strange happened with transitions. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!",{node:t.node}):i.splice(l,1),f=/[^\d]*$/.exec(e[d])[0],v.push({name:Fv(d),interpolator:Ma(parseFloat(h),parseFloat(e[d])),suffix:f}));v.length?new Wv({root:t.root,duration:n.duration,easing:Pv(n.easing||""),step:function(e){var n,i;for(i=v.length;i--;)n=v[i],t.node.style[n.name]=n.interpolator(e)+n.suffix},complete:function(){s=!0,u()}}):s=!0,i.length||(t.node.removeEventListener(Vv,c,!1),a=!0,u())},0)},n.delay||0)}):Nv=null;var Yv,Jv,Xv,tg,eg,ng=Nv;if("undefined"!=typeof document){if(Yv="hidden",eg={},Yv in document)Xv="";else for(tg=oa.length;tg--;)Jv=oa[tg],Yv=Jv+"Hidden",Yv in document&&(Xv=Jv);void 0!==Xv?(document.addEventListener(Xv+"visibilitychange",zr),zr()):("onfocusout"in document?(document.addEventListener("focusout",Ur),document.addEventListener("focusin",Br)):(window.addEventListener("pagehide",Ur),window.addEventListener("blur",Ur),window.addEventListener("pageshow",Br),window.addEventListener("focus",Br)),eg.hidden=!1)}var ig,rg,og,sg=eg;Xs?(rg=window.getComputedStyle||Ea.getComputedStyle,ig=function(t,e,n){var i,r=this;if(4===arguments.length)throw new Error("t.animateStyle() returns a promise - use .then() instead of passing a callback");if(sg.hidden)return this.setStyle(t,e),og||(og=su.resolve());"string"==typeof t?(i={},i[t]=e):(i=t,n=e),n||(v('The "%s" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340',this.name),n=this);var o=new su(function(t){var e,o,s,a,u,c,h;if(!n.duration)return r.setStyle(i),void t();for(e=Object.keys(i),o=[],s=rg(r.node),u={},c=e.length;c--;)h=e[c],a=s[Fv(h)],"0px"===a&&(a=0),a!=i[h]&&(o.push(h),r.node.style[Fv(h)]=a);return o.length?void ng(r,i,n,o,t):void t()});return o}):ig=null;var ag=ig,ug=function(t,e){return"number"==typeof t?t={duration:t}:"string"==typeof t?t="slow"===t?{duration:600}:"fast"===t?{duration:200}:{duration:400}:t||(t={}),r({},t,e)},cg=Wr,hg=function(t,e,n){this.init(t,e,n)};hg.prototype={init:Ov,start:cg,getStyle:Rv,setStyle:Iv,animateStyle:ag,processParams:ug};var lg,dg,fg=hg,pg=Hr;lg=function(){var t=this.node,e=this.fragment.toString(!1);if(window&&window.appearsToBeIELessEqual8&&(t.type="text/css"),t.styleSheet)t.styleSheet.cssText=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}},dg=function(){this.node.type&&"text/javascript"!==this.node.type||m("Script tag was updated. This does not cause the code to be re-evaluated!",{ractive:this.root}),this.node.text=this.fragment.toString(!1)};var mg=function(){var t,e;return this.template.y?"<!DOCTYPE"+this.template.dd+">":(t="<"+this.template.e,t+=this.attributes.map(Jr).join("")+this.conditionalAttributes.map(Jr).join(""),"option"===this.name&&Gr(this)&&(t+=" selected"),"input"===this.name&&Yr(this)&&(t+=" checked"),t+=">","textarea"===this.name&&void 0!==this.getAttribute("value")?t+=Ce(this.getAttribute("value")):void 0!==this.getAttribute("contenteditable")&&(t+=this.getAttribute("value")||""),this.fragment&&(e="script"!==this.name&&"style"!==this.name,t+=this.fragment.toString(e)),wl.test(this.template.e)||(t+="</"+this.template.e+">"),t)},vg=Xr,gg=to,yg=function(t){this.init(t)};yg.prototype={bubble:$p,detach:Hp,find:Qp,findAll:Kp,findAllComponents:Zp,findComponent:Gp,findNextNode:Yp,firstNode:Jp,getAttribute:Xp,init:Cv,rebind:Av,render:pg,toString:mg,unbind:vg,unrender:gg};var wg=yg,bg=/^\s*$/,xg=/^\s*/,kg=function(t){var e,n,i,r;return e=t.split("\n"),n=e[0],void 0!==n&&bg.test(n)&&e.shift(),i=L(e),void 0!==i&&bg.test(i)&&e.pop(),r=e.reduce(no,null),r&&(t=e.map(function(t){return t.replace(r,"")}).join("\n")),t},Eg=io,_g=function(t,e){var n;return e?n=t.split("\n").map(function(t,n){return n?e+t:t}).join("\n"):t},Sg='Could not find template for partial "%s"',Cg=function(t){var e,n;e=this.parentFragment=t.parentFragment,this.root=e.root,this.type=th,this.index=t.index,this.name=t.template.r,this.rendered=!1,this.fragment=this.fragmentToRender=this.fragmentToUnrender=null,rp.init(this,t),this.keypath||((n=Eg(this.root,this.name,e))?(Lf.call(this),this.isNamed=!0,this.setTemplate(n)):v(Sg,this.name))};Cg.prototype={bubble:function(){this.parentFragment.bubble()},detach:function(){return this.fragment.detach()},find:function(t){return this.fragment.find(t)},findAll:function(t,e){return this.fragment.findAll(t,e)},findComponent:function(t){return this.fragment.findComponent(t)},findAllComponents:function(t,e){return this.fragment.findAllComponents(t,e)},firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},getPartialName:function(){return this.isNamed&&this.name?this.name:void 0===this.value?this.name:this.value},getValue:function(){return this.fragment.getValue()},rebind:function(t,e){this.isNamed||ip.call(this,t,e),this.fragment&&this.fragment.rebind(t,e)},render:function(){return this.docFrag=document.createDocumentFragment(),this.update(),this.rendered=!0,this.docFrag},resolve:rp.resolve,setValue:function(t){var e;(void 0===t||t!==this.value)&&(void 0!==t&&(e=Eg(this.root,""+t,this.parentFragment)),!e&&this.name&&(e=Eg(this.root,this.name,this.parentFragment))&&(Lf.call(this),this.isNamed=!0),e||v(Sg,this.name,{ractive:this.root}),this.value=t,this.setTemplate(e||[]),this.bubble(),this.rendered&&mu.addView(this))},setTemplate:function(t){this.fragment&&(this.fragment.unbind(),this.rendered&&(this.fragmentToUnrender=this.fragment)),this.fragment=new yw({template:t,root:this.root,owner:this,pElement:this.parentFragment.pElement}),this.fragmentToRender=this.fragment},toString:function(t){var e,n,i,r;return e=this.fragment.toString(t),n=this.parentFragment.items[this.index-1],n&&n.type===Qc?(i=n.text.split("\n").pop(),(r=/^\s+$/.exec(i))?_g(e,r[0]):e):e},unbind:function(){this.isNamed||Lf.call(this),this.fragment&&this.fragment.unbind()},unrender:function(t){this.rendered&&(this.fragment&&this.fragment.unrender(t),this.rendered=!1)},update:function(){var t,e;this.fragmentToUnrender&&(this.fragmentToUnrender.unrender(!0),this.fragmentToUnrender=null),this.fragmentToRender&&(this.docFrag.appendChild(this.fragmentToRender.render()),this.fragmentToRender=null),this.rendered&&(t=this.parentFragment.getNode(),e=this.parentFragment.findNextNode(this),t.insertBefore(this.docFrag,e))}};var Ag,Og,Pg,Tg=Cg,jg=uo,Fg=co,Rg=new nu("detach"),Ig=ho,Lg=lo,Ng=fo,Mg=po,Dg=mo,Vg=vo,qg=function(t,e,n,i){var r=t.root,o=t.keypath;i?r.viewmodel.smartUpdate(o,e,i):r.viewmodel.mark(o)},zg=[],Ug=["pop","push","reverse","shift","sort","splice","unshift"];Ug.forEach(function(t){var e=function(){for(var e=arguments.length,n=Array(e),i=0;e>i;i++)n[i]=arguments[i];var r,o,s,a;for(r=mc(this,t,n),o=Array.prototype[t].apply(this,arguments),mu.start(),this._ractive.setting=!0,a=this._ractive.wrappers.length;a--;)s=this._ractive.wrappers[a],mu.addRactive(s.root),qg(s,this,t,r);return mu.end(),this._ractive.setting=!1,o};xa(zg,t,{value:e})}),Ag={},Ag.__proto__?(Og=function(t){t.__proto__=zg},Pg=function(t){t.__proto__=Array.prototype}):(Og=function(t){var e,n;for(e=Ug.length;e--;)n=Ug[e],xa(t,n,{value:zg[n],configurable:!0})},Pg=function(t){var e;for(e=Ug.length;e--;)delete t[Ug[e]]}),Og.unpatch=Pg;var Bg,Wg,$g,Hg=Og;Bg={filter:function(t){return o(t)&&(!t._ractive||!t._ractive.setting)},wrap:function(t,e,n){return new Wg(t,e,n)}},Wg=function(t,e,n){this.root=t,this.value=e,this.keypath=_(n),e._ractive||(xa(e,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),Hg(e)),e._ractive.instances[t._guid]||(e._ractive.instances[t._guid]=0,e._ractive.instances.push(t)),e._ractive.instances[t._guid]+=1,e._ractive.wrappers.push(this)},Wg.prototype={get:function(){return this.value},teardown:function(){var t,e,n,i,r;if(t=this.value,e=t._ractive,n=e.wrappers,i=e.instances,e.setting)return!1;if(r=n.indexOf(this),-1===r)throw new Error($g);if(n.splice(r,1),n.length){if(i[this.root._guid]-=1,!i[this.root._guid]){if(r=i.indexOf(this.root),-1===r)throw new Error($g);i.splice(r,1)}}else delete t._ractive,Hg.unpatch(this.value)}},$g="Something went wrong in a rather interesting way";var Qg,Kg,Zg=Bg,Gg=/^\s*[0-9]+\s*$/,Yg=function(t){return Gg.test(t)?[]:{}};try{Object.defineProperty({},"test",{value:0}),Qg={filter:function(t,e,n){var i,r;return e?(e=_(e),(i=n.viewmodel.wrapped[e.parent.str])&&!i.magic?!1:(r=n.viewmodel.get(e.parent),o(r)&&/^[0-9]+$/.test(e.lastKey)?!1:r&&("object"==typeof r||"function"==typeof r))):!1},wrap:function(t,e,n){return new Kg(t,e,n)}},Kg=function(t,e,n){var i,r,o;return n=_(n),this.magic=!0,this.ractive=t,this.keypath=n,this.value=e,this.prop=n.lastKey,i=n.parent,this.obj=i.isRoot?t.viewmodel.data:t.viewmodel.get(i),r=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),r&&r.set&&(o=r.set._ractiveWrappers)?void(-1===o.indexOf(this)&&o.push(this)):void go(this,e,r)},Kg.prototype={get:function(){return this.value},reset:function(t){return this.updating?void 0:(this.updating=!0,this.obj[this.prop]=t,mu.addRactive(this.ractive),this.ractive.viewmodel.mark(this.keypath,{keepExistingWrapper:!0}),this.updating=!1,!0)},set:function(t,e){this.updating||(this.obj[this.prop]||(this.updating=!0,this.obj[this.prop]=Yg(t),this.updating=!1),this.obj[this.prop][t]=e)},teardown:function(){var t,e,n,i,r;return this.updating?!1:(t=Object.getOwnPropertyDescriptor(this.obj,this.prop),e=t&&t.set,void(e&&(i=e._ractiveWrappers,r=i.indexOf(this),-1!==r&&i.splice(r,1),i.length||(n=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configurable:!0}),this.obj[this.prop]=n))))}}}catch(_a){Qg=!1}var Jg,Xg,ty=Qg;ty&&(Jg={filter:function(t,e,n){return ty.filter(t,e,n)&&Zg.filter(t)},wrap:function(t,e,n){return new Xg(t,e,n)}},Xg=function(t,e,n){this.value=e,this.magic=!0,this.magicWrapper=ty.wrap(t,e,n),this.arrayWrapper=Zg.wrap(t,e,n)},Xg.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},reset:function(t){return this.magicWrapper.reset(t)}});var ey=Jg,ny=yo,iy={},ry=xo,oy=ko,sy=So,ay=To,uy=jo,cy=function(t,e){this.computation=t,this.viewmodel=t.viewmodel,this.ref=e,this.root=this.viewmodel.ractive,this.parentFragment=this.root.component&&this.root.component.parentFragment};cy.prototype={resolve:function(t){this.computation.softDeps.push(t),this.computation.unresolvedDeps[t.str]=null,this.viewmodel.register(t,this.computation,"computed")}};var hy=cy,ly=function(t,e){this.key=t,this.getter=e.getter,this.setter=e.setter,this.hardDeps=e.deps||[],this.softDeps=[],this.unresolvedDeps={},this.depValues={},this._dirty=this._firstRun=!0};ly.prototype={constructor:ly,init:function(t){var e,n=this;this.viewmodel=t,this.bypass=!0,e=t.get(this.key),t.clearCache(this.key.str),this.bypass=!1,this.setter&&void 0!==e&&this.set(e),this.hardDeps&&this.hardDeps.forEach(function(e){return t.register(e,n,"computed")})},invalidate:function(){this._dirty=!0},get:function(){var t,e,n=this,i=!1;if(this.getting){var r="The "+this.key.str+" computation indirectly called itself. This probably indicates a bug in the computation. It is commonly caused by `array.sort(...)` - if that's the case, clone the array first with `array.slice().sort(...)`";return p(r),this.value}if(this.getting=!0,this._dirty){if(this._firstRun||!this.hardDeps.length&&!this.softDeps.length?i=!0:[this.hardDeps,this.softDeps].forEach(function(t){var e,r,o;if(!i)for(o=t.length;o--;)if(e=t[o],r=n.viewmodel.get(e),!a(r,n.depValues[e.str]))return n.depValues[e.str]=r,void(i=!0)}),i){this.viewmodel.capture();try{this.value=this.getter()}catch(o){m('Failed to compute "%s"',this.key.str),d(o.stack||o),this.value=void 0}t=this.viewmodel.release(),e=this.updateDependencies(t),e&&[this.hardDeps,this.softDeps].forEach(function(t){t.forEach(function(t){n.depValues[t.str]=n.viewmodel.get(t)})})}this._dirty=!1}return this.getting=this._firstRun=!1,this.value},set:function(t){if(this.setting)return void(this.value=t);if(!this.setter)throw new Error("Computed properties without setters are read-only. (This may change in a future version of Ractive!)");this.setter(t)},updateDependencies:function(t){var e,n,i,r,o;for(n=this.softDeps,e=n.length;e--;)i=n[e],-1===t.indexOf(i)&&(r=!0,this.viewmodel.unregister(i,this,"computed"));for(e=t.length;e--;)i=t[e],-1!==n.indexOf(i)||this.hardDeps&&-1!==this.hardDeps.indexOf(i)||(r=!0,Fo(this.viewmodel,i)&&!this.unresolvedDeps[i.str]?(o=new hy(this,i.str),t.splice(e,1),this.unresolvedDeps[i.str]=o,mu.addUnresolved(o)):this.viewmodel.register(i,this,"computed"));return r&&(this.softDeps=t.slice()),r}};var dy=ly,fy=Ro,py={FAILED_LOOKUP:!0},my=Io,vy={},gy=No,yy=Mo,wy=function(t,e){this.localKey=t,this.keypath=e.keypath,this.origin=e.origin,this.deps=[],this.unresolved=[],this.resolved=!1};wy.prototype={forceResolution:function(){this.keypath=this.localKey,this.setup()},get:function(t,e){return this.resolved?this.origin.get(this.map(t),e):void 0},getValue:function(){return this.keypath?this.origin.get(this.keypath):void 0},initViewmodel:function(t){this.local=t,this.setup()},map:function(t){return void 0===typeof this.keypath?this.localKey:t.replace(this.localKey,this.keypath)},register:function(t,e,n){this.deps.push({keypath:t,dep:e,group:n}),this.resolved&&this.origin.register(this.map(t),e,n)},resolve:function(t){void 0!==this.keypath&&this.unbind(!0),this.keypath=t,this.setup()},set:function(t,e){this.resolved||this.forceResolution(),this.origin.set(this.map(t),e)},setup:function(){var t=this;void 0!==this.keypath&&(this.resolved=!0,this.deps.length&&(this.deps.forEach(function(e){var n=t.map(e.keypath);if(t.origin.register(n,e.dep,e.group),e.dep.setValue)e.dep.setValue(t.origin.get(n));else{if(!e.dep.invalidate)throw new Error("An unexpected error occurred. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");e.dep.invalidate()}}),this.origin.mark(this.keypath)))},setValue:function(t){if(!this.keypath)throw new Error("Mapping does not have keypath, cannot set value. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");this.origin.set(this.keypath,t)},unbind:function(t){var e=this;t||delete this.local.mappings[this.localKey],this.resolved&&(this.deps.forEach(function(t){e.origin.unregister(e.map(t.keypath),t.dep,t.group);

}),this.tracker&&this.origin.unregister(this.keypath,this.tracker))},unregister:function(t,e,n){var i,r;if(this.resolved){for(i=this.deps,r=i.length;r--;)if(i[r].dep===e){i.splice(r,1);break}this.origin.unregister(this.map(t),e,n)}}};var by=Do,xy=function(t,e){var n,i,r,o;return n={},i=0,r=t.map(function(t,r){var s,a,u;a=i,u=e.length;do{if(s=e.indexOf(t,a),-1===s)return o=!0,-1;a=s+1}while(n[s]&&u>a);return s===i&&(i+=1),s!==r&&(o=!0),n[s]=!0,s})},ky=Vo,Ey={},_y=Uo,Sy=Wo,Cy=$o,Ay=Ho,Oy=Ko,Py={implicit:!0},Ty={noCascade:!0},jy=Go,Fy=Yo,Ry=function(t){var e,n,i=t.adapt,r=t.data,o=t.ractive,s=t.computed,a=t.mappings;this.ractive=o,this.adaptors=i,this.onchange=t.onchange,this.cache={},this.cacheMap=ba(null),this.deps={computed:ba(null),"default":ba(null)},this.depsMap={computed:ba(null),"default":ba(null)},this.patternObservers=[],this.specials=ba(null),this.wrapped=ba(null),this.computations=ba(null),this.captureGroups=[],this.unresolvedImplicitDependencies=[],this.changes=[],this.implicitChanges={},this.noCascade={},this.data=r,this.mappings=ba(null);for(e in a)this.map(_(e),a[e]);if(r)for(e in r)(n=this.mappings[e])&&void 0===n.getValue()&&n.setValue(r[e]);for(e in s)a&&e in a&&l("Cannot map to a computed property ('%s')",e),this.compute(_(e),s[e]);this.ready=!0};Ry.prototype={adapt:ny,applyChanges:sy,capture:ay,clearCache:uy,compute:fy,get:my,init:gy,map:yy,mark:by,merge:ky,register:_y,release:Sy,reset:Cy,set:Ay,smartUpdate:Oy,teardown:jy,unregister:Fy};var Iy=Ry;Xo.prototype={constructor:Xo,begin:function(t){this.inProcess[t._guid]=!0},end:function(t){var e=t.parent;e&&this.inProcess[e._guid]?ts(this.queue,e).push(t):es(this,t),delete this.inProcess[t._guid]}};var Ly=Xo,Ny=ns,My=/\$\{([^\}]+)\}/g,Dy=new nu("construct"),Vy=new nu("config"),qy=new Ly("init"),zy=0,Uy=["adaptors","components","decorators","easing","events","interpolators","partials","transitions"],By=ss,Wy=ls;ls.prototype={bubble:function(){this.dirty||(this.dirty=!0,mu.addView(this))},update:function(){this.callback(this.fragment.getValue()),this.dirty=!1},rebind:function(t,e){this.fragment.rebind(t,e)},unbind:function(){this.fragment.unbind()}};var $y=function(t,e,n,r,s){var a,u,c,h,l,d,f={},p={},v={},g=[];for(u=t.parentFragment,c=t.root,s=s||{},i(f,s),s.content=r||[],f[""]=s.content,e.defaults.el&&m("The <%s/> component has a default `el` property; it has been disregarded",t.name),h=u;h;){if(h.owner.type===sh){l=h.owner.container;break}h=h.parent}return n&&Object.keys(n).forEach(function(e){var i,r,s=n[e];if("string"==typeof s)i=_d(s),p[e]=i?i.value:s;else if(0===s)p[e]=!0;else{if(!o(s))throw new Error("erm wut");fs(s)?(v[e]={origin:t.root.viewmodel,keypath:void 0},r=ds(t,s[0],function(t){t.isSpecial?d?a.set(e,t.value):(p[e]=t.value,delete v[e]):d?a.viewmodel.mappings[e].resolve(t):v[e].keypath=t})):r=new Wy(t,s,function(t){d?a.set(e,t):p[e]=t}),g.push(r)}}),a=ba(e.prototype),By(a,{el:null,append:!0,data:p,partials:s,magic:c.magic||e.defaults.magic,modifyArrays:c.modifyArrays,adapt:c.adapt},{parent:c,component:t,container:l,mappings:v,inlinePartials:f,cssIds:u.cssIds}),d=!0,t.resolvers=g,a},Hy=ps,Qy=function(t){var e,n;for(e=t.root;e;)(n=e._liveComponentQueries["_"+t.name])&&n.push(t.instance),e=e.parent},Ky=vs,Zy=gs,Gy=ys,Yy=ws,Jy=bs,Xy=new nu("teardown"),tw=ks,ew=function(t,e){this.init(t,e)};ew.prototype={detach:Fg,find:Ig,findAll:Lg,findAllComponents:Ng,findComponent:Mg,findNextNode:Dg,firstNode:Vg,init:Ky,rebind:Zy,render:Gy,toString:Yy,unbind:Jy,unrender:tw};var nw=ew,iw=function(t){this.type=eh,this.value=t.template.c};iw.prototype={detach:Ff,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createComment(this.value)),this.node},toString:function(){return"<!--"+this.value+"-->"},unrender:function(t){t&&this.node.parentNode.removeChild(this.node)}};var rw=iw,ow=function(t){var e,n;this.type=sh,this.container=e=t.parentFragment.root,this.component=n=e.component,this.container=e,this.containerFragment=t.parentFragment,this.parentFragment=n.parentFragment;var i=this.name=t.template.n||"",r=e._inlinePartials[i];r||(m('Could not find template for partial "'+i+'"',{ractive:t.root}),r=[]),this.fragment=new yw({owner:this,root:e.parent,template:r,pElement:this.containerFragment.pElement}),o(n.yielders[i])?n.yielders[i].push(this):n.yielders[i]=[this],mu.scheduleTask(function(){if(n.yielders[i].length>1)throw new Error("A component template can only have one {{yield"+(i?" "+i:"")+"}} declaration at a time")})};ow.prototype={detach:function(){return this.fragment.detach()},find:function(t){return this.fragment.find(t)},findAll:function(t,e){return this.fragment.findAll(t,e)},findComponent:function(t){return this.fragment.findComponent(t)},findAllComponents:function(t,e){return this.fragment.findAllComponents(t,e)},findNextNode:function(){return this.containerFragment.findNextNode(this)},firstNode:function(){return this.fragment.firstNode()},getValue:function(t){return this.fragment.getValue(t)},render:function(){return this.fragment.render()},unbind:function(){this.fragment.unbind()},unrender:function(t){this.fragment.unrender(t),N(this.component.yielders[this.name],this)},rebind:function(t,e){this.fragment.rebind(t,e)},toString:function(){return this.fragment.toString()}};var sw=ow,aw=function(t){this.declaration=t.template.a};aw.prototype={init:ja,render:ja,unrender:ja,teardown:ja,toString:function(){return"<!DOCTYPE"+this.declaration+">"}};var uw=aw,cw=Es,hw=Ss,lw=Cs,dw=As,fw=Ts,pw=Fs,mw=function(t){this.init(t)};mw.prototype={bubble:bf,detach:xf,find:kf,findAll:Ef,findAllComponents:_f,findComponent:Sf,findNextNode:Cf,firstNode:Af,getArgsList:Pf,getNode:Tf,getValue:jf,init:cw,rebind:hw,registerIndexRef:function(t){var e=this.registeredIndexRefs;-1===e.indexOf(t)&&e.push(t)},render:lw,toString:dw,unbind:fw,unregisterIndexRef:function(t){var e=this.registeredIndexRefs;e.splice(e.indexOf(t),1)},unrender:pw};var vw,gw,yw=mw,ww=Rs,bw=["template","partials","components","decorators","events"],xw=new nu("reset"),kw=function(t,e){function n(e,i,r){r&&r.partials[t]||e.forEach(function(e){e.type===th&&e.getPartialName()===t&&i.push(e),e.fragment&&n(e.fragment.items,i,r),o(e.fragments)?n(e.fragments,i,r):o(e.items)?n(e.items,i,r):e.type===oh&&e.instance&&n(e.instance.fragment.items,i,e.instance),e.type===Xc&&(o(e.attributes)&&n(e.attributes,i,r),o(e.conditionalAttributes)&&n(e.conditionalAttributes,i,r))})}var i,r=[];return n(this.fragment.items,r),this.partials[t]=e,i=mu.start(this,!0),r.forEach(function(e){e.value=void 0,e.setValue(t)}),mu.end(),i},Ew=Is,_w=gc("reverse"),Sw=Ls,Cw=gc("shift"),Aw=gc("sort"),Ow=gc("splice"),Pw=Ms,Tw=Ds,jw=new nu("teardown"),Fw=qs,Rw=zs,Iw=Us,Lw=new nu("unrender"),Nw=gc("unshift"),Mw=Bs,Dw=new nu("update"),Vw=Ws,qw={add:Ga,animate:xu,detach:Eu,find:Su,findAll:Iu,findAllComponents:Lu,findComponent:Nu,findContainer:Mu,findParent:Du,fire:Uu,get:Bu,insert:$u,merge:Qu,observe:uc,observeOnce:cc,off:dc,on:fc,once:pc,pop:yc,push:wc,render:Cc,reset:ww,resetPartial:kw,resetTemplate:Ew,reverse:_w,set:Sw,shift:Cw,sort:Aw,splice:Ow,subtract:Pw,teardown:Tw,toggle:Fw,toHTML:Rw,toHtml:Rw,unrender:Iw,unshift:Nw,update:Mw,updateModel:Vw},zw=function(t,e,n){return n||Hs(t,e)?function(){var n,i="_super"in this,r=this._super;return this._super=e,n=t.apply(this,arguments),i&&(this._super=r),n}:t},Uw=Qs,Bw=Ys,Ww=function(t){var e,n,i={};return t&&(e=t._ractive)?(i.ractive=e.root,i.keypath=e.keypath.str,i.index={},(n=Wf(e.proxy.parentFragment))&&(i.index=Wf.resolve(n)),i):i};vw=function(t){return this instanceof vw?void By(this,t):new vw(t)},gw={DEBUG:{writable:!0,value:!0},DEBUG_PROMISES:{writable:!0,value:!0},extend:{value:Bw},getNodeInfo:{value:Ww},parse:{value:Kd},Promise:{value:su},svg:{value:ra},magic:{value:na},VERSION:{value:"0.7.2"},adaptors:{writable:!0,value:{}},components:{writable:!0,value:{}},decorators:{writable:!0,value:{}},easing:{writable:!0,value:ca},events:{writable:!0,value:{}},interpolators:{writable:!0,value:Va},partials:{writable:!0,value:{}},transitions:{writable:!0,value:{}}},ka(vw,gw),vw.prototype=i(qw,ua),vw.prototype.constructor=vw,vw.defaults=vw.prototype;var $w="function";if(typeof Date.now!==$w||typeof String.prototype.trim!==$w||typeof Object.keys!==$w||typeof Array.prototype.indexOf!==$w||typeof Array.prototype.forEach!==$w||typeof Array.prototype.map!==$w||typeof Array.prototype.filter!==$w||"undefined"!=typeof window&&typeof window.addEventListener!==$w)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");var Hw=vw;return Hw})},{}]},{},[1])(1)});
