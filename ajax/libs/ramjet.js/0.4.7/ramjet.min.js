!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.ramjet=t()}(this,function(){"use strict";function e(){document.body.appendChild(T),x=!0}function t(e,n,o){var i=o?o(e,n):e.cloneNode();if("undefined"!=typeof i){var r=void 0,a=void 0,s=void 0,d=void 0;if(1===e.nodeType)for(r=window.getComputedStyle(e),w.forEach(function(e){i.style[e]=r[e]}),a=e.childNodes.length,s=0;a>s;s+=1)d=t(e.childNodes[s],n+1,o),d&&i.appendChild(d);return i}}function n(e,n,o,i){var r=e.namespaceURI===b,a=e.getBoundingClientRect(),s=a.left,d=a.right,l=a.top,c=a.bottom,u=window.getComputedStyle(e),f=t(e,0,o),m={node:e,clone:f,isSvg:r,cx:(s+d)/2,cy:(l+c)/2,width:d-s,height:c-l,transform:null,borderRadius:null};if(r){var p=e.getScreenCTM();m.transform="matrix("+[p.a,p.b,p.c,p.d,p.e,p.f].join(",")+")",m.borderRadius=[0,0,0,0],T.appendChild(f)}else{if(n)f.style.position="fixed",f.style.top=l-parseInt(u.marginTop,10)+"px",f.style.left=s-parseInt(u.marginLeft,10)+"px";else{var y=e.offsetParent;if(null===y||y===document.body||i){var h=document.documentElement;f.style.position="absolute",f.style.top=l+window.pageYOffset-h.clientTop-parseInt(u.marginTop,10)+"px",f.style.left=s+window.pageXOffset-h.clientLeft-parseInt(u.marginLeft,10)+"px"}else{var g=window.getComputedStyle(y),v=y.getBoundingClientRect();f.style.position="absolute",f.style.top=l-parseInt(u.marginTop,10)-(v.top-parseInt(g.marginTop,10))+"px",f.style.left=s-parseInt(u.marginLeft,10)-(v.left-parseInt(g.marginLeft,10))+"px"}}m.transform="",m.borderRadius=[parseFloat(u.borderTopLeftRadius),parseFloat(u.borderTopRightRadius),parseFloat(u.borderBottomRightRadius),parseFloat(u.borderBottomLeftRadius)],i?document.body.appendChild(f):e.parentNode.appendChild(f)}return m}function o(e){e.__ramjetOriginalTransition__=e.style.transition,e.style.transition="",e.style.opacity=0}function i(e){e.style.transition="",e.style.opacity=1,e.__ramjetOriginalTransition__&&setTimeout(function(){e.style.transition=e.__ramjetOriginalTransition__})}function r(e){for(;null!==e;){if("fixed"===window.getComputedStyle(e).position)return!0;e=e.namespaceURI===b?e.parentNode:e.offsetParent}return!1}function a(e,t,n,o,i,r,a,s,d){var l=e?"translate("+t+" "+n+") scale("+(1+d*r)+" "+(1+d*a)+") translate("+-t+" "+-n+") translate("+s*o+" "+s*i+")":"translate("+s*o+"px,"+s*i+"px) scale("+(1+d*r)+","+(1+d*a)+")";return l}function s(e,t,n,o,i){var r=1+i*n,a=1+i*o;return e.map(function(e,n){var o=t[n],s=(e+i*(o-e))/r,d=(e+i*(o-e))/a;return s+"px "+d+"px"})}function d(e){return e}function l(e){return Math.pow(e,3)}function c(e){return Math.pow(e-1,3)+1}function u(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){e.style.borderTopLeftRadius=t[0],e.style.borderTopRightRadius=t[1],e.style.borderBottomRightRadius=t[2],e.style.borderBottomLeftRadius=t[3]}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e){var t=document.createElement("style");t.type="text/css";var n=document.getElementsByTagName("head")[0],o=t.styleSheet;return o?o.cssText=e:t.innerHTML=e,n.appendChild(t),function(){return n.removeChild(t)}}function h(e,t,n){function o(n,o,i){var d=e.cx+r*o,f=e.cy+a*o,m=S(e.borderRadius,t.borderRadius,s,l,o),p=S(t.borderRadius,e.borderRadius,c,u,1-o),g=C(!1,d,f,r,a,s,l,o,i)+" "+e.transform,v=C(!1,d,f,-r,-a,c,u,1-o,1-i)+" "+t.transform;y.push("\n			"+n+"% {\n				opacity: "+(1-o)+";\n				border-top-left-radius: "+m[0]+";\n				border-top-right-radius: "+m[1]+";\n				border-bottom-right-radius: "+m[2]+";\n				border-bottom-left-radius: "+m[3]+";\n				"+j+": "+g+";\n			}"),h.push("\n			"+n+"% {\n				opacity: "+o+";\n				border-top-left-radius: "+p[0]+";\n				border-top-right-radius: "+p[1]+";\n				border-bottom-right-radius: "+p[2]+";\n				border-bottom-left-radius: "+p[3]+";\n				"+j+": "+v+";\n			}")}var i,r=t.cx-e.cx,a=t.cy-e.cy,s=t.width/e.width-1,l=t.height/e.height-1,c=e.width/t.width-1,u=e.height/t.height-1,f=n.easing||d,m=n.easingScale||f,p=n.duration/50,y=[],h=[];for(i=0;p>i;i+=1){var g=100*(i/p),v=f(i/p),w=m(i/p);o(g,v,w)}return o(100,1,1),y=y.join("\n"),h=h.join("\n"),{fromKeyframes:y,toKeyframes:h}}var g=["length","parentRule"],v=void 0;v="undefined"!=typeof CSS2Properties?Object.keys(CSS2Properties.prototype):Object.keys(document.createElement("div").style).filter(function(e){return!~g.indexOf(e)});var w=v,b="http://www.w3.org/2000/svg",T=void 0;try{T=document.createElementNS(b,"svg"),T.style.position="fixed",T.style.top=T.style.left="0",T.style.width=T.style.height="100%",T.style.overflow="visible",T.style.pointerEvents="none",T.setAttribute("class","mogrify-svg")}catch(R){console.log("The current browser doesn't support SVG")}var x=!1,C=a,S=s,k=window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return setTimeout(e,16)},A=k,E=function(e,t,n){function o(){var d=Date.now(),f=d-u;if(f>p)return e.clone.parentNode.removeChild(e.clone),t.clone.parentNode.removeChild(t.clone),void(n.done&&n.done());var g=y(f/p),v=h(f/p);e.clone.style.opacity=1-g,t.clone.style.opacity=g;var w=S(e.borderRadius,t.borderRadius,a,s,g),b=S(t.borderRadius,e.borderRadius,l,c,1-g);m(e.clone,w),m(t.clone,b);var T=e.cx+i*g,R=e.cy+r*g,x=C(e.isSvg,T,R,i,r,a,s,g,v)+" "+e.transform,k=C(t.isSvg,T,R,-i,-r,l,c,1-g,1-v)+" "+t.transform;e.isSvg?e.clone.setAttribute("transform",x):e.clone.style.transform=e.clone.style.webkitTransform=e.clone.style.msTransform=x,t.isSvg?t.clone.setAttribute("transform",k):t.clone.style.transform=t.clone.style.webkitTransform=t.clone.style.msTransform=k,A(o)}f(this,E);var i=t.cx-e.cx,r=t.cy-e.cy,a=t.width/e.width-1,s=t.height/e.height-1,l=e.width/t.width-1,c=e.height/t.height-1,u=Date.now(),p=n.duration||400,y=n.easing||d,h=n.easingScale||y;o()},I=E,_=document.createElement("div"),N=!0,j=void 0,L=void 0,O=void 0,B=void 0,F=void 0,M=void 0,D=void 0,K=void 0,P=!window.ActiveXObject&&"ActiveXObject"in window;!P&&("transform"in _.style||"webkitTransform"in _.style)&&("animation"in _.style||"webkitAnimation"in _.style)?(N=!0,j="transform"in _.style?"transform":"-webkit-transform","animation"in _.style?(L="@keyframes",O="animationDirection",B="animationDuration",F="animationIterationCount",M="animationName",D="animationTimingFunction",K="animationend"):(L="@-webkit-keyframes",O="webkitAnimationDirection",B="webkitAnimationDuration",F="webkitAnimationIterationCount",M="webkitAnimationName",D="webkitAnimationTimingFunction",K="webkitAnimationEnd")):N=!1;var X=function(e,t,n){function o(){u&&f&&(e.clone.parentNode.removeChild(e.clone),t.clone.parentNode.removeChild(t.clone),n.done&&n.done(),c())}p(this,X);var i=h(e,t,n),r=i.fromKeyframes,a=i.toKeyframes,s="_"+~~(1e6*Math.random()),d="_"+~~(1e6*Math.random()),l=L+" "+s+" { "+r+" } "+L+" "+d+" { "+a+" }",c=y(l);e.clone.style[O]="alternate",e.clone.style[B]=n.duration/1e3+"s",e.clone.style[F]=1,e.clone.style[M]=s,e.clone.style[D]="linear",t.clone.style[O]="alternate",t.clone.style[B]=n.duration/1e3+"s",t.clone.style[F]=1,t.clone.style[M]=d,t.clone.style[D]="linear";var u=void 0,f=void 0;e.clone.addEventListener(K,function(){u=!0,o()}),t.clone.addEventListener(K,function(){f=!0,o()})},q=X,U={transform:function(t,o){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];"function"==typeof i&&(i={done:i}),"duration"in i||(i.duration=400);var a=!!i.appendToBody,s=r(o),d=n(t,s,i.overrideClone,a),l=n(o,s,i.overrideClone,a);return(d.isSvg||l.isSvg&&!x)&&e(),!N||i.useTimer||d.isSvg||l.isSvg?new I(d,l,i):new q(d,l,i)},hide:function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];t.forEach(o)},show:function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];t.forEach(i)},linear:d,easeIn:l,easeOut:c,easeInOut:u};return U});
