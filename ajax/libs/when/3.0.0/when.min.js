(function(a){a(function(m){var o=m("./lib/timer");var w=m("./lib/timed");var l=m("./lib/array");var f=m("./lib/flow");var A=m("./lib/inspect");var u=m("./lib/iterate");var k=m("./lib/progress");var y=m("./lib/with");var e=m("./lib/Promise");e=[l,f,u,k,A,y].reduceRight(function(C,B){return B(C)},w(o.set,o.clear,e));var v=e.resolve;var t=Array.prototype.slice;j.promise=s;j.resolve=e.resolve;j.reject=e.reject;j.lift=n;j["try"]=i;j.attempt=i;j.iterate=e.iterate;j.unfold=e.unfold;j.join=r;j.all=c;j.settle=q;j.any=n(e.any);j.some=n(e.some);j.map=z;j.reduce=p;j.reduceRight=x;j.isPromiseLike=g;j.Promise=e;j.defer=d;function j(B,F,C,E){var D=v(B);return arguments.length<2?D:D.then(F,C,E)}function s(B){return new e(B)}function n(B){return function(){return h(B,this,t.call(arguments))}}function i(B){return h(B,this,t.call(arguments,1))}function h(D,B,C){return e.all(C).then(function(E){return D.apply(B,E)})}function d(){return new b()}function b(){var E=e._defer();function D(F){E._handler.resolve(F)}function C(F){E._handler.reject(F)}function B(F){E._handler.notify(F)}this.promise=E;this.resolve=D;this.reject=C;this.notify=B;this.resolver={resolve:D,reject:C,notify:B}}function g(B){return B&&typeof B.then==="function"}function r(){return e.all(arguments)}function c(B){return j(B,e.all)}function q(B){return j(B,e.settle)}function z(B,C){return j(B,function(D){return e.map(D,C)})}function p(C,D){var B=t.call(arguments,1);return j(C,function(E){B.unshift(E);return e.reduce.apply(e,B)})}function x(C,D){var B=t.call(arguments,1);return j(C,function(E){B.unshift(E);return e.reduceRight.apply(e,B)})}return j})})(typeof define==="function"&&define.amd?define:function(a){module.exports=a(require)});