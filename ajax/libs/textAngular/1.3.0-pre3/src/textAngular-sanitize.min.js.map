{"version":3,"sources":["textAngular/1.3.0-pre3/src/textAngular-sanitize.js"],"names":["window","angular","undefined","$SanitizeProvider","this","$get","$$sanitizeUri","html","buf","htmlParser","htmlSanitizeWriter","uri","isImage","test","join","sanitizeText","chars","writer","noop","makeMap","str","i","obj","items","split","length","handler","parseStartTag","tag","tagName","rest","unary","lowercase","blockElements","stack","last","inlineElements","parseEndTag","optionalEndTagElements","voidElements","push","attrs","replace","ATTR_REGEXP","match","name","doubleQuotedValue","singleQuotedValue","unquotedValue","value","decodeEntities","start","pos","end","index","specialElements","RegExp","all","text","COMMENT_REGEXP","CDATA_REGEXP","indexOf","lastIndexOf","comment","substring","DOCTYPE_REGEXP","BEGING_END_TAGE_REGEXP","END_TAG_REGEXP","BEGIN_TAG_REGEXP","START_TAG_REGEXP","$sanitizeMinErr","parts","spaceRe","exec","spaceBefore","spaceAfter","content","hiddenPre","innerHTML","textContent","innerText","encodeEntities","SURROGATE_PAIR_REGEXP","hi","charCodeAt","low","NON_ALPHANUMERIC_REGEXP","c","validStyles","styleAttr","result","styleArray","forEach","v","key","trim","validCustomTag","lkey","uriValidator","ignore","out","bind","validElements","validAttrs","uriAttrs","$$minErr","optionalEndTagBlockElements","optionalEndTagInlineElements","extend","document","createElement","String","prototype","isString","module","provider","filter","$sanitize","LINKY_URL_REGEXP","MAILTO_REGEXP","target","addText","addLink","url","isDefined","raw","substr"],"mappings":"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","file":"textAngular/1.3.0-pre3/src/textAngular-sanitize.min.js"}