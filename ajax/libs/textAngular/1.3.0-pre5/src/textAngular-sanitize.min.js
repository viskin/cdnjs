!function(t,e,r){"use strict";function n(){this.$get=["$$sanitizeUri",function(t){return function(e){var r=[];return s(e,f(r,function(e,r){return!/^unsafe/.test(t(e,r))})),r.join("")}}]}function a(t){var r=[],n=f(r,e.noop);return n.chars(t),r.join("")}function i(t){var e,r={},n=t.split(",");for(e=0;e<n.length;e++)r[n[e]]=!0;return r}function s(t,r){function n(t,n,i,s){if(n=e.lowercase(n),D[n])for(;u.last()&&S[u.last()];)a("",u.last());A[n]&&u.last()==n&&a("",n),s=z[n]||!!s,s||u.push(n);var c={};i.replace(d,function(t,e,r,n,a){var i=r||n||a||"";c[e]=o(i)}),r.start&&r.start(n,c,s)}function a(t,n){var a,i=0;if(n=e.lowercase(n))for(i=u.length-1;i>=0&&u[i]!=n;i--);if(i>=0){for(a=u.length-1;a>=i;a--)r.end&&r.end(u[a]);u.length=i}}"string"!=typeof t&&(t=null===t||"undefined"==typeof t?"":""+t);var i,s,c,l,u=[],f=t;for(u.last=function(){return u[u.length-1]};t;){if(l="",s=!0,u.last()&&E[u.last()]?(t=t.replace(new RegExp("(.*)<\\s*\\/\\s*"+u.last()+"[^>]*>","i"),function(t,e){return e=e.replace(v,"$1").replace(x,"$1"),r.chars&&r.chars(o(e)),""}),a("",u.last())):(0===t.indexOf("<!--")?(i=t.indexOf("--",4),i>=0&&t.lastIndexOf("-->",i)===i&&(r.comment&&r.comment(t.substring(4,i)),t=t.substring(i+3),s=!1)):w.test(t)?(c=t.match(w),c&&(t=t.replace(c[0],""),s=!1)):b.test(t)?(c=t.match(g),c&&(t=t.substring(c[0].length),c[0].replace(g,a),s=!1)):m.test(t)&&(c=t.match(p),c?(c[4]&&(t=t.substring(c[0].length),c[0].replace(p,n)),s=!1):(l+="<",t=t.substring(1))),s&&(i=t.indexOf("<"),l+=0>i?t:t.substring(0,i),t=0>i?"":t.substring(i),r.chars&&r.chars(o(l)))),t==f)throw h("badparse","The sanitizer was unable to parse the following block of html: {0}",t);f=t}a()}function o(t){if(!t)return"";var e=q.exec(t),r=e[1],n=e[3],a=e[2];return a&&(j.innerHTML=a.replace(/</g,"&lt;"),a="textContent"in j?j.textContent:j.innerText),r+a+n}function c(t){return t.replace(/&/g,"&amp;").replace($,function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1);return"&#"+(1024*(e-55296)+(r-56320)+65536)+";"}).replace(y,function(t){var e=t.charCodeAt(0);return 159>=e||173==e||e>=1536&&1540>=e||1807==e||6068==e||6069==e||e>=8204&&8207>=e||e>=8232&&8239>=e||e>=8288&&8303>=e||65279==e||e>=65520&&65535>=e?"&#"+e+";":t}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function l(t){var r="",n=t.split(";");return e.forEach(n,function(t){var n=t.split(":");if(2==n.length){var a=Z(e.lowercase(n[0])),t=Z(e.lowercase(n[1]));(("color"===a||"background-color"===a)&&(t.match(/^rgb\([0-9%,\. ]*\)$/i)||t.match(/^rgba\([0-9%,\. ]*\)$/i)||t.match(/^hsl\([0-9%,\. ]*\)$/i)||t.match(/^hsla\([0-9%,\. ]*\)$/i)||t.match(/^#[0-9a-f]{3,6}$/i)||t.match(/^[a-z]*$/i))||"text-align"===a&&("left"===t||"right"===t||"center"===t||"justify"===t)||"float"===a&&("left"===t||"right"===t||"none"===t)||("width"===a||"height"===a)&&t.match(/[0-9\.]*(px|em|rem|%)/))&&(r+=a+": "+t+";")}}),r}function u(t,e,r,n){return!("img"!==t||!e["ta-insert-video"]||"ta-insert-video"!==r&&"allowfullscreen"!==r&&"frameborder"!==r&&("contenteditble"!==r||"false"!==n))}function f(t,r){var n=!1,a=e.bind(t,t.push);return{start:function(t,i,s){t=e.lowercase(t),!n&&E[t]&&(n=t),n||F[t]!==!0||(a("<"),a(t),e.forEach(i,function(n,s){var o=e.lowercase(s),f="img"===t&&"src"===o||"background"===o;("style"===o&&""!==(n=l(n))||u(t,i,o,n)||T[o]===!0&&(O[o]!==!0||r(n,f)))&&(a(" "),a(s),a('="'),a(c(n)),a('"'))}),a(s?"/>":">"))},end:function(t){t=e.lowercase(t),n||F[t]!==!0||(a("</"),a(t),a(">")),t==n&&(n=!1)},chars:function(t){n||a(c(t))}}}var h=e.$$minErr("$sanitize"),p=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,g=/^<\/\s*([\w:-]+)[^>]*>/,d=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,m=/^</,b=/^<\//,v=/<!--(.*?)-->/g,w=/<!DOCTYPE([^>]*?)>/i,x=/<!\[CDATA\[(.*?)]]>/g,$=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,y=/([^\#-~| |!])/g,z=i("area,br,col,hr,img,wbr"),k=i("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),C=i("rp,rt"),A=e.extend({},C,k),D=e.extend({},k,i("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),S=e.extend({},C,i("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),E=i("script,style"),F=e.extend({},z,D,S,A),O=i("background,cite,href,longdesc,src,usemap"),T=e.extend({},O,i("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width")),j=document.createElement("pre"),q=/^(\s*)([\s\S]*?)(\s*)$/,Z=function(){return String.prototype.trim?function(t){return e.isString(t)?t.trim():t}:function(t){return e.isString(t)?t.replace(/^\s\s*/,"").replace(/\s\s*$/,""):t}}();e.module("ngSanitize",[]).provider("$sanitize",n),e.module("ngSanitize").filter("linky",["$sanitize",function(t){var r=/((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"]/,n=/^mailto:/;return function(i,s){function o(t){t&&p.push(a(t))}function c(t,r){p.push("<a "),e.isDefined(s)&&(p.push('target="'),p.push(s),p.push('" ')),p.push('href="'),p.push(t),p.push('">'),o(r),p.push("</a>")}if(!i)return i;for(var l,u,f,h=i,p=[];l=h.match(r);)u=l[0],l[2]==l[3]&&(u="mailto:"+u),f=l.index,o(h.substr(0,f)),c(u,l[0].replace(n,"")),h=h.substring(f+l[0].length);return o(h),t(p.join(""))}}])}(window,window.angular);
//# sourceMappingURL=./textAngular-sanitize.min.js.map