var aragonite=function(){var e=this,t=null;return Regex={alphaNumeric:/^[A-Z,a-z,0-9, -_]+$/,string:/^[A-Z,a-z ,.'-]+$/,email:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,phone:/^[0-9]{10,15}/,required:"",visa:/^4[0-9]{12}(?:[0-9]{3})?$/,masterCard:/^5[1-5][0-9]{14}$/,amex:/^3[47][0-9]{13}$/,discover:/^6(?:011|5[0-9]{2})[0-9]{12}$/,cvv:/^[0-9]{3,4}/},controller={validate:function(e){function t(e,t){return e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}if(e.value.match(Regex[e.dataType])){if(t(e.field,"required")){var a=new RegExp("(\\s|^)required(\\s|$)");e.field.className=e.field.className.replace(a," ")}}else e.field.setAttribute("class","required");e.optional&&e.value.length>0&&(e.field.className=e.field.className.replace(a," "))},submit:function(t){var a=e.elements;if(a)var n=a.length;else{this.elements=document.getElementsByTagName("input");var a=this.elements,n=a.length}for(var i=0;n>i;i++)e.controller.validate({field:a[i],value:a[i].value,dataType:a[i].getAttribute("data-type"),optional:a[i].getAttribute("data-optional")});return document.getElementsByClassName("required").length?!1:void t.submit(this.form)}},init=function(a){t=document.getElementById(a);for(var n=[],i=t.children,r=0;r<i.length;r++)n.push(i[r]);var l=n.length,u=function(){for(var t=0;l>t;t++)for(var a=["keyup","blur"],i=0;i<a.length;i++)n[t].addEventListener?n[t].addEventListener(a[i],function(t){var a;t.target?a=t.target:t.srcElement&&(a=t.srcElement),e.controller.validate({field:a,value:a.value,dataType:a.getAttribute("data-type"),optional:a.getAttribute("data-optional")})}):n[t].attachEvent&&n[t].attachEvent(a[i],function(t){var a;t.target?a=t.target:t.srcElement&&(a=t.srcElement),e.controller.validate({field:a,value:a.value,dataType:a.getAttribute("data-type"),optional:a.getAttribute("data-optional")})})};u(),t.addEventListener?(t.addEventListener("keyup",function(a){return 32===a.which?!1:void(13===a.which?e.controller.submit(t):9===a.which&&u())}),t.addEventListener("submit",function(a){a.preventDefault(),e.controller.submit(t)})):t.attachEvent&&(t.attachEvent("keyup",function(a){return 32===a.which?!1:void(13===a.which?e.controller.submit(t):9===a.which&&u())}),t.attachEvent("submit",function(a){a.preventDefault(),e.controller.submit(t)}))},{init:init}}();