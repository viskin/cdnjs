(function(a){if(typeof define==="function"&&define.amd){define(["load-image"],a)}else{a(window.loadImage)}}(function(b){var a=b.hasCanvasOption;b.hasCanvasOption=function(c){return a(c)||c.orientation};b.transformCoordinates=function(g,f){var d=g.getContext("2d"),h=g.width,c=g.height,e=f.orientation;if(!e){return}if(e>4){g.width=c;g.height=h}switch(e){case 2:d.translate(h,0);d.scale(-1,1);break;case 3:d.translate(h,c);d.rotate(Math.PI);break;case 4:d.translate(0,c);d.scale(1,-1);break;case 5:d.rotate(0.5*Math.PI);d.scale(1,-1);break;case 6:d.rotate(0.5*Math.PI);d.translate(0,-c);break;case 7:d.rotate(0.5*Math.PI);d.translate(h,-c);d.scale(-1,1);break;case 8:d.rotate(-0.5*Math.PI);d.translate(-h,0);break}};b.getTransformedOptions=function(c){if(!c.orientation||c.orientation===1){return c}var e={},d;for(d in c){if(c.hasOwnProperty(d)){e[d]=c[d]}}switch(c.orientation){case 2:e.left=c.right;e.right=c.left;break;case 3:e.left=c.right;e.top=c.bottom;e.right=c.left;e.bottom=c.top;break;case 4:e.top=c.bottom;e.bottom=c.top;break;case 5:e.left=c.top;e.top=c.left;e.right=c.bottom;e.bottom=c.right;break;case 6:e.left=c.top;e.top=c.right;e.right=c.bottom;e.bottom=c.left;break;case 7:e.left=c.bottom;e.top=c.right;e.right=c.top;e.bottom=c.left;break;case 8:e.left=c.bottom;e.top=c.left;e.right=c.top;e.bottom=c.right;break}if(c.orientation>4){e.maxWidth=c.maxHeight;e.maxHeight=c.maxWidth;e.minWidth=c.minHeight;e.minHeight=c.minWidth;e.sourceWidth=c.sourceHeight;e.sourceHeight=c.sourceWidth}return e}}));