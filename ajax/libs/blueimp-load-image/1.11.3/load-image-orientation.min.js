(function(a){if(typeof define==="function"&&define.amd){define(["load-image"],a)}else{a(window.loadImage)}}(function(b){var a=b.hasCanvasOption;b.hasCanvasOption=function(c){return a(c)||c.orientation};b.transformCoordinates=function(g,f){var d=g.getContext("2d"),h=g.width,c=g.height,e=f.orientation;if(!e||e>8){return}if(e>4){g.width=c;g.height=h}switch(e){case 2:d.translate(h,0);d.scale(-1,1);break;case 3:d.translate(h,c);d.rotate(Math.PI);break;case 4:d.translate(0,c);d.scale(1,-1);break;case 5:d.rotate(0.5*Math.PI);d.scale(1,-1);break;case 6:d.rotate(0.5*Math.PI);d.translate(0,-c);break;case 7:d.rotate(0.5*Math.PI);d.translate(h,-c);d.scale(-1,1);break;case 8:d.rotate(-0.5*Math.PI);d.translate(-h,0);break}};b.getTransformedOptions=function(d){var c=d.orientation,f,e;if(!c||c>8||c===1){return d}f={};for(e in d){if(d.hasOwnProperty(e)){f[e]=d[e]}}switch(d.orientation){case 2:f.left=d.right;f.right=d.left;break;case 3:f.left=d.right;f.top=d.bottom;f.right=d.left;f.bottom=d.top;break;case 4:f.top=d.bottom;f.bottom=d.top;break;case 5:f.left=d.top;f.top=d.left;f.right=d.bottom;f.bottom=d.right;break;case 6:f.left=d.top;f.top=d.right;f.right=d.bottom;f.bottom=d.left;break;case 7:f.left=d.bottom;f.top=d.right;f.right=d.top;f.bottom=d.left;break;case 8:f.left=d.bottom;f.top=d.left;f.right=d.top;f.bottom=d.right;break}if(d.orientation>4){f.maxWidth=d.maxHeight;f.maxHeight=d.maxWidth;f.minWidth=d.minHeight;f.minHeight=d.minWidth;f.sourceWidth=d.sourceHeight;f.sourceHeight=d.sourceWidth}return f}}));