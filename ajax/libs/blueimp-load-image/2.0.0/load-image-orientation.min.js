(function(a){if(typeof define==="function"&&define.amd){define(["load-image"],a)}else{if(typeof module==="object"&&module.exports){a(require("./load-image"))}else{a(window.loadImage)}}}(function(c){var b=c.hasCanvasOption,d=c.transformCoordinates,a=c.getTransformedOptions;c.hasCanvasOption=function(e){return b.call(c,e)||e.orientation};c.transformCoordinates=function(i,h){d.call(c,i,h);var f=i.getContext("2d"),j=i.width,e=i.height,g=h.orientation;if(!g||g>8){return}if(g>4){i.width=e;i.height=j}switch(g){case 2:f.translate(j,0);f.scale(-1,1);break;case 3:f.translate(j,e);f.rotate(Math.PI);break;case 4:f.translate(0,e);f.scale(1,-1);break;case 5:f.rotate(0.5*Math.PI);f.scale(1,-1);break;case 6:f.rotate(0.5*Math.PI);f.translate(0,-e);break;case 7:f.rotate(0.5*Math.PI);f.translate(j,-e);f.scale(-1,1);break;case 8:f.rotate(-0.5*Math.PI);f.translate(-j,0);break}};c.getTransformedOptions=function(f,j){var g=a.call(c,f,j),e=g.orientation,k,h;if(!e||e>8||e===1){return g}k={};for(h in g){if(g.hasOwnProperty(h)){k[h]=g[h]}}switch(g.orientation){case 2:k.left=g.right;k.right=g.left;break;case 3:k.left=g.right;k.top=g.bottom;k.right=g.left;k.bottom=g.top;break;case 4:k.top=g.bottom;k.bottom=g.top;break;case 5:k.left=g.top;k.top=g.left;k.right=g.bottom;k.bottom=g.right;break;case 6:k.left=g.top;k.top=g.right;k.right=g.bottom;k.bottom=g.left;break;case 7:k.left=g.bottom;k.top=g.right;k.right=g.top;k.bottom=g.left;break;case 8:k.left=g.bottom;k.top=g.left;k.right=g.top;k.bottom=g.right;break}if(g.orientation>4){k.maxWidth=g.maxHeight;k.maxHeight=g.maxWidth;k.minWidth=g.minHeight;k.minHeight=g.minWidth;k.sourceWidth=g.sourceHeight;k.sourceHeight=g.sourceWidth}return k}}));