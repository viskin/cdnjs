/*!
Plottable v0.7.0 (https://github.com/palantir/plottable)
Copyright 2014 Palantir Technologies
Licensed under MIT (https://github.com/palantir/plottable/blob/master/LICENSE)
*/
;var Plottable;(function(a){(function(f){function h(j,k,i){return(Math.min(k,i)<=j&&j<=Math.max(k,i))}f.inRange=h;function g(i){return i.node().getBBox()}f.getBBox=g;function e(r,j,n){var m=n.text();n.text(r);var s=f.getBBox(n);var t=s.width;if(t<j){n.text(m);return r}n.text(r+"...");var k=n.node();var o=k.getSubStringLength(k.textContent.length-3,3);if(o>j){n.text(m);return""}var p=r.length;for(var l=1;l<p;l++){var q=k.getSubStringLength(0,l);if(q+o>j){n.text(m);return r.substr(0,l-1).trim()+"..."}}}f.truncateTextToLength=e;function d(j){var k=j.text();j.text("bqpdl");var i=f.getBBox(j).height;j.text(k);return i}f.getTextHeight=d;function c(j){var k=j.node().clientWidth;if(k===0){var l=j.attr("width");if(l.indexOf("%")!==-1){var i=j.node().parentNode;while(i!=null&&i.clientWidth===0){i=i.parentNode}if(i==null){throw new Error("Could not compute width of element")}k=i.clientWidth*parseFloat(l)/100}else{k=parseFloat(l)}}return k}f.getSVGPixelWidth=c})(a.Utils||(a.Utils={}));var b=a.Utils})(Plottable||(Plottable={}));var Plottable;(function(a){(function(c){function d(k,h,g){var f=0;var j=h.length;while(f<j){var i=(f+j)>>>1;var e=g==null?h[i]:g(h[i]);if(e<k){f=i+1}else{j=i}}return f}c.sortedIndex=d})(a.OSUtils||(a.OSUtils={}));var b=a.OSUtils})(Plottable||(Plottable={}));var Plottable;(function(a){var b=(function(){function c(){this.interactionsToRegister=[];this.boxes=[];this.clipPathEnabled=false;this._fixedWidth=true;this._fixedHeight=true;this._rowMinimum=0;this._colMinimum=0;this.isTopLevelComponent=false;this._xOffset=0;this._yOffset=0;this._xAlignProportion=0;this._yAlignProportion=0;this.cssClasses=["component"]}c.prototype._anchor=function(d){var e=this;if(d.node().childNodes.length>0){throw new Error("Can't anchor to a non-empty element")}if(d.node().nodeName==="svg"){this.rootSVG=d;this.rootSVG.classed("plottable",true);this.element=d.append("g");this.isTopLevelComponent=true}else{this.element=d}this.cssClasses.forEach(function(f){e.element.classed(f,true)});this.cssClasses=null;this.backgroundContainer=this.element.append("g").classed("background-container",true);this.content=this.element.append("g").classed("content",true);this.foregroundContainer=this.element.append("g").classed("foreground-container",true);this.boxContainer=this.element.append("g").classed("box-container",true);if(this.clipPathEnabled){this.generateClipPath()}this.addBox("bounding-box");this.interactionsToRegister.forEach(function(f){return e.registerInteraction(f)});this.interactionsToRegister=null;return this};c.prototype._computeLayout=function(i,d,f,h){var j=this;if(i==null||d==null||f==null||h==null){if(this.element==null){throw new Error("anchor must be called before computeLayout")}else{if(this.isTopLevelComponent){i=0;d=0;f=parseFloat(this.rootSVG.attr("width"));h=parseFloat(this.rootSVG.attr("height"))}else{throw new Error("null arguments cannot be passed to _computeLayout() on a non-root node")}}}this.xOrigin=i;this.yOrigin=d;var g=this.xOrigin;var e=this.yOrigin;g+=(f-this.colMinimum())*this._xAlignProportion;g+=this._xOffset;if(this.colMinimum()!==0&&this.isFixedWidth()){f=f>this.colMinimum()?this.colMinimum():f}e+=(h-this.rowMinimum())*this._yAlignProportion;e+=this._yOffset;if(this.rowMinimum()!==0&&this.isFixedHeight()){h=h>this.rowMinimum()?this.rowMinimum():h}this.availableWidth=f;this.availableHeight=h;this.element.attr("transform","translate("+g+","+e+")");this.boxes.forEach(function(k){return k.attr("width",j.availableWidth).attr("height",j.availableHeight)});return this};c.prototype._render=function(){return this};c.prototype.renderTo=function(d){if(this.element==null){this._anchor(d)}this._computeLayout()._render();return this};c.prototype.xAlign=function(d){d=d.toLowerCase();if(d==="left"){this._xAlignProportion=0}else{if(d==="center"){this._xAlignProportion=0.5}else{if(d==="right"){this._xAlignProportion=1}else{throw new Error("Unsupported alignment")}}}return this};c.prototype.yAlign=function(d){d=d.toLowerCase();if(d==="top"){this._yAlignProportion=0}else{if(d==="center"){this._yAlignProportion=0.5}else{if(d==="bottom"){this._yAlignProportion=1}else{throw new Error("Unsupported alignment")}}}return this};c.prototype.xOffset=function(d){this._xOffset=d;return this};c.prototype.yOffset=function(d){this._yOffset=d;return this};c.prototype.addBox=function(e,d){if(this.element==null){throw new Error("Adding boxes before anchoring is currently disallowed")}var d=d==null?this.boxContainer:d;var f=d.append("rect");if(e!=null){f.classed(e,true)}this.boxes.push(f);if(this.availableWidth!=null&&this.availableHeight!=null){f.attr("width",this.availableWidth).attr("height",this.availableHeight)}return f};c.prototype.generateClipPath=function(){var d=c.clipPathId++;this.element.attr("clip-path","url(#clipPath"+d+")");var e=this.boxContainer.append("clipPath").attr("id","clipPath"+d);this.addBox("clip-rect",e)};c.prototype.registerInteraction=function(d){if(this.element!=null){if(this.hitBox==null){this.hitBox=this.addBox("hit-box");this.hitBox.style("fill","#ffffff").style("opacity",0)}d._anchor(this.hitBox)}else{this.interactionsToRegister.push(d)}return this};c.prototype.classed=function(d,f){if(f==null){if(d==null){return false}else{if(this.element==null){return(this.cssClasses.indexOf(d)!==-1)}else{return this.element.classed(d)}}}else{if(d==null){return this}if(this.element==null){var e=this.cssClasses.indexOf(d);if(f&&e===-1){this.cssClasses.push(d)}else{if(!f&&e!==-1){this.cssClasses.splice(e,1)}}}else{this.element.classed(d,f)}return this}};c.prototype.rowMinimum=function(d){if(d!=null){this._rowMinimum=d;return this}else{return this._rowMinimum}};c.prototype.colMinimum=function(d){if(d!=null){this._colMinimum=d;return this}else{return this._colMinimum}};c.prototype.isFixedWidth=function(){return this._fixedWidth};c.prototype.isFixedHeight=function(){return this._fixedHeight};c.prototype.merge=function(e){var d;if(a.ComponentGroup.prototype.isPrototypeOf(e)){d=e;d._addComponentToGroup(this,true);return d}else{d=new a.ComponentGroup([this,e]);return d}};c.clipPathId=0;return c})();a.Component=b})(Plottable||(Plottable={}));var __extends=this.__extends||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}c.prototype=a.prototype;f.prototype=new c()};var Plottable;(function(a){var c=(function(){function g(h){this._broadcasterCallbacks=[];this._d3Scale=h}g.prototype.scale=function(h){return this._d3Scale(h)};g.prototype.domain=function(h){var i=this;if(h==null){return this._d3Scale.domain()}else{this._d3Scale.domain(h);this._broadcasterCallbacks.forEach(function(j){return j(i)});return this}};g.prototype.range=function(h){if(h==null){return this._d3Scale.range()}else{this._d3Scale.range(h);return this}};g.prototype.copy=function(){return new g(this._d3Scale.copy())};g.prototype.registerListener=function(h){this._broadcasterCallbacks.push(h);return this};return g})();a.Scale=c;var f=(function(g){__extends(h,g);function h(){g.call(this,d3.scale.ordinal());this.END_PADDING=0.5;this._range=[0,1]}h.prototype.domain=function(i){var j=this;if(i==null){return this._d3Scale.domain()}else{this._d3Scale.domain(i);this._broadcasterCallbacks.forEach(function(k){return k(j)});this._d3Scale.rangePoints(this.range(),2*this.END_PADDING);return this}};h.prototype.range=function(i){if(i==null){return this._range}else{this._range=i;this._d3Scale.rangePoints(i,2*this.END_PADDING);return this}};return h})(c);a.OrdinalScale=f;var e=(function(g){__extends(h,g);function h(i){g.call(this,i);this.lastRequestedTickCount=10}h.prototype.invert=function(i){return this._d3Scale.invert(i)};h.prototype.copy=function(){return new h(this._d3Scale.copy())};h.prototype.widenDomain=function(k){var j=this.domain();var i=[Math.min(k[0],j[0]),Math.max(k[1],j[1])];this.domain(i);return this};h.prototype.widenDomainOnData=function(k,i){var j=d3.extent(k,i);this.widenDomain(j);return this};h.prototype.interpolate=function(i){if(i==null){return this._d3Scale.interpolate()}this._d3Scale.interpolate(i);return this};h.prototype.rangeRound=function(i){this._d3Scale.rangeRound(i);return this};h.prototype.clamp=function(i){if(i==null){return this._d3Scale.clamp()}this._d3Scale.clamp(i);return this};h.prototype.nice=function(i){this._d3Scale.nice(i);this.domain(this._d3Scale.domain());return this};h.prototype.ticks=function(i){if(i!=null){this.lastRequestedTickCount=i}return this._d3Scale.ticks(this.lastRequestedTickCount)};h.prototype.tickFormat=function(i,j){return this._d3Scale.tickFormat(i,j)};h.prototype.padDomain=function(k){if(typeof k==="undefined"){k=0.05}var j=this.domain();var i=j[1]-j[0];var l=[j[0]-k/2*i,j[1]+k/2*i];this.domain(l);return this};return h})(c);a.QuantitiveScale=e;var d=(function(h){__extends(g,h);function g(i){h.call(this,i==null?d3.scale.linear():i);this.domain([Infinity,-Infinity])}g.prototype.copy=function(){return new g(this._d3Scale.copy())};return g})(e);a.LinearScale=d;var b=(function(h){__extends(g,h);function g(i){var j;switch(i){case"Category10":case"category10":case"10":j=d3.scale.category10();break;case"Category20":case"category20":case"20":j=d3.scale.category20();break;case"Category20b":case"category20b":case"20b":j=d3.scale.category20b();break;case"Category20c":case"category20c":case"20c":j=d3.scale.category20c();break;case null:case undefined:j=d3.scale.ordinal();break;default:throw new Error("Unsupported ColorScale type")}h.call(this,j)}return g})(c);a.ColorScale=b})(Plottable||(Plottable={}));var Plottable;(function(a){var d=(function(){function h(i){this.componentToListenTo=i}h.prototype._anchor=function(i){this.hitBox=i};h.prototype.registerWithComponent=function(){this.componentToListenTo.registerInteraction(this);return this};return h})();a.Interaction=d;var g=(function(h){__extends(i,h);function i(l,k,j){var m=this;h.call(this,l);this.xScale=k;this.yScale=j;this.zoom=d3.behavior.zoom();this.zoom.x(this.xScale._d3Scale);this.zoom.y(this.yScale._d3Scale);this.zoom.on("zoom",function(){return m.rerenderZoomed()})}i.prototype._anchor=function(j){h.prototype._anchor.call(this,j);this.zoom(j)};i.prototype.rerenderZoomed=function(){var j=this.xScale._d3Scale.domain();var k=this.yScale._d3Scale.domain();this.xScale.domain(j);this.yScale.domain(k)};return i})(d);a.PanZoomInteraction=g;var c=(function(i){__extends(h,i);function h(j){var k=this;i.call(this,j);this.dragInitialized=false;this.origin=[0,0];this.location=[0,0];this.dragBehavior=d3.behavior.drag();this.dragBehavior.on("dragstart",function(){return k.dragstart()});this.dragBehavior.on("drag",function(){return k.drag()});this.dragBehavior.on("dragend",function(){return k.dragend()})}h.prototype.callback=function(j){this.callbackToCall=j;return this};h.prototype.dragstart=function(){this.clearBox();var j=parseFloat(this.hitBox.attr("width"));var l=parseFloat(this.hitBox.attr("height"));var k=function(n,m){return function(o){return Math.min(Math.max(o,n),m)}};this.constrainX=k(0,j);this.constrainY=k(0,l)};h.prototype.drag=function(){if(!this.dragInitialized){this.origin=[d3.event.x,d3.event.y];this.dragInitialized=true}this.location=[this.constrainX(d3.event.x),this.constrainY(d3.event.y)];var l=Math.abs(this.origin[0]-this.location[0]);var k=Math.abs(this.origin[1]-this.location[1]);var j=Math.min(this.origin[0],this.location[0]);var m=Math.min(this.origin[1],this.location[1]);this.dragBox.attr("x",j).attr("y",m).attr("height",k).attr("width",l)};h.prototype.dragend=function(){if(!this.dragInitialized){return}this.dragInitialized=false;if(this.callbackToCall==null){return}var k=Math.min(this.origin[0],this.location[0]);var n=Math.max(this.origin[0],this.location[0]);var j=Math.min(this.origin[1],this.location[1]);var m=Math.max(this.origin[1],this.location[1]);var l={xMin:k,xMax:n,yMin:j,yMax:m};this.callbackToCall(l)};h.prototype.clearBox=function(){this.dragBox.attr("height",0).attr("width",0);return this};h.prototype._anchor=function(l){i.prototype._anchor.call(this,l);var j=h.CLASS_DRAG_BOX;var k=this.componentToListenTo.backgroundContainer;this.dragBox=k.append("rect").classed(j,true).attr("x",0).attr("y",0);l.call(this.dragBehavior);return this};h.CLASS_DRAG_BOX="drag-box";return h})(d);a.AreaInteraction=c;var f=(function(){function h(){this.xScaleMappings=[];this.yScaleMappings=[]}h.prototype.addXScale=function(j,i){if(i==null){i=j}this.xScaleMappings.push([j,i]);return this};h.prototype.addYScale=function(j,i){if(i==null){i=j}this.yScaleMappings.push([j,i]);return this};h.prototype.updateScale=function(o,m,i,k){var j=o.domain();var l=[o.invert(i),o.invert(k)];var n=(l[0]<l[1])===(j[0]<j[1]);if(!n){l.reverse()}m.domain(l)};h.prototype.getCallback=function(){var i=this;return function(j){i.xScaleMappings.forEach(function(k){i.updateScale(k[0],k[1],j.xMin,j.xMax)});i.yScaleMappings.forEach(function(k){i.updateScale(k[0],k[1],j.yMin,j.yMax)})}};return h})();a.ZoomCallbackGenerator=f;var b=(function(i){__extends(h,i);function h(j){i.call(this,j)}h.prototype._anchor=function(j){var k=this;i.prototype._anchor.call(this,j);j.on("mousemove",function(){var m=d3.mouse(j.node());var l=m[0];var n=m[1];k.mousemove(l,n)})};h.prototype.mousemove=function(j,k){return};return h})(d);a.MousemoveInteraction=b;var e=(function(h){__extends(i,h);function i(j){var k=this;h.call(this,j);this.renderer=j;j.xScale.registerListener(function(){return k.rescale()});j.yScale.registerListener(function(){return k.rescale()})}i.prototype._anchor=function(k){h.prototype._anchor.call(this,k);var j=this.renderer.foregroundContainer.append("g").classed("crosshairs",true);this.circle=j.append("circle").classed("centerpoint",true);this.xLine=j.append("path").classed("x-line",true);this.yLine=j.append("path").classed("y-line",true);this.circle.attr("r",5)};i.prototype.mousemove=function(v,t){this.lastx=v;this.lasty=t;var m=this.renderer.xScale.invert(v);var p=this.renderer._data;var o=this.renderer._getAppliedAccessor(this.renderer._xAccessor);var k=this.renderer._getAppliedAccessor(this.renderer._yAccessor);var u=a.OSUtils.sortedIndex(m,p,o);u=u>0?u-1:0;var j=p[u];var s=o(j,u);var r=k(j,u);var q=this.renderer.xScale.scale(s);var n=this.renderer.yScale.scale(r);this.circle.attr("cx",q).attr("cy",n);var l=this.renderer.availableWidth;var w=this.renderer.availableHeight;this.xLine.attr("d","M 0 "+n+" L "+l+" "+n);this.yLine.attr("d","M "+q+" 0 L "+q+" "+w)};i.prototype.rescale=function(){if(this.lastx!=null){this.mousemove(this.lastx,this.lasty)}};return i})(b);a.CrosshairsInteraction=e})(Plottable||(Plottable={}));var Plottable;(function(a){var d=(function(e){__extends(f,e);function f(h,g){if(typeof h==="undefined"){h=""}if(typeof g==="undefined"){g="horizontal"}e.call(this);this.classed("label",true);this.setText(h);g=g.toLowerCase();if(g==="horizontal"||g==="vertical-left"||g==="vertical-right"){this.orientation=g;if(g==="horizontal"){this._fixedWidth=false}else{this._fixedHeight=false}}else{throw new Error(g+" is not a valid orientation for LabelComponent")}this.xAlign("CENTER").yAlign("CENTER")}f.prototype._anchor=function(g){e.prototype._anchor.call(this,g);this.textElement=this.content.append("text");this.setText(this.text);return this};f.prototype.setText=function(g){this.text=g;if(this.element!=null){this.textElement.text(g);this.measureAndSetTextSize()}return this};f.prototype.measureAndSetTextSize=function(){var g=a.Utils.getBBox(this.textElement);this.textHeight=g.height;this.textLength=g.width;if(this.orientation==="horizontal"){this.rowMinimum(this.textHeight)}else{this.colMinimum(this.textHeight)}};f.prototype.truncateTextAndRemeasure=function(g){var h=a.Utils.truncateTextToLength(this.text,g,this.textElement);this.textElement.text(h);this.measureAndSetTextSize()};f.prototype._computeLayout=function(g,l,h,k){e.prototype._computeLayout.call(this,g,l,h,k);this.element.attr("transform","translate("+this.xOrigin+","+this.yOrigin+")");this.textElement.attr("dy",0);var j=a.Utils.getBBox(this.textElement);this.textElement.attr("dy",-j.y);var m=0;var i=0;if(this.orientation==="horizontal"){this.truncateTextAndRemeasure(this.availableWidth);m=(this.availableWidth-this.textLength)*this._xAlignProportion}else{this.truncateTextAndRemeasure(this.availableHeight);m=(this.availableHeight-this.textLength)*this._yAlignProportion;if(this.orientation==="vertical-right"){this.textElement.attr("transform","rotate(90)");i=-this.textHeight}else{this.textElement.attr("transform","rotate(-90)");m=-m-this.textLength}}this.textElement.attr("x",m);this.textElement.attr("y",i);return this};return f})(a.Component);a.Label=d;var c=(function(f){__extends(e,f);function e(h,g){f.call(this,h,g);this.classed("title-label",true)}return e})(d);a.TitleLabel=c;var b=(function(f){__extends(e,f);function e(h,g){f.call(this,h,g);this.classed("axis-label",true)}return e})(d);a.AxisLabel=b})(Plottable||(Plottable={}));var Plottable;(function(a){var b=(function(c){__extends(d,c);function d(e){c.call(this);this._rerenderUpdateSelection=false;this._requireRerender=false;this.clipPathEnabled=true;this._fixedWidth=false;this._fixedHeight=false;this.classed("renderer",true);if(e!=null){this.dataset(e)}this.colorAccessor(d.defaultColorAccessor)}d.prototype.dataset=function(e){this.data(e.data);this.metadata(e.metadata);return this};d.prototype.metadata=function(f){var e=this._metadata!=null?this._metadata.cssClass:null;this.classed(e,false);this._metadata=f;this.classed(this._metadata.cssClass,true);this._rerenderUpdateSelection=true;this._requireRerender=true;return this};d.prototype.data=function(e){this._data=e;this._requireRerender=true;return this};d.prototype._render=function(){this._paint();this._requireRerender=false;this._rerenderUpdateSelection=false;return this};d.prototype.colorAccessor=function(e){this._colorAccessor=e;this._requireRerender=true;this._rerenderUpdateSelection=true;return this};d.prototype._paint=function(){};d.prototype.autorange=function(){return this};d.prototype._anchor=function(e){c.prototype._anchor.call(this,e);this.renderArea=this.content.append("g").classed("render-area",true);return this};d.prototype._getAppliedAccessor=function(e){var f=this;if(typeof(e)==="function"){return function(h,g){return e(h,g,f._metadata)}}else{if(typeof(e)==="string"){return function(h,g){return h[e]}}else{return function(h,g){return e}}}};d.defaultColorAccessor=function(e){return"#1f77b4"};return d})(a.Component);a.Renderer=b})(Plottable||(Plottable={}));var Plottable;(function(a){var b=(function(c){__extends(d,c);function d(i,h,f,g,e){var j=this;c.call(this,i);this.autorangeDataOnLayout=true;this.classed("category-renderer",true);this.xScale=h;this.yScale=f;this._xAccessor=(g!=null)?g:"x";this._yAccessor=(e!=null)?e:"y";this.xScale.registerListener(function(){return j.rescale()});this.yScale.registerListener(function(){return j.rescale()})}d.prototype._computeLayout=function(e,h,f,g){c.prototype._computeLayout.call(this,e,h,f,g);this.xScale.range([0,this.availableWidth]);this.yScale.range([this.availableHeight,0]);if(this.autorangeDataOnLayout){this.autorange()}return this};d.prototype.autorange=function(){var i=this;c.prototype.autorange.call(this);var g=this._data;var h=function(j){return i._getAppliedAccessor(i._xAccessor)(j,null)};this.xScale.domain(g.map(h));var e=function(j){return i._getAppliedAccessor(i._yAccessor)(j,null)};var f=d3.extent(g,e);this.yScale.widenDomain(f);return this};d.prototype.rescale=function(){if(this.element!=null){this._render()}};return d})(a.Renderer);a.CategoryRenderer=b})(Plottable||(Plottable={}));var Plottable;(function(a){var b=(function(c){__extends(d,c);function d(i,h,f,g,e){var j=this;c.call(this,i);this.autorangeDataOnLayout=true;this.classed("xy-renderer",true);this._xAccessor=(g!=null)?g:d.defaultXAccessor;this._yAccessor=(e!=null)?e:d.defaultYAccessor;this.xScale=h;this.yScale=f;this.xScale.registerListener(function(){return j.rescale()});this.yScale.registerListener(function(){return j.rescale()})}d.prototype.xAccessor=function(e){this._xAccessor=e;this._requireRerender=true;this._rerenderUpdateSelection=true;return this};d.prototype.yAccessor=function(e){this._yAccessor=e;this._requireRerender=true;this._rerenderUpdateSelection=true;return this};d.prototype._computeLayout=function(e,h,f,g){c.prototype._computeLayout.call(this,e,h,f,g);this.xScale.range([0,this.availableWidth]);this.yScale.range([this.availableHeight,0]);if(this.autorangeDataOnLayout){this.autorange()}return this};d.prototype.autorange=function(){var j=this;c.prototype.autorange.call(this);var h=this._data;var i=function(k){return j._getAppliedAccessor(j._xAccessor)(k,null)};var f=d3.extent(h,i);this.xScale.widenDomain(f);var e=function(k){return j._getAppliedAccessor(j._yAccessor)(k,null)};var g=d3.extent(h,e);this.yScale.widenDomain(g);return this};d.prototype.invertXYSelectionArea=function(h){var g=this.xScale.invert(h.xMin);var j=this.xScale.invert(h.xMax);var e=this.yScale.invert(h.yMin);var i=this.yScale.invert(h.yMax);var f={xMin:g,xMax:j,yMin:e,yMax:i};return f};d.prototype.getDataFilterFunction=function(f){var g=this._getAppliedAccessor(this._xAccessor);var e=this._getAppliedAccessor(this._yAccessor);var h=function(l,k){var j=g(l,k);var m=e(l,k);return a.Utils.inRange(j,f.xMin,f.xMax)&&a.Utils.inRange(m,f.yMin,f.yMax)};return h};d.prototype.getSelectionFromArea=function(e){var f=this.getDataFilterFunction(e);return this.dataSelection.filter(f)};d.prototype.getDataIndicesFromArea=function(e){var g=this.getDataFilterFunction(e);var f=[];this._data.forEach(function(j,h){if(g(j,h)){f.push(h)}});return f};d.prototype.rescale=function(){if(this.element!=null){this._render()}};d.defaultXAccessor="x";d.defaultYAccessor="y";return d})(a.Renderer);a.XYRenderer=b})(Plottable||(Plottable={}));var Plottable;(function(a){var b=(function(d){__extends(c,d);function c(j,i,g,h,f,e){d.call(this,j,i,g,h,f);this._rAccessor=(e!=null)?e:c.defaultRAccessor;this.classed("circle-renderer",true)}c.prototype.rAccessor=function(e){this._rAccessor=e;this._requireRerender=true;this._rerenderUpdateSelection=true;return this};c.prototype._paint=function(){var i=this;d.prototype._paint.call(this);var e=function(k,j){return i.xScale.scale(i._getAppliedAccessor(i._xAccessor)(k,j))};var h=function(k,j){return i.yScale.scale(i._getAppliedAccessor(i._yAccessor)(k,j))};var g=this._getAppliedAccessor(this._rAccessor);var f=this._getAppliedAccessor(this._colorAccessor);this.dataSelection=this.renderArea.selectAll("circle").data(this._data);this.dataSelection.enter().append("circle");this.dataSelection.attr("cx",e).attr("cy",h).attr("r",g).attr("fill",f);this.dataSelection.exit().remove()};c.defaultRAccessor=3;return c})(a.XYRenderer);a.CircleRenderer=b})(Plottable||(Plottable={}));var Plottable;(function(a){var b=(function(c){__extends(d,c);function d(i,h,f,g,e){c.call(this,i,h,f,g,e);this.classed("line-renderer",true)}d.prototype._anchor=function(e){c.prototype._anchor.call(this,e);this.path=this.renderArea.append("path").classed("line",true);return this};d.prototype._paint=function(){var h=this;c.prototype._paint.call(this);var g=this._getAppliedAccessor(this._xAccessor);var f=this._getAppliedAccessor(this._yAccessor);var e=this._getAppliedAccessor(this._colorAccessor);this.line=d3.svg.line().x(function(k,j){return h.xScale.scale(g(k,j))}).y(function(k,j){return h.yScale.scale(f(k,j))});this.dataSelection=this.path.datum(this._data);this.path.attr("d",this.line).attr("stroke",e)};return d})(a.XYRenderer);a.LineRenderer=b})(Plottable||(Plottable={}));var Plottable;(function(a){var b=(function(c){__extends(d,c);function d(i,h,f,g,j,e){c.call(this,i,h,f,g,e);this.barPaddingPx=1;this.classed("bar-renderer",true);this.dxAccessor=(j!=null)?j:d.defaultDxAccessor}d.prototype.autorange=function(){c.prototype.autorange.call(this);var h=this._getAppliedAccessor(this._xAccessor);var f=this._getAppliedAccessor(this.dxAccessor);var g=function(i){return h(i,null)+f(i,null)};var e=d3.extent(this._data,g);this.xScale.widenDomain(e);return this};d.prototype._paint=function(){var o=this;c.prototype._paint.call(this);var j=this.yScale.range();var i=Math.max(j[0],j[1]);this.dataSelection=this.renderArea.selectAll("rect").data(this._data);var k=this.xScale.domain()[1]-this.xScale.domain()[0];var n=this.xScale.range()[1]-this.xScale.range()[0];this.dataSelection.enter().append("rect");var l=this._getAppliedAccessor(this._xAccessor);var e=function(t,r){var q=l(t,r);var s=o.xScale.scale(q);return s+o.barPaddingPx};var f=this._getAppliedAccessor(this._yAccessor);var m=function(s,r){var t=f(s,r);var q=o.yScale.scale(t);return q};var g=this._getAppliedAccessor(this.dxAccessor);var h=function(u,t){var r=g(u,t);var q=o.xScale.scale(r);var s=o.xScale.scale(0);return q-s-2*o.barPaddingPx};var p=function(r,q){return i-m(r,q)};this.dataSelection.attr("x",e).attr("y",m).attr("width",h).attr("height",p).attr("fill",this._getAppliedAccessor(this._colorAccessor));this.dataSelection.exit().remove()};d.defaultDxAccessor="dx";return d})(a.XYRenderer);a.BarRenderer=b})(Plottable||(Plottable={}));var Plottable;(function(a){var b=(function(c){__extends(d,c);function d(j,i,g,h,f,e){c.call(this,j,i,g,h,f);this._rAccessor=(e!=null)?e:d.defaultRAccessor;this.classed("square-renderer",true)}d.prototype.rAccessor=function(e){this._rAccessor=e;this._requireRerender=true;this._rerenderUpdateSelection=true;return this};d.prototype._paint=function(){var k=this;c.prototype._paint.call(this);var j=this._getAppliedAccessor(this._xAccessor);var g=this._getAppliedAccessor(this._yAccessor);var i=this._getAppliedAccessor(this._rAccessor);var f=this._getAppliedAccessor(this._colorAccessor);var e=function(m,l){return k.xScale.scale(j(m,l))-i(m,l)};var h=function(m,l){return k.yScale.scale(g(m,l))-i(m,l)};this.dataSelection=this.renderArea.selectAll("rect").data(this._data);this.dataSelection.enter().append("rect");this.dataSelection.attr("x",e).attr("y",h).attr("width",i).attr("height",i).attr("fill",f);this.dataSelection.exit().remove()};d.defaultRAccessor=3;return d})(a.XYRenderer);a.SquareRenderer=b})(Plottable||(Plottable={}));var Plottable;(function(a){var b=(function(d){__extends(c,d);function c(e){if(typeof e==="undefined"){e=[]}d.call(this);this.rowPadding=0;this.colPadding=0;this.classed("table",true);this.rows=e;this.nRows=e.length;this.nCols=e.length>0?d3.max(e,function(f){return f.length}):0;this.rowWeights=this.rows.map(function(){return null});this.colWeights=d3.transpose(this.rows).map(function(){return null})}c.prototype.addComponent=function(h,g,f){if(this.element!=null){throw new Error("addComponent cannot be called after anchoring (for the moment)")}this.nRows=Math.max(h,this.nRows);this.nCols=Math.max(g,this.nCols);this.padTableToSize(this.nRows+1,this.nCols+1);var e=this.rows[h][g];if(e!=null){throw new Error("addComponent cannot be called on a cell where a component already exists (for the moment)")}this.rows[h][g]=f;return this};c.prototype._anchor=function(e){var f=this;d.prototype._anchor.call(this,e);this.rows.forEach(function(g,h){g.forEach(function(j,i){if(j!=null){j._anchor(f.content.append("g"))}})});return this};c.prototype._computeLayout=function(k,i,p,g){var j=this;d.prototype._computeLayout.call(this,k,i,p,g);var h=this.availableWidth-this.colMinimum();var s=this.availableHeight-this.rowMinimum();if(h<0||s<0){throw new Error("Insufficient Space")}var o=d3.transpose(this.rows);var e=c.calcComponentWeights(this.rowWeights,this.rows,function(u){return(u==null)||u.isFixedHeight()});var n=c.calcComponentWeights(this.colWeights,o,function(u){return(u==null)||u.isFixedWidth()});var t=c.calcProportionalSpace(e,s);var r=c.calcProportionalSpace(n,h);var l=function(u){return u[0]+u[1]};var m=d3.zip(t,this.rowMinimums).map(l);var q=d3.zip(r,this.colMinimums).map(l);var f=0;this.rows.forEach(function(v,w){var u=0;v.forEach(function(y,x){if(y!=null){y._computeLayout(u,f,q[x],m[w])}u+=q[x]+j.colPadding});f+=m[w]+j.rowPadding});return this};c.prototype._render=function(){this.rows.forEach(function(e,f){e.forEach(function(h,g){if(h!=null){h._render()}})});return this};c.prototype.padding=function(e,f){this.rowPadding=e;this.colPadding=f;return this};c.prototype.rowWeight=function(e,f){this.rowWeights[e]=f;return this};c.prototype.colWeight=function(e,f){this.colWeights[e]=f;return this};c.prototype.rowMinimum=function(e){if(e!=null){throw new Error("Row minimum cannot be directly set on Table")}else{this.rowMinimums=this.rows.map(function(f){return d3.max(f,function(g){return(g==null)?0:g.rowMinimum()})});return d3.sum(this.rowMinimums)+this.rowPadding*(this.rows.length-1)}};c.prototype.colMinimum=function(e){if(e!=null){throw new Error("Col minimum cannot be directly set on Table")}else{var f=d3.transpose(this.rows);this.colMinimums=f.map(function(g){return d3.max(g,function(h){return(h==null)?0:h.colMinimum()})});return d3.sum(this.colMinimums)+this.colPadding*(f.length-1)}};c.prototype.isFixedWidth=function(){var e=d3.transpose(this.rows);return c.fixedSpace(e,function(f){return(f==null)||f.isFixedWidth()})};c.prototype.isFixedHeight=function(){return c.fixedSpace(this.rows,function(e){return(e==null)||e.isFixedHeight()})};c.prototype.padTableToSize=function(g,h){for(var f=0;f<g;f++){if(this.rows[f]===undefined){this.rows[f]=[];this.rowWeights[f]=null}for(var e=0;e<h;e++){if(this.rows[f][e]===undefined){this.rows[f][e]=null}}}for(e=0;e<h;e++){if(this.colWeights[e]===undefined){this.colWeights[e]=null}}};c.calcComponentWeights=function(e,g,f){return e.map(function(j,k){if(j!=null){return j}var h=g[k].map(f);var l=h.reduce(function(m,i){return m&&i});return l?0:1})};c.calcProportionalSpace=function(g,h){var f=d3.sum(g);if(f===0){var e=g.length;return g.map(function(i){return h/e})}else{return g.map(function(i){return h*i/f})}};c.fixedSpace=function(f,g){var e=function(i){return i.reduce(function(k,j){return k&&j})};var h=function(i){return e(i.map(g))};return e(f.map(h))};return c})(a.Component);a.Table=b})(Plottable||(Plottable={}));var Plottable;(function(a){var b=(function(){function c(d){var e=this;this.rescaleInProgress=false;this.scales=d;this.scales.forEach(function(f){return f.registerListener(function(g){return e.rescale(g)})})}c.prototype.rescale=function(e){if(this.rescaleInProgress){return}this.rescaleInProgress=true;var d=e.domain();this.scales.forEach(function(f){return f.domain(d)});this.rescaleInProgress=false};return c})();a.ScaleDomainCoordinator=b})(Plottable||(Plottable={}));var Plottable;(function(a){var b=(function(d){__extends(c,d);function c(e){d.call(this);this.classed("legend",true);this.colMinimum(120);this.colorScale=e;this.xAlign("RIGHT").yAlign("TOP");this.xOffset(5).yOffset(5)}c.prototype._anchor=function(e){d.prototype._anchor.call(this,e);this.legendBox=this.content.append("rect").classed("legend-box",true);return this};c.prototype.scale=function(e){this.colorScale=e;return this};c.prototype.rowMinimum=function(e){if(e!=null){throw new Error("Row minimum cannot be directly set on Legend")}else{var f=this.measureTextHeight();return this.colorScale.domain().length*f}};c.prototype.measureTextHeight=function(){var f=this.content.append("g").classed(c.SUBELEMENT_CLASS,true);var e=a.Utils.getTextHeight(f.append("text"));f.remove();return e};c.prototype._render=function(){d.prototype._render.call(this);this.legendBox.attr("height",this.rowMinimum()).attr("width",this.colMinimum());var i=this.colorScale.domain();var j=this.measureTextHeight();var h=this.colMinimum()-j-c.MARGIN;var g=j-c.MARGIN*2-2;this.content.selectAll("."+c.SUBELEMENT_CLASS).remove();var f=this.content.selectAll("."+c.SUBELEMENT_CLASS).data(i);var e=f.enter().append("g").classed(c.SUBELEMENT_CLASS,true).attr("transform",function(l,k){return"translate(0,"+k*j+")"});e.append("circle").attr("cx",c.MARGIN+g/2).attr("cy",c.MARGIN+g/2).attr("r",g);e.append("text").attr("x",j).attr("y",c.MARGIN+j/2);f.selectAll("circle").attr("fill",this.colorScale._d3Scale);f.selectAll("text").text(function(l,k){return a.Utils.truncateTextToLength(l,h,d3.select(this))});return this};c.SUBELEMENT_CLASS="legend-row";c.MARGIN=5;return c})(a.Component);a.Legend=b})(Plottable||(Plottable={}));var Plottable;(function(a){var b=(function(d){__extends(c,d);function c(){d.call(this);this.xTable=new a.Table();this.yTable=new a.Table();this.centerComponent=new a.ComponentGroup();this.xyTable=new a.Table().addComponent(0,0,this.yTable).addComponent(1,1,this.xTable).addComponent(0,1,this.centerComponent);this.addComponent(1,0,this.xyTable)}c.prototype.yAxis=function(e){if(e!=null){if(this._yAxis!=null){throw new Error("yAxis already assigned!")}this._yAxis=e;this.yTable.addComponent(0,1,this._yAxis);return this}else{return this._yAxis}};c.prototype.xAxis=function(e){if(e!=null){if(this._xAxis!=null){throw new Error("xAxis already assigned!")}this._xAxis=e;this.xTable.addComponent(0,0,this._xAxis);return this}else{return this._xAxis}};c.prototype.yLabel=function(e){if(e!=null){if(this._yLabel!=null){if(typeof(e)==="string"){this._yLabel.setText(e);return this}else{throw new Error("yLabel already assigned!")}}if(typeof(e)==="string"){e=new a.AxisLabel(e,"vertical-left")}this._yLabel=e;this.yTable.addComponent(0,0,this._yLabel);return this}else{return this._yLabel}};c.prototype.xLabel=function(e){if(e!=null){if(this._xLabel!=null){if(typeof(e)==="string"){this._xLabel.setText(e);return this}else{throw new Error("xLabel already assigned!")}}if(typeof(e)==="string"){e=new a.AxisLabel(e,"horizontal")}this._xLabel=e;this.xTable.addComponent(1,0,this._xLabel);return this}else{return this._xLabel}};c.prototype.titleLabel=function(e){if(e!=null){if(this._titleLabel!=null){if(typeof(e)==="string"){this._titleLabel.setText(e);return this}else{throw new Error("titleLabel already assigned!")}}if(typeof(e)==="string"){e=new a.TitleLabel(e,"horizontal")}this._titleLabel=e;this.addComponent(0,0,this._titleLabel);return this}else{return this._titleLabel}};c.prototype.addCenterComponent=function(e){this.centerComponent.merge(e);return this};return c})(a.Table);a.StandardChart=b})(Plottable||(Plottable={}));var Plottable;(function(a){var b=(function(d){__extends(c,d);function c(j,i,g,h,f,e){d.call(this,j,i,g,h,e);this.classed("bar-renderer",true);this._widthAccessor=(f!=null)?f:10}c.prototype.widthAccessor=function(e){this._widthAccessor=e;this._requireRerender=true;this._rerenderUpdateSelection=true;return this};c.prototype._paint=function(){var n=this;d.prototype._paint.call(this);var i=this.yScale.range();var h=Math.max(i[0],i[1]);this.dataSelection=this.renderArea.selectAll("rect").data(this._data);var j=this.xScale.domain()[1]-this.xScale.domain()[0];var m=this.xScale.range()[1]-this.xScale.range()[0];this.dataSelection.enter().append("rect");var g=this._getAppliedAccessor(this._widthAccessor);var k=this._getAppliedAccessor(this._xAccessor);var f=function(s,q){var p=k(s,q);var r=n.xScale.scale(p);return r-g(s,q)/2};var e=this._getAppliedAccessor(this._yAccessor);var l=function(r,q){var s=e(r,q);var p=n.yScale.scale(s);return p};var o=function(q,p){return h-l(q,p)};this.dataSelection.attr("x",f).attr("y",l).attr("width",g).attr("height",o).attr("fill",this._getAppliedAccessor(this._colorAccessor));this.dataSelection.exit().remove()};return c})(a.CategoryRenderer);a.CategoryBarRenderer=b})(Plottable||(Plottable={}));var Plottable;(function(a){var c=(function(f){__extends(e,f);function e(j,g,h){var i=this;f.call(this);this._showEndTickLabels=false;this.tickPositioning="center";this.axisScale=j;g=g.toLowerCase();this.d3Axis=d3.svg.axis().scale(j._d3Scale).orient(g);this.classed("axis",true);if(h==null){h=d3.format(".3s")}this.d3Axis.tickFormat(h);this.axisScale.registerListener(function(){return i.rescale()})}e.prototype._anchor=function(g){f.prototype._anchor.call(this,g);this.axisElement=this.content.append("g").classed("axis",true);return this};e.prototype._render=function(){if(this.orient()==="left"){this.axisElement.attr("transform","translate("+e.yWidth+", 0)")}if(this.orient()==="top"){this.axisElement.attr("transform","translate(0,"+e.xHeight+")")}var k=this.d3Axis.scale().domain();var r=Math.abs(k[1]-k[0]);var l=+d3.min(k);var n=+d3.max(k);var m;var q=k[0]<k[1];if(typeof(k[0])==="number"){m=q?[l-r,n+r]:[n+r,l-r]}else{m=q?[new Date(l-r),new Date(n+r)]:[new Date(n+r),new Date(l-r)]}if(this.axisScale.ticks!=null){var i=this.axisScale;var j=10;var o=i.ticks(j);var p=i.domain();var g=p[1]-p[0];var h=function(s){return Math.abs(s/g/j)<0.0001?0:s};o=o.map(h);this.d3Axis.tickValues(o)}this.axisElement.call(this.d3Axis);this.axisElement.selectAll(".tick").select("text").style("visibility","visible");return this};e.prototype.showEndTickLabels=function(g){if(g==null){return this._showEndTickLabels}this._showEndTickLabels=g;return this};e.prototype._hideCutOffTickLabels=function(){var l=this;var i=this.availableWidth;var j=this.availableHeight;var k=this.axisElement.selectAll(".tick").select("text");var h=this.element.select(".bounding-box")[0][0].getBoundingClientRect();var g=function(m){return(h.left<=m.left&&h.top<=m.top&&m.right<=h.left+l.availableWidth&&m.bottom<=h.top+l.availableHeight)};k.each(function(m){if(!g(this.getBoundingClientRect())){d3.select(this).style("visibility","hidden")}});return this};e.prototype._hideOverlappingTickLabels=function(){var i=this.axisElement.selectAll(".tick").select("text");var g;function h(k,j){if(k.right<j.left){return false}if(k.left>j.right){return false}if(k.bottom<j.top){return false}if(k.top>j.bottom){return false}return true}i.each(function(k){var j=this.getBoundingClientRect();if(g!=null&&h(j,g)){d3.select(this).style("visibility","hidden")}else{g=j;d3.select(this).style("visibility","visible")}})};e.prototype.rescale=function(){return(this.element!=null)?this._render():null};e.prototype.scale=function(g){if(g==null){return this.axisScale}else{this.axisScale=g;this.d3Axis.scale(g._d3Scale);return this}};e.prototype.tickLabelPosition=function(g){if(g==null){return this.tickPositioning}else{this.tickPositioning=g;return this}};e.prototype.orient=function(g){if(g==null){return this.d3Axis.orient()}else{this.d3Axis.orient(g);return this}};e.prototype.ticks=function(){var g=[];for(var h=0;h<(arguments.length-0);h++){g[h]=arguments[h+0]}if(g==null||g.length===0){return this.d3Axis.ticks()}else{this.d3Axis.ticks(g);return this}};e.prototype.tickValues=function(){var g=[];for(var h=0;h<(arguments.length-0);h++){g[h]=arguments[h+0]}if(g==null){return this.d3Axis.tickValues()}else{this.d3Axis.tickValues(g);return this}};e.prototype.tickSize=function(g,h){if(g!=null&&h!=null){this.d3Axis.tickSize(g,h);return this}else{if(g!=null){this.d3Axis.tickSize(g);return this}else{return this.d3Axis.tickSize()}}};e.prototype.innerTickSize=function(g){if(g==null){return this.d3Axis.innerTickSize()}else{this.d3Axis.innerTickSize(g);return this}};e.prototype.outerTickSize=function(g){if(g==null){return this.d3Axis.outerTickSize()}else{this.d3Axis.outerTickSize(g);return this}};e.prototype.tickPadding=function(g){if(g==null){return this.d3Axis.tickPadding()}else{this.d3Axis.tickPadding(g);return this}};e.prototype.tickFormat=function(g){if(g==null){return this.d3Axis.tickFormat()}else{this.d3Axis.tickFormat(g);return this}};e.yWidth=50;e.xHeight=30;return e})(a.Component);a.Axis=c;var b=(function(f){__extends(e,f);function e(i,g,h){if(typeof h==="undefined"){h=null}var g=g.toLowerCase();if(g!=="top"&&g!=="bottom"){throw new Error(g+" is not a valid orientation for XAxis")}f.call(this,i,g,h);f.prototype.rowMinimum.call(this,c.xHeight);this._fixedWidth=false;this.tickLabelPosition("center")}e.prototype._anchor=function(g){f.prototype._anchor.call(this,g);this.axisElement.classed("x-axis",true);return this};e.prototype.tickLabelPosition=function(g){if(g==null){return f.prototype.tickLabelPosition.call(this)}else{var h=g.toLowerCase();if(h==="left"||h==="center"||h==="right"){if(h!=="center"){this.tickSize(12)}return f.prototype.tickLabelPosition.call(this,h)}else{throw new Error(g+" is not a valid tick label position for XAxis")}}};e.prototype._render=function(){f.prototype._render.call(this);if(this.tickLabelPosition()!=="center"){var g=this.axisElement.selectAll("text");g.attr("y","0px");if(this.orient()==="bottom"){g.attr("dy","1em")}else{g.attr("dy","-0.25em")}if(this.tickLabelPosition()==="right"){g.attr("dx","0.2em").style("text-anchor","start")}else{if(this.tickLabelPosition()==="left"){g.attr("dx","-0.2em").style("text-anchor","end")}}}this._hideOverlappingTickLabels();if(!this.showEndTickLabels()){this._hideCutOffTickLabels()}return this};return e})(c);a.XAxis=b;var d=(function(e){__extends(f,e);function f(i,g,h){if(typeof h==="undefined"){h=null}g=g.toLowerCase();if(g!=="left"&&g!=="right"){throw new Error(g+" is not a valid orientation for YAxis")}e.call(this,i,g,h);e.prototype.colMinimum.call(this,c.yWidth);this._fixedHeight=false;this.tickLabelPosition("middle")}f.prototype._anchor=function(g){e.prototype._anchor.call(this,g);this.axisElement.classed("y-axis",true);return this};f.prototype.tickLabelPosition=function(g){if(g==null){return e.prototype.tickLabelPosition.call(this)}else{var h=g.toLowerCase();if(h==="top"||h==="middle"||h==="bottom"){if(h!=="middle"){this.tickSize(30)}return e.prototype.tickLabelPosition.call(this,h)}else{throw new Error(g+" is not a valid tick label position for YAxis")}}};f.prototype._render=function(){e.prototype._render.call(this);if(this.tickLabelPosition()!=="middle"){var g=this.axisElement.selectAll("text");g.attr("x","0px");if(this.orient()==="left"){g.attr("dx","-0.25em")}else{g.attr("dx","0.25em")}if(this.tickLabelPosition()==="top"){g.attr("dy","-0.3em")}else{if(this.tickLabelPosition()==="bottom"){g.attr("dy","1em")}}}this._hideOverlappingTickLabels();if(!this.showEndTickLabels()){this._hideCutOffTickLabels()}return this};return f})(c);a.YAxis=d})(Plottable||(Plottable={}));var Plottable;(function(a){var b=(function(c){__extends(d,c);function d(e){if(typeof e==="undefined"){e=[]}c.call(this);this.classed("component-group",true);this.components=e}d.prototype._addComponentToGroup=function(f,e){if(typeof e==="undefined"){e=false}if(e){this.components.unshift(f)}else{this.components.push(f)}if(this.element!=null){f._anchor(this.content.insert("g","g"))}return this};d.prototype.merge=function(e){this._addComponentToGroup(e);return this};d.prototype._anchor=function(e){var f=this;c.prototype._anchor.call(this,e);this.components.forEach(function(g){return g._anchor(f.content.insert("g","g"))});return this};d.prototype._computeLayout=function(h,e,f,g){var i=this;c.prototype._computeLayout.call(this,h,e,f,g);this.components.forEach(function(j){j._computeLayout(0,0,i.availableWidth,i.availableHeight)});return this};d.prototype._render=function(){c.prototype._render.call(this);this.components.forEach(function(e){return e._render()});return this};d.prototype.isFixedWidth=function(){return this.components.every(function(e){return e.isFixedWidth()})};d.prototype.isFixedHeight=function(){return this.components.every(function(e){return e.isFixedHeight()})};return d})(a.Component);a.ComponentGroup=b})(Plottable||(Plottable={}));var Plottable;(function(a){var b=(function(c){__extends(d,c);function d(f,e){var g=this;c.call(this);this.classed("gridlines",true);this.xScale=f;this.yScale=e;if(this.xScale!=null){this.xScale.registerListener(function(){return g.redrawXLines()})}if(this.yScale!=null){this.yScale.registerListener(function(){return g.redrawYLines()})}}d.prototype._anchor=function(e){c.prototype._anchor.call(this,e);this.xLinesContainer=this.content.append("g").classed("x-gridlines",true);this.yLinesContainer=this.content.append("g").classed("y-gridlines",true);return this};d.prototype._render=function(){c.prototype._render.call(this);this.redrawXLines();this.redrawYLines();return this};d.prototype.redrawXLines=function(){var h=this;if(this.xScale!=null&&this.element!=null){var f=this.xScale.ticks();var e=function(i){return h.xScale.scale(i)};var g=this.xLinesContainer.selectAll("line").data(f);g.enter().append("line");g.attr("x1",e).attr("y1",0).attr("x2",e).attr("y2",this.availableHeight);g.exit().remove()}};d.prototype.redrawYLines=function(){var h=this;if(this.yScale!=null&&this.element!=null){var e=this.yScale.ticks();var g=function(i){return h.yScale.scale(i)};var f=this.yLinesContainer.selectAll("line").data(e);f.enter().append("line");f.attr("x1",0).attr("y1",g).attr("x2",this.availableWidth).attr("y2",g);f.exit().remove()}};return d})(a.Component);a.Gridlines=b})(Plottable||(Plottable={}));var Plottable;(function(a){})(Plottable||(Plottable={}));