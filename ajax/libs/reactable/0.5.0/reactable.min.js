Reactable=(function(){if(!Array.prototype.map){Array.prototype.map=function(m){if(this===void 0||this===null){throw new TypeError()}var p=Object(this);var k=p.length>>>0;if(typeof m!=="function"){throw new TypeError()}var o=new Array(k);var l=arguments.length>=2?arguments[1]:void 0;for(var n=0;n<k;n++){if(n in p){o[n]=m.call(l,p[n],n,p)}}return o}}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(l){var k=this.length>>>0;var m=Number(arguments[1])||0;m=(m<0)?Math.ceil(m):Math.floor(m);if(m<0){m+=k}for(;m<k;m++){if(m in this&&this[m]===l){return m}}return -1}}if(!Array.prototype.find){Object.defineProperty(Array.prototype,"find",{enumerable:false,configurable:true,writable:true,value:function(k){if(this==null){throw new TypeError("Array.prototype.find called on null or undefined")}if(typeof k!=="function"){throw new TypeError("predicate must be a function")}var p=Object(this);var n=p.length>>>0;var l=arguments[1];var o;for(var m=0;m<n;m++){if(m in p){o=p[m];if(k.call(l,o,m,p)){return o}}}return undefined}})}if(!Array.isArray){Array.isArray=function(k){return Object.prototype.toString.call(k)==="[object Array]"}}var c={};function h(k){this.content=k}h.prototype.toString=function(){return this.content};c.unsafe=function(k){return new h(k)};c.Sort={Numeric:function(m,k){var n=parseFloat(m.toString().replace(",",""));var l=parseFloat(k.toString().replace(",",""));if(isNaN(n)&&isNaN(l)){n=m;l=k}else{if(isNaN(n)){return 1}if(isNaN(l)){return -1}}if(n<l){return -1}if(n>l){return 1}return 0},Currency:function(l,k){if(l[0]==="$"){l=l.substring(1)}if(k[0]==="$"){k=k.substring(1)}return c.Sort.Numeric(l,k)},Date:function(m,k){var n=Date.parse(m);var l=Date.parse(k);if(isNaN(n)||isNaN(l)){return c.Sort.Numeric(m,k)}if(n>l){return 1}if(l>n){return -1}return 0},CaseInsensitive:function(m,k){var n=m.toLowerCase();var l=k.toLowerCase();if(n>l){return 1}if(l>n){return -1}return 0}};var e=c.Td=React.createClass({displayName:"Td",handleClick:function(k){if(typeof this.props.handleClick!=="undefined"){return this.props.handleClick(k,this)}},getDefaultProps:function(){var l=this.props;if(typeof(l.data)==="undefined"&&typeof(this.props.children)==="string"){l.data=this.props.children}for(var k in this.props.column){if(k!=="key"&&k!=="name"){l[k]=this.props.column[k]}}return l},render:function(){if(typeof(this.props.children)!=="undefined"){if(this.props.children instanceof h){return this.transferPropsTo(React.DOM.td({"data-column":this.props.column.key,className:this.props.className,onClick:this.handleClick,dangerouslySetInnerHTML:{__html:this.props.children.toString()}}))}else{return this.transferPropsTo(React.DOM.td({"data-column":this.props.column.key,className:this.props.className,onClick:this.handleClick},this.props.children))}}else{return this.transferPropsTo(React.DOM.td(null))}}});var i=c.Tr=React.createClass({displayName:"Tr",statics:{childNode:e,dataType:"object"},getDefaultProps:function(){var k={childNode:e,columns:[],data:{}};return k},render:function(){var k=this.props.children||[];if(this.props.data&&this.props.columns&&typeof this.props.columns.map==="function"){k=k.concat(this.props.columns.map(function(m,l){if(this.props.data.hasOwnProperty(m.key)){return e({column:m,key:m.key},this.props.data[m.key])}else{return e({column:m,key:m.key})}}.bind(this)))}return this.transferPropsTo(React.DOM.tr(null,k))}});var d=c.Thead=React.createClass({displayName:"Thead",getColumns:function(){return React.Children.map(this.props.children,function(k){if(typeof k.props.children==="string"){return k.props.children}else{throw new TypeError("<th> must have a string child")}})},render:function(){return this.transferPropsTo(React.DOM.thead(null,this.props.filtering===true?g({colSpan:this.props.columns.length,onFilter:this.props.onFilter}):"",React.DOM.tr({className:"reactable-column-header"},this.props.columns.map(function(m,l){var k="";if(this.props.sort.column===m.key){k="reactable-header-sort";if(this.props.sort.direction===1){k+="-asc"}else{k+="-desc"}}return(React.DOM.th({className:k,key:l,onClick:function(){this.props.onSort(m.key)}.bind(this)},m.label))}.bind(this)))))}});var b=c.Th=React.createClass({displayName:"Th",render:function(){return this.transferPropsTo(React.DOM.th(null,this.props.children))}});var j=React.createClass({displayName:"FiltererInput",render:function(){return(React.DOM.input({type:"text",className:"reactable-filter-input",onKeyUp:function(){this.props.onFilter(this.getDOMNode().value)}.bind(this)}))}});var g=React.createClass({displayName:"Filterer",render:function(){if(typeof this.props.colSpan==="undefined"){throw new TypeError("Must pass a colSpan argument to Filterer")}return(React.DOM.tr({className:"reactable-filterer"},React.DOM.td({colSpan:this.props.colSpan},j({onFilter:this.props.onFilter}))))}});var a=React.createClass({displayName:"Paginator",render:function(){if(typeof this.props.colSpan==="undefined"){throw new TypeError("Must pass a colSpan argument to Paginator")}if(typeof this.props.numPages==="undefined"){throw new TypeError("Must pass a non-zero numPages argument to Paginator")}if(typeof this.props.currentPage==="undefined"){throw new TypeError("Must pass a currentPage argument to Paginator")}var m=[];for(var k=0;k<this.props.numPages;k++){var n=k;var l="reactable-page-button";if(this.props.currentPage===k){l+=" reactable-current-page"}m.push(React.DOM.a({className:l,key:k,onClick:(function(o){return function(){this.props.onPageChange(o)}.bind(this)}.bind(this))(k)},k+1))}return(React.DOM.tbody({className:"reactable-pagination"},React.DOM.tr(null,React.DOM.td({colSpan:this.props.colSpan},m))))}});var f=c.Table=React.createClass({displayName:"Table",translateColumnsArray:function(k){return k.map(function(m,l){if(typeof(m)==="string"){return{key:m,label:m}}else{return m}})},parseChildData:function(){var k=[];if(typeof(this.props.children)!=="undefined"){React.Children.forEach(this.props.children,function(p){if(p.type.ConvenienceConstructor!==i){return}var n=p.props.data||{};if(typeof(p.props.children)!=="undefined"&&typeof(p.props.children.map)==="function"){var o=p.props.children;for(var l=0;l<o.length;l++){var m=o[l];if(m.type.ConvenienceConstructor===e){if(typeof(m.props.column)!=="undefined"){if(typeof(m.props.data)!=="undefined"){n[m.props.column]=m.props.data}else{if(typeof(m.props.children)!=="undefined"){n[m.props.column]=m.props.children}else{console.warn("Reactable.Td specified without a `data` property or children, ignoring")}}}else{console.warn("Reactable.Td specified without a `column` property, ignoring")}}}}k.push(n)}.bind(this))}return k},getDefaultProps:function(){var o=this.props.data||[];var p={data:o.concat(this.parseChildData()),columns:[],sortable:[],filterable:[],defaultSort:false,itemsPerPage:0,_sortable:[]};for(var m in this.props.sortable){var n=this.props.sortable[m];var l,k;if(n instanceof Object){if(typeof(n.column)!=="undefined"){l=n.column}else{console.warn("Sortable column specified without column name");return}if(typeof(n.sortFunction)!=="undefined"&&n.sortFunction instanceof Function){k=n.sortFunction}else{k="default"}}else{l=n;k="default"}p._sortable[l]=k}return p},getInitialState:function(){var k={currentPage:0,currentSort:{column:null,direction:1},filter:""};if(this.props.defaultSort!==false){var n=this.props.defaultSort;var m={};if(n instanceof Object){var l,o;if(typeof(n.column)!=="undefined"){l=n.column}else{console.warn("Default column specified without column name");return}if(typeof(n.direction)!=="undefined"){if(n.direction===1||n.direction==="asc"){o=1}else{if(n.direction===-1||n.direction==="desc"){o=-1}else{console.warn("Invalid default sort specified.  Defaulting to ascending");o=1}}}else{sortFunction=1}}else{l=n;o=1}k.currentSort={column:l,direction:o}}return k},componentWillMount:function(){this.sortByCurrentSort()},onPageChange:function(k){this.setState({currentPage:k})},onFilter:function(k){this.setState({filter:k})},applyFilter:function(n,m){var n=n.toLowerCase();var o=[];for(var l=0;l<m.length;l++){var p=m[l].props.data;for(var k=0;k<this.props.filterable.length;k++){var q=this.props.filterable[k];if(p[q].toString().toLowerCase().indexOf(n)>-1){o.push(m[l]);break}}}return o},sortByCurrentSort:function(){var k=this.state.currentSort;if(k.column===null){return}this.props.data.sort(function(o,m){var n=o[k.column];var l=m[k.column];if(this.props._sortable[k.column]==="default"){if(n<l){return -1*k.direction}if(n>l){return 1*k.direction}return 0}else{if(k.direction===1){return this.props._sortable[k.column](n,l)}else{return this.props._sortable[k.column](l,n)}}}.bind(this))},onSort:function(l){if(typeof(this.props._sortable[l])==="undefined"){return}var k=this.state.currentSort;if(k.column===l){k.direction*=-1}else{k.column=l;k.direction=1}this.setState({currentSort:k});this.sortByCurrentSort()},render:function(){var l=[];var n;var p=false;if(this.props.children&&this.props.children.length>0&&this.props.children[0].type.ConvenienceConstructor===d){n=this.props.children[0].getColumns()}else{n=this.props.columns||[]}if(n.length>0){p=true;n=this.translateColumnsArray(n)}if(this.props.data&&typeof this.props.data.map==="function"){l=l.concat(this.props.data.map(function(w,u){for(var t in w){if(w.hasOwnProperty(t)){if(p===false){var v={key:t,label:t};if(n.find(function(x){return x.key===v.key})===undefined){n.push(v)}}}}return(i({columns:n,key:u,data:w}))}.bind(this)))}if(this.props.sortable===true){for(var o=0;o<n.length;o++){this.props._sortable[n[o].key]="default"}}var s=false;if(this.props.filterable&&Array.isArray(this.props.filterable)&&this.props.filterable.length>0){s=true}var k=l;if(this.state.filter!==""){k=this.applyFilter(this.state.filter,k)}var m=0;var q=false;var r=k;if(this.props.itemsPerPage>0){m=this.props.itemsPerPage;q=true;r=k.slice(this.state.currentPage*m,(this.state.currentPage+1)*m)}return this.transferPropsTo(React.DOM.table(null,n&&n.length>0?d({columns:n,filtering:s,onFilter:this.onFilter,sort:this.state.currentSort,onSort:this.onSort}):"",React.DOM.tbody({className:"reactable-data"},r),q===true?a({colSpan:n.length,numPages:Math.ceil(k.length/m),currentPage:this.state.currentPage,onPageChange:this.onPageChange}):""))}});return c}());