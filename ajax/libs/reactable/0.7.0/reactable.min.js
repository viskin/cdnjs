Reactable=(function(){if(!Array.prototype.map){Array.prototype.map=function(m){if(this===void 0||this===null){throw new TypeError()}var p=Object(this);var k=p.length>>>0;if(typeof m!=="function"){throw new TypeError()}var o=new Array(k);var l=arguments.length>=2?arguments[1]:void 0;for(var n=0;n<k;n++){if(n in p){o[n]=m.call(l,p[n],n,p)}}return o}}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(l){var k=this.length>>>0;var m=Number(arguments[1])||0;m=(m<0)?Math.ceil(m):Math.floor(m);if(m<0){m+=k}for(;m<k;m++){if(m in this&&this[m]===l){return m}}return -1}}if(!Array.prototype.find){Object.defineProperty(Array.prototype,"find",{enumerable:false,configurable:true,writable:true,value:function(k){if(this==null){throw new TypeError("Array.prototype.find called on null or undefined")}if(typeof k!=="function"){throw new TypeError("predicate must be a function")}var p=Object(this);var n=p.length>>>0;var l=arguments[1];var o;for(var m=0;m<n;m++){if(m in p){o=p[m];if(k.call(l,o,m,p)){return o}}}return undefined}})}if(!Array.isArray){Array.isArray=function(k){return Object.prototype.toString.call(k)==="[object Array]"}}var c={};function h(k){this.content=k}h.prototype.toString=function(){return this.content};c.unsafe=function(k){return new h(k)};c.Sort={Numeric:function(m,k){var n=parseFloat(m.toString().replace(",",""));var l=parseFloat(k.toString().replace(",",""));if(isNaN(n)&&isNaN(l)){n=m;l=k}else{if(isNaN(n)){return 1}if(isNaN(l)){return -1}}if(n<l){return -1}if(n>l){return 1}return 0},Currency:function(l,k){if(l[0]==="$"){l=l.substring(1)}if(k[0]==="$"){k=k.substring(1)}return c.Sort.Numeric(l,k)},Date:function(m,k){var n=Date.parse(m);var l=Date.parse(k);if(isNaN(n)||isNaN(l)){return c.Sort.Numeric(m,k)}if(n>l){return 1}if(l>n){return -1}return 0},CaseInsensitive:function(m,k){var n=m.toLowerCase();var l=k.toLowerCase();if(n>l){return 1}if(l>n){return -1}return 0}};var e=c.Td=React.createClass({displayName:"Td",handleClick:function(k){if(typeof this.props.handleClick!=="undefined"){return this.props.handleClick(k,this)}},render:function(){var m={"data-column":this.props.column.key,className:this.props.className,onClick:this.handleClick};for(var k in this.props.column){if(k!=="key"&&k!=="name"){m[k]=this.props.column[k]}}var l=this.props.data;if(typeof(this.props.data)==="undefined"&&typeof(this.props.children)==="string"){l=this.props.children}if(typeof(this.props.children)!=="undefined"){if(this.props.children instanceof h){m.dangerouslySetInnerHTML={__html:this.props.children.toString()}}else{m.children=l}}return React.DOM.td(m)}});var i=c.Tr=React.createClass({displayName:"Tr",statics:{childNode:e,dataType:"object"},getDefaultProps:function(){var k={childNode:e,columns:[],data:{}};return k},render:function(){var k=this.props.children||[];if(this.props.data&&this.props.columns&&typeof this.props.columns.map==="function"){k=k.concat(this.props.columns.map(function(m,l){if(this.props.data.hasOwnProperty(m.key)){return e({column:m,key:m.key},this.props.data[m.key])}else{return e({column:m,key:m.key})}}.bind(this)))}return this.transferPropsTo(React.DOM.tr(null,k))}});var d=c.Thead=React.createClass({displayName:"Thead",getColumns:function(){return React.Children.map(this.props.children,function(k){if(typeof k.props.children==="string"){return k.props.children}else{throw new TypeError("<th> must have a string child")}})},render:function(){return this.transferPropsTo(React.DOM.thead(null,this.props.filtering===true?g({colSpan:this.props.columns.length,onFilter:this.props.onFilter}):"",React.DOM.tr({className:"reactable-column-header"},this.props.columns.map(function(m,l){var k="";if(this.props.sort.column===m.key){k="reactable-header-sort";if(this.props.sort.direction===1){k+="-asc"}else{k+="-desc"}}return(React.DOM.th({className:k,key:l,onClick:function(){this.props.onSort(m.key)}.bind(this)},m.label))}.bind(this)))))}});var b=c.Th=React.createClass({displayName:"Th",render:function(){return this.transferPropsTo(React.DOM.th(null,this.props.children))}});var j=React.createClass({displayName:"FiltererInput",render:function(){return(React.DOM.input({type:"text",className:"reactable-filter-input",onKeyUp:function(){this.props.onFilter(this.getDOMNode().value)}.bind(this)}))}});var g=React.createClass({displayName:"Filterer",render:function(){if(typeof this.props.colSpan==="undefined"){throw new TypeError("Must pass a colSpan argument to Filterer")}return(React.DOM.tr({className:"reactable-filterer"},React.DOM.td({colSpan:this.props.colSpan},j({onFilter:this.props.onFilter}))))}});var a=React.createClass({displayName:"Paginator",render:function(){if(typeof this.props.colSpan==="undefined"){throw new TypeError("Must pass a colSpan argument to Paginator")}if(typeof this.props.numPages==="undefined"){throw new TypeError("Must pass a non-zero numPages argument to Paginator")}if(typeof this.props.currentPage==="undefined"){throw new TypeError("Must pass a currentPage argument to Paginator")}var m=[];for(var k=0;k<this.props.numPages;k++){var n=k;var l="reactable-page-button";if(this.props.currentPage===k){l+=" reactable-current-page"}m.push(React.DOM.a({className:l,key:k,onClick:(function(o){return function(){this.props.onPageChange(o)}.bind(this)}.bind(this))(k)},k+1))}return(React.DOM.tbody({className:"reactable-pagination"},React.DOM.tr(null,React.DOM.td({colSpan:this.props.colSpan},m))))}});var f=c.Table=React.createClass({displayName:"Table",translateColumnsArray:function(k){return k.map(function(n,m){if(typeof(n)==="string"){return{key:n,label:n}}else{if(typeof(n.sortable)!=="undefined"){var l=n.sortable===true?"default":n.sortable;this._sortable[n.key]=l}return n}}.bind(this))},parseChildData:function(k){var l=[];if(typeof(k.children)!=="undefined"){React.Children.forEach(k.children,function(q){var o=q.props.data||{};if(typeof(q.props.children)!=="undefined"&&typeof(q.props.children.map)==="function"){var p=q.props.children;for(var m=0;m<p.length;m++){var n=p[m];if(true){if(typeof(n.props.column)!=="undefined"){if(typeof(n.props.data)!=="undefined"){o[n.props.column]=n.props.data}else{if(typeof(n.props.children)!=="undefined"){o[n.props.column]=n.props.children}else{console.warn("Reactable.Td specified without a `data` property or children, ignoring")}}}else{console.warn("Reactable.Td specified without a `column` property, ignoring")}}}}l.push(o)}.bind(this))}return l},initialize:function(k){this.data=k.data||[];this.data=this.data.concat(this.parseChildData(k));this.initializeSorts(k)},initializeSorts:function(){this._sortable={};for(var m in this.props.sortable){var n=this.props.sortable[m];var l,k;if(n instanceof Object){if(typeof(n.column)!=="undefined"){l=n.column}else{console.warn("Sortable column specified without column name");return}if(typeof(n.sortFunction)!=="undefined"&&n.sortFunction instanceof Function){k=n.sortFunction}else{k="default"}}else{l=n;k="default"}this._sortable[l]=k}},getDefaultProps:function(){var k={columns:[],sortable:[],filterable:[],defaultSort:false,itemsPerPage:0};return k},getInitialState:function(){var k={currentPage:0,currentSort:{column:null,direction:1},filter:""};if(this.props.defaultSort!==false){var n=this.props.defaultSort;var m={};if(n instanceof Object){var l,o;if(typeof(n.column)!=="undefined"){l=n.column}else{console.warn("Default column specified without column name");return}if(typeof(n.direction)!=="undefined"){if(n.direction===1||n.direction==="asc"){o=1}else{if(n.direction===-1||n.direction==="desc"){o=-1}else{console.warn("Invalid default sort specified.  Defaulting to ascending");o=1}}}else{sortFunction=1}}else{l=n;o=1}k.currentSort={column:l,direction:o}}return k},componentWillMount:function(){this.initialize(this.props);this.sortByCurrentSort()},componentWillReceiveProps:function(k){this.initialize(k);this.sortByCurrentSort()},onPageChange:function(k){this.setState({currentPage:k})},onFilter:function(k){this.setState({filter:k})},applyFilter:function(n,m){var n=n.toLowerCase();var o=[];for(var l=0;l<m.length;l++){var p=m[l].props.data;for(var k=0;k<this.props.filterable.length;k++){var q=this.props.filterable[k];if(typeof(p[q])!=="undefined"&&p[q].toString().toLowerCase().indexOf(n)>-1){o.push(m[l]);break}}}return o},sortByCurrentSort:function(){var k=this.state.currentSort;if(k.column===null){return}this.data.sort(function(o,m){var n=o[k.column];n=n?n.toString():"";var l=m[k.column];l=l?l.toString():"";if(this._sortable[k.column]==="default"){if(n<l){return -1*k.direction}if(n>l){return 1*k.direction}return 0}else{if(k.direction===1){return this._sortable[k.column](n,l)}else{return this._sortable[k.column](l,n)}}}.bind(this))},onSort:function(l){if(typeof(this._sortable[l])==="undefined"){return}var k=this.state.currentSort;if(k.column===l){k.direction*=-1}else{k.column=l;k.direction=1}this.setState({currentSort:k});this.sortByCurrentSort()},render:function(){var l=[];var o;var r=false;if(this.props.children&&this.props.children.length>0&&this.props.children[0].type.ConvenienceConstructor===d){o=this.props.children[0].getColumns()}else{o=this.props.columns||[]}if(o.length>0){r=true;o=this.translateColumnsArray(o)}if(this.data&&typeof this.data.map==="function"){l=l.concat(this.data.map(function(y,w){for(var v in y){if(y.hasOwnProperty(v)){if(r===false){var x={key:v,label:v};if(o.find(function(z){return z.key===x.key})===undefined){o.push(x)}}}}return(i({columns:o,key:w,data:y}))}.bind(this)))}if(this.props.sortable===true){for(var p=0;p<o.length;p++){this._sortable[o[p].key]="default"}}var u=false;if(this.props.filterable&&Array.isArray(this.props.filterable)&&this.props.filterable.length>0){u=true}var k=l;if(this.state.filter!==""){k=this.applyFilter(this.state.filter,k)}var m=0;var s=false;var n;var q=this.state.currentPage;var t=k;if(this.props.itemsPerPage>0){m=this.props.itemsPerPage;n=Math.ceil(k.length/m);if(q>n-1){q=n-1}s=true;t=k.slice(q*m,(q+1)*m)}return this.transferPropsTo(React.DOM.table(null,o&&o.length>0?d({columns:o,filtering:u,onFilter:this.onFilter,sort:this.state.currentSort,onSort:this.onSort}):"",React.DOM.tbody({className:"reactable-data"},t),s===true?a({colSpan:o.length,numPages:n,currentPage:q,onPageChange:this.onPageChange}):""))}});return c}());