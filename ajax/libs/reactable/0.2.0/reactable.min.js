Reactable=(function(){if(!Array.prototype.map){Array.prototype.map=function(l){if(this===void 0||this===null){throw new TypeError()}var o=Object(this);var j=o.length>>>0;if(typeof l!=="function"){throw new TypeError()}var n=new Array(j);var k=arguments.length>=2?arguments[1]:void 0;for(var m=0;m<j;m++){if(m in o){n[m]=l.call(k,o[m],m,o)}}return n}}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(j){var i=this.length>>>0;var k=Number(arguments[1])||0;k=(k<0)?Math.ceil(k):Math.floor(k);if(k<0){k+=i}for(;k<i;k++){if(k in this&&this[k]===j){return k}}return -1}}if(!Array.isArray){Array.isArray=function(i){return Object.prototype.toString.call(i)==="[object Array]"}}var d={};var a={parseChildData:function(i){var j=[];if(typeof(this.props.children)!=="undefined"){React.Children.forEach(this.props.children,function(k){if(k.type.ConvenienceConstructor===this.type.ConvenienceConstructor.childNode){j.push(k.props.data)}}.bind(this))}return j}};var c=d.Td=React.createClass({displayName:"Td",render:function(){return this.transferPropsTo(React.DOM.td(null,this.props.children))}});var g=d.Tr=React.createClass({displayName:"Tr",statics:{childNode:c},mixins:[a],getDefaultProps:function(){var i={childNode:c,data:this.parseChildData(),columns:[]};return i},render:function(){var i=this.props.children||[];if(this.props.data&&this.props.columns&&typeof this.props.columns.map==="function"){i=i.concat(this.props.columns.map(function(k,j){if(this.props.data.hasOwnProperty(k)){return c({col:k,key:k},this.props.data[k])}else{return c({col:k,key:k})}}.bind(this)))}return this.transferPropsTo(React.DOM.tr(null,i))}});var e=d.Thead=React.createClass({displayName:"Thead",getColumns:function(){return React.Children.map(this.props.children,function(i){if(typeof i.props.children==="string"){return i.props.children}else{throw new TypeError("<th> must have a string child")}})},render:function(){return this.transferPropsTo(React.DOM.thead(null,React.DOM.tr(null,this.props.columns.map(function(k,j){var i="";if(this.props.sort.column===k){i="reactable-header-sort";if(this.props.sort.direction===1){i+="-asc"}else{i+="-desc"}}return(React.DOM.th({className:i,key:j,onClick:function(){this.props.onSort(k)}.bind(this)},k))}.bind(this)))))}});var f=d.Th=React.createClass({displayName:"Th",render:function(){return this.transferPropsTo(React.DOM.th(null,this.props.children))}});var h=React.createClass({displayName:"Paginator",render:function(){if(typeof this.props.colSpan==="undefined"){throw new TypeError("Must pass a colSpan argument to Paginator")}if(typeof this.props.numPages==="undefined"||this.props.numPages===0){throw new TypeError("Must pass a non-zero numPages argument to Paginator")}if(typeof this.props.currentPage==="undefined"){throw new TypeError("Must pass a currentPage argument to Paginator")}var l=[];for(var j=0;j<this.props.numPages;j++){var m=j;var k="reactable-page-button";if(this.props.currentPage===j){k+=" reactable-current-page"}l.push(React.DOM.a({className:k,key:j,onClick:(function(i){return function(){this.props.onPageChange(i)}.bind(this)}.bind(this))(j)},j+1))}return(React.DOM.tbody({className:"reactable-pagination"},React.DOM.tr(null,React.DOM.td({colSpan:this.props.colSpan},l))))}});var b=d.Table=React.createClass({displayName:"Table",statics:{childNode:g},mixins:[a],getDefaultProps:function(){var n={data:this.parseChildData(),columns:[],sortable:[],defaultSort:false,itemsPerPage:0,_sortable:[]};for(var l in this.props.sortable){var m=this.props.sortable[l];var k,j;if(m instanceof Object){if(typeof(m.column)!=="undefined"){k=m.column}else{console.warn("Sortable column specified without column name");return}if(typeof(m.sortFunction)!=="undefined"&&m.sortFunction instanceof Function){j=m.sortFunction}else{j="default"}}else{k=m;j="default"}n._sortable[k]=j}return n},getInitialState:function(){var i={currentPage:0,currentSort:{column:null,direction:1}};if(this.props.defaultSort!==false){var l=this.props.defaultSort;var k={};if(l instanceof Object){var j,m;if(typeof(l.column)!=="undefined"){j=l.column}else{console.warn("Default column specified without column name");return}if(typeof(l.direction)!=="undefined"){if(l.direction===1||l.direction==="asc"){m=1}else{if(l.direction===-1||l.direction==="desc"){m=-1}else{console.warn("Invalid default sort specified.  Defaulting to ascending");m=1}}}else{sortFunction=1}}else{j=l;m=1}i.currentSort={column:j,direction:m}}return i},componentWillMount:function(){this.sortByCurrentSort()},onPageChange:function(i){this.setState({currentPage:i})},sortByCurrentSort:function(){var i=this.state.currentSort;if(i.column===null){return}this.props.data.sort(function(m,k){var l=m[i.column];var j=k[i.column];if(this.props._sortable[i.column]==="default"){if(l<j){return -1*i.direction}if(l>j){return 1*i.direction}return 0}else{if(i.direction===1){return this.props._sortable[i.column](l,j)}else{return this.props._sortable[i.column](j,l)}}}.bind(this))},onSort:function(j){if(typeof(this.props._sortable[j])==="undefined"){return}var i=this.state.currentSort;if(i.column===j){i.direction*=-1}else{i.column=j;i.direction=1}this.setState({currentSort:i});this.sortByCurrentSort()},render:function(){var m=[];var l;if(this.props.children&&this.props.children.length>0&&this.props.children[0].type.ConvenienceConstructor===e){l=this.props.children[0].getColumns()}else{l=this.props.columns||[]}if(this.props.data&&typeof this.props.data.map==="function"){m=m.concat(this.props.data.map(function(p,o){for(var n in p){if(p.hasOwnProperty(n)){if(l.indexOf(n)<0){l.push(n)}}}return g({columns:l,data:p,key:o})}.bind(this)))}var i;var k=0;var j=false;if(this.props.itemsPerPage>0){k=this.props.itemsPerPage;j=true;i=m.slice(this.state.currentPage*k,(this.state.currentPage+1)*k)}else{i=m}return this.transferPropsTo(React.DOM.table(null,l&&l.length>0?e({columns:l,sort:this.state.currentSort,onSort:this.onSort}):"",React.DOM.tbody({className:"reactable-data"},i),j===true?h({colSpan:l.length,numPages:Math.ceil(this.props.data.length/k),currentPage:this.state.currentPage,onPageChange:this.onPageChange}):""))}});return d}());