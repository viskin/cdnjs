Reactable=(function(){if(!Array.prototype.map){Array.prototype.map=function(l){if(this===void 0||this===null){throw new TypeError()}var o=Object(this);var j=o.length>>>0;if(typeof l!=="function"){throw new TypeError()}var n=new Array(j);var k=arguments.length>=2?arguments[1]:void 0;for(var m=0;m<j;m++){if(m in o){n[m]=l.call(k,o[m],m,o)}}return n}}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(k){var j=this.length>>>0;var l=Number(arguments[1])||0;l=(l<0)?Math.ceil(l):Math.floor(l);if(l<0){l+=j}for(;l<j;l++){if(l in this&&this[l]===k){return l}}return -1}}if(!Array.isArray){Array.isArray=function(j){return Object.prototype.toString.call(j)==="[object Array]"}}var c={};c.Sort={Numeric:function(l,j){var m=parseFloat(l.toString().replace(",",""));var k=parseFloat(j.toString().replace(",",""));if(isNaN(m)&&isNaN(k)){m=l;k=j}else{if(isNaN(m)){return 1}if(isNaN(k)){return -1}}if(m<k){return -1}if(m>k){return 1}return 0},Currency:function(k,j){if(k[0]==="$"){k=k.substring(1)}if(j[0]==="$"){j=j.substring(1)}return c.Sort.Numeric(k,j)},Date:function(l,j){var m=Date.parse(l);var k=Date.parse(j);if(isNaN(m)||isNaN(k)){return c.Sort.Numeric(l,j)}if(m>k){return 1}if(k>m){return -1}return 0},CaseInsensitive:function(l,j){var m=l.toLowerCase();var k=j.toLowerCase();if(m>k){return 1}if(k>m){return -1}return 0}};var e=c.Td=React.createClass({displayName:"Td",getDefaultProps:function(){var j=this.props;if(typeof(j.data)==="undefined"&&typeof(this.props.children)==="string"){j.data=this.props.children}return j},render:function(){return this.transferPropsTo(React.DOM.td(null,this.props.children))}});var h=c.Tr=React.createClass({displayName:"Tr",statics:{childNode:e,dataType:"object"},getDefaultProps:function(){var j={childNode:e,columns:[],data:{}};return j},render:function(){var j=this.props.children||[];if(this.props.data&&this.props.columns&&typeof this.props.columns.map==="function"){j=j.concat(this.props.columns.map(function(l,k){if(this.props.data.hasOwnProperty(l)){return e({column:l,key:l},this.props.data[l])}else{return e({column:l,key:l})}}.bind(this)))}return this.transferPropsTo(React.DOM.tr(null,j))}});var d=c.Thead=React.createClass({displayName:"Thead",getColumns:function(){return React.Children.map(this.props.children,function(j){if(typeof j.props.children==="string"){return j.props.children}else{throw new TypeError("<th> must have a string child")}})},render:function(){return this.transferPropsTo(React.DOM.thead(null,this.props.filtering===true?g({colSpan:this.props.columns.length,onFilter:this.props.onFilter}):"",React.DOM.tr({className:"reactable-column-header"},this.props.columns.map(function(l,k){var j="";if(this.props.sort.column===l){j="reactable-header-sort";if(this.props.sort.direction===1){j+="-asc"}else{j+="-desc"}}return(React.DOM.th({className:j,key:k,onClick:function(){this.props.onSort(l)}.bind(this)},l))}.bind(this)))))}});var b=c.Th=React.createClass({displayName:"Th",render:function(){return this.transferPropsTo(React.DOM.th(null,this.props.children))}});var i=React.createClass({displayName:"FiltererInput",render:function(){return(React.DOM.input({type:"text",className:"reactable-filter-input",onKeyUp:function(){this.props.onFilter(this.getDOMNode().value)}.bind(this)}))}});var g=React.createClass({displayName:"Filterer",render:function(){if(typeof this.props.colSpan==="undefined"){throw new TypeError("Must pass a colSpan argument to Filterer")}return(React.DOM.tr({className:"reactable-filterer"},React.DOM.td({colSpan:this.props.colSpan},i({onFilter:this.props.onFilter}))))}});var a=React.createClass({displayName:"Paginator",render:function(){if(typeof this.props.colSpan==="undefined"){throw new TypeError("Must pass a colSpan argument to Paginator")}if(typeof this.props.numPages==="undefined"||this.props.numPages===0){throw new TypeError("Must pass a non-zero numPages argument to Paginator")}if(typeof this.props.currentPage==="undefined"){throw new TypeError("Must pass a currentPage argument to Paginator")}var l=[];for(var j=0;j<this.props.numPages;j++){var m=j;var k="reactable-page-button";if(this.props.currentPage===j){k+=" reactable-current-page"}l.push(React.DOM.a({className:k,key:j,onClick:(function(n){return function(){this.props.onPageChange(n)}.bind(this)}.bind(this))(j)},j+1))}return(React.DOM.tbody({className:"reactable-pagination"},React.DOM.tr(null,React.DOM.td({colSpan:this.props.colSpan},l))))}});var f=c.Table=React.createClass({displayName:"Table",parseChildData:function(){var j=[];if(typeof(this.props.children)!=="undefined"){React.Children.forEach(this.props.children,function(o){if(o.type.ConvenienceConstructor!==h){return}var m=o.props.data||{};if(typeof(o.props.children)!=="undefined"&&typeof(o.props.children.map)==="function"){var n=o.props.children;for(var k=0;k<n.length;k++){var l=n[k];if(l.type.ConvenienceConstructor===e){if(typeof(l.props.column)!=="undefined"){if(typeof(l.props.data)!=="undefined"){m[l.props.column]=l.props.data}else{if(typeof(l.props.children)==="string"){m[l.props.column]=l.props.children}else{console.warn("Reactable.Td specified without a `data` property or children, ignoring")}}}else{console.warn("Reactable.Td specified without a `column` property, ignoring")}}}}j.push(m)}.bind(this))}return j},getDefaultProps:function(){var n=this.props.data||[];var o={data:n.concat(this.parseChildData()),columns:[],sortable:[],filterable:[],defaultSort:false,itemsPerPage:0,_sortable:[]};for(var l in this.props.sortable){var m=this.props.sortable[l];var k,j;if(m instanceof Object){if(typeof(m.column)!=="undefined"){k=m.column}else{console.warn("Sortable column specified without column name");return}if(typeof(m.sortFunction)!=="undefined"&&m.sortFunction instanceof Function){j=m.sortFunction}else{j="default"}}else{k=m;j="default"}o._sortable[k]=j}return o},getInitialState:function(){var j={currentPage:0,currentSort:{column:null,direction:1},filter:""};if(this.props.defaultSort!==false){var m=this.props.defaultSort;var l={};if(m instanceof Object){var k,n;if(typeof(m.column)!=="undefined"){k=m.column}else{console.warn("Default column specified without column name");return}if(typeof(m.direction)!=="undefined"){if(m.direction===1||m.direction==="asc"){n=1}else{if(m.direction===-1||m.direction==="desc"){n=-1}else{console.warn("Invalid default sort specified.  Defaulting to ascending");n=1}}}else{sortFunction=1}}else{k=m;n=1}j.currentSort={column:k,direction:n}}return j},componentWillMount:function(){this.sortByCurrentSort()},onPageChange:function(j){this.setState({currentPage:j})},onFilter:function(j){this.setState({filter:j})},applyFilter:function(n,m){var n=n.toLowerCase();var o=[];for(var l=0;l<m.length;l++){var p=m[l].props.data;for(var k=0;k<this.props.filterable.length;k++){var q=this.props.filterable[k];if(p[q].toString().toLowerCase().indexOf(n)>-1){o.push(m[l]);break}}}return o},sortByCurrentSort:function(){var j=this.state.currentSort;if(j.column===null){return}this.props.data.sort(function(n,l){var m=n[j.column];var k=l[j.column];if(this.props._sortable[j.column]==="default"){if(m<k){return -1*j.direction}if(m>k){return 1*j.direction}return 0}else{if(j.direction===1){return this.props._sortable[j.column](m,k)}else{return this.props._sortable[j.column](k,m)}}}.bind(this))},onSort:function(k){if(typeof(this.props._sortable[k])==="undefined"){return}var j=this.state.currentSort;if(j.column===k){j.direction*=-1}else{j.column=k;j.direction=1}this.setState({currentSort:j});this.sortByCurrentSort()},render:function(){var o=[];var n;if(this.props.children&&this.props.children.length>0&&this.props.children[0].type.ConvenienceConstructor===d){n=this.props.children[0].getColumns()}else{n=this.props.columns||[]}if(this.props.data&&typeof this.props.data.map==="function"){o=o.concat(this.props.data.map(function(u,s){for(var r in u){if(u.hasOwnProperty(r)){if(n.indexOf(r)<0){n.push(r)}}}var t=[];for(var r in u){if(u.hasOwnProperty(r)){t.push(e({column:r,key:r},u[r]))}}return(h({columns:n,key:s,data:u}))}.bind(this)))}if(this.props.sortable===true){for(var m=0;m<n.length;m++){this.props._sortable[n[m]]="default"}}var q=false;if(this.props.filterable&&Array.isArray(this.props.filterable)&&this.props.filterable.length>0){q=true}var p=o;if(this.state.filter!==""){p=this.applyFilter(this.state.filter,p)}var l=0;var k=false;var j=p;if(this.props.itemsPerPage>0){l=this.props.itemsPerPage;k=true;j=p.slice(this.state.currentPage*l,(this.state.currentPage+1)*l)}return this.transferPropsTo(React.DOM.table(null,n&&n.length>0?d({columns:n,filtering:q,onFilter:this.onFilter,sort:this.state.currentSort,onSort:this.onSort}):"",React.DOM.tbody({className:"reactable-data"},j),k===true?a({colSpan:n.length,numPages:Math.ceil(p.length/l),currentPage:this.state.currentPage,onPageChange:this.onPageChange}):""))}});return c}());