(function(b){function c(d){var f=b("");try{f=b(d).clone()}catch(g){f=b("<span />").html(d)}return f}function a(d){return !!(typeof Node==="object"?d instanceof Node:d&&typeof d==="object"&&typeof d.nodeType==="number"&&typeof d.nodeName==="string")}b.print=b.fn.print=function(){var p,j,o=this;if(o instanceof b){o=o.get(0)}if(a(o)){j=b(o);if(arguments.length>0){p=arguments[0]}}else{if(arguments.length>0){j=b(arguments[0]);if(a(j[0])){if(arguments.length>1){p=arguments[1]}}else{p=arguments[0];j=b("html")}}else{j=b("html")}}var f={globalStyles:true,mediaPrint:false,stylesheet:null,noPrintSelector:".no-print",iframe:true,append:null,prepend:null};p=b.extend({},f,(p||{}));var g=b("");if(p.globalStyles){g=b("style, link, meta, title")}else{if(p.mediaPrint){g=b("link[media=print]")}}if(p.stylesheet){g=b.merge(g,b('<link rel="stylesheet" href="'+p.stylesheet+'">'))}var d=j.clone();d=b("<span/>").append(d);d.find(p.noPrintSelector).remove();d.append(g.clone());d.append(c(p.append));d.prepend(c(p.prepend));var i=d.html();d.remove();var l,k;if(p.iframe){try{var n=b(p.iframe+"");var m=n.length;if(m===0){n=b('<iframe height="0" width="0" border="0" wmode="Opaque"/>').prependTo("body").css({position:"absolute",top:-999,left:-999})}l=n.get(0);l=l.contentWindow||l.contentDocument||l;k=l.document||l.contentDocument||l;k.open();k.write(i);k.close();setTimeout(function(){l.focus();l.print();setTimeout(function(){if(m===0){n.remove()}},100)},250)}catch(h){console.error("Failed to print from iframe",h.stack,h.message);l=window.open();l.document.write(i);l.document.close();l.focus();l.print();l.close()}}else{l=window.open();l.document.write(i);l.document.close();l.focus();l.print();l.close()}return this}})(jQuery);