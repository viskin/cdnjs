"use strict";function loadStateFromLocalStorage(t,e){function a(){t.__stateLoadedFromLS=!0,e()}if(ls){var o=getLocalStorageKey(t),r=!1;try{var l=JSON.parse(ls.getItem(o));l&&(r=!0,t.setState(l,a))}catch(s){console&&console.warn("Unable to load state for",getDisplayName(t),"from localStorage.")}r||a()}}function getDisplayName(t){return t.displayName||t.constructor.displayName}function getLocalStorageKey(t){return t.getLocalStorageKey?t.getLocalStorageKey():t.props.localStorageKey||getDisplayName(t)||"react-localstorage"}var React=require("react"),invariant=require("react/lib/invariant"),warn=require("react/lib/warning"),hasLocalStorage="localStorage"in global,ls,testKey;if(hasLocalStorage){testKey="react-localstorage.mixin.test-key";try{ls=global.localStorage,ls.setItem(testKey,"foo"),ls.removeItem(testKey)}catch(e){hasLocalStorage=!1}}process.browser&&warn(hasLocalStorage,"localStorage not found. Component state will not be stored to localStorage.");var Mixin=module.exports={componentDidUpdate:function(t,e){if(hasLocalStorage&&this.__stateLoadedFromLS){var a=getLocalStorageKey(this),o=ls.getItem(a);o&&"production"!==process.env.NODE_ENV&&invariant(o===JSON.stringify(e),"While component "+getDisplayName(this)+" was saving state to localStorage, the localStorage entry was modified by another actor. This can happen when multiple components are using the same localStorage key. Set the property `localStorageKey` on "+getDisplayName(this)+"."),ls.setItem(a,JSON.stringify(this.state))}},componentDidMount:function(){if(hasLocalStorage){var t=this;loadStateFromLocalStorage(this,function(){ls.setItem(getLocalStorageKey(t),JSON.stringify(t.state))})}}};
//# sourceMappingURL=react-localstorage/0.2.4/react-localstorage.min.js.map