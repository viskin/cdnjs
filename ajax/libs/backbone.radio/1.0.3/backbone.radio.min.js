// Backbone.Radio v1.0.3
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};!function(e,n){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=n(require("underscore"),require("backbone")):"function"==typeof define&&define.amd?define(["underscore","backbone"],n):(e.Backbone=e.Backbone||{},e.Backbone.Radio=n(e._,e.Backbone))}(void 0,function(e,n){function t(e,n,t,r){var o=e[n];return t&&t!==o.callback&&t!==o.callback._callback||r&&r!==o.context?void 0:(delete e[n],!0)}function r(n,r,o,i){n||(n={});for(var u=r?[r]:e.keys(n),s=!1,a=0,c=u.length;c>a;a++)r=u[a],n[r]&&t(n,r,o,i)&&(s=!0);return s}function o(n){return c[n]||(c[n]=e.partial(s.log,n))}function i(n){return e.isFunction(n)?n:function(){return n}}e="default"in e?e["default"]:e,n="default"in n?n["default"]:n;var u=n.Radio,s=n.Radio={};s.VERSION="1.0.3",s.noConflict=function(){return n.Radio=u,this},s.DEBUG=!1,s._debugText=function(e,n,t){return e+(t?" on the "+t+" channel":"")+': "'+n+'"'},s.debugLog=function(e,n,t){s.DEBUG&&console&&console.warn&&console.warn(s._debugText(e,n,t))};var a=/\s+/;s._eventsApi=function(n,t,r,o){if(!r)return!1;var i={};if("object"===("undefined"==typeof r?"undefined":_typeof(r))){for(var u in r){var s=n[t].apply(n,[u,r[u]].concat(o));a.test(u)?e.extend(i,s):i[u]=s}return i}if(a.test(r)){for(var c=r.split(a),l=0,f=c.length;f>l;l++)i[c[l]]=n[t].apply(n,[c[l]].concat(o));return i}return!1},s._callHandler=function(e,n,t){var r=t[0],o=t[1],i=t[2];switch(t.length){case 0:return e.call(n);case 1:return e.call(n,r);case 2:return e.call(n,r,o);case 3:return e.call(n,r,o,i);default:return e.apply(n,t)}};var c={};e.extend(s,{log:function(n,t){if("undefined"!=typeof console){var r=e.drop(arguments,2);console.log("["+n+'] "'+t+'"',r)}},tuneIn:function(e){var n=s.channel(e);return n._tunedIn=!0,n.on("all",o(e)),this},tuneOut:function(e){var n=s.channel(e);return n._tunedIn=!1,n.off("all",o(e)),delete c[e],this}}),s.Requests={request:function(n){var t=e.rest(arguments),r=s._eventsApi(this,"request",n,t);if(r)return r;var o=this.channelName,i=this._requests;if(o&&this._tunedIn&&s.log.apply(this,[o,n].concat(t)),i&&(i[n]||i["default"])){var u=i[n]||i["default"];return t=i[n]?t:arguments,s._callHandler(u.callback,u.context,t)}s.debugLog("An unhandled request was fired",n,o)},reply:function(e,n,t){return s._eventsApi(this,"reply",e,[n,t])?this:(this._requests||(this._requests={}),this._requests[e]&&s.debugLog("A request was overwritten",e,this.channelName),this._requests[e]={callback:i(n),context:t||this},this)},replyOnce:function(n,t,r){if(s._eventsApi(this,"replyOnce",n,[t,r]))return this;var o=this,u=e.once(function(){return o.stopReplying(n),i(t).apply(this,arguments)});return this.reply(n,u,r)},stopReplying:function(e,n,t){return s._eventsApi(this,"stopReplying",e)?this:(e||n||t?r(this._requests,e,n,t)||s.debugLog("Attempted to remove the unregistered request",e,this.channelName):delete this._requests,this)}},s._channels={},s.channel=function(e){if(!e)throw new Error("You must provide a name for the channel.");return s._channels[e]?s._channels[e]:s._channels[e]=new s.Channel(e)},s.Channel=function(e){this.channelName=e},e.extend(s.Channel.prototype,n.Events,s.Requests,{reset:function(){return this.off(),this.stopListening(),this.stopReplying(),this}});var l,f,h=[n.Events,s.Requests];return e.each(h,function(n){e.each(n,function(n,t){s[t]=function(n){return f=e.rest(arguments),l=this.channel(n),l[t].apply(l,f)}})}),s.reset=function(n){var t=n?[this._channels[n]]:this._channels;e.invoke(t,"reset")},s});
//# sourceMappingURL=backbone.radio.min.js.map
