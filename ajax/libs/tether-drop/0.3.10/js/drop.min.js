(function(){var n,a,f,i,l,k,h,e,j,d,c,g={}.hasOwnProperty,b=function(r,p){for(var o in p){if(g.call(p,o)){r[o]=p[o]}}function q(){this.constructor=r}q.prototype=p.prototype;r.prototype=new q();r.__super__=p.prototype;return r},m=[].indexOf||function(q){for(var p=0,o=this.length;p<o;p++){if(p in this&&this[p]===q){return p}}return -1};c=Tether.Utils,h=c.extend,f=c.addClass,j=c.removeClass,e=c.hasClass,n=c.Evented;k=function(o){var p;p=false;return function(){if(p){return}p=true;setTimeout(function(){return p=false});return o.apply(this,arguments)}};d=function(r){var q,p,o,s;o=r.split(" "),q=o[0],p=o[1];if(q==="left"||q==="right"){s=[p,q],q=s[0],p=s[1]}return[q,p].join(" ")};a={left:"right",right:"left",top:"bottom",bottom:"top",middle:"middle",center:"center"};i={};l=function(s){var r,p,q,o;if(s==null){s={}}q=function(){return(function(w,u,v){v.prototype=w.prototype;var x=new v,t=w.apply(x,u);return Object(t)===t?t:x})(r,arguments,function(){})};h(q,{createContext:l,drops:[],defaults:{}});p={classPrefix:"drop",defaults:{position:"bottom left",openOn:"click",constrainToScrollParent:true,constrainToWindow:true,classes:"",tetherOptions:{}}};h(q,p,s);h(q.defaults,p.defaults,s.defaults);if(i[o=q.classPrefix]==null){i[o]=[]}q.updateBodyClasses=function(){var w,u,x,v,t;w=false;t=i[q.classPrefix];for(x=0,v=t.length;x<v;x++){u=t[x];if(!(u.isOpened())){continue}w=true;break}if(w){return f(document.body,""+q.classPrefix+"-open")}else{return j(document.body,""+q.classPrefix+"-open")}};r=(function(u){b(t,u);function t(v){this.options=v;this.options=h({},q.defaults,this.options);this.target=this.options.target;if(this.target==null){throw new Error("Drop Error: You must provide a target.")}if(this.options.classes){f(this.target,this.options.classes)}q.drops.push(this);i[q.classPrefix].push(this);this.setupElements();this.setupEvents();this.setupTether()}t.prototype.setupElements=function(){this.drop=document.createElement("div");f(this.drop,q.classPrefix);if(this.options.classes){f(this.drop,this.options.classes)}this.dropContent=document.createElement("div");f(this.dropContent,""+q.classPrefix+"-content");if(typeof this.options.content==="object"){this.dropContent.appendChild(this.options.content)}else{this.dropContent.innerHTML=this.options.content}return this.drop.appendChild(this.dropContent)};t.prototype.setupTether=function(){var w,v;v=this.options.position.split(" ");v[0]=a[v[0]];v=v.join(" ");w=[];if(this.options.constrainToScrollParent){w.push({to:"scrollParent",pin:"top, bottom",attachment:"together none"})}else{w.push({to:"scrollParent"})}if(this.options.constrainToWindow!==false){w.push({to:"window",pin:true,attachment:"together"})}else{w.push({to:"window"})}s={element:this.drop,target:this.target,attachment:d(v),targetAttachment:d(this.options.position),classPrefix:q.classPrefix,offset:"0 0",targetOffset:"0 0",enabled:false,constraints:w};if(this.options.tether!==false){return this.tether=new Tether(h({},s,this.options.tether))}};t.prototype.setupEvents=function(){var v,w,G,z,B,A,E,D,y,F,x,C=this;if(!this.options.openOn){return}G=this.options.openOn.split(" ");if(m.call(G,"click")>=0){B=k(function(){return C.toggle()});v=k(function(H){if(!C.isOpened()){return}if(H.target===C.drop||C.drop.contains(H.target)){return}if(H.target===C.target||C.target.contains(H.target)){return}return C.close()});x=["click","touchstart"];for(y=0,F=x.length;y<F;y++){w=x[y];this.target.addEventListener(w,B);document.addEventListener(w,v)}}if(m.call(G,"hover")>=0){z=false;D=function(){z=true;return C.open()};E=null;A=function(){z=false;if(E!=null){clearTimeout(E)}return E=setTimeout(function(){if(!z){C.close()}return E=null},50)};this.target.addEventListener("mouseover",D);this.drop.addEventListener("mouseover",D);this.target.addEventListener("mouseout",A);return this.drop.addEventListener("mouseout",A)}};t.prototype.isOpened=function(){return e(this.drop,""+q.classPrefix+"-open")};t.prototype.toggle=function(){if(this.isOpened()){return this.close()}else{return this.open()}};t.prototype.open=function(){var v,w=this;if(!this.drop.parentNode){document.body.appendChild(this.drop)}if((v=this.tether)!=null){v.enable()}f(this.drop,""+q.classPrefix+"-open");f(this.drop,""+q.classPrefix+"-open-transitionend");setTimeout(function(){return f(w.drop,""+q.classPrefix+"-after-open")});this.tether.position();this.trigger("open");return q.updateBodyClasses()};t.prototype.close=function(){var v,w=this;j(this.drop,""+q.classPrefix+"-open");j(this.drop,""+q.classPrefix+"-after-open");this.drop.addEventListener("transitionend",function(){if(!e(w.drop,""+q.classPrefix+"-open")){return j(w.drop,""+q.classPrefix+"-open-transitionend")}});this.trigger("close");if((v=this.tether)!=null){v.disable()}return q.updateBodyClasses()};return t})(n);return q};window.Drop=l();document.addEventListener("DOMContentLoaded",function(){return Drop.updateBodyClasses()})}).call(this);