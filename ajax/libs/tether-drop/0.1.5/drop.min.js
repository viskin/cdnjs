/*! drop.js 0.1.5 */
(function(){var a,b,c,d,e,f,g,h=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};a=jQuery,g="ontouchstart"in document.documentElement,d=g?"touchstart":"click",f=function(a){var b,c,d,e;return d=a.split(" "),b=d[0],c=d[1],("left"===b||"right"===b)&&(e=[c,b],b=e[0],c=e[1]),[b,c].join(" ")},b={left:"right",right:"left",top:"bottom",bottom:"top",middle:"middle",center:"center"},c=[],e=function(g){var i,j,k;return k=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(i,arguments,function(){})},a.extend(k,{createContext:e,drops:[]}),j={defaults:{attach:"bottom left",openOn:"click",constrainToScrollParent:!0,constrainToWindow:!0,className:"",tetherOptions:{}}},a.extend(!0,k,j,g),a(document).on("dropopen.drop, dropclose.drop",function(){return k.updateBodyClasses()}),k.updateBodyClasses=function(){var b,d,e,f;for(b=!1,e=0,f=c.length;f>e;e++)if(d=c[e],d.isOpened()){b=!0;break}return b?a("body").addClass("drop-open"):a("body").removeClass("drop-open")},i=function(){function e(b){this.options=b,this.options=a.extend({},k.defaults,this.options),this.$target=a(this.options.target),k.drops.push(this),c.push(this),this.setupElements(),this.setupEvents(),this.setupTether()}return e.prototype.setupElements=function(){return this.$drop=a("<div>"),this.$drop.addClass("drop"),this.$drop.addClass(this.options.className),this.$dropContent=a("<div>"),this.$dropContent.addClass("drop-content"),this.$dropContent.append(this.options.content),this.$drop.append(this.$dropContent)},e.prototype.setupTether=function(){var c,d;return d=this.options.attach.split(" "),d[0]=b[d[0]],d=d.join(" "),c=[],this.options.constrainToScrollParent&&c.push({to:"scrollParent",pin:"top, bottom",attachment:"together none"}),this.options.constrainToWindow!==!1&&c.push({to:"window",pin:!0,attachment:"together"}),c.push({to:"scrollParent"}),g={element:this.$drop[0],target:this.$target[0],attachment:f(d),targetAttachment:f(this.options.attach),offset:"0 0",targetOffset:"0 0",enabled:!1,constraints:c},this.tether=new Tether(a.extend({},g,this.options.tetherOptions))},e.prototype.setupEvents=function(){var b,c=this;if(this.options.openOn)return b=this.options.openOn.split(" "),h.call(b,"click")>=0&&(this.$target.bind(d,function(){return c.toggle()}),a(document).bind(d,function(b){return c.isOpened()&&!(a(b.target).is(c.$drop[0])||c.$drop.find(b.target).length||a(b.target).is(c.$target[0])||c.$target.find(b.target).length)?c.close():void 0})),h.call(b,"hover")>=0?(this.$target.bind("mouseover",function(){return c.open()}),this.$target.bind("mouseout",function(){return c.close()})):void 0},e.prototype.isOpened=function(){return this.$drop.hasClass("drop-open")},e.prototype.toggle=function(){return this.isOpened()?this.close():this.open()},e.prototype.open=function(){return this.$drop.parent().length||a("body").append(this.$drop),this.$target.addClass("drop-open"),this.$drop.addClass("drop-open"),this.$drop.trigger({type:"dropopen",drop:this}),this.tether.enable()},e.prototype.close=function(){return this.$target.removeClass("drop-open"),this.$drop.removeClass("drop-open"),this.$drop.trigger({type:"dropclose",drop:this}),this.tether.disable()},e}(),k},window.Drop=e(),a(function(){return Drop.updateBodyClasses()})}).call(this);