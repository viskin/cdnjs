(function(){var o,a,f,j,l,m,h,e,k,d,i,c,g={}.hasOwnProperty,b=function(s,q){for(var p in q){if(g.call(q,p)){s[p]=q[p]}}function r(){this.constructor=s}r.prototype=q.prototype;s.prototype=new r();s.__super__=q.prototype;return s},n=[].indexOf||function(r){for(var q=0,p=this.length;q<p;q++){if(q in this&&this[q]===r){return q}}return -1};c=Tether.Utils,h=c.extend,f=c.addClass,k=c.removeClass,e=c.hasClass,o=c.Evented;i="ontouchstart" in document.documentElement;l=i?"touchstart":"click";d=function(s){var r,q,p,t;p=s.split(" "),r=p[0],q=p[1];if(r==="left"||r==="right"){t=[q,r],r=t[0],q=t[1]}return[r,q].join(" ")};a={left:"right",right:"left",top:"bottom",bottom:"top",middle:"middle",center:"center"};j={};m=function(t){var s,q,r,p;if(t==null){t={}}r=function(){return(function(x,v,w){w.prototype=x.prototype;var y=new w,u=x.apply(y,v);return Object(u)===u?u:y})(s,arguments,function(){})};h(r,{createContext:m,drops:[],defaults:{}});q={classPrefix:"drop",defaults:{attach:"bottom left",openOn:"click",constrainToScrollParent:true,constrainToWindow:true,classes:"",tetherOptions:{}}};h(r,q,t);h(r.defaults,q.defaults,t.defaults);if(j[p=r.classPrefix]==null){j[p]=[]}r.updateBodyClasses=function(){var x,v,y,w,u;x=false;u=j[r.classPrefix];for(y=0,w=u.length;y<w;y++){v=u[y];if(!(v.isOpened())){continue}x=true;break}if(x){return f(document.body,""+r.classPrefix+"-open")}else{return k(document.body,""+r.classPrefix+"-open")}};s=(function(v){b(u,v);function u(w){this.options=w;this.options=h({},r.defaults,this.options);this.target=this.options.target;if(this.target==null){throw new Error("Drop Error: You must provide a target.")}if(this.options.classes){f(this.target,this.options.classes)}r.drops.push(this);j[r.classPrefix].push(this);this.setupElements();this.setupEvents();this.setupTether()}u.prototype.setupElements=function(){this.drop=document.createElement("div");f(this.drop,r.classPrefix);if(this.options.classes){f(this.drop,this.options.classes)}this.dropContent=document.createElement("div");f(this.dropContent,""+r.classPrefix+"-content");if(typeof this.options.content==="object"){this.dropContent.appendChild(this.options.content)}else{this.dropContent.innerHTML=this.options.content}return this.drop.appendChild(this.dropContent)};u.prototype.setupTether=function(){var x,w;w=this.options.position.split(" ");w[0]=a[w[0]];w=w.join(" ");x=[];if(this.options.constrainToScrollParent){x.push({to:"scrollParent",pin:"top, bottom",attachment:"together none"})}else{x.push({to:"scrollParent"})}if(this.options.constrainToWindow!==false){x.push({to:"window",pin:true,attachment:"together"})}else{x.push({to:"window"})}t={element:this.drop,target:this.target,attachment:d(w),targetAttachment:d(this.options.position),classPrefix:r.classPrefix,offset:"0 0",targetOffset:"0 0",enabled:false,constraints:x};if(this.options.tether!==false){return this.tether=new Tether(h({},t,this.options.tether))}};u.prototype.setupEvents=function(){var w,x=this;if(!this.options.openOn){return}w=this.options.openOn.split(" ");if(n.call(w,"click")>=0){this.target.addEventListener(l,function(){return x.toggle()});document.addEventListener(l,function(y){if(!x.isOpened()){return}if(y.target===x.drop||x.drop.contains(y.target)){return}if(y.target===x.target||x.target.contains(y.target)){return}return x.close()})}if(n.call(w,"hover")>=0){this.target.addEventListener("mouseover",function(){return x.open()});return this.target.addEventListener("mouseout",function(){return x.close()})}};u.prototype.isOpened=function(){return e(this.drop,""+r.classPrefix+"-open")};u.prototype.toggle=function(){if(this.isOpened()){return this.close()}else{return this.open()}};u.prototype.open=function(){var w,x=this;if(!this.drop.parentNode){document.body.appendChild(this.drop)}if((w=this.tether)!=null){w.enable()}f(this.drop,""+r.classPrefix+"-open");f(this.drop,""+r.classPrefix+"-open-transitionend");setTimeout(function(){return f(x.drop,""+r.classPrefix+"-after-open")});this.tether.position();this.trigger("open");return r.updateBodyClasses()};u.prototype.close=function(){var w,x=this;k(this.drop,""+r.classPrefix+"-open");k(this.drop,""+r.classPrefix+"-after-open");this.drop.addEventListener("transitionend",function(){if(!e(x.drop,""+r.classPrefix+"-open")){return k(x.drop,""+r.classPrefix+"-open-transitionend")}});this.trigger("close");if((w=this.tether)!=null){w.disable()}return r.updateBodyClasses()};return u})(o);return r};window.Drop=m();document.addEventListener("DOMContentLoaded",function(){return Drop.updateBodyClasses()})}).call(this);