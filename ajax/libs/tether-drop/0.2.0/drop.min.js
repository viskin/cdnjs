/*! drop.js 0.1.5 */
(function(){var a,b,c,d,e,f,g,h,i,j,k,l={}.hasOwnProperty,m=function(a,b){function c(){this.constructor=a}for(var d in b)l.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},n=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};k=Tether.Utils,f=k.extend,b=k.addClass,h=k.removeClass,g=k.hasClass,j="ontouchstart"in document.documentElement,d=j?"touchstart":"click",i=function(a){var b,c,d,e;return d=a.split(" "),b=d[0],c=d[1],("left"===b||"right"===b)&&(e=[c,b],b=e[0],c=e[1]),[b,c].join(" ")},a={left:"right",right:"left",top:"bottom",bottom:"top",middle:"middle",center:"center"},c=[],e=function(j){var k,l,o;return o=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(k,arguments,function(){})},f(o,{createContext:e,drops:[]}),l={defaults:{attach:"bottom left",openOn:"click",constrainToScrollParent:!0,constrainToWindow:!0,className:"",tetherOptions:{}}},f(!0,o,l,j),o.updateBodyClasses=function(){var a,d,e,f;for(a=!1,e=0,f=c.length;f>e;e++)if(d=c[e],d.isOpened()){a=!0;break}return a?b(document.body,"drop-open"):h(document.body,"drop-open")},k=function(e){function k(a){this.options=a,this.options=f({},o.defaults,this.options),this.target=this.options.target,o.drops.push(this),c.push(this),this.setupElements(),this.setupEvents(),this.setupTether()}return m(k,e),k.prototype.setupElements=function(){return this.drop=document.createElement("div"),b(this.drop,"drop"),this.options.className&&b(this.drop,this.options.className),this.dropContent=document.createElement("div"),b(this.dropContent,"drop-content"),"object"==typeof this.options.content?this.dropContent.appendChild(this.options.content):this.dropContent.innerHTML=this.options.content,this.drop.appendChild(this.dropContent)},k.prototype.setupTether=function(){var b,c;return c=this.options.attach.split(" "),c[0]=a[c[0]],c=c.join(" "),b=[],this.options.constrainToScrollParent&&b.push({to:"scrollParent",pin:"top, bottom",attachment:"together none"}),this.options.constrainToWindow!==!1&&b.push({to:"window",pin:!0,attachment:"together"}),b.push({to:"scrollParent"}),j={element:this.drop,target:this.target,attachment:i(c),targetAttachment:i(this.options.attach),offset:"0 0",targetOffset:"0 0",enabled:!1,constraints:b},this.tether=new Tether(f({},j,this.options.tetherOptions))},k.prototype.setupEvents=function(){var a,b=this;if(this.options.openOn)return a=this.options.openOn.split(" "),n.call(a,"click")>=0&&(this.target.addEventListener(d,function(){return b.toggle()}),document.addEventListener(d,function(a){return!b.isOpened()||a.target===b.drop||b.drop.contains(a.target)||a.target===b.target||b.target.contains(a.target)?void 0:b.close()})),n.call(a,"hover")>=0?(this.target.addEventListener("mouseover",function(){return b.open()}),this.target.addEventListener("mouseout",function(){return b.close()})):void 0},k.prototype.isOpened=function(){return g(this.drop,"drop-open")},k.prototype.toggle=function(){return this.isOpened()?this.close():this.open()},k.prototype.open=function(){return this.drop.parentNode||document.body.appendChild(this.drop),b(this.target,"drop-open"),b(this.drop,"drop-open"),this.trigger("open"),this.tether.enable(),o.updateBodyClasses()},k.prototype.close=function(){return h(this.target,"drop-open"),h(this.drop,"drop-open"),this.trigger("close"),this.tether.disable(),o.updateBodyClasses()},k}(Evented),o},window.Drop=e(),document.addEventListener("DOMContentLoaded",function(){return Drop.updateBodyClasses()})}).call(this);