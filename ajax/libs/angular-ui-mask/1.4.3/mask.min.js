/*!
 * angular-ui-mask
 * https://github.com/angular-ui/ui-mask
 * Version: 1.4.3 - 2015-08-26T07:27:36.805Z
 * License: MIT
 */
!function(){"use strict";angular.module("ui.mask",[]).value("uiMaskConfig",{maskDefinitions:{9:/\d/,A:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/},clearOnBlur:!0,eventsToHandle:["input","keyup","click","focus"]}).directive("uiMask",["uiMaskConfig","$parse",function(e,n){function t(e){return e===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(e.type||e.href||~e.tabIndex)}return{priority:100,require:"ngModel",restrict:"A",compile:function(){var r=e;return function(e,i,u,a){function o(e){return angular.isDefined(e)?(y(e),F?(d(),h(),!0):f()):f()}function l(e){e&&(R=e,F&&i.val(m(v(i.val()))))}function s(e){return F?(j=v(e||""),z=p(j),a.$setValidity("mask",z),z&&j.length?m(j):void 0):e}function c(e){return F?(j=v(e||""),z=p(j),a.$viewValue=j.length?m(j):"",a.$setValidity("mask",z),""===j&&u.required&&a.$setValidity("required",!a.$error.required),z?j:void 0):e}function f(){return F=!1,g(),angular.isDefined(K)?i.attr("placeholder",K):i.removeAttr("placeholder"),angular.isDefined(N)?i.attr("maxlength",N):i.removeAttr("maxlength"),i.val(a.$modelValue),a.$viewValue=a.$modelValue,!1}function d(){j=Z=v(a.$modelValue||""),q=H=m(j),z=p(j),u.maxlength&&i.attr("maxlength",2*E[E.length-1]),K||i.attr("placeholder",R);for(var e=a.$modelValue,n=a.$formatters.length;n--;)e=a.$formatters[n](e);a.$viewValue=e||"",a.$render()}function h(){I||(i.bind("blur",k),i.bind("mousedown mouseup",x),i.bind(W.eventsToHandle.join(" "),M),i.bind("paste",w),I=!0)}function g(){I&&(i.unbind("blur",k),i.unbind("mousedown",x),i.unbind("mouseup",x),i.unbind("input",M),i.unbind("keyup",M),i.unbind("click",M),i.unbind("focus",M),i.unbind("paste",w),I=!1)}function p(e){return e.length?e.length>=T:!0}function v(e){var n="",t=_.slice();return e=e.toString(),angular.forEach(P,function(n){e=e.replace(n,"")}),angular.forEach(e.split(""),function(e){t.length&&t[0].test(e)&&(n+=e,t.shift())}),n}function m(e){var n="",t=E.slice();return angular.forEach(R.split(""),function(r,i){e.length&&i===t[0]?(n+=e.charAt(0)||"_",e=e.substr(1),t.shift()):n+=r}),n}function b(e){var n=angular.isDefined(u.uiMaskPlaceholder)?u.uiMaskPlaceholder:u.placeholder;return"undefined"!=typeof n&&n[e]?n[e]:"_"}function $(){return R.replace(/[_]+/g,"_").replace(/([^_]+)([a-zA-Z0-9])([^_])/g,"$1$2_$3").split("_")}function y(e){var n=0;if(E=[],_=[],R="","string"==typeof e){T=0;var t=!1,r=0,i=e.split("");angular.forEach(i,function(e,i){W.maskDefinitions[e]?(E.push(n),R+=b(i-r),_.push(W.maskDefinitions[e]),n++,t||T++):"?"===e?(t=!0,r++):(R+=e,n++)})}E.push(E.slice().pop()+1),P=$(),F=E.length>1?!0:!1}function k(){W.clearOnBlur&&(B=0,C=0,z&&0!==j.length||(q="",i.val(""),e.$apply(function(){a.$setViewValue("")})))}function x(e){"mousedown"===e.type?i.bind("mouseout",V):i.unbind("mouseout",V)}function V(){C=D(this),i.unbind("mouseout",V)}function w(){S(this,i.val().length)}function M(e){e=e||{};var n=e.which,t=e.type;if(16!==n&&91!==n){var r,u=i.val(),o=H,l=v(u),s=Z,c=A(this)||0,f=B||0,d=c-f,h=E[0],g=E[l.length]||E.slice().shift(),p=C||0,b=D(this)>0,$=p>0,y=u.length>o.length||p&&u.length>o.length-p,k=u.length<o.length||p&&u.length===o.length-p,x=n>=37&&40>=n&&e.shiftKey,V=37===n,w=8===n||"keyup"!==t&&k&&-1===d,M=46===n||"keyup"!==t&&k&&0===d&&!$,_=(V||w||"click"===t)&&c>h;if(C=D(this),!x&&(!b||"click"!==t&&"keyup"!==t)){if("input"===t&&k&&!$&&l===s){for(;w&&c>h&&!O(c);)c--;for(;M&&g>c&&-1===E.indexOf(c);)c++;var R=E.indexOf(c);l=l.substring(0,R)+l.substring(R+1)}for(r=m(l),H=r,Z=l,i.val(r),a.$setViewValue(l),y&&h>=c&&(c=h+1),_&&c--,c=c>g?g:h>c?h:c;!O(c)&&c>h&&g>c;)c+=_?-1:1;(_&&g>c||y&&!O(f))&&c++,B=c,S(this,c)}}}function O(e){return E.indexOf(e)>-1}function A(e){if(!e)return 0;if(void 0!==e.selectionStart)return e.selectionStart;if(document.selection&&t(i[0])){e.focus();var n=document.selection.createRange();return n.moveStart("character",e.value?-e.value.length:0),n.text.length}return 0}function S(e,n){if(!e)return 0;if(0!==e.offsetWidth&&0!==e.offsetHeight)if(e.setSelectionRange)t(i[0])&&(e.focus(),e.setSelectionRange(n,n));else if(e.createTextRange){var r=e.createTextRange();r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",n),r.select()}}function D(e){return e?void 0!==e.selectionStart?e.selectionEnd-e.selectionStart:document.selection?document.selection.createRange().text.length:0:0}var E,_,R,P,T,j,q,z,H,Z,B,C,F=!1,I=!1,K=u.placeholder,N=u.maxlength,W={};u.uiOptions?(W=e.$eval("["+u.uiOptions+"]"),angular.isObject(W[0])&&(W=function(e,n){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(void 0===n[t]?n[t]=angular.copy(e[t]):angular.extend(n[t],e[t]));return n}(r,W[0]))):W=r,u.$observe("uiMask",o),angular.isDefined(u.uiMaskPlaceholder)?u.$observe("uiMaskPlaceholder",l):u.$observe("placeholder",l);var G=!1;u.$observe("modelViewValue",function(e){"true"===e&&(G=!0)}),e.$watch(u.ngModel,function(t){if(G&&t){var r=n(u.ngModel);r.assign(e,a.$viewValue)}}),a.$formatters.push(s),a.$parsers.push(c),i.bind("mousedown mouseup",x),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null===this)throw new TypeError;var n=Object(this),t=n.length>>>0;if(0===t)return-1;var r=0;if(arguments.length>1&&(r=Number(arguments[1]),r!==r?r=0:0!==r&&r!==1/0&&r!==-(1/0)&&(r=(r>0||-1)*Math.floor(Math.abs(r)))),r>=t)return-1;for(var i=r>=0?r:Math.max(t-Math.abs(r),0);t>i;i++)if(i in n&&n[i]===e)return i;return-1})}}}}])}();