/*! vex.dialog 1.0.1 */
(function(){var a,b;return window.vex?(a=function(a){var b;return b={},$.each(a.serializeArray(),function(){return b[this.name]?(b[this.name].push||(b[this.name]=[b[this.name]]),b[this.name].push(this.value||"")):b[this.name]=this.value||""}),b},b={},b.buttons={YES:{text:"OK",type:"submit",className:"vex-dialog-button-primary"},NO:{text:"Cancel",type:"button",className:"vex-dialog-button-secondary",click:function(a){return a.data().vex.value=!1,vex.close(a.data().vex.id)}}},b.defaultOptions={callback:function(a){return console&&console.log?console.log("Vex dialog callback:",a):void 0},afterOpen:function(){},message:"Message",input:'<input name="vex" type="hidden" value="_vex-empty-value" />',value:!1,buttons:[b.buttons.YES,b.buttons.NO],showCloseButton:!1,onSubmit:function(c){var d,e;return d=$(this),e=d.parent(),c.preventDefault(),c.stopPropagation(),e.data().vex.value=b.getFormValueOnSubmit(a(d)),vex.close(e.data().vex.id)},focusFirstInput:!0},b.defaultAlertOptions={message:"Alert",buttons:[b.buttons.YES]},b.defaultConfirmOptions={message:"Confirm"},b.open=function(a){var c;return a=$.extend({},vex.defaultOptions,b.defaultOptions,a),a.content=b.buildDialogForm(a),a.beforeClose=function(b){return a.callback(b.data().vex.value)},c=vex.open(a),a.focusFirstInput&&c.find('input[type="text"], input[type="submit"]').first().focus(),c},b.alert=function(a){return"string"==typeof a&&(a={message:a}),a=$.extend({},vex.dialog.defaultAlertOptions,a),vex.dialog.open(a)},b.confirm=function(a){return"string"==typeof a?$.error("vex.dialog.confirm(options) requires options.callback."):(a=$.extend({},vex.dialog.defaultConfirmOptions,a),vex.dialog.open(a))},b.prompt=function(a){var b;return"string"==typeof a?$.error("vex.dialog.prompt(options) requires options.callback."):(b={message:'<label for="vex">'+(a.label||"Prompt:")+"</label>",input:'<input name="vex" type="text" class="vex-dialog-prompt-input" placeholder="'+(a.placeholder||"")+'" />'},a=$.extend({},b,a),vex.dialog.open(a))},b.buildDialogForm=function(a){var c,d,e;return c=$('<form class="vex-dialog-form" />'),e=$('<div class="vex-dialog-message" />'),d=$('<div class="vex-dialog-input" />'),c.append(e.append(a.message)).append(d.append(a.input)).append(b.buttonsToDOM(a.buttons)).bind("submit.vex",a.onSubmit),c},b.getFormValueOnSubmit=function(a){return a.vex?"_vex-empty-value"===a.vex?!0:a.vex:a},b.buttonsToDOM=function(a){var b;return b=$('<div class="vex-dialog-buttons" />'),$.each(a,function(c,d){return b.append($('<input type="'+d.type+'" />').val(d.text).addClass(d.className+" vex-dialog-button "+(0===c?"vex-first ":"")+(c===a.length-1?"vex-last ":"")).bind("click.vex",function(a){return d.click?d.click($(this).parents("."+vex.baseClassNames.content),a):void 0}))}),b},window.vex.dialog=b,void 0):$.error("Vex is required to use vex.dialog")}).call(this);