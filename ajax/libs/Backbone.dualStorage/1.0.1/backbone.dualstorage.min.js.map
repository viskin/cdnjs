{"version":3,"sources":["./1.0.1/backbone.dualstorage.js"],"names":["S4","backboneSync","callbackTranslator","dualsync","localsync","onlineSync","parseRemoteResponse","result","Backbone","Collection","prototype","syncDirty","id","ids","model","store","_i","_len","_results","localStorage","getItem","this","url","split","length","where","get","parseInt","push","save","syncDestroyed","collection","destroy","syncDirtyAndDestroyed","Math","random","toString","substring","window","Store","name","records","recordsOn","sep","generateId","setItem","join","key","dirty","dirtyRecords","_","include","clean","from","without","destroyed","destroyedRecords","create","isObject","set","idAttribute","JSON","stringify","update","clear","_ref","removeItem","hasDirtyOrDestroyed","isEmpty","find","parse","findAll","reject","record_id","needsTranslation","VERSION","forBackboneCaller","callback","resp","options","call","forDualstorageCaller","method","response","storeName","add","merge","ignoreCallbacks","success","error","object","property","value","isFunction","parseBeforeLocalSave","sync","local","originalModel","remote","status","xhr","i","isArray","isString","clone"],"mappings":"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","file":"./1.0.1/backbone.dualstorage.min.js"}