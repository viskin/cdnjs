"format register";System.register("angular2/src/router/instruction",["angular2/src/core/facade/collection","angular2/src/core/facade/exceptions","angular2/src/core/facade/lang"],!0,function(require,t,e){function r(t){var e=t.component.urlParams.length>0?"?"+t.component.urlParams.join("&"):"";return t.component.urlPath+o(t)+n(t.child)+e}function n(t){if(l.isBlank(t))return"";var e=t.component.urlParams.length>0?";"+t.component.urlParams.join(";"):"";return"/"+t.component.urlPath+e+o(t)+n(t.child)}function o(t){var e=[];return c.StringMapWrapper.forEach(t.auxInstruction,function(t,r){e.push(n(t))}),e.length>0?"("+e.join("//")+")":""}var a=System.global,i=a.define;a.define=void 0;var s=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},c=require("angular2/src/core/facade/collection"),u=require("angular2/src/core/facade/exceptions"),l=require("angular2/src/core/facade/lang"),p=function(){function t(t){this.params=t}return t.prototype.get=function(t){return l.normalizeBlank(c.StringMapWrapper.get(this.params,t))},t}();t.RouteParams=p;var f=function(){function t(t,e,r){this.component=t,this.child=e,this.auxInstruction=r}return t.prototype.replaceChild=function(e){return new t(this.component,e,this.auxInstruction)},t}();t.Instruction=f;var h=function(){function t(t,e,r){this.component=t,this.child=e,this.auxUrls=r}return t}();t.PrimaryInstruction=h,t.stringifyInstruction=r;var g=function(){function t(){this.reuse=!1}return Object.defineProperty(t.prototype,"componentType",{get:function(){return u.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"specificity",{get:function(){return u.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"terminal",{get:function(){return u.unimplemented()},enumerable:!0,configurable:!0}),t}();t.ComponentInstruction=g;var d=function(t){function e(e,r,n,o){void 0===o&&(o=null),t.call(this),this._recognizer=n,this.urlPath=e,this.urlParams=r,this.params=o}return s(e,t),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._recognizer.handler.componentType},enumerable:!0,configurable:!0}),e.prototype.resolveComponentType=function(){return this._recognizer.handler.resolveComponentType()},Object.defineProperty(e.prototype,"specificity",{get:function(){return this._recognizer.specificity},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"terminal",{get:function(){return this._recognizer.terminal},enumerable:!0,configurable:!0}),e.prototype.routeData=function(){return this._recognizer.handler.data},e}(g);return t.ComponentInstruction_=d,a.define=i,e.exports}),System.register("angular2/src/router/lifecycle_annotations_impl",["angular2/src/core/facade/lang"],!0,function(require,t,e){var r=System.global,n=r.define;r.define=void 0;var o=this&&this.__decorate||function(t,e,r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(t,e,r,n);switch(arguments.length){case 2:return t.reduceRight(function(t,e){return e&&e(t)||t},e);case 3:return t.reduceRight(function(t,n){return void(n&&n(e,r))},void 0);case 4:return t.reduceRight(function(t,n){return n&&n(e,r,t)||t},n)}},a=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},i=require("angular2/src/core/facade/lang"),s=function(){function t(t){this.name=t}return t=o([i.CONST(),a("design:paramtypes",[String])],t)}();t.RouteLifecycleHook=s;var c=function(){function t(t){this.fn=t}return t=o([i.CONST(),a("design:paramtypes",[Function])],t)}();return t.CanActivate=c,t.canReuse=i.CONST_EXPR(new s("canReuse")),t.canDeactivate=i.CONST_EXPR(new s("canDeactivate")),t.onActivate=i.CONST_EXPR(new s("onActivate")),t.onReuse=i.CONST_EXPR(new s("onReuse")),t.onDeactivate=i.CONST_EXPR(new s("onDeactivate")),r.define=n,e.exports}),System.register("angular2/src/router/route_data",["angular2/src/core/di","angular2/src/core/facade/lang"],!0,function(require,t,e){var r=System.global,n=r.define;r.define=void 0;var o=require("angular2/src/core/di"),a=require("angular2/src/core/facade/lang");return t.ROUTE_DATA=a.CONST_EXPR(new o.OpaqueToken("routeData")),r.define=n,e.exports}),System.register("angular2/src/router/lifecycle_annotations",["angular2/src/core/util/decorators","angular2/src/router/lifecycle_annotations_impl","angular2/src/router/lifecycle_annotations_impl"],!0,function(require,t,e){var r=System.global,n=r.define;r.define=void 0;var o=require("angular2/src/core/util/decorators"),a=require("angular2/src/router/lifecycle_annotations_impl"),i=require("angular2/src/router/lifecycle_annotations_impl");return t.canReuse=i.canReuse,t.canDeactivate=i.canDeactivate,t.onActivate=i.onActivate,t.onReuse=i.onReuse,t.onDeactivate=i.onDeactivate,t.CanActivate=o.makeDecorator(a.CanActivate),r.define=n,e.exports}),System.register("angular2/src/router/location_strategy",[],!0,function(require,t,e){var r=System.global,n=r.define;r.define=void 0;var o=function(){function t(){}return t}();return t.LocationStrategy=o,r.define=n,e.exports}),System.register("angular2/src/router/url_parser",["angular2/src/core/facade/collection","angular2/src/core/facade/lang","angular2/src/core/facade/exceptions"],!0,function(require,t,e){function r(t){for(var e=new p(t[t.length-1]),r=t.length-2;r>=0;r-=1)e=new p(t[r],e);return e}function n(t){var e=u.RegExpWrapper.firstMatch(h,t);return u.isPresent(e)?e[0]:null}function o(t){var e=[];return u.isPresent(t)&&c.StringMapWrapper.forEach(t,function(t,r){e.push(1==t?r:r+"="+t)}),e}var a=System.global,i=a.define;a.define=void 0;var s=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},c=require("angular2/src/core/facade/collection"),u=require("angular2/src/core/facade/lang"),l=require("angular2/src/core/facade/exceptions"),p=function(){function t(t,e,r,n){void 0===e&&(e=null),void 0===r&&(r=u.CONST_EXPR([])),void 0===n&&(n=null),this.path=t,this.child=e,this.auxiliary=r,this.params=n}return t.prototype.toString=function(){return this.path+this._matrixParamsToString()+this._auxToString()+this._childString()},t.prototype.segmentToString=function(){return this.path+this._matrixParamsToString()},t.prototype._auxToString=function(){return this.auxiliary.length>0?"("+this.auxiliary.map(function(t){return t.toString()}).join("//")+")":""},t.prototype._matrixParamsToString=function(){return u.isBlank(this.params)?"":";"+o(this.params).join(";")},t.prototype._childString=function(){return u.isPresent(this.child)?"/"+this.child.toString():""},t}();t.Url=p;var f=function(t){function e(e,r,n,o){void 0===r&&(r=null),void 0===n&&(n=u.CONST_EXPR([])),void 0===o&&(o=null),t.call(this,e,r,n,o)}return s(e,t),e.prototype.toString=function(){return this.path+this._auxToString()+this._childString()+this._queryParamsToString()},e.prototype.segmentToString=function(){return this.path+this._queryParamsToString()},e.prototype._queryParamsToString=function(){return u.isBlank(this.params)?"":"?"+o(this.params).join("&")},e}(p);t.RootUrl=f,t.pathSegmentsToUrl=r;var h=u.RegExpWrapper.create("^[^\\/\\(\\)\\?;=&]+"),g=function(){function t(){}return t.prototype.peekStartsWith=function(t){return u.StringWrapper.startsWith(this._remaining,t)},t.prototype.capture=function(t){if(!u.StringWrapper.startsWith(this._remaining,t))throw new l.BaseException('Expected "'+t+'".');this._remaining=this._remaining.substring(t.length)},t.prototype.parse=function(t){return this._remaining=t,""==t||"/"==t?new p(""):this.parseRoot()},t.prototype.parseRoot=function(){this.peekStartsWith("/")&&this.capture("/");var t=n(this._remaining);this.capture(t);var e=[];this.peekStartsWith("(")&&(e=this.parseAuxiliaryRoutes()),this.peekStartsWith(";")&&this.parseMatrixParams();var r=null;this.peekStartsWith("/")&&!this.peekStartsWith("//")&&(this.capture("/"),r=this.parseSegment());var o=null;return this.peekStartsWith("?")&&(o=this.parseQueryParams()),new f(t,r,e,o)},t.prototype.parseSegment=function(){if(0==this._remaining.length)return null;this.peekStartsWith("/")&&this.capture("/");var t=n(this._remaining);this.capture(t);var e=null;this.peekStartsWith(";")&&(e=this.parseMatrixParams());var r=[];this.peekStartsWith("(")&&(r=this.parseAuxiliaryRoutes());var o=null;return this.peekStartsWith("/")&&!this.peekStartsWith("//")&&(this.capture("/"),o=this.parseSegment()),new p(t,o,r,e)},t.prototype.parseQueryParams=function(){var t={};for(this.capture("?"),this.parseParam(t);this._remaining.length>0&&this.peekStartsWith("&");)this.capture("&"),this.parseParam(t);return t},t.prototype.parseMatrixParams=function(){for(var t={};this._remaining.length>0&&this.peekStartsWith(";");)this.capture(";"),this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=n(this._remaining);if(!u.isBlank(e)){this.capture(e);var r=!0;if(this.peekStartsWith("=")){this.capture("=");var o=n(this._remaining);u.isPresent(o)&&(r=o,this.capture(r))}t[e]=r}},t.prototype.parseAuxiliaryRoutes=function(){var t=[];for(this.capture("(");!this.peekStartsWith(")")&&this._remaining.length>0;)t.push(this.parseSegment()),this.peekStartsWith("//")&&this.capture("//");return this.capture(")"),t},t}();return t.UrlParser=g,t.parser=new g,t.serializeParams=o,a.define=i,e.exports}),System.register("angular2/src/router/route_config_impl",["angular2/src/core/facade/lang"],!0,function(require,t,e){var r=System.global,n=r.define;r.define=void 0;var o=this&&this.__decorate||function(t,e,r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(t,e,r,n);switch(arguments.length){case 2:return t.reduceRight(function(t,e){return e&&e(t)||t},e);case 3:return t.reduceRight(function(t,n){return void(n&&n(e,r))},void 0);case 4:return t.reduceRight(function(t,n){return n&&n(e,r,t)||t},n)}},a=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},i=require("angular2/src/core/facade/lang"),s=function(){function t(t){this.configs=t}return t=o([i.CONST(),a("design:paramtypes",[Array])],t)}();t.RouteConfig=s;var c=function(){function t(t){var e=t.path,r=t.component,n=t.as,o=t.data;this.path=e,this.component=r,this.as=n,this.loader=null,this.redirectTo=null,this.data=o}return t=o([i.CONST(),a("design:paramtypes",[Object])],t)}();t.Route=c;var u=function(){function t(t){var e=t.path,r=t.component,n=t.as;this.data=null,this.loader=null,this.redirectTo=null,this.path=e,this.component=r,this.as=n}return t=o([i.CONST(),a("design:paramtypes",[Object])],t)}();t.AuxRoute=u;var l=function(){function t(t){var e=t.path,r=t.loader,n=t.as,o=t.data;this.path=e,this.loader=r,this.as=n,this.data=o}return t=o([i.CONST(),a("design:paramtypes",[Object])],t)}();t.AsyncRoute=l;var p=function(){function t(t){var e=t.path,r=t.redirectTo;this.as=null,this.loader=null,this.data=null,this.path=e,this.redirectTo=r}return t=o([i.CONST(),a("design:paramtypes",[Object])],t)}();return t.Redirect=p,r.define=n,e.exports}),System.register("angular2/src/router/async_route_handler",["angular2/src/core/facade/lang"],!0,function(require,t,e){var r=System.global,n=r.define;r.define=void 0;var o=require("angular2/src/core/facade/lang"),a=function(){function t(t,e){this._loader=t,this.data=e,this._resolvedComponent=null}return t.prototype.resolveComponentType=function(){var t=this;return o.isPresent(this._resolvedComponent)?this._resolvedComponent:this._resolvedComponent=this._loader().then(function(e){return t.componentType=e,e})},t}();return t.AsyncRouteHandler=a,r.define=n,e.exports}),System.register("angular2/src/router/sync_route_handler",["angular2/src/core/facade/async"],!0,function(require,t,e){var r=System.global,n=r.define;r.define=void 0;var o=require("angular2/src/core/facade/async"),a=function(){function t(t,e){this.componentType=t,this.data=e,this._resolvedComponent=null,this._resolvedComponent=o.PromiseWrapper.resolve(t)}return t.prototype.resolveComponentType=function(){return this._resolvedComponent},t}();return t.SyncRouteHandler=a,r.define=n,e.exports}),System.register("angular2/src/router/route_config_decorator",["angular2/src/router/route_config_impl","angular2/src/core/util/decorators","angular2/src/router/route_config_impl"],!0,function(require,t,e){var r=System.global,n=r.define;r.define=void 0;var o=require("angular2/src/router/route_config_impl"),a=require("angular2/src/core/util/decorators"),i=require("angular2/src/router/route_config_impl");return t.Route=i.Route,t.Redirect=i.Redirect,t.AuxRoute=i.AuxRoute,t.AsyncRoute=i.AsyncRoute,t.RouteConfig=a.makeDecorator(o.RouteConfig),r.define=n,e.exports}),System.register("angular2/src/router/hash_location_strategy",["angular2/src/core/dom/dom_adapter","angular2/src/core/di","angular2/src/router/location_strategy"],!0,function(require,t,e){var r=System.global,n=r.define;r.define=void 0;var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},a=this&&this.__decorate||function(t,e,r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(t,e,r,n);switch(arguments.length){case 2:return t.reduceRight(function(t,e){return e&&e(t)||t},e);case 3:return t.reduceRight(function(t,n){return void(n&&n(e,r))},void 0);case 4:return t.reduceRight(function(t,n){return n&&n(e,r,t)||t},n)}},i=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},s=require("angular2/src/core/dom/dom_adapter"),c=require("angular2/src/core/di"),u=require("angular2/src/router/location_strategy"),l=function(t){function e(){t.call(this),this._location=s.DOM.getLocation(),this._history=s.DOM.getHistory()}return o(e,t),e.prototype.onPopState=function(t){s.DOM.getGlobalEventTarget("window").addEventListener("popstate",t,!1)},e.prototype.getBaseHref=function(){return""},e.prototype.path=function(){var t=this._location.hash;return t.length>0?t.substring(1):t},e.prototype.pushState=function(t,e,r){this._history.pushState(t,e,"#"+r)},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},e=a([c.Injectable(),i("design:paramtypes",[])],e)}(u.LocationStrategy);return t.HashLocationStrategy=l,r.define=n,e.exports}),System.register("angular2/src/router/path_location_strategy",["angular2/src/core/dom/dom_adapter","angular2/src/core/di","angular2/src/router/location_strategy"],!0,function(require,t,e){var r=System.global,n=r.define;r.define=void 0;var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},a=this&&this.__decorate||function(t,e,r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(t,e,r,n);switch(arguments.length){case 2:return t.reduceRight(function(t,e){return e&&e(t)||t},e);case 3:return t.reduceRight(function(t,n){return void(n&&n(e,r))},void 0);case 4:return t.reduceRight(function(t,n){return n&&n(e,r,t)||t},n)}},i=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},s=require("angular2/src/core/dom/dom_adapter"),c=require("angular2/src/core/di"),u=require("angular2/src/router/location_strategy"),l=function(t){function e(){t.call(this),this._location=s.DOM.getLocation(),this._history=s.DOM.getHistory(),this._baseHref=s.DOM.getBaseHref()}return o(e,t),e.prototype.onPopState=function(t){s.DOM.getGlobalEventTarget("window").addEventListener("popstate",t,!1)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(){return this._location.pathname},e.prototype.pushState=function(t,e,r){this._history.pushState(t,e,r)},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},e=a([c.Injectable(),i("design:paramtypes",[])],e)}(u.LocationStrategy);return t.PathLocationStrategy=l,r.define=n,e.exports}),System.register("angular2/src/router/route_definition",[],!0,function(require,t,e){var r=System.global,n=r.define;return r.define=void 0,r.define=n,e.exports}),System.register("angular2/src/router/location",["angular2/src/router/location_strategy","angular2/src/core/facade/lang","angular2/src/core/facade/async","angular2/src/core/facade/lang","angular2/src/core/facade/exceptions","angular2/src/core/di"],!0,function(require,t,e){function r(t,e){return t.length>0&&e.startsWith(t)?e.substring(t.length):e}function n(t,e){return e.startsWith(t)?e:t+e}function o(t){return/\/index.html$/g.test(t)?t.substring(0,t.length-11):t}function a(t){return/\/$/g.test(t)&&(t=t.substring(0,t.length-1)),t}var i=System.global,s=i.define;i.define=void 0;var c=this&&this.__decorate||function(t,e,r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(t,e,r,n);switch(arguments.length){case 2:return t.reduceRight(function(t,e){return e&&e(t)||t},e);case 3:return t.reduceRight(function(t,n){return void(n&&n(e,r))},void 0);case 4:return t.reduceRight(function(t,n){return n&&n(e,r,t)||t},n)}},u=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},l=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}},p=require("angular2/src/router/location_strategy"),f=require("angular2/src/core/facade/lang"),h=require("angular2/src/core/facade/async"),g=require("angular2/src/core/facade/lang"),d=require("angular2/src/core/facade/exceptions"),m=require("angular2/src/core/di");t.APP_BASE_HREF=f.CONST_EXPR(new m.OpaqueToken("appBaseHref"));var y=function(){function e(t,e){var r=this;this.platformStrategy=t,this._subject=new h.EventEmitter;var n=f.isPresent(e)?e:this.platformStrategy.getBaseHref();if(g.isBlank(n))throw new d.BaseException("No base href set. Either provide a binding for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=a(o(n)),this.platformStrategy.onPopState(function(t){h.ObservableWrapper.callNext(r._subject,{url:r.path(),pop:!0})})}return e.prototype.path=function(){return this.normalize(this.platformStrategy.path())},e.prototype.normalize=function(t){return a(r(this._baseHref,o(t)))},e.prototype.normalizeAbsolutely=function(t){return t.startsWith("/")||(t="/"+t),a(n(this._baseHref,t))},e.prototype.go=function(t){var e=this.normalizeAbsolutely(t);this.platformStrategy.pushState(null,"",e)},e.prototype.forward=function(){this.platformStrategy.forward()},e.prototype.back=function(){this.platformStrategy.back()},e.prototype.subscribe=function(t,e,r){void 0===e&&(e=null),void 0===r&&(r=null),h.ObservableWrapper.subscribe(this._subject,t,e,r)},e=c([m.Injectable(),l(1,m.Optional()),l(1,m.Inject(t.APP_BASE_HREF)),u("design:paramtypes",[p.LocationStrategy,String])],e)}();return t.Location=y,i.define=s,e.exports}),System.register("angular2/src/router/path_recognizer",["angular2/src/core/facade/lang","angular2/src/core/facade/exceptions","angular2/src/core/facade/collection","angular2/src/router/url_parser","angular2/src/router/instruction"],!0,function(require,t,e){function r(t){return u.isBlank(t)?null:t.toString()}function n(t){u.StringWrapper.startsWith(t,"/")&&(t=u.StringWrapper.substring(t,1));var e=a(t),r=[],n=0;if(e.length>98)throw new l.BaseException("'"+t+"' has more than the maximum supported number of segments.");for(var o=e.length-1,i=0;o>=i;i++){var s,c=e[i];if(u.isPresent(s=u.RegExpWrapper.firstMatch(v,c)))r.push(new y(s[1])),n+=100-i;else if(u.isPresent(s=u.RegExpWrapper.firstMatch(R,c)))r.push(new _(s[1]));else if("..."==c){if(o>i)throw new l.BaseException('Unexpected "..." before the end of the path for "'+t+'".');r.push(new d)}else r.push(new m(c)),n+=100*(100-i)}var f=p.StringMapWrapper.create();return p.StringMapWrapper.set(f,"segments",r),p.StringMapWrapper.set(f,"specificity",n),f}function o(t){return t.map(function(t){return t instanceof _?"*":t instanceof d?"...":t instanceof y?":":t instanceof m?t.path:void 0}).join("/")}function a(t){return t.split("/")}function i(t){if(u.StringWrapper.contains(t,"#"))throw new l.BaseException('Path "'+t+'" should not include "#". Use "HashLocationStrategy" instead.');var e=u.RegExpWrapper.firstMatch(S,t);if(u.isPresent(e))throw new l.BaseException('Path "'+t+'" contains "'+e[0]+'" which is not allowed in a route config.')}var s=System.global,c=s.define;s.define=void 0;var u=require("angular2/src/core/facade/lang"),l=require("angular2/src/core/facade/exceptions"),p=require("angular2/src/core/facade/collection"),f=require("angular2/src/router/url_parser"),h=require("angular2/src/router/instruction"),g=function(){function t(t){var e=this;this.map={},this.keys={},u.isPresent(t)&&p.StringMapWrapper.forEach(t,function(t,r){e.map[r]=u.isPresent(t)?t.toString():null,e.keys[r]=!0})}return t.prototype.get=function(t){return p.StringMapWrapper["delete"](this.keys,t),this.map[t]},t.prototype.getUnused=function(){var t=this,e=p.StringMapWrapper.create(),r=p.StringMapWrapper.keys(this.keys);return r.forEach(function(r){return e[r]=p.StringMapWrapper.get(t.map,r)}),e},t}(),d=function(){function t(){this.name=""}return t.prototype.generate=function(t){return""},t.prototype.match=function(t){return!0},t}(),m=function(){function t(t){this.path=t,this.name=""}return t.prototype.match=function(t){return t==this.path},t.prototype.generate=function(t){return this.path},t}(),y=function(){function t(t){this.name=t}return t.prototype.match=function(t){return t.length>0},t.prototype.generate=function(t){if(!p.StringMapWrapper.contains(t.map,this.name))throw new l.BaseException("Route generator for '"+this.name+"' was not included in parameters passed.");return r(t.get(this.name))},t}(),_=function(){function t(t){this.name=t}return t.prototype.match=function(t){return!0},t.prototype.generate=function(t){return r(t.get(this.name))},t}(),v=/^:([^\/]+)$/g,R=/^\*([^\/]+)$/g,S=u.RegExpWrapper.create("//|\\(|\\)|;|\\?|="),P=function(){function t(t,e,r){this.instruction=t,this.remaining=e,this.remainingAux=r}return t}();t.PathMatch=P;var b=function(){function t(t,e){this.path=t,this.handler=e,this.terminal=!0,this._cache=new p.Map,i(t);var r=n(t);this._segments=r.segments,this.specificity=r.specificity,this.hash=o(this._segments);var a=this._segments[this._segments.length-1];this.terminal=!(a instanceof d)}return t.prototype.recognize=function(t){for(var e,r=t,n={},o=[],a=0;a<this._segments.length;a+=1){var i=this._segments[a];if(e=r,i instanceof d)break;if(u.isPresent(e)){if(o.push(e.path),i instanceof _){n[i.name]=e.toString(),r=null;break}if(i instanceof y)n[i.name]=e.path;else if(!i.match(e.path))return null;r=e.child}else if(!i.match(""))return null}if(this.terminal&&u.isPresent(r))return null;var s,c,l,h,g=o.join("/");if(u.isPresent(e)){var m=t instanceof f.RootUrl?t:e;h=u.isPresent(m.params)?p.StringMapWrapper.merge(m.params,n):n,l=f.serializeParams(m.params),s=e.auxiliary}else h=n,s=[],l=[];return c=this._getInstruction(g,l,this,h),new P(c,r,s)},t.prototype.generate=function(t){for(var e=new g(t),r=[],n=0;n<this._segments.length;n++){var o=this._segments[n];o instanceof d||r.push(o.generate(e))}var a=r.join("/"),i=e.getUnused(),s=f.serializeParams(i);return this._getInstruction(a,s,this,t)},t.prototype._getInstruction=function(t,e,r,n){var o=t+"?"+e.join("?");if(this._cache.has(o))return this._cache.get(o);var a=new h.ComponentInstruction_(t,e,r,n);return this._cache.set(o,a),a},t}();return t.PathRecognizer=b,s.define=c,e.exports}),System.register("angular2/src/router/route_config_nomalizer",["angular2/src/router/route_config_decorator","angular2/src/core/facade/lang","angular2/src/core/facade/exceptions"],!0,function(require,t,e){function r(t){if(t instanceof i.Route||t instanceof i.Redirect||t instanceof i.AsyncRoute||t instanceof i.AuxRoute)return t;if(+!!t.component+ +!!t.redirectTo+ +!!t.loader!=1)throw new c.BaseException('Route config should contain exactly one "component", "loader", or "redirectTo" property.');if(t.loader)return new i.AsyncRoute({path:t.path,loader:t.loader,as:t.as});if(t.component){if("object"==typeof t.component){var e=t.component;if("constructor"==e.type)return new i.Route({path:t.path,component:e.constructor,as:t.as});if("loader"==e.type)return new i.AsyncRoute({path:t.path,loader:e.loader,as:t.as});throw new c.BaseException('Invalid component type "'+e.type+'". Valid types are "constructor" and "loader".')}return new i.Route(t)}return t.redirectTo?new i.Redirect({path:t.path,redirectTo:t.redirectTo}):t}function n(t,e){if(!s.isType(t))throw new c.BaseException('Component for route "'+e+'" is not defined, or is not a class.')}var o=System.global,a=o.define;o.define=void 0;var i=require("angular2/src/router/route_config_decorator"),s=require("angular2/src/core/facade/lang"),c=require("angular2/src/core/facade/exceptions");return t.normalizeRouteConfig=r,t.assertComponentExists=n,o.define=a,e.exports}),System.register("angular2/src/router/route_lifecycle_reflector",["angular2/src/core/facade/lang","angular2/src/router/lifecycle_annotations_impl","angular2/src/core/reflection/reflection"],!0,function(require,t,e){function r(t,e){return e instanceof i.Type?t.name in e.prototype:!1}function n(t){for(var e=c.reflector.annotations(t),r=0;r<e.length;r+=1){var n=e[r];if(n instanceof s.CanActivate)return n.fn}return null}var o=System.global,a=o.define;o.define=void 0;var i=require("angular2/src/core/facade/lang"),s=require("angular2/src/router/lifecycle_annotations_impl"),c=require("angular2/src/core/reflection/reflection");return t.hasLifecycleHook=r,t.getCanActivateHook=n,o.define=a,e.exports}),System.register("angular2/src/router/router_link",["angular2/src/core/metadata","angular2/src/router/router","angular2/src/router/location","angular2/src/router/instruction"],!0,function(require,t,e){var r=System.global,n=r.define;r.define=void 0;var o=this&&this.__decorate||function(t,e,r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(t,e,r,n);switch(arguments.length){case 2:return t.reduceRight(function(t,e){return e&&e(t)||t},e);case 3:return t.reduceRight(function(t,n){return void(n&&n(e,r))},void 0);case 4:return t.reduceRight(function(t,n){return n&&n(e,r,t)||t},n)}},a=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},i=require("angular2/src/core/metadata"),s=require("angular2/src/router/router"),c=require("angular2/src/router/location"),u=require("angular2/src/router/instruction"),l=function(){function t(t,e){this._router=t,this._location=e}return Object.defineProperty(t.prototype,"isRouteActive",{get:function(){return this._router.isRouteActive(this._navigationInstruction)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"routeParams",{set:function(t){this._routeParams=t,this._navigationInstruction=this._router.generate(this._routeParams);var e="/"+u.stringifyInstruction(this._navigationInstruction);this.visibleHref=this._location.normalizeAbsolutely(e)},enumerable:!0,configurable:!0}),t.prototype.onClick=function(){return this._router.navigateByInstruction(this._navigationInstruction),!1},t=o([i.Directive({selector:"[router-link]",inputs:["routeParams: routerLink"],host:{"(click)":"onClick()","[attr.href]":"visibleHref","[class.router-link-active]":"isRouteActive"}}),a("design:paramtypes",[s.Router,c.Location])],t)}();return t.RouterLink=l,r.define=n,e.exports}),System.register("angular2/src/router/route_recognizer",["angular2/src/core/facade/lang","angular2/src/core/facade/exceptions","angular2/src/core/facade/collection","angular2/src/router/path_recognizer","angular2/src/router/route_config_impl","angular2/src/router/async_route_handler","angular2/src/router/sync_route_handler","angular2/src/router/url_parser"],!0,function(require,t,e){var r=System.global,n=r.define;r.define=void 0;var o=require("angular2/src/core/facade/lang"),a=require("angular2/src/core/facade/exceptions"),i=require("angular2/src/core/facade/collection"),s=require("angular2/src/router/path_recognizer"),c=require("angular2/src/router/route_config_impl"),u=require("angular2/src/router/async_route_handler"),l=require("angular2/src/router/sync_route_handler"),p=require("angular2/src/router/url_parser"),f=function(){function t(){this.names=new i.Map,this.auxRoutes=new i.Map,this.matchers=[],this.redirects=[]}return t.prototype.config=function(t){var e;if(o.isPresent(t.as)&&t.as[0].toUpperCase()!=t.as[0]){var r=t.as[0].toUpperCase()+t.as.substring(1);throw new a.BaseException("Route '"+t.path+"' with alias '"+t.as+"' does not begin with an uppercase letter. Route aliases should be CamelCase like '"+r+"'.")}if(t instanceof c.AuxRoute){e=new l.SyncRouteHandler(t.component,t.data);var n=o.StringWrapper.startsWith(t.path,"/")?t.path.substring(1):t.path,i=new s.PathRecognizer(t.path,e);return this.auxRoutes.set(n,i),i.terminal}if(t instanceof c.Redirect)return this.redirects.push(new h(t.path,t.redirectTo)),!0;t instanceof c.Route?e=new l.SyncRouteHandler(t.component,t.data):t instanceof c.AsyncRoute&&(e=new u.AsyncRouteHandler(t.loader,t.data));var i=new s.PathRecognizer(t.path,e);return this.matchers.forEach(function(e){if(i.hash==e.hash)throw new a.BaseException("Configuration '"+t.path+"' conflicts with existing route '"+e.path+"'")}),this.matchers.push(i),o.isPresent(t.as)&&this.names.set(t.as,i),i.terminal},t.prototype.recognize=function(t){var e=[];return t=this._redirect(t),this.matchers.forEach(function(r){var n=r.recognize(t);o.isPresent(n)&&e.push(n)}),e},t.prototype._redirect=function(t){for(var e=0;e<this.redirects.length;e+=1){var r=this.redirects[e],n=r.redirect(t);if(o.isPresent(n))return n}return t},t.prototype.recognizeAuxiliary=function(t){var e=this.auxRoutes.get(t.path);return o.isBlank(e)?null:e.recognize(t)},t.prototype.hasRoute=function(t){return this.names.has(t)},t.prototype.generate=function(t,e){var r=this.names.get(t);return o.isBlank(r)?null:r.generate(e)},t}();t.RouteRecognizer=f;var h=function(){function t(t,e){this.segments=[],this.toSegments=[],o.StringWrapper.startsWith(t,"/")&&(t=t.substring(1)),this.segments=t.split("/"),o.StringWrapper.startsWith(e,"/")&&(e=e.substring(1)),this.toSegments=e.split("/")}return t.prototype.redirect=function(t){for(var e=0;e<this.segments.length;e+=1){if(o.isBlank(t))return null;var r=this.segments[e];if(r!=t.path)return null;t=t.child}for(var e=this.toSegments.length-1;e>=0;e-=1){var r=this.toSegments[e];t=new p.Url(r,t)}return t},t}();return t.Redirector=h,r.define=n,e.exports}),System.register("angular2/src/router/route_registry",["angular2/src/router/route_recognizer","angular2/src/router/instruction","angular2/src/core/facade/collection","angular2/src/core/facade/async","angular2/src/core/facade/lang","angular2/src/core/facade/exceptions","angular2/src/router/route_config_impl","angular2/src/core/reflection/reflection","angular2/src/core/di","angular2/src/router/route_config_nomalizer","angular2/src/router/url_parser"],!0,function(require,t,e){function r(t){return l.ListWrapper.maximum(t,function(t){return t.component.specificity})}function n(t,e){if(f.isType(t)){var r=d.reflector.annotations(t);if(f.isPresent(r))for(var n=0;n<r.length;n++){var o=r[n];if(o instanceof g.RouteConfig)throw new h.BaseException('Child routes are not allowed for "'+e+'". Use "..." on the parent\'s route path.')}}}var o=System.global,a=o.define;o.define=void 0;var i=this&&this.__decorate||function(t,e,r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(t,e,r,n);switch(arguments.length){
case 2:return t.reduceRight(function(t,e){return e&&e(t)||t},e);case 3:return t.reduceRight(function(t,n){return void(n&&n(e,r))},void 0);case 4:return t.reduceRight(function(t,n){return n&&n(e,r,t)||t},n)}},s=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},c=require("angular2/src/router/route_recognizer"),u=require("angular2/src/router/instruction"),l=require("angular2/src/core/facade/collection"),p=require("angular2/src/core/facade/async"),f=require("angular2/src/core/facade/lang"),h=require("angular2/src/core/facade/exceptions"),g=require("angular2/src/router/route_config_impl"),d=require("angular2/src/core/reflection/reflection"),m=require("angular2/src/core/di"),y=require("angular2/src/router/route_config_nomalizer"),_=require("angular2/src/router/url_parser"),v=p.PromiseWrapper.resolve(null),R=function(){function t(){this._rules=new l.Map}return t.prototype.config=function(t,e){e=y.normalizeRouteConfig(e),e instanceof g.Route?y.assertComponentExists(e.component,e.path):e instanceof g.AuxRoute&&y.assertComponentExists(e.component,e.path);var r=this._rules.get(t);f.isBlank(r)&&(r=new c.RouteRecognizer,this._rules.set(t,r));var o=r.config(e);e instanceof g.Route&&(o?n(e.component,e.path):this.configFromComponent(e.component))},t.prototype.configFromComponent=function(t){var e=this;if(f.isType(t)&&!this._rules.has(t)){var r=d.reflector.annotations(t);if(f.isPresent(r))for(var n=0;n<r.length;n++){var o=r[n];if(o instanceof g.RouteConfig){var a=o.configs;a.forEach(function(r){return e.config(t,r)})}}}},t.prototype.recognize=function(t,e){var r=_.parser.parse(t);return this._recognize(r,e)},t.prototype._recognize=function(t,e){var r=this;return this._recognizePrimaryRoute(t,e).then(function(t){return r._completeAuxiliaryRouteMatches(t,e)})},t.prototype._recognizePrimaryRoute=function(t,e){var n=this,o=this._rules.get(e);if(f.isBlank(o))return v;var a=o.recognize(t),i=a.map(function(t){return n._completePrimaryRouteMatch(t)});return p.PromiseWrapper.all(i).then(r)},t.prototype._completePrimaryRouteMatch=function(t){var e=this,r=t.instruction;return r.resolveComponentType().then(function(n){return e.configFromComponent(n),r.terminal?new u.PrimaryInstruction(r,null,t.remainingAux):e._recognizePrimaryRoute(t.remaining,n).then(function(e){return f.isBlank(e)?null:new u.PrimaryInstruction(r,e,t.remainingAux)})})},t.prototype._completeAuxiliaryRouteMatches=function(t,e){var r=this;if(f.isBlank(t))return v;var n=this._rules.get(e),o={},a=t.auxUrls.map(function(t){var a=n.recognizeAuxiliary(t);return f.isBlank(a)?v:r._completePrimaryRouteMatch(a).then(function(n){return f.isPresent(n)?r._completeAuxiliaryRouteMatches(n,e).then(function(e){o[t.path]=e}):void 0})});return p.PromiseWrapper.all(a).then(function(e){return f.isBlank(t.child)?new u.Instruction(t.component,null,o):r._completeAuxiliaryRouteMatches(t.child,t.component.componentType).then(function(e){return new u.Instruction(t.component,e,o)})})},t.prototype.generate=function(t,e){for(var r=[],n=e,o=!1,a=0;a<t.length;a+=1){var i=t[a];if(f.isBlank(n))throw new h.BaseException('Could not find route named "'+i+'".');if(!f.isString(i))throw new h.BaseException('Unexpected segment "'+i+'" in link DSL. Expected a string.');if(""==i||"."==i||".."==i)throw new h.BaseException('"'+i+'/" is only allowed at the beginning of a link DSL.');var s={};if(a+1<t.length){var c=t[a+1];f.isStringMap(c)&&(s=c,a+=1)}var p=this._rules.get(n);if(f.isBlank(p))throw new h.BaseException('Component "'+f.getTypeNameForDebugging(n)+'" has no route config.');var g=p.generate(i,s);if(f.isBlank(g))throw new h.BaseException('Component "'+f.getTypeNameForDebugging(n)+'" has no route named "'+i+'".');r.push(g),n=g.componentType,o=g.terminal}var d=null;if(!o){if(d=this._generateRedirects(n),f.isPresent(d)){for(var m=d;f.isPresent(m.child);)m=m.child;o=m.component.terminal}if(f.isPresent(n)&&!o)throw new h.BaseException('Link "'+l.ListWrapper.toJSON(t)+'" does not resolve to a terminal or async instruction.')}for(;r.length>0;)d=new u.Instruction(r.pop(),d,{});return d},t.prototype._generateRedirects=function(t){if(f.isBlank(t))return null;var e=this._rules.get(t);if(f.isBlank(e))return null;for(var r=0;r<e.redirects.length;r+=1){var n=e.redirects[r];if(1==n.segments.length&&""==n.segments[0]){var o=_.pathSegmentsToUrl(n.toSegments),a=e.recognize(o),i=l.ListWrapper.maximum(a,function(t){return t.instruction.specificity});if(f.isPresent(i)){var s=this._generateRedirects(i.instruction.componentType);return new u.Instruction(i.instruction,s,{})}return null}}return null},t=i([m.Injectable(),s("design:paramtypes",[])],t)}();return t.RouteRegistry=R,o.define=a,e.exports}),System.register("angular2/src/router/router",["angular2/src/core/facade/async","angular2/src/core/facade/collection","angular2/src/core/facade/lang","angular2/src/core/facade/exceptions","angular2/src/router/instruction","angular2/src/router/route_lifecycle_reflector"],!0,function(require,t,e){function r(t){return c.ListWrapper.reduce(t,function(t,e){return u.isString(e)?t.concat(u.StringWrapper.split(e,_)):(t.push(e),t)},[])}function n(t,e){var r=h;return u.isPresent(t.child)&&(r=n(t.child,u.isPresent(e)?e.child:null)),r.then(function(r){if(0==r)return!1;if(t.component.reuse)return!0;var n=f.getCanActivateHook(t.component.componentType);return u.isPresent(n)?n(t.component,u.isPresent(e)?e.component:null):!0})}var o=System.global,a=o.define;o.define=void 0;var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=require("angular2/src/core/facade/async"),c=require("angular2/src/core/facade/collection"),u=require("angular2/src/core/facade/lang"),l=require("angular2/src/core/facade/exceptions"),p=require("angular2/src/router/instruction"),f=require("angular2/src/router/route_lifecycle_reflector"),h=s.PromiseWrapper.resolve(!0),g=s.PromiseWrapper.resolve(!1),d=function(){function t(t,e,r){this.registry=t,this.parent=e,this.hostComponent=r,this.navigating=!1,this._currentInstruction=null,this._currentNavigation=h,this._outlet=null,this._auxRouters=new c.Map,this._subject=new s.EventEmitter}return t.prototype.childRouter=function(t){return this._childRouter=new y(this,t)},t.prototype.auxRouter=function(t){return new y(this,t)},t.prototype.registerPrimaryOutlet=function(t){if(u.isPresent(t.name))throw new l.BaseException("registerAuxOutlet expects to be called with an unnamed outlet.");return this._outlet=t,u.isPresent(this._currentInstruction)?this.commit(this._currentInstruction,!1):h},t.prototype.registerAuxOutlet=function(t){var e=t.name;if(u.isBlank(e))throw new l.BaseException("registerAuxOutlet expects to be called with an outlet with a name.");var r=this.auxRouter(this.hostComponent);this._auxRouters.set(e,r),r._outlet=t;var n;return u.isPresent(this._currentInstruction)&&u.isPresent(n=this._currentInstruction.auxInstruction[e])?r.commit(n):h},t.prototype.isRouteActive=function(t){for(var e=this;u.isPresent(e.parent)&&u.isPresent(t.child);)e=e.parent,t=t.child;return u.isPresent(this._currentInstruction)&&this._currentInstruction.component==t.component},t.prototype.config=function(t){var e=this;return t.forEach(function(t){e.registry.config(e.hostComponent,t)}),this.renavigate()},t.prototype.navigate=function(t){var e=this.generate(t);return this.navigateByInstruction(e,!1)},t.prototype.navigateByUrl=function(t,e){var r=this;return void 0===e&&(e=!1),this._currentNavigation=this._currentNavigation.then(function(n){return r.lastNavigationAttempt=t,r._startNavigating(),r._afterPromiseFinishNavigating(r.recognize(t).then(function(t){return u.isBlank(t)?!1:r._navigate(t,e)}))})},t.prototype.navigateByInstruction=function(t,e){var r=this;return void 0===e&&(e=!1),u.isBlank(t)?g:this._currentNavigation=this._currentNavigation.then(function(n){return r._startNavigating(),r._afterPromiseFinishNavigating(r._navigate(t,e))})},t.prototype._navigate=function(t,e){var r=this;return this._settleInstruction(t).then(function(e){return r._canReuse(t)}).then(function(e){return r._canActivate(t)}).then(function(n){return n?r._canDeactivate(t).then(function(n){return n?r.commit(t,e).then(function(e){return r._emitNavigationFinish(p.stringifyInstruction(t)),!0}):void 0}):!1})},t.prototype._settleInstruction=function(t){var e=this,r=[];return u.isBlank(t.component.componentType)&&r.push(t.component.resolveComponentType().then(function(t){e.registry.configFromComponent(t)})),u.isPresent(t.child)&&r.push(this._settleInstruction(t.child)),c.StringMapWrapper.forEach(t.auxInstruction,function(t,n){r.push(e._settleInstruction(t))}),s.PromiseWrapper.all(r)},t.prototype._emitNavigationFinish=function(t){s.ObservableWrapper.callNext(this._subject,t)},t.prototype._afterPromiseFinishNavigating=function(t){var e=this;return s.PromiseWrapper.catchError(t.then(function(t){return e._finishNavigating()}),function(t){throw e._finishNavigating(),t})},t.prototype._canReuse=function(t){var e=this;return u.isBlank(this._outlet)?g:this._outlet.canReuse(t.component).then(function(r){return t.component.reuse=r,r&&u.isPresent(e._childRouter)&&u.isPresent(t.child)?e._childRouter._canReuse(t.child):void 0})},t.prototype._canActivate=function(t){return n(t,this._currentInstruction)},t.prototype._canDeactivate=function(t){var e=this;if(u.isBlank(this._outlet))return h;var r,n=null,o=!1,a=null;return u.isPresent(t)&&(n=t.child,a=t.component,o=t.component.reuse),r=o?h:this._outlet.canDeactivate(a),r.then(function(t){return 0==t?!1:u.isPresent(e._childRouter)?e._childRouter._canDeactivate(n):!0})},t.prototype.commit=function(t,e){var r=this;void 0===e&&(e=!1),this._currentInstruction=t;var n=h;if(u.isPresent(this._outlet)){var o=t.component;n=o.reuse?this._outlet.reuse(o):this.deactivate(t).then(function(t){return r._outlet.activate(o)}),u.isPresent(t.child)&&(n=n.then(function(e){return u.isPresent(r._childRouter)?r._childRouter.commit(t.child):void 0}))}var a=[];return c.MapWrapper.forEach(this._auxRouters,function(e,r){a.push(e.commit(t.auxInstruction[r]))}),n.then(function(t){return s.PromiseWrapper.all(a)})},t.prototype._startNavigating=function(){this.navigating=!0},t.prototype._finishNavigating=function(){this.navigating=!1},t.prototype.subscribe=function(t){return s.ObservableWrapper.subscribe(this._subject,t)},t.prototype.deactivate=function(t){var e=this,r=null,n=null;u.isPresent(t)&&(r=t.child,n=t.component);var o=h;return u.isPresent(this._childRouter)&&(o=this._childRouter.deactivate(r)),u.isPresent(this._outlet)&&(o=o.then(function(t){return e._outlet.deactivate(n)})),o},t.prototype.recognize=function(t){return this.registry.recognize(t,this.hostComponent)},t.prototype.renavigate=function(){return u.isBlank(this.lastNavigationAttempt)?this._currentNavigation:this.navigateByUrl(this.lastNavigationAttempt)},t.prototype.generate=function(t){var e=r(t),n=c.ListWrapper.first(e),o=c.ListWrapper.slice(e,1),a=this;if(""==n)for(;u.isPresent(a.parent);)a=a.parent;else if(".."==n){for(a=a.parent;".."==c.ListWrapper.first(o);)if(o=c.ListWrapper.slice(o,1),a=a.parent,u.isBlank(a))throw new l.BaseException('Link "'+c.ListWrapper.toJSON(t)+'" has too many "../" segments.')}else if("."!=n)throw new l.BaseException('Link "'+c.ListWrapper.toJSON(t)+'" must start with "/", "./", or "../"');if(""==o[o.length-1]&&o.pop(),o.length<1){var i='Link "'+c.ListWrapper.toJSON(t)+'" must include a route name.';throw new l.BaseException(i)}for(var s=[],p=a.parent;u.isPresent(p);)s.unshift(p._currentInstruction),p=p.parent;for(var f=this.registry.generate(o,a.hostComponent);s.length>0;)f=s.pop().replaceChild(f);return f},t}();t.Router=d;var m=function(t){function e(e,r,n){var o=this;t.call(this,e,null,n),this._location=r,this._location.subscribe(function(t){return o.navigateByUrl(t.url,u.isPresent(t.pop))}),this.registry.configFromComponent(n),this.navigateByUrl(r.path())}return i(e,t),e.prototype.commit=function(e,r){var n=this;void 0===r&&(r=!1);var o=p.stringifyInstruction(e);o.length>0&&(o="/"+o);var a=t.prototype.commit.call(this,e);return r||(a=a.then(function(t){n._location.go(o)})),a},e}(d);t.RootRouter=m;var y=function(t){function e(e,r){t.call(this,e.registry,e,r),this.parent=e}return i(e,t),e.prototype.navigateByUrl=function(t,e){return void 0===e&&(e=!1),this.parent.navigateByUrl(t,e)},e.prototype.navigateByInstruction=function(t,e){return void 0===e&&(e=!1),this.parent.navigateByInstruction(t,e)},e}(d),_=new RegExp("/");return o.define=a,e.exports}),System.register("angular2/src/router/router_outlet",["angular2/src/core/facade/async","angular2/src/core/facade/collection","angular2/src/core/facade/lang","angular2/src/core/facade/exceptions","angular2/src/core/metadata","angular2/src/core/linker","angular2/src/core/di","angular2/src/router/router","angular2/src/router/instruction","angular2/src/router/route_data","angular2/src/router/lifecycle_annotations","angular2/src/router/route_lifecycle_reflector"],!0,function(require,t,e){var r=System.global,n=r.define;r.define=void 0;var o=this&&this.__decorate||function(t,e,r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(t,e,r,n);switch(arguments.length){case 2:return t.reduceRight(function(t,e){return e&&e(t)||t},e);case 3:return t.reduceRight(function(t,n){return void(n&&n(e,r))},void 0);case 4:return t.reduceRight(function(t,n){return n&&n(e,r,t)||t},n)}},a=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}},s=require("angular2/src/core/facade/async"),c=require("angular2/src/core/facade/collection"),u=require("angular2/src/core/facade/lang"),l=require("angular2/src/core/facade/exceptions"),p=require("angular2/src/core/metadata"),f=require("angular2/src/core/linker"),h=require("angular2/src/core/di"),g=require("angular2/src/router/router"),d=require("angular2/src/router/instruction"),m=require("angular2/src/router/route_data"),y=require("angular2/src/router/lifecycle_annotations"),_=require("angular2/src/router/route_lifecycle_reflector"),v=s.PromiseWrapper.resolve(!0),R=function(){function t(t,e,r,n){this._elementRef=t,this._loader=e,this._parentRouter=r,this.name=null,this._componentRef=null,this._currentInstruction=null,u.isPresent(n)?(this.name=n,this._parentRouter.registerAuxOutlet(this)):this._parentRouter.registerPrimaryOutlet(this)}return t.prototype.activate=function(t){var e=this,r=this._currentInstruction;this._currentInstruction=t;var n=t.componentType,o=this._parentRouter.childRouter(n),a=h.Injector.resolve([h.bind(m.ROUTE_DATA).toValue(t.routeData()),h.bind(d.RouteParams).toValue(new d.RouteParams(t.params)),h.bind(g.Router).toValue(o)]);return this._loader.loadNextToLocation(n,this._elementRef,a).then(function(o){return e._componentRef=o,_.hasLifecycleHook(y.onActivate,n)?e._componentRef.instance.onActivate(t,r):void 0})},t.prototype.reuse=function(t){var e=this._currentInstruction;if(this._currentInstruction=t,u.isBlank(this._componentRef))throw new l.BaseException("Cannot reuse an outlet that does not contain a component.");return s.PromiseWrapper.resolve(_.hasLifecycleHook(y.onReuse,this._currentInstruction.componentType)?this._componentRef.instance.onReuse(t,e):!0)},t.prototype.deactivate=function(t){var e=this,r=v;return u.isPresent(this._componentRef)&&u.isPresent(this._currentInstruction)&&_.hasLifecycleHook(y.onDeactivate,this._currentInstruction.componentType)&&(r=s.PromiseWrapper.resolve(this._componentRef.instance.onDeactivate(t,this._currentInstruction))),r.then(function(t){u.isPresent(e._componentRef)&&(e._componentRef.dispose(),e._componentRef=null)})},t.prototype.canDeactivate=function(t){return u.isBlank(this._currentInstruction)?v:_.hasLifecycleHook(y.canDeactivate,this._currentInstruction.componentType)?s.PromiseWrapper.resolve(this._componentRef.instance.canDeactivate(t,this._currentInstruction)):v},t.prototype.canReuse=function(t){var e;return e=u.isBlank(this._currentInstruction)||this._currentInstruction.componentType!=t.componentType?!1:_.hasLifecycleHook(y.canReuse,this._currentInstruction.componentType)?this._componentRef.instance.canReuse(t,this._currentInstruction):t==this._currentInstruction||u.isPresent(t.params)&&u.isPresent(this._currentInstruction.params)&&c.StringMapWrapper.equals(t.params,this._currentInstruction.params),s.PromiseWrapper.resolve(e)},t=o([p.Directive({selector:"router-outlet"}),i(3,p.Attribute("name")),a("design:paramtypes",[f.ElementRef,f.DynamicComponentLoader,g.Router,String])],t)}();return t.RouterOutlet=R,r.define=n,e.exports}),System.register("angular2/router",["angular2/src/router/router","angular2/src/router/router_outlet","angular2/src/router/router_link","angular2/src/router/instruction","angular2/src/router/route_registry","angular2/src/router/location_strategy","angular2/src/router/hash_location_strategy","angular2/src/router/path_location_strategy","angular2/src/router/location","angular2/src/router/route_config_decorator","angular2/src/router/route_definition","angular2/src/router/lifecycle_annotations","angular2/src/router/instruction","angular2/angular2","angular2/src/router/route_data","angular2/src/router/location_strategy","angular2/src/router/path_location_strategy","angular2/src/router/router","angular2/src/router/router_outlet","angular2/src/router/router_link","angular2/src/router/route_registry","angular2/src/router/location","angular2/core","angular2/src/core/facade/lang"],!0,function(require,t,e){function r(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}function n(t,e,r){return new P.RootRouter(t,e,r)}function o(e){return[t.ROUTER_BINDINGS,T.bind(t.ROUTER_PRIMARY_COMPONENT).toValue(e)]}var a=System.global,i=a.define;a.define=void 0;var s=require("angular2/src/router/router");t.Router=s.Router;var c=require("angular2/src/router/router_outlet");t.RouterOutlet=c.RouterOutlet;var u=require("angular2/src/router/router_link");t.RouterLink=u.RouterLink;var l=require("angular2/src/router/instruction");t.RouteParams=l.RouteParams;var p=require("angular2/src/router/route_registry");t.RouteRegistry=p.RouteRegistry;var f=require("angular2/src/router/location_strategy");t.LocationStrategy=f.LocationStrategy;var h=require("angular2/src/router/hash_location_strategy");t.HashLocationStrategy=h.HashLocationStrategy;var g=require("angular2/src/router/path_location_strategy");t.PathLocationStrategy=g.PathLocationStrategy;var d=require("angular2/src/router/location");t.Location=d.Location,t.APP_BASE_HREF=d.APP_BASE_HREF,r(require("angular2/src/router/route_config_decorator")),r(require("angular2/src/router/route_definition"));var m=require("angular2/src/router/lifecycle_annotations");t.CanActivate=m.CanActivate;var y=require("angular2/src/router/instruction");t.Instruction=y.Instruction,t.ComponentInstruction=y.ComponentInstruction;var _=require("angular2/angular2");t.OpaqueToken=_.OpaqueToken;var v=require("angular2/src/router/route_data");t.ROUTE_DATA=v.ROUTE_DATA;var R=require("angular2/src/router/location_strategy"),S=require("angular2/src/router/path_location_strategy"),P=require("angular2/src/router/router"),b=require("angular2/src/router/router_outlet"),w=require("angular2/src/router/router_link"),x=require("angular2/src/router/route_registry"),k=require("angular2/src/router/location"),T=require("angular2/core"),E=require("angular2/src/core/facade/lang");return t.ROUTER_PRIMARY_COMPONENT=E.CONST_EXPR(new T.OpaqueToken("RouterPrimaryComponent")),t.ROUTER_DIRECTIVES=E.CONST_EXPR([b.RouterOutlet,w.RouterLink]),t.ROUTER_BINDINGS=E.CONST_EXPR([x.RouteRegistry,E.CONST_EXPR(new T.Binding(R.LocationStrategy,{toClass:S.PathLocationStrategy})),k.Location,E.CONST_EXPR(new T.Binding(P.Router,{toFactory:n,deps:E.CONST_EXPR([x.RouteRegistry,k.Location,t.ROUTER_PRIMARY_COMPONENT])}))]),t.routerBindings=o,a.define=i,e.exports});
//# sourceMappingURL=router.dev.min.js.map