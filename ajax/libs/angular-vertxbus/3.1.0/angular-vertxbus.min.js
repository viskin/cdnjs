/*! angular-vertxbus - v3.1.0 - 2015-10-25
* http://github.com/knalli/angular-vertxbus
* Copyright (c) 2015 Jan Philipp; Licensed MIT */
!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d="knalli.angular-vertxbus";c.moduleName=d},{}],2:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("./module"),f=d(e);c["default"]=f["default"],b.exports=c["default"]},{"./module":15}],3:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("./service/delegate/EventBusDelegate"),f=d(e),g=a("./service/delegate/NoopDelegate"),h=d(g),i=a("./service/Delegator"),j=d(i),k={enabled:!0,debugEnabled:!1,loginRequired:!1,prefix:"vertx-eventbus.",sockjsStateInterval:1e4,messageBuffer:1e4},l=function(){var a=this,b=angular.extend({},k);this.enable=function(){var c=arguments.length<=0||void 0===arguments[0]?k.enabled:arguments[0];return b.enabled=c===!0,a},this.useDebug=function(){var c=arguments.length<=0||void 0===arguments[0]?k.debugEnabled:arguments[0];return b.debugEnabled=c===!0,a},this.usePrefix=function(){var c=arguments.length<=0||void 0===arguments[0]?k.prefix:arguments[0];return b.prefix=c,a},this.requireLogin=function(){var c=arguments.length<=0||void 0===arguments[0]?k.loginRequired:arguments[0];return b.loginRequired=c===!0,a},this.useSockJsStateInterval=function(){var c=arguments.length<=0||void 0===arguments[0]?k.sockjsStateInterval:arguments[0];return b.sockjsStateInterval=c,a},this.useMessageBuffer=function(){var c=arguments.length<=0||void 0===arguments[0]?k.messageBuffer:arguments[0];return b.messageBuffer=c,a},this.useLoginInterceptor=function(c){return b.loginInterceptor=c,a},this.configureLoginInterceptor=function(b,c){return c||(c=function(a,b){return{action:"findone",collection:"users",matcher:{username:a,password:b}}}),a.useLoginInterceptor(function(a,d,e,f){a(b,c(d,e),f)})},this.$get=function(a,c,d,e,g){var i=angular.extend({},e.getOptions(),b);return i.enabled?new j["default"](new f["default"](a,d,g,c,e,i),g):new j["default"](new h["default"])},this.$get.$inject=["$rootScope","$q","$interval","vertxEventBus","$log"]};c["default"]=l,b.exports=c["default"]},{"./service/Delegator":8,"./service/delegate/EventBusDelegate":10,"./service/delegate/NoopDelegate":11}],4:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("./adapter/EventBusAdapter"),f=d(e),g=a("./adapter/NoopAdapter"),h=d(g),i=a("./support/ConnectionConfigHolder"),j=d(i),k={enabled:!0,debugEnabled:!1,initialConnectEnabled:!0,urlServer:location.protocol+"//"+location.hostname+(function(){return location.port?":"+location.port:void 0}()||""),urlPath:"/eventbus",reconnectEnabled:!0,sockjsReconnectInterval:1e4,sockjsOptions:{}},l=function(){var a=this,b=angular.extend({},k);this.enable=function(){var c=arguments.length<=0||void 0===arguments[0]?k.enabled:arguments[0];return b.enabled=c===!0,a},this.disableAutoConnect=function(){return b.initialConnectEnabled=!1,a},this.useDebug=function(){var c=arguments.length<=0||void 0===arguments[0]?k.debugEnabled:arguments[0];return b.debugEnabled=c===!0,a},this.useUrlServer=function(){var c=arguments.length<=0||void 0===arguments[0]?k.urlServer:arguments[0];return b.urlServer=c,a},this.useUrlPath=function(){var c=arguments.length<=0||void 0===arguments[0]?k.urlPath:arguments[0];return b.urlPath=c,a},this.useReconnect=function(){var c=arguments.length<=0||void 0===arguments[0]?k.reconnectEnabled:arguments[0];return b.reconnectEnabled=c,a},this.useSockJsReconnectInterval=function(){var c=arguments.length<=0||void 0===arguments[0]?k.sockjsReconnectInterval:arguments[0];return b.sockjsReconnectInterval=c,a},this.useSockJsOptions=function(){var c=arguments.length<=0||void 0===arguments[0]?k.sockjsOptions:arguments[0];return b.sockjsOptions=c,a},this.$get=function(a,c){var d=angular.extend({},k,b);return d.enabled&&vertx&&vertx.EventBus?(d.debugEnabled&&c.debug("[Vert.x EB Stub] Enabled"),d.connectionConfig=new j["default"]({urlServer:d.urlServer,urlPath:d.urlPath}),delete d.urlServer,delete d.urlPath,new f["default"](vertx.EventBus,a,c,d)):(d.debugEnabled&&c.debug("[Vert.x EB Stub] Disabled"),new h["default"](vertx.EventBus))},this.$get.$inject=["$timeout","$log"]};c["default"]=l,b.exports=c["default"]},{"./adapter/EventBusAdapter":6,"./adapter/NoopAdapter":7,"./support/ConnectionConfigHolder":12}],5:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a)}return e(a,[{key:"configureConnection",value:function(){}},{key:"connect",value:function(){}},{key:"reconnect",value:function(){}},{key:"close",value:function(){}},{key:"login",value:function(){}},{key:"send",value:function(){}},{key:"publish",value:function(){}},{key:"registerHandler",value:function(){}},{key:"unregisterHandler",value:function(){}},{key:"readyState",value:function(){}},{key:"getOptions",value:function(){return{}}},{key:"onopen",value:function(){}},{key:"onclose",value:function(){}}]),a}();c["default"]=f,b.exports=c["default"]},{}],6:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;return void 0===i?void 0:i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return void 0;a=j,b=f,c=g,d=!0,h=j=void 0}},i=a("../../config.js"),j=a("./BaseAdapter"),k=d(j),l=a("./../support/ConnectionConfigHolder"),m=d(l),n=function(a){function b(a,c,d,f){var g=f.enabled,i=f.debugEnabled,j=f.initialConnectEnabled,k=f.connectionConfig,l=f.reconnectEnabled,m=f.sockjsReconnectInterval,n=f.sockjsOptions;e(this,b),h(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.EventBus=a,this.$timeout=c,this.$log=d,this.options={enabled:g,debugEnabled:i,initialConnectEnabled:j,connectionConfig:k,reconnectEnabled:l,sockjsReconnectInterval:m,sockjsOptions:n},this.disconnectTimeoutEnabled=!0,j&&this.connect()}return f(b,a),g(b,[{key:"configureConnection",value:function(a){var b=arguments.length<=1||void 0===arguments[1]?"/eventbus":arguments[1];return this.options.connectionConfig=new m["default"]({urlServer:a,urlPath:b}),this}},{key:"connect",value:function(){var a=this,b=""+this.options.connectionConfig.urlServer+this.options.connectionConfig.urlPath;this.options.debugEnabled&&this.$log.debug("[Vert.x EB Stub] Enabled: connecting '"+b+"'"),this.instance=new this.EventBus(b,void 0,this.options.sockjsOptions),this.instance.onopen=function(){a.options.debugEnabled&&a.$log.debug("[Vert.x EB Stub] Connected"),angular.isFunction(a.onopen)&&a.onopen()},this.instance.onclose=function(){a.options.debugEnabled&&a.$log.debug("[Vert.x EB Stub] Reconnect in "+a.options.sockjsReconnectInterval+"ms"),angular.isFunction(a.onclose)&&a.onclose(),a.instance=void 0,a.disconnectTimeoutEnabled?a.options.reconnectEnabled&&(a.options.debugEnabled&&a.$log.debug("[Vert.x EB Stub] Reconnect in "+a.options.sockjsReconnectInterval+"ms"),a.$timeout(function(){return a.connect()},a.options.sockjsReconnectInterval)):(a.options.debugEnabled&&a.$log.debug("[Vert.x EB Stub] Reconnect immediately"),a.disconnectTimeoutEnabled=!0,a.connect())}}},{key:"reconnect",value:function(){var a=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];this.instance&&this.instance.readyState()===this.EventBus.OPEN?(a&&(this.disconnectTimeoutEnabled=!1),this.instance.close()):this.connect()}},{key:"close",value:function(){this.instance&&this.instance.close()}},{key:"login",value:function(a,b,c){if(this.instance){if(!this.instance.login)return this.$log.error("[Vert.x EB Stub] Attempted to call vertx.EventBus.login(), but that was not found. Are you using v3 already? Have a look at vertx.EventBusServiceProvider.useLoginInterceptor"),void c();this.instance.login(a,b,c)}}},{key:"send",value:function(a,b,c,d){this.instance&&this.instance.send(a,b,c,d)}},{key:"publish",value:function(a,b){this.instance&&this.instance.publish(a,b)}},{key:"registerHandler",value:function(a,b){var c=this;if(this.instance){this.instance.registerHandler(a,b);var d=function(){c.unregisterHandler(a,b)};return d.displayName=i.moduleName+".wrapper.eventbus.registerHandler.deconstructor",d}}},{key:"unregisterHandler",value:function(a,b){this.instance&&this.instance.readyState()===this.EventBus.OPEN&&this.instance.unregisterHandler(a,b)}},{key:"readyState",value:function(){return this.instance?this.instance.readyState():this.EventBus.CLOSED}},{key:"getOptions",value:function(){return angular.extend({},this.options)}}]),b}(k["default"]);c["default"]=n,b.exports=c["default"]},{"../../config.js":1,"./../support/ConnectionConfigHolder":12,"./BaseAdapter":5}],7:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;return void 0===i?void 0:i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return void 0;a=j,b=f,c=g,d=!0,h=j=void 0}},h=a("./BaseAdapter"),i=d(h),j=function(a){function b(a){e(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.EventBus=a}return f(b,a),b}(i["default"]);c["default"]=j,b.exports=c["default"]},{"./BaseAdapter":5}],8:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("../../config"),g=function(){function a(b,c){var e=this;d(this,a),this.delegate=b,this.$log=c,this.handlers=[],this.delegate.observe({afterEventbusConnected:function(){return e.afterEventbusConnected()}})}return e(a,[{key:"afterEventbusConnected",value:function(){for(var a in this.handlers){var b=this.handlers[a];if(b&&b.length){var c=!0,d=!1,e=void 0;try{for(var f,g=b[Symbol.iterator]();!(c=(f=g.next()).done);c=!0){var h=f.value;this.delegate.registerHandler(a,h)}}catch(i){d=!0,e=i}finally{try{!c&&g["return"]&&g["return"]()}finally{if(d)throw e}}}}}},{key:"registerHandler",value:function(a,b){var c=this;this.handlers[a]||(this.handlers[a]=[]),this.handlers[a].push(b);var d=null;this.delegate.isConnectionOpen()&&(this.delegate.registerHandler(a,b),d=function(){return c.delegate.unregisterHandler(a,b)});var e=function(){if(d&&(d(),d=void 0),c.handlers[a]){var e=c.handlers[a].indexOf(b);e>-1&&c.handlers[a].splice(e,1),c.handlers[a].length<1&&(c.handlers[a]=void 0)}};return e.displayName=f.moduleName+".service.registerHandler.deconstructor",e}},{key:"on",value:function(a,b){return this.registerHandler(a,b)}},{key:"addListener",value:function(a,b){return this.registerHandler(a,b)}},{key:"unregisterHandler",value:function(a,b){if(this.handlers[a]){var c=this.handlers[a].indexOf(b);c>-1&&this.handlers[a].splice(c,1),this.handlers[a].length<1&&(this.handlers[a]=void 0)}this.delegate.isConnectionOpen()&&this.delegate.unregisterHandler(a,b)}},{key:"un",value:function(a,b){return this.unregisterHandler(a,b)}},{key:"removeListener",value:function(a,b){return this.unregisterHandler(a,b)}},{key:"send",value:function(a,b){var c=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];return angular.isObject(c)?this.delegate.send(a,b,c.timeout,c.expectReply):(this.$log.error(f.moduleName+": Signature of vertxEventBusService.send() has been changed!"),this.send(a,b,{timeout:void 0!==arguments[2]?arguments[2]:1e4,expectReply:void 0!==arguments[3]?arguments[3]:!0}))}},{key:"publish",value:function(a,b){return this.delegate.publish(a,b)}},{key:"emit",value:function(a,b){return this.publish(a,b)}},{key:"getConnectionState",value:function(){return this.delegate.getConnectionState()}},{key:"readyState",value:function(){return this.getConnectionState()}},{key:"isEnabled",value:function(){return this.delegate.isEnabled()}},{key:"isConnected",value:function(){return this.delegate.isConnected()}},{key:"login",value:function(a,b,c){return this.delegate.login(a,b,c)}}]),a}();c["default"]=g,b.exports=c["default"]},{"../../config":1}],9:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a)}return e(a,[{key:"getConnectionState",value:function(){return 3}},{key:"isConnectionOpen",value:function(){return!1}},{key:"isValidSession",value:function(){return!1}},{key:"isEnabled",value:function(){return!1}},{key:"isConnected",value:function(){return!1}},{key:"send",value:function(){}},{key:"publish",value:function(){}}]),a}();c["default"]=f,b.exports=c["default"]},{}],10:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;return void 0===i?void 0:i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return void 0;a=j,b=f,c=g,d=!0,h=j=void 0}},i=a("../../../config"),j=a("./../../support/Queue"),k=d(j),l=a("./../../support/SimpleMap"),m=d(l),n=a("./BaseDelegate"),o=d(n),p=function(a){function b(a,c,d,f,g,i){var j=i.enabled,l=i.debugEnabled,n=i.prefix,o=i.sockjsStateInterval,p=i.messageBuffer,q=i.loginRequired,r=i.loginInterceptor;e(this,b),h(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.$rootScope=a,this.$interval=c,this.$log=d,this.$q=f,this.eventBus=g,this.options={enabled:j,debugEnabled:l,prefix:n,sockjsStateInterval:o,messageBuffer:p,loginRequired:q},this.loginInterceptor=r,this.connectionState=this.eventBus.EventBus.CLOSED,this.states={connected:!1,validSession:!1},this.observers=[],this.messageQueue=new k["default"](this.options.messageBuffer),this.callbackMap=new m["default"],this.initialize()}return f(b,a),g(b,[{key:"initialize",value:function(){var a=this;this.eventBus.onopen=function(){return a.onEventbusOpen()},this.eventBus.onclose=function(){return a.onEventbusClose()};var b=function(){return a.getConnectionState(!0)};b.displayName="connectionIntervalCheck",this.$interval(function(){return b()},this.options.sockjsStateInterval)}},{key:"onEventbusOpen",value:function(){var a=!1;if(this.getConnectionState(!0),this.states.connected||(this.states.connected=!0,a=!0),this.afterEventbusConnected(),a&&this.$rootScope.$broadcast(this.options.prefix+"system.connected"),this.$rootScope.$digest(),this.options.messageBuffer&&this.messageQueue.size()){for(;this.messageQueue.size();){var b=this.messageQueue.first();angular.isFunction(b)&&b()}this.$rootScope.$digest()}}},{key:"onEventbusClose",value:function(){this.getConnectionState(!0),this.states.connected&&(this.states.connected=!1,this.$rootScope.$broadcast(this.options.prefix+"system.disconnected"))}},{key:"observe",value:function(a){this.observers.push(a)}},{key:"afterEventbusConnected",value:function(){var a=!0,b=!1,c=void 0;try{for(var d,e=this.observers[Symbol.iterator]();!(a=(d=e.next()).done);a=!0){var f=d.value;angular.isFunction(f.afterEventbusConnected)&&f.afterEventbusConnected()}}catch(g){b=!0,c=g}finally{try{!a&&e["return"]&&e["return"]()}finally{if(b)throw c}}}},{key:"registerHandler",value:function(a,b){var c=this;if(angular.isFunction(b)){this.options.debugEnabled&&this.$log.debug("[Vert.x EB Service] Register handler for "+a);var d=function(a,d){b(a,d),c.$rootScope.$digest()};return d.displayName=i.moduleName+".service.delegate.live.registerHandler.callbackWrapper",this.callbackMap.put(b,d),this.eventBus.registerHandler(a,d)}}},{key:"unregisterHandler",value:function(a,b){angular.isFunction(b)&&(this.options.debugEnabled&&this.$log.debug("[Vert.x EB Service] Unregister handler for "+a),this.eventBus.unregisterHandler(a,this.callbackMap.get(b)),this.callbackMap.remove(b))}},{key:"send",value:function(a,b){var c=this,d=arguments.length<=2||void 0===arguments[2]?1e4:arguments[2],e=arguments.length<=3||void 0===arguments[3]?!0:arguments[3],f=this.$q.defer(),g=function(){e?!function(){var e=c.$interval(function(){c.options.debugEnabled&&c.$log.debug("[Vert.x EB Service] send('"+a+"') timed out"),f.reject()},d,1);c.eventBus.send(a,b,function(a){c.$interval.cancel(e),f.resolve(a)})}():(c.eventBus.send(a,b),f.resolve())};return g.displayName=i.moduleName+".service.delegate.live.send.next",this.ensureOpenAuthConnection(g)||f.reject(),f.promise}},{key:"publish",value:function(a,b){var c=this;return this.ensureOpenAuthConnection(function(){return c.eventBus.publish(a,b)})}},{key:"login",value:function(){var a=arguments.length<=0||void 0===arguments[0]?this.options.username:arguments[0],b=this,c=arguments.length<=1||void 0===arguments[1]?this.options.password:arguments[1],d=arguments.length<=2||void 0===arguments[2]?5e3:arguments[2],e=this.$q.defer(),f=function(a){a=a||{},"ok"===a.status?(b.states.validSession=!0,e.resolve(a),b.$rootScope.$broadcast(b.options.prefix+"system.login.succeeded",{status:a.status})):(b.states.validSession=!1,e.reject(a),b.$rootScope.$broadcast(b.options.prefix+"system.login.failed",{status:a.status}))};if(f.displayName=i.moduleName+".service.delegate.live.login.next",this.loginInterceptor){var g=function(a,c,d){b.eventBus.send(a,c,d)};this.loginInterceptor(g,a,c,f)}else this.eventBus.login(a,c,f);return this.$interval(function(){return e.reject()},d,1),e.promise}},{key:"ensureOpenConnection",value:function(a){return this.isConnectionOpen()?(a(),!0):this.options.messageBuffer?(this.messageQueue.push(a),!0):!1}},{key:"ensureOpenAuthConnection",value:function(a){var b=this;if(this.options.loginRequired){var c=function(){return b.states.validSession?(a(),!0):(b.options.debugEnabled&&b.$log.debug("[Vert.x EB Service] Message was not sent because login is required"),!1)};return c.displayName=i.moduleName+".service.delegate.live.ensureOpenAuthConnection.fnWrapper",this.ensureOpenConnection(c)}return this.ensureOpenConnection(a)}},{key:"getConnectionState",value:function(a){return this.options.enabled?a&&(this.connectionState=this.eventBus.readyState()):this.connectionState=this.eventBus.EventBus.CLOSED,this.connectionState}},{key:"isConnectionOpen",value:function(){return this.getConnectionState()===this.eventBus.EventBus.OPEN}},{key:"isValidSession",value:function(){return this.states.validSession}},{key:"isConnected",value:function(){return this.states.connected}},{key:"isEnabled",value:function(){return this.options.enabled}},{key:"getMessageQueueLength",value:function(){return this.messageQueue.size()}}]),b}(o["default"]);c["default"]=p,b.exports=c["default"]},{"../../../config":1,"./../../support/Queue":13,"./../../support/SimpleMap":14,"./BaseDelegate":9}],11:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;return void 0===i?void 0:i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return void 0;a=j,b=f,c=g,d=!0,h=j=void 0}},h=a("./BaseDelegate"),i=d(h),j=function(a){function b(){e(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return f(b,a),b}(i["default"]);c["default"]=j,b.exports=c["default"]},{"./BaseDelegate":9}],12:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(b){var c=b.urlServer,e=b.urlPath;d(this,a),this._urlServer=c,this._urlPath=e}return e(a,[{key:"urlServer",get:function(){return this._urlServer}},{key:"urlPath",get:function(){return this._urlPath}}]),a}();c["default"]=f,b.exports=c["default"]},{}],13:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){var b=arguments.length<=0||void 0===arguments[0]?10:arguments[0];d(this,a),this.maxSize=b,this.items=[]}return e(a,[{key:"push",value:function(a){return this.items.push(a),this.recalibrateBufferSize()}},{key:"recalibrateBufferSize",value:function(){for(;this.items.length>this.maxSize;)this.first();return this}},{key:"last",value:function(){return this.items.pop()}},{key:"first",value:function(){return this.items.shift(0)}},{key:"size",value:function(){return this.items.length}}]),a}();c["default"]=f,b.exports=c["default"]},{}],14:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a),this.clear()}return e(a,[{key:"put",value:function(a,b){var c=this._indexForKey(a);return c>-1?this.values[c]=b:(this.keys.push(a),this.values.push(b)),this}},{key:"get",value:function(a){var b=this._indexForKey(a);return b>-1?this.values[b]:void 0}},{key:"containsKey",value:function(a){var b=this._indexForKey(a);return b>-1}},{key:"containsValue",value:function(a){var b=this._indexForValue(a);return b>-1}},{key:"remove",value:function(a){var b=this._indexForKey(a);b>-1&&(this.keys[b]=void 0,this.values[b]=void 0)}},{key:"clear",value:function(){return this.keys=[],this.values=[],this}},{key:"_indexForKey",value:function(a){for(var b in this.keys)if(a===this.keys[b])return b;return-1}},{key:"_indexForValue",value:function(a){for(var b in this.values)if(a===this.values[b])return b;return-1}}]),a}();c["default"]=f,b.exports=c["default"]},{}],15:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("./config"),f=a("./lib/VertxEventBusWrapperProvider"),g=d(f),h=a("./lib/VertxEventBusServiceProvider"),i=d(h);c["default"]=angular.module(e.moduleName,["ng"]).provider("vertxEventBus",g["default"]).provider("vertxEventBusService",i["default"]).name,b.exports=c["default"]},{"./config":1,"./lib/VertxEventBusServiceProvider":3,"./lib/VertxEventBusWrapperProvider":4}]},{},[2]);