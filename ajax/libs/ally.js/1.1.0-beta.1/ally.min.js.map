{"version":3,"file":"generated.js","sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/ally.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/element/_element.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/element/disabled.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/event/_event.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/event/active-element.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/event/shadow-focus.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/fix/_fix.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/fix/pointer-focus-children.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/fix/pointer-focus-input.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/fix/pointer-focus-parent.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/get/_get.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/get/active-elements.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/get/focus-target.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/get/insignificant-branches.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/get/parents.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/get/shadow-host-parents.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/get/shadow-host.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/is/_is.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/is/disabled.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/is/focus-relevant.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/is/focus-relevant.supports.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/is/focusable.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/is/is.util.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/is/native-disabled-supported.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/is/native-disabled-supported.supports.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/is/only-tabbable.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/is/shadowed.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/is/tabbable.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/is/valid-area.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/is/valid-area.supports.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/is/valid-tabindex.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/is/valid-tabindex.supports.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/is/visible.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/maintain/_maintain.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/maintain/disabled.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/maintain/hidden.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/map/_map.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/map/attribute.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/map/keycode.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/observe/_observe.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/observe/interaction-type.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/prototype/element.prototype.matches.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/prototype/svgelement.prototype.focus.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/prototype/window.customevent.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/prototype/window.requestanimationframe.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/query/_query.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/query/first-tabbable.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/query/focusable.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/query/focusable.quick.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/query/focusable.strict.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/query/tabbable.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/query/tabsequence.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/query/tabsequence.sort-area.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/query/tabsequence.sort-shadowed.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/query/tabsequence.sort-tabindex.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/query/tabsequence.supports.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/selector/focusable.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/selector/focusable.supports.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/style/_style.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/style/focus-source.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/style/focus-within.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/style/focus-within.supports.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/supports/css-shadow-piercing-deep-combinator.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/supports/detect-focus.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/supports/focus-area-img-tabindex.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/supports/focus-area-tabindex.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/supports/focus-area-without-href.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/supports/focus-audio-without-controls.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/supports/focus-broken-image-map.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/supports/focus-children-of-focusable-flexbox.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/supports/focus-fieldset-disabled.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/supports/focus-fieldset.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/supports/focus-img-ismap.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/supports/focus-img-usemap-tabindex.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/supports/focus-invalid-tabindex.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/supports/focus-label-tabindex.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/supports/focus-object-svg.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/supports/focus-object-swf.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/supports/focus-scroll-body.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/supports/focus-scroll-container-without-overflow.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/supports/focus-scroll-container.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/supports/focus-summary.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/supports/focus-tabindex-trailing-characters.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/supports/focus-table.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/supports/focus-video-without-controls.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/supports/media/gif.invalid.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/supports/media/gif.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/supports/media/mp3.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/supports/media/mp4.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/supports/media/svg.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/supports/memorize-result.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/supports/supports-cache.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/supports/svg-focus-method.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/supports/tabsequence-area-at-img-position.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/util/compare-position.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/util/context-to-element.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/util/decorate-context.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/util/decorate-service.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/util/get-document.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/util/get-window.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/util/merge-dom-order.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/util/node-array.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/util/sort-dom-order.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/util/tabindex-value.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/util/toggle-attribute-value.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/util/visible-area.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/version.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/when/_when.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/when/focusable.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/when/key.binding.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/when/key.js","/Users/rodneyrehm/projects/test.dev/htdocs/medialize/ally.js/dist/src/when/visible-area.js","node_modules/array.prototype.findindex/index.js","node_modules/css.escape/css.escape.js","node_modules/domtokenlist-shim/dist/domtokenlist.js","node_modules/platform/platform.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","ally","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"conflicted","element","_element_element2","event","_event_event2","fix","_fix_fix2","get","_get_get2","is","_is_is2","maintain","_maintain_maintain2","map","_map_map2","observe","_observe_observe2","query","_query_query2","style","_style_style2","when","_when_when2","version","_version2","noConflict","disabled","_disabled2","disabledFocus","console","warn","disableTabindex","disabledState","tabIndex","_utilTabindexValue2","_utilToggleAttributeValue2","attribute","temporaryValue","saveValue","disableVideoControls","nodeName","toLowerCase","hasAttribute","setAttribute","removeAttribute","restoreControls","disableSvgFocusable","ownerSVGElement","undefined","setAriaDisabled","disableScriptFocus","focus","disablePointerEvents","pointerEvents","getAttribute","setElementDisabled","nodeType","Node","ELEMENT_NODE","TypeError","Boolean","currentState","runningAsGetter","arguments","_isNativeDisabledSupported2","activeElement","_activeElement2","shadowFocus","_shadowFocus2","observeActiveElement","document","previousActiveElement","activeElementEvent","_prototypeWindowCustomevent2","bubbles","cancelable","detail","blur","dispatchEvent","body","raf","requestAnimationFrame","engage","disengage","cancelAnimationFrame","_utilDecorateService2","createShadowRoot","blurTimer","blurElement","handleFocusChange","stopHandleElementBlurEvent","handleElementBlurEvent","clearImmediate","clearTimeout","setImmediate","setTimeout","observeElementBlurEvent","addEventListener","removeEventListener","_active","_getActiveElements2","shadowFocusEvent","CustomEvent","elements","active","hosts","slice","handleDocumentFocusEvent","pointerFocusChildren","_pointerFocusChildren2","pointerFocusInput","_pointerFocusInput2","pointerFocusParent","_pointerFocusParent2","relevantToCurrentBrowser","_platform2","name","match","eventName","handleBeforeFocusEvent","target","_getFocusTarget2","context","display","getComputedStyle","getPropertyValue","indexOf","reverse","children","visibility","transition","forEach","item","_utilDecorateContext2","os","family","layout","inputPattern","handleMouseDownEvent","defaultPrevented","handleMouseUpEvent","_isValidTabindex2","activeElements","_activeElements2","focusTarget","_focusTarget2","insignificantBranches","_insignificantBranches2","parents","_parents2","shadowHostParents","_shadowHostParents2","shadowHost","_shadowHost2","walkToShadowedElement","list","shadowRoot","unshift","walkFromShadowedElement","concat","_isShadowed2","_ref","_utilContextToElement2","message","_isFocusable2","_path","_getParents2","_firstFocusableIndex","findIndex","queryInsignificantBranches","filter","containsFilteredElement","node","containsNode","_utilComparePosition","getParentComparator","parent","some","insiginificantBranches","CollectInsignificantBranchesFilter","NodeFilter","FILTER_REJECT","FILTER_ACCEPT","push","acceptNode","_document","_utilGetDocument2","walker","createTreeWalker","SHOW_ELEMENT","nextNode","_ref2","_utilNodeArray2","documentElement","parentElement","container","parentNode","DOCUMENT_FRAGMENT_NODE","host","focusRelevant","_focusRelevant2","focusable","_focusable2","onlyTabbable","_onlyTabbable2","shadowed","_shadowed2","tabbable","_tabbable2","validArea","_validArea2","validTabindex","_validTabindex2","visible","_visible2","isDisabledFieldset","_nativeDisabledSupported2","supports","_focusRelevantSupports2","type","canFocusLabelTabindex","svgType","canFocusObjectSvg","canFocusObjectSwf","canFocusAudioWithoutControls","canFocusVideoWithoutControls","canFocusSummary","canFocusImgUsemapTabindex","canFocusTable","canFocusFieldset","canFocusSvgMethod","_window","_utilGetWindow2","_prototypeElementPrototypeMatches2","matches","_isUtil","isUserModifyWritable","canFocusImgIsmap","hasLinkParent","canFocusScrollContainer","canFocusScrollContainerWithoutOverflow","isScrollableContainer","hasCssOverflowScroll","canFocusScrollBody","canFocusChildrenOfFocusableFlexbox","parentStyle","_supportsMemorizeResult2","_supportsFocusAudioWithoutControls2","_supportsFocusChildrenOfFocusableFlexbox2","_supportsFocusFieldset2","_supportsFocusImgIsmap2","_supportsFocusImgUsemapTabindex2","_supportsFocusLabelTabindex2","_supportsFocusObjectSvg2","_supportsFocusObjectSwf2","_supportsFocusScrollBody2","_supportsFocusScrollContainer2","_supportsFocusScrollContainerWithoutOverflow2","_supportsFocusSummary2","_supportsSvgFocusMethod2","_supportsFocusTable2","_supportsFocusVideoWithoutControls2","isOnlyFocusRelevant","userModify","webkitUserModify","overflow","offsetHeight","scrollHeight","offsetWidth","scrollWidth","getImageOfArea","querySelector","_cssEscape2","disabledElementsPattern","_nativeDisabledSupportedSupports2","canFocusDisabledFieldset","test","_supportsFocusFieldsetDisabled2","tabindex","SVGElement","_getShadowHost2","focusableElementsPattern","parseFloat","_tabindex","potentiallyTabbable","img","_parent","_validAreaSupports2","hasTabindex","canFocusAreaTabindex","canFocusBrokenImageMaps","complete","naturalHeight","canFocusAreaWithoutHref","href","canFocusAreaImgTabindex","childOfInteractive","_element","_supportsFocusAreaImgTabindex2","_supportsFocusAreaTabindex2","_supportsFocusAreaWithoutHref2","_supportsFocusBrokenImageMap2","validIntegerPatternNoTrailing","validIntegerPatternWithTrailing","_validTabindexSupports2","validIntegerPattern","allowsTrailingCharacters","allowsInvalidValue","_supportsFocusInvalidTabindex2","_supportsFocusTabindexTrailingCharacters2","computedStyle","property","notDisplayed","notVisible","hidden","collapsedParent","offset","open","notRenderedElementsPattern","isAudioWithoutControls","_hidden2","makeElementInert","_elementDisabled2","undoElementInert","observerConfig","attributes","childList","subtree","attributeFilter","InertSubtree","_context","_filter","bind","handleMutation","renderInert","filterElements","_queryFocusable2","includeContext","strategy","startObserver","querySelectorAll","_observer","disconnect","reduce","previous","current","isParentOfElement","includeSelf","MutationObserver","mutations","_this","mutation","addedElements","addedNodes","addedFocusableElements","listQueryFocusable","filterContext","service","makeElementHidden","undoElementHidden","HiddenSubtree","isInsignificantBranch","_getInsignificantBranches2","_attribute2","keycode","_keycode2","aria-busy","default","values","aria-checked","aria-disabled","aria-expanded","aria-grabbed","aria-hidden","aria-invalid","aria-pressed","aria-selected","aria-atomic","aria-autocomplete","aria-dropeffect","multiple","aria-haspopup","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-readonly","aria-relevant","aria-required","aria-sort","other","tab","left","up","right","down","pageUp","page-up","pageDown","page-down","end","home","enter","escape","space","shift","capsLock","caps-lock","ctrl","alt","meta","pause","insert","delete","backspace","_alias",91,"numCode","_name","String","fromCharCode","interactionType","_interactionType2","handleWindowBlurEvent","_activePointers","_activeKeys","handlePointerStartEvent","isPrimary","handlePointerEndEvent","touches","Math","max","handleKeyStartEvent","keyCode","which","handleKeyEndEvent","getInteractionType","pointer","key","pointerStartEvents","pointerEndEvents","polyfill","root","Element","prototype","split","d","createElement","innerHTML","firstElementChild","HTMLElement","_CustomEvent","params","evt","createEvent","initCustomEvent","Event","lastTime","vendors","requestAnimationFrameName","cancelAnimationFrameName","x","_length","callback","currTime","Date","getTime","timeToCall","id","firstTabbable","_firstTabbable2","tabsequence","_tabsequence2","hasAutofocus","hasNoPositiveTabindex","sequence","ignoreAutofocus","defaultToContext","index","_ref$strategy","DOCUMENT_NODE","_focusableQuick2","_focusableStrict2","queryFocusableQuick","_selector","_selectorFocusable2","result","queryFocusableStrict","PossiblyFocusableFilter","FocusableFilter","currentNode","_isOnlyTabbable2","_isFocusRelevant2","FILTER_SKIP","_isTabbable2","moveContextToBeginning","pos","tmp","splice","sortElements","_tabsequenceSortTabindex2","tabsequenceSortsAreaAtImagePosition","_tabsequenceSortArea2","_tabsequenceSupports2","_tabsequenceSortShadowed2","Maps","maps","addMapByName","CSS","usemaps","_elements","extractAreasFromList","_utilMergeDomOrder2","resolveElement","image","getAreasFor","Shadows","hostCounter","inHost","inDocument","_sortingId","parentHost","_registerHost","_registerHostParent","_registerElement","_injectHosts","_replaceHosts","_cleanup","Object","keys","_list","_merge","merged","_resolveHostElement","shadows","extractElements","sort","indexes","normal","reduceRight","_supportsTabsequenceAreaAtImgPosition2","selector","_focusableSupports2","cssShadowPiercingDeepCombinator","replace","join","_supportsCssShadowPiercingDeepCombinator2","focusSource","_focusSource2","focusWithin","_focusWithin2","handleFocusEvent","source","focusEventName","interactionTypeHandler","lock","blurEventName","used","classList","add","getCurrentFocusSource","getUsedFocusSource","lockFocusSource","remove","shadowHandle","_eventShadowFocus2","_observeInteractionType2","script","initial","applyFocusWithinClass","className","_current","handleDocumentBlurEvent","handleShadowFocusEvent","_focusWithinSupports2","testName","_memorizeResult2","combinator","_supportsCache2","noArrowArrowArrow","noDeep","set","detectFocus","options","wrapper","appendChild","mutate","previousScrollTop","scrollTop","previousScrollLeft","scrollLeft","allowsFocus","validate","removeChild","value","_detectFocus2","_mediaGif2","_mediaMp32","_mediaGifInvalid2","_mediaSvg2","fragment","createDocumentFragment","_mediaMp42","readLocalStorage","data","localStorage","getItem","JSON","parse","writeLocalStorage","hasFocus","setItem","stringify","removeItem","userAgent","navigator","cacheKey","cache","getFunctionName","func","hasElementFocus","hasNativeSvgFocus","compareDocumentPosition","DOCUMENT_POSITION_CONTAINED_BY","destruct","initialize","noop","force","instances","_result","ownerDocument","_getDocument2","defaultView","getFirstSuccessorOffset","DOCUMENT_POSITION_FOLLOWING","findInsertionOffsets","insertions","injections","_nodeArray2","insertElementsAtOffsets","inserted","b","insertion","args","apply","_sortDomOrder2","input","Array","isArray","compareDomPosition","parseInt","isNaN","temporaryAttribute","_value","getIntersectingRect","one","two","top","min","bottom","width","height","getViewportRect","innerWidth","clientWidth","innerHeight","clientHeight","getInnerBoundingClientRect","rect","getBoundingClientRect","scrollbarWidth","scrollbarHeight","_rect","area","isOverflowingElement","isScrollableElement","getScrollableParentRect","scrollingContainers","intersection","_viewport","_area","_container","_visible","maxArea","round","_key2","visibleArea","_visibleArea2","filterCallback","handle","createExpectedModifiers","ignoreModifiers","altKey","ctrlKey","metaKey","shiftKey","resolveModifiers","modifiers","expected","token","operator","propertyName","modifier","resolveKey","_mapKeycode2","matchModifiers","modifierSequence","prop","text","_text","tokens","_modifiers","_keyCodes","keyCodes","bindings","mapKeys","registerBinding","addCallback","_keyBinding2","handleKeyDown","_event","_isVisible2","_utilVisibleArea2","runWhenReady","predicate","toString","thisArg","defineProperty","configurable","writable","factory","cssEscape","codeUnit","string","firstCodeUnit","charCodeAt","charAt","DOMTokenList","el","dtp","toggle","iterateArg","fn","contains","cls","arr","inArray","array","validateToken","whitespace","inst","QUnit","HTMLAnchorElement","HTMLAreaElement","HTMLLinkElement","getter","capitalize","toUpperCase","cleanupOS","pattern","label","6.4","6.3","6.2","6.1","6.0","5.2","5.1","5.01","5.0","4.0","4.90","exec","RegExp","format","each","object","maxSafeInteger","forOwn","trim","hasOwnProperty","getClassOf","isHostType","qualify","accumulator","ua","getLayout","guesses","guess","getManufacturer","product","getName","getOS","getProduct","getVersion","patterns","toStringPlatform","description","isCustomContext","nav","isSpecialCasedOS","isModuleScope","thisBinding","oldRoot","likeChrome","objectClass","airRuntimeClass","enviroClass","javaClass","java","phantomClass","rhino","environment","alpha","beta","doc","opera","operamini","operaClass","reOpera","arch","prerelease","useFeatures","manufacturer","Apple","iPad","iPhone","iPod","Amazon","Kindle","Kindle Fire","Asus","Transformer","Barnes & Noble","Nook","BlackBerry","PlayBook","Google","Google TV","HP","TouchPad","HTC","LG","Microsoft","Xbox","Xbox One","Motorola","Xoom","Nintendo","Wii U","Wii","Nokia","Lumia","Samsung","Galaxy S","Galaxy S2","Galaxy S3","Galaxy S4","Sony","PlayStation 4","PlayStation 3","PlayStation Vita","lang","System","getProperty","system","process","platform","runtime","flash","Capabilities","phantom","major","minor","patch","documentMode","toFixed","appMinorVersion","external","architecture","cpuClass","objectTypes","function","freeExports","freeModule","freeGlobal","pow","objectProto"],"mappings":"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,CAAC,4BAAU,OAAO,CAAC,IAAI,kCAAY,OAAO,CAAC,GAAG,IAAI,IAAI,QAAQ,CAAC,OAAO,CAAC,KAAK,KAAK,EAAE;AACrF,SAAG,GAAG,qBAAqB,CAAC,YAAY,CAAC,CAAC;AAC1C,aAAO;KACR;;AAED,aAAS,EAAE,CAAC;GACb,CAAC;;AAEF,cAAY,EAAE,CAAC;AACf,SAAO,EAAE,SAAS,EAAT,SAAS,EAAE,CAAC;CACtB;;;;;ACjDD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACvNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","\n// this builds up the UMD bundle\n\nimport element from './element/_element';\nimport event from './event/_event';\nimport fix from './fix/_fix';\nimport get from './get/_get';\nimport is from './is/_is';\nimport maintain from './maintain/_maintain';\nimport map from './map/_map';\nimport observe from './observe/_observe';\nimport query from './query/_query';\nimport style from './style/_style';\nimport when from './when/_when';\nimport version from './version';\n\n// save current window.ally for noConflict()\nconst conflicted = window.ally;\n\nexport default {\n  element,\n  event,\n  fix,\n  get,\n  is,\n  maintain,\n  map,\n  observe,\n  query,\n  style,\n  when,\n  version,\n  noConflict: function() {\n    if (window.ally === this) {\n      window.ally = conflicted;\n    }\n\n    return this;\n  },\n};\n","\n// exporting modules to be included the UMD bundle\n\nimport disabled from './disabled';\nexport default {\n  disabled,\n};\n","\n/*\n  Utility to make any element inert (disabled). Inert means the elements cannot be interacted\n  with and they cannot be focused via script, pointer or keyboard - and thus not receive focus.\n\n  Elements made inert (disabled) by this utility are given the attribute [data-ally-disabled=\"true\"].\n\n  ---------------\n\n  inert attribute was [removed](https://html5.org/r/8536) [tweet by steve](https://twitter.com/stevefaulkner/status/443075900201259008)\n  but definition of [inert subtrees](http://www.w3.org/html/wg/drafts/html/master/editing.html#inert-subtrees) remains.\n\n  [implementation idea by Vasilis](http://codepen.io/vasilisvg/pen/scowI)\n  [inert attribute polyfill by GoogleChrome](https://github.com/GoogleChrome/inert-polyfill)\n\n  [Gecko Bug: Inert Attribute](https://bugzilla.mozilla.org/show_bug.cgi?id=921504)\n  [Chromium Bug: Inert Attribute](https://code.google.com/p/chromium/issues/detail?id=269846)\n  [Chromium Bug: Inert Subtree](https://code.google.com/p/chromium/issues/detail?id=241699)\n  [WebKit Bug: Inert Subtree](https://bugs.webkit.org/show_bug.cgi?id=110952)\n*/\n\nimport tabindexValue from '../util/tabindex-value';\nimport isNativeDisabledSupported from '../is/native-disabled-supported';\nimport toggleAttributeValue from '../util/toggle-attribute-value';\n\nfunction disabledFocus() {\n  /*eslint-disable no-console */\n  console.warn('trying to focus inert element', this);\n  /*eslint-enable no-console */\n}\n\nfunction disableTabindex(element, disabledState) {\n  if (disabledState) {\n    const tabIndex = tabindexValue(element);\n    toggleAttributeValue({\n      element,\n      attribute: 'tabindex',\n      temporaryValue: '-1',\n      saveValue: tabIndex !== null ? tabIndex : '',\n    });\n  } else {\n    toggleAttributeValue({\n      element,\n      attribute: 'tabindex',\n    });\n  }\n}\n\nfunction disableVideoControls(element, disabledState) {\n  // Chrome leaves <video controls tabindex=\"-1\"> in document focus navigation sequence\n  const nodeName = element.nodeName.toLowerCase();\n  if (nodeName !== 'video' && nodeName !== 'audio') {\n    return;\n  }\n\n  if (disabledState) {\n    if (element.hasAttribute('controls')) {\n      element.setAttribute('data-inert-controls', '');\n      element.removeAttribute('controls');\n    }\n  } else {\n    const restoreControls = element.hasAttribute('data-inert-controls');\n    if (restoreControls) {\n      element.removeAttribute('data-inert-controls');\n      element.setAttribute('controls', '');\n    }\n  }\n}\n\nfunction disableSvgFocusable(element, disabledState) {\n  const nodeName = element.nodeName.toLowerCase();\n  if (nodeName !== 'svg' && !element.ownerSVGElement) {\n    return;\n  }\n\n  toggleAttributeValue({\n    element,\n    attribute: 'focusable',\n    temporaryValue: disabledState ? 'false' : undefined,\n  });\n}\n\nfunction setAriaDisabled(element, disabledState) {\n  toggleAttributeValue({\n    element,\n    attribute: 'aria-disabled',\n    temporaryValue: disabledState ? 'true' : undefined,\n  });\n}\n\nfunction disableScriptFocus(element, disabledState) {\n  if (disabledState) {\n    // make sure no script can focus the element\n    element.focus = disabledFocus;\n  } else {\n    // restore original focus function from prototype\n    delete element.focus;\n  }\n}\n\nfunction disablePointerEvents(element, disabledState) {\n  if (disabledState) {\n    // remember previous pointer events status so we can restore it\n    const pointerEvents = element.style.pointerEvents || '';\n    element.setAttribute('data-inert-pointer-events', pointerEvents);\n    // make sure no pointer interaction can access the element\n    element.style.pointerEvents = 'none';\n  } else {\n    // restore to previous pointer interaction status\n    const pointerEvents = element.getAttribute('data-inert-pointer-events');\n    element.removeAttribute('data-inert-pointer-events');\n    element.style.pointerEvents = pointerEvents;\n  }\n}\n\nfunction setElementDisabled(element, disabledState) {\n  setAriaDisabled(element, disabledState);\n  disableTabindex(element, disabledState);\n  disableScriptFocus(element, disabledState);\n  disablePointerEvents(element, disabledState);\n  disableVideoControls(element, disabledState);\n  disableSvgFocusable(element, disabledState);\n\n  if (disabledState) {\n    element.setAttribute('data-ally-disabled', 'true');\n  } else {\n    element.removeAttribute('data-ally-disabled');\n  }\n}\n\nexport default function(element, disabledState) {\n  if (!element || element.nodeType !== Node.ELEMENT_NODE) {\n    throw new TypeError('element/disabled requires an argument of type Element');\n  }\n\n  // accept truthy/falsy values\n  disabledState = Boolean(disabledState);\n  const currentState = element.hasAttribute('data-ally-disabled');\n  // if there's no value to set, we're running as a getter\n  const runningAsGetter = arguments.length === 1;\n\n  if (isNativeDisabledSupported(element)) {\n    if (runningAsGetter) {\n      return element.disabled;\n    }\n\n    // form elements know the disabled attribute, which we shall use instead of our poor man's copy of it\n    element.disabled = disabledState;\n    return element;\n  }\n\n  if (runningAsGetter) {\n    return currentState;\n  }\n\n  if (currentState === disabledState) {\n    // no update necessary\n    return element;\n  }\n\n  setElementDisabled(element, disabledState);\n  return element;\n}\n","\n// exporting modules to be included the UMD bundle\n\nimport activeElement from './active-element';\nimport shadowFocus from './shadow-focus';\nexport default {\n  activeElement,\n  shadowFocus,\n};\n","\n/*\n  Debugging tool that observe changes to activeElement regardless of focus/blur events.\n  This utility does *not* work with Shadow DOM.\n\n  USAGE:\n    engage();\n    document.body.addEventListener('active-element', function(event) {\n      // event.detail.focus: element that received focus\n      // event.detail.blur: element that lost focus\n    }, false);\n\n\n  NOTE: You *can* use event-delegation on focus events by using the capture-phase:\n    document.body.addEventListener('focus', function(event) {\n      // event.target: element that received focus\n      // event.relatedTarget: element that lost focus\n    }, true);\n*/\n\nimport '../prototype/window.requestanimationframe';\nimport CustomEvent from '../prototype/window.customevent';\nimport decorateService from '../util/decorate-service';\n\nlet previousActiveElement;\nlet raf;\n\nfunction observeActiveElement() {\n  if (!document.activeElement) {\n    // IE10 does not redirect focus to <body> when the activeElement is removed\n    document.body.focus();\n  } else if (document.activeElement !== previousActiveElement) {\n    // https://developer.mozilla.org/en/docs/Web/API/CustomEvent\n    const activeElementEvent = new CustomEvent('active-element', {\n      bubbles: false,\n      cancelable: false,\n      detail: {\n        focus: document.activeElement,\n        blur: previousActiveElement,\n      },\n    });\n\n    document.dispatchEvent(activeElementEvent);\n    previousActiveElement = document.activeElement;\n  }\n\n  if (raf === false) {\n    return;\n  }\n\n  raf = requestAnimationFrame(observeActiveElement);\n}\n\nfunction engage() {\n  raf = true;\n  previousActiveElement = document.activeElement;\n  observeActiveElement();\n}\n\nfunction disengage() {\n  cancelAnimationFrame(raf);\n  raf = false;\n}\n\nexport default decorateService({ engage, disengage });\n","\n/*\n  Utility to observe focus changes within Shadow DOMs.\n\n  USAGE:\n    engage();\n    document.body.addEventListener('shadow-focus', function(event) {\n      // event.detail.elements: complete focus ancestry (array of nodes)\n      // event.detail.active: the actually focused element within the Shadow DOM\n      // event.detail.hosts: the shadow host ancestry of the active element\n    }, false);\n\n  Alternate implementation: https://github.com/cdata/focus-observer\n*/\n\nimport getActiveElements from '../get/active-elements';\nimport decorateService from '../util/decorate-service';\n\nlet engage;\nlet disengage;\n\nif (!document.body.createShadowRoot) {\n  // no need to initialize any of this if we don't have Shadow DOM available\n  engage = disengage = function() {};\n} else {\n  let blurTimer;\n  let blurElement;\n  let handleFocusChange;\n  let stopHandleElementBlurEvent;\n\n  const handleElementBlurEvent = function() {\n    stopHandleElementBlurEvent();\n    // abort any handlers that come from document blur handler\n    (window.clearImmediate || window.clearTimeout)(blurTimer);\n    blurTimer = (window.setImmediate || window.setTimeout)(function() {\n      handleFocusChange();\n    });\n  };\n\n  const observeElementBlurEvent = function(element) {\n    // call us when we're leaving the element\n    element.addEventListener('blur', handleElementBlurEvent, true);\n    blurElement = element;\n  };\n\n  stopHandleElementBlurEvent = function() {\n    // once() - sometimes I miss jQuery's simplicity…\n    blurElement && blurElement.removeEventListener('blur', handleElementBlurEvent, true);\n    blurElement = null;\n  };\n\n  handleFocusChange = function() {\n    const _active = getActiveElements();\n    if (_active.length === 1) {\n      stopHandleElementBlurEvent();\n      return;\n    }\n\n    // listen for blur so we know when to re-validate\n    observeElementBlurEvent(_active[0]);\n    const shadowFocusEvent = new CustomEvent('shadow-focus', {\n      bubbles: false,\n      cancelable: false,\n      detail: {\n        // complete focus ancestry\n        elements: _active,\n        // the actually focused element\n        active: _active[0],\n        // shadow host ancestry\n        hosts: _active.slice(1),\n      },\n    });\n\n    document.dispatchEvent(shadowFocusEvent);\n  };\n\n  const handleDocumentFocusEvent = function() {\n    (window.clearImmediate || window.clearTimeout)(blurTimer);\n    handleFocusChange();\n  };\n\n  engage = function() {\n    document.addEventListener('focus', handleDocumentFocusEvent, true);\n  };\n\n  disengage = function() {\n    (window.clearImmediate || window.clearTimeout)(blurTimer);\n    blurElement && blurElement.removeEventListener('blur', handleElementBlurEvent, true);\n    document.removeEventListener('focus', handleDocumentFocusEvent, true);\n  };\n}\n\nexport default decorateService({ engage, disengage });\n","\n// exporting modules to be included the UMD bundle\n\nimport pointerFocusChildren from './pointer-focus-children';\nimport pointerFocusInput from './pointer-focus-input';\nimport pointerFocusParent from './pointer-focus-parent';\nexport default {\n  pointerFocusChildren,\n  pointerFocusInput,\n  pointerFocusParent,\n};\n","/*\n  Children of focusable elements with display:flex are focusable.\n  Because focus can be given to focusable (not tabbable) elements\n  by mouse, we have to counter this behavior, so the correct element\n  becomes the activeElement (i.e. receives focus).\n\n  Example:\n    <div tabindex=\"-1\" style=\"display:flex\">\n      <span>I would receive focus</span>\n    </div>\n\n  This (wrong) behavior was observed in Internet Explorer 10 and 11.\n  It is fixed in IE12 (Win10 IE Tec Preview)\n*/\n\nimport platform from 'platform';\nimport getFocusTarget from '../get/focus-target';\nimport decorateContext from '../util/decorate-context';\n\nlet engage;\nlet disengage;\n// This fix is only relevant to IE10 (Trident/6) and IE11 (Trident/7)\nconst relevantToCurrentBrowser = platform.name === 'IE' && (platform.version.match(/^(10|11)\\./));\n// IE10 requires prefix, IE11 does not\nconst eventName = 'onpointerdown' in document ? 'pointerdown' : 'MSPointerDown';\n\nif (!relevantToCurrentBrowser) {\n  engage = function() {};\n} else {\n  const handleBeforeFocusEvent = function(event) {\n    // find the element that would receive focus\n    const target = getFocusTarget({context: event.target});\n    if (!target || target === event.target) {\n      // there's nothing to focus, or we're focusing the element clicked on\n      return;\n    }\n\n    // if the focus target does not have display:flex we're good\n    const display = window.getComputedStyle(target, null).getPropertyValue('display');\n    // flex, flexbox, -ms-flex, inline-flexbox (yeah, whatever…)\n    if (display.indexOf('flex') === -1) {\n      return;\n    }\n\n    // hide all children, because hidden elements can't get focus\n    // remember previous element style (not necessarily computed style)\n    // to undo hiding later. Reset transitions as well, in case visibility\n    // is to be transitioned. This will effectively kill all transitions\n    // that are executed on mousedown / :active\n    const reverse = [].map.call(target.children, function(element) {\n      const visibility = element.style.visibility || '';\n      const transition = element.style.transition || '';\n      element.style.visibility = 'hidden';\n      element.style.transition = 'none';\n      return [element, visibility, transition];\n    });\n\n    // add cleanup (undo hide) to the RunLoop\n    window.setImmediate(function() {\n      reverse.forEach(function(item) {\n        item[0].style.visibility = item[1];\n        item[0].style.transition = item[2];\n      });\n    });\n  };\n\n  engage = function(element) {\n    element.addEventListener(eventName, handleBeforeFocusEvent, true);\n  };\n\n  disengage = function(element) {\n    element.removeEventListener(eventName, handleBeforeFocusEvent, true);\n  };\n}\n\nexport default decorateContext({ engage, disengage });\n","/*\n  Clicking on form field does not necessarily assign it focus in Safari and Firefox on Mac OS X.\n  While not a browser bug, it may be considered undesired behavior.\n\n  https://bugs.webkit.org/show_bug.cgi?id=22261\n  https://bugs.webkit.org/show_bug.cgi?id=118043\n\n  Note: This behavior can be turned off in Firefox by changing the\n  option `accessibility.mouse_focuses_formcontrol` in about:config\n*/\n\nimport platform from 'platform';\nimport decorateContext from '../util/decorate-context';\n\nlet engage;\nlet disengage;\n// This fix is only relevant to Safari and Firefox on OSX\nconst relevantToCurrentBrowser = platform.os.family === 'OS X'\n  && (platform.layout === 'Gecko' || platform.layout === 'WebKit');\n\nif (!relevantToCurrentBrowser) {\n  engage = function() {};\n} else {\n  const inputPattern = /^(input|button)$/;\n\n  const handleMouseDownEvent = function(event) {\n    if (event.defaultPrevented || !event.target.nodeName.toLowerCase().match(inputPattern)) {\n      // abort if the mousedown event was cancelled\n      return;\n    }\n\n    // we need to set focus AFTER the mousedown finished, otherwise WebKit will ignore the call\n    (window.setImmediate || window.setTimeout)(function() {\n      event.target.focus();\n    });\n  };\n\n  const handleMouseUpEvent = function(event) {\n    if (event.defaultPrevented || event.target.nodeName.toLowerCase() !== 'label') {\n      // abort if the mouseup event was cancelled\n      return;\n    }\n\n    // <label> will redirect focus to the appropriate input element on its own\n    event.target.focus();\n  };\n\n  engage = function(element) {\n    element.addEventListener('mousedown', handleMouseDownEvent, false);\n    // <label> elements redirect focus upon mouseup, not mousedown\n    element.addEventListener('mouseup', handleMouseUpEvent, false);\n  };\n\n  disengage = function(element) {\n    element.removeEventListener('mousedown', handleMouseDownEvent, false);\n    element.removeEventListener('mouseup', handleMouseUpEvent, false);\n  };\n}\n\nexport default decorateContext({ engage, disengage });\n","/*\n  Clicking on a link that has a focusable element in its ancestry [tabindex=\"-1\"],\n  can lead to that parental element gaining focus, instead of the link.\n\n  Example:\n    <div tabindex=\"-1\">\n      <a href=\"#foo\">click me</a>\n    </div>\n\n  This (wrong) behavior was observed in Chrome 38, iOS8, Safari 6.2, WebKit r175131\n  It is not a problem in Firefox 33, Internet Explorer 11, Chrome 39.\n*/\n\nimport platform from 'platform';\nimport getFocusTarget from '../get/focus-target';\nimport isValidTabIndex from '../is/valid-tabindex';\nimport decorateContext from '../util/decorate-context';\n\nlet engage;\nlet disengage;\n// This fix is only relevant to WebKit\nconst relevantToCurrentBrowser = platform.layout === 'WebKit';\n\nif (!relevantToCurrentBrowser) {\n  engage = function() {};\n} else {\n  // add [tabindex=\"0\"] to the (focusable) element that is about to be clicked\n  // if it does not already have an explicit tabindex (attribute).\n  // By applying an explicit tabindex, WebKit will not go look for\n  // the first valid tabindex in the element's parents.\n  const handleBeforeFocusEvent = function(event) {\n    // find the element that would receive focus\n    const target = getFocusTarget({context: event.target});\n    if (!target || target.hasAttribute('tabindex') && isValidTabIndex(target)) {\n      // there's nothing to focus, or the element already has tabindex, we're good\n      return;\n    }\n\n    // assign explicit tabindex, as implicit tabindex is the problem\n    target.setAttribute('tabindex', 0);\n\n    // add cleanup to the RunLoop\n    (window.setImmediate || window.setTimeout)(function() {\n      target.removeAttribute('tabindex');\n    }, 0);\n  };\n\n  engage = function(element) {\n    element.addEventListener('mousedown', handleBeforeFocusEvent, true);\n    element.addEventListener('touchstart', handleBeforeFocusEvent, true);\n  };\n\n  disengage = function(element) {\n    element.removeEventListener('mousedown', handleBeforeFocusEvent, true);\n    element.removeEventListener('touchstart', handleBeforeFocusEvent, true);\n  };\n}\n\nexport default decorateContext({ engage, disengage });\n","\n// exporting modules to be included the UMD bundle\n\nimport activeElements from './active-elements';\nimport focusTarget from './focus-target';\nimport insignificantBranches from './insignificant-branches';\nimport parents from './parents';\nimport shadowHostParents from './shadow-host-parents';\nimport shadowHost from './shadow-host';\nexport default {\n  activeElements,\n  focusTarget,\n  insignificantBranches,\n  parents,\n  shadowHostParents,\n  shadowHost,\n};\n","\n// [0] always is the actual active element (even within web-components)\n// [0+n] is the hierarchy of shadow-doms with [length -1] being the top most shadow-host\n\nimport isShadowed from '../is/shadowed';\nimport getShadowHostParents from './shadow-host-parents';\n\nfunction walkToShadowedElement() {\n  const list = [document.activeElement];\n\n  while (list[0] && list[0].shadowRoot) {\n    list.unshift(list[0].shadowRoot.activeElement);\n  }\n\n  return list;\n}\n\nfunction walkFromShadowedElement() {\n  const hosts = getShadowHostParents({context: document.activeElement});\n  return [document.activeElement].concat(hosts);\n}\n\nexport default function() {\n  if (document.activeElement === null) {\n    // IE10 does not redirect focus to <body> when the activeElement is removed\n    document.body.focus();\n  }\n\n  // Firefox currently leaks the shadowed element\n  // @browser-issue Gecko https://bugzilla.mozilla.org/show_bug.cgi?id=1117535\n  if (isShadowed(document.activeElement)) {\n    return walkFromShadowedElement();\n  }\n\n  return walkToShadowedElement();\n}\n","\n/*\n  Identify the first focusable element in the element's ancestry, including itself\n*/\n\nimport 'array.prototype.findindex';\nimport getParents from '../get/parents';\nimport isFocusable from '../is/focusable';\nimport contextToElement from '../util/context-to-element';\n\nexport default function({context} = {}) {\n  const element = contextToElement({\n    message: 'get/focus-target requires valid options.context',\n    context,\n  });\n\n  // trivial ejection check\n  if (isFocusable(element)) {\n    return element;\n  }\n\n  // obtain the element's ancestry\n  const _path = getParents({context: element}).slice(1);\n  // find the first element that is actually focusable\n  const _firstFocusableIndex = _path.findIndex(isFocusable);\n  return _path[_firstFocusableIndex] || null;\n}\n","\n// find all highest elements within context that do not contain any of the filter elements.\n// (basically the tree minus the parent paths of each filtered element reduced to the top most nodes)\n// originally inspired by Marcy Sutton's Material Dialog Component:\n// https://github.com/angular/material/blob/v0.11.1/src/components/dialog/dialog.js#L748-L783\n// to avoid this behavior: http://marcysutton.com/slides/mobile-a11y-seattlejs/#/36\n\nimport nodeArray from '../util/node-array';\nimport {getParentComparator} from '../util/compare-position';\nimport getDocument from '../util/get-document';\n\nfunction queryInsignificantBranches({context, filter}) {\n  const containsFilteredElement = function(node) {\n    const containsNode = getParentComparator({parent: node});\n    return filter.some(containsNode);\n  };\n\n  // We'd use a Set() for this, if we could\n  const insiginificantBranches = [];\n\n  // see https://developer.mozilla.org/en-US/docs/Web/API/NodeFilter\n  const CollectInsignificantBranchesFilter = function(node) {\n    if (filter.some(element => node === element)) {\n      // we've hit a filtered element and can ignore its children\n      return NodeFilter.FILTER_REJECT;\n    }\n\n    if (containsFilteredElement(node)) {\n      // we've hit a significant tree, so we'll have to keep investigating\n      return NodeFilter.FILTER_ACCEPT;\n    }\n\n    // we've found an insignificant tree\n    insiginificantBranches.push(node);\n    return NodeFilter.FILTER_REJECT;\n  };\n  // IE requires a function, Browsers require {acceptNode: function}\n  // see http://www.bennadel.com/blog/2607-finding-html-comment-nodes-in-the-dom-using-treewalker.htm\n  CollectInsignificantBranchesFilter.acceptNode = CollectInsignificantBranchesFilter;\n\n  const _document = getDocument(context);\n  // see https://developer.mozilla.org/en-US/docs/Web/API/Document/createTreeWalker\n  const walker = _document.createTreeWalker(\n    // root element to start search in\n    context,\n    // element type filter\n    NodeFilter.SHOW_ELEMENT,\n    // custom NodeFilter filter\n    CollectInsignificantBranchesFilter,\n    // deprecated, but IE requires it\n    false\n  );\n\n  while (walker.nextNode()) {\n    // collection things is happening through the filter method\n  }\n\n  return insiginificantBranches;\n}\n\nexport default function({context, filter} = {}) {\n  context = nodeArray(context || document.documentElement)[0];\n  filter = nodeArray(filter);\n\n  if (!filter.length) {\n    throw new TypeError('get/insignificant-branches requires valid options.filter');\n  }\n\n  return queryInsignificantBranches({\n    context,\n    filter,\n  });\n}\n","\nimport contextToElement from '../util/context-to-element';\n\n// [elem, elem.parent, elem.parent.parent, …, html]\n// will not contain the shadowRoot (DOCUMENT_FRAGMENT_NODE) and shadowHost\nexport default function({context} = {}) {\n  const list = [];\n  let element = contextToElement({\n    message: 'get/parents requires valid options.context',\n    context,\n  });\n\n  while (element) {\n    list.push(element);\n    element = element.parentElement;\n  }\n\n  return list;\n}\n","\nimport getShadowHost from './shadow-host';\nimport contextToElement from '../util/context-to-element';\n\nexport default function({context} = {}) {\n  const list = [];\n  let element = contextToElement({\n    message: 'get/shadow-host-parents requires valid options.context',\n    context,\n  });\n\n  while (element) {\n    element = getShadowHost({context: element});\n    if (!element) {\n      break;\n    }\n\n    list.push(element);\n  }\n\n  return list;\n}\n","\nimport nodeArray from '../util/node-array';\n\nexport default function({context} = {}) {\n  let element = nodeArray(context)[0];\n  if (!element) {\n    throw new TypeError('get/shadow-host requires valid options.context');\n  }\n\n  // walk up to the root\n  let container = null;\n\n  while (element) {\n    container = element;\n    element = element.parentNode;\n  }\n\n  if (!container) {\n    return null;\n  }\n\n  // https://developer.mozilla.org/en-US/docs/Web/API/Node.nodeType\n  // NOTE: Firefox 34 does not expose ShadowRoot.host (but 37 does)\n  if (container.nodeType === container.DOCUMENT_FRAGMENT_NODE && container.host) {\n    // the root is attached to a fragment node that has a host\n    return container.host;\n  }\n\n  return null;\n}\n","\n// exporting modules to be included the UMD bundle\n\nimport disabled from './disabled';\nimport focusRelevant from './focus-relevant';\nimport focusable from './focusable';\nimport onlyTabbable from './only-tabbable';\nimport shadowed from './shadowed';\nimport tabbable from './tabbable';\nimport validArea from './valid-area';\nimport validTabindex from './valid-tabindex';\nimport visible from './visible';\nexport default {\n  disabled,\n  focusRelevant,\n  focusable,\n  onlyTabbable,\n  shadowed,\n  tabbable,\n  validArea,\n  validTabindex,\n  visible,\n};\n","\n// Determine if an element is disabled (i.e. not editable)\n\nimport getParents from '../get/parents';\nimport isNativeDisabledSupported from './native-disabled-supported';\n\nfunction isDisabledFieldset(element) {\n  const nodeName = element.nodeName.toLowerCase();\n  return nodeName === 'fieldset' && element.disabled;\n}\n\nexport default function(element) {\n  if (!element || element.nodeType !== Node.ELEMENT_NODE) {\n    throw new TypeError('is/disabled requires an argument of type Element');\n  }\n\n  if (element.hasAttribute('data-ally-disabled')) {\n    // treat ally's element/disabled like the DOM native element.disabled\n    return true;\n  }\n\n  if (!isNativeDisabledSupported(element)) {\n    // non-form elements do not support the disabled attribute\n    return false;\n  }\n\n  if (element.disabled) {\n    // the element itself is disabled\n    return true;\n  }\n\n  if (getParents({context: element}).some(isDisabledFieldset)) {\n    // a parental <fieldset> is disabld and inherits the state onto this element\n    return true;\n  }\n\n  return false;\n}\n","\n// determine if an element supports.can be focused by script regardless\n// of the element actually being focusable at the time of execution\n// i.e. <input disabled> is conisdered focus-relevant, but not focusable\n\nimport '../prototype/svgelement.prototype.focus';\nimport polyfillElementPrototypeMatches from '../prototype/element.prototype.matches';\nimport getParents from '../get/parents';\nimport getWindow from '../util/get-window';\nimport isValidTabindex from './valid-tabindex';\nimport isValidArea from './valid-area';\nimport {\n  hasCssOverflowScroll,\n  isScrollableContainer,\n  isUserModifyWritable,\n} from './is.util';\n\nimport _supports from './focus-relevant.supports';\nlet supports;\n\nexport default function(element) {\n  if (!supports) {\n    supports = _supports();\n  }\n\n  if (element === document) {\n    element = document.documentElement;\n  }\n\n  if (!element || element.nodeType !== Node.ELEMENT_NODE) {\n    throw new TypeError('is/focus-relevant requires an argument of type Element');\n  }\n\n  const nodeName = element.nodeName.toLowerCase();\n\n  if (nodeName === 'input' && element.type === 'hidden') {\n    // input[type=\"hidden\"] supports.cannot be focused\n    return false;\n  }\n\n  if (nodeName === 'input' || nodeName === 'select' || nodeName === 'button' || nodeName === 'textarea') {\n    return true;\n  }\n\n  if (nodeName === 'label' && !supports.canFocusLabelTabindex) {\n    // <label tabindex=\"0\"> is only tabbable in Firefox, not script-focusable\n    // there's no way to make an element focusable other than by adding a tabindex,\n    // and focus behavior of the label element seems hard-wired to ignore tabindex\n    // in some browsers (like Gecko, Blink and WebKit)\n    return false;\n  }\n\n  if (nodeName === 'area') {\n    return isValidArea(element);\n  }\n\n  if (nodeName === 'a' && element.hasAttribute('href')) {\n    return true;\n  }\n\n  if (nodeName === 'object' && element.hasAttribute('usemap')) {\n    // object[usemap] is not focusable in any browser\n    return false;\n  }\n\n  if (nodeName === 'object') {\n    const svgType = element.getAttribute('type');\n    if (!supports.canFocusObjectSvg && svgType === 'image/svg+xml') {\n      // object[type=\"image/svg+xml\"] is not focusable in Internet Explorer\n      return false;\n    } else if (!supports.canFocusObjectSwf && svgType === 'application/x-shockwave-flash') {\n      // object[type=\"application/x-shockwave-flash\"] is not focusable in Internet Explorer 9\n      return false;\n    }\n  }\n\n  if (nodeName === 'iframe' || nodeName === 'object') {\n    // browsing context containers\n    return true;\n  }\n\n  const validTabindex = isValidTabindex(element);\n\n  if (nodeName === 'embed' || nodeName === 'keygen') {\n    // embed is considered focus-relevant but not focusable\n    // see https://github.com/medialize/ally.js/issues/82\n    return true;\n  }\n\n  if (element.hasAttribute('contenteditable')) {\n    // also see CSS property user-modify below\n    return true;\n  }\n\n  if (nodeName === 'audio' && (supports.canFocusAudioWithoutControls || element.hasAttribute('controls'))) {\n    return true;\n  }\n\n  if (nodeName === 'video' && (supports.canFocusVideoWithoutControls || element.hasAttribute('controls'))) {\n    return true;\n  }\n\n  if (supports.canFocusSummary && nodeName === 'summary') {\n    return true;\n  }\n\n  if (nodeName === 'img' && element.hasAttribute('usemap') && validTabindex) {\n    // Gecko, Trident and Edge do not allow an image with an image map and tabindex to be focused,\n    // it appears the tabindex is overruled so focus is still forwarded to the <map>\n    return supports.canFocusImgUsemapTabindex;\n  }\n\n  if (supports.canFocusTable && (nodeName === 'table' || nodeName === 'td')) {\n    // IE10-11 supports.can focus <table> and <td>\n    return true;\n  }\n\n  if (supports.canFocusFieldset && nodeName === 'fieldset') {\n    // IE10-11 supports.can focus <fieldset>\n    return true;\n  }\n\n  if (nodeName === 'svg') {\n    if (!supports.canFocusSvgMethod) {\n      // Firefox and IE supports.cannot focus SVG elements because SVGElement.prototype.focus is missing\n      return false;\n    }\n    // NOTE: in Chrome this would be something like 'svg, svg *,' as *every* svg element with a focus event listener is focusable\n    return validTabindex;\n  }\n\n  const _window = getWindow(element);\n  polyfillElementPrototypeMatches(_window);\n  if (element.matches('svg a[*|href]')) {\n    // Namespace problems of [xlink:href] explained in http://stackoverflow.com/a/23047888/515124\n    // Firefox supports.cannot focus <svg> child elements from script\n    return supports.canFocusSvgMethod;\n  }\n\n  // http://www.w3.org/TR/html5/editing.html#sequential-focus-navigation-and-the-tabindex-attribute\n  if (validTabindex) {\n    return true;\n  }\n\n  const style = window.getComputedStyle(element, null);\n  if (isUserModifyWritable(style)) {\n    return true;\n  }\n\n  if (supports.canFocusImgIsmap && nodeName === 'img' && element.hasAttribute('ismap')) {\n    // IE10-11 considers the <img> in <a href><img ismap> focusable\n    // https://github.com/medialize/ally.js/issues/20\n    const hasLinkParent = getParents({context: element}).some(\n      parent => parent.nodeName.toLowerCase() === 'a' && parent.hasAttribute('href')\n    );\n\n    if (hasLinkParent) {\n      return true;\n    }\n  }\n\n  // https://github.com/medialize/ally.js/issues/21\n  if (supports.canFocusScrollContainer) {\n    if (supports.canFocusScrollContainerWithoutOverflow) {\n      // Internet Explorer does will consider the scrollable area focusable\n      // if the element is a <div> or a <span> and it is in fact scrollable,\n      // regardless of the CSS overflow property\n      if (isScrollableContainer(element, nodeName)) {\n        return true;\n      }\n    } else if (hasCssOverflowScroll(style)) {\n      // Firefox requires proper overflow setting, IE does not necessarily\n      // https://developer.mozilla.org/en-US/docs/Web/CSS/overflow\n      return true;\n    }\n  }\n\n  const parent = element.parentElement;\n  if (parent) {\n    if (supports.canFocusScrollBody && isScrollableContainer(parent, nodeName)) {\n      // scrollable bodies are focusable Internet Explorer\n      // https://github.com/medialize/ally.js/issues/21\n      return true;\n    }\n\n    // Children of focusable elements with display:flex are focusable in IE10-11\n    if (supports.canFocusChildrenOfFocusableFlexbox) {\n      const parentStyle = window.getComputedStyle(parent, null);\n      if (parentStyle.display.indexOf('flex') > -1) {\n        return true;\n      }\n    }\n  }\n\n  // NOTE: elements marked as inert are not focusable,\n  // but that property is not exposed to the DOM\n  // http://www.w3.org/TR/html5/editing.html#inert\n\n  return false;\n}\n","\nimport memorizeResult from '../supports/memorize-result';\nimport canFocusAudioWithoutControls from '../supports/focus-audio-without-controls';\nimport canFocusChildrenOfFocusableFlexbox from '../supports/focus-children-of-focusable-flexbox';\nimport canFocusFieldset from '../supports/focus-fieldset';\nimport canFocusImgIsmap from '../supports/focus-img-ismap';\nimport canFocusImgUsemapTabindex from '../supports/focus-img-usemap-tabindex';\nimport canFocusLabelTabindex from '../supports/focus-label-tabindex';\nimport canFocusObjectSvg from '../supports/focus-object-svg';\nimport canFocusObjectSwf from '../supports/focus-object-swf';\nimport canFocusScrollBody from '../supports/focus-scroll-body';\nimport canFocusScrollContainer from '../supports/focus-scroll-container';\nimport canFocusScrollContainerWithoutOverflow from '../supports/focus-scroll-container-without-overflow';\nimport canFocusSummary from '../supports/focus-summary';\nimport canFocusSvgMethod from '../supports/svg-focus-method';\nimport canFocusTable from '../supports/focus-table';\nimport canFocusVideoWithoutControls from '../supports/focus-video-without-controls';\n\nexport default memorizeResult(function() {\n  return {\n    canFocusAudioWithoutControls: canFocusAudioWithoutControls(),\n    canFocusChildrenOfFocusableFlexbox: canFocusChildrenOfFocusableFlexbox(),\n    canFocusFieldset: canFocusFieldset(),\n    canFocusImgIsmap: canFocusImgIsmap(),\n    canFocusImgUsemapTabindex: canFocusImgUsemapTabindex(),\n    canFocusLabelTabindex: canFocusLabelTabindex(),\n    canFocusObjectSvg: canFocusObjectSvg(),\n    canFocusObjectSwf: canFocusObjectSwf(),\n    canFocusScrollBody: canFocusScrollBody(),\n    canFocusScrollContainer: canFocusScrollContainer(),\n    canFocusScrollContainerWithoutOverflow: canFocusScrollContainerWithoutOverflow(),\n    canFocusSummary: canFocusSummary(),\n    canFocusSvgMethod: canFocusSvgMethod(),\n    canFocusTable: canFocusTable(),\n    canFocusVideoWithoutControls: canFocusVideoWithoutControls(),\n  };\n});\n","\n// determine if an element can be focused\n\n// http://www.w3.org/TR/html5/editing.html#focus-management\n\n// NOTE: The following known issues exist:\n//   Gecko: `svg a[xlink|href]` is not identified as focusable (because SVGElement.prototype.focus is missing)\n//   Blink, WebKit: SVGElements that have been made focusable by adding a focus event listener are not identified as focusable\n\nimport isFocusRelevant from './focus-relevant';\nimport isVisible from './visible';\nimport isDisabled from './disabled';\nimport isOnlyTabbable from './only-tabbable';\n\nfunction isOnlyFocusRelevant(element) {\n  const nodeName = element.nodeName.toLowerCase();\n  if (nodeName === 'embed' || nodeName === 'keygen') {\n    // embed is considered focus-relevant but not focusable\n    // see https://github.com/medialize/ally.js/issues/82\n    return true;\n  }\n\n  return false;\n}\n\nexport default function(element) {\n  if (element === document) {\n    element = document.documentElement;\n  }\n\n  if (!element || element.nodeType !== Node.ELEMENT_NODE) {\n    throw new TypeError('is/focusable requires an argument of type Element');\n  }\n\n  if (!isFocusRelevant(element) || isOnlyFocusRelevant(element)) {\n    return false;\n  }\n\n  if (isDisabled(element)) {\n    return false;\n  }\n\n  if (isOnlyTabbable(element)) {\n    // some elements may be keyboard focusable, but not script focusable\n    return false;\n  }\n\n  // elements that are not rendered, cannot be focused\n  if (!isVisible(element)) {\n    return false;\n  }\n\n  return true;\n}\n","\n// this is a shared utility file for focus-relevant.js and tabbable.js\n// separate testing of this file's functions is not necessary,\n// as they're implicitly tested by way of the consumers\n\nimport cssEscape from 'css.escape';\nimport getDocument from '../util/get-document';\n\nexport function isUserModifyWritable(style) {\n  // http://www.w3.org/TR/1999/WD-css3-userint-19990916#user-modify\n  // https://github.com/medialize/ally.js/issues/17\n  const userModify = style.webkitUserModify || '';\n  return Boolean(userModify && userModify.indexOf('write') !== -1);\n}\n\nexport function hasCssOverflowScroll(style) {\n  return [\n    style.getPropertyValue('overflow'),\n    style.getPropertyValue('overflow-x'),\n    style.getPropertyValue('overflow-y'),\n  ].some(overflow => overflow === 'auto' || overflow === 'scroll');\n}\n\nexport function isScrollableContainer(element, nodeName) {\n  if (nodeName !== 'div' && nodeName !== 'span') {\n    // Internet Explorer advances scrollable containers and bodies to focusable\n    // only if the scrollable container is <div> or <span> - this does *not*\n    // happen for <section>, <article>, …\n    return false;\n  }\n\n  return element.offsetHeight < element.scrollHeight || element.offsetWidth < element.scrollWidth;\n}\n\nexport function getImageOfArea(element) {\n  const map = element.parentElement;\n\n  if (!map.name || map.nodeName.toLowerCase() !== 'map') {\n    return null;\n  }\n\n  // NOTE: image maps can also be applied to <object> with image content,\n  // but no browser supports this at the moment\n\n  // HTML5 specifies HTMLMapElement.images to be an HTMLCollection of all\n  // <img> and <object> referencing the <map> element, but no browser implements this\n  //   http://www.w3.org/TR/html5/embedded-content-0.html#the-map-element\n  //   https://developer.mozilla.org/en-US/docs/Web/API/HTMLMapElement\n  // the image must be valid and loaded for the map to take effect\n  const _document = getDocument(element);\n  return _document.querySelector('img[usemap=\"#' + cssEscape(map.name) + '\"]') || null;\n}\n","\n// Determine if an element supports the disabled attribute\n\nimport _supports from './native-disabled-supported.supports';\nlet supports;\n\n// http://www.w3.org/TR/html5/disabled-elements.html#concept-element-disabled\nlet disabledElementsPattern = /^(input|select|textarea|button|fieldset)$/;\n\nexport default function(element) {\n  if (!supports) {\n    supports = _supports();\n\n    // fieldset[tabindex=0][disabled] should not be focusable, but Blink and WebKit disagree\n    // @specification http://www.w3.org/TR/html5/disabled-elements.html#concept-element-disabled\n    // @browser-issue Chromium https://crbug.com/453847\n    // @browser-issue WebKit https://bugs.webkit.org/show_bug.cgi?id=141086\n    if (supports.canFocusDisabledFieldset) {\n      disabledElementsPattern = /^(input|select|textarea|button)$/;\n    }\n  }\n\n  if (!element || element.nodeType !== Node.ELEMENT_NODE) {\n    throw new TypeError('is/native-disabled-supported requires an argument of type Element');\n  }\n\n  const nodeName = element.nodeName.toLowerCase();\n  return Boolean(disabledElementsPattern.test(nodeName));\n}\n","\nimport memorizeResult from '../supports/memorize-result';\nimport canFocusDisabledFieldset from '../supports/focus-fieldset-disabled';\n\nexport default memorizeResult(function() {\n  return {\n    canFocusDisabledFieldset: canFocusDisabledFieldset(),\n  };\n});\n","\nimport platform from 'platform';\nimport getWindow from '../util/get-window';\nimport tabindexValue from '../util/tabindex-value';\n\nexport default function(element) {\n  if (element === document) {\n    element = document.documentElement;\n  }\n\n  if (!element || element.nodeType !== Node.ELEMENT_NODE) {\n    throw new TypeError('is/only-tabbable requires an argument of type Element');\n  }\n\n  const nodeName = element.nodeName.toLowerCase();\n  const tabindex = tabindexValue(element);\n\n  if (nodeName === 'label' && platform.name === 'Firefox') {\n    // Firefox cannot focus, but tab to: label[tabindex=0]\n    return tabindex !== null && tabindex >= 0;\n  }\n\n  if (nodeName === 'object' && element.getAttribute('type') === 'image/svg+xml' && platform.name === 'IE') {\n    // Internet Explorer cannot focus, but tab to: object[type=\"image/svg+xml\"]\n    // [tabindex=-1] negates the tabbing\n    return tabindex === null || tabindex >= 0;\n  }\n\n  if (nodeName === 'svg' && platform.name === 'IE') {\n    return element.getAttribute('focusable') !== 'false';\n  }\n\n  const _window = getWindow(element);\n  if (element instanceof _window.SVGElement) {\n    if (nodeName === 'a' && element.hasAttribute('xlink:href')) {\n      // any focusable child of <svg> cannot be focused, but tabbed to\n      if (platform.name === 'Firefox') {\n        return true;\n      }\n      if (platform.name === 'IE') {\n        return element.getAttribute('focusable') !== 'false';\n      }\n    }\n    if (platform.name === 'IE') {\n      return element.getAttribute('focusable') === 'true';\n    }\n  }\n\n  return false;\n}\n","\n// determine if an element is the child of a ShadowRoot\n\nimport getShadowHost from '../get/shadow-host';\n\nexport default function(element) {\n  if (element === document) {\n    element = document.documentElement;\n  }\n\n  if (!element || element.nodeType !== Node.ELEMENT_NODE) {\n    throw new TypeError('is/shadowed requires an argument of type Element');\n  }\n\n  return Boolean(getShadowHost({context: element}));\n}\n","\n// determine if an element can be focused by keyboard (i.e. is part of the document's sequential focus navigation order)\n\nimport platform from 'platform';\nimport tabindexValue from '../util/tabindex-value';\nimport {\n  getImageOfArea,\n  hasCssOverflowScroll,\n  isScrollableContainer,\n  isUserModifyWritable,\n} from './is.util';\n\n// Internet Explorer 11 considers fieldset, table, td focusable, but not tabbable\n// Internet Explorer 11 considers body to have [tabindex=0], but does not allow tabbing to it\nconst focusableElementsPattern = /^(fieldset|table|td|body)$/;\n\nexport default function(element) {\n  if (element === document) {\n    element = document.documentElement;\n  }\n\n  if (!element || element.nodeType !== Node.ELEMENT_NODE) {\n    throw new TypeError('is/tabbable requires an argument of type Element');\n  }\n\n  if (platform.name === 'Chrome Mobile' && parseFloat(platform.version) > 42 && platform.os.family === 'Android') {\n    // External keyboard support worked fine in CHrome 42, but stopped working in Chrome 45.\n    // The on-screen keyboard does not provide a way to focus the next input element (like iOS does).\n    // That leaves us with no option to advance focus by keyboard, ergo nothing is tabbable (keyboard focusable).\n    return false;\n  }\n\n  const nodeName = element.nodeName.toLowerCase();\n  const _tabindex = tabindexValue(element);\n  const tabindex = _tabindex === null ? null : _tabindex >= 0;\n\n  // NOTE: Firefox 31 considers [contenteditable] to have [tabindex=-1], but allows tabbing to it\n  // fixed in Firefox 40 the latest - https://bugzilla.mozilla.org/show_bug.cgi?id=1185657\n  if (element.hasAttribute('contenteditable')) {\n    // tabbing can still be disabled by explicitly providing [tabindex=\"-1\"]\n    return tabindex !== false;\n  }\n\n  if (focusableElementsPattern.test(nodeName) && tabindex !== true) {\n    return false;\n  }\n\n  // in Trident and Gecko SVGElement does not know about the tabIndex property\n  if (element.tabIndex === undefined) {\n    return false;\n  }\n\n  if (nodeName === 'audio') {\n    if (!element.hasAttribute('controls')) {\n      // In Internet Explorer the <audio> element is focusable, but not tabbable, and tabIndex property is wrong\n      return false;\n    } else if (platform.name === 'Chrome' || platform.name === 'Chrome Mobile') {\n      // In Chrome <audio controls tabindex=\"-1\"> remains keyboard focusable\n      return true;\n    }\n  }\n\n  if (nodeName === 'video') {\n    if (!element.hasAttribute('controls')) {\n      if (platform.name === 'IE') {\n        // In Internet Explorer the <video> element is focusable, but not tabbable, and tabIndex property is wrong\n        return false;\n      }\n    } else if (platform.name === 'Chrome' || platform.name === 'Firefox') {\n      // In Chrome and Firefox <video controls tabindex=\"-1\"> remains keyboard focusable\n      return true;\n    }\n  }\n\n  if (nodeName === 'object') {\n    if (platform.layout === 'Blink' || platform.layout === 'WebKit') {\n      // In all Blink and WebKit based browsers <embed> and <object> are never keyboard focusable, even with tabindex=\"0\" set\n      return false;\n    }\n  }\n\n  if (platform.name === 'Safari' && parseFloat(platform.version) < 10 && platform.os.family === 'iOS') {\n    // iOS 8 only considers a hand full of elements tabbable (keyboard focusable)\n    // this holds true even with external keyboards\n    let potentiallyTabbable = (nodeName === 'input' && element.type === 'text' || element.type === 'password')\n      || nodeName === 'select'\n      || nodeName === 'textarea'\n      || element.hasAttribute('contenteditable');\n\n    if (!potentiallyTabbable) {\n      const style = window.getComputedStyle(element, null);\n      potentiallyTabbable = isUserModifyWritable(style);\n    }\n\n    if (!potentiallyTabbable) {\n      return false;\n    }\n  }\n\n  if (platform.name === 'Firefox') {\n    // Firefox considers scrollable containers keyboard focusable,\n    // even though their tabIndex property is -1\n    const style = window.getComputedStyle(element, null);\n    if (hasCssOverflowScroll(style)) {\n      // value of tabindex takes precedence\n      return tabindex !== false;\n    }\n  }\n\n  if (platform.name === 'IE') {\n    // IE degrades <area> to script focusable, if the image\n    // using the <map> has been given tabindex=\"-1\"\n    if (nodeName === 'area') {\n      const img = getImageOfArea(element);\n      if (img && tabindexValue(img) < 0) {\n        return false;\n      }\n    }\n\n    const style = window.getComputedStyle(element, null);\n    if (isUserModifyWritable(style)) {\n      // prevent being swallowed by the overzealous isScrollableContainer() below\n      return element.tabIndex >= 0;\n    }\n\n    // IE considers scrollable containers script focusable only,\n    // even though their tabIndex property is 0\n    if (isScrollableContainer(element, nodeName)) {\n      return false;\n    }\n\n    const parent = element.parentNode;\n    // IE considers scrollable bodies script focusable only,\n    if (isScrollableContainer(parent, nodeName)) {\n      return false;\n    }\n\n    // Children of focusable elements with display:flex are focusable in IE10-11,\n    // even though their tabIndex property suggests otherwise\n    const parentStyle = window.getComputedStyle(parent, null);\n    if (parentStyle.display.indexOf('flex') > -1) {\n      return false;\n    }\n  }\n\n  // http://www.w3.org/WAI/PF/aria-practices/#focus_tabindex\n  return element.tabIndex >= 0;\n}\n","\n// determine if an <area> element is being properly used by and <img> via a <map>\n\nimport isVisible from './visible';\nimport getParents from '../get/parents';\nimport {getImageOfArea} from './is.util';\n\nimport _supports from './valid-area.supports';\nlet supports;\n\n// https://developer.mozilla.org/en-US/docs/Web/HTML/Element/map\n// https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img#attr-usemap\n// https://github.com/jquery/jquery-ui/blob/master/ui/core.js#L88-L107\nexport default function(element) {\n  if (!supports) {\n    supports = _supports();\n  }\n\n  if (!element || element.nodeType !== Node.ELEMENT_NODE) {\n    throw new TypeError('is/valid-area requires an argument of type Element');\n  }\n\n  const nodeName = element.nodeName.toLowerCase();\n  if (nodeName !== 'area') {\n    return false;\n  }\n\n  const hasTabindex = element.hasAttribute('tabindex');\n  if (!supports.canFocusAreaTabindex && hasTabindex) {\n    // Blink and WebKit do not consider <area tabindex=\"-1\" href=\"#void\"> focusable\n    return false;\n  }\n\n  const img = getImageOfArea(element);\n  if (!img || !isVisible(img)) {\n    return false;\n  }\n\n  // Firefox only allows fully loaded images to reference image maps\n  // https://stereochro.me/ideas/detecting-broken-images-js\n  if (!supports.canFocusBrokenImageMaps && (!img.complete || !img.naturalHeight || img.offsetWidth <= 0 || img.offsetHeight <= 0)) {\n    return false;\n  }\n\n  // Firefox supports.can focus area elements even if they don't have an href attribute\n  if (!supports.canFocusAreaWithoutHref && !element.href) {\n    // Internet explorer supports.can focus area elements without href if either\n    // the area element or the image element has a tabindex attribute\n    return supports.canFocusAreaTabindex && hasTabindex || supports.canFocusAreaImgTabindex && img.hasAttribute('tabindex');\n  }\n\n  // https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img#attr-usemap\n  const childOfInteractive = getParents({context: img}).slice(1).some(function(_element) {\n    const name = _element.nodeName.toLowerCase();\n    return name === 'button' || name === 'a';\n  });\n\n  if (childOfInteractive) {\n    return false;\n  }\n\n  return true;\n}\n","\nimport memorizeResult from '../supports/memorize-result';\nimport canFocusAreaImgTabindex from '../supports/focus-area-img-tabindex';\nimport canFocusAreaTabindex from '../supports/focus-area-tabindex';\nimport canFocusAreaWithoutHref from '../supports/focus-area-without-href';\nimport canFocusBrokenImageMaps from '../supports/focus-broken-image-map';\n\nexport default memorizeResult(function() {\n  return {\n    canFocusAreaImgTabindex: canFocusAreaImgTabindex(),\n    canFocusAreaTabindex: canFocusAreaTabindex(),\n    canFocusAreaWithoutHref: canFocusAreaWithoutHref(),\n    canFocusBrokenImageMaps: canFocusBrokenImageMaps(),\n  };\n});\n","\n// determine if an element's tabindex attribute has a valid value\n\nimport _supports from './valid-tabindex.supports';\nlet supports;\n\n// http://www.w3.org/TR/html5/infrastructure.html#rules-for-parsing-integers\n// NOTE: all browsers agree to allow trailing spaces as well\nconst validIntegerPatternNoTrailing = /^\\s*(-|\\+)?[0-9]+\\s*$/;\nconst validIntegerPatternWithTrailing = /^\\s*(-|\\+)?[0-9]+.*$/;\n\nexport default function(element) {\n  if (!supports) {\n    supports = _supports();\n  }\n\n  const validIntegerPattern = supports.allowsTrailingCharacters\n    ? validIntegerPatternWithTrailing\n    : validIntegerPatternNoTrailing;\n\n  if (element === document) {\n    element = document.documentElement;\n  }\n\n  if (!element || element.nodeType !== Node.ELEMENT_NODE) {\n    throw new TypeError('is/valid-tabindex requires an argument of type Element');\n  }\n\n  if (!element.hasAttribute('tabindex')) {\n    return false;\n  }\n\n  // SVGElement does not support tabIndex, so it cannot be considered valid\n  if (element.tabIndex === undefined) {\n    return false;\n  }\n\n  // @browser-issue Gecko https://bugzilla.mozilla.org/show_bug.cgi?id=1128054\n  if (supports.allowsInvalidValue) {\n    return true;\n  }\n  // an element matches the tabindex selector even if its value is invalid\n  const tabindex = element.getAttribute('tabindex');\n  // IE11 parses tabindex=\"\" as the value \"-32768\"\n  // @browser-issue Trident https://connect.microsoft.com/IE/feedback/details/1072965\n  if (tabindex === '-32768') {\n    return false;\n  }\n\n  return Boolean(tabindex && validIntegerPattern.test(tabindex));\n}\n","\nimport memorizeResult from '../supports/memorize-result';\nimport allowsInvalidValue from '../supports/focus-invalid-tabindex';\nimport allowsTrailingCharacters from '../supports/focus-tabindex-trailing-characters';\n\nexport default memorizeResult(function() {\n  return {\n    allowsInvalidValue: allowsInvalidValue(),\n    allowsTrailingCharacters: allowsTrailingCharacters(),\n  };\n});\n","\n// determine if an element is rendered\n// NOTE: that does not mean an element is visible in the viewport, see util/visible-area\n\nimport 'array.prototype.findindex';\nimport getParents from '../get/parents';\n\n// http://www.w3.org/TR/html5/rendering.html#being-rendered\n// <area> is not rendered, but we *consider* it visible to simplfiy this function's usage\nconst notRenderedElementsPattern = /^(area)$/;\n\nfunction computedStyle(element, property) {\n  return window.getComputedStyle(element, null)\n    .getPropertyValue(property);\n}\n\nfunction notDisplayed(_path) {\n  return _path.some(function(element) {\n    // display:none is not visible (optimized away at layout)\n    return computedStyle(element, 'display') === 'none';\n  });\n}\n\nfunction notVisible(_path) {\n  // https://github.com/jquery/jquery-ui/blob/master/ui/core.js#L109-L114\n  // NOTE: a nested element can reverse visibility:hidden|collapse by explicitly setting visibility:visible\n  // NOTE: visibility can be [\"\", \"visible\", \"hidden\", \"collapse\"]\n  const hidden = _path.findIndex(function(element) {\n    const visibility = computedStyle(element, 'visibility');\n    return visibility === 'hidden' || visibility === 'collapse';\n  });\n\n  if (hidden === -1) {\n    // there is no hidden element\n    return false;\n  }\n\n  const visible = _path.findIndex(function(element) {\n    return computedStyle(element, 'visibility') === 'visible';\n  });\n\n  if (visible === -1) {\n    // there is no visible element (but a hidden element)\n    return true;\n  }\n\n  if (hidden < visible) {\n    // there is a hidden element and it's closer than the first visible element\n    return true;\n  }\n\n  // there may be a hidden element, but the closest element is visible\n  return false;\n}\n\nfunction collapsedParent(_path) {\n  let offset = 1;\n  if (_path[0].nodeName.toLowerCase() === 'summary') {\n    offset = 2;\n  }\n\n  return _path.slice(offset).some(function(element) {\n    // \"content children\" of a closed details element are not visible\n    return element.nodeName.toLowerCase() === 'details' && element.open === false;\n  });\n}\n\nexport default function(element) {\n  if (element === document) {\n    element = document.documentElement;\n  }\n\n  if (!element || element.nodeType !== Node.ELEMENT_NODE) {\n    throw new TypeError('is/visible requires an argument of type Element');\n  }\n\n  const nodeName = element.nodeName.toLowerCase();\n  if (notRenderedElementsPattern.test(nodeName)) {\n    return true;\n  }\n\n  const _path = getParents({context: element});\n\n  // in Internet Explorer <audio> has a default display: none, where others have display: inline\n  // but IE allows focusing <audio style=\"display:none\">, but not <div display:none><audio>\n  // this is irrelevant to other browsers, as the controls attribute is required to make <audio> focusable\n  const isAudioWithoutControls = nodeName === 'audio' && !element.hasAttribute('controls');\n  if (notDisplayed(isAudioWithoutControls ? _path.slice(1) : _path)) {\n    return false;\n  }\n\n  if (notVisible(_path)) {\n    return false;\n  }\n\n  if (collapsedParent(_path)) {\n    return false;\n  }\n\n  return true;\n}\n","\n// exporting modules to be included the UMD bundle\n\nimport disabled from './disabled';\nimport hidden from './hidden';\nexport default {\n  disabled,\n  hidden,\n};\n","\n/*\n  Utility to make a sub-tree of the DOM inert. Inert means the elements cannot be interacted\n  with and they cannot be focused via script, pointer or keyboard.\n\n  inert attribute was [removed](https://html5.org/r/8536) [tweet by steve](https://twitter.com/stevefaulkner/status/443075900201259008)\n  but definition of [inert subtrees](http://www.w3.org/html/wg/drafts/html/master/editing.html#inert-subtrees) remains.\n\n  [implementation idea by Vasilis](http://codepen.io/vasilisvg/pen/scowI)\n  [inert attribute polyfill by GoogleChrome](https://github.com/GoogleChrome/inert-polyfill)\n\n  [Gecko Bug: Inert Attribute](https://bugzilla.mozilla.org/show_bug.cgi?id=921504)\n  [Chromium Bug: Inert Attribute](https://code.google.com/p/chromium/issues/detail?id=269846)\n  [Chromium Bug: Inert Subtree](https://code.google.com/p/chromium/issues/detail?id=241699)\n  [WebKit Bug: Inert Subtree](https://bugs.webkit.org/show_bug.cgi?id=110952)\n*/\n\nimport nodeArray from '../util/node-array';\nimport queryFocusable from '../query/focusable';\nimport elementDisabled from '../element/disabled';\nimport {getParentComparator} from '../util/compare-position';\n\nfunction makeElementInert(element) {\n  return elementDisabled(element, true);\n}\n\nfunction undoElementInert(element) {\n  return elementDisabled(element, false);\n}\n\nconst observerConfig = {\n  attributes: true,\n  childList: true,\n  subtree: true,\n  attributeFilter: ['tabindex'],\n};\n\nclass InertSubtree {\n  constructor({context, filter} = {}) {\n    this._context = nodeArray(context || document.documentElement)[0];\n    this._filter = nodeArray(filter);\n\n    this.disengage = this.disengage.bind(this);\n    this.handleMutation = this.handleMutation.bind(this);\n    this.renderInert = this.renderInert.bind(this);\n    this.filterElements = this.filterElements.bind(this);\n\n    const focusable = queryFocusable({\n      context: this._context,\n      includeContext: true,\n      strategy: 'all',\n    });\n\n    this.renderInert(focusable);\n    this.startObserver();\n  }\n\n  disengage() {\n    if (!this._context) {\n      return;\n    }\n\n    undoElementInert(this._context);\n    [].forEach.call(this._context.querySelectorAll('[data-ally-disabled], :disabled'), undoElementInert);\n\n    this._filter = null;\n    this._context = null;\n    this._observer && this._observer.disconnect();\n    this._observer = null;\n  }\n\n  listQueryFocusable(list) {\n    return list\n      // find all focusable elements within the given contexts\n      .map(element => queryFocusable({context: element, includeContext: true, strategy: 'all'}))\n      // flatten nested arrays\n      .reduce((previous, current) => previous.concat(current), []);\n  }\n\n  renderInert(elements) {\n    elements.filter(this.filterElements).forEach(makeElementInert);\n  }\n\n  filterContext(element) {\n    // ignore elements that are not within the context sub-trees\n    const isParentOfElement = getParentComparator({element, includeSelf: true});\n    return isParentOfElement(this._context);\n  }\n\n  filterElements(element) {\n    if (element === document.body && !element.hasAttribute('tabindex')) {\n      // ignore the body (default focus element) unless it was made focusable\n      return false;\n    }\n\n    // ignore elements within the exempted sub-trees\n    const isParentOfElement = getParentComparator({element, includeSelf: true});\n    return !this._filter.some(isParentOfElement);\n  }\n\n  startObserver() {\n    if (!window.MutationObserver) {\n      // not supporting IE10 via Mutation Events, because they're too expensive\n      // https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Mutation_events\n      return;\n    }\n    // http://caniuse.com/#search=mutation\n    // https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver\n    this._observer = new MutationObserver(mutations => mutations.forEach(this.handleMutation));\n    this._observer.observe(this._context, observerConfig);\n  }\n\n  handleMutation(mutation) {\n    if (mutation.type === 'childList') {\n      const addedElements = nodeArray(mutation.addedNodes).filter(element => element.nodeType === Node.ELEMENT_NODE);\n      if (!addedElements.length) {\n        return;\n      }\n\n      const addedFocusableElements = this.listQueryFocusable(addedElements);\n      this.renderInert(addedFocusableElements);\n    } else if (mutation.type === 'attribute' && !this.filterElements(mutation.target) && this.filterContext(mutation.target)) {\n      makeElementInert(mutation.target);\n    }\n  }\n}\n\nexport default function({context, filter} = {}) {\n  const service = new InertSubtree({context, filter});\n  return { disengage: service.disengage };\n}\n","\n// Utility to make the entire DOM aria-hidden=\"true\" except for a given set of elements\n\nimport nodeArray from '../util/node-array';\nimport getInsignificantBranches from '../get/insignificant-branches';\nimport getParents from '../get/parents';\nimport toggleAttributeValue from '../util/toggle-attribute-value';\nimport {getParentComparator} from '../util/compare-position';\n\nfunction makeElementHidden(element) {\n  toggleAttributeValue({\n    element,\n    attribute: 'aria-hidden',\n    temporaryValue: 'true',\n  });\n}\n\nfunction undoElementHidden(element) {\n  toggleAttributeValue({\n    element,\n    attribute: 'aria-hidden',\n  });\n}\n\nconst observerConfig = {\n  attributes: false,\n  childList: true,\n  subtree: true,\n};\n\nclass HiddenSubtree {\n  constructor({context, filter} = {}) {\n    this._context = nodeArray(context || document.documentElement)[0];\n    this._filter = nodeArray(filter);\n\n    this.disengage = this.disengage.bind(this);\n    this.handleMutation = this.handleMutation.bind(this);\n    this.isInsignificantBranch = this.isInsignificantBranch.bind(this);\n\n    const insignificantBranches = getInsignificantBranches({context: this._context, filter: this._filter});\n    insignificantBranches.forEach(makeElementHidden);\n    this.startObserver();\n  }\n\n  disengage() {\n    if (!this._context) {\n      return;\n    }\n\n    [].forEach.call(this._context.querySelectorAll('[data-cached-aria-hidden]'), undoElementHidden);\n\n    this._context = null;\n    this._filter = null;\n    this._observer && this._observer.disconnect();\n    this._observer = null;\n  }\n\n  startObserver() {\n    if (!window.MutationObserver) {\n      // not supporting IE10 via Mutation Events, because they're too expensive\n      // https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Mutation_events\n      return;\n    }\n    // http://caniuse.com/#search=mutation\n    // https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver\n    this._observer = new MutationObserver(mutations => mutations.forEach(this.handleMutation));\n    this._observer.observe(this._context, observerConfig);\n  }\n\n  handleMutation(mutation) {\n    if (mutation.type === 'childList') {\n      const addedElements = nodeArray(mutation.addedNodes).filter(element => element.nodeType === Node.ELEMENT_NODE);\n      if (!addedElements.length) {\n        return;\n      }\n\n      // a new branch cannot contain a filtered element\n      // (unless it is moved there, which is an edge-case we'll ignore for now),\n      // so anything that is within context,\n      // and not within a previously known insignificant branch and not within a filtered element,\n      // must be an insignificant branch as well\n      const insignificantBranches = addedElements.filter(this.isInsignificantBranch);\n      insignificantBranches.forEach(makeElementHidden);\n    }\n  }\n\n  isInsignificantBranch(element) {\n    const parents = getParents({context: element});\n    if (parents.some(_element => _element.getAttribute('aria-hidden') === 'true')) {\n      // element is child of a hidden element\n      return false;\n    }\n\n    const isParentOfElement = getParentComparator({element});\n    if (this._filter.some(isParentOfElement)) {\n      // element is a descendant of a filtered element\n      return false;\n    }\n\n    return true;\n  }\n}\n\nexport default function({context, filter} = {}) {\n  const service = new HiddenSubtree({context, filter});\n  return { disengage: service.disengage };\n}\n","\n// exporting modules to be included the UMD bundle\n\nimport attribute from './attribute';\nimport keycode from './keycode';\nexport default {\n  attribute,\n  keycode,\n};\n","\n/*\n  'property-name': {\n    'default': default value\n    values: list of possible values\n    'multiple': boolean, allows multiple values (space separated)\n    'other': boolean, allows other values than offered in values list\n  }\n*/\n\nexport default {\n  // aria state properties\n\n  // http://www.w3.org/TR/wai-aria/states_and_properties#aria-busy\n  'aria-busy': {\n    'default': 'false',\n    values: ['true', 'false'],\n  },\n  // http://www.w3.org/TR/wai-aria/states_and_properties#aria-checked\n  'aria-checked': {\n    'default': undefined,\n    values: ['true', 'false', 'mixed', undefined],\n  },\n  // http://www.w3.org/TR/wai-aria/states_and_properties#aria-disabled\n  'aria-disabled': {\n    'default': 'false',\n    values: ['true', 'false'],\n  },\n  // http://www.w3.org/TR/wai-aria/states_and_properties#aria-expanded\n  'aria-expanded': {\n    'default': undefined,\n    values: ['true', 'false', undefined],\n  },\n  // http://www.w3.org/TR/wai-aria/states_and_properties#aria-grabbed\n  'aria-grabbed': {\n    'default': undefined,\n    values: ['true', 'false', undefined],\n  },\n  // http://www.w3.org/TR/wai-aria/states_and_properties#aria-hidden\n  'aria-hidden': {\n    'default': 'false',\n    values: ['true', 'false'],\n  },\n  // http://www.w3.org/TR/wai-aria/states_and_properties#aria-invalid\n  'aria-invalid': {\n    'default': 'false',\n    values: ['true', 'false', 'grammar', 'spelling'],\n  },\n  // http://www.w3.org/TR/wai-aria/states_and_properties#aria-pressed\n  'aria-pressed': {\n    'default': undefined,\n    values: ['true', 'false', 'mixed', undefined],\n  },\n  // http://www.w3.org/TR/wai-aria/states_and_properties#aria-selected\n  'aria-selected': {\n    'default': undefined,\n    values: ['true', 'false', undefined],\n  },\n\n  // aria descriptive properties\n\n  // http://www.w3.org/TR/wai-aria/states_and_properties#aria-atomic\n  'aria-atomic': {\n    'default': 'false',\n    values: ['true', 'false'],\n  },\n  // http://www.w3.org/TR/wai-aria/states_and_properties#aria-autocomplete\n  'aria-autocomplete': {\n    'default': 'none',\n    values: ['inline', 'list', 'both', 'none'],\n  },\n  // http://www.w3.org/TR/wai-aria/states_and_properties#aria-dropeffect\n  'aria-dropeffect': {\n    'default': 'none',\n    multiple: true,\n    values: ['copy', 'move', 'link', 'execute', 'popup', 'none'],\n  },\n  // http://www.w3.org/TR/wai-aria/states_and_properties#aria-haspopup\n  'aria-haspopup': {\n    'default': 'false',\n    values: ['true', 'false'],\n  },\n  // http://www.w3.org/TR/wai-aria/states_and_properties#aria-live\n  'aria-live': {\n    'default': 'off',\n    values: ['off', 'polite', 'assertive'],\n  },\n  // http://www.w3.org/TR/wai-aria/states_and_properties#aria-multiline\n  'aria-multiline': {\n    'default': 'false',\n    values: ['true', 'false'],\n  },\n  // http://www.w3.org/TR/wai-aria/states_and_properties#aria-multiselectable\n  'aria-multiselectable': {\n    'default': 'false',\n    values: ['true', 'false'],\n  },\n  // http://www.w3.org/TR/wai-aria/states_and_properties#aria-orientation\n  'aria-orientation': {\n    'default': 'horizontal',\n    values: ['vertical', 'horizontal'],\n  },\n  // http://www.w3.org/TR/wai-aria/states_and_properties#aria-readonly\n  'aria-readonly': {\n    'default': 'false',\n    values: ['true', 'false'],\n  },\n  // http://www.w3.org/TR/wai-aria/states_and_properties#aria-relevant\n  'aria-relevant': {\n    'default': 'additions text',\n    multiple: true,\n    values: ['additions', 'removals', 'text', 'all'],\n  },\n  // http://www.w3.org/TR/wai-aria/states_and_properties#aria-required\n  'aria-required': {\n    'default': 'false',\n    values: ['true', 'false'],\n  },\n  // http://www.w3.org/TR/wai-aria/states_and_properties#aria-sort\n  'aria-sort': {\n    'default': 'none',\n    other: true,\n    values: ['ascending', 'descending', 'none'],\n  },\n};\n","\n// codes mostly cloned from https://github.com/keithamus/jwerty/blob/master/jwerty.js\n// deliberately not exposing characters like <,.-#* because they vary *wildly*\n// across keyboard layouts and may cause various problems\n// (e.g. \"*\" is \"Shift +\" on a German Mac keyboard)\n// (e.g. \"@\" is \"Alt L\" on a German Mac keyboard)\n\nconst keycode = {\n  // Element Focus\n  tab: 9,\n\n  // Navigation\n  left: 37,\n  up: 38,\n  right: 39,\n  down: 40,\n  pageUp: 33,\n  'page-up': 33,\n  pageDown: 34,\n  'page-down': 34,\n  end: 35,\n  home: 36,\n\n  // Action\n  enter: 13,\n  escape: 27,\n  space: 32,\n\n  // Modifier\n  shift: 16,\n  capsLock: 20,\n  'caps-lock': 20,\n  ctrl: 17,\n  alt: 18,\n  meta: 91,\n  // in firefox: 224\n  // on mac (chrome): meta-left=91, meta-right=93\n  // on win (IE11): meta-left=91, meta-right=92\n  pause: 19,\n\n  // Content Manipulation\n  insert: 45,\n  'delete': 46,\n  backspace: 8,\n\n  // the same logical key may be identified through different keyCodes\n  _alias: {\n    91: [92, 93, 224],\n  },\n};\n\n// Function keys (112 - 137)\n// NOTE: not every keyboard knows F13+\nfor (let n = 1; n < 26; n++) {\n  keycode['f' + n] = n + 111;\n}\n\n// Number keys (48-57, numpad 96-105)\n// NOTE: not every keyboard knows num-0+\nfor (let n = 0; n < 10; n++) {\n  const code = n + 48;\n  const numCode = n + 96;\n  keycode[n] = code;\n  keycode['num-' + n] = numCode;\n  keycode._alias[code] = [numCode];\n}\n\n// Latin characters (65 - 90)\nfor (let n = 0; n < 26; n++) {\n  const code = n + 65;\n  const name = String.fromCharCode(code).toLowerCase();\n  keycode[name] = code;\n}\n\nexport default keycode;\n","\n// exporting modules to be included the UMD bundle\n\nimport interactionType from './interaction-type';\nexport default {\n  interactionType,\n};\n","\n/*\n  Observe keyboard-, pointer-, mouse- and touch-events so that a query for\n  the current interaction type can be made at any time. For pointer interaction\n  this observer is limited to pointer button down/up - move is not observed!\n\n  USAGE:\n    var listener = engage();\n    listener.get() === {pointer: Boolean, key: Boolean}\n*/\n\nimport decorateService from '../util/decorate-service';\n\n// counters to track primary input\nlet _activePointers = 0;\nlet _activeKeys = 0;\n\nconst pointerStartEvents = [\n  'touchstart',\n  'pointerdown',\n  'MSPointerDown',\n  'mousedown',\n];\nconst pointerEndEvents = [\n  'touchend',\n  'touchcancel',\n  'pointerup',\n  'MSPointerUp',\n  'pointercancel',\n  'MSPointerCancel',\n  'mouseup',\n];\n\nfunction handleWindowBlurEvent() {\n  // reset internal counters when window loses focus\n  _activePointers = 0;\n  _activeKeys = 0;\n}\n\nfunction handlePointerStartEvent(event) {\n  if (event.isPrimary === false) {\n    // ignore non-primary pointer events\n    // https://w3c.github.io/pointerevents/#widl-PointerEvent-isPrimary\n    return;\n  }\n\n  // mousedown without following mouseup\n  // (likely not possible in Chrome)\n  _activePointers++;\n}\n\nfunction handlePointerEndEvent(event) {\n  if (event.isPrimary === false) {\n    // ignore non-primary pointer events\n    // https://w3c.github.io/pointerevents/#widl-PointerEvent-isPrimary\n    return;\n  } else if (event.touches) {\n    _activePointers = event.touches.length;\n    return;\n  }\n\n  // delay reset to when the current handlers are executed\n  (window.setImmediate || window.setTimeout)(function() {\n    // mouseup without prior mousedown\n    // (drag something out of the window)\n    _activePointers = Math.max(_activePointers - 1, 0);\n  });\n}\n\nfunction handleKeyStartEvent(event) {\n  // ignore modifier keys\n  switch (event.keyCode || event.which) {\n    case 16: // space\n    case 17: // control\n    case 18: // alt\n    case 91: // command left\n    case 93: // command right\n      return;\n  }\n\n  // keydown without a following keyup\n  // (may happen on CMD+TAB)\n  _activeKeys++;\n}\n\nfunction handleKeyEndEvent(event) {\n  // ignore modifier keys\n  switch (event.keyCode || event.which) {\n    case 16: // space\n    case 17: // control\n    case 18: // alt\n    case 91: // command left\n    case 93: // command right\n      return;\n  }\n\n  // delay reset to when the current handlers are executed\n  (window.setImmediate || window.setTimeout)(function() {\n    // keyup without prior keydown\n    // (may happen on CMD+R)\n    _activeKeys = Math.max(_activeKeys - 1, 0);\n  });\n}\n\nfunction getInteractionType() {\n  return {\n    pointer: Boolean(_activePointers),\n    key: Boolean(_activeKeys),\n  };\n}\n\nfunction disengage() {\n  _activePointers = _activeKeys = 0;\n  window.removeEventListener('blur', handleWindowBlurEvent, false);\n  document.documentElement.removeEventListener('keydown', handleKeyStartEvent, true);\n  document.documentElement.removeEventListener('keyup', handleKeyEndEvent, true);\n  pointerStartEvents.forEach(function(event) {\n    document.documentElement.removeEventListener(event, handlePointerStartEvent, true);\n  });\n  pointerEndEvents.forEach(function(event) {\n    document.documentElement.removeEventListener(event, handlePointerEndEvent, true);\n  });\n}\n\nfunction engage() {\n  // window blur must be in bubble phase so it won't capture regular blurs\n  window.addEventListener('blur', handleWindowBlurEvent, false);\n  // handlers to identify the method of focus change\n  document.documentElement.addEventListener('keydown', handleKeyStartEvent, true);\n  document.documentElement.addEventListener('keyup', handleKeyEndEvent, true);\n  pointerStartEvents.forEach(function(event) {\n    document.documentElement.addEventListener(event, handlePointerStartEvent, true);\n  });\n  pointerEndEvents.forEach(function(event) {\n    document.documentElement.addEventListener(event, handlePointerEndEvent, true);\n  });\n\n  return {\n    get: getInteractionType,\n  };\n}\n\nexport default decorateService({ engage, disengage });\n","\n// Element.prototype.matches may not be available under that name\n// expose polyfill as a function because we might need to apply it to an iframe\nexport default function polyfill(root) {\n  if (root.Element.prototype.matches) {\n    return;\n  }\n\n  // first try to unprefix an existing implementation\n  'webkitMatchesSelector mozMatchesSelector msMatchesSelector'.split(' ').some(function(key) {\n    // NOTE: IE9 requires the Node to be part of a document, detached Nodes always return false\n    if (!root.Element.prototype[key]) {\n      return false;\n    }\n\n    root.Element.prototype.matches = root.Element.prototype[key];\n    return true;\n  });\n}\n\npolyfill(window);\n","\n// Firefox and IE11 do not \"properly\" inherit the focus() method.\n// That may be because SVGElement inherits from Element and focus() is defined on HTMLElement.\n// WebKit and Blink - probably by accident - defined focus() on Element, which is why focusing SVGElements works fine.\n\n// Firefox' focus() implementation validates the execution context, it demands being called on instances of HTMLElement,\n// which is why simply copying HTMLElement's focus over to SVGElement ends in the following exception:\n// TypeError: 'focus' called on an object that does not implement interface HTMLElement.\n// this works fine in IE11, though.\n\nexport default function polyfill(root) {\n  if (root.SVGElement.prototype.focus) {\n    return;\n  }\n\n  // remember what had focus to restore after test\n  const previousActiveElement = root.document.activeElement;\n\n  try {\n    // create a dummy <svg> so we can check if HTMLElement's focus() can deal with it\n    const d = root.document.createElement('div');\n    d.innerHTML = '<svg xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns=\"http://www.w3.org/2000/svg\"></svg>';\n    const s = d.firstElementChild;\n    root.document.body.focus.call(s);\n    // HTMLElement's focus() can also deal with SVGElement, so go crazy!\n    root.SVGElement.prototype.focus = root.HTMLElement.prototype.focus;\n    root.SVGElement.prototype.blur = root.HTMLElement.prototype.blur;\n  } catch(e) {\n    root.SVGElement.prototype.focus = function focusPolyfill() {\n      // at least make apparent what is going wrong\n      root.window.console && window.console.warn && window.console.warn('SVGElement.focus() not possible');\n    };\n    root.SVGElement.prototype.blur = function blurPolyfill() {\n      // at least make apparent what is going wrong\n      window.console && window.console.warn && window.console.warn('SVGElement.blur() not possible');\n    };\n  }\n\n  // restore focus to what it was before test and cleanup\n  root.document.activeElement && root.document.activeElement.blur();\n  previousActiveElement && previousActiveElement.focus();\n}\n\npolyfill(window);\n","\n// Polyfill originally copied from https://developer.mozilla.org/en/docs/Web/API/CustomEvent#Polyfill\n// and rewritten to *not* pollute global space because of CustomEvent being an object Internet Explorer 11\n// https://msdn.microsoft.com/en-us/library/ff974338(v=vs.85).aspx\n\nlet _CustomEvent = window.CustomEvent;\n\nif (typeof _CustomEvent !== 'function') {\n  _CustomEvent = function CustomEventPolyfill(event, params) {\n    const evt = document.createEvent('CustomEvent');\n\n    !params && (params = {\n      bubbles: false,\n      cancelable: false,\n      detail: undefined,\n    });\n\n    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n    return evt;\n  };\n\n  _CustomEvent.prototype = window.Event.prototype;\n}\n\nexport default _CustomEvent;\n","\n// Polyfill requestAnimationFrame for oldIE\n// adapted from https://gist.github.com/paulirish/1579671\n// requestAnimationFrame polyfill by Erik Möller. fixes from Paul Irish and Tino Zijdel\n// original source was published under the MIT license\n// http://paulirish.com/2011/requestanimationframe-for-smart-animating/\n// http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating\n\nlet lastTime = 0;\nconst vendors = ['ms', 'moz', 'webkit', 'o'];\nlet requestAnimationFrameName = '';\nlet cancelAnimationFrameName = '';\n\nfor (let x = 0, length = vendors.length; x < length; ++x) {\n  requestAnimationFrameName = window[vendors[x] + 'RequestAnimationFrame'];\n  cancelAnimationFrameName = window[vendors[x] + 'CancelAnimationFrame']\n    || window[vendors[x] + 'CancelRequestAnimationFrame'];\n}\n\nif (typeof window.requestAnimationFrame !== 'function') {\n  window.requestAnimationFrame = window[requestAnimationFrameName] || function(callback) {\n    const currTime = new Date().getTime();\n    const timeToCall = Math.max(0, 16 - (currTime - lastTime));\n    const id = window.setTimeout(function() {\n      callback(currTime + timeToCall);\n    }, timeToCall);\n\n    lastTime = currTime + timeToCall;\n    return id;\n  };\n}\n\nif (typeof window.cancelAnimationFrame !== 'function') {\n  window.cancelAnimationFrame = window[cancelAnimationFrameName] || function(id) {\n    clearTimeout(id);\n  };\n}\n","\n// exporting modules to be included the UMD bundle\n\nimport firstTabbable from './first-tabbable';\nimport focusable from './focusable';\nimport tabbable from './tabbable';\nimport tabsequence from './tabsequence';\nexport default {\n  firstTabbable,\n  focusable,\n  tabbable,\n  tabsequence,\n};\n","\n/*\n    query/firstTabbable() finds the first suitable element to receive focus in the given context.\n    If an element has [autofocus] return that element, otherwise return the first element\n    in document order that does *not* have a positive tabIndex (e.g. as [tabindex=\"1\"]),\n    otherwise return the context itself, if it is focusable.\n\n    Note: Chrome's <dialog> will focus the first tabbable element, even if it has\n    [tabindex=\"1\"]. Since [tabindex=\"1\"] is considered\n    bad practice we'll ignore it until someone complains.\n */\n\nimport 'array.prototype.findindex';\nimport queryTabbable from './tabbable';\nimport isFocusable from '../is/focusable';\nimport nodeArray from '../util/node-array';\n\nfunction hasAutofocus(element) {\n  // [autofocus] actually only works on form element, but who cares?\n  return element.hasAttribute('autofocus');\n}\n\nfunction hasNoPositiveTabindex(element) {\n  return element.tabIndex <= 0;\n}\n\nexport default function({context, sequence, strategy, ignoreAutofocus, defaultToContext} = {}) {\n  let index = -1;\n\n  if (!sequence) {\n    context = nodeArray(context || document.body)[0];\n    sequence = queryTabbable({ context, strategy });\n  }\n\n  if (sequence.length && !ignoreAutofocus) {\n    // prefer [autofocus]\n    index = sequence.findIndex(hasAutofocus);\n  }\n\n  if (sequence.length && index === -1) {\n    // ignore positive [tabindex]\n    index = sequence.findIndex(hasNoPositiveTabindex);\n  }\n\n  if (index === -1 && defaultToContext && context && isFocusable(context)) {\n    return context;\n  }\n\n  return sequence[index] || null;\n}\n","\n// http://www.w3.org/TR/html5/editing.html#focusable\n// http://www.w3.org/WAI/PF/aria-practices/#keyboard\n\nimport nodeArray from '../util/node-array';\nimport queryFocusableStrict from './focusable.strict';\nimport queryFocusableQuick from './focusable.quick';\n\nexport default function({context, includeContext, strategy = 'quick'} = {}) {\n  context = nodeArray(context)[0];\n  // alias document to document.documentElement for convenience\n  if (!context || context.nodeType === Node.DOCUMENT_NODE) {\n    context = document.documentElement;\n  }\n\n  if (context.nodeType !== Node.ELEMENT_NODE) {\n    throw new TypeError('query/focusable requires an argument of type Element');\n  }\n\n  if (strategy === 'quick') {\n    return queryFocusableQuick({context, includeContext});\n  } else if (strategy === 'strict' || strategy === 'all') {\n    return queryFocusableStrict({context, includeContext, strategy});\n  }\n\n  throw new TypeError('query/focusable requires option.strategy to be one of [\"quick\", \"strict\"]');\n}\n","\n// http://www.w3.org/TR/html5/editing.html#focusable\n// http://www.w3.org/WAI/PF/aria-practices/#keyboard\n\nimport selector from '../selector/focusable';\nimport isFocusable from '../is/focusable';\n\nexport default function queryFocusableQuick({context, includeContext} = {}) {\n  const _selector = selector();\n  const elements = context.querySelectorAll(_selector);\n  // the selector potentially matches more than really is focusable\n  const result = [].filter.call(elements, isFocusable);\n  // add context if requested and focusable\n  if (includeContext && isFocusable(context)) {\n    result.unshift(context);\n  }\n\n  return result;\n}\n","\n// http://www.w3.org/TR/html5/editing.html#focusable\n// http://www.w3.org/WAI/PF/aria-practices/#keyboard\n\nimport isFocusable from '../is/focusable';\nimport isFocusRelevant from '../is/focus-relevant';\nimport isOnlyTabbable from '../is/only-tabbable';\nimport getDocument from '../util/get-document';\n\n// see https://developer.mozilla.org/en-US/docs/Web/API/NodeFilter\nconst FocusableFilter = function(node) {\n  if (node.shadowRoot) {\n    // return ShadowRoot elements regardless of them being focusable,\n    // so they can be walked recursively later\n    return NodeFilter.FILTER_ACCEPT;\n  }\n\n  if (isFocusable(node)) {\n    // finds elements that could have been found by document.querySelectorAll()\n    return NodeFilter.FILTER_ACCEPT;\n  }\n\n  return NodeFilter.FILTER_SKIP;\n};\n// IE requires a function, Browsers require {acceptNode: function}\n// see http://www.bennadel.com/blog/2607-finding-html-comment-nodes-in-the-dom-using-treewalker.htm\nFocusableFilter.acceptNode = FocusableFilter;\n\n// see https://developer.mozilla.org/en-US/docs/Web/API/NodeFilter\nconst PossiblyFocusableFilter = function(node) {\n  if (node.shadowRoot) {\n    // return ShadowRoot elements regardless of them being focusable,\n    // so they can be walked recursively later\n    return NodeFilter.FILTER_ACCEPT;\n  }\n\n  if (isOnlyTabbable(node) || isFocusRelevant(node)) {\n    // finds elements that could have been found by document.querySelectorAll()\n    return NodeFilter.FILTER_ACCEPT;\n  }\n\n  return NodeFilter.FILTER_SKIP;\n};\n// IE requires a function, Browsers require {acceptNode: function}\n// see http://www.bennadel.com/blog/2607-finding-html-comment-nodes-in-the-dom-using-treewalker.htm\nPossiblyFocusableFilter.acceptNode = PossiblyFocusableFilter;\n\nexport default function queryFocusableStrict({context, includeContext, strategy} = {}) {\n  if (!context) {\n    context = document.documentElement;\n  }\n\n  const _document = getDocument(context);\n  // see https://developer.mozilla.org/en-US/docs/Web/API/Document/createTreeWalker\n  const walker = _document.createTreeWalker(\n    // root element to start search in\n    context,\n    // element type filter\n    NodeFilter.SHOW_ELEMENT,\n    // custom NodeFilter filter\n    strategy === 'all' ? PossiblyFocusableFilter : FocusableFilter,\n    // deprecated, but IE requires it\n    false\n  );\n\n  let list = [];\n\n  while (walker.nextNode()) {\n    if (walker.currentNode.shadowRoot) {\n      if (isFocusable(walker.currentNode)) {\n        list.push(walker.currentNode);\n      }\n\n      list = list.concat(queryFocusableStrict({\n        context: walker.currentNode.shadowRoot,\n        strategy,\n      }));\n    } else {\n      list.push(walker.currentNode);\n    }\n  }\n\n  // add context if requested and focusable\n  if (includeContext) {\n    if (strategy === 'all') {\n      if (isOnlyTabbable(context) || isFocusRelevant(context)) {\n        list.unshift(context);\n      }\n    } else if (isFocusable(context)) {\n      list.unshift(context);\n    }\n  }\n\n  return list;\n}\n","\n// http://www.w3.org/TR/html5/editing.html#sequential-focus-navigation-and-the-tabindex-attribute\n// http://www.w3.org/WAI/PF/aria-practices/#keyboard\n\nimport queryFocusable from './focusable';\nimport isTabbable from '../is/tabbable';\n\nexport default function({context, includeContext, strategy} = {}) {\n  return queryFocusable({context, includeContext, strategy}).filter(isTabbable);\n}\n","\n// http://www.w3.org/TR/html5/editing.html#sequential-focus-navigation-and-the-tabindex-attribute\n// http://www.w3.org/WAI/PF/aria-practices/#keyboard\n\nimport platform from 'platform';\nimport queryTabbable from './tabbable';\nimport nodeArray from '../util/node-array';\nimport sortArea from './tabsequence.sort-area';\nimport sortShadowed from './tabsequence.sort-shadowed';\nimport sortTabindex from './tabsequence.sort-tabindex';\nimport _supports from './tabsequence.supports';\nlet supports;\n\nfunction moveContextToBeginning(elements, context) {\n  const pos = elements.indexOf(context);\n  if (pos > 0) {\n    const tmp = elements.splice(pos, 1);\n    return tmp.concat(elements);\n  }\n\n  return elements;\n}\n\nfunction sortElements(elements, _context) {\n  elements = sortTabindex(elements);\n\n  if (supports.tabsequenceSortsAreaAtImagePosition) {\n    // Some browsers sort <area> in DOM order, some place the <area>s\n    // where the <img> referecing them would've been in DOM order.\n    // https://github.com/medialize/ally.js/issues/5\n    elements = sortArea(elements, _context);\n  }\n\n  return elements;\n}\n\nexport default function({context, includeContext, strategy} = {}) {\n  if (!supports) {\n    supports = _supports();\n  }\n\n  const _context = nodeArray(context)[0] || document.documentElement;\n  let elements = queryTabbable({context: _context, includeContext, strategy});\n\n  if (document.body.createShadowRoot && (platform.name === 'Chrome' || platform.name === 'Chrome Mobile')) {\n    // sort tabindex localized to shadow dom\n    // see https://github.com/medialize/ally.js/issues/6\n    elements = sortShadowed(elements, _context, sortElements);\n  } else {\n    elements = sortElements(elements, _context);\n  }\n\n  if (includeContext) {\n    // if we include the context itself, it has to be the first\n    // element of the sequence\n    elements = moveContextToBeginning(elements, _context);\n  }\n\n  return elements;\n}\n","\n// move <area> elements to the location of the <img> elements that reference them\n\nimport 'css.escape';\nimport 'array.prototype.findindex';\nimport queryTabbable from './tabbable';\nimport mergeInDomOrder from '../util/merge-dom-order';\nimport getDocument from '../util/get-document';\n\nclass Maps {\n  constructor(context) {\n    this._document = getDocument(context);\n    this.maps = {};\n  }\n\n  getAreasFor(name) {\n    if (!this.maps[name]) {\n      // the map is not defined within the context, so we\n      // have to go find it elsewhere in the document\n      this.addMapByName(name);\n    }\n\n    return this.maps[name];\n  }\n\n  addMapByName(name) {\n    // apparently getElementsByName() also considers id attribute in IE & opera\n    // https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementsByName\n    const map = this._document.querySelector('map[name=\"' + CSS.escape(name) + '\"]') || null;\n    if (!map) {\n      // if there is no map, the img[usemap] wasn't doing anything anyway\n      return;\n    }\n\n    this.maps[map.name] = queryTabbable({context: map});\n  }\n\n  extractAreasFromList(elements) {\n    // remove all <area> elements from the elements list,\n    // but put them the map for later retrieval\n    return elements.filter(function(element) {\n      const nodeName = element.nodeName.toLowerCase();\n      if (nodeName !== 'area') {\n        return true;\n      }\n\n      const map = element.parentNode;\n      if (!this.maps[map.name]) {\n        this.maps[map.name] = [];\n      }\n\n      this.maps[map.name].push(element);\n      return false;\n    }, this);\n  }\n}\n\nexport default function(elements, context) {\n  // images - unless they are focusable themselves, likely not\n  // part of the elements list, so we'll have to find them and\n  // sort them into the elements list manually\n  const usemaps = context.querySelectorAll('img[usemap]');\n  const maps = new Maps(context);\n\n  // remove all <area> elements from the elements list,\n  // but put them the map for later retrieval\n  const _elements = maps.extractAreasFromList(elements);\n\n  if (!usemaps.length) {\n    // the context does not contain any <area>s so no need\n    // to replace anything, just remove any maps\n    return _elements;\n  }\n\n  return mergeInDomOrder({\n    list: _elements,\n    elements: usemaps,\n    resolveElement: function(image) {\n      const name = image.getAttribute('usemap').slice(1);\n      return maps.getAreasFor(name);\n    },\n  });\n}\n","\nimport getShadowHost from '../get/shadow-host';\nimport mergeInDomOrder from '../util/merge-dom-order';\nimport tabindexValue from '../util/tabindex-value';\n\nclass Shadows {\n  constructor(context, sortElements) {\n    // document context we're working with\n    this.context = context;\n    // callback that sorts an array of elements\n    this.sortElements = sortElements;\n    // reference to create unique IDs for each ShadowHost\n    this.hostCounter = 1;\n    // reference map for child-ShadowHosts of a ShadowHost\n    this.inHost = {};\n    // reference map for child-ShadowHost of the document\n    this.inDocument = [];\n    // reference map for ShadowHosts\n    this.hosts = {};\n    // reference map for tabbable elements of a ShadowHost\n    this.elements = {};\n  }\n\n  // remember which hosts we have to sort within later\n  _registerHost(host) {\n    if (host._sortingId) {\n      return;\n    }\n\n    // make the ShadowHost identifiable (see cleanup() for undo)\n    host._sortingId = 'shadow-' + (this.hostCounter++);\n    this.hosts[host._sortingId] = host;\n\n    // hosts may contain other hosts\n    const parentHost = getShadowHost({context: host});\n    if (parentHost) {\n      this._registerHost(parentHost);\n      this._registerHostParent(host, parentHost);\n    } else {\n      this.inDocument.push(host);\n    }\n  }\n\n  // remember which host is the child of which other host\n  _registerHostParent(host, parent) {\n    if (!this.inHost[parent._sortingId]) {\n      this.inHost[parent._sortingId] = [];\n    }\n\n    this.inHost[parent._sortingId].push(host);\n  }\n\n  // remember which elements a host contains\n  _registerElement(element, host) {\n    if (!this.elements[host._sortingId]) {\n      this.elements[host._sortingId] = [];\n    }\n\n    this.elements[host._sortingId].push(element);\n  }\n\n  // remove shadowed elements from the sequence and register\n  // the ShadowHosts they belong to so we know what to sort\n  // later on\n  extractElements(elements) {\n    return elements.filter(function(element) {\n      const host = getShadowHost({context: element });\n      if (!host) {\n        return true;\n      }\n\n      this._registerHost(host);\n      this._registerElement(element, host);\n      return false;\n    }, this);\n  }\n\n  // inject hosts into the sequence, sort everything,\n  // and recoursively replace hosts by its descendants\n  sort(elements) {\n    let _elements = this._injectHosts(elements);\n    _elements = this._replaceHosts(_elements);\n    this._cleanup();\n    return _elements;\n  }\n\n  // merge ShadowHosts into the element lists of other ShadowHosts\n  // or the document, then sort the individual lists\n  _injectHosts(elements) {\n    Object.keys(this.hosts).forEach(function(_sortingId) {\n      const _list = this.elements[_sortingId];\n      const _elements = this.inHost[_sortingId];\n      const _context = this.hosts[_sortingId].shadowRoot;\n      this.elements[_sortingId] = this._merge(_list, _elements, _context);\n    }, this);\n\n    return this._merge(elements, this.inDocument, this.context);\n  }\n\n  _merge(list, elements, context) {\n    const merged = mergeInDomOrder({\n      list,\n      elements,\n    });\n\n    return this.sortElements(merged, context);\n  }\n\n  _replaceHosts(elements) {\n    return mergeInDomOrder({\n      list: elements,\n      elements: this.inDocument,\n      resolveElement: this._resolveHostElement.bind(this),\n    });\n  }\n\n  _resolveHostElement(host) {\n    const merged = mergeInDomOrder({\n      list: this.elements[host._sortingId],\n      elements: this.inHost[host._sortingId],\n      resolveElement: this._resolveHostElement.bind(this),\n    });\n\n    if (tabindexValue(host)) {\n      return [host].concat(merged);\n    }\n\n    return merged;\n  }\n\n  _cleanup() {\n    // remove those identifers we put on the ShadowHost to avoid using Map()\n    Object.keys(this.hosts).forEach(function(key) {\n      delete this.hosts[key]._sortingId;\n    }, this);\n  }\n}\n\nexport default function(elements, context, sortElements) {\n  const shadows = new Shadows(context, sortElements);\n  const _elements = shadows.extractElements(elements);\n\n  if (_elements.length === elements.length) {\n    // no shadowed content found, no need to continue\n    return sortElements(elements);\n  }\n\n  return shadows.sort(_elements);\n}\n","\nexport default function(elements) {\n  // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement.tabIndex\n  // elements with tabIndex \"0\" (including tabbableElements without tabIndex) should be navigated in the order they appear.\n  // elements with a positive tabIndex:\n  //   Elements that have identical tabIndexes should be navigated in the order they appear.\n  //   Navigation proceeds from the lowest tabIndex to the highest tabIndex.\n\n  // NOTE: sort implementation may be unstable and thus mess up DOM order,\n  // that's why we build a map that's being sorted instead. If we were able to rely\n  // on a stable sorting algorithm, sortTabindex() could be as simple as\n  // elements.sort(function(a, b) { return a.tabIndex - b.tabIndex; });\n  // at this time Chrome does not use a stable sorting algorithm\n  // see http://blog.rodneyrehm.de/archives/14-Sorting-Were-Doing-It-Wrong.html#stability\n\n  // NOTE: compareDocumentPosition seemed like more overhead than just sorting this with buckets\n  // https://developer.mozilla.org/en-US/docs/Web/API/Node.compareDocumentPosition\n\n  const map = {};\n  const indexes = [];\n  const normal = elements.filter(function(element) {\n    // extract elements that don't need sorting\n    // in Trident and Gecko SVGElement does not know about the tabIndex property\n    if (element.tabIndex <= 0 || element.tabIndex === undefined) {\n      return true;\n    }\n\n    if (!map[element.tabIndex]) {\n      // create sortable bucket for dom-order-preservation of elements with the same tabIndex\n      map[element.tabIndex] = [];\n      // maintain a list of unique tabIndexes\n      indexes.push(element.tabIndex);\n    }\n\n    // sort element into the proper bucket\n    map[element.tabIndex].push(element);\n    // element moved to sorting map, so not \"normal\" anymore\n    return false;\n  });\n\n  // sort the tabindex ascending,\n  // then resolve them to their appropriate buckets,\n  // then flatten the array of arrays to an array\n  const _elements = indexes.sort().map(function(tabIndex) {\n    return map[tabIndex];\n  }).reduceRight(function(previous, current) {\n    return current.concat(previous);\n  }, normal);\n\n  return _elements;\n}\n","\nimport memorizeResult from '../supports/memorize-result';\nimport tabsequenceSortsAreaAtImagePosition from '../supports/tabsequence-area-at-img-position';\n\nexport default memorizeResult(function() {\n  return {\n    tabsequenceSortsAreaAtImagePosition: tabsequenceSortsAreaAtImagePosition(),\n  };\n});\n","// NOTE: this selector MUST *never* be used directly,\n// always go through query/focusable or is/focusable.js\n// there are too many edge cases that they could be covered in\n// a simple CSS selector…\n\nimport '../prototype/svgelement.prototype.focus';\n\nimport _supports from './focusable.supports';\nlet supports;\n\nlet selector;\n\nexport default function() {\n  if (!supports) {\n    supports = _supports();\n  }\n\n  if (typeof selector === 'string') {\n    return selector;\n  }\n\n  // http://www.w3.org/TR/html5/editing.html#sequential-focus-navigation-and-the-tabindex-attribute\n  selector = ''\n    // IE11 supports.can focus <table> and <td>\n    + (supports.canFocusTable ? 'table, td,' : '')\n    // IE11 supports.can focus <fieldset>\n    + (supports.canFocusFieldset ? 'fieldset,' : '')\n    // Namespace problems of [xlink:href] explained in http://stackoverflow.com/a/23047888/515124\n    // Firefox supports.cannot focus <svg> child elements from script\n    + (supports.canFocusSvgMethod ? 'svg a[*|href],' : '')\n    // may behave as 'svg, svg *,' in chrome as *every* svg element with a focus event listener is focusable\n    // navigational elements\n    + 'a[href],'\n    // validity determined by is/valid-area.js\n    + 'area[href],'\n    // validity determined by is/disabled.js\n    + 'input, select, textarea, button,'\n    // browsing context containers\n    + 'iframe, object, embed,'\n    // interactive content\n    + 'keygen,'\n    + (supports.canFocusAudioWithoutControls ? 'audio,' : 'audio[controls],')\n    + (supports.canFocusVideoWithoutControls ? 'video,' : 'video[controls],')\n    + (supports.canFocusSummary ? 'summary,' : '')\n    // validity determined by is/valid-tabindex.js\n    + '[tabindex],'\n    // editing hosts\n    + '[contenteditable]';\n\n  // where ShadowDOM is supported, we also want the shadowed focusable elements (via \">>>\" or \"/deep/\")\n  if (supports.cssShadowPiercingDeepCombinator) {\n    selector += ', html ' + supports.cssShadowPiercingDeepCombinator + ' '\n      + selector.replace(/\\s*,\\s*/g, ',').split(',').join(', html ' + supports.cssShadowPiercingDeepCombinator + ' ');\n  }\n\n  return selector;\n}\n","\nimport memorizeResult from '../supports/memorize-result';\nimport canFocusAudioWithoutControls from '../supports/focus-audio-without-controls';\nimport canFocusVideoWithoutControls from '../supports/focus-video-without-controls';\nimport canFocusSvgMethod from '../supports/svg-focus-method';\nimport canFocusTable from '../supports/focus-table';\nimport canFocusFieldset from '../supports/focus-fieldset';\nimport canFocusSummary from '../supports/focus-summary';\nimport cssShadowPiercingDeepCombinator from '../supports/css-shadow-piercing-deep-combinator';\n\nexport default memorizeResult(function() {\n  return {\n    canFocusAudioWithoutControls: canFocusAudioWithoutControls(),\n    canFocusVideoWithoutControls: canFocusVideoWithoutControls(),\n    canFocusSvgMethod: canFocusSvgMethod(),\n    canFocusTable: canFocusTable(),\n    canFocusFieldset: canFocusFieldset(),\n    canFocusSummary: canFocusSummary(),\n    cssShadowPiercingDeepCombinator: cssShadowPiercingDeepCombinator(),\n  };\n});\n","\n// exporting modules to be included the UMD bundle\n\nimport focusSource from './focus-source';\nimport focusWithin from './focus-within';\nexport default {\n  focusSource,\n  focusWithin,\n};\n","\n/*\n  add data-focus-source attribute to html element containing \"key\", \"pointer\" or \"script\"\n  depending on the input method used to change focus.\n\n  USAGE:\n    style/focus-source()\n\n    body :focus {\n      outline: 1px solid grey;\n    }\n\n    html[data-focus-source=\"key\"] body :focus {\n      outline: 5px solid red;\n    }\n\n    html[data-focus-source=\"key\"] body :focus {\n      outline: 1px solid blue;\n    }\n\n  NOTE: I don't have a GamePad to test, if you do and you want to\n  implement an observer for https://w3c.github.io/gamepad/ - send a PR!\n\n  Alternate implementation: https://github.com/alice/modality\n*/\n\nimport 'domtokenlist-shim';\nimport shadowFocus from '../event/shadow-focus';\nimport engageInteractionTypeObserver from '../observe/interaction-type';\nimport decorateService from '../util/decorate-service';\n\n// preferring focusin/out because they are synchronous in IE10+11\nconst focusEventName = 'onfocusin' in document ? 'focusin' : 'focus';\nconst blurEventName = 'onfocusin' in document ? 'focusout' : 'blur';\n\n// interface to read interaction-type-listener state\nlet interactionTypeHandler;\nlet shadowHandle;\n// keep track of last focus source\nlet current = null;\n// overwrite focus source for use with the every upcoming focus event\nlet lock = null;\n// keep track of ever having used a particular input method to change focus\nconst used = {\n  pointer: false,\n  key: false,\n  script: false,\n  initial: false,\n};\n\nfunction handleFocusEvent(event) {\n  let source = '';\n  if (event.type === focusEventName || event.type === 'shadow-focus') {\n    const interactionType = interactionTypeHandler.get();\n    source = lock\n      || interactionType.pointer && 'pointer'\n      || interactionType.key && 'key'\n      || 'script';\n  } else if (event.type === 'initial') {\n    source = 'initial';\n  }\n\n  document.documentElement.setAttribute('data-focus-source', source);\n\n  if (event.type !== blurEventName) {\n    if (!used[source]) {\n      document.documentElement.classList.add('focus-source-' + source);\n    }\n\n    used[source] = true;\n    current = source;\n  }\n}\n\nfunction getCurrentFocusSource() {\n  return current;\n}\n\nfunction getUsedFocusSource(source) {\n  return used[source];\n}\n\nfunction lockFocusSource(source) {\n  lock = source;\n}\n\nfunction disengage() {\n  // clear dom state\n  handleFocusEvent({type: blurEventName});\n  current = lock = null;\n  Object.keys(used).forEach(function(key) {\n    document.documentElement.classList.remove('focus-source-' + key);\n    used[key] = false;\n  });\n  // kill interaction type identification listener\n  interactionTypeHandler.disengage();\n  // kill shadow-focus event dispatcher\n  shadowHandle && shadowHandle.disengage();\n  document.removeEventListener('shadow-focus', handleFocusEvent, true);\n  document.documentElement.removeEventListener(focusEventName, handleFocusEvent, true);\n  document.documentElement.removeEventListener(blurEventName, handleFocusEvent, true);\n  document.documentElement.removeAttribute('data-focus-source');\n}\n\nfunction engage() {\n  // enable the shadow-focus event dispatcher\n  shadowHandle = shadowFocus();\n  // handlers to modify the focused element\n  document.addEventListener('shadow-focus', handleFocusEvent, true);\n  document.documentElement.addEventListener(focusEventName, handleFocusEvent, true);\n  document.documentElement.addEventListener(blurEventName, handleFocusEvent, true);\n  // enable the interaction type identification observer\n  interactionTypeHandler = engageInteractionTypeObserver();\n  // set up initial dom state\n  handleFocusEvent({type: 'initial'});\n\n  return {\n    used: getUsedFocusSource,\n    current: getCurrentFocusSource,\n    lock: lockFocusSource,\n  };\n}\n\nexport default decorateService({ engage, disengage });\n","\n/*\n  add .ally-focus-within class to parents of document.activeElement,\n  to provide the functionality of :focus-within where it's not available\n  see http://dev.w3.org/csswg/selectors-4/#the-focus-within-pseudo\n\n  USAGE:\n    style/focus-within()\n*/\n\nimport 'domtokenlist-shim';\nimport shadowFocus from '../event/shadow-focus';\nimport getActiveElements from '../get/active-elements';\nimport getParents from '../get/parents';\nimport decorateService from '../util/decorate-service';\n\nimport _supports from './focus-within.supports';\nlet supports;\n\n// preferring focusin/out because they are synchronous in IE10+11\nconst focusEventName = 'onfocusin' in document ? 'focusin' : 'focus';\nconst blurEventName = 'onfocusin' in document ? 'focusout' : 'blur';\n\n// NOTE: require classList polyfill may be necessary (not available on SVGElement)\n// http://caniuse.com/#feat=classlist available since IE10\n// https://github.com/Modernizr/Modernizr/wiki/HTML5-Cross-Browser-Polyfills#classlist\n// https://developer.mozilla.org/en-US/docs/Web/API/Element.classList\n\nconst className = 'ally-focus-within';\nlet blurTimer;\nlet shadowHandle;\n\nfunction applyFocusWithinClass(active) {\n  let _active = active || getActiveElements();\n  let selector = '.' + className;\n  if (supports.cssShadowPiercingDeepCombinator) {\n    // select elements in shadow dom as well\n    selector += ', html ' + supports.cssShadowPiercingDeepCombinator + ' ' + selector;\n  } else {\n    // no shadow-piercing descendant selector, no joy\n    _active = _active.slice(-1);\n  }\n\n  // identify the elements that currently have :focus-within\n  const _current = [].slice.call(document.querySelectorAll(selector), 0);\n  // get the path (ancestry) of each ShadowRoot and merge them into a flat list\n  const elements = _active.map((context) => getParents({context})).reduce(function(previous, current) {\n    return current.concat(previous);\n  }, []);\n\n  // remove the class only from elements that would not receive it again (minimize dom action)\n  _current.forEach(function(element) {\n    if (elements.indexOf(element) !== -1) {\n      return;\n    }\n\n    element.classList.remove(className);\n  });\n\n  // apply the class only to elements that do not yet have it (minimize dom action)\n  elements.forEach(function(element) {\n    if (_current.indexOf(element) !== -1) {\n      return;\n    }\n\n    element.classList.add(className);\n  });\n}\n\nfunction handleDocumentBlurEvent() {\n  // we won't get a focus for <body>, but a delayed blur handler will achieve\n  // the same thing listening for focus would've done, unless we get a focus, of course\n  blurTimer = (window.setImmediate || window.setTimeout)(function() {\n    applyFocusWithinClass();\n  });\n}\n\nfunction handleDocumentFocusEvent() {\n  // abort any handlers that come from document or element blur handlers\n  (window.clearImmediate || window.clearTimeout)(blurTimer);\n  // NOTE: we could overcome Firefox 34 issue of not supporting ShadowRoot.host by\n  // passing event.target (which references the first-level ShadowHost), but that\n  // would require applyFocusWithinClass() to distinguish between the argument and\n  // getActiveElements().\n  applyFocusWithinClass();\n}\n\nfunction handleShadowFocusEvent(event) {\n  applyFocusWithinClass(event.detail.elements);\n}\n\nfunction disengage() {\n  shadowHandle && shadowHandle.disengage();\n  (window.clearImmediate || window.clearTimeout)(blurTimer);\n  document.removeEventListener(blurEventName, handleDocumentBlurEvent, true);\n  document.removeEventListener(focusEventName, handleDocumentFocusEvent, true);\n  document.removeEventListener('shadow-focus', handleShadowFocusEvent, true);\n\n  let selector = '.' + className;\n  if (supports.cssShadowPiercingDeepCombinator) {\n    // select elements in shadow dom as well\n    selector += ', html ' + supports.cssShadowPiercingDeepCombinator + ' ' + selector;\n  }\n\n  // remove any remaining ally-within-focus occurrences\n  [].forEach.call(document.querySelectorAll(selector), function(element) {\n    element.classList.remove(className);\n  });\n}\n\nfunction engage() {\n  if (!supports) {\n    supports = _supports();\n  }\n\n  shadowHandle = shadowFocus();\n  document.addEventListener(blurEventName, handleDocumentBlurEvent, true);\n  document.addEventListener(focusEventName, handleDocumentFocusEvent, true);\n  document.addEventListener('shadow-focus', handleShadowFocusEvent, true);\n  applyFocusWithinClass();\n}\n\nexport default decorateService({ engage, disengage });\n","\nimport memorizeResult from '../supports/memorize-result';\nimport cssShadowPiercingDeepCombinator from '../supports/css-shadow-piercing-deep-combinator';\n\nexport default memorizeResult(function() {\n  return {\n    cssShadowPiercingDeepCombinator: cssShadowPiercingDeepCombinator(),\n  };\n});\n","\nimport cache from './supports-cache';\nimport memorizeResult from './memorize-result';\n\nconst testName = 'supports-css-shadow-piercing-deep-combinator';\n\nexport default memorizeResult(function() {\n  let combinator = cache.get(testName);\n\n  // see http://dev.w3.org/csswg/css-scoping-1/#deep-combinator\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1117572\n  // https://code.google.com/p/chromium/issues/detail?id=446051\n  try {\n    document.querySelector('html >>> :first-child');\n    combinator = '>>>';\n  } catch (noArrowArrowArrow) {\n    try {\n      // old syntax supported at least up to Chrome 41\n      // https://code.google.com/p/chromium/issues/detail?id=446051\n      document.querySelector('html /deep/ :first-child');\n      combinator = '/deep/';\n    } catch (noDeep) {\n      combinator = '';\n    }\n  }\n\n  cache.set(testName, combinator);\n  return combinator;\n});\n","\nimport cache from './supports-cache';\n\n// options.element:\n//  {string} element name\n// options.mutate: (optional)\n//  {function} callback(element, wrapper) to manipulate element prior to focus-test.\n//             Can return DOMElement to define focus target (default: element)\n// options.validate: (optional)\n//  {function} callback(element) to manipulate test-result\nfunction detectFocus(options) {\n  // wrap tests in an element hidden from screen readers to prevent them\n  // from announcing focus, which can be quite irritating to the user\n  const wrapper = document.createElement('div');\n  wrapper.setAttribute('aria-live', 'off');\n  wrapper.setAttribute('aria-busy', 'true');\n  wrapper.setAttribute('aria-hidden', 'true');\n  document.body.appendChild(wrapper);\n  // create dummy element to test focusability of\n  const element = typeof options.element === 'string' ? document.createElement(options.element) : options.element();\n  // allow callback to further specify dummy element\n  const focus = options.mutate && options.mutate(element, wrapper) || element;\n  // element needs to be part of the DOM to be focusable\n  !element.parentNode && wrapper.appendChild(element);\n  // remember what had focus to restore after test\n  const previousActiveElement = document.activeElement;\n  // remember scroll positions to restore after test\n  const previousScrollTop = window.scrollTop;\n  const previousScrollLeft = window.scrollLeft;\n  // test if the element with invalid tabindex can be focused\n  focus.focus && focus.focus();\n  // validate test's result\n  const allowsFocus = options.validate ? options.validate(element) : document.activeElement === focus;\n  // restore focus to what it was before test and cleanup\n  // IE10 does not redirect focus to <body> when the activeElement is removed\n  document.activeElement && document.activeElement.blur();\n  previousActiveElement && previousActiveElement.focus() || document.body.focus();\n  document.body.removeChild(wrapper);\n  // restore scroll position\n  window.scrollTop !== previousScrollTop && (window.scrollTop = previousScrollTop);\n  window.scrollLeft !== previousScrollLeft && (window.scrollLeft = previousScrollLeft);\n  return allowsFocus;\n}\n\n// cache detected support so we don't have to bother screen readers with unstoppable focus changes\n// and flood the console with net::ERR_INVALID_URL errors for audio/video tests\nexport default function(options) {\n  let value = cache.get(options.name);\n  if (typeof value !== 'boolean') {\n    value = detectFocus(options);\n    cache.set(options.name, value);\n  }\n\n  return value;\n}\n","\nimport detectFocus from './detect-focus';\nimport memorizeResult from './memorize-result';\nimport gif from './media/gif';\n\n// https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img#attr-usemap\nexport default memorizeResult(() => detectFocus({\n  name: 'can-focus-area-img-tabindex',\n  element: 'div',\n  mutate: function(element) {\n    element.innerHTML = '<map name=\"image-map-tabindex-test\">'\n      + '<area shape=\"rect\" coords=\"63,19,144,45\"></map>'\n      + '<img usemap=\"#image-map-tabindex-test\" tabindex=\"-1\" alt=\"\" src=\"' + gif + '\">';\n\n    return element.querySelector('area');\n  },\n}));\n","\nimport platform from 'platform';\nimport detectFocus from './detect-focus';\nimport memorizeResult from './memorize-result';\nimport gif from './media/gif';\n\n// https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img#attr-usemap\nexport default memorizeResult(() => detectFocus({\n  name: 'can-focus-area-tabindex',\n  element: 'div',\n  mutate: function(element) {\n    element.innerHTML = '<map name=\"image-map-tabindex-test\">'\n      + '<area href=\"#void\" tabindex=\"-1\" shape=\"rect\" coords=\"63,19,144,45\"></map>'\n      + '<img usemap=\"#image-map-tabindex-test\" alt=\"\" src=\"' + gif + '\">';\n\n    return element.querySelector('area');\n  },\n  validate: function(element) {\n    if (platform.name === 'Firefox') {\n      // fixes https://github.com/medialize/ally.js/issues/35\n      // Firefox loads the DataURI asynchronously, causing a false-negative\n      return true;\n    }\n\n    const focus = element.querySelector('area');\n    return document.activeElement === focus;\n  },\n}));\n","\nimport platform from 'platform';\nimport detectFocus from './detect-focus';\nimport memorizeResult from './memorize-result';\nimport gif from './media/gif';\n\n// https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img#attr-usemap\nexport default memorizeResult(() => detectFocus({\n  name: 'can-focus-area-without-href',\n  element: 'div',\n  mutate: function(element) {\n    element.innerHTML = '<map name=\"image-map-area-href-test\">'\n      + '<area shape=\"rect\" coords=\"63,19,144,45\"></map>'\n      + '<img usemap=\"#image-map-area-href-test\" alt=\"\" src=\"' + gif + '\">';\n\n    return element.querySelector('area');\n  },\n  validate: function(element) {\n    if (platform.name === 'Firefox') {\n      // fixes https://github.com/medialize/ally.js/issues/35\n      // Firefox loads the DataURI asynchronously, causing a false-negative\n      return true;\n    }\n\n    const focus = element.querySelector('area');\n    return document.activeElement === focus;\n  },\n}));\n","\nimport detectFocus from './detect-focus';\nimport memorizeResult from './memorize-result';\nimport mp3 from './media/mp3';\n\nexport default memorizeResult(() => detectFocus({\n  name: 'can-focus-audio-without-controls',\n  element: 'audio',\n  mutate: function(element) {\n    // invalid media file can trigger warning in console, data-uri to prevent HTTP request\n    element.setAttribute('src', mp3);\n  },\n}));\n","\nimport detectFocus from './detect-focus';\nimport memorizeResult from './memorize-result';\nimport invalidGif from './media/gif.invalid';\n\n// NOTE: https://github.com/medialize/ally.js/issues/35\n// https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img#attr-usemap\nexport default memorizeResult(() => detectFocus({\n  name: 'can-focus-broken-image-map',\n  element: 'div',\n  mutate: function(element) {\n    element.innerHTML = '<map name=\"broken-image-map-test\"><area href=\"#void\" shape=\"rect\" coords=\"63,19,144,45\"></map>'\n      + '<img usemap=\"#broken-image-map-test\" alt=\"\" src=\"' + invalidGif + '\">';\n\n    return element.querySelector('area');\n  },\n}));\n","\nimport detectFocus from './detect-focus';\nimport memorizeResult from './memorize-result';\n\n// Children of focusable elements with display:flex are focusable in IE10-11\nexport default memorizeResult(() => detectFocus({\n  name: 'can-focus-children-of-focusable-flexbox',\n  element: 'div',\n  mutate: function(element) {\n    element.setAttribute('tabindex', '-1');\n    element.setAttribute('style', 'display: -ms-flexbox; display: flex;');\n    element.innerHTML = '<span style=\"display: block;\">hello</span>';\n    return element.querySelector('span');\n  },\n}));\n","\nimport detectFocus from './detect-focus';\nimport memorizeResult from './memorize-result';\n\n// fieldset[tabindex=0][disabled] should not be focusable, but Blink and WebKit disagree\n// @specification http://www.w3.org/TR/html5/disabled-elements.html#concept-element-disabled\n// @browser-issue Chromium https://crbug.com/453847\n// @browser-issue WebKit https://bugs.webkit.org/show_bug.cgi?id=141086\nexport default memorizeResult(() => detectFocus({\n  name: 'can-focus-disabled-fieldset',\n  element: 'fieldset',\n  mutate: function(element) {\n    element.setAttribute('tabindex', 0);\n    element.setAttribute('disabled', 'disabled');\n  },\n}));\n","\nimport detectFocus from './detect-focus';\nimport memorizeResult from './memorize-result';\n\nexport default memorizeResult(() => detectFocus({\n  name: 'can-focus-fieldset',\n  element: 'fieldset',\n  mutate: function(element) {\n    element.innerHTML = '<legend>legend</legend><p>content</p>';\n  },\n}));\n","\nimport detectFocus from './detect-focus';\nimport memorizeResult from './memorize-result';\nimport gif from './media/gif';\n\n// NOTE: https://github.com/medialize/ally.js/issues/35\n// fixes https://github.com/medialize/ally.js/issues/20\n// https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img#attr-ismap\nexport default memorizeResult(() => detectFocus({\n  name: 'can-focus-img-ismap',\n  element: 'a',\n  mutate: function(element) {\n    element.href = '#void';\n    element.innerHTML = '<img ismap src=\"' + gif + '\" alt=\"\">';\n    return element.querySelector('img');\n  },\n}));\n","\nimport detectFocus from './detect-focus';\nimport memorizeResult from './memorize-result';\nimport gif from './media/gif';\n\n// NOTE: https://github.com/medialize/ally.js/issues/35\n// https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img#attr-usemap\nexport default memorizeResult(() => detectFocus({\n  name: 'can-focus-img-usemap-tabindex',\n  element: 'div',\n  mutate: function(element) {\n    element.innerHTML = '<map name=\"image-map-tabindex-test\"><area href=\"#void\" shape=\"rect\" coords=\"63,19,144,45\"></map>'\n      + '<img usemap=\"#image-map-tabindex-test\" tabindex=\"-1\" alt=\"\" '\n      + 'src=\"' + gif + '\">';\n\n    return element.querySelector('img');\n  },\n}));\n","\nimport detectFocus from './detect-focus';\nimport memorizeResult from './memorize-result';\n\n// Firefox allows *any* value and treats invalid values like tabindex=\"-1\"\n// @browser-issue Gecko https://bugzilla.mozilla.org/show_bug.cgi?id=1128054\nexport default memorizeResult(() => detectFocus({\n  name: 'allows-invalid-tabindex-value',\n  element: 'div',\n  mutate: function(element) {\n    element.setAttribute('tabindex', 'invalid-value');\n  },\n}));\n","\nimport detectFocus from './detect-focus';\nimport memorizeResult from './memorize-result';\n\n// only Trident and Edge are able to focus a <label tabindex=\"-1\">,\n// as all other browsers seem hardwired to forward focus to the target input, if possible\nexport default memorizeResult(() => detectFocus({\n  name: 'can-focus-label-tabindex',\n  element: 'label',\n  mutate: function(element) {\n    element.setAttribute('tabindex', '-1');\n  },\n  validate: function(element) {\n    // force layout in Chrome 49, otherwise the element won't be focusable\n    /* eslint-disable no-unused-vars */\n    const variableToPreventDeadCodeElimination = element.offsetHeight;\n    /* eslint-enable no-unused-vars */\n    element.focus();\n    return document.activeElement === element;\n  },\n}));\n","\nimport platform from 'platform';\nimport detectFocus from './detect-focus';\nimport memorizeResult from './memorize-result';\nimport svg from './media/svg';\n\nexport default memorizeResult(() => detectFocus({\n  name: 'can-focus-object-svg',\n  element: 'object',\n  mutate: function(element) {\n    element.setAttribute('type', 'image/svg+xml');\n    element.setAttribute('data', svg);\n    element.setAttribute('width', '200');\n    element.setAttribute('height', '50');\n  },\n  validate: function(element) {\n    if (platform.name === 'Firefox') {\n      // Firefox seems to be handling the object creation asynchronously and thereby produces a false negative test result.\n      // Because we know Firefox is able to focus object elements referencing SVGs, we simply cheat by sniffing the user agent string\n      return true;\n    }\n\n    return document.activeElement === element;\n  },\n}));\n","\nimport platform from 'platform';\n\n// Every Environment except IE9 considers SWF objects focusable\nconst result = platform.name !== 'IE' || parseFloat(platform.version) >= 10;\n\nexport default function() {\n  return result;\n}\n","\nimport detectFocus from './detect-focus';\nimport memorizeResult from './memorize-result';\n\n// https://github.com/medialize/ally.js/issues/21\nexport default memorizeResult(() => detectFocus({\n  name: 'can-focus-scroll-body',\n  element: 'div',\n  mutate: function(element) {\n    element.setAttribute('style', 'width: 100px; height: 50px; overflow: auto;');\n    element.innerHTML = '<div style=\"width: 500px; height: 40px;\">scrollable content</div>';\n    return element.querySelector('div');\n  },\n}));\n","\nimport detectFocus from './detect-focus';\nimport memorizeResult from './memorize-result';\n\n// https://github.com/medialize/ally.js/issues/21\nexport default memorizeResult(() => detectFocus({\n  name: 'can-focus-scroll-container-without-overflow',\n  element: 'div',\n  mutate: function(element) {\n    element.setAttribute('style', 'width: 100px; height: 50px;');\n    element.innerHTML = '<div style=\"width: 500px; height: 40px;\">scrollable content</div>';\n  },\n}));\n","\nimport detectFocus from './detect-focus';\nimport memorizeResult from './memorize-result';\n\n// https://github.com/medialize/ally.js/issues/21\nexport default memorizeResult(() => detectFocus({\n  name: 'can-focus-scroll-container',\n  element: 'div',\n  mutate: function(element) {\n    element.setAttribute('style', 'width: 100px; height: 50px; overflow: auto;');\n    element.innerHTML = '<div style=\"width: 500px; height: 40px;\">scrollable content</div>';\n  },\n}));\n","\nimport detectFocus from './detect-focus';\nimport memorizeResult from './memorize-result';\n\nexport default memorizeResult(() => detectFocus({\n  name: 'can-focus-summary',\n  element: 'details',\n  mutate: function(element) {\n    element.innerHTML = '<summary>foo</summary><p>content</p>';\n    return element.firstElementChild;\n  },\n}));\n","\nimport detectFocus from './detect-focus';\nimport memorizeResult from './memorize-result';\n\n// Firefox allows *any* value and treats invalid values like tabindex=\"-1\"\n// @browser-issue Gecko https://bugzilla.mozilla.org/show_bug.cgi?id=1128054\nexport default memorizeResult(() => detectFocus({\n  name: 'allows-tabindex-trailing-characters',\n  element: 'div',\n  mutate: function(element) {\n    element.setAttribute('tabindex', '3x');\n  },\n}));\n","\nimport detectFocus from './detect-focus';\nimport memorizeResult from './memorize-result';\n\nexport default memorizeResult(() => detectFocus({\n  name: 'can-focus-table',\n  element: 'table',\n  mutate: function(element) {\n    // IE9 has a problem replacing TBODY contents with innerHTML.\n    // http://stackoverflow.com/a/8097055/515124\n    // element.innerHTML = '<tr><td>cell</td></tr>';\n    const fragment = document.createDocumentFragment();\n    fragment.innerHTML = '<tr><td>cell</td></tr>';\n    element.appendChild(fragment);\n  },\n}));\n","\nimport detectFocus from './detect-focus';\nimport memorizeResult from './memorize-result';\nimport mp4 from './media/mp4';\n\nexport default memorizeResult(() => detectFocus({\n  name: 'can-focus-video-without-controls',\n  element: 'video',\n  mutate: function(element) {\n    // invalid media file can trigger warning in console, data-uri to prevent HTTP request\n    element.setAttribute('src', mp4);\n  },\n}));\n","\nexport default 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZ';\n","\nexport default 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n","\n//export default 'data:audio/mp3;base64,audio-focus-test';\nimport gif from './gif';\nexport default gif;\n","\n//export default 'data:video/mp4;base64,video-focus-test';\nimport gif from './gif';\nexport default gif;\n","\nexport default 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtb'\n  + 'G5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBpZD0ic3ZnIj48dGV4dCB4PSIxMCIgeT0iMjAiIGlkPSJ'\n  + 'zdmctbGluay10ZXh0Ij50ZXh0PC90ZXh0Pjwvc3ZnPg==';\n","\nexport default function(callback) {\n  let result = callback;\n  return function() {\n    if (result !== callback) {\n      return result;\n    }\n\n    result = callback();\n    return result;\n  };\n}\n","/*\n    Facility to cache test results in localStorage.\n\n    USAGE:\n      cache.get('key');\n      cache.set('key', 'value');\n */\n\nimport version from '../version';\n\nfunction readLocalStorage(key) {\n  // allow reading from storage to retrieve previous support results\n  // even while the document does not have focus\n  let data;\n\n  try {\n    data = window.localStorage && window.localStorage.getItem(key);\n    data = data ? JSON.parse(data) : {};\n  } catch (e) {\n    data = {};\n  }\n\n  return data;\n}\n\nfunction writeLocalStorage(key, value) {\n  if (!document.hasFocus()) {\n    // if the document does not have focus when tests are executed, focus() may\n    // not be handled properly and events may not be dispatched immediately.\n    // This can happen when a document is reloaded while Developer Tools have focus.\n    try {\n      window.localStorage && window.localStorage.removeItem(key);\n    } catch(e) {\n      // ignore\n    }\n\n    return;\n  }\n\n  try {\n    window.localStorage && window.localStorage.setItem(key, JSON.stringify(value));\n  } catch (e) {\n    // ignore\n  }\n}\n\nconst userAgent = window.navigator.userAgent;\nconst cacheKey = 'ally-supports-cache';\nlet cache = readLocalStorage(cacheKey);\n\n// update the cache if ally or the user agent changed (newer version, etc)\nif (cache.userAgent !== userAgent || cache.version !== version) {\n  cache = {};\n}\n\ncache.userAgent = userAgent;\ncache.version = version;\n\nexport default {\n  get: function getCacheValue(key) {\n    return cache[key];\n  },\n  set: function setCacheValue(key, value) {\n    cache[key] = value;\n    writeLocalStorage(cacheKey, cache);\n  },\n};\n","\nfunction getFunctionName(func) {\n  const s = String(func).match(/function\\s+([^\\(]+)\\(/);\n  return s && s[1] || null;\n}\n\n// in Chrome < 47 the focus method lived on Element, instead of HTMLElement\nconst hasElementFocus = Boolean(Element.prototype.focus);\n// in Chrome >= 47 HTMLElement.focus and SVGElement.focus different functions\n// src/prototype/svgelement.prototype.focus.js clones HTMLElement.focus to SVGElement.focus\nconst hasNativeSvgFocus = SVGElement.prototype.focus !== HTMLElement.prototype.focus\n  // src/prototype/svgelement.prototype.focus.js adds a safety-filler for Firefox\n  && getFunctionName(SVGElement.prototype.focus) === 'focus';\n\nconst result = hasElementFocus || hasNativeSvgFocus;\n\nexport default function() {\n  return result;\n}\n","\nimport platform from 'platform';\n\n// https://jsbin.com/vafaba/3/edit?html,js,console,output\nconst result = platform.name === 'Firefox' || platform.name === 'IE';\n\nexport default function() {\n  return result;\n}\n","\n// Node.compareDocumentPosition is available since IE9\n// see https://developer.mozilla.org/en-US/docs/Web/API/Node.compareDocumentPosition\n\n// callback returns true when element is contained by parent or is the parent suited for use with Array.some()\n/*\n  USAGE:\n    var isChildOf = getParentComparator({parent: someNode});\n    listOfElements.some(isChildOf)\n*/\n\nexport function getParentComparator({parent, element, includeSelf}) {\n  if (parent) {\n    return function isChildOf(node) {\n      return includeSelf && node === parent\n        || parent.compareDocumentPosition(node) & Node.DOCUMENT_POSITION_CONTAINED_BY;\n    };\n  } else if (element) {\n    return function isParentOf(node) {\n      return includeSelf && element === node\n        || node.compareDocumentPosition(element) & Node.DOCUMENT_POSITION_CONTAINED_BY;\n    };\n  }\n\n  throw new TypeError('util/compare-position#getParentComparator required either options.parent or options.element');\n}\n","\nimport nodeArray from '../util/node-array';\n\nexport default function({context, message}) {\n  const element = nodeArray(context)[0];\n  if (!element) {\n    throw new TypeError(message || 'context-to-element requires valid options.context');\n  }\n\n  return element;\n}\n","\n/*\n  The Context Decorator is intended to allow modules to easily map dis/engage methods to the general\n  dis/engage and context API format\n*/\n\nimport nodeArray from '../util/node-array';\n\nfunction destruct(/* {force: false} */) {\n  if (!this.context) {\n    return;\n  }\n\n  this.context.forEach(this.disengage);\n  this.context = null;\n  this.engage = null;\n  this.disengage = null;\n}\n\nfunction initialize({context} = {}) {\n  this.context = nodeArray(context || document);\n  this.context.forEach(this.engage);\n  return {\n    disengage: destruct.bind(this),\n  };\n}\n\nfunction noop() {}\n\nexport default function({engage, disengage} = {}) {\n  const data = {\n    engage: engage || noop,\n    disengage: disengage || noop,\n    context: null,\n  };\n\n  return initialize.bind(data);\n}\n","\n/*\n  The Singleton Decorator is intended to allow modules to initialize a (\"singleton\") component as if\n  it was the only one using it. Every module gets to initialize and destruct the component by itself.\n  Via simple reference counting the component keeps track of how many modules have initialized it,\n  so it destructs only when the last module is gone. This decorator hides the component's singleton\n  nature from the application in order to offer a homogenous API.\n\n  engage() can return an object (result) with methods to expose to the consumer,\n  upon initialization result.disengage is added and returned to the consumer.\n*/\n\nfunction destruct({force} = {}) {\n  if (force) {\n    this.instances = 0;\n  } else {\n    this.instances--;\n  }\n\n  if (!this.instances) {\n    this.disengage();\n    this._result = null;\n  }\n}\n\nfunction initialize() {\n  if (this.instances) {\n    this.instances++;\n    return this._result;\n  }\n\n  this.instances++;\n  this._result = this.engage() || {};\n  this._result.disengage = destruct.bind(this);\n\n  return this._result;\n}\n\nfunction noop() {}\n\nexport default function({engage, disengage} = {}) {\n  const data = {\n    engage: engage || noop,\n    disengage: disengage || noop,\n    instances: 0,\n    _result: null,\n  };\n\n  return initialize.bind(data);\n}\n","\nexport default function(node) {\n  if (!node) {\n    return document;\n  }\n\n  if (node.nodeType === Node.DOCUMENT_NODE) {\n    return node;\n  }\n\n  return node.ownerDocument || document;\n}\n","\nimport getDocument from './get-document';\n\nexport default function(node) {\n  const _document = getDocument(node);\n  return _document.defaultView || window;\n}\n","\n// sort a list of elements into another list of elements in DOM order\n\n/*\n  USAGE:\n    mergeDomOrder({\n      // DOM ordered array of elements to use as base of merge\n      list: [],\n      // unordered array of elements to merge into base list\n      elements: [],\n      // callback function to resolve an element\n      resolveElement: function(element) {\n        // return null to skip\n        // return element to replace insertion\n        // return [element1, element2, …] to replace insertion with multiple elements\n        return element;\n      },\n    })\n*/\n\nimport nodeArray from './node-array';\nimport sortDomOrder from './sort-dom-order';\n\nfunction getFirstSuccessorOffset(list, target) {\n  // find the first element that comes AFTER the target element\n  return list.findIndex(function(element) {\n    return target.compareDocumentPosition(element) & Node.DOCUMENT_POSITION_FOLLOWING;\n  });\n}\n\nfunction findInsertionOffsets(list, elements, resolveElement) {\n  // instead of mutating the elements list directly, remember position and map\n  // to inject later, when we can do this more efficiently\n  const insertions = [];\n  elements.forEach(function(element) {\n    let replace = true;\n    let offset = list.indexOf(element);\n\n    if (offset === -1) {\n      // element is not in target list\n      offset = getFirstSuccessorOffset(list, element);\n      replace = false;\n    }\n\n    if (offset === -1) {\n      // there is no successor in the tabsequence,\n      // meaning the image must be the last element\n      offset = list.length;\n    }\n\n    // allow the consumer to replace the injected element\n    const injections = nodeArray(resolveElement ? resolveElement(element) : element);\n    if (!injections.length) {\n      // we can't inject zero elements\n      return;\n    }\n\n    insertions.push({\n      offset,\n      replace,\n      elements: injections,\n    });\n  });\n\n  return insertions;\n}\n\nfunction insertElementsAtOffsets(list, insertions) {\n  // remember the number of elements we have already injected\n  // so we account for the caused index offset\n  let inserted = 0;\n  // make sure that we insert the elements in sequence,\n  // otherwise the offset compensation won't work\n  insertions.sort((a, b) => a.offset - b.offset);\n  insertions.forEach(function(insertion) {\n    // array.splice has an annoying function signature :(\n    const remove = insertion.replace ? 1 : 0;\n    const args = [insertion.offset + inserted, remove].concat(insertion.elements);\n    list.splice.apply(list, args);\n    inserted += insertion.elements.length - remove;\n  });\n}\n\nexport default function({list, elements, resolveElement} = {}) {\n  // operate on a copy so we don't mutate the original array\n  const _list = list.slice(0);\n  // make sure the elements we're injecting are provided in DOM order\n  const _elements = nodeArray(elements).slice(0);\n  sortDomOrder(_elements);\n  // find the offsets within the target array (list) at which to inject\n  // each individual element (from elements)\n  const insertions = findInsertionOffsets(_list, _elements, resolveElement);\n  // actually inject the elements into the target array at the identified positions\n  insertElementsAtOffsets(_list, insertions);\n  return _list;\n}\n","\n// input may be undefined, selector-tring, Node, NodeList, HTMLCollection, array of Nodes\n// yes, to some extent this is a bad replica of jQuery's constructor function\nexport default function(input) {\n  if (!input) {\n    return [];\n  }\n\n  if (Array.isArray(input)) {\n    return input;\n  }\n\n  // instanceof Node - does not work with iframes\n  if (input.nodeType !== undefined) {\n    return [input];\n  }\n\n  if (typeof input === 'string') {\n    input = document.querySelectorAll(input);\n  }\n\n  if (input.length !== undefined) {\n    return [].slice.call(input, 0);\n  }\n\n  throw new TypeError('unexpected input ' + String(input));\n}\n","\n// sorts a list of elements according to their order in the DOM\n\nfunction compareDomPosition(a, b) {\n  return a.compareDocumentPosition(b) & Node.DOCUMENT_POSITION_FOLLOWING ? -1 : 1;\n}\n\nexport default function(elements) {\n  return elements.sort(compareDomPosition);\n}\n","\nimport isValidTabindex from '../is/valid-tabindex';\n\nexport default function(element) {\n  if (!isValidTabindex(element)) {\n    return null;\n  }\n\n  // @browser-issue Gecko https://bugzilla.mozilla.org/show_bug.cgi?id=1128054\n  const tabindex = parseInt(element.getAttribute('tabindex'), 10);\n  return isNaN(tabindex) ? -1 : tabindex;\n}\n","\n// helper to turn\n//  <div some-attribute=\"original\">\n// into\n//  <div some-attribute=\"new\" data-cached-some-attribute=\"original\">\n// and back\n\nexport default function({element, attribute, temporaryValue, saveValue}) {\n  const temporaryAttribute = 'data-cached-' + attribute;\n\n  if (temporaryValue !== undefined) {\n    const _value = saveValue || element.getAttribute(attribute);\n    element.setAttribute(temporaryAttribute, _value || '');\n    element.setAttribute(attribute, temporaryValue);\n  } else {\n    const _value = element.getAttribute(temporaryAttribute);\n    element.removeAttribute(temporaryAttribute);\n    if (_value === '') {\n      element.removeAttribute(attribute);\n    } else {\n      element.setAttribute(attribute, _value);\n    }\n  }\n}\n","\nimport getParents from '../get/parents';\n\nfunction getIntersectingRect(one, two) {\n  // identify the rectangle that _element and _container overlap in\n  const top = Math.max(one.top, two.top);\n  const left = Math.max(one.left, two.left);\n  // make sure bottom can't be above top, right can't be before left\n  const right = Math.max(Math.min(one.right, two.right), left);\n  const bottom = Math.max(Math.min(one.bottom, two.bottom), top);\n  // return something resembling ClientRect\n  return {\n    top: top,\n    right: right,\n    bottom: bottom,\n    left: left,\n    width: right - left,\n    height: bottom - top,\n  };\n}\n\nfunction getViewportRect() {\n  const width = window.innerWidth || document.documentElement.clientWidth;\n  const height = window.innerHeight || document.documentElement.clientHeight;\n  // return something resembling ClientRect\n  return {\n    top: 0,\n    right: width,\n    bottom: height,\n    left: 0,\n    width: width,\n    height: height,\n  };\n}\n\nfunction getInnerBoundingClientRect(element) {\n  // convenience for the .reduce() in getScrollableParentRect()\n  const rect = element.getBoundingClientRect();\n\n  // remove the width of the scrollbar because that\n  // area is not really considered visible\n  // NOTE: assuming scrollbar is always to the right and bottom\n  const scrollbarWidth = element.offsetWidth - element.clientWidth;\n  const scrollbarHeight = element.offsetHeight - element.clientHeight;\n  // cannot mutate rect because it has readonly properties\n  const _rect = {\n    top: rect.top,\n    left: rect.left,\n    right: rect.right - scrollbarWidth,\n    bottom: rect.bottom - scrollbarHeight,\n    width: rect.width - scrollbarWidth,\n    height: rect.height - scrollbarHeight,\n    area: 0,\n  };\n\n  _rect.area = _rect.width * _rect.height;\n  return _rect;\n}\n\nfunction isOverflowingElement(element) {\n  const style = window.getComputedStyle(element, null);\n  const value = 'visible';\n  return style.getPropertyValue('overflow-x') !== value\n    && style.getPropertyValue('overflow-y') !== value;\n}\n\nfunction isScrollableElement(element) {\n  // an element not scrollable if it doesn't crop its content\n  if (!isOverflowingElement(element)) {\n    return false;\n  }\n\n  // an element is scrollable when it is smaller than its content\n  return element.offsetHeight < element.scrollHeight\n    || element.offsetWidth < element.scrollWidth;\n}\n\nfunction getScrollableParentRect(element) {\n  // get largest possible space constrained by scrolling containers\n\n  // find scrollable parents\n  const scrollingContainers = getParents({context: element}).slice(1).filter(isScrollableElement);\n\n  if (!scrollingContainers.length) {\n    // no containers, no joy\n    return null;\n  }\n\n  // identify the currently visible intersection of all scrolling container parents\n  return scrollingContainers.reduce(function(previous, current) {\n    const rect = getInnerBoundingClientRect(current);\n    const intersection = getIntersectingRect(rect, previous);\n    // identify the smallest scrolling container so we know how much space\n    // our element can fill at the most - note that this is NOT the area\n    // of the intersection, intersection is just abused as a vehicle\n    intersection.area = Math.min(rect.area, previous.area);\n    return intersection;\n  }, getInnerBoundingClientRect(scrollingContainers[0]));\n}\n\nexport default function(element) {\n  // dimensions of the element itself\n  const _element = element.getBoundingClientRect();\n  // dimensions of the viewport\n  const _viewport = getViewportRect();\n  // we need the area to know how much of the element can be displayed at the most\n  _viewport.area = _viewport.width * _viewport.height;\n\n  let _area = _viewport;\n  // dimensions of the intersection of all scrollable parents\n  const _container = getScrollableParentRect(element);\n  if (_container) {\n    if (!_container.width || !_container.height) {\n      // scrollable containers without dimensions are invisible,\n      // meaning that the element is not visible at all\n      return 0;\n    }\n\n    // dimension the element can currently be rendered in\n    _area = getIntersectingRect(_container, _viewport);\n    _area.area = _container.area;\n  }\n\n  // dimension of the element currently rendered in identified space\n  const _visible = getIntersectingRect(_element, _area);\n  if (!_visible.width || !_visible.height) {\n    // element is not shown within the identified area\n    return 0;\n  }\n\n  // compare the element's currently visible size to the size it\n  // could take up at the most, being either the element's actual\n  // size, or the space theroetically made available if all\n  // scrollable parents are aligned properly\n  const area = _element.width * _element.height;\n  const maxArea = Math.min(area, _area.area);\n  // Firefox may return sub-pixel bounding client rect\n  return Math.round(_visible.width) * Math.round(_visible.height) / maxArea;\n}\n","\n// this file is overwritten by `npm run build:pre`\nconst version = '1.1.0-beta.1';\nexport default version;\n","\n// exporting modules to be included the UMD bundle\n\nimport focusable from './focusable';\nimport key from './key';\nimport visibleArea from './visible-area';\nexport default {\n  focusable,\n  key,\n  visibleArea,\n};\n","\n/*\n  trigger a callback once the context element is focusable and is fully visible in the viewport\n*/\n\nimport whenVisibleArea from './visible-area';\nimport isFocusable from '../is/focusable';\nimport getDocument from '../util/get-document';\nimport nodeArray from '../util/node-array';\n\nexport default function({context, callback, area} = {}) {\n  if (typeof callback !== 'function') {\n    throw new TypeError('when/focusable requires options.callback to be a function');\n  }\n\n  if (context === undefined) {\n    throw new TypeError('when/focusable requires valid options.context');\n  }\n\n  const element = nodeArray(context)[0];\n  const _document = getDocument(element);\n  if (!element) {\n    throw new TypeError('when/focusable requires valid options.context');\n  }\n\n  const filterCallback = function(target) {\n    if (!isFocusable(target)) {\n      return false;\n    }\n\n    return callback(target);\n  };\n\n  const handle = whenVisibleArea({ context: element, callback: filterCallback, area });\n  const disengage = function() {\n    _document.removeEventListener('focus', disengage, true);\n    handle && handle.disengage();\n  };\n\n  _document.addEventListener('focus', disengage, true);\n\n  return { disengage };\n}\n","\n/*\n  decodes a key binding token to a JavaScript structure\n\n  returns an array of objects:\n    {\n      // key name translated to keyCode (possibly more than one)\n      keyCodes: [<number>],\n      // translated modifiers\n      modifiers: {\n        altKey: null,   // ignore\n        ctrKey: false,  // expect not pressed\n        metaKey: true,  // expect pressed\n        shiftKey: true, // expect pressed\n      },\n      // callback that returns true if event's\n      // modifier keys match the expected state\n      matchModifiers: function(event){},\n    }\n*/\n\nimport keycode from '../map/keycode';\n\nconst modifier = {\n  alt: 'altKey',\n  ctrl: 'ctrlKey',\n  meta: 'metaKey',\n  shift: 'shiftKey',\n};\n\nconst modifierSequence = Object.keys(modifier).map(name => modifier[name]);\n\nfunction createExpectedModifiers(ignoreModifiers) {\n  const value = ignoreModifiers ? null : false;\n  return {\n    altKey: value,\n    ctrlKey: value,\n    metaKey: value,\n    shiftKey: value,\n  };\n}\n\nfunction resolveModifiers(modifiers) {\n  const ignoreModifiers = modifiers.indexOf('*') !== -1;\n  const expected = createExpectedModifiers(ignoreModifiers);\n\n  modifiers.forEach(function(token) {\n    if (token === '*') {\n      // we've already covered the all-in operator\n      return;\n    }\n\n    // we want the modifier pressed\n    let value = true;\n    const operator = token.slice(0, 1);\n    if (operator === '?') {\n      // we don't care if the modifier is pressed\n      value = null;\n    } else if (operator === '!') {\n      // we do not want the modifier pressed\n      value = false;\n    }\n\n    if (value !== true) {\n      // compensate for the modifier's operator\n      token = token.slice(1);\n    }\n\n    const propertyName = modifier[token];\n    if (!propertyName) {\n      throw new TypeError('Unknown modifier \"' + token + '\"');\n    }\n\n    expected[propertyName] = value;\n  });\n\n  return expected;\n}\n\nfunction resolveKey(key) {\n  const code = keycode[key] || parseInt(key, 10);\n  if (!code || typeof code !== 'number' || isNaN(code)) {\n    throw new TypeError('Unknown key \"' + key + '\"');\n  }\n\n  return [code].concat(keycode._alias[code] || []);\n}\n\nfunction matchModifiers(expected, event) {\n  // returns true on match\n  return !modifierSequence.some(function(prop) {\n    // returns true on mismatch\n    return typeof expected[prop] === 'boolean' && Boolean(event[prop]) !== expected[prop];\n  });\n}\n\nexport default function(text) {\n  return text.split(/\\s+/).map(function(_text) {\n    const tokens = _text.split('+');\n    const _modifiers = resolveModifiers(tokens.slice(0, -1));\n    const _keyCodes = resolveKey(tokens.slice(-1));\n    return {\n      keyCodes: _keyCodes,\n      modifiers: _modifiers,\n      matchModifiers: matchModifiers.bind(null, _modifiers),\n    };\n  });\n}\n","\nimport keyBinding from './key.binding';\nimport nodeArray from '../util/node-array';\nimport {getParentComparator} from '../util/compare-position';\n\n// Bug 286933 - Key events in the autocomplete popup should be hidden from page scripts\n// @browser-issue Gecko https://bugzilla.mozilla.org/show_bug.cgi?id=286933\n\nexport default function(map = {}) {\n  let disengage;\n  const bindings = {};\n\n  const context = nodeArray(map.context)[0] || document.documentElement;\n  delete map.context;\n  const filter = nodeArray(map.filter);\n  delete map.filter;\n\n  const mapKeys = Object.keys(map);\n  if (!mapKeys.length) {\n    throw new TypeError('when/key requires at least one option key');\n  }\n\n  const registerBinding = function(event) {\n    event.keyCodes.forEach(function(code) {\n      if (!bindings[code]) {\n        bindings[code] = [];\n      }\n\n      bindings[code].push(event);\n    });\n  };\n\n  mapKeys.forEach(function(text) {\n    if (typeof map[text] !== 'function') {\n      throw new TypeError('when/key requires option[\"' + text + '\"] to be a function');\n    }\n\n    const addCallback = function(event) {\n      event.callback = map[text];\n      return event;\n    };\n\n    keyBinding(text)\n      .map(addCallback)\n      .forEach(registerBinding);\n  });\n\n  const handleKeyDown = function(event) {\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    if (filter.length) {\n      // ignore elements within the exempted sub-trees\n      const isParentOfElement = getParentComparator({element: event.target, includeSelf: true});\n      if (filter.some(isParentOfElement)) {\n        return;\n      }\n    }\n\n    const key = event.keyCode || event.which;\n    if (!bindings[key]) {\n      return;\n    }\n\n    bindings[key].forEach(function(_event) {\n      if (!_event.matchModifiers(event)) {\n        return;\n      }\n\n      _event.callback.call(context, event, disengage);\n    });\n  };\n\n  context.addEventListener('keydown', handleKeyDown, false);\n\n  disengage = function() {\n    context.removeEventListener('keydown', handleKeyDown, false);\n  };\n\n  return { disengage };\n}\n","\n/*\n  execute a callback once an element became fully visible in the viewport\n*/\n\nimport '../prototype/window.requestanimationframe';\nimport isVisible from '../is/visible';\nimport visibleArea from '../util/visible-area';\nimport nodeArray from '../util/node-array';\n\nexport default function({context, callback, area} = {}) {\n  if (typeof callback !== 'function') {\n    throw new TypeError('when/visible-area requires options.callback to be a function');\n  }\n\n  if (context === undefined) {\n    throw new TypeError('when/visible-area requires valid options.context');\n  }\n\n  if (typeof area !== 'number') {\n    area = 1;\n  }\n\n  const element = nodeArray(context)[0];\n  if (!element) {\n    throw new TypeError('when/visible-area requires valid options.context');\n  }\n\n  if (isVisible(element) && visibleArea(element) >= area && callback(element) !== false) {\n    // element is already visible, trivial escape\n    return null;\n  }\n\n  let raf;\n  const disengage = function() {\n    raf && cancelAnimationFrame(raf);\n  };\n\n  const runWhenReady = function() {\n    if (!isVisible(element) || visibleArea(element) < area || callback(element) === false) {\n      raf = requestAnimationFrame(runWhenReady);\n      return;\n    }\n\n    disengage();\n  };\n\n  runWhenReady();\n  return { disengage };\n}\n","// Array.prototype.findIndex - MIT License (c) 2013 Paul Miller <http://paulmillr.com>\n// For all details and docs: <https://github.com/paulmillr/Array.prototype.findIndex>\n(function (globals) {\n  if (Array.prototype.findIndex) return;\n\n  var findIndex = function(predicate) {\n    var list = Object(this);\n    var length = Math.max(0, list.length) >>> 0; // ES.ToUint32;\n    if (length === 0) return -1;\n    if (typeof predicate !== 'function' || Object.prototype.toString.call(predicate) !== '[object Function]') {\n      throw new TypeError('Array#findIndex: predicate must be a function');\n    }\n    var thisArg = arguments.length > 1 ? arguments[1] : undefined;\n    for (var i = 0; i < length; i++) {\n      if (predicate.call(thisArg, list[i], i, list)) return i;\n    }\n    return -1;\n  };\n\n  if (Object.defineProperty) {\n    try {\n      Object.defineProperty(Array.prototype, 'findIndex', {\n        value: findIndex, configurable: true, writable: true\n      });\n    } catch(e) {}\n  }\n\n  if (!Array.prototype.findIndex) {\n    Array.prototype.findIndex = findIndex;\n  }\n}(this));\n","/*! https://mths.be/cssescape v1.3.0 by @mathias | MIT license */\n;(function(root, factory) {\n\t// https://github.com/umdjs/umd/blob/master/returnExports.js\n\tif (typeof exports == 'object') {\n\t\t// For Node.js.\n\t\tmodule.exports = factory(root);\n\t} else if (typeof define == 'function' && define.amd) {\n\t\t// For AMD. Register as an anonymous module.\n\t\tdefine(factory.bind(root, root));\n\t} else {\n\t\t// For browser globals (not exposing the function separately).\n\t\tfactory(root);\n\t}\n}(typeof global != 'undefined' ? global : this, function(root) {\n\n\tif (root.CSS && root.CSS.escape) {\n\t\treturn root.CSS.escape;\n\t}\n\n\t// https://drafts.csswg.org/cssom/#serialize-an-identifier\n\tvar cssEscape = function(value) {\n\t\tvar string = String(value);\n\t\tvar length = string.length;\n\t\tvar index = -1;\n\t\tvar codeUnit;\n\t\tvar result = '';\n\t\tvar firstCodeUnit = string.charCodeAt(0);\n\t\twhile (++index < length) {\n\t\t\tcodeUnit = string.charCodeAt(index);\n\t\t\t// Note: there’s no need to special-case astral symbols, surrogate\n\t\t\t// pairs, or lone surrogates.\n\n\t\t\t// If the character is NULL (U+0000), then the REPLACEMENT CHARACTER\n\t\t\t// (U+FFFD) escaped as a code point.\n\t\t\tif (codeUnit == 0x0000) {\n\t\t\t\tresult += '\\\\fffd ';\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\t// If the character is in the range [\\1-\\1F] (U+0001 to U+001F) or is\n\t\t\t\t// U+007F, […]\n\t\t\t\t(codeUnit >= 0x0001 && codeUnit <= 0x001F) || codeUnit == 0x007F ||\n\t\t\t\t// If the character is the first character and is in the range [0-9]\n\t\t\t\t// (U+0030 to U+0039), […]\n\t\t\t\t(index == 0 && codeUnit >= 0x0030 && codeUnit <= 0x0039) ||\n\t\t\t\t// If the character is the second character and is in the range [0-9]\n\t\t\t\t// (U+0030 to U+0039) and the first character is a `-` (U+002D), […]\n\t\t\t\t(\n\t\t\t\t\tindex == 1 &&\n\t\t\t\t\tcodeUnit >= 0x0030 && codeUnit <= 0x0039 &&\n\t\t\t\t\tfirstCodeUnit == 0x002D\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\t// https://drafts.csswg.org/cssom/#escape-a-character-as-code-point\n\t\t\t\tresult += '\\\\' + codeUnit.toString(16) + ' ';\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\t// If the character is the first character and is a `-` (U+002D), and\n\t\t\t\t// there is no second character, […]\n\t\t\t\tindex == 0 &&\n\t\t\t\tlength == 1 &&\n\t\t\t\tcodeUnit == 0x002D\n\t\t\t) {\n\t\t\t\tresult += '\\\\' + string.charAt(index);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If the character is not handled by one of the above rules and is\n\t\t\t// greater than or equal to U+0080, is `-` (U+002D) or `_` (U+005F), or\n\t\t\t// is in one of the ranges [0-9] (U+0030 to U+0039), [A-Z] (U+0041 to\n\t\t\t// U+005A), or [a-z] (U+0061 to U+007A), […]\n\t\t\tif (\n\t\t\t\tcodeUnit >= 0x0080 ||\n\t\t\t\tcodeUnit == 0x002D ||\n\t\t\t\tcodeUnit == 0x005F ||\n\t\t\t\tcodeUnit >= 0x0030 && codeUnit <= 0x0039 ||\n\t\t\t\tcodeUnit >= 0x0041 && codeUnit <= 0x005A ||\n\t\t\t\tcodeUnit >= 0x0061 && codeUnit <= 0x007A\n\t\t\t) {\n\t\t\t\t// the character itself\n\t\t\t\tresult += string.charAt(index);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Otherwise, the escaped character.\n\t\t\t// https://drafts.csswg.org/cssom/#escape-a-character\n\t\t\tresult += '\\\\' + string.charAt(index);\n\n\t\t}\n\t\treturn result;\n\t};\n\n\tif (!root.CSS) {\n\t\troot.CSS = {};\n\t}\n\n\troot.CSS.escape = cssEscape;\n\treturn cssEscape;\n\n}));\n","/*! DOMTokenlist shim | Copyright 2015 Jonathan Wilsson and Bogdan Chadkin. */\n;(function (window) {\n    'use strict';\n\n    if (!window.DOMTokenList) {\n        return;\n    }\n\n    var el = document.createElement('a').classList;\n    var dtp = DOMTokenList.prototype;\n    var add = dtp.add;\n    var remove = dtp.remove;\n    var toggle = dtp.toggle;\n\n    el.add('c1', 'c2');\n\n    // Older versions of the HTMLElement.classList spec didn't allow multiple\n    // arguments, easy to test for\n    var iterateArg = function (fn) {\n        return function () {\n            var tokens = arguments;\n            var i;\n\n            for (i = 0; i < tokens.length; i += 1) {\n                fn.call(this, tokens[i]);\n            }\n        };\n    };\n\n    if (!el.contains('c2')) {\n        dtp.add = iterateArg(add);\n        dtp.remove = iterateArg(remove);\n    }\n\n    // Older versions of the spec didn't have a forcedState argument for\n    // `toggle` either, test by checking the return value after forcing\n    if (!el.toggle('c1', true)) {\n        dtp.toggle = function (cls, force) {\n            if (force === undefined) {\n                return toggle.call(this, cls);\n            }\n\n            (force ? add : remove).call(this, cls);\n            return !!force;\n        };\n    }\n}(window));\n\n;(function (window) {\n    'use strict';\n\n    if (window.DOMTokenList) {\n        return;\n    }\n\n    var arr = [];\n\n    var inArray = function (array, value) {\n        var i;\n\n        if (arr.indexOf) {\n            return arr.indexOf.call(array, value);\n        }\n\n        for (i = 0; i < array.length; i++) {\n            if (array[i] === value) {\n                return i;\n            }\n        }\n\n        return -1;\n    };\n\n    var validateToken = function (token) {\n        var whitespace = /[\\u0009\\u000A\\u000C\\u000D\\u0020]/;\n\n        if (token === '' || whitespace.test(token)) {\n            throw new Error('Token must not be empty or contain whitespace.');\n        }\n    };\n\n    var DOMTokenList = function (element, prop) {\n        var inst = this;\n        var i;\n        var values = [];\n\n        if (element && prop) {\n            inst.element = element;\n            inst.prop = prop;\n\n            if (element[prop]) {\n                values = element[prop].replace(/^\\s+|\\s+$/g, '').split(/\\s+/);\n\n                for (i = 0; i < values.length; i++) {\n                    inst[i] = values[i];\n                }\n            }\n        }\n\n        inst.length = values.length;\n    };\n\n    DOMTokenList.prototype = {\n        add: function () {\n            var inst = this;\n            var i;\n            var tokens = arguments;\n\n            for (i = 0; i < tokens.length; i++) {\n                validateToken(tokens[i]);\n\n                if (!inst.contains(tokens[i])) {\n                    arr.push.call(inst, tokens[i]);\n                }\n            }\n\n            if (inst.element) {\n                inst.element[inst.prop] = inst;\n            }\n        },\n\n        contains: function (token) {\n            validateToken(token);\n\n            return inArray(this, token) !== -1;\n        },\n\n        item: function (index) {\n            return this[index] || null;\n        },\n\n        remove: function () {\n            var tokens = arguments;\n            var inst = this;\n            var key;\n            var i;\n\n            for (i = 0; i < tokens.length; i++) {\n                validateToken(tokens[i]);\n\n                key = inArray(inst, tokens[i]);\n\n                if (key !== -1) {\n                    arr.splice.call(inst, key, 1);\n                }\n            }\n\n            if (inst.element) {\n                inst.element[inst.prop] = inst;\n            }\n        },\n\n        toggle: function (token, force) {\n            var inst = this;\n\n            if (inst.contains(token)) {\n                if (force) {\n                    return true;\n                }\n\n                inst.remove(token);\n\n                return false;\n            } else {\n                if (force === false) {\n                    return false;\n                }\n\n                inst.add(token);\n\n                return true;\n            }\n        },\n\n        toString: function () {\n            return arr.join.call(this, ' ');\n        }\n    };\n\n    window.DOMTokenList = DOMTokenList;\n}(window));\n\n;(function () {\n    'use strict';\n\n    if ('classList' in document.createElement('a') && !window.QUnit) {\n        return;\n    }\n\n    Object.defineProperty(Element.prototype, 'classList', {\n        get: function () {\n            return new DOMTokenList(this, 'className');\n        }\n    });\n}());\n\n;(function () {\n    'use strict';\n\n    if ('relList' in document.createElement('a') && !window.QUnit) {\n        return;\n    }\n\n    var i;\n    var elements = [HTMLAnchorElement, HTMLAreaElement, HTMLLinkElement];\n    var getter = function () {\n        return new DOMTokenList(this, 'rel');\n    };\n\n    for (i = 0; i < elements.length; i++) {\n        Object.defineProperty(elements[i].prototype, 'relList', {\n            get: getter\n        });\n    }\n}());\n","/*!\n * Platform.js v1.3.0 <http://mths.be/platform>\n * Copyright 2010-2014 John-David Dalton <http://allyoucanleet.com/>\n * Available under MIT license <http://mths.be/mit>\n */\n;(function() {\n  'use strict';\n\n  /** Used to determine if values are of the language type `Object` */\n  var objectTypes = {\n    'function': true,\n    'object': true\n  };\n\n  /** Used as a reference to the global object */\n  var root = (objectTypes[typeof window] && window) || this;\n\n  /** Backup possible global object */\n  var oldRoot = root;\n\n  /** Detect free variable `exports` */\n  var freeExports = objectTypes[typeof exports] && exports;\n\n  /** Detect free variable `module` */\n  var freeModule = objectTypes[typeof module] && module && !module.nodeType && module;\n\n  /** Detect free variable `global` from Node.js or Browserified code and use it as `root` */\n  var freeGlobal = freeExports && freeModule && typeof global == 'object' && global;\n  if (freeGlobal && (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal || freeGlobal.self === freeGlobal)) {\n    root = freeGlobal;\n  }\n\n  /**\n   * Used as the maximum length of an array-like object.\n   * See the [ES6 spec](http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength)\n   * for more details.\n   */\n  var maxSafeInteger = Math.pow(2, 53) - 1;\n\n  /** Opera regexp */\n  var reOpera = /\\bOpera/;\n\n  /** Possible global object */\n  var thisBinding = this;\n\n  /** Used for native method references */\n  var objectProto = Object.prototype;\n\n  /** Used to check for own properties of an object */\n  var hasOwnProperty = objectProto.hasOwnProperty;\n\n  /** Used to resolve the internal `[[Class]]` of values */\n  var toString = objectProto.toString;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Capitalizes a string value.\n   *\n   * @private\n   * @param {string} string The string to capitalize.\n   * @returns {string} The capitalized string.\n   */\n  function capitalize(string) {\n    string = String(string);\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n\n  /**\n   * A utility function to clean up the OS name.\n   *\n   * @private\n   * @param {string} os The OS name to clean up.\n   * @param {string} [pattern] A `RegExp` pattern matching the OS name.\n   * @param {string} [label] A label for the OS.\n   */\n  function cleanupOS(os, pattern, label) {\n    // platform tokens defined at\n    // http://msdn.microsoft.com/en-us/library/ms537503(VS.85).aspx\n    // http://web.archive.org/web/20081122053950/http://msdn.microsoft.com/en-us/library/ms537503(VS.85).aspx\n    var data = {\n      '6.4':  '10',\n      '6.3':  '8.1',\n      '6.2':  '8',\n      '6.1':  'Server 2008 R2 / 7',\n      '6.0':  'Server 2008 / Vista',\n      '5.2':  'Server 2003 / XP 64-bit',\n      '5.1':  'XP',\n      '5.01': '2000 SP1',\n      '5.0':  '2000',\n      '4.0':  'NT',\n      '4.90': 'ME'\n    };\n    // detect Windows version from platform tokens\n    if (pattern && label && /^Win/i.test(os) &&\n        (data = data[0/*Opera 9.25 fix*/, /[\\d.]+$/.exec(os)])) {\n      os = 'Windows ' + data;\n    }\n    // correct character case and cleanup\n    os = String(os);\n\n    if (pattern && label) {\n      os = os.replace(RegExp(pattern, 'i'), label);\n    }\n\n    os = format(\n      os.replace(/ ce$/i, ' CE')\n        .replace(/\\bhpw/i, 'web')\n        .replace(/\\bMacintosh\\b/, 'Mac OS')\n        .replace(/_PowerPC\\b/i, ' OS')\n        .replace(/\\b(OS X) [^ \\d]+/i, '$1')\n        .replace(/\\bMac (OS X)\\b/, '$1')\n        .replace(/\\/(\\d)/, ' $1')\n        .replace(/_/g, '.')\n        .replace(/(?: BePC|[ .]*fc[ \\d.]+)$/i, '')\n        .replace(/\\bx86\\.64\\b/gi, 'x86_64')\n        .replace(/\\b(Windows Phone) OS\\b/, '$1')\n        .split(' on ')[0]\n    );\n\n    return os;\n  }\n\n  /**\n   * An iteration utility for arrays and objects.\n   *\n   * @private\n   * @param {Array|Object} object The object to iterate over.\n   * @param {Function} callback The function called per iteration.\n   */\n  function each(object, callback) {\n    var index = -1,\n        length = object ? object.length : 0;\n\n    if (typeof length == 'number' && length > -1 && length <= maxSafeInteger) {\n      while (++index < length) {\n        callback(object[index], index, object);\n      }\n    } else {\n      forOwn(object, callback);\n    }\n  }\n\n  /**\n   * Trim and conditionally capitalize string values.\n   *\n   * @private\n   * @param {string} string The string to format.\n   * @returns {string} The formatted string.\n   */\n  function format(string) {\n    string = trim(string);\n    return /^(?:webOS|i(?:OS|P))/.test(string)\n      ? string\n      : capitalize(string);\n  }\n\n  /**\n   * Iterates over an object's own properties, executing the `callback` for each.\n   *\n   * @private\n   * @param {Object} object The object to iterate over.\n   * @param {Function} callback The function executed per own property.\n   */\n  function forOwn(object, callback) {\n    for (var key in object) {\n      if (hasOwnProperty.call(object, key)) {\n        callback(object[key], key, object);\n      }\n    }\n  }\n\n  /**\n   * Gets the internal `[[Class]]` of a value.\n   *\n   * @private\n   * @param {*} value The value.\n   * @returns {string} The `[[Class]]`.\n   */\n  function getClassOf(value) {\n    return value == null\n      ? capitalize(value)\n      : toString.call(value).slice(8, -1);\n  }\n\n  /**\n   * Host objects can return type values that are different from their actual\n   * data type. The objects we are concerned with usually return non-primitive\n   * types of \"object\", \"function\", or \"unknown\".\n   *\n   * @private\n   * @param {*} object The owner of the property.\n   * @param {string} property The property to check.\n   * @returns {boolean} Returns `true` if the property value is a non-primitive, else `false`.\n   */\n  function isHostType(object, property) {\n    var type = object != null ? typeof object[property] : 'number';\n    return !/^(?:boolean|number|string|undefined)$/.test(type) &&\n      (type == 'object' ? !!object[property] : true);\n  }\n\n  /**\n   * Prepares a string for use in a `RegExp` by making hyphens and spaces optional.\n   *\n   * @private\n   * @param {string} string The string to qualify.\n   * @returns {string} The qualified string.\n   */\n  function qualify(string) {\n    return String(string).replace(/([ -])(?!$)/g, '$1?');\n  }\n\n  /**\n   * A bare-bones `Array#reduce` like utility function.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} callback The function called per iteration.\n   * @returns {*} The accumulated result.\n   */\n  function reduce(array, callback) {\n    var accumulator = null;\n    each(array, function(value, index) {\n      accumulator = callback(accumulator, value, index, array);\n    });\n    return accumulator;\n  }\n\n  /**\n   * Removes leading and trailing whitespace from a string.\n   *\n   * @private\n   * @param {string} string The string to trim.\n   * @returns {string} The trimmed string.\n   */\n  function trim(string) {\n    return String(string).replace(/^ +| +$/g, '');\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates a new platform object.\n   *\n   * @memberOf platform\n   * @param {Object|string} [ua=navigator.userAgent] The user agent string or\n   *  context object.\n   * @returns {Object} A platform object.\n   */\n  function parse(ua) {\n\n    /** The environment context object */\n    var context = root;\n\n    /** Used to flag when a custom context is provided */\n    var isCustomContext = ua && typeof ua == 'object' && getClassOf(ua) != 'String';\n\n    // juggle arguments\n    if (isCustomContext) {\n      context = ua;\n      ua = null;\n    }\n\n    /** Browser navigator object */\n    var nav = context.navigator || {};\n\n    /** Browser user agent string */\n    var userAgent = nav.userAgent || '';\n\n    ua || (ua = userAgent);\n\n    /** Used to flag when `thisBinding` is the [ModuleScope] */\n    var isModuleScope = isCustomContext || thisBinding == oldRoot;\n\n    /** Used to detect if browser is like Chrome */\n    var likeChrome = isCustomContext\n      ? !!nav.likeChrome\n      : /\\bChrome\\b/.test(ua) && !/internal|\\n/i.test(toString.toString());\n\n    /** Internal `[[Class]]` value shortcuts */\n    var objectClass = 'Object',\n        airRuntimeClass = isCustomContext ? objectClass : 'ScriptBridgingProxyObject',\n        enviroClass = isCustomContext ? objectClass : 'Environment',\n        javaClass = (isCustomContext && context.java) ? 'JavaPackage' : getClassOf(context.java),\n        phantomClass = isCustomContext ? objectClass : 'RuntimeObject';\n\n    /** Detect Java environment */\n    var java = /\\bJava/.test(javaClass) && context.java;\n\n    /** Detect Rhino */\n    var rhino = java && getClassOf(context.environment) == enviroClass;\n\n    /** A character to represent alpha */\n    var alpha = java ? 'a' : '\\u03b1';\n\n    /** A character to represent beta */\n    var beta = java ? 'b' : '\\u03b2';\n\n    /** Browser document object */\n    var doc = context.document || {};\n\n    /**\n     * Detect Opera browser (Presto-based)\n     * http://www.howtocreate.co.uk/operaStuff/operaObject.html\n     * http://dev.opera.com/articles/view/opera-mini-web-content-authoring-guidelines/#operamini\n     */\n    var opera = context.operamini || context.opera;\n\n    /** Opera `[[Class]]` */\n    var operaClass = reOpera.test(operaClass = (isCustomContext && opera) ? opera['[[Class]]'] : getClassOf(opera))\n      ? operaClass\n      : (opera = null);\n\n    /*------------------------------------------------------------------------*/\n\n    /** Temporary variable used over the script's lifetime */\n    var data;\n\n    /** The CPU architecture */\n    var arch = ua;\n\n    /** Platform description array */\n    var description = [];\n\n    /** Platform alpha/beta indicator */\n    var prerelease = null;\n\n    /** A flag to indicate that environment features should be used to resolve the platform */\n    var useFeatures = ua == userAgent;\n\n    /** The browser/environment version */\n    var version = useFeatures && opera && typeof opera.version == 'function' && opera.version();\n\n    /** A flag to indicate if the OS ends with \"/ Version\" */\n    var isSpecialCasedOS;\n\n    /* Detectable layout engines (order is important) */\n    var layout = getLayout([\n      'Trident',\n      { 'label': 'WebKit', 'pattern': 'AppleWebKit' },\n      'iCab',\n      'Presto',\n      'NetFront',\n      'Tasman',\n      'KHTML',\n      'Gecko'\n    ]);\n\n    /* Detectable browser names (order is important) */\n    var name = getName([\n      'Adobe AIR',\n      'Arora',\n      'Avant Browser',\n      'Breach',\n      'Camino',\n      'Epiphany',\n      'Fennec',\n      'Flock',\n      'Galeon',\n      'GreenBrowser',\n      'iCab',\n      'Iceweasel',\n      { 'label': 'SRWare Iron', 'pattern': 'Iron' },\n      'K-Meleon',\n      'Konqueror',\n      'Lunascape',\n      'Maxthon',\n      'Midori',\n      'Nook Browser',\n      'PhantomJS',\n      'Raven',\n      'Rekonq',\n      'RockMelt',\n      'SeaMonkey',\n      { 'label': 'Silk', 'pattern': '(?:Cloud9|Silk-Accelerated)' },\n      'Sleipnir',\n      'SlimBrowser',\n      'Sunrise',\n      'Swiftfox',\n      'WebPositive',\n      'Opera Mini',\n      { 'label': 'Opera Mini', 'pattern': 'OPiOS' },\n      'Opera',\n      { 'label': 'Opera', 'pattern': 'OPR' },\n      'Chrome',\n      { 'label': 'Chrome Mobile', 'pattern': '(?:CriOS|CrMo)' },\n      { 'label': 'Firefox', 'pattern': '(?:Firefox|Minefield)' },\n      { 'label': 'IE', 'pattern': 'IEMobile' },\n      { 'label': 'IE', 'pattern': 'MSIE' },\n      'Safari'\n    ]);\n\n    /* Detectable products (order is important) */\n    var product = getProduct([\n      { 'label': 'BlackBerry', 'pattern': 'BB10' },\n      'BlackBerry',\n      { 'label': 'Galaxy S', 'pattern': 'GT-I9000' },\n      { 'label': 'Galaxy S2', 'pattern': 'GT-I9100' },\n      { 'label': 'Galaxy S3', 'pattern': 'GT-I9300' },\n      { 'label': 'Galaxy S4', 'pattern': 'GT-I9500' },\n      'Google TV',\n      'Lumia',\n      'iPad',\n      'iPod',\n      'iPhone',\n      'Kindle',\n      { 'label': 'Kindle Fire', 'pattern': '(?:Cloud9|Silk-Accelerated)' },\n      'Nook',\n      'PlayBook',\n      'PlayStation 4',\n      'PlayStation 3',\n      'PlayStation Vita',\n      'TouchPad',\n      'Transformer',\n      { 'label': 'Wii U', 'pattern': 'WiiU' },\n      'Wii',\n      'Xbox One',\n      { 'label': 'Xbox 360', 'pattern': 'Xbox' },\n      'Xoom'\n    ]);\n\n    /* Detectable manufacturers */\n    var manufacturer = getManufacturer({\n      'Apple': { 'iPad': 1, 'iPhone': 1, 'iPod': 1 },\n      'Amazon': { 'Kindle': 1, 'Kindle Fire': 1 },\n      'Asus': { 'Transformer': 1 },\n      'Barnes & Noble': { 'Nook': 1 },\n      'BlackBerry': { 'PlayBook': 1 },\n      'Google': { 'Google TV': 1 },\n      'HP': { 'TouchPad': 1 },\n      'HTC': {},\n      'LG': {},\n      'Microsoft': { 'Xbox': 1, 'Xbox One': 1 },\n      'Motorola': { 'Xoom': 1 },\n      'Nintendo': { 'Wii U': 1,  'Wii': 1 },\n      'Nokia': { 'Lumia': 1 },\n      'Samsung': { 'Galaxy S': 1, 'Galaxy S2': 1, 'Galaxy S3': 1, 'Galaxy S4': 1 },\n      'Sony': { 'PlayStation 4': 1, 'PlayStation 3': 1, 'PlayStation Vita': 1 }\n    });\n\n    /* Detectable OSes (order is important) */\n    var os = getOS([\n      'Windows Phone ',\n      'Android',\n      'CentOS',\n      'Debian',\n      'Fedora',\n      'FreeBSD',\n      'Gentoo',\n      'Haiku',\n      'Kubuntu',\n      'Linux Mint',\n      'Red Hat',\n      'SuSE',\n      'Ubuntu',\n      'Xubuntu',\n      'Cygwin',\n      'Symbian OS',\n      'hpwOS',\n      'webOS ',\n      'webOS',\n      'Tablet OS',\n      'Linux',\n      'Mac OS X',\n      'Macintosh',\n      'Mac',\n      'Windows 98;',\n      'Windows '\n    ]);\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Picks the layout engine from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected layout engine.\n     */\n    function getLayout(guesses) {\n      return reduce(guesses, function(result, guess) {\n        return result || RegExp('\\\\b' + (\n          guess.pattern || qualify(guess)\n        ) + '\\\\b', 'i').exec(ua) && (guess.label || guess);\n      });\n    }\n\n    /**\n     * Picks the manufacturer from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An object of guesses.\n     * @returns {null|string} The detected manufacturer.\n     */\n    function getManufacturer(guesses) {\n      return reduce(guesses, function(result, value, key) {\n        // lookup the manufacturer by product or scan the UA for the manufacturer\n        return result || (\n          value[product] ||\n          value[0/*Opera 9.25 fix*/, /^[a-z]+(?: +[a-z]+\\b)*/i.exec(product)] ||\n          RegExp('\\\\b' + qualify(key) + '(?:\\\\b|\\\\w*\\\\d)', 'i').exec(ua)\n        ) && key;\n      });\n    }\n\n    /**\n     * Picks the browser name from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected browser name.\n     */\n    function getName(guesses) {\n      return reduce(guesses, function(result, guess) {\n        return result || RegExp('\\\\b' + (\n          guess.pattern || qualify(guess)\n        ) + '\\\\b', 'i').exec(ua) && (guess.label || guess);\n      });\n    }\n\n    /**\n     * Picks the OS name from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected OS name.\n     */\n    function getOS(guesses) {\n      return reduce(guesses, function(result, guess) {\n        var pattern = guess.pattern || qualify(guess);\n        if (!result && (result =\n              RegExp('\\\\b' + pattern + '(?:/[\\\\d.]+|[ \\\\w.]*)', 'i').exec(ua)\n            )) {\n          result = cleanupOS(result, pattern, guess.label || guess);\n        }\n        return result;\n      });\n    }\n\n    /**\n     * Picks the product name from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected product name.\n     */\n    function getProduct(guesses) {\n      return reduce(guesses, function(result, guess) {\n        var pattern = guess.pattern || qualify(guess);\n        if (!result && (result =\n              RegExp('\\\\b' + pattern + ' *\\\\d+[.\\\\w_]*', 'i').exec(ua) ||\n              RegExp('\\\\b' + pattern + '(?:; *(?:[a-z]+[_-])?[a-z]+\\\\d+|[^ ();-]*)', 'i').exec(ua)\n            )) {\n          // split by forward slash and append product version if needed\n          if ((result = String((guess.label && !RegExp(pattern, 'i').test(guess.label)) ? guess.label : result).split('/'))[1] && !/[\\d.]+/.test(result[0])) {\n            result[0] += ' ' + result[1];\n          }\n          // correct character case and cleanup\n          guess = guess.label || guess;\n          result = format(result[0]\n            .replace(RegExp(pattern, 'i'), guess)\n            .replace(RegExp('; *(?:' + guess + '[_-])?', 'i'), ' ')\n            .replace(RegExp('(' + guess + ')[-_.]?(\\\\w)', 'i'), '$1 $2'));\n        }\n        return result;\n      });\n    }\n\n    /**\n     * Resolves the version using an array of UA patterns.\n     *\n     * @private\n     * @param {Array} patterns An array of UA patterns.\n     * @returns {null|string} The detected version.\n     */\n    function getVersion(patterns) {\n      return reduce(patterns, function(result, pattern) {\n        return result || (RegExp(pattern +\n          '(?:-[\\\\d.]+/|(?: for [\\\\w-]+)?[ /-])([\\\\d.]+[^ ();/_-]*)', 'i').exec(ua) || 0)[1] || null;\n      });\n    }\n\n    /**\n     * Returns `platform.description` when the platform object is coerced to a string.\n     *\n     * @name toString\n     * @memberOf platform\n     * @returns {string} Returns `platform.description` if available, else an empty string.\n     */\n    function toStringPlatform() {\n      return this.description || '';\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // convert layout to an array so we can add extra details\n    layout && (layout = [layout]);\n\n    // detect product names that contain their manufacturer's name\n    if (manufacturer && !product) {\n      product = getProduct([manufacturer]);\n    }\n    // clean up Google TV\n    if ((data = /\\bGoogle TV\\b/.exec(product))) {\n      product = data[0];\n    }\n    // detect simulators\n    if (/\\bSimulator\\b/i.test(ua)) {\n      product = (product ? product + ' ' : '') + 'Simulator';\n    }\n    // detect Opera Mini 8+ running in Turbo/Uncompressed mode on iOS\n    if (name == 'Opera Mini' && /\\bOPiOS\\b/.test(ua)) {\n      description.push('running in Turbo/Uncompressed mode');\n    }\n    // detect iOS\n    if (/^iP/.test(product)) {\n      name || (name = 'Safari');\n      os = 'iOS' + ((data = / OS ([\\d_]+)/i.exec(ua))\n        ? ' ' + data[1].replace(/_/g, '.')\n        : '');\n    }\n    // detect Kubuntu\n    else if (name == 'Konqueror' && !/buntu/i.test(os)) {\n      os = 'Kubuntu';\n    }\n    // detect Android browsers\n    else if (manufacturer && manufacturer != 'Google' &&\n        ((/Chrome/.test(name) && !/\\bMobile Safari\\b/i.test(ua)) || /\\bVita\\b/.test(product))) {\n      name = 'Android Browser';\n      os = /\\bAndroid\\b/.test(os) ? os : 'Android';\n    }\n    // detect false positives for Firefox/Safari\n    else if (!name || (data = !/\\bMinefield\\b|\\(Android;/i.test(ua) && /\\b(?:Firefox|Safari)\\b/.exec(name))) {\n      // escape the `/` for Firefox 1\n      if (name && !product && /[\\/,]|^[^(]+?\\)/.test(ua.slice(ua.indexOf(data + '/') + 8))) {\n        // clear name of false positives\n        name = null;\n      }\n      // reassign a generic name\n      if ((data = product || manufacturer || os) &&\n          (product || manufacturer || /\\b(?:Android|Symbian OS|Tablet OS|webOS)\\b/.test(os))) {\n        name = /[a-z]+(?: Hat)?/i.exec(/\\bAndroid\\b/.test(os) ? os : data) + ' Browser';\n      }\n    }\n    // detect Firefox OS\n    if ((data = /\\((Mobile|Tablet).*?Firefox\\b/i.exec(ua)) && data[1]) {\n      os = 'Firefox OS';\n      if (!product) {\n        product = data[1];\n      }\n    }\n    // detect non-Opera versions (order is important)\n    if (!version) {\n      version = getVersion([\n        '(?:Cloud9|CriOS|CrMo|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|Silk(?!/[\\\\d.]+$))',\n        'Version',\n        qualify(name),\n        '(?:Firefox|Minefield|NetFront)'\n      ]);\n    }\n    // detect stubborn layout engines\n    if (layout == 'iCab' && parseFloat(version) > 3) {\n      layout = ['WebKit'];\n    } else if (\n        layout != 'Trident' &&\n        (data =\n          /\\bOpera\\b/.test(name) && (/\\bOPR\\b/.test(ua) ? 'Blink' : 'Presto') ||\n          /\\b(?:Midori|Nook|Safari)\\b/i.test(ua) && 'WebKit' ||\n          !layout && /\\bMSIE\\b/i.test(ua) && (os == 'Mac OS' ? 'Tasman' : 'Trident')\n        )\n    ) {\n      layout = [data];\n    }\n    // detect NetFront on PlayStation\n    else if (/\\bPlayStation\\b(?! Vita\\b)/i.test(name) && layout == 'WebKit') {\n      layout = ['NetFront'];\n    }\n    // detect Windows Phone 7 desktop mode\n    if (name == 'IE' && (data = (/; *(?:XBLWP|ZuneWP)(\\d+)/i.exec(ua) || 0)[1])) {\n      name += ' Mobile';\n      os = 'Windows Phone ' + (/\\+$/.test(data) ? data : data + '.x');\n      description.unshift('desktop mode');\n    }\n    // detect Windows Phone 8+ desktop mode\n    else if (/\\bWPDesktop\\b/i.test(ua)) {\n      name = 'IE Mobile';\n      os = 'Windows Phone 8+';\n      description.unshift('desktop mode');\n      version || (version = (/\\brv:([\\d.]+)/.exec(ua) || 0)[1]);\n    }\n    // detect IE 11 and above\n    else if (name != 'IE' && layout == 'Trident' && (data = /\\brv:([\\d.]+)/.exec(ua))) {\n      if (!/\\bWPDesktop\\b/i.test(ua)) {\n        if (name) {\n          description.push('identifying as ' + name + (version ? ' ' + version : ''));\n        }\n        name = 'IE';\n      }\n      version = data[1];\n    }\n    // detect IE Tech Preview\n    else if ((name == 'Chrome' || name != 'IE') && (data = /\\bEdge\\/([\\d.]+)/.exec(ua))) {\n      name = 'IE';\n      version = data[1];\n      layout = ['Trident'];\n      description.unshift('platform preview');\n    }\n    // leverage environment features\n    if (useFeatures) {\n      // detect server-side environments\n      // Rhino has a global function while others have a global object\n      if (isHostType(context, 'global')) {\n        if (java) {\n          data = java.lang.System;\n          arch = data.getProperty('os.arch');\n          os = os || data.getProperty('os.name') + ' ' + data.getProperty('os.version');\n        }\n        if (isModuleScope && isHostType(context, 'system') && (data = [context.system])[0]) {\n          os || (os = data[0].os || null);\n          try {\n            data[1] = context.require('ringo/engine').version;\n            version = data[1].join('.');\n            name = 'RingoJS';\n          } catch(e) {\n            if (data[0].global.system == context.system) {\n              name = 'Narwhal';\n            }\n          }\n        }\n        else if (typeof context.process == 'object' && (data = context.process)) {\n          name = 'Node.js';\n          arch = data.arch;\n          os = data.platform;\n          version = /[\\d.]+/.exec(data.version)[0];\n        }\n        else if (rhino) {\n          name = 'Rhino';\n        }\n      }\n      // detect Adobe AIR\n      else if (getClassOf((data = context.runtime)) == airRuntimeClass) {\n        name = 'Adobe AIR';\n        os = data.flash.system.Capabilities.os;\n      }\n      // detect PhantomJS\n      else if (getClassOf((data = context.phantom)) == phantomClass) {\n        name = 'PhantomJS';\n        version = (data = data.version || null) && (data.major + '.' + data.minor + '.' + data.patch);\n      }\n      // detect IE compatibility modes\n      else if (typeof doc.documentMode == 'number' && (data = /\\bTrident\\/(\\d+)/i.exec(ua))) {\n        // we're in compatibility mode when the Trident version + 4 doesn't\n        // equal the document mode\n        version = [version, doc.documentMode];\n        if ((data = +data[1] + 4) != version[1]) {\n          description.push('IE ' + version[1] + ' mode');\n          layout && (layout[1] = '');\n          version[1] = data;\n        }\n        version = name == 'IE' ? String(version[1].toFixed(1)) : version[0];\n      }\n      os = os && format(os);\n    }\n    // detect prerelease phases\n    if (version && (data =\n          /(?:[ab]|dp|pre|[ab]\\d+pre)(?:\\d+\\+?)?$/i.exec(version) ||\n          /(?:alpha|beta)(?: ?\\d)?/i.exec(ua + ';' + (useFeatures && nav.appMinorVersion)) ||\n          /\\bMinefield\\b/i.test(ua) && 'a'\n        )) {\n      prerelease = /b/i.test(data) ? 'beta' : 'alpha';\n      version = version.replace(RegExp(data + '\\\\+?$'), '') +\n        (prerelease == 'beta' ? beta : alpha) + (/\\d+\\+?/.exec(data) || '');\n    }\n    // detect Firefox Mobile\n    if (name == 'Fennec' || name == 'Firefox' && /\\b(?:Android|Firefox OS)\\b/.test(os)) {\n      name = 'Firefox Mobile';\n    }\n    // obscure Maxthon's unreliable version\n    else if (name == 'Maxthon' && version) {\n      version = version.replace(/\\.[\\d.]+/, '.x');\n    }\n    // detect Silk desktop/accelerated modes\n    else if (name == 'Silk') {\n      if (!/\\bMobi/i.test(ua)) {\n        os = 'Android';\n        description.unshift('desktop mode');\n      }\n      if (/Accelerated *= *true/i.test(ua)) {\n        description.unshift('accelerated');\n      }\n    }\n    // detect Xbox 360 and Xbox One\n    else if (/\\bXbox\\b/i.test(product)) {\n      os = null;\n      if (product == 'Xbox 360' && /\\bIEMobile\\b/.test(ua)) {\n        description.unshift('mobile mode');\n      }\n    }\n    // add mobile postfix\n    else if ((/^(?:Chrome|IE|Opera)$/.test(name) || name && !product && !/Browser|Mobi/.test(name)) &&\n        (os == 'Windows CE' || /Mobi/i.test(ua))) {\n      name += ' Mobile';\n    }\n    // detect IE platform preview\n    else if (name == 'IE' && useFeatures && context.external === null) {\n      description.unshift('platform preview');\n    }\n    // detect BlackBerry OS version\n    // http://docs.blackberry.com/en/developers/deliverables/18169/HTTP_headers_sent_by_BB_Browser_1234911_11.jsp\n    else if ((/\\bBlackBerry\\b/.test(product) || /\\bBB10\\b/.test(ua)) && (data =\n          (RegExp(product.replace(/ +/g, ' *') + '/([.\\\\d]+)', 'i').exec(ua) || 0)[1] ||\n          version\n        )) {\n      data = [data, /BB10/.test(ua)];\n      os = (data[1] ? (product = null, manufacturer = 'BlackBerry') : 'Device Software') + ' ' + data[0];\n      version = null;\n    }\n    // detect Opera identifying/masking itself as another browser\n    // http://www.opera.com/support/kb/view/843/\n    else if (this != forOwn && (\n          product != 'Wii' && (\n            (useFeatures && opera) ||\n            (/Opera/.test(name) && /\\b(?:MSIE|Firefox)\\b/i.test(ua)) ||\n            (name == 'Firefox' && /\\bOS X (?:\\d+\\.){2,}/.test(os)) ||\n            (name == 'IE' && (\n              (os && !/^Win/.test(os) && version > 5.5) ||\n              /\\bWindows XP\\b/.test(os) && version > 8 ||\n              version == 8 && !/\\bTrident\\b/.test(ua)\n            ))\n          )\n        ) && !reOpera.test((data = parse.call(forOwn, ua.replace(reOpera, '') + ';'))) && data.name) {\n\n      // when \"indentifying\", the UA contains both Opera and the other browser's name\n      data = 'ing as ' + data.name + ((data = data.version) ? ' ' + data : '');\n      if (reOpera.test(name)) {\n        if (/\\bIE\\b/.test(data) && os == 'Mac OS') {\n          os = null;\n        }\n        data = 'identify' + data;\n      }\n      // when \"masking\", the UA contains only the other browser's name\n      else {\n        data = 'mask' + data;\n        if (operaClass) {\n          name = format(operaClass.replace(/([a-z])([A-Z])/g, '$1 $2'));\n        } else {\n          name = 'Opera';\n        }\n        if (/\\bIE\\b/.test(data)) {\n          os = null;\n        }\n        if (!useFeatures) {\n          version = null;\n        }\n      }\n      layout = ['Presto'];\n      description.push(data);\n    }\n    // detect WebKit Nightly and approximate Chrome/Safari versions\n    if ((data = (/\\bAppleWebKit\\/([\\d.]+\\+?)/i.exec(ua) || 0)[1])) {\n      // correct build for numeric comparison\n      // (e.g. \"532.5\" becomes \"532.05\")\n      data = [parseFloat(data.replace(/\\.(\\d)$/, '.0$1')), data];\n      // nightly builds are postfixed with a `+`\n      if (name == 'Safari' && data[1].slice(-1) == '+') {\n        name = 'WebKit Nightly';\n        prerelease = 'alpha';\n        version = data[1].slice(0, -1);\n      }\n      // clear incorrect browser versions\n      else if (version == data[1] ||\n          version == (data[2] = (/\\bSafari\\/([\\d.]+\\+?)/i.exec(ua) || 0)[1])) {\n        version = null;\n      }\n      // use the full Chrome version when available\n      data[1] = (/\\bChrome\\/([\\d.]+)/i.exec(ua) || 0)[1];\n      // detect Blink layout engine\n      if (data[0] == 537.36 && data[2] == 537.36 && parseFloat(data[1]) >= 28 && name != 'IE') {\n        layout = ['Blink'];\n      }\n      // detect JavaScriptCore\n      // http://stackoverflow.com/questions/6768474/how-can-i-detect-which-javascript-engine-v8-or-jsc-is-used-at-runtime-in-androi\n      if (!useFeatures || (!likeChrome && !data[1])) {\n        layout && (layout[1] = 'like Safari');\n        data = (data = data[0], data < 400 ? 1 : data < 500 ? 2 : data < 526 ? 3 : data < 533 ? 4 : data < 534 ? '4+' : data < 535 ? 5 : data < 537 ? 6 : data < 538 ? 7 : data < 601 ? 8 : '8');\n      } else {\n        layout && (layout[1] = 'like Chrome');\n        data = data[1] || (data = data[0], data < 530 ? 1 : data < 532 ? 2 : data < 532.05 ? 3 : data < 533 ? 4 : data < 534.03 ? 5 : data < 534.07 ? 6 : data < 534.10 ? 7 : data < 534.13 ? 8 : data < 534.16 ? 9 : data < 534.24 ? 10 : data < 534.30 ? 11 : data < 535.01 ? 12 : data < 535.02 ? '13+' : data < 535.07 ? 15 : data < 535.11 ? 16 : data < 535.19 ? 17 : data < 536.05 ? 18 : data < 536.10 ? 19 : data < 537.01 ? 20 : data < 537.11 ? '21+' : data < 537.13 ? 23 : data < 537.18 ? 24 : data < 537.24 ? 25 : data < 537.36 ? 26 : layout != 'Blink' ? '27' : '28');\n      }\n      // add the postfix of \".x\" or \"+\" for approximate versions\n      layout && (layout[1] += ' ' + (data += typeof data == 'number' ? '.x' : /[.+]/.test(data) ? '' : '+'));\n      // obscure version for some Safari 1-2 releases\n      if (name == 'Safari' && (!version || parseInt(version) > 45)) {\n        version = data;\n      }\n    }\n    // detect Opera desktop modes\n    if (name == 'Opera' &&  (data = /\\bzbov|zvav$/.exec(os))) {\n      name += ' ';\n      description.unshift('desktop mode');\n      if (data == 'zvav') {\n        name += 'Mini';\n        version = null;\n      } else {\n        name += 'Mobile';\n      }\n      os = os.replace(RegExp(' *' + data + '$'), '');\n    }\n    // detect Chrome desktop mode\n    else if (name == 'Safari' && /\\bChrome\\b/.exec(layout && layout[1])) {\n      description.unshift('desktop mode');\n      name = 'Chrome Mobile';\n      version = null;\n\n      if (/\\bOS X\\b/.test(os)) {\n        manufacturer = 'Apple';\n        os = 'iOS 4.3+';\n      } else {\n        os = null;\n      }\n    }\n    // strip incorrect OS versions\n    if (version && version.indexOf((data = /[\\d.]+$/.exec(os))) == 0 &&\n        ua.indexOf('/' + data + '-') > -1) {\n      os = trim(os.replace(data, ''));\n    }\n    // add layout engine\n    if (layout && !/\\b(?:Avant|Nook)\\b/.test(name) && (\n        /Browser|Lunascape|Maxthon/.test(name) ||\n        /^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Sleipnir|Web)/.test(name) && layout[1])) {\n      // don't add layout details to description if they are falsey\n      (data = layout[layout.length - 1]) && description.push(data);\n    }\n    // combine contextual information\n    if (description.length) {\n      description = ['(' + description.join('; ') + ')'];\n    }\n    // append manufacturer\n    if (manufacturer && product && product.indexOf(manufacturer) < 0) {\n      description.push('on ' + manufacturer);\n    }\n    // append product\n    if (product) {\n      description.push((/^on /.test(description[description.length -1]) ? '' : 'on ') + product);\n    }\n    // parse OS into an object\n    if (os) {\n      data = / ([\\d.+]+)$/.exec(os);\n      isSpecialCasedOS = data && os.charAt(os.length - data[0].length - 1) == '/';\n      os = {\n        'architecture': 32,\n        'family': (data && !isSpecialCasedOS) ? os.replace(data[0], '') : os,\n        'version': data ? data[1] : null,\n        'toString': function() {\n          var version = this.version;\n          return this.family + ((version && !isSpecialCasedOS) ? ' ' + version : '') + (this.architecture == 64 ? ' 64-bit' : '');\n        }\n      };\n    }\n    // add browser/OS architecture\n    if ((data = /\\b(?:AMD|IA|Win|WOW|x86_|x)64\\b/i.exec(arch)) && !/\\bi686\\b/i.test(arch)) {\n      if (os) {\n        os.architecture = 64;\n        os.family = os.family.replace(RegExp(' *' + data), '');\n      }\n      if (\n          name && (/\\bWOW64\\b/i.test(ua) ||\n          (useFeatures && /\\w(?:86|32)$/.test(nav.cpuClass || nav.platform) && !/\\bWin64; x64\\b/i.test(ua)))\n      ) {\n        description.unshift('32-bit');\n      }\n    }\n\n    ua || (ua = null);\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The platform object.\n     *\n     * @name platform\n     * @type Object\n     */\n    var platform = {};\n\n    /**\n     * The platform description.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.description = ua;\n\n    /**\n     * The name of the browser's layout engine.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.layout = layout && layout[0];\n\n    /**\n     * The name of the product's manufacturer.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.manufacturer = manufacturer;\n\n    /**\n     * The name of the browser/environment.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.name = name;\n\n    /**\n     * The alpha/beta release indicator.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.prerelease = prerelease;\n\n    /**\n     * The name of the product hosting the browser.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.product = product;\n\n    /**\n     * The browser's user agent string.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.ua = ua;\n\n    /**\n     * The browser/environment version.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.version = name && version;\n\n    /**\n     * The name of the operating system.\n     *\n     * @memberOf platform\n     * @type Object\n     */\n    platform.os = os || {\n\n      /**\n       * The CPU architecture the OS is built for.\n       *\n       * @memberOf platform.os\n       * @type number|null\n       */\n      'architecture': null,\n\n      /**\n       * The family of the OS.\n       *\n       * Common values include:\n       * \"Windows\", \"Windows Server 2008 R2 / 7\", \"Windows Server 2008 / Vista\",\n       * \"Windows XP\", \"OS X\", \"Ubuntu\", \"Debian\", \"Fedora\", \"Red Hat\", \"SuSE\",\n       * \"Android\", \"iOS\" and \"Windows Phone\"\n       *\n       * @memberOf platform.os\n       * @type string|null\n       */\n      'family': null,\n\n      /**\n       * The version of the OS.\n       *\n       * @memberOf platform.os\n       * @type string|null\n       */\n      'version': null,\n\n      /**\n       * Returns the OS string.\n       *\n       * @memberOf platform.os\n       * @returns {string} The OS string.\n       */\n      'toString': function() { return 'null'; }\n    };\n\n    platform.parse = parse;\n    platform.toString = toStringPlatform;\n\n    if (platform.version) {\n      description.unshift(version);\n    }\n    if (platform.name) {\n      description.unshift(name);\n    }\n    if (os && name && !(os == String(os).split(' ')[0] && (os == name.split(' ')[0] || product))) {\n      description.push(product ? '(' + os + ')' : 'on ' + os);\n    }\n    if (description.length) {\n      platform.description = description.join(' ');\n    }\n    return platform;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  // export platform\n  // some AMD build optimizers, like r.js, check for condition patterns like the following:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // define as an anonymous module so, through path mapping, it can be aliased\n    define(function() {\n      return parse();\n    });\n  }\n  // check for `exports` after `define` in case a build optimizer adds an `exports` object\n  else if (freeExports && freeModule) {\n    // in Narwhal, Node.js, Rhino -require, or RingoJS\n    forOwn(parse(), function(value, key) {\n      freeExports[key] = value;\n    });\n  }\n  // in a browser or Rhino\n  else {\n    root.platform = parse();\n  }\n}.call(this));\n"]}