!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.algoliasearchHelper=e()}}(function(){return function e(t,n,i){function r(a,o){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!o&&c)return c(a,!0);if(s)return s(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var f=n[a]={exports:{}};t[a][0].call(f.exports,function(e){var n=t[a][1][e];return r(n?n:e)},f,f.exports,e,t,n,i)}return n[a].exports}for(var s="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t){"use strict";function n(e,t,n){return new i(e,t,n)}var i=e("./src/algoliasearch.helper");n.version="2.0.0-rc4",t.exports=n},{"./src/algoliasearch.helper":83}],2:[function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function r(e){return"number"==typeof e}function s(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!r(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,r,o,c,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],a(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,o=new Array(r-1),c=1;r>c;c++)o[c-1]=arguments[c];n.apply(this,o)}else if(s(n)){for(r=arguments.length,o=new Array(r-1),c=1;r>c;c++)o[c-1]=arguments[c];for(u=n.slice(),r=u.length,c=0;r>c;c++)u[c].apply(this,o)}return!0},n.prototype.addListener=function(e,t){var r;if(!i(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned){var r;r=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,r&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,r,a,o;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],a=n.length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(n)){for(o=a;o-->0;)if(n[o]===t||n[o].listener&&n[o].listener===t){r=o;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?i(e._events[t])?1:e._events[t].length:0}},{}],3:[function(e,t){t.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],4:[function(e,t){function n(){if(!a){a=!0;for(var e,t=s.length;t;){e=s,s=[];for(var n=-1;++n<t;)e[n]();t=s.length}a=!1}}function i(){}var r=t.exports={},s=[],a=!1;r.nextTick=function(e){s.push(e),a||setTimeout(n,0)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=i,r.addListener=i,r.once=i,r.off=i,r.removeListener=i,r.removeAllListeners=i,r.emit=i,r.binding=function(){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},{}],5:[function(e,t){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],6:[function(e,t,n){(function(t,i){function r(e,t){var i={seen:[],stylize:a};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),g(t)?i.showHidden=t:t&&n._extend(i,t),x(i.showHidden)&&(i.showHidden=!1),x(i.depth)&&(i.depth=2),x(i.colors)&&(i.colors=!1),x(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=s),c(i,e,i.depth)}function s(e,t){var n=r.styles[t];return n?"["+r.colors[n][0]+"m"+e+"["+r.colors[n][1]+"m":e}function a(e){return e}function o(e){var t={};return e.forEach(function(e){t[e]=!0}),t}function c(e,t,i){if(e.customInspect&&t&&_(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var r=t.inspect(i,e);return b(r)||(r=c(e,r,i)),r}var s=u(e,t);if(s)return s;var a=Object.keys(t),g=o(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),O(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(t);if(0===a.length){if(_(t)){var v=t.name?": "+t.name:"";return e.stylize("[Function"+v+"]","special")}if(R(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(w(t))return e.stylize(Date.prototype.toString.call(t),"date");if(O(t))return f(t)}var m="",y=!1,j=["{","}"];if(d(t)&&(y=!0,j=["[","]"]),_(t)){var x=t.name?": "+t.name:"";m=" [Function"+x+"]"}if(R(t)&&(m=" "+RegExp.prototype.toString.call(t)),w(t)&&(m=" "+Date.prototype.toUTCString.call(t)),O(t)&&(m=" "+f(t)),0===a.length&&(!y||0==t.length))return j[0]+m+j[1];if(0>i)return R(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var F;return F=y?l(e,t,i,g,a):a.map(function(n){return h(e,t,i,g,n,y)}),e.seen.pop(),p(F,m,j)}function u(e,t){if(x(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return y(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function l(e,t,n,i,r){for(var s=[],a=0,o=t.length;o>a;++a)s.push(P(t,String(a))?h(e,t,n,i,String(a),!0):"");return r.forEach(function(r){r.match(/^\d+$/)||s.push(h(e,t,n,i,r,!0))}),s}function h(e,t,n,i,r,s){var a,o,u;if(u=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]},u.get?o=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(o=e.stylize("[Setter]","special")),P(i,r)||(a="["+r+"]"),o||(e.seen.indexOf(u.value)<0?(o=v(n)?c(e,u.value,null):c(e,u.value,n-1),o.indexOf("\n")>-1&&(o=s?o.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+o.split("\n").map(function(e){return"   "+e}).join("\n"))):o=e.stylize("[Circular]","special")),x(a)){if(s&&r.match(/^\d+$/))return o;a=JSON.stringify(""+r),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+o}function p(e,t,n){var i=0,r=e.reduce(function(e,t){return i++,t.indexOf("\n")>=0&&i++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return r>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function d(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function v(e){return null===e}function m(e){return null==e}function y(e){return"number"==typeof e}function b(e){return"string"==typeof e}function j(e){return"symbol"==typeof e}function x(e){return void 0===e}function R(e){return F(e)&&"[object RegExp]"===A(e)}function F(e){return"object"==typeof e&&null!==e}function w(e){return F(e)&&"[object Date]"===A(e)}function O(e){return F(e)&&("[object Error]"===A(e)||e instanceof Error)}function _(e){return"function"==typeof e}function E(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function A(e){return Object.prototype.toString.call(e)}function S(e){return 10>e?"0"+e.toString(10):e.toString(10)}function L(){var e=new Date,t=[S(e.getHours()),S(e.getMinutes()),S(e.getSeconds())].join(":");return[e.getDate(),C[e.getMonth()],t].join(" ")}function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var D=/%[sdj%]/g;n.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(r(arguments[n]));return t.join(" ")}for(var n=1,i=arguments,s=i.length,a=String(e).replace(D,function(e){if("%%"===e)return"%";if(n>=s)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(t){return"[Circular]"}default:return e}}),o=i[n];s>n;o=i[++n])a+=v(o)||!F(o)?" "+o:" "+r(o);return a},n.deprecate=function(e,r){function s(){if(!a){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),a=!0}return e.apply(this,arguments)}if(x(i.process))return function(){return n.deprecate(e,r).apply(this,arguments)};if(t.noDeprecation===!0)return e;var a=!1;return s};var N,k={};n.debuglog=function(e){if(x(N)&&(N=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!k[e])if(new RegExp("\\b"+e+"\\b","i").test(N)){var i=t.pid;k[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,i,t)}}else k[e]=function(){};return k[e]},n.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=d,n.isBoolean=g,n.isNull=v,n.isNullOrUndefined=m,n.isNumber=y,n.isString=b,n.isSymbol=j,n.isUndefined=x,n.isRegExp=R,n.isObject=F,n.isDate=w,n.isError=O,n.isFunction=_,n.isPrimitive=E,n.isBuffer=e("./support/isBuffer");var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",L(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!F(t))return e;for(var n=Object.keys(t),i=n.length;i--;)e[n[i]]=t[n[i]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":5,_process:4,inherits:3}],7:[function(e,t){function n(e){for(var t=-1,n=e?e.length:0,i=-1,r=[];++t<n;){var s=e[t];s&&(r[++i]=s)}return r}t.exports=n},{}],8:[function(e,t){function n(e,t,n){var r=-1,s=e?e.length:0;for(t=i(t,n,3);++r<s;)if(t(e[r],r,e))return r;return-1}var i=e("../internal/baseCallback");t.exports=n},{"../internal/baseCallback":19}],9:[function(e,t){function n(){for(var e=[],t=-1,n=arguments.length,c=[],u=i,f=!0;++t<n;){var l=arguments[t];(o(l)||a(l))&&(e.push(l),c.push(f&&l.length>=120?s(t&&l):null))}n=e.length;var h=e[0],p=-1,d=h?h.length:0,g=[],v=c[0];e:for(;++p<d;)if(l=h[p],(v?r(v,l):u(g,l,0))<0){for(t=n;--t;){var m=c[t];if((m?r(m,l):u(e[t],l,0))<0)continue e}v&&v.push(l),g.push(l)}return g}var i=e("../internal/baseIndexOf"),r=e("../internal/cacheIndexOf"),s=e("../internal/createCache"),a=e("../lang/isArguments"),o=e("../lang/isArray");t.exports=n},{"../internal/baseIndexOf":25,"../internal/cacheIndexOf":38,"../internal/createCache":43,"../lang/isArguments":65,"../lang/isArray":66}],10:[function(e,t){function n(e,t,n){if(o(e)){var c=a(e,t,n);return c>-1?e[c]:void 0}return t=i(t,n,3),s(e,t,r)}var i=e("../internal/baseCallback"),r=e("../internal/baseEach"),s=e("../internal/baseFind"),a=e("../array/findIndex"),o=e("../lang/isArray");t.exports=n},{"../array/findIndex":8,"../internal/baseCallback":19,"../internal/baseEach":21,"../internal/baseFind":22,"../lang/isArray":66}],11:[function(e,t){function n(e,t,n){return"function"==typeof t&&"undefined"==typeof n&&a(e)?i(e,t):r(e,s(t,n,3))}var i=e("../internal/arrayEach"),r=e("../internal/baseEach"),s=e("../internal/bindCallback"),a=e("../lang/isArray");t.exports=n},{"../internal/arrayEach":17,"../internal/baseEach":21,"../internal/bindCallback":37,"../lang/isArray":66}],12:[function(e,t){function n(e,t,n,c){var u=o(e)?i:a;return u(e,r(t,c,4),n,arguments.length<3,s)}var i=e("../internal/arrayReduce"),r=e("../internal/baseCallback"),s=e("../internal/baseEach"),a=e("../internal/baseReduce"),o=e("../lang/isArray");t.exports=n},{"../internal/arrayReduce":18,"../internal/baseCallback":19,"../internal/baseEach":21,"../internal/baseReduce":33,"../lang/isArray":66}],13:[function(e,t){var n=e("../lang/isNative"),i=n(i=Date.now)&&i,r=i||function(){return(new Date).getTime()};t.exports=r},{"../lang/isNative":69}],14:[function(e,t){function n(e,t){var c=a;if(arguments.length>2){var u=i(arguments,2),f=s(u,n.placeholder);c|=o}return r(e,c,t,u,f)}var i=e("../internal/baseSlice"),r=e("../internal/createWrapper"),s=e("../internal/replaceHolders"),a=1,o=32;n.placeholder={},t.exports=n},{"../internal/baseSlice":35,"../internal/createWrapper":47,"../internal/replaceHolders":61}],15:[function(e,t){(function(n){function i(e){var t=e?e.length:0;for(this.data={hash:o(null),set:new a};t--;)this.push(e[t])}var r=e("./cachePush"),s=e("../lang/isNative"),a=s(a=n.Set)&&a,o=s(o=Object.create)&&o;i.prototype.push=r,t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lang/isNative":69,"./cachePush":39}],16:[function(e,t){function n(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}t.exports=n},{}],17:[function(e,t){function n(e,t){for(var n=-1,i=e.length;++n<i&&t(e[n],n,e)!==!1;);return e}t.exports=n},{}],18:[function(e,t){function n(e,t,n,i){var r=-1,s=e.length;for(i&&s&&(n=e[++r]);++r<s;)n=t(n,e[r],r,e);return n}t.exports=n},{}],19:[function(e,t){function n(e,t,n){var u=typeof e;return"function"==u?"undefined"!=typeof t&&c(e)?a(e,t,n):e:null==e?o:"object"==u?i(e):"undefined"==typeof t?s(e+""):r(e+"",t)}var i=e("./baseMatches"),r=e("./baseMatchesProperty"),s=e("./baseProperty"),a=e("./bindCallback"),o=e("../utility/identity"),c=e("./isBindable");t.exports=n},{"../utility/identity":79,"./baseMatches":30,"./baseMatchesProperty":31,"./baseProperty":32,"./bindCallback":37,"./isBindable":53}],20:[function(e,t){(function(n){var i=e("../lang/isObject"),r=function(){function e(){}return function(t){if(i(t)){e.prototype=t;var r=new e;e.prototype=null}return r||n.Object()}}();t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lang/isObject":70}],21:[function(e,t){function n(e,t){var n=e?e.length:0;if(!r(n))return i(e,t);for(var a=-1,o=s(e);++a<n&&t(o[a],a,o)!==!1;);return e}var i=e("./baseForOwn"),r=e("./isLength"),s=e("./toObject");t.exports=n},{"./baseForOwn":24,"./isLength":55,"./toObject":64}],22:[function(e,t){function n(e,t,n,i){var r;return n(e,function(e,n,s){return t(e,n,s)?(r=i?n:e,!1):void 0}),r}t.exports=n},{}],23:[function(e,t){function n(e,t,n){for(var r=-1,s=i(e),a=n(e),o=a.length;++r<o;){var c=a[r];if(t(s[c],c,s)===!1)break}return e}var i=e("./toObject");t.exports=n},{"./toObject":64}],24:[function(e,t){function n(e,t){return i(e,t,r)}var i=e("./baseFor"),r=e("../object/keys");t.exports=n},{"../object/keys":74,"./baseFor":23}],25:[function(e,t){function n(e,t,n){if(t!==t)return i(e,n);for(var r=n-1,s=e.length;++r<s;)if(e[r]===t)return r;return-1}var i=e("./indexOfNaN");t.exports=n},{"./indexOfNaN":52}],26:[function(e,t){function n(e,t,r,s,a,o){if(e===t)return 0!==e||1/e==1/t;var c=typeof e,u=typeof t;return"function"!=c&&"object"!=c&&"function"!=u&&"object"!=u||null==e||null==t?e!==e&&t!==t:i(e,t,n,r,s,a,o)}var i=e("./baseIsEqualDeep");t.exports=n},{"./baseIsEqualDeep":27}],27:[function(e,t){function n(e,t,n,l,d,g,v){var m=a(e),y=a(t),b=u,j=u;m||(b=p.call(e),b==c?b=f:b!=f&&(m=o(e))),y||(j=p.call(t),j==c?j=f:j!=f&&(y=o(t)));var x=b==f,R=j==f,F=b==j;if(F&&!m&&!x)return r(e,t,b);var w=x&&h.call(e,"__wrapped__"),O=R&&h.call(t,"__wrapped__");if(w||O)return n(w?e.value():e,O?t.value():t,l,d,g,v);if(!F)return!1;g||(g=[]),v||(v=[]);for(var _=g.length;_--;)if(g[_]==e)return v[_]==t;g.push(e),v.push(t);var E=(m?i:s)(e,t,n,l,d,g,v);return g.pop(),v.pop(),E}var i=e("./equalArrays"),r=e("./equalByTag"),s=e("./equalObjects"),a=e("../lang/isArray"),o=e("../lang/isTypedArray"),c="[object Arguments]",u="[object Array]",f="[object Object]",l=Object.prototype,h=l.hasOwnProperty,p=l.toString;t.exports=n},{"../lang/isArray":66,"../lang/isTypedArray":72,"./equalArrays":48,"./equalByTag":49,"./equalObjects":50}],28:[function(e,t){function n(e){return"function"==typeof e||!1}t.exports=n},{}],29:[function(e,t){function n(e,t,n,r,a){var o=t.length;if(null==e)return!o;for(var c=-1,u=!a;++c<o;)if(u&&r[c]?n[c]!==e[t[c]]:!s.call(e,t[c]))return!1;for(c=-1;++c<o;){var f=t[c];if(u&&r[c])var l=s.call(e,f);else{var h=e[f],p=n[c];l=a?a(h,p,f):void 0,"undefined"==typeof l&&(l=i(p,h,a,!0))}if(!l)return!1}return!0}var i=e("./baseIsEqual"),r=Object.prototype,s=r.hasOwnProperty;t.exports=n},{"./baseIsEqual":26}],30:[function(e,t){function n(e){var t=s(e),n=t.length;if(1==n){var a=t[0],c=e[a];if(r(c))return function(e){return null!=e&&e[a]===c&&o.call(e,a)}}for(var u=Array(n),f=Array(n);n--;)c=e[t[n]],u[n]=c,f[n]=r(c);return function(e){return i(e,t,u,f)}}var i=e("./baseIsMatch"),r=e("./isStrictComparable"),s=e("../object/keys"),a=Object.prototype,o=a.hasOwnProperty;t.exports=n},{"../object/keys":74,"./baseIsMatch":29,"./isStrictComparable":57}],31:[function(e,t){function n(e,t){return r(t)?function(n){return null!=n&&n[e]===t}:function(n){return null!=n&&i(t,n[e],null,!0)}}var i=e("./baseIsEqual"),r=e("./isStrictComparable");t.exports=n},{"./baseIsEqual":26,"./isStrictComparable":57}],32:[function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}t.exports=n},{}],33:[function(e,t){function n(e,t,n,i,r){return r(e,function(e,r,s){n=i?(i=!1,e):t(n,e,r,s)}),n}t.exports=n},{}],34:[function(e,t){var n=e("../utility/identity"),i=e("./metaMap"),r=i?function(e,t){return i.set(e,t),e}:n;t.exports=r},{"../utility/identity":79,"./metaMap":59}],35:[function(e,t){function n(e,t,n){var i=-1,r=e.length;t=null==t?0:+t||0,0>t&&(t=-t>r?0:r+t),n="undefined"==typeof n||n>r?r:+n||0,0>n&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(r);++i<r;)s[i]=e[i+t];return s}t.exports=n},{}],36:[function(e,t){function n(e){return"string"==typeof e?e:null==e?"":e+""}t.exports=n},{}],37:[function(e,t){function n(e,t,n){if("function"!=typeof e)return i;if("undefined"==typeof t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,s){return e.call(t,n,i,r,s)};case 5:return function(n,i,r,s,a){return e.call(t,n,i,r,s,a)}}return function(){return e.apply(t,arguments)}}var i=e("../utility/identity");t.exports=n},{"../utility/identity":79}],38:[function(e,t){function n(e,t){var n=e.data,r="string"==typeof t||i(t)?n.set.has(t):n.hash[t];return r?0:-1}var i=e("../lang/isObject");t.exports=n},{"../lang/isObject":70}],39:[function(e,t){function n(e){var t=this.data;"string"==typeof e||i(e)?t.set.add(e):t.hash[e]=!0}var i=e("../lang/isObject");t.exports=n},{"../lang/isObject":70}],40:[function(e,t){function n(e,t,n){for(var r=n.length,s=-1,a=i(e.length-r,0),o=-1,c=t.length,u=Array(a+c);++o<c;)u[o]=t[o];for(;++s<r;)u[n[s]]=e[s];for(;a--;)u[o++]=e[s++];return u}var i=Math.max;t.exports=n},{}],41:[function(e,t){function n(e,t,n){for(var r=-1,s=n.length,a=-1,o=i(e.length-s,0),c=-1,u=t.length,f=Array(o+u);++a<o;)f[a]=e[a];for(var l=a;++c<u;)f[l+c]=t[c];for(;++r<s;)f[l+n[r]]=e[a++];return f}var i=Math.max;t.exports=n},{}],42:[function(e,t){(function(n){function i(e,t){function i(){var r=this&&this!==n&&this instanceof i?s:e;return r.apply(t,arguments)}var s=r(e);return i}var r=e("./createCtorWrapper");t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./createCtorWrapper":44}],43:[function(e,t){(function(n){var i=e("./SetCache"),r=e("../utility/constant"),s=e("../lang/isNative"),a=s(a=n.Set)&&a,o=s(o=Object.create)&&o,c=o&&a?function(e){return new i(e)}:r(null);t.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lang/isNative":69,"../utility/constant":78,"./SetCache":15}],44:[function(e,t){function n(e){return function(){var t=i(e.prototype),n=e.apply(t,arguments);return r(n)?n:t}}var i=e("./baseCreate"),r=e("../lang/isObject");t.exports=n},{"../lang/isObject":70,"./baseCreate":20}],45:[function(e,t){(function(n){function i(e,t,b,j,x,R,F,w,O,_){function E(){for(var h=arguments.length,p=h,d=Array(h);p--;)d[p]=arguments[p];if(j&&(d=s(d,j,x)),R&&(d=a(d,R,F)),P||N){var m=E.placeholder,M=u(d,m);if(h-=M.length,_>h){var I=w?r(w):null,T=y(_-h,0),q=P?M:null,z=P?null:M,H=P?d:null,W=P?null:d;t|=P?g:v,t&=~(P?v:g),D||(t&=~(f|l));var B=i(e,t,b,H,q,W,z,I,O,T);return B.placeholder=m,B}}var U=S?b:this;L&&(e=U[C]),w&&(d=c(d,w)),A&&O<d.length&&(d.length=O);var $=this&&this!==n&&this instanceof E?k||o(e):e;return $.apply(U,d)}var A=t&m,S=t&f,L=t&l,P=t&p,D=t&h,N=t&d,k=!L&&o(e),C=e;return E}var r=e("./arrayCopy"),s=e("./composeArgs"),a=e("./composeArgsRight"),o=e("./createCtorWrapper"),c=e("./reorder"),u=e("./replaceHolders"),f=1,l=2,h=4,p=8,d=16,g=32,v=64,m=256,y=Math.max;t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./arrayCopy":16,"./composeArgs":40,"./composeArgsRight":41,"./createCtorWrapper":44,"./reorder":60,"./replaceHolders":61}],46:[function(e,t){(function(n){function i(e,t,i,a){function o(){for(var t=-1,r=arguments.length,s=-1,f=a.length,l=Array(r+f);++s<f;)l[s]=a[s];for(;r--;)l[s++]=arguments[++t];var h=this&&this!==n&&this instanceof o?u:e;return h.apply(c?i:this,l)}var c=t&s,u=r(e);return o}var r=e("./createCtorWrapper"),s=1;t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./createCtorWrapper":44}],47:[function(e,t){function n(e,t,n,v,m,y,b,j){var x=t&l;if(!x&&"function"!=typeof e)throw new TypeError(d);var R=v?v.length:0;if(R||(t&=~(h|p),v=m=null),R-=m?m.length:0,t&p){var F=v,w=m;v=m=null}var O=!x&&o(e),_=[e,t,n,v,m,F,w,y,b,j];if(O&&O!==!0&&(c(_,O),t=_[1],j=_[9]),_[9]=null==j?x?0:e.length:g(j-R,0)||0,t==f)var E=r(_[0],_[2]);else E=t!=h&&t!=(f|h)||_[4].length?s.apply(void 0,_):a.apply(void 0,_);var A=O?i:u;return A(E,_)}var i=e("./baseSetData"),r=e("./createBindWrapper"),s=e("./createHybridWrapper"),a=e("./createPartialWrapper"),o=e("./getData"),c=e("./mergeData"),u=e("./setData"),f=1,l=2,h=32,p=64,d="Expected a function",g=Math.max;t.exports=n},{"./baseSetData":34,"./createBindWrapper":42,"./createHybridWrapper":45,"./createPartialWrapper":46,"./getData":51,"./mergeData":58,"./setData":62}],48:[function(e,t){function n(e,t,n,i,r,s,a){var o=-1,c=e.length,u=t.length,f=!0;if(c!=u&&!(r&&u>c))return!1;for(;f&&++o<c;){var l=e[o],h=t[o];if(f=void 0,i&&(f=r?i(h,l,o):i(l,h,o)),"undefined"==typeof f)if(r)for(var p=u;p--&&(h=t[p],!(f=l&&l===h||n(l,h,i,r,s,a))););else f=l&&l===h||n(l,h,i,r,s,a)}return!!f}t.exports=n},{}],49:[function(e,t){function n(e,t,n){switch(n){case i:case r:return+e==+t;case s:return e.name==t.name&&e.message==t.message;case a:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case o:case c:return e==t+""}return!1}var i="[object Boolean]",r="[object Date]",s="[object Error]",a="[object Number]",o="[object RegExp]",c="[object String]";t.exports=n},{}],50:[function(e,t){function n(e,t,n,r,a,o,c){var u=i(e),f=u.length,l=i(t),h=l.length;if(f!=h&&!a)return!1;for(var p,d=-1;++d<f;){var g=u[d],v=s.call(t,g);if(v){var m=e[g],y=t[g];v=void 0,r&&(v=a?r(y,m,g):r(m,y,g)),"undefined"==typeof v&&(v=m&&m===y||n(m,y,r,a,o,c))}if(!v)return!1;p||(p="constructor"==g)}if(!p){var b=e.constructor,j=t.constructor;if(b!=j&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof j&&j instanceof j))return!1}return!0}var i=e("../object/keys"),r=Object.prototype,s=r.hasOwnProperty;t.exports=n},{"../object/keys":74}],51:[function(e,t){var n=e("./metaMap"),i=e("../utility/noop"),r=n?function(e){return n.get(e)}:i;t.exports=r},{"../utility/noop":80,"./metaMap":59}],52:[function(e,t){function n(e,t,n){for(var i=e.length,r=t+(n?0:-1);n?r--:++r<i;){var s=e[r];if(s!==s)return r}return-1}t.exports=n},{}],53:[function(e,t){function n(e){var t=!(s.funcNames?e.name:s.funcDecomp);if(!t){var n=c.call(e);s.funcNames||(t=!a.test(n)),t||(t=o.test(n)||r(e),i(e,t))}return t}var i=e("./baseSetData"),r=e("../lang/isNative"),s=e("../support"),a=/^\s*function[ \n\r\t]+\w/,o=/\bthis\b/,c=Function.prototype.toString;t.exports=n},{"../lang/isNative":69,"../support":77,"./baseSetData":34}],54:[function(e,t){function n(e,t){return e=+e,t=null==t?i:t,e>-1&&e%1==0&&t>e}var i=Math.pow(2,53)-1;t.exports=n},{}],55:[function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&i>=e}var i=Math.pow(2,53)-1;t.exports=n},{}],56:[function(e,t){function n(e){return e&&"object"==typeof e||!1}t.exports=n},{}],57:[function(e,t){function n(e){return e===e&&(0===e?1/e>0:!i(e))}var i=e("../lang/isObject");t.exports=n},{"../lang/isObject":70}],58:[function(e,t){function n(e,t){var n=e[1],g=t[1],v=n|g,m=h|l,y=o|c,b=m|y|u|f,j=n&h&&!(g&h),x=n&l&&!(g&l),R=(x?e:t)[7],F=(j?e:t)[8],w=!(n>=l&&g>y||n>y&&g>=l),O=v>=m&&b>=v&&(l>n||(x||j)&&R.length<=F);if(!w&&!O)return e;g&o&&(e[2]=t[2],v|=n&o?0:u);var _=t[3];if(_){var E=e[3];e[3]=E?r(E,_,t[4]):i(_),e[4]=E?a(e[3],p):i(t[4])}return _=t[5],_&&(E=e[5],e[5]=E?s(E,_,t[6]):i(_),e[6]=E?a(e[5],p):i(t[6])),_=t[7],_&&(e[7]=i(_)),g&h&&(e[8]=null==e[8]?t[8]:d(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=v,e}var i=e("./arrayCopy"),r=e("./composeArgs"),s=e("./composeArgsRight"),a=e("./replaceHolders"),o=1,c=2,u=4,f=16,l=128,h=256,p="__lodash_placeholder__",d=Math.min;t.exports=n},{"./arrayCopy":16,"./composeArgs":40,"./composeArgsRight":41,"./replaceHolders":61}],59:[function(e,t){(function(n){var i=e("../lang/isNative"),r=i(r=n.WeakMap)&&r,s=r&&new r;t.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lang/isNative":69}],60:[function(e,t){function n(e,t){for(var n=e.length,a=s(t.length,n),o=i(e);a--;){var c=t[a];e[a]=r(c,n)?o[c]:void 0}return e}var i=e("./arrayCopy"),r=e("./isIndex"),s=Math.min;t.exports=n},{"./arrayCopy":16,"./isIndex":54}],61:[function(e,t){function n(e,t){for(var n=-1,r=e.length,s=-1,a=[];++n<r;)e[n]===t&&(e[n]=i,a[++s]=n);return a}var i="__lodash_placeholder__";t.exports=n},{}],62:[function(e,t){var n=e("./baseSetData"),i=e("../date/now"),r=150,s=16,a=function(){var e=0,t=0;return function(a,o){var c=i(),u=s-(c-t);if(t=c,u>0){if(++e>=r)return a}else e=0;return n(a,o)}}();t.exports=a},{"../date/now":13,"./baseSetData":34}],63:[function(e,t){function n(e){for(var t=o(e),n=t.length,u=n&&e.length,l=u&&a(u)&&(r(e)||c.nonEnumArgs&&i(e)),h=-1,p=[];++h<n;){var d=t[h];(l&&s(d,u)||f.call(e,d))&&p.push(d)}return p}var i=e("../lang/isArguments"),r=e("../lang/isArray"),s=e("./isIndex"),a=e("./isLength"),o=e("../object/keysIn"),c=e("../support"),u=Object.prototype,f=u.hasOwnProperty;t.exports=n},{"../lang/isArguments":65,"../lang/isArray":66,"../object/keysIn":75,"../support":77,"./isIndex":54,"./isLength":55}],64:[function(e,t){function n(e){return i(e)?e:Object(e)}var i=e("../lang/isObject");t.exports=n},{"../lang/isObject":70}],65:[function(e,t){function n(e){var t=r(e)?e.length:void 0;return i(t)&&o.call(e)==s||!1}var i=e("../internal/isLength"),r=e("../internal/isObjectLike"),s="[object Arguments]",a=Object.prototype,o=a.toString;t.exports=n},{"../internal/isLength":55,"../internal/isObjectLike":56}],66:[function(e,t){var n=e("../internal/isLength"),i=e("./isNative"),r=e("../internal/isObjectLike"),s="[object Array]",a=Object.prototype,o=a.toString,c=i(c=Array.isArray)&&c,u=c||function(e){return r(e)&&n(e.length)&&o.call(e)==s||!1};t.exports=u},{"../internal/isLength":55,"../internal/isObjectLike":56,"./isNative":69}],67:[function(e,t){function n(e){if(null==e)return!0;var t=e.length;return a(t)&&(r(e)||c(e)||i(e)||o(e)&&s(e.splice))?!t:!u(e).length}var i=e("./isArguments"),r=e("./isArray"),s=e("./isFunction"),a=e("../internal/isLength"),o=e("../internal/isObjectLike"),c=e("./isString"),u=e("../object/keys");t.exports=n},{"../internal/isLength":55,"../internal/isObjectLike":56,"../object/keys":74,"./isArguments":65,"./isArray":66,"./isFunction":68,"./isString":71}],68:[function(e,t){(function(n){var i=e("../internal/baseIsFunction"),r=e("./isNative"),s="[object Function]",a=Object.prototype,o=a.toString,c=r(c=n.Uint8Array)&&c,u=i(/x/)||c&&!i(c)?function(e){return o.call(e)==s}:i;t.exports=u}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../internal/baseIsFunction":28,"./isNative":69}],69:[function(e,t){function n(e){return null==e?!1:u.call(e)==s?f.test(c.call(e)):r(e)&&a.test(e)||!1}var i=e("../string/escapeRegExp"),r=e("../internal/isObjectLike"),s="[object Function]",a=/^\[object .+?Constructor\]$/,o=Object.prototype,c=Function.prototype.toString,u=o.toString,f=RegExp("^"+i(u).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=n},{"../internal/isObjectLike":56,"../string/escapeRegExp":76}],70:[function(e,t){function n(e){var t=typeof e;return"function"==t||e&&"object"==t||!1}t.exports=n},{}],71:[function(e,t){function n(e){return"string"==typeof e||i(e)&&a.call(e)==r||!1}var i=e("../internal/isObjectLike"),r="[object String]",s=Object.prototype,a=s.toString;t.exports=n},{"../internal/isObjectLike":56}],72:[function(e,t){function n(e){return r(e)&&i(e.length)&&A[L.call(e)]||!1}var i=e("../internal/isLength"),r=e("../internal/isObjectLike"),s="[object Arguments]",a="[object Array]",o="[object Boolean]",c="[object Date]",u="[object Error]",f="[object Function]",l="[object Map]",h="[object Number]",p="[object Object]",d="[object RegExp]",g="[object Set]",v="[object String]",m="[object WeakMap]",y="[object ArrayBuffer]",b="[object Float32Array]",j="[object Float64Array]",x="[object Int8Array]",R="[object Int16Array]",F="[object Int32Array]",w="[object Uint8Array]",O="[object Uint8ClampedArray]",_="[object Uint16Array]",E="[object Uint32Array]",A={};A[b]=A[j]=A[x]=A[R]=A[F]=A[w]=A[O]=A[_]=A[E]=!0,A[s]=A[a]=A[y]=A[o]=A[c]=A[u]=A[f]=A[l]=A[h]=A[p]=A[d]=A[g]=A[v]=A[m]=!1;var S=Object.prototype,L=S.toString;t.exports=n;

},{"../internal/isLength":55,"../internal/isObjectLike":56}],73:[function(e,t){function n(e){return"undefined"==typeof e}t.exports=n},{}],74:[function(e,t){var n=e("../internal/isLength"),i=e("../lang/isNative"),r=e("../lang/isObject"),s=e("../internal/shimKeys"),a=i(a=Object.keys)&&a,o=a?function(e){if(e)var t=e.constructor,i=e.length;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&i&&n(i)?s(e):r(e)?a(e):[]}:s;t.exports=o},{"../internal/isLength":55,"../internal/shimKeys":63,"../lang/isNative":69,"../lang/isObject":70}],75:[function(e,t){function n(e){if(null==e)return[];o(e)||(e=Object(e));var t=e.length;t=t&&a(t)&&(r(e)||c.nonEnumArgs&&i(e))&&t||0;for(var n=e.constructor,u=-1,l="function"==typeof n&&n.prototype===e,h=Array(t),p=t>0;++u<t;)h[u]=u+"";for(var d in e)p&&s(d,t)||"constructor"==d&&(l||!f.call(e,d))||h.push(d);return h}var i=e("../lang/isArguments"),r=e("../lang/isArray"),s=e("../internal/isIndex"),a=e("../internal/isLength"),o=e("../lang/isObject"),c=e("../support"),u=Object.prototype,f=u.hasOwnProperty;t.exports=n},{"../internal/isIndex":54,"../internal/isLength":55,"../lang/isArguments":65,"../lang/isArray":66,"../lang/isObject":70,"../support":77}],76:[function(e,t){function n(e){return e=i(e),e&&s.test(e)?e.replace(r,"\\$&"):e}var i=e("../internal/baseToString"),r=/[.*+?^${}()|[\]\/\\]/g,s=RegExp(r.source);t.exports=n},{"../internal/baseToString":36}],77:[function(e,t){(function(n){var i=e("./lang/isNative"),r=/\bthis\b/,s=Object.prototype,a=(a=n.window)&&a.document,o=s.propertyIsEnumerable,c={};!function(){c.funcDecomp=!i(n.WinRTError)&&r.test(function(){return this}),c.funcNames="string"==typeof Function.name;try{c.dom=11===a.createDocumentFragment().nodeType}catch(e){c.dom=!1}try{c.nonEnumArgs=!o.call(arguments,1)}catch(e){c.nonEnumArgs=!0}}(0,0),t.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lang/isNative":69}],78:[function(e,t){function n(e){return function(){return e}}t.exports=n},{}],79:[function(e,t){function n(e){return e}t.exports=n},{}],80:[function(e,t){function n(){}t.exports=n},{}],81:[function(e,t){"use strict";var n=e("lodash/object/keys"),i=e("lodash/array/intersection"),r=e("lodash/collection/forEach"),s=e("lodash/collection/reduce"),a=e("lodash/lang/isEmpty"),o=e("lodash/lang/isUndefined"),c=e("lodash/lang/isString"),u=function(e){var t=e||{};this.query=t.query||"",this.facets=t.facets||[],this.disjunctiveFacets=t.disjunctiveFacets||[],this.facetsRefinements=t.facetsRefinements||{},this.facetsExcludes=t.facetsExcludes||{},this.disjunctiveFacetsRefinements=t.disjunctiveFacetsRefinements||{},this.numericRefinements=t.numericRefinements||{},this.hitsPerPage=t.hitsPerPage||20,this.maxValuesPerFacet=t.maxValuesPerFacet||10,this.page=t.page||0,this.queryType=t.queryType,this.typoTolerance=t.typoTolerance,this.minWordSizefor1Typo=t.minWordSizefor1Typo,this.minWordSizefor2Typos=t.minWordSizefor2Typos,this.allowTyposOnNumericTokens=t.allowTyposOnNumericTokens,this.ignorePlurals=t.ignorePlurals,this.restrictSearchableAttributes=t.restrictSearchableAttributes,this.advancedSyntax=t.advancedSyntax,this.analytics=t.analytics,this.analyticsTags=t.analyticsTags,this.synonyms=t.synonyms,this.replaceSynonymsInHighlight=t.replaceSynonymsInHighlight,this.optionalWords=t.optionalWords,this.removeWordsIfNoResults=t.removeWordsIfNoResults,this.attributesToRetrieve=t.attributesToRetrieve,this.attributesToHighlight=t.attributesToHighlight,this.attributesToSnippet=t.attributesToSnippet,this.getRankingInfo=t.getRankingInfo,this.tagFilters=t.tagFilters,this.distinct=t.distinct,this.aroundLatLng=t.aroundLatLng,this.aroundLatLngViaIP=t.aroundLatLngViaIP,this.aroundRadius=t.aroundRadius,this.aroundPrecision=t.aroundPrecision,this.insideBoundingBox=t.insideBoundingBox};u.prototype={constructor:u,clearRefinements:function(e){return this.mutateMe(function(t){t.page=0,t._clearNumericRefinements(e),t._clearFacetRefinements(e),t._clearExcludeRefinements(e),t._clearDisjunctiveFacetRefinements(e)})},setQuery:function(e){return this.mutateMe(function(t){t.query=e,t.page=0})},setPage:function(e){return this.mutateMe(function(t){t.page=e})},setFacets:function(e){return this.mutateMe(function(t){t.facets=e})},setDisjunctiveFacets:function(e){return this.mutateMe(function(t){t.disjunctiveFacets=e})},setHitsPerPage:function(e){return this.mutateMe(function(t){t.HitsPerPage=e,t.page=0})},addNumericRefinement:function(e,t,n){return this.mutateMe(function(i){i.page=0,i.numericRefinements[e]||(i.numericRefinements[e]={}),i.numericRefinements[e][t]=n})},removeNumericRefinement:function(e,t){return this.mutateMe(function(n){if(n.numericRefinements[e]){n.page=0;var i=n.numericRefinements[e][t];o(i)||(delete n.numericRefinements[e][t],a(n.numericRefinements[e])&&delete n.numericRefinements[e])}})},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(e){o(e)?this.numericRefinements={}:c(e)&&(o(this.numericRefinements[e])||delete this.numericRefinements[e])},addFacetRefinement:function(e,t){return this.mutateMe(function(n){n.page=0,n.facetsRefinements[e]=t})},addExcludeRefinement:function(e,t){return this.mutateMe(function(n){n.page=0,n.facetsExcludes[e]||(n.facetsExcludes[e]=[]),n.facetsExcludes[e].push(t)})},addDisjunctiveFacetRefinement:function(e,t){return this.mutateMe(function(n){n.page=0,n.disjunctiveFacetsRefinements[e]||(n.disjunctiveFacetsRefinements[e]=[]),n.disjunctiveFacetsRefinements[e].push(t)})},removeFacetRefinement:function(e){return this.mutateMe(function(t){t.page=0,t._clearFacetRefinements(e)})},removeExcludeRefinement:function(e,t){return this.mutateMe(function(n){if(n.facetsExcludes[e]){n.page=0;var i=n.facetsExcludes[e].indexOf(t);i>-1&&(n.facetsExcludes[e].splice(i,1),0===n.facetsExcludes[e].length&&delete n.facetsExcludes[e])}})},removeDisjunctiveFacetRefinement:function(e,t){return this.mutateMe(function(n){if(n.disjunctiveFacetsRefinements[e]){n.page=0;var i=n.disjunctiveFacetsRefinements[e].indexOf(t);i>-1&&(n.disjunctiveFacetsRefinements[e].splice(i,1),0===n.disjunctiveFacetsRefinements[e].length&&delete n.disjunctiveFacetsRefinements[e])}})},_clearFacetRefinements:function(e){o(e)?this.facetsRefinements={}:c(e)&&(o(this.facetsRefinements[e])||delete this.facetsRefinements[e])},_clearExcludeRefinements:function(e){o(e)?this.facetsExcludes={}:c(e)&&(o(this.facetsExcludes[e])||delete this.facetsExcludes[e])},_clearDisjunctiveFacetRefinements:function(e){o(e)?this.disjunctiveFacetsRefinements={}:c(e)&&(o(this.disjunctiveFacetsRefinements[e])||delete this.disjunctiveFacetsRefinements[e])},toggleFacetRefinement:function(e,t){return this.isFacetRefined(e,t)?this.removeFacetRefinement(e):this.addFacetRefinement(e,t)},toggleExcludeFacetRefinement:function(e,t){return this.isExcludeRefined(e,t)?this.removeExcludeRefinement(e,t):this.addExcludeRefinement(e,t)},toggleDisjunctiveFacetRefinement:function(e,t){return this.isDisjunctiveFacetRefined(e,t)?this.removeDisjunctiveFacetRefinement(e,t):this.addDisjunctiveFacetRefinement(e,t)},isFacetRefined:function(e,t){return this.facetsRefinements[e]===t},isExcludeRefined:function(e,t){return this.facetsExcludes[e]&&-1!==this.facetsExcludes[e].indexOf(t)},isDisjunctiveFacetRefined:function(e,t){return this.disjunctiveFacetsRefinements[e]&&-1!==this.disjunctiveFacetsRefinements[e].indexOf(t)},getRefinedDisjunctiveFacets:function(){var e=i(n(this.numericRefinements),this.disjunctiveFacets);return n(this.disjunctiveFacetsRefinements).concat(e)},getUnrefinedDisjunctiveFacets:function(){var e=[],t=this.getRefinedDisjunctiveFacets();return r(this.disjunctiveFacets,function(n){-1===t.indexOf(n)&&e.push(n)}),e},managedParameters:["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements"],getQueryParams:function(){var e=this.managedParameters;return s(this,function(t,n,i,r){return-1===e.indexOf(i)&&void 0!==r[i]&&(t[i]=n),t},{})},mutateMe:function(e){var t=new this.constructor(this);return e(t),Object.freeze(t)}},t.exports=u},{"lodash/array/intersection":9,"lodash/collection/forEach":11,"lodash/collection/reduce":12,"lodash/lang/isEmpty":67,"lodash/lang/isString":71,"lodash/lang/isUndefined":73,"lodash/object/keys":74}],82:[function(e,t){"use strict";function n(e){var t={};return s(e,function(e,n){t[e]=n}),t}function i(e,t,n){t&&t[n]&&(e.stats=t[n])}function r(e,t,n){n&&(e.timeout=!!t)}var s=e("lodash/collection/forEach"),a=e("lodash/array/compact"),o=e("lodash/collection/find"),c=function(e,t){var o=t.results[0];this.query=o.query,this.hits=o.hits,this.index=o.index,this.hitsPerPage=o.hitsPerPage,this.nbHits=o.nbHits,this.nbPages=o.nbPages,this.page=o.page,this.processingTimeMS=o.processingTimeMS,this.disjunctiveFacets=[],this.facets=[];var c=e.getRefinedDisjunctiveFacets(),u=n(e.facets),f=n(e.disjunctiveFacets);s(o.facets,function(t,n){var s=-1!==e.disjunctiveFacets.indexOf(n),a=s?f[n]:u[n];s?(this.disjunctiveFacets[a]={name:n,data:t},i(this.disjunctiveFacets[a],o.facets_stats,n),r(this.disjunctiveFacets[a],e.getRankingInfo,o.timeoutCounts,n)):(this.facets[a]={name:n,data:t},i(this.facets[a],o.facets_stats,n),r(this.facets[a],e.getRankingInfo,o.timeoutCounts,n))},this),s(c,function(n,a){var o=t.results[a+1];s(o.facets,function(t,n){var a=f[n];this.disjunctiveFacets[a]={name:n,data:t},i(this.disjunctiveFacets[a],o.facets_stats,n),r(this.disjunctiveFacets[a],e.getRankingInfo,o.timeoutCounts,n),e.disjunctiveFacetsRefinements[n]&&s(e.disjunctiveFacetsRefinements[n],function(t){!this.disjunctiveFacets[a].data[t]&&e.disjunctiveFacetsRefinements[n].indexOf(t)>-1&&(this.disjunctiveFacets[a].data[t]=0)},this)},this)},this),s(e.facetsExcludes,function(e,t){var n=u[t];this.facets[n]={name:t,data:o.facets[t]},s(e,function(e){this.facets[n]=this.facets[n]||{name:t},this.facets[n].data=this.facets[n].data||{},this.facets[n].data[e]=0},this)},this),this.facets=a(this.facets),this.disjunctiveFacets=a(this.disjunctiveFacets),this._state=e};c.prototype.getFacetByName=function(e){var t=function(t){return t.name===e},n=o(this.facets,t);return n||o(this.disjunctiveFacets,t)},t.exports=c},{"lodash/array/compact":7,"lodash/collection/find":10,"lodash/collection/forEach":11}],83:[function(e,t){"use strict";function n(e,t,n){this.client=e,this.index=t,this.state=new i(n)}var i=e("./SearchParameters"),r=e("./SearchResults"),s=e("./functions/extend"),a=e("util"),o=e("events"),c=e("lodash/collection/forEach"),u=e("lodash/function/bind");a.inherits(n,o.EventEmitter),n.prototype.search=function(){return this._search(),this},n.prototype.setQuery=function(e){return this.state=this.state.setQuery(e),this.emit("change",this.state),this},n.prototype.clearRefinements=function(e){return this.state=this.state.clearRefinements(e),this.emit("change",this.state),this},n.prototype.addDisjunctiveRefine=function(e,t){return this.state=this.state.addDisjunctiveFacetRefinement(e,t),this.emit("change",this.state),this},n.prototype.removeDisjunctiveRefine=function(e,t){return this.state=this.state.removeDisjunctiveFacetRefinement(e,t),this.emit("change",this.state),this},n.prototype.addNumericRefinement=function(e,t,n){return this.state=this.state.addNumericRefinement(e,t,n),this.emit("change",this.state),this},n.prototype.removeNumericRefinement=function(e,t,n){return this.state=this.state.removeNumericRefinement(e,t,n),this.emit("change",this.state),this},n.prototype.addRefine=function(e,t){return this.state=this.state.addFacetRefinement(e,t),this.emit("change",this.state),this},n.prototype.removeRefine=function(e,t){return this.state=this.state.removeFacetRefinement(e,t),this.emit("change",this.state),this},n.prototype.addExclude=function(e,t){return this.state=this.state.addExcludeRefinement(e,t),this.emit("change",this.state),this},n.prototype.removeExclude=function(e,t){return this.state=this.state.removeExcludeRefinement(e,t),this.emit("change",this.state),this},n.prototype.toggleExclude=function(e,t){return this.state=this.state.toggleExcludeFacetRefinement(e,t),this.emit("change",this.state),this},n.prototype.toggleRefine=function(e,t){if(this.state.facets.indexOf(e)>-1)this.state=this.state.toggleFacetRefinement(e,t);else{if(!(this.state.disjunctiveFacets.indexOf(e)>-1))return console.log("warning : you're trying to refine the undeclared facet '"+e+"'; add it to the helper options 'facets' or 'disjunctiveFacets'"),this;this.state=this.state.toggleDisjunctiveFacetRefinement(e,t)}return this.emit("change",this.state),this},n.prototype.nextPage=function(){return this.setCurrentPage(this.state.page+1)},n.prototype.previousPage=function(){return this.setCurrentPage(this.state.page-1)},n.prototype.setCurrentPage=function(e){if(0>e)throw new Error("Page requested below 0.");return this.state=this.state.setPage(e),this.emit("change",this.state),this},n.prototype.setIndex=function(e){return this.index=e,this.setCurrentPage(0),this},n.prototype.setState=function(e){return this.state=new i(e),this.emit("change",this.state),this},n.prototype.isRefined=function(e,t){return this.state.facets.indexOf(e)>-1?this.state.isFacetRefined(e,t):this.state.disjunctiveFacets.indexOf(e)>-1?this.state.isDisjunctiveFacetRefined(e,t):!1},n.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)},n.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)},n.prototype.getIndex=function(){return this.index},n.prototype.getCurrentPage=function(){return this.state.page},n.prototype._search=function(){var e=this.state,t=[];t.push({indexName:this.index,query:e.query,params:this._getHitsSearchParams()}),c(e.getRefinedDisjunctiveFacets(),function(n){t.push({indexName:this.index,query:e.query,params:this._getDisjunctiveFacetSearchParams(n)})},this),this.client.search(t,u(this._handleResponse,this,e))},n.prototype._handleResponse=function(e,t,n){if(t)return void this.emit("error",t);var i=new r(e,n);this.emit("result",i)},n.prototype._getHitsSearchParams=function(){var e=this.state.facets.concat(this.state.getUnrefinedDisjunctiveFacets()),t=this._getFacetFilters(),n=this._getNumericFilters(),i={facets:e,distinct:!1};return t.length>0&&(i.facetFilters=t,i.distinct=this.state.distinct||!1),n.length>0&&(i.numericFilters=n),s(this.state.getQueryParams(),i)},n.prototype._getDisjunctiveFacetSearchParams=function(e){var t=this._getFacetFilters(e),n=this._getNumericFilters(e),i={hitsPerPage:1,page:0,attributesToRetrieve:[],attributesToHighlight:[],attributesToSnippet:[],facets:e,distinct:!1};return n.length>0&&(i.numericFilters=n),t.length>0&&(i.facetFilters=t,i.distinct=this.state.distinct||!1),s(this.state.getQueryParams(),i)},n.prototype._getNumericFilters=function(e){var t=[];return c(this.state.numericRefinements,function(n,i){c(n,function(n,r){e!==i&&t.push(i+r+n)})}),t},n.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&this.state.disjunctiveRefinements[e].length>0},n.prototype._getFacetFilters=function(e){var t=[];return c(this.state.facetsRefinements,function(e,n){t.push(n+":"+e)}),c(this.state.facetsExcludes,function(e,n){c(e,function(e){t.push(n+":-"+e)})}),c(this.state.disjunctiveFacetsRefinements,function(n,i){if(i!==e&&n&&0!==n.length){var r=[];c(n,function(e){r.push(i+":"+e)}),t.push(r)}}),t},t.exports=n},{"./SearchParameters":81,"./SearchResults":82,"./functions/extend":84,events:2,"lodash/collection/forEach":11,"lodash/function/bind":14,util:6}],84:[function(e,t){"use strict";t.exports=function(e){e=e||{};for(var t=1;t<arguments.length;t++)if(arguments[t])for(var n in arguments[t])arguments[t].hasOwnProperty(n)&&(e[n]=arguments[t][n]);return e}},{}]},{},[1])(1)});