!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.algoliasearchHelper=e()}}(function(){return function e(t,n,r){function i(a,o){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!o&&c)return c(a,!0);if(s)return s(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var f=n[a]={exports:{}};t[a][0].call(f.exports,function(e){var n=t[a][1][e];return i(n?n:e)},f,f.exports,e,t,n,r)}return n[a].exports}for(var s="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t){"use strict";function n(e,t,n){return new r(e,t,n)}var r=e("./src/algoliasearch.helper");n.version="2.0.1",t.exports=n},{"./src/algoliasearch.helper":83}],2:[function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"number"==typeof e}function s(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!i(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,i,o,c,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(i=arguments.length,o=new Array(i-1),c=1;i>c;c++)o[c-1]=arguments[c];n.apply(this,o)}else if(s(n)){for(i=arguments.length,o=new Array(i-1),c=1;i>c;c++)o[c-1]=arguments[c];for(u=n.slice(),i=u.length,c=0;i>c;c++)u[c].apply(this,o)}return!0},n.prototype.addListener=function(e,t){var i;if(!r(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned){var i;i=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,i,a,o;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],a=n.length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(n)){for(o=a;o-->0;)if(n[o]===t||n[o].listener&&n[o].listener===t){i=o;break}if(0>i)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?r(e._events[t])?1:e._events[t].length:0}},{}],3:[function(e,t){t.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],4:[function(e,t){function n(){if(!a){a=!0;for(var e,t=s.length;t;){e=s,s=[];for(var n=-1;++n<t;)e[n]();t=s.length}a=!1}}function r(){}var i=t.exports={},s=[],a=!1;i.nextTick=function(e){s.push(e),a||setTimeout(n,0)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=r,i.addListener=r,i.once=r,i.off=r,i.removeListener=r,i.removeAllListeners=r,i.emit=r,i.binding=function(){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],5:[function(e,t){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],6:[function(e,t,n){(function(t,r){function i(e,t){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),g(t)?r.showHidden=t:t&&n._extend(r,t),j(r.showHidden)&&(r.showHidden=!1),j(r.depth)&&(r.depth=2),j(r.colors)&&(r.colors=!1),j(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=s),c(r,e,r.depth)}function s(e,t){var n=i.styles[t];return n?"["+i.colors[n][0]+"m"+e+"["+i.colors[n][1]+"m":e}function a(e){return e}function o(e){var t={};return e.forEach(function(e){t[e]=!0}),t}function c(e,t,r){if(e.customInspect&&t&&O(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(r,e);return b(i)||(i=c(e,i,r)),i}var s=u(e,t);if(s)return s;var a=Object.keys(t),g=o(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),w(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(t);if(0===a.length){if(O(t)){var v=t.name?": "+t.name:"";return e.stylize("[Function"+v+"]","special")}if(R(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(_(t))return e.stylize(Date.prototype.toString.call(t),"date");if(w(t))return f(t)}var y="",m=!1,x=["{","}"];if(d(t)&&(m=!0,x=["[","]"]),O(t)){var j=t.name?": "+t.name:"";y=" [Function"+j+"]"}if(R(t)&&(y=" "+RegExp.prototype.toString.call(t)),_(t)&&(y=" "+Date.prototype.toUTCString.call(t)),w(t)&&(y=" "+f(t)),0===a.length&&(!m||0==t.length))return x[0]+y+x[1];if(0>r)return R(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var F;return F=m?l(e,t,r,g,a):a.map(function(n){return h(e,t,r,g,n,m)}),e.seen.pop(),p(F,y,x)}function u(e,t){if(j(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return m(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function l(e,t,n,r,i){for(var s=[],a=0,o=t.length;o>a;++a)s.push(P(t,String(a))?h(e,t,n,r,String(a),!0):"");return i.forEach(function(i){i.match(/^\d+$/)||s.push(h(e,t,n,r,i,!0))}),s}function h(e,t,n,r,i,s){var a,o,u;if(u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},u.get?o=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(o=e.stylize("[Setter]","special")),P(r,i)||(a="["+i+"]"),o||(e.seen.indexOf(u.value)<0?(o=v(n)?c(e,u.value,null):c(e,u.value,n-1),o.indexOf("\n")>-1&&(o=s?o.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+o.split("\n").map(function(e){return"   "+e}).join("\n"))):o=e.stylize("[Circular]","special")),j(a)){if(s&&i.match(/^\d+$/))return o;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+o}function p(e,t,n){var r=0,i=e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function d(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function v(e){return null===e}function y(e){return null==e}function m(e){return"number"==typeof e}function b(e){return"string"==typeof e}function x(e){return"symbol"==typeof e}function j(e){return void 0===e}function R(e){return F(e)&&"[object RegExp]"===A(e)}function F(e){return"object"==typeof e&&null!==e}function _(e){return F(e)&&"[object Date]"===A(e)}function w(e){return F(e)&&("[object Error]"===A(e)||e instanceof Error)}function O(e){return"function"==typeof e}function E(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function A(e){return Object.prototype.toString.call(e)}function S(e){return 10>e?"0"+e.toString(10):e.toString(10)}function L(){var e=new Date,t=[S(e.getHours()),S(e.getMinutes()),S(e.getSeconds())].join(":");return[e.getDate(),C[e.getMonth()],t].join(" ")}function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var D=/%[sdj%]/g;n.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,s=r.length,a=String(e).replace(D,function(e){if("%%"===e)return"%";if(n>=s)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}}),o=r[n];s>n;o=r[++n])a+=v(o)||!F(o)?" "+o:" "+i(o);return a},n.deprecate=function(e,i){function s(){if(!a){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),a=!0}return e.apply(this,arguments)}if(j(r.process))return function(){return n.deprecate(e,i).apply(this,arguments)};if(t.noDeprecation===!0)return e;var a=!1;return s};var N,k={};n.debuglog=function(e){if(j(N)&&(N=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!k[e])if(new RegExp("\\b"+e+"\\b","i").test(N)){var r=t.pid;k[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else k[e]=function(){};return k[e]},n.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=d,n.isBoolean=g,n.isNull=v,n.isNullOrUndefined=y,n.isNumber=m,n.isString=b,n.isSymbol=x,n.isUndefined=j,n.isRegExp=R,n.isObject=F,n.isDate=_,n.isError=w,n.isFunction=O,n.isPrimitive=E,n.isBuffer=e("./support/isBuffer");var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",L(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!F(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":5,_process:4,inherits:3}],7:[function(e,t){function n(e){for(var t=-1,n=e?e.length:0,r=-1,i=[];++t<n;){var s=e[t];s&&(i[++r]=s)}return i}t.exports=n},{}],8:[function(e,t){function n(e,t,n){var i=-1,s=e?e.length:0;for(t=r(t,n,3);++i<s;)if(t(e[i],i,e))return i;return-1}var r=e("../internal/baseCallback");t.exports=n},{"../internal/baseCallback":19}],9:[function(e,t){function n(){for(var e=[],t=-1,n=arguments.length,c=[],u=r,f=!0;++t<n;){var l=arguments[t];(o(l)||a(l))&&(e.push(l),c.push(f&&l.length>=120?s(t&&l):null))}n=e.length;var h=e[0],p=-1,d=h?h.length:0,g=[],v=c[0];e:for(;++p<d;)if(l=h[p],(v?i(v,l):u(g,l,0))<0){for(t=n;--t;){var y=c[t];if((y?i(y,l):u(e[t],l,0))<0)continue e}v&&v.push(l),g.push(l)}return g}var r=e("../internal/baseIndexOf"),i=e("../internal/cacheIndexOf"),s=e("../internal/createCache"),a=e("../lang/isArguments"),o=e("../lang/isArray");t.exports=n},{"../internal/baseIndexOf":25,"../internal/cacheIndexOf":38,"../internal/createCache":43,"../lang/isArguments":65,"../lang/isArray":66}],10:[function(e,t){function n(e,t,n){if(o(e)){var c=a(e,t,n);return c>-1?e[c]:void 0}return t=r(t,n,3),s(e,t,i)}var r=e("../internal/baseCallback"),i=e("../internal/baseEach"),s=e("../internal/baseFind"),a=e("../array/findIndex"),o=e("../lang/isArray");t.exports=n},{"../array/findIndex":8,"../internal/baseCallback":19,"../internal/baseEach":21,"../internal/baseFind":22,"../lang/isArray":66}],11:[function(e,t){function n(e,t,n){return"function"==typeof t&&"undefined"==typeof n&&a(e)?r(e,t):i(e,s(t,n,3))}var r=e("../internal/arrayEach"),i=e("../internal/baseEach"),s=e("../internal/bindCallback"),a=e("../lang/isArray");t.exports=n},{"../internal/arrayEach":17,"../internal/baseEach":21,"../internal/bindCallback":37,"../lang/isArray":66}],12:[function(e,t){function n(e,t,n,c){var u=o(e)?r:a;return u(e,i(t,c,4),n,arguments.length<3,s)}var r=e("../internal/arrayReduce"),i=e("../internal/baseCallback"),s=e("../internal/baseEach"),a=e("../internal/baseReduce"),o=e("../lang/isArray");t.exports=n},{"../internal/arrayReduce":18,"../internal/baseCallback":19,"../internal/baseEach":21,"../internal/baseReduce":33,"../lang/isArray":66}],13:[function(e,t){var n=e("../lang/isNative"),r=n(r=Date.now)&&r,i=r||function(){return(new Date).getTime()};t.exports=i},{"../lang/isNative":69}],14:[function(e,t){function n(e,t){var c=a;if(arguments.length>2){var u=r(arguments,2),f=s(u,n.placeholder);c|=o}return i(e,c,t,u,f)}var r=e("../internal/baseSlice"),i=e("../internal/createWrapper"),s=e("../internal/replaceHolders"),a=1,o=32;n.placeholder={},t.exports=n},{"../internal/baseSlice":35,"../internal/createWrapper":47,"../internal/replaceHolders":61}],15:[function(e,t){(function(n){function r(e){var t=e?e.length:0;for(this.data={hash:o(null),set:new a};t--;)this.push(e[t])}var i=e("./cachePush"),s=e("../lang/isNative"),a=s(a=n.Set)&&a,o=s(o=Object.create)&&o;r.prototype.push=i,t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lang/isNative":69,"./cachePush":39}],16:[function(e,t){function n(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}t.exports=n},{}],17:[function(e,t){function n(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}t.exports=n},{}],18:[function(e,t){function n(e,t,n,r){var i=-1,s=e.length;for(r&&s&&(n=e[++i]);++i<s;)n=t(n,e[i],i,e);return n}t.exports=n},{}],19:[function(e,t){function n(e,t,n){var u=typeof e;return"function"==u?"undefined"!=typeof t&&c(e)?a(e,t,n):e:null==e?o:"object"==u?r(e):"undefined"==typeof t?s(e+""):i(e+"",t)}var r=e("./baseMatches"),i=e("./baseMatchesProperty"),s=e("./baseProperty"),a=e("./bindCallback"),o=e("../utility/identity"),c=e("./isBindable");t.exports=n},{"../utility/identity":79,"./baseMatches":30,"./baseMatchesProperty":31,"./baseProperty":32,"./bindCallback":37,"./isBindable":53}],20:[function(e,t){(function(n){var r=e("../lang/isObject"),i=function(){function e(){}return function(t){if(r(t)){e.prototype=t;var i=new e;e.prototype=null}return i||n.Object()}}();t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lang/isObject":70}],21:[function(e,t){function n(e,t){var n=e?e.length:0;if(!i(n))return r(e,t);for(var a=-1,o=s(e);++a<n&&t(o[a],a,o)!==!1;);return e}var r=e("./baseForOwn"),i=e("./isLength"),s=e("./toObject");t.exports=n},{"./baseForOwn":24,"./isLength":55,"./toObject":64}],22:[function(e,t){function n(e,t,n,r){var i;return n(e,function(e,n,s){return t(e,n,s)?(i=r?n:e,!1):void 0}),i}t.exports=n},{}],23:[function(e,t){function n(e,t,n){for(var i=-1,s=r(e),a=n(e),o=a.length;++i<o;){var c=a[i];if(t(s[c],c,s)===!1)break}return e}var r=e("./toObject");t.exports=n},{"./toObject":64}],24:[function(e,t){function n(e,t){return r(e,t,i)}var r=e("./baseFor"),i=e("../object/keys");t.exports=n},{"../object/keys":74,"./baseFor":23}],25:[function(e,t){function n(e,t,n){if(t!==t)return r(e,n);for(var i=n-1,s=e.length;++i<s;)if(e[i]===t)return i;return-1}var r=e("./indexOfNaN");t.exports=n},{"./indexOfNaN":52}],26:[function(e,t){function n(e,t,i,s,a,o){if(e===t)return 0!==e||1/e==1/t;var c=typeof e,u=typeof t;return"function"!=c&&"object"!=c&&"function"!=u&&"object"!=u||null==e||null==t?e!==e&&t!==t:r(e,t,n,i,s,a,o)}var r=e("./baseIsEqualDeep");t.exports=n},{"./baseIsEqualDeep":27}],27:[function(e,t){function n(e,t,n,l,d,g,v){var y=a(e),m=a(t),b=u,x=u;y||(b=p.call(e),b==c?b=f:b!=f&&(y=o(e))),m||(x=p.call(t),x==c?x=f:x!=f&&(m=o(t)));var j=b==f,R=x==f,F=b==x;if(F&&!y&&!j)return i(e,t,b);var _=j&&h.call(e,"__wrapped__"),w=R&&h.call(t,"__wrapped__");if(_||w)return n(_?e.value():e,w?t.value():t,l,d,g,v);if(!F)return!1;g||(g=[]),v||(v=[]);for(var O=g.length;O--;)if(g[O]==e)return v[O]==t;g.push(e),v.push(t);var E=(y?r:s)(e,t,n,l,d,g,v);return g.pop(),v.pop(),E}var r=e("./equalArrays"),i=e("./equalByTag"),s=e("./equalObjects"),a=e("../lang/isArray"),o=e("../lang/isTypedArray"),c="[object Arguments]",u="[object Array]",f="[object Object]",l=Object.prototype,h=l.hasOwnProperty,p=l.toString;t.exports=n},{"../lang/isArray":66,"../lang/isTypedArray":72,"./equalArrays":48,"./equalByTag":49,"./equalObjects":50}],28:[function(e,t){function n(e){return"function"==typeof e||!1}t.exports=n},{}],29:[function(e,t){function n(e,t,n,i,a){var o=t.length;if(null==e)return!o;for(var c=-1,u=!a;++c<o;)if(u&&i[c]?n[c]!==e[t[c]]:!s.call(e,t[c]))return!1;for(c=-1;++c<o;){var f=t[c];if(u&&i[c])var l=s.call(e,f);else{var h=e[f],p=n[c];l=a?a(h,p,f):void 0,"undefined"==typeof l&&(l=r(p,h,a,!0))}if(!l)return!1}return!0}var r=e("./baseIsEqual"),i=Object.prototype,s=i.hasOwnProperty;t.exports=n},{"./baseIsEqual":26}],30:[function(e,t){function n(e){var t=s(e),n=t.length;if(1==n){var a=t[0],c=e[a];if(i(c))return function(e){return null!=e&&e[a]===c&&o.call(e,a)}}for(var u=Array(n),f=Array(n);n--;)c=e[t[n]],u[n]=c,f[n]=i(c);return function(e){return r(e,t,u,f)}}var r=e("./baseIsMatch"),i=e("./isStrictComparable"),s=e("../object/keys"),a=Object.prototype,o=a.hasOwnProperty;t.exports=n},{"../object/keys":74,"./baseIsMatch":29,"./isStrictComparable":57}],31:[function(e,t){function n(e,t){return i(t)?function(n){return null!=n&&n[e]===t}:function(n){return null!=n&&r(t,n[e],null,!0)}}var r=e("./baseIsEqual"),i=e("./isStrictComparable");t.exports=n},{"./baseIsEqual":26,"./isStrictComparable":57}],32:[function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}t.exports=n},{}],33:[function(e,t){function n(e,t,n,r,i){return i(e,function(e,i,s){n=r?(r=!1,e):t(n,e,i,s)}),n}t.exports=n},{}],34:[function(e,t){var n=e("../utility/identity"),r=e("./metaMap"),i=r?function(e,t){return r.set(e,t),e}:n;t.exports=i},{"../utility/identity":79,"./metaMap":59}],35:[function(e,t){function n(e,t,n){var r=-1,i=e.length;t=null==t?0:+t||0,0>t&&(t=-t>i?0:i+t),n="undefined"==typeof n||n>i?i:+n||0,0>n&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+t];return s}t.exports=n},{}],36:[function(e,t){function n(e){return"string"==typeof e?e:null==e?"":e+""}t.exports=n},{}],37:[function(e,t){function n(e,t,n){if("function"!=typeof e)return r;if("undefined"==typeof t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,s){return e.call(t,n,r,i,s)};case 5:return function(n,r,i,s,a){return e.call(t,n,r,i,s,a)}}return function(){return e.apply(t,arguments)}}var r=e("../utility/identity");t.exports=n},{"../utility/identity":79}],38:[function(e,t){function n(e,t){var n=e.data,i="string"==typeof t||r(t)?n.set.has(t):n.hash[t];return i?0:-1}var r=e("../lang/isObject");t.exports=n},{"../lang/isObject":70}],39:[function(e,t){function n(e){var t=this.data;"string"==typeof e||r(e)?t.set.add(e):t.hash[e]=!0}var r=e("../lang/isObject");t.exports=n},{"../lang/isObject":70}],40:[function(e,t){function n(e,t,n){for(var i=n.length,s=-1,a=r(e.length-i,0),o=-1,c=t.length,u=Array(a+c);++o<c;)u[o]=t[o];for(;++s<i;)u[n[s]]=e[s];for(;a--;)u[o++]=e[s++];return u}var r=Math.max;t.exports=n},{}],41:[function(e,t){function n(e,t,n){for(var i=-1,s=n.length,a=-1,o=r(e.length-s,0),c=-1,u=t.length,f=Array(o+u);++a<o;)f[a]=e[a];for(var l=a;++c<u;)f[l+c]=t[c];for(;++i<s;)f[l+n[i]]=e[a++];return f}var r=Math.max;t.exports=n},{}],42:[function(e,t){(function(n){function r(e,t){function r(){var i=this&&this!==n&&this instanceof r?s:e;return i.apply(t,arguments)}var s=i(e);return r}var i=e("./createCtorWrapper");t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./createCtorWrapper":44}],43:[function(e,t){(function(n){var r=e("./SetCache"),i=e("../utility/constant"),s=e("../lang/isNative"),a=s(a=n.Set)&&a,o=s(o=Object.create)&&o,c=o&&a?function(e){return new r(e)}:i(null);t.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lang/isNative":69,"../utility/constant":78,"./SetCache":15}],44:[function(e,t){function n(e){return function(){var t=r(e.prototype),n=e.apply(t,arguments);return i(n)?n:t}}var r=e("./baseCreate"),i=e("../lang/isObject");t.exports=n},{"../lang/isObject":70,"./baseCreate":20}],45:[function(e,t){(function(n){function r(e,t,b,x,j,R,F,_,w,O){function E(){for(var h=arguments.length,p=h,d=Array(h);p--;)d[p]=arguments[p];if(x&&(d=s(d,x,j)),R&&(d=a(d,R,F)),P||N){var y=E.placeholder,M=u(d,y);if(h-=M.length,O>h){var I=_?i(_):null,T=m(O-h,0),q=P?M:null,z=P?null:M,H=P?d:null,W=P?null:d;t|=P?g:v,t&=~(P?v:g),D||(t&=~(f|l));var B=r(e,t,b,H,q,W,z,I,w,T);return B.placeholder=y,B}}var U=S?b:this;L&&(e=U[C]),_&&(d=c(d,_)),A&&w<d.length&&(d.length=w);var $=this&&this!==n&&this instanceof E?k||o(e):e;return $.apply(U,d)}var A=t&y,S=t&f,L=t&l,P=t&p,D=t&h,N=t&d,k=!L&&o(e),C=e;return E}var i=e("./arrayCopy"),s=e("./composeArgs"),a=e("./composeArgsRight"),o=e("./createCtorWrapper"),c=e("./reorder"),u=e("./replaceHolders"),f=1,l=2,h=4,p=8,d=16,g=32,v=64,y=256,m=Math.max;t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./arrayCopy":16,"./composeArgs":40,"./composeArgsRight":41,"./createCtorWrapper":44,"./reorder":60,"./replaceHolders":61}],46:[function(e,t){(function(n){function r(e,t,r,a){function o(){for(var t=-1,i=arguments.length,s=-1,f=a.length,l=Array(i+f);++s<f;)l[s]=a[s];for(;i--;)l[s++]=arguments[++t];var h=this&&this!==n&&this instanceof o?u:e;return h.apply(c?r:this,l)}var c=t&s,u=i(e);return o}var i=e("./createCtorWrapper"),s=1;t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./createCtorWrapper":44}],47:[function(e,t){function n(e,t,n,v,y,m,b,x){var j=t&l;if(!j&&"function"!=typeof e)throw new TypeError(d);var R=v?v.length:0;if(R||(t&=~(h|p),v=y=null),R-=y?y.length:0,t&p){var F=v,_=y;v=y=null}var w=!j&&o(e),O=[e,t,n,v,y,F,_,m,b,x];if(w&&w!==!0&&(c(O,w),t=O[1],x=O[9]),O[9]=null==x?j?0:e.length:g(x-R,0)||0,t==f)var E=i(O[0],O[2]);else E=t!=h&&t!=(f|h)||O[4].length?s.apply(void 0,O):a.apply(void 0,O);var A=w?r:u;return A(E,O)}var r=e("./baseSetData"),i=e("./createBindWrapper"),s=e("./createHybridWrapper"),a=e("./createPartialWrapper"),o=e("./getData"),c=e("./mergeData"),u=e("./setData"),f=1,l=2,h=32,p=64,d="Expected a function",g=Math.max;t.exports=n},{"./baseSetData":34,"./createBindWrapper":42,"./createHybridWrapper":45,"./createPartialWrapper":46,"./getData":51,"./mergeData":58,"./setData":62}],48:[function(e,t){function n(e,t,n,r,i,s,a){var o=-1,c=e.length,u=t.length,f=!0;if(c!=u&&!(i&&u>c))return!1;for(;f&&++o<c;){var l=e[o],h=t[o];if(f=void 0,r&&(f=i?r(h,l,o):r(l,h,o)),"undefined"==typeof f)if(i)for(var p=u;p--&&(h=t[p],!(f=l&&l===h||n(l,h,r,i,s,a))););else f=l&&l===h||n(l,h,r,i,s,a)}return!!f}t.exports=n},{}],49:[function(e,t){function n(e,t,n){switch(n){case r:case i:return+e==+t;case s:return e.name==t.name&&e.message==t.message;case a:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case o:case c:return e==t+""}return!1}var r="[object Boolean]",i="[object Date]",s="[object Error]",a="[object Number]",o="[object RegExp]",c="[object String]";t.exports=n},{}],50:[function(e,t){function n(e,t,n,i,a,o,c){var u=r(e),f=u.length,l=r(t),h=l.length;if(f!=h&&!a)return!1;for(var p,d=-1;++d<f;){var g=u[d],v=s.call(t,g);if(v){var y=e[g],m=t[g];v=void 0,i&&(v=a?i(m,y,g):i(y,m,g)),"undefined"==typeof v&&(v=y&&y===m||n(y,m,i,a,o,c))}if(!v)return!1;p||(p="constructor"==g)}if(!p){var b=e.constructor,x=t.constructor;if(b!=x&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x))return!1}return!0}var r=e("../object/keys"),i=Object.prototype,s=i.hasOwnProperty;t.exports=n},{"../object/keys":74}],51:[function(e,t){var n=e("./metaMap"),r=e("../utility/noop"),i=n?function(e){return n.get(e)}:r;t.exports=i},{"../utility/noop":80,"./metaMap":59}],52:[function(e,t){function n(e,t,n){for(var r=e.length,i=t+(n?0:-1);n?i--:++i<r;){var s=e[i];if(s!==s)return i}return-1}t.exports=n},{}],53:[function(e,t){function n(e){var t=!(s.funcNames?e.name:s.funcDecomp);if(!t){var n=c.call(e);s.funcNames||(t=!a.test(n)),t||(t=o.test(n)||i(e),r(e,t))}return t}var r=e("./baseSetData"),i=e("../lang/isNative"),s=e("../support"),a=/^\s*function[ \n\r\t]+\w/,o=/\bthis\b/,c=Function.prototype.toString;t.exports=n},{"../lang/isNative":69,"../support":77,"./baseSetData":34}],54:[function(e,t){function n(e,t){return e=+e,t=null==t?r:t,e>-1&&e%1==0&&t>e}var r=Math.pow(2,53)-1;t.exports=n},{}],55:[function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&r>=e}var r=Math.pow(2,53)-1;t.exports=n},{}],56:[function(e,t){function n(e){return e&&"object"==typeof e||!1}t.exports=n},{}],57:[function(e,t){function n(e){return e===e&&(0===e?1/e>0:!r(e))}var r=e("../lang/isObject");t.exports=n},{"../lang/isObject":70}],58:[function(e,t){function n(e,t){var n=e[1],g=t[1],v=n|g,y=h|l,m=o|c,b=y|m|u|f,x=n&h&&!(g&h),j=n&l&&!(g&l),R=(j?e:t)[7],F=(x?e:t)[8],_=!(n>=l&&g>m||n>m&&g>=l),w=v>=y&&b>=v&&(l>n||(j||x)&&R.length<=F);if(!_&&!w)return e;g&o&&(e[2]=t[2],v|=n&o?0:u);var O=t[3];if(O){var E=e[3];e[3]=E?i(E,O,t[4]):r(O),e[4]=E?a(e[3],p):r(t[4])}return O=t[5],O&&(E=e[5],e[5]=E?s(E,O,t[6]):r(O),e[6]=E?a(e[5],p):r(t[6])),O=t[7],O&&(e[7]=r(O)),g&h&&(e[8]=null==e[8]?t[8]:d(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=v,e}var r=e("./arrayCopy"),i=e("./composeArgs"),s=e("./composeArgsRight"),a=e("./replaceHolders"),o=1,c=2,u=4,f=16,l=128,h=256,p="__lodash_placeholder__",d=Math.min;t.exports=n},{"./arrayCopy":16,"./composeArgs":40,"./composeArgsRight":41,"./replaceHolders":61}],59:[function(e,t){(function(n){var r=e("../lang/isNative"),i=r(i=n.WeakMap)&&i,s=i&&new i;t.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lang/isNative":69}],60:[function(e,t){function n(e,t){for(var n=e.length,a=s(t.length,n),o=r(e);a--;){var c=t[a];e[a]=i(c,n)?o[c]:void 0}return e}var r=e("./arrayCopy"),i=e("./isIndex"),s=Math.min;t.exports=n},{"./arrayCopy":16,"./isIndex":54}],61:[function(e,t){function n(e,t){for(var n=-1,i=e.length,s=-1,a=[];++n<i;)e[n]===t&&(e[n]=r,a[++s]=n);return a}var r="__lodash_placeholder__";t.exports=n},{}],62:[function(e,t){var n=e("./baseSetData"),r=e("../date/now"),i=150,s=16,a=function(){var e=0,t=0;return function(a,o){var c=r(),u=s-(c-t);if(t=c,u>0){if(++e>=i)return a}else e=0;return n(a,o)}}();t.exports=a},{"../date/now":13,"./baseSetData":34}],63:[function(e,t){function n(e){for(var t=o(e),n=t.length,u=n&&e.length,l=u&&a(u)&&(i(e)||c.nonEnumArgs&&r(e)),h=-1,p=[];++h<n;){var d=t[h];(l&&s(d,u)||f.call(e,d))&&p.push(d)}return p}var r=e("../lang/isArguments"),i=e("../lang/isArray"),s=e("./isIndex"),a=e("./isLength"),o=e("../object/keysIn"),c=e("../support"),u=Object.prototype,f=u.hasOwnProperty;t.exports=n},{"../lang/isArguments":65,"../lang/isArray":66,"../object/keysIn":75,"../support":77,"./isIndex":54,"./isLength":55}],64:[function(e,t){function n(e){return r(e)?e:Object(e)}var r=e("../lang/isObject");t.exports=n},{"../lang/isObject":70}],65:[function(e,t){function n(e){var t=i(e)?e.length:void 0;return r(t)&&o.call(e)==s||!1}var r=e("../internal/isLength"),i=e("../internal/isObjectLike"),s="[object Arguments]",a=Object.prototype,o=a.toString;t.exports=n},{"../internal/isLength":55,"../internal/isObjectLike":56}],66:[function(e,t){var n=e("../internal/isLength"),r=e("./isNative"),i=e("../internal/isObjectLike"),s="[object Array]",a=Object.prototype,o=a.toString,c=r(c=Array.isArray)&&c,u=c||function(e){return i(e)&&n(e.length)&&o.call(e)==s||!1};t.exports=u},{"../internal/isLength":55,"../internal/isObjectLike":56,"./isNative":69}],67:[function(e,t){function n(e){if(null==e)return!0;var t=e.length;return a(t)&&(i(e)||c(e)||r(e)||o(e)&&s(e.splice))?!t:!u(e).length}var r=e("./isArguments"),i=e("./isArray"),s=e("./isFunction"),a=e("../internal/isLength"),o=e("../internal/isObjectLike"),c=e("./isString"),u=e("../object/keys");t.exports=n},{"../internal/isLength":55,"../internal/isObjectLike":56,"../object/keys":74,"./isArguments":65,"./isArray":66,"./isFunction":68,"./isString":71}],68:[function(e,t){(function(n){var r=e("../internal/baseIsFunction"),i=e("./isNative"),s="[object Function]",a=Object.prototype,o=a.toString,c=i(c=n.Uint8Array)&&c,u=r(/x/)||c&&!r(c)?function(e){return o.call(e)==s}:r;t.exports=u}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../internal/baseIsFunction":28,"./isNative":69}],69:[function(e,t){function n(e){return null==e?!1:u.call(e)==s?f.test(c.call(e)):i(e)&&a.test(e)||!1}var r=e("../string/escapeRegExp"),i=e("../internal/isObjectLike"),s="[object Function]",a=/^\[object .+?Constructor\]$/,o=Object.prototype,c=Function.prototype.toString,u=o.toString,f=RegExp("^"+r(u).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=n},{"../internal/isObjectLike":56,"../string/escapeRegExp":76}],70:[function(e,t){function n(e){var t=typeof e;return"function"==t||e&&"object"==t||!1}t.exports=n},{}],71:[function(e,t){function n(e){return"string"==typeof e||r(e)&&a.call(e)==i||!1}var r=e("../internal/isObjectLike"),i="[object String]",s=Object.prototype,a=s.toString;t.exports=n},{"../internal/isObjectLike":56}],72:[function(e,t){function n(e){return i(e)&&r(e.length)&&A[L.call(e)]||!1}var r=e("../internal/isLength"),i=e("../internal/isObjectLike"),s="[object Arguments]",a="[object Array]",o="[object Boolean]",c="[object Date]",u="[object Error]",f="[object Function]",l="[object Map]",h="[object Number]",p="[object Object]",d="[object RegExp]",g="[object Set]",v="[object String]",y="[object WeakMap]",m="[object ArrayBuffer]",b="[object Float32Array]",x="[object Float64Array]",j="[object Int8Array]",R="[object Int16Array]",F="[object Int32Array]",_="[object Uint8Array]",w="[object Uint8ClampedArray]",O="[object Uint16Array]",E="[object Uint32Array]",A={};A[b]=A[x]=A[j]=A[R]=A[F]=A[_]=A[w]=A[O]=A[E]=!0,A[s]=A[a]=A[m]=A[o]=A[c]=A[u]=A[f]=A[l]=A[h]=A[p]=A[d]=A[g]=A[v]=A[y]=!1;var S=Object.prototype,L=S.toString;t.exports=n;

},{"../internal/isLength":55,"../internal/isObjectLike":56}],73:[function(e,t){function n(e){return"undefined"==typeof e}t.exports=n},{}],74:[function(e,t){var n=e("../internal/isLength"),r=e("../lang/isNative"),i=e("../lang/isObject"),s=e("../internal/shimKeys"),a=r(a=Object.keys)&&a,o=a?function(e){if(e)var t=e.constructor,r=e.length;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&r&&n(r)?s(e):i(e)?a(e):[]}:s;t.exports=o},{"../internal/isLength":55,"../internal/shimKeys":63,"../lang/isNative":69,"../lang/isObject":70}],75:[function(e,t){function n(e){if(null==e)return[];o(e)||(e=Object(e));var t=e.length;t=t&&a(t)&&(i(e)||c.nonEnumArgs&&r(e))&&t||0;for(var n=e.constructor,u=-1,l="function"==typeof n&&n.prototype===e,h=Array(t),p=t>0;++u<t;)h[u]=u+"";for(var d in e)p&&s(d,t)||"constructor"==d&&(l||!f.call(e,d))||h.push(d);return h}var r=e("../lang/isArguments"),i=e("../lang/isArray"),s=e("../internal/isIndex"),a=e("../internal/isLength"),o=e("../lang/isObject"),c=e("../support"),u=Object.prototype,f=u.hasOwnProperty;t.exports=n},{"../internal/isIndex":54,"../internal/isLength":55,"../lang/isArguments":65,"../lang/isArray":66,"../lang/isObject":70,"../support":77}],76:[function(e,t){function n(e){return e=r(e),e&&s.test(e)?e.replace(i,"\\$&"):e}var r=e("../internal/baseToString"),i=/[.*+?^${}()|[\]\/\\]/g,s=RegExp(i.source);t.exports=n},{"../internal/baseToString":36}],77:[function(e,t){(function(n){var r=e("./lang/isNative"),i=/\bthis\b/,s=Object.prototype,a=(a=n.window)&&a.document,o=s.propertyIsEnumerable,c={};!function(){c.funcDecomp=!r(n.WinRTError)&&i.test(function(){return this}),c.funcNames="string"==typeof Function.name;try{c.dom=11===a.createDocumentFragment().nodeType}catch(e){c.dom=!1}try{c.nonEnumArgs=!o.call(arguments,1)}catch(e){c.nonEnumArgs=!0}}(0,0),t.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lang/isNative":69}],78:[function(e,t){function n(e){return function(){return e}}t.exports=n},{}],79:[function(e,t){function n(e){return e}t.exports=n},{}],80:[function(e,t){function n(){}t.exports=n},{}],81:[function(e,t){"use strict";var n=e("lodash/object/keys"),r=e("lodash/array/intersection"),i=e("lodash/collection/forEach"),s=e("lodash/collection/reduce"),a=e("lodash/lang/isEmpty"),o=e("lodash/lang/isUndefined"),c=e("lodash/lang/isString"),u=function(e){var t=e||{};this.query=t.query||"",this.facets=t.facets||[],this.disjunctiveFacets=t.disjunctiveFacets||[],this.facetsRefinements=t.facetsRefinements||{},this.facetsExcludes=t.facetsExcludes||{},this.disjunctiveFacetsRefinements=t.disjunctiveFacetsRefinements||{},this.numericRefinements=t.numericRefinements||{},this.hitsPerPage=t.hitsPerPage||20,this.maxValuesPerFacet=t.maxValuesPerFacet||10,this.page=t.page||0,this.queryType=t.queryType,this.typoTolerance=t.typoTolerance,this.minWordSizefor1Typo=t.minWordSizefor1Typo,this.minWordSizefor2Typos=t.minWordSizefor2Typos,this.allowTyposOnNumericTokens=t.allowTyposOnNumericTokens,this.ignorePlurals=t.ignorePlurals,this.restrictSearchableAttributes=t.restrictSearchableAttributes,this.advancedSyntax=t.advancedSyntax,this.analytics=t.analytics,this.analyticsTags=t.analyticsTags,this.synonyms=t.synonyms,this.replaceSynonymsInHighlight=t.replaceSynonymsInHighlight,this.optionalWords=t.optionalWords,this.removeWordsIfNoResults=t.removeWordsIfNoResults,this.attributesToRetrieve=t.attributesToRetrieve,this.attributesToHighlight=t.attributesToHighlight,this.attributesToSnippet=t.attributesToSnippet,this.getRankingInfo=t.getRankingInfo,this.tagFilters=t.tagFilters,this.distinct=t.distinct,this.aroundLatLng=t.aroundLatLng,this.aroundLatLngViaIP=t.aroundLatLngViaIP,this.aroundRadius=t.aroundRadius,this.aroundPrecision=t.aroundPrecision,this.insideBoundingBox=t.insideBoundingBox};u.prototype={constructor:u,clearRefinements:function(e){return this.mutateMe(function(t){t.page=0,t._clearNumericRefinements(e),t._clearFacetRefinements(e),t._clearExcludeRefinements(e),t._clearDisjunctiveFacetRefinements(e)})},setQuery:function(e){return this.mutateMe(function(t){t.query=e,t.page=0})},setPage:function(e){return this.mutateMe(function(t){t.page=e})},setFacets:function(e){return this.mutateMe(function(t){t.facets=e})},setDisjunctiveFacets:function(e){return this.mutateMe(function(t){t.disjunctiveFacets=e})},setHitsPerPage:function(e){return this.mutateMe(function(t){t.HitsPerPage=e,t.page=0})},addNumericRefinement:function(e,t,n){return this.mutateMe(function(r){r.page=0,r.numericRefinements[e]||(r.numericRefinements[e]={}),r.numericRefinements[e][t]=n})},removeNumericRefinement:function(e,t){return this.mutateMe(function(n){if(n.numericRefinements[e]){n.page=0;var r=n.numericRefinements[e][t];o(r)||(delete n.numericRefinements[e][t],a(n.numericRefinements[e])&&delete n.numericRefinements[e])}})},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(e){o(e)?this.numericRefinements={}:c(e)&&(o(this.numericRefinements[e])||delete this.numericRefinements[e])},addFacetRefinement:function(e,t){return this.mutateMe(function(n){n.page=0,n.facetsRefinements[e]=t})},addExcludeRefinement:function(e,t){return this.mutateMe(function(n){n.page=0,n.facetsExcludes[e]||(n.facetsExcludes[e]=[]),n.facetsExcludes[e].push(t)})},addDisjunctiveFacetRefinement:function(e,t){return this.mutateMe(function(n){n.page=0,n.disjunctiveFacetsRefinements[e]||(n.disjunctiveFacetsRefinements[e]=[]),n.disjunctiveFacetsRefinements[e].push(t)})},removeFacetRefinement:function(e){return this.mutateMe(function(t){t.page=0,t._clearFacetRefinements(e)})},removeExcludeRefinement:function(e,t){return this.mutateMe(function(n){if(n.facetsExcludes[e]){n.page=0;var r=n.facetsExcludes[e].indexOf(t);r>-1&&(n.facetsExcludes[e].splice(r,1),0===n.facetsExcludes[e].length&&delete n.facetsExcludes[e])}})},removeDisjunctiveFacetRefinement:function(e,t){return this.mutateMe(function(n){if(n.disjunctiveFacetsRefinements[e]){n.page=0;var r=n.disjunctiveFacetsRefinements[e].indexOf(t);r>-1&&(n.disjunctiveFacetsRefinements[e].splice(r,1),0===n.disjunctiveFacetsRefinements[e].length&&delete n.disjunctiveFacetsRefinements[e])}})},_clearFacetRefinements:function(e){o(e)?this.facetsRefinements={}:c(e)&&(o(this.facetsRefinements[e])||delete this.facetsRefinements[e])},_clearExcludeRefinements:function(e){o(e)?this.facetsExcludes={}:c(e)&&(o(this.facetsExcludes[e])||delete this.facetsExcludes[e])},_clearDisjunctiveFacetRefinements:function(e){o(e)?this.disjunctiveFacetsRefinements={}:c(e)&&(o(this.disjunctiveFacetsRefinements[e])||delete this.disjunctiveFacetsRefinements[e])},toggleFacetRefinement:function(e,t){return this.isFacetRefined(e,t)?this.removeFacetRefinement(e):this.addFacetRefinement(e,t)},toggleExcludeFacetRefinement:function(e,t){return this.isExcludeRefined(e,t)?this.removeExcludeRefinement(e,t):this.addExcludeRefinement(e,t)},toggleDisjunctiveFacetRefinement:function(e,t){return this.isDisjunctiveFacetRefined(e,t)?this.removeDisjunctiveFacetRefinement(e,t):this.addDisjunctiveFacetRefinement(e,t)},isFacetRefined:function(e,t){return this.facetsRefinements[e]===t},isExcludeRefined:function(e,t){return this.facetsExcludes[e]&&-1!==this.facetsExcludes[e].indexOf(t)},isDisjunctiveFacetRefined:function(e,t){return this.disjunctiveFacetsRefinements[e]&&-1!==this.disjunctiveFacetsRefinements[e].indexOf(t)},getRefinedDisjunctiveFacets:function(){var e=r(n(this.numericRefinements),this.disjunctiveFacets);return n(this.disjunctiveFacetsRefinements).concat(e)},getUnrefinedDisjunctiveFacets:function(){var e=[],t=this.getRefinedDisjunctiveFacets();return i(this.disjunctiveFacets,function(n){-1===t.indexOf(n)&&e.push(n)}),e},managedParameters:["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements"],getQueryParams:function(){var e=this.managedParameters;return s(this,function(t,n,r,i){return-1===e.indexOf(r)&&void 0!==i[r]&&(t[r]=n),t},{})},mutateMe:function(e){var t=new this.constructor(this);return e(t),Object.freeze(t)}},t.exports=u},{"lodash/array/intersection":9,"lodash/collection/forEach":11,"lodash/collection/reduce":12,"lodash/lang/isEmpty":67,"lodash/lang/isString":71,"lodash/lang/isUndefined":73,"lodash/object/keys":74}],82:[function(e,t){"use strict";function n(e){var t={};return s(e,function(e,n){t[e]=n}),t}function r(e,t,n){t&&t[n]&&(e.stats=t[n])}function i(e,t,n){n&&(e.timeout=!!t)}var s=e("lodash/collection/forEach"),a=e("lodash/array/compact"),o=e("lodash/collection/find"),c=e("../functions/extend"),u=function(e,t){var o=t.results[0];this.query=o.query,this.hits=o.hits,this.index=o.index,this.hitsPerPage=o.hitsPerPage,this.nbHits=o.nbHits,this.nbPages=o.nbPages,this.page=o.page,this.processingTimeMS=o.processingTimeMS,this.disjunctiveFacets=[],this.facets=[];var u=e.getRefinedDisjunctiveFacets(),f=n(e.facets),l=n(e.disjunctiveFacets);s(o.facets,function(t,n){var s=-1!==e.disjunctiveFacets.indexOf(n),a=s?l[n]:f[n];s?(this.disjunctiveFacets[a]={name:n,data:t},r(this.disjunctiveFacets[a],o.facets_stats,n),i(this.disjunctiveFacets[a],e.getRankingInfo,o.timeoutCounts,n)):(this.facets[a]={name:n,data:t},r(this.facets[a],o.facets_stats,n),i(this.facets[a],e.getRankingInfo,o.timeoutCounts,n))},this),s(u,function(n,a){var u=t.results[a+1];s(u.facets,function(t,n){var a=l[n],f=o.facets[n];this.disjunctiveFacets[a]={name:n,data:c({},t,f)},r(this.disjunctiveFacets[a],u.facets_stats,n),i(this.disjunctiveFacets[a],e.getRankingInfo,u.timeoutCounts,n),e.disjunctiveFacetsRefinements[n]&&s(e.disjunctiveFacetsRefinements[n],function(t){!this.disjunctiveFacets[a].data[t]&&e.disjunctiveFacetsRefinements[n].indexOf(t)>-1&&(this.disjunctiveFacets[a].data[t]=0)},this)},this)},this),s(e.facetsExcludes,function(e,t){var n=f[t];this.facets[n]={name:t,data:o.facets[t]},s(e,function(e){this.facets[n]=this.facets[n]||{name:t},this.facets[n].data=this.facets[n].data||{},this.facets[n].data[e]=0},this)},this),this.facets=a(this.facets),this.disjunctiveFacets=a(this.disjunctiveFacets),this._state=e};u.prototype.getFacetByName=function(e){var t=function(t){return t.name===e},n=o(this.facets,t);return n||o(this.disjunctiveFacets,t)},t.exports=u},{"../functions/extend":84,"lodash/array/compact":7,"lodash/collection/find":10,"lodash/collection/forEach":11}],83:[function(e,t){"use strict";function n(e,t,n){this.client=e,this.index=t,this.state=new r(n),this.lastResults=null}var r=e("./SearchParameters"),i=e("./SearchResults"),s=e("./functions/extend"),a=e("util"),o=e("events"),c=e("lodash/collection/forEach"),u=e("lodash/function/bind");a.inherits(n,o.EventEmitter),n.prototype.search=function(){return this._search(),this},n.prototype.setQuery=function(e){return this.state=this.state.setQuery(e),this._change(),this},n.prototype.clearRefinements=function(e){return this.state=this.state.clearRefinements(e),this._change(),this},n.prototype.addDisjunctiveRefine=function(e,t){return this.state=this.state.addDisjunctiveFacetRefinement(e,t),this._change(),this},n.prototype.removeDisjunctiveRefine=function(e,t){return this.state=this.state.removeDisjunctiveFacetRefinement(e,t),this._change(),this},n.prototype.addNumericRefinement=function(e,t,n){return this.state=this.state.addNumericRefinement(e,t,n),this._change(),this},n.prototype.removeNumericRefinement=function(e,t,n){return this.state=this.state.removeNumericRefinement(e,t,n),this._change(),this},n.prototype.addRefine=function(e,t){return this.state=this.state.addFacetRefinement(e,t),this._change(),this},n.prototype.removeRefine=function(e,t){return this.state=this.state.removeFacetRefinement(e,t),this._change(),this},n.prototype.addExclude=function(e,t){return this.state=this.state.addExcludeRefinement(e,t),this._change(),this},n.prototype.removeExclude=function(e,t){return this.state=this.state.removeExcludeRefinement(e,t),this._change(),this},n.prototype.toggleExclude=function(e,t){return this.state=this.state.toggleExcludeFacetRefinement(e,t),this._change(),this},n.prototype.toggleRefine=function(e,t){if(this.state.facets.indexOf(e)>-1)this.state=this.state.toggleFacetRefinement(e,t);else{if(!(this.state.disjunctiveFacets.indexOf(e)>-1))return console.log("warning : you're trying to refine the undeclared facet '"+e+"'; add it to the helper options 'facets' or 'disjunctiveFacets'"),this;this.state=this.state.toggleDisjunctiveFacetRefinement(e,t)}return this._change(),this},n.prototype.nextPage=function(){return this.setCurrentPage(this.state.page+1)},n.prototype.previousPage=function(){return this.setCurrentPage(this.state.page-1)},n.prototype.setCurrentPage=function(e){if(0>e)throw new Error("Page requested below 0.");return this.state=this.state.setPage(e),this._change(),this},n.prototype.setIndex=function(e){return this.index=e,this.setCurrentPage(0),this},n.prototype.setState=function(e){return this.state=new r(e),this._change(),this},n.prototype.isRefined=function(e,t){return this.state.facets.indexOf(e)>-1?this.state.isFacetRefined(e,t):this.state.disjunctiveFacets.indexOf(e)>-1?this.state.isDisjunctiveFacetRefined(e,t):!1},n.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)},n.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)},n.prototype.getIndex=function(){return this.index},n.prototype.getCurrentPage=function(){return this.state.page},n.prototype._search=function(){var e=this.state,t=[];t.push({indexName:this.index,query:e.query,params:this._getHitsSearchParams()}),c(e.getRefinedDisjunctiveFacets(),function(n){t.push({indexName:this.index,query:e.query,params:this._getDisjunctiveFacetSearchParams(n)})},this),this.client.search(t,u(this._handleResponse,this,e))},n.prototype._handleResponse=function(e,t,n){if(t)return void this.emit("error",t);var r=this.lastResults=new i(e,n);this.emit("result",r,e)},n.prototype._getHitsSearchParams=function(){var e=this.state.facets.concat(this.state.disjunctiveFacets),t=this._getFacetFilters(),n=this._getNumericFilters(),r={facets:e,distinct:!1};return t.length>0&&(r.facetFilters=t,r.distinct=this.state.distinct||!1),n.length>0&&(r.numericFilters=n),s(this.state.getQueryParams(),r)},n.prototype._getDisjunctiveFacetSearchParams=function(e){var t=this._getFacetFilters(e),n=this._getNumericFilters(e),r={hitsPerPage:1,page:0,attributesToRetrieve:[],attributesToHighlight:[],attributesToSnippet:[],facets:e,distinct:!1};return n.length>0&&(r.numericFilters=n),t.length>0&&(r.facetFilters=t,r.distinct=this.state.distinct||!1),s(this.state.getQueryParams(),r)},n.prototype._getNumericFilters=function(e){var t=[];return c(this.state.numericRefinements,function(n,r){c(n,function(n,i){e!==r&&t.push(r+i+n)})}),t},n.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&this.state.disjunctiveRefinements[e].length>0},n.prototype._getFacetFilters=function(e){var t=[];return c(this.state.facetsRefinements,function(e,n){t.push(n+":"+e)}),c(this.state.facetsExcludes,function(e,n){c(e,function(e){t.push(n+":-"+e)})}),c(this.state.disjunctiveFacetsRefinements,function(n,r){if(r!==e&&n&&0!==n.length){var i=[];c(n,function(e){i.push(r+":"+e)}),t.push(i)}}),t},n.prototype._change=function(){this.emit("change",this.state,this.lastResults)},t.exports=n},{"./SearchParameters":81,"./SearchResults":82,"./functions/extend":84,events:2,"lodash/collection/forEach":11,"lodash/function/bind":14,util:6}],84:[function(e,t){"use strict";t.exports=function(e){e=e||{};for(var t=1;t<arguments.length;t++)if(arguments[t])for(var n in arguments[t])arguments[t].hasOwnProperty(n)&&(e[n]=arguments[t][n]);return e}},{}]},{},[1])(1)});