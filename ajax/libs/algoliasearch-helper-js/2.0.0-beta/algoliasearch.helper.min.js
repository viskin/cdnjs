!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.algoliasearchHelper=e()}}(function(){return function e(t,n,i){function r(o,a){if(!n[o]){if(!t[o]){var c="function"==typeof require&&require;if(!a&&c)return c(o,!0);if(s)return s(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return r(n?n:e)},f,f.exports,e,t,n,i)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(e,t){"use strict";function n(e,t,n){return new i(e,t,n)}var i=e("./src/algoliasearch.helper");n.version="2.0.0-rc4",t.exports=n},{"./src/algoliasearch.helper":72}],2:[function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function r(e){return"number"==typeof e}function s(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!r(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,r,a,c,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],o(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,a=new Array(r-1),c=1;r>c;c++)a[c-1]=arguments[c];n.apply(this,a)}else if(s(n)){for(r=arguments.length,a=new Array(r-1),c=1;r>c;c++)a[c-1]=arguments[c];for(u=n.slice(),r=u.length,c=0;r>c;c++)u[c].apply(this,a)}return!0},n.prototype.addListener=function(e,t){var r;if(!i(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned){var r;r=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,r&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,r,o,a;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],o=n.length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(n)){for(a=o;a-->0;)if(n[a]===t||n[a].listener&&n[a].listener===t){r=a;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?i(e._events[t])?1:e._events[t].length:0}},{}],3:[function(e,t){t.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],4:[function(e,t){function n(){if(!o){o=!0;for(var e,t=s.length;t;){e=s,s=[];for(var n=-1;++n<t;)e[n]();t=s.length}o=!1}}function i(){}var r=t.exports={},s=[],o=!1;r.nextTick=function(e){s.push(e),o||setTimeout(n,0)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=i,r.addListener=i,r.once=i,r.off=i,r.removeListener=i,r.removeAllListeners=i,r.emit=i,r.binding=function(){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},{}],5:[function(e,t){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],6:[function(e,t,n){(function(t,i){function r(e,t){var i={seen:[],stylize:o};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),g(t)?i.showHidden=t:t&&n._extend(i,t),x(i.showHidden)&&(i.showHidden=!1),x(i.depth)&&(i.depth=2),x(i.colors)&&(i.colors=!1),x(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=s),c(i,e,i.depth)}function s(e,t){var n=r.styles[t];return n?"["+r.colors[n][0]+"m"+e+"["+r.colors[n][1]+"m":e}function o(e){return e}function a(e){var t={};return e.forEach(function(e){t[e]=!0}),t}function c(e,t,i){if(e.customInspect&&t&&E(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var r=t.inspect(i,e);return b(r)||(r=c(e,r,i)),r}var s=u(e,t);if(s)return s;var o=Object.keys(t),g=a(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),_(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return f(t);if(0===o.length){if(E(t)){var v=t.name?": "+t.name:"";return e.stylize("[Function"+v+"]","special")}if(R(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(w(t))return e.stylize(Date.prototype.toString.call(t),"date");if(_(t))return f(t)}var m="",y=!1,j=["{","}"];if(d(t)&&(y=!0,j=["[","]"]),E(t)){var x=t.name?": "+t.name:"";m=" [Function"+x+"]"}if(R(t)&&(m=" "+RegExp.prototype.toString.call(t)),w(t)&&(m=" "+Date.prototype.toUTCString.call(t)),_(t)&&(m=" "+f(t)),0===o.length&&(!y||0==t.length))return j[0]+m+j[1];if(0>i)return R(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var F;return F=y?l(e,t,i,g,o):o.map(function(n){return h(e,t,i,g,n,y)}),e.seen.pop(),p(F,m,j)}function u(e,t){if(x(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return y(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function l(e,t,n,i,r){for(var s=[],o=0,a=t.length;a>o;++o)s.push(D(t,String(o))?h(e,t,n,i,String(o),!0):"");return r.forEach(function(r){r.match(/^\d+$/)||s.push(h(e,t,n,i,r,!0))}),s}function h(e,t,n,i,r,s){var o,a,u;if(u=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]},u.get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),D(i,r)||(o="["+r+"]"),a||(e.seen.indexOf(u.value)<0?(a=v(n)?c(e,u.value,null):c(e,u.value,n-1),a.indexOf("\n")>-1&&(a=s?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n"))):a=e.stylize("[Circular]","special")),x(o)){if(s&&r.match(/^\d+$/))return a;o=JSON.stringify(""+r),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+a}function p(e,t,n){var i=0,r=e.reduce(function(e,t){return i++,t.indexOf("\n")>=0&&i++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return r>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function d(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function v(e){return null===e}function m(e){return null==e}function y(e){return"number"==typeof e}function b(e){return"string"==typeof e}function j(e){return"symbol"==typeof e}function x(e){return void 0===e}function R(e){return F(e)&&"[object RegExp]"===S(e)}function F(e){return"object"==typeof e&&null!==e}function w(e){return F(e)&&"[object Date]"===S(e)}function _(e){return F(e)&&("[object Error]"===S(e)||e instanceof Error)}function E(e){return"function"==typeof e}function O(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function S(e){return Object.prototype.toString.call(e)}function A(e){return 10>e?"0"+e.toString(10):e.toString(10)}function L(){var e=new Date,t=[A(e.getHours()),A(e.getMinutes()),A(e.getSeconds())].join(":");return[e.getDate(),M[e.getMonth()],t].join(" ")}function D(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var P=/%[sdj%]/g;n.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(r(arguments[n]));return t.join(" ")}for(var n=1,i=arguments,s=i.length,o=String(e).replace(P,function(e){if("%%"===e)return"%";if(n>=s)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(t){return"[Circular]"}default:return e}}),a=i[n];s>n;a=i[++n])o+=v(a)||!F(a)?" "+a:" "+r(a);return o},n.deprecate=function(e,r){function s(){if(!o){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),o=!0}return e.apply(this,arguments)}if(x(i.process))return function(){return n.deprecate(e,r).apply(this,arguments)};if(t.noDeprecation===!0)return e;var o=!1;return s};var k,N={};n.debuglog=function(e){if(x(k)&&(k=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!N[e])if(new RegExp("\\b"+e+"\\b","i").test(k)){var i=t.pid;N[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,i,t)}}else N[e]=function(){};return N[e]},n.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=d,n.isBoolean=g,n.isNull=v,n.isNullOrUndefined=m,n.isNumber=y,n.isString=b,n.isSymbol=j,n.isUndefined=x,n.isRegExp=R,n.isObject=F,n.isDate=w,n.isError=_,n.isFunction=E,n.isPrimitive=O,n.isBuffer=e("./support/isBuffer");var M=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",L(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!F(t))return e;for(var n=Object.keys(t),i=n.length;i--;)e[n[i]]=t[n[i]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":5,_process:4,inherits:3}],7:[function(e,t){function n(e){for(var t=-1,n=e?e.length:0,i=-1,r=[];++t<n;){var s=e[t];s&&(r[++i]=s)}return r}t.exports=n},{}],8:[function(e,t){function n(e,t,n){return"function"==typeof t&&"undefined"==typeof n&&o(e)?i(e,t):r(e,s(t,n,3))}var i=e("../internal/arrayEach"),r=e("../internal/baseEach"),s=e("../internal/bindCallback"),o=e("../lang/isArray");t.exports=n},{"../internal/arrayEach":13,"../internal/baseEach":17,"../internal/bindCallback":31,"../lang/isArray":56}],9:[function(e,t){function n(e,t,n,c){var u=a(e)?i:o;return u(e,r(t,c,4),n,arguments.length<3,s)}var i=e("../internal/arrayReduce"),r=e("../internal/baseCallback"),s=e("../internal/baseEach"),o=e("../internal/baseReduce"),a=e("../lang/isArray");t.exports=n},{"../internal/arrayReduce":14,"../internal/baseCallback":15,"../internal/baseEach":17,"../internal/baseReduce":27,"../lang/isArray":56}],10:[function(e,t){var n=e("../lang/isNative"),i=n(i=Date.now)&&i,r=i||function(){return(new Date).getTime()};t.exports=r},{"../lang/isNative":59}],11:[function(e,t){function n(e,t){var c=o;if(arguments.length>2){var u=i(arguments,2),f=s(u,n.placeholder);c|=a}return r(e,c,t,u,f)}var i=e("../internal/baseSlice"),r=e("../internal/createWrapper"),s=e("../internal/replaceHolders"),o=1,a=32;n.placeholder={},t.exports=n},{"../internal/baseSlice":29,"../internal/createWrapper":38,"../internal/replaceHolders":51}],12:[function(e,t){function n(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}t.exports=n},{}],13:[function(e,t){function n(e,t){for(var n=-1,i=e.length;++n<i&&t(e[n],n,e)!==!1;);return e}t.exports=n},{}],14:[function(e,t){function n(e,t,n,i){var r=-1,s=e.length;for(i&&s&&(n=e[++r]);++r<s;)n=t(n,e[r],r,e);return n}t.exports=n},{}],15:[function(e,t){function n(e,t,n){var u=typeof e;return"function"==u?"undefined"!=typeof t&&c(e)?o(e,t,n):e:null==e?a:"object"==u?i(e):"undefined"==typeof t?s(e+""):r(e+"",t)}var i=e("./baseMatches"),r=e("./baseMatchesProperty"),s=e("./baseProperty"),o=e("./bindCallback"),a=e("../utility/identity"),c=e("./isBindable");t.exports=n},{"../utility/identity":68,"./baseMatches":24,"./baseMatchesProperty":25,"./baseProperty":26,"./bindCallback":31,"./isBindable":43}],16:[function(e,t){(function(n){var i=e("../lang/isObject"),r=function(){function e(){}return function(t){if(i(t)){e.prototype=t;var r=new e;e.prototype=null}return r||n.Object()}}();t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lang/isObject":60}],17:[function(e,t){function n(e,t){var n=e?e.length:0;if(!r(n))return i(e,t);for(var o=-1,a=s(e);++o<n&&t(a[o],o,a)!==!1;);return e}var i=e("./baseForOwn"),r=e("./isLength"),s=e("./toObject");t.exports=n},{"./baseForOwn":19,"./isLength":45,"./toObject":54}],18:[function(e,t){function n(e,t,n){for(var r=-1,s=i(e),o=n(e),a=o.length;++r<a;){var c=o[r];if(t(s[c],c,s)===!1)break}return e}var i=e("./toObject");t.exports=n},{"./toObject":54}],19:[function(e,t){function n(e,t){return i(e,t,r)}var i=e("./baseFor"),r=e("../object/keys");t.exports=n},{"../object/keys":64,"./baseFor":18}],20:[function(e,t){function n(e,t,r,s,o,a){if(e===t)return 0!==e||1/e==1/t;var c=typeof e,u=typeof t;return"function"!=c&&"object"!=c&&"function"!=u&&"object"!=u||null==e||null==t?e!==e&&t!==t:i(e,t,n,r,s,o,a)}var i=e("./baseIsEqualDeep");t.exports=n},{"./baseIsEqualDeep":21}],21:[function(e,t){function n(e,t,n,l,d,g,v){var m=o(e),y=o(t),b=u,j=u;m||(b=p.call(e),b==c?b=f:b!=f&&(m=a(e))),y||(j=p.call(t),j==c?j=f:j!=f&&(y=a(t)));var x=b==f,R=j==f,F=b==j;if(F&&!m&&!x)return r(e,t,b);var w=x&&h.call(e,"__wrapped__"),_=R&&h.call(t,"__wrapped__");if(w||_)return n(w?e.value():e,_?t.value():t,l,d,g,v);if(!F)return!1;g||(g=[]),v||(v=[]);for(var E=g.length;E--;)if(g[E]==e)return v[E]==t;g.push(e),v.push(t);var O=(m?i:s)(e,t,n,l,d,g,v);return g.pop(),v.pop(),O}var i=e("./equalArrays"),r=e("./equalByTag"),s=e("./equalObjects"),o=e("../lang/isArray"),a=e("../lang/isTypedArray"),c="[object Arguments]",u="[object Array]",f="[object Object]",l=Object.prototype,h=l.hasOwnProperty,p=l.toString;t.exports=n},{"../lang/isArray":56,"../lang/isTypedArray":62,"./equalArrays":39,"./equalByTag":40,"./equalObjects":41}],22:[function(e,t){function n(e){return"function"==typeof e||!1}t.exports=n},{}],23:[function(e,t){function n(e,t,n,r,o){var a=t.length;if(null==e)return!a;for(var c=-1,u=!o;++c<a;)if(u&&r[c]?n[c]!==e[t[c]]:!s.call(e,t[c]))return!1;for(c=-1;++c<a;){var f=t[c];if(u&&r[c])var l=s.call(e,f);else{var h=e[f],p=n[c];l=o?o(h,p,f):void 0,"undefined"==typeof l&&(l=i(p,h,o,!0))}if(!l)return!1}return!0}var i=e("./baseIsEqual"),r=Object.prototype,s=r.hasOwnProperty;t.exports=n},{"./baseIsEqual":20}],24:[function(e,t){function n(e){var t=s(e),n=t.length;if(1==n){var o=t[0],c=e[o];if(r(c))return function(e){return null!=e&&e[o]===c&&a.call(e,o)}}for(var u=Array(n),f=Array(n);n--;)c=e[t[n]],u[n]=c,f[n]=r(c);return function(e){return i(e,t,u,f)}}var i=e("./baseIsMatch"),r=e("./isStrictComparable"),s=e("../object/keys"),o=Object.prototype,a=o.hasOwnProperty;t.exports=n},{"../object/keys":64,"./baseIsMatch":23,"./isStrictComparable":47}],25:[function(e,t){function n(e,t){return r(t)?function(n){return null!=n&&n[e]===t}:function(n){return null!=n&&i(t,n[e],null,!0)}}var i=e("./baseIsEqual"),r=e("./isStrictComparable");t.exports=n},{"./baseIsEqual":20,"./isStrictComparable":47}],26:[function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}t.exports=n},{}],27:[function(e,t){function n(e,t,n,i,r){return r(e,function(e,r,s){n=i?(i=!1,e):t(n,e,r,s)}),n}t.exports=n},{}],28:[function(e,t){var n=e("../utility/identity"),i=e("./metaMap"),r=i?function(e,t){return i.set(e,t),e}:n;t.exports=r},{"../utility/identity":68,"./metaMap":49}],29:[function(e,t){function n(e,t,n){var i=-1,r=e.length;t=null==t?0:+t||0,0>t&&(t=-t>r?0:r+t),n="undefined"==typeof n||n>r?r:+n||0,0>n&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(r);++i<r;)s[i]=e[i+t];return s}t.exports=n},{}],30:[function(e,t){function n(e){return"string"==typeof e?e:null==e?"":e+""}t.exports=n},{}],31:[function(e,t){function n(e,t,n){if("function"!=typeof e)return i;if("undefined"==typeof t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,s){return e.call(t,n,i,r,s)};case 5:return function(n,i,r,s,o){return e.call(t,n,i,r,s,o)}}return function(){return e.apply(t,arguments)}}var i=e("../utility/identity");t.exports=n},{"../utility/identity":68}],32:[function(e,t){function n(e,t,n){for(var r=n.length,s=-1,o=i(e.length-r,0),a=-1,c=t.length,u=Array(o+c);++a<c;)u[a]=t[a];for(;++s<r;)u[n[s]]=e[s];for(;o--;)u[a++]=e[s++];return u}var i=Math.max;t.exports=n},{}],33:[function(e,t){function n(e,t,n){for(var r=-1,s=n.length,o=-1,a=i(e.length-s,0),c=-1,u=t.length,f=Array(a+u);++o<a;)f[o]=e[o];for(var l=o;++c<u;)f[l+c]=t[c];for(;++r<s;)f[l+n[r]]=e[o++];return f}var i=Math.max;t.exports=n},{}],34:[function(e,t){(function(n){function i(e,t){function i(){var r=this&&this!==n&&this instanceof i?s:e;return r.apply(t,arguments)}var s=r(e);return i}var r=e("./createCtorWrapper");t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./createCtorWrapper":35}],35:[function(e,t){function n(e){return function(){var t=i(e.prototype),n=e.apply(t,arguments);return r(n)?n:t}}var i=e("./baseCreate"),r=e("../lang/isObject");t.exports=n},{"../lang/isObject":60,"./baseCreate":16}],36:[function(e,t){(function(n){function i(e,t,b,j,x,R,F,w,_,E){function O(){for(var h=arguments.length,p=h,d=Array(h);p--;)d[p]=arguments[p];if(j&&(d=s(d,j,x)),R&&(d=o(d,R,F)),D||k){var m=O.placeholder,T=u(d,m);if(h-=T.length,E>h){var I=w?r(w):null,C=y(E-h,0),q=D?T:null,z=D?null:T,H=D?d:null,W=D?null:d;t|=D?g:v,t&=~(D?v:g),P||(t&=~(f|l));var B=i(e,t,b,H,q,W,z,I,_,C);return B.placeholder=m,B}}var U=A?b:this;L&&(e=U[M]),w&&(d=c(d,w)),S&&_<d.length&&(d.length=_);var Q=this&&this!==n&&this instanceof O?N||a(e):e;return Q.apply(U,d)}var S=t&m,A=t&f,L=t&l,D=t&p,P=t&h,k=t&d,N=!L&&a(e),M=e;return O}var r=e("./arrayCopy"),s=e("./composeArgs"),o=e("./composeArgsRight"),a=e("./createCtorWrapper"),c=e("./reorder"),u=e("./replaceHolders"),f=1,l=2,h=4,p=8,d=16,g=32,v=64,m=256,y=Math.max;t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./arrayCopy":12,"./composeArgs":32,"./composeArgsRight":33,"./createCtorWrapper":35,"./reorder":50,"./replaceHolders":51}],37:[function(e,t){(function(n){function i(e,t,i,o){function a(){for(var t=-1,r=arguments.length,s=-1,f=o.length,l=Array(r+f);++s<f;)l[s]=o[s];for(;r--;)l[s++]=arguments[++t];var h=this&&this!==n&&this instanceof a?u:e;return h.apply(c?i:this,l)}var c=t&s,u=r(e);return a}var r=e("./createCtorWrapper"),s=1;t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./createCtorWrapper":35}],38:[function(e,t){function n(e,t,n,v,m,y,b,j){var x=t&l;if(!x&&"function"!=typeof e)throw new TypeError(d);var R=v?v.length:0;if(R||(t&=~(h|p),v=m=null),R-=m?m.length:0,t&p){var F=v,w=m;v=m=null}var _=!x&&a(e),E=[e,t,n,v,m,F,w,y,b,j];if(_&&_!==!0&&(c(E,_),t=E[1],j=E[9]),E[9]=null==j?x?0:e.length:g(j-R,0)||0,t==f)var O=r(E[0],E[2]);else O=t!=h&&t!=(f|h)||E[4].length?s.apply(void 0,E):o.apply(void 0,E);var S=_?i:u;return S(O,E)}var i=e("./baseSetData"),r=e("./createBindWrapper"),s=e("./createHybridWrapper"),o=e("./createPartialWrapper"),a=e("./getData"),c=e("./mergeData"),u=e("./setData"),f=1,l=2,h=32,p=64,d="Expected a function",g=Math.max;t.exports=n},{"./baseSetData":28,"./createBindWrapper":34,"./createHybridWrapper":36,"./createPartialWrapper":37,"./getData":42,"./mergeData":48,"./setData":52}],39:[function(e,t){function n(e,t,n,i,r,s,o){var a=-1,c=e.length,u=t.length,f=!0;if(c!=u&&!(r&&u>c))return!1;for(;f&&++a<c;){var l=e[a],h=t[a];if(f=void 0,i&&(f=r?i(h,l,a):i(l,h,a)),"undefined"==typeof f)if(r)for(var p=u;p--&&(h=t[p],!(f=l&&l===h||n(l,h,i,r,s,o))););else f=l&&l===h||n(l,h,i,r,s,o)}return!!f}t.exports=n},{}],40:[function(e,t){function n(e,t,n){switch(n){case i:case r:return+e==+t;case s:return e.name==t.name&&e.message==t.message;case o:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case a:case c:return e==t+""}return!1}var i="[object Boolean]",r="[object Date]",s="[object Error]",o="[object Number]",a="[object RegExp]",c="[object String]";t.exports=n},{}],41:[function(e,t){function n(e,t,n,r,o,a,c){var u=i(e),f=u.length,l=i(t),h=l.length;if(f!=h&&!o)return!1;for(var p,d=-1;++d<f;){var g=u[d],v=s.call(t,g);if(v){var m=e[g],y=t[g];v=void 0,r&&(v=o?r(y,m,g):r(m,y,g)),"undefined"==typeof v&&(v=m&&m===y||n(m,y,r,o,a,c))}if(!v)return!1;p||(p="constructor"==g)}if(!p){var b=e.constructor,j=t.constructor;if(b!=j&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof j&&j instanceof j))return!1}return!0}var i=e("../object/keys"),r=Object.prototype,s=r.hasOwnProperty;t.exports=n},{"../object/keys":64}],42:[function(e,t){var n=e("./metaMap"),i=e("../utility/noop"),r=n?function(e){return n.get(e)}:i;t.exports=r},{"../utility/noop":69,"./metaMap":49}],43:[function(e,t){function n(e){var t=!(s.funcNames?e.name:s.funcDecomp);if(!t){var n=c.call(e);s.funcNames||(t=!o.test(n)),t||(t=a.test(n)||r(e),i(e,t))}return t}var i=e("./baseSetData"),r=e("../lang/isNative"),s=e("../support"),o=/^\s*function[ \n\r\t]+\w/,a=/\bthis\b/,c=Function.prototype.toString;t.exports=n},{"../lang/isNative":59,"../support":67,"./baseSetData":28}],44:[function(e,t){function n(e,t){return e=+e,t=null==t?i:t,e>-1&&e%1==0&&t>e}var i=Math.pow(2,53)-1;t.exports=n},{}],45:[function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&i>=e}var i=Math.pow(2,53)-1;t.exports=n},{}],46:[function(e,t){function n(e){return e&&"object"==typeof e||!1}t.exports=n},{}],47:[function(e,t){function n(e){return e===e&&(0===e?1/e>0:!i(e))}var i=e("../lang/isObject");t.exports=n},{"../lang/isObject":60}],48:[function(e,t){function n(e,t){var n=e[1],g=t[1],v=n|g,m=h|l,y=a|c,b=m|y|u|f,j=n&h&&!(g&h),x=n&l&&!(g&l),R=(x?e:t)[7],F=(j?e:t)[8],w=!(n>=l&&g>y||n>y&&g>=l),_=v>=m&&b>=v&&(l>n||(x||j)&&R.length<=F);if(!w&&!_)return e;g&a&&(e[2]=t[2],v|=n&a?0:u);var E=t[3];if(E){var O=e[3];e[3]=O?r(O,E,t[4]):i(E),e[4]=O?o(e[3],p):i(t[4])}return E=t[5],E&&(O=e[5],e[5]=O?s(O,E,t[6]):i(E),e[6]=O?o(e[5],p):i(t[6])),E=t[7],E&&(e[7]=i(E)),g&h&&(e[8]=null==e[8]?t[8]:d(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=v,e}var i=e("./arrayCopy"),r=e("./composeArgs"),s=e("./composeArgsRight"),o=e("./replaceHolders"),a=1,c=2,u=4,f=16,l=128,h=256,p="__lodash_placeholder__",d=Math.min;t.exports=n},{"./arrayCopy":12,"./composeArgs":32,"./composeArgsRight":33,"./replaceHolders":51}],49:[function(e,t){(function(n){var i=e("../lang/isNative"),r=i(r=n.WeakMap)&&r,s=r&&new r;t.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lang/isNative":59}],50:[function(e,t){function n(e,t){for(var n=e.length,o=s(t.length,n),a=i(e);o--;){var c=t[o];e[o]=r(c,n)?a[c]:void 0}return e}var i=e("./arrayCopy"),r=e("./isIndex"),s=Math.min;t.exports=n},{"./arrayCopy":12,"./isIndex":44}],51:[function(e,t){function n(e,t){for(var n=-1,r=e.length,s=-1,o=[];++n<r;)e[n]===t&&(e[n]=i,o[++s]=n);return o}var i="__lodash_placeholder__";t.exports=n},{}],52:[function(e,t){var n=e("./baseSetData"),i=e("../date/now"),r=150,s=16,o=function(){var e=0,t=0;return function(o,a){var c=i(),u=s-(c-t);if(t=c,u>0){if(++e>=r)return o}else e=0;return n(o,a)}}();t.exports=o},{"../date/now":10,"./baseSetData":28}],53:[function(e,t){function n(e){for(var t=a(e),n=t.length,u=n&&e.length,l=u&&o(u)&&(r(e)||c.nonEnumArgs&&i(e)),h=-1,p=[];++h<n;){var d=t[h];(l&&s(d,u)||f.call(e,d))&&p.push(d)}return p}var i=e("../lang/isArguments"),r=e("../lang/isArray"),s=e("./isIndex"),o=e("./isLength"),a=e("../object/keysIn"),c=e("../support"),u=Object.prototype,f=u.hasOwnProperty;t.exports=n},{"../lang/isArguments":55,"../lang/isArray":56,"../object/keysIn":65,"../support":67,"./isIndex":44,"./isLength":45}],54:[function(e,t){function n(e){return i(e)?e:Object(e)}var i=e("../lang/isObject");t.exports=n},{"../lang/isObject":60}],55:[function(e,t){function n(e){var t=r(e)?e.length:void 0;return i(t)&&a.call(e)==s||!1}var i=e("../internal/isLength"),r=e("../internal/isObjectLike"),s="[object Arguments]",o=Object.prototype,a=o.toString;t.exports=n},{"../internal/isLength":45,"../internal/isObjectLike":46}],56:[function(e,t){var n=e("../internal/isLength"),i=e("./isNative"),r=e("../internal/isObjectLike"),s="[object Array]",o=Object.prototype,a=o.toString,c=i(c=Array.isArray)&&c,u=c||function(e){return r(e)&&n(e.length)&&a.call(e)==s||!1};t.exports=u},{"../internal/isLength":45,"../internal/isObjectLike":46,"./isNative":59}],57:[function(e,t){function n(e){if(null==e)return!0;var t=e.length;return o(t)&&(r(e)||c(e)||i(e)||a(e)&&s(e.splice))?!t:!u(e).length}var i=e("./isArguments"),r=e("./isArray"),s=e("./isFunction"),o=e("../internal/isLength"),a=e("../internal/isObjectLike"),c=e("./isString"),u=e("../object/keys");t.exports=n},{"../internal/isLength":45,"../internal/isObjectLike":46,"../object/keys":64,"./isArguments":55,"./isArray":56,"./isFunction":58,"./isString":61}],58:[function(e,t){(function(n){var i=e("../internal/baseIsFunction"),r=e("./isNative"),s="[object Function]",o=Object.prototype,a=o.toString,c=r(c=n.Uint8Array)&&c,u=i(/x/)||c&&!i(c)?function(e){return a.call(e)==s}:i;t.exports=u}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../internal/baseIsFunction":22,"./isNative":59}],59:[function(e,t){function n(e){return null==e?!1:u.call(e)==s?f.test(c.call(e)):r(e)&&o.test(e)||!1}var i=e("../string/escapeRegExp"),r=e("../internal/isObjectLike"),s="[object Function]",o=/^\[object .+?Constructor\]$/,a=Object.prototype,c=Function.prototype.toString,u=a.toString,f=RegExp("^"+i(u).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=n},{"../internal/isObjectLike":46,"../string/escapeRegExp":66}],60:[function(e,t){function n(e){var t=typeof e;return"function"==t||e&&"object"==t||!1}t.exports=n},{}],61:[function(e,t){function n(e){return"string"==typeof e||i(e)&&o.call(e)==r||!1}var i=e("../internal/isObjectLike"),r="[object String]",s=Object.prototype,o=s.toString;t.exports=n},{"../internal/isObjectLike":46}],62:[function(e,t){function n(e){return r(e)&&i(e.length)&&S[L.call(e)]||!1}var i=e("../internal/isLength"),r=e("../internal/isObjectLike"),s="[object Arguments]",o="[object Array]",a="[object Boolean]",c="[object Date]",u="[object Error]",f="[object Function]",l="[object Map]",h="[object Number]",p="[object Object]",d="[object RegExp]",g="[object Set]",v="[object String]",m="[object WeakMap]",y="[object ArrayBuffer]",b="[object Float32Array]",j="[object Float64Array]",x="[object Int8Array]",R="[object Int16Array]",F="[object Int32Array]",w="[object Uint8Array]",_="[object Uint8ClampedArray]",E="[object Uint16Array]",O="[object Uint32Array]",S={};S[b]=S[j]=S[x]=S[R]=S[F]=S[w]=S[_]=S[E]=S[O]=!0,S[s]=S[o]=S[y]=S[a]=S[c]=S[u]=S[f]=S[l]=S[h]=S[p]=S[d]=S[g]=S[v]=S[m]=!1;var A=Object.prototype,L=A.toString;t.exports=n},{"../internal/isLength":45,"../internal/isObjectLike":46}],63:[function(e,t){function n(e){return"undefined"==typeof e}t.exports=n},{}],64:[function(e,t){var n=e("../internal/isLength"),i=e("../lang/isNative"),r=e("../lang/isObject"),s=e("../internal/shimKeys"),o=i(o=Object.keys)&&o,a=o?function(e){if(e)var t=e.constructor,i=e.length;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&i&&n(i)?s(e):r(e)?o(e):[]}:s;t.exports=a},{"../internal/isLength":45,"../internal/shimKeys":53,"../lang/isNative":59,"../lang/isObject":60}],65:[function(e,t){function n(e){if(null==e)return[];a(e)||(e=Object(e));var t=e.length;t=t&&o(t)&&(r(e)||c.nonEnumArgs&&i(e))&&t||0;for(var n=e.constructor,u=-1,l="function"==typeof n&&n.prototype===e,h=Array(t),p=t>0;++u<t;)h[u]=u+"";for(var d in e)p&&s(d,t)||"constructor"==d&&(l||!f.call(e,d))||h.push(d);return h}var i=e("../lang/isArguments"),r=e("../lang/isArray"),s=e("../internal/isIndex"),o=e("../internal/isLength"),a=e("../lang/isObject"),c=e("../support"),u=Object.prototype,f=u.hasOwnProperty;t.exports=n},{"../internal/isIndex":44,"../internal/isLength":45,"../lang/isArguments":55,"../lang/isArray":56,"../lang/isObject":60,"../support":67}],66:[function(e,t){function n(e){return e=i(e),e&&s.test(e)?e.replace(r,"\\$&"):e}var i=e("../internal/baseToString"),r=/[.*+?^${}()|[\]\/\\]/g,s=RegExp(r.source);t.exports=n},{"../internal/baseToString":30}],67:[function(e,t){(function(n){var i=e("./lang/isNative"),r=/\bthis\b/,s=Object.prototype,o=(o=n.window)&&o.document,a=s.propertyIsEnumerable,c={};!function(){c.funcDecomp=!i(n.WinRTError)&&r.test(function(){return this}),c.funcNames="string"==typeof Function.name;try{c.dom=11===o.createDocumentFragment().nodeType}catch(e){c.dom=!1}try{c.nonEnumArgs=!a.call(arguments,1)}catch(e){c.nonEnumArgs=!0}}(0,0),t.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lang/isNative":59}],68:[function(e,t){function n(e){return e}t.exports=n},{}],69:[function(e,t){function n(){}t.exports=n},{}],70:[function(e,t){"use strict";var n=e("lodash/object/keys"),i=e("lodash/collection/forEach"),r=e("lodash/collection/reduce"),s=e("lodash/lang/isEmpty"),o=e("lodash/lang/isUndefined"),a=e("lodash/lang/isString"),c=function(e){var t=e||{};this.query=t.query||"",this.facets=t.facets||[],this.disjunctiveFacets=t.disjunctiveFacets||[],this.facetsRefinements=t.facetsRefinements||{},this.facetsExcludes=t.facetsExcludes||{},this.disjunctiveFacetsRefinements=t.disjunctiveFacetsRefinements||{},this.numericRefinements=t.numericRefinements||{},this.hitsPerPage=t.hitsPerPage||20,this.maxValuesPerFacet=t.maxValuesPerFacet||10,this.page=t.page||0,this.queryType=t.queryType,this.typoTolerance=t.typoTolerance,this.minWordSizefor1Typo=t.minWordSizefor1Typo,
this.minWordSizefor2Typos=t.minWordSizefor2Typos,this.allowTyposOnNumericTokens=t.allowTyposOnNumericTokens,this.ignorePlurals=t.ignorePlurals,this.restrictSearchableAttributes=t.restrictSearchableAttributes,this.advancedSyntax=t.advancedSyntax,this.analytics=t.analytics,this.analyticsTags=t.analyticsTags,this.synonyms=t.synonyms,this.replaceSynonymsInHighlight=t.replaceSynonymsInHighlight,this.optionalWords=t.optionalWords,this.removeWordsIfNoResults=t.removeWordsIfNoResults,this.attributesToRetrieve=t.attributesToRetrieve,this.attributesToHighlight=t.attributesToHighlight,this.attributesToSnippet=t.attributesToSnippet,this.getRankingInfo=t.getRankingInfo,this.tagFilters=t.tagFilters,this.distinct=t.distinct,this.aroundLatLng=t.aroundLatLng,this.aroundLatLngViaIP=t.aroundLatLngViaIP,this.aroundRadius=t.aroundRadius,this.aroundPrecision=t.aroundPrecision,this.insideBoundingBox=t.insideBoundingBox};c.prototype={constructor:c,clearRefinements:function(e){return this.mutateMe(function(t){t.page=0,t._clearNumericRefinements(e),t._clearFacetRefinements(e),t._clearExcludeRefinements(e),t._clearDisjunctiveFacetRefinements(e)})},setQuery:function(e){return this.mutateMe(function(t){t.query=e,t.page=0})},setPage:function(e){return this.mutateMe(function(t){t.page=e})},setFacets:function(e){return this.mutateMe(function(t){t.facets=e})},setDisjunctiveFacets:function(e){return this.mutateMe(function(t){t.disjunctiveFacets=e})},setHitsPerPage:function(e){return this.mutateMe(function(t){t.HitsPerPage=e,t.page=0})},addNumericRefinement:function(e,t,n){return this.mutateMe(function(i){i.page=0,i.numericRefinements[e]||(i.numericRefinements[e]={}),i.numericRefinements[e][t]=n})},removeNumericRefinement:function(e,t){return this.mutateMe(function(n){if(n.numericRefinements[e]){n.page=0;var i=n.numericRefinements[e][t];o(i)||(delete n.numericRefinements[e][t],s(n.numericRefinements[e])&&delete n.numericRefinements[e])}})},_clearNumericRefinements:function(e){o(e)?this.numericRefinements={}:a(e)&&(o(this.numericRefinements[e])||delete this.numericRefinements[e])},addFacetRefinement:function(e,t){return this.mutateMe(function(n){n.page=0,n.facetsRefinements[e]=t})},addExcludeRefinement:function(e,t){return this.mutateMe(function(n){n.page=0,n.facetsExcludes[e]||(n.facetsExcludes[e]=[]),n.facetsExcludes[e].push(t)})},addDisjunctiveFacetRefinement:function(e,t){return this.mutateMe(function(n){n.page=0,n.disjunctiveFacetsRefinements[e]||(n.disjunctiveFacetsRefinements[e]=[]),n.disjunctiveFacetsRefinements[e].push(t)})},removeFacetRefinement:function(e){return this.mutateMe(function(t){t.page=0,t._clearFacetRefinements(e)})},removeExcludeRefinement:function(e,t){return this.mutateMe(function(n){if(n.facetsExcludes[e]){n.page=0;var i=n.facetsExcludes[e].indexOf(t);i>-1&&(n.facetsExcludes[e].splice(i,1),0===n.facetsExcludes[e].length&&delete n.facetsExcludes[e])}})},removeDisjunctiveFacetRefinement:function(e,t){return this.mutateMe(function(n){if(n.disjunctiveFacetsRefinements[e]){n.page=0;var i=n.disjunctiveFacetsRefinements[e].indexOf(t);i>-1&&(n.disjunctiveFacetsRefinements[e].splice(i,1),0===n.disjunctiveFacetsRefinements[e].length&&delete n.disjunctiveFacetsRefinements[e])}})},_clearFacetRefinements:function(e){o(e)?this.facetsRefinements={}:a(e)&&(o(this.facetsRefinements[e])||delete this.facetsRefinements[e])},_clearExcludeRefinements:function(e){o(e)?this.facetsExcludes={}:a(e)&&(o(this.facetsExcludes[e])||delete this.facetsExcludes[e])},_clearDisjunctiveFacetRefinements:function(e){o(e)?this.disjunctiveFacetsRefinements={}:a(e)&&(o(this.disjunctiveFacetsRefinements[e])||delete this.disjunctiveFacetsRefinements[e])},toggleFacetRefinement:function(e,t){return this.isFacetRefined(e,t)?this.removeFacetRefinement(e):this.addFacetRefinement(e,t)},toggleExcludeFacetRefinement:function(e,t){return this.isExcludeRefined(e,t)?this.removeExcludeRefinement(e,t):this.addExcludeRefinement(e,t)},toggleDisjunctiveFacetRefinement:function(e,t){return this.isDisjunctiveFacetRefined(e,t)?this.removeDisjunctiveFacetRefinement(e,t):this.addDisjunctiveFacetRefinement(e,t)},isFacetRefined:function(e,t){return this.facetsRefinements[e]===t},isExcludeRefined:function(e,t){return this.facetsExcludes[e]&&-1!==this.facetsExcludes[e].indexOf(t)},isDisjunctiveFacetRefined:function(e,t){return this.disjunctiveFacetsRefinements[e]&&-1!==this.disjunctiveFacetsRefinements[e].indexOf(t)},getRefinedDisjunctiveFacets:function(){return n(this.disjunctiveFacetsRefinements)},getUnrefinedDisjunctiveFacets:function(){var e=[],t=this.getRefinedDisjunctiveFacets();return i(this.disjunctiveFacets,function(n){-1===t.indexOf(n)&&e.push(n)}),e},managedParameters:["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements"],getQueryParams:function(){var e=this.managedParameters;return r(this,function(t,n,i,r){return-1===e.indexOf(i)&&void 0!==r[i]&&(t[i]=n),t},{})},mutateMe:function(e){var t=new this.constructor(this);return e(t),Object.freeze(t)}},t.exports=c},{"lodash/collection/forEach":8,"lodash/collection/reduce":9,"lodash/lang/isEmpty":57,"lodash/lang/isString":61,"lodash/lang/isUndefined":63,"lodash/object/keys":64}],71:[function(e,t){"use strict";function n(e){var t={};return s(e,function(e,n){t[e]=n}),t}function i(e,t,n){t&&t[n]&&(e.stats=t[n])}function r(e,t,n){n&&(e.timeout=!!t)}var s=e("lodash/collection/forEach"),o=e("lodash/array/compact"),a=function(e,t){var a=t.results[0];this.query=a.query,this.hits=a.hits,this.index=a.index,this.hitsPerPage=a.hitsPerPage,this.nbHits=a.nbHits,this.nbPages=a.nbPages,this.page=a.page,this.processingTimeMS=a.processingTimeMS,this.disjunctiveFacets=[],this.facets=[];var c=e.getRefinedDisjunctiveFacets(),u=n(e.facets),f=n(e.disjunctiveFacets);s(a.facets,function(t,n){var s=-1!==e.disjunctiveFacets.indexOf(n),o=s?f[n]:u[n];s?(this.disjunctiveFacets[o]={name:n,data:t},i(this.disjunctiveFacets[o],a.facets_stats,n),r(this.disjunctiveFacets[o],e.getRankingInfo,a.timeoutCounts,n)):(this.facets[o]={name:n,data:t},i(this.facets[o],a.facets_stats,n),r(this.facets[o],e.getRankingInfo,a.timeoutCounts,n))},this),s(c,function(n,o){var a=t.results[o+1];s(a.facets,function(t,n){var o=f[n];this.disjunctiveFacets[o]={name:n,data:t},i(this.disjunctiveFacets[o],a.facets_stats,n),r(this.disjunctiveFacets[o],e.getRankingInfo,a.timeoutCounts,n),e.disjunctiveFacetsRefinements[n]&&s(e.disjunctiveFacetsRefinements[n],function(t){!this.disjunctiveFacets[o].data[t]&&e.disjunctiveFacetsRefinements[n].indexOf(t)>-1&&(this.disjunctiveFacets[o].data[t]=0)},this)},this)},this),s(e.facetsExcludes,function(e,t){var n=u[t];this.facets[n]={name:t,data:a.facets[t]},s(e,function(e){this.facets[n]=this.facets[n]||{name:t},this.facets[n].data=this.facets[n].data||{},this.facets[n].data[e]=0},this)},this),this.facets=o(this.facets),this.disjunctiveFacets=o(this.disjunctiveFacets)};t.exports=a},{"lodash/array/compact":7,"lodash/collection/forEach":8}],72:[function(e,t){"use strict";function n(e,t,n){this.client=e,this.index=t,this.state=new i(n)}var i=e("./SearchParameters"),r=e("./SearchResults"),s=e("./functions/extend"),o=e("util"),a=e("events"),c=e("lodash/collection/forEach"),u=e("lodash/function/bind");o.inherits(n,a.EventEmitter),n.prototype.search=function(){return this._search(),this},n.prototype.setQuery=function(e){return this.state=this.state.setQuery(e),this.emit("change",this.state),this},n.prototype.clearRefinements=function(e){return this.state=this.state.clearRefinements(e),this.emit("change",this.state),this},n.prototype.addDisjunctiveRefine=function(e,t){return this.state=this.state.addDisjunctiveFacetRefinement(e,t),this.emit("change",this.state),this},n.prototype.removeDisjunctiveRefine=function(e,t){return this.state=this.state.removeDisjunctiveFacetRefinement(e,t),this.emit("change",this.state),this},n.prototype.addNumericRefinement=function(e,t,n){return this.state=this.state.addNumericRefinement(e,t,n),this.emit("change",this.state),this},n.prototype.removeNumericRefinement=function(e,t,n){return this.state=this.state.removeNumericRefinement(e,t,n),this.emit("change",this.state),this},n.prototype.addRefine=function(e,t){return this.state=this.state.addFacetRefinement(e,t),this.emit("change",this.state),this},n.prototype.removeRefine=function(e,t){return this.state=this.state.removeFacetRefinement(e,t),this.emit("change",this.state),this},n.prototype.addExclude=function(e,t){return this.state=this.state.addExcludeRefinement(e,t),this.emit("change",this.state),this},n.prototype.removeExclude=function(e,t){return this.state=this.state.removeExcludeRefinement(e,t),this.emit("change",this.state),this},n.prototype.toggleExclude=function(e,t){return this.state=this.state.toggleExcludeFacetRefinement(e,t),this.emit("change",this.state),this},n.prototype.toggleRefine=function(e,t){if(this.state.facets.indexOf(e)>-1)this.state=this.state.toggleFacetRefinement(e,t);else{if(!(this.state.disjunctiveFacets.indexOf(e)>-1))return console.log("warning : you're trying to refine the undeclared facet '"+e+"'; add it to the helper options 'facets' or 'disjunctiveFacets'"),this;this.state=this.state.toggleDisjunctiveFacetRefinement(e,t)}return this.emit("change",this.state),this},n.prototype.nextPage=function(){return this.setCurrentPage(this.state.page+1)},n.prototype.previousPage=function(){return this.setCurrentPage(this.state.page-1)},n.prototype.setCurrentPage=function(e){if(0>e)throw new Error("Page requested below 0.");return this.state=this.state.setPage(e),this.emit("change",this.state),this},n.prototype.setIndex=function(e){return this.index=e,this},n.prototype.setState=function(e){return this.state=new i(e),this.emit("change",this.state),this},n.prototype.isRefined=function(e,t){return this.state.isFacetRefined(e,t)},n.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)},n.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)},n.prototype.getIndex=function(){return this.index},n.prototype.getCurrentPage=function(){return this.state.page},n.prototype._search=function(){var e=this.state;this.client.startQueriesBatch(),this.client.addQueryInBatch(this.index,e.query,this._getHitsSearchParams()),c(e.getRefinedDisjunctiveFacets(),function(t){this.client.addQueryInBatch(this.index,e.query,this._getDisjunctiveFacetSearchParams(t))},this),this.client.sendQueriesBatch(u(this._handleResponse,this,e))},n.prototype._handleResponse=function(e,t,n){if(t)return void this.emit("error",t);var i=new r(e,n);this.emit("result",i)},n.prototype._getHitsSearchParams=function(){var e=this.state.facets.concat(this.state.getUnrefinedDisjunctiveFacets()),t=this._getFacetFilters(),n=this._getNumericFilters(),i={facets:e,distinct:!1};return t.length>0&&(i.facetFilters=t,i.distinct=this.state.distinct||!1),n.length>0&&(i.numericFilters=n),s(this.state.getQueryParams(),i)},n.prototype._getDisjunctiveFacetSearchParams=function(e){var t=this._getFacetFilters(e),n=this._getNumericFilters(),i={hitsPerPage:1,page:0,attributesToRetrieve:[],attributesToHighlight:[],attributesToSnippet:[],facets:e,distinct:!1};return n.length>0&&(i.numericFilters=n),t.length>0&&(i.facetFilters=t,i.distinct=this.state.distinct||!1),s(this.state.getQueryParams(),i)},n.prototype._getNumericFilters=function(){var e=[];return c(this.state.numericRefinements,function(t,n){c(t,function(t,i){e.push(n+i+t)})}),e},n.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&this.state.disjunctiveRefinements[e].length>0},n.prototype._getFacetFilters=function(e){var t=[];return c(this.state.facetsRefinements,function(e,n){t.push(n+":"+e)}),c(this.state.facetsExcludes,function(e,n){c(e,function(e){t.push(n+":-"+e)})}),c(this.state.disjunctiveFacetsRefinements,function(n,i){if(i!==e&&n&&0!==n.length){var r=[];c(n,function(e){r.push(i+":"+e)}),t.push(r)}}),t},t.exports=n},{"./SearchParameters":70,"./SearchResults":71,"./functions/extend":73,events:2,"lodash/collection/forEach":8,"lodash/function/bind":11,util:6}],73:[function(e,t){"use strict";t.exports=function(e){e=e||{};for(var t=1;t<arguments.length;t++)if(arguments[t])for(var n in arguments[t])arguments[t].hasOwnProperty(n)&&(e[n]=arguments[t][n]);return e}},{}]},{},[1])(1)});