/*! ng-i18next - v0.3.1 - 2014-03-26 - Copyright (c) 2014 Andre Meyering; Licensed MIT */angular.module("jm.i18next",["ng"]),angular.module("jm.i18next").provider("$i18next",function(){"use strict";var a=this,b=null,c={},d=null;a.options={},a.$get=["$rootScope",function(e){function f(a){window.i18n.init(a,function(a){c={},b=a,e.$$phase||e.$digest(),e.$broadcast("i18nextLanguageChange")})}function g(a,b){i.debugMsg.push(["i18next options changed:",b,a]),d=a,f(d)}function h(a,d,e){var f=d.lng||"auto";c[f]||(c[f]={}),b?(!c[f][a]||e)&&(c[f][a]=b(a,d)):c[f][a]=a}function i(a,b){var d=b||{},e=b?angular.extend({},d,b):d;return h(a,e,!!b),b&&b.lng?c[b.lng][a]:d.lng?c[d.lng][a]:c.auto[a]}return i.debugMsg=[],i.options=a.options,a.options!==d&&g(a.options,d),e.$watch(function(){return i.options},function(a,b){a&&b!==a&&g(a,b)},!0),i}]}),angular.module("jm.i18next").directive("ngI18next",["$rootScope","$i18next","$compile","$parse",function(a,b,c,d){"use strict";function e(e,f,g){var h,i="text",j=[i];if(0===g.indexOf("[")){var k=g.split("]");g=k[1],i=k[0].substr(1,k[0].length-1)}if(g.indexOf(";")===g.length-1&&(g=g.substr(0,g.length-2)),i.indexOf(":")>=0?(j=i.split(":"),i=j[0]):"i18next"===i&&(j[1]="i18next",i="text"),"i18next"!==i&&"i18next"!==j[1])h=b(g);else{var l={},m=g;if(g.indexOf("(")>=0&&g.indexOf(")")>=0){var n=g.split(")");n[0]=n[0].substr(1,n[0].length),n.length>2?(m=n.pop(),l=d(n.join(")"))()):(l=d(n[0])(),m=n[1])}h=b(m,l)}"html"===i?f.empty().append(h):"text"===i?f.text(h):f.attr(i,h),c(f.contents())(e),a.$$phase||a.$digest()}function f(a,b,c){if(c.indexOf(";")>=0)for(var d=c.split(";"),f=0;f<d.length;f++)""!==d[f]&&e(a,b,d[f]);else e(a,b,c)}return{restrict:"A",scope:!1,link:function(a,b,c){function d(c){e=""===c?b.text().replace(/^\s+|\s+$/g,""):c,e&&f(a,b,e)}var e;c.$observe("ngI18next",d),d(c.ngI18next),a.$on("i18nextLanguageChange",function(){f(a,b,e)})}}}]),angular.module("jm.i18next").filter("i18next",["$i18next",function(a){"use strict";return function(b,c){return a(b,c)}}]);
