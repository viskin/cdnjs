/*! ng-i18next - v0.3.2 - 2014-07-08 - Copyright (c) 2014 Andre Meyering; Licensed MIT */angular.module("jm.i18next",["ng"]),angular.module("jm.i18next").provider("$i18next",function(){"use strict";var a=this,b=null,c={},d=null;a.options={},a.$get=["$rootScope",function(e){function f(a){window.i18n.init(a,function(a){c={},b=a,e.$$phase||e.$digest(),e.$broadcast("i18nextLanguageChange")})}function g(a,b){i.debugMsg.push(["i18next options changed:",b,a]),d=a,f(d)}function h(a,d,e){var f=d.lng||"auto";c[f]||(c[f]={}),b?(!c[f][a]||e)&&(c[f][a]=b(a,d)):c[f][a]=a}function i(a,b){var d=b||{},e=b?angular.extend({},d,b):d;return h(a,e,!!b),b&&b.lng?c[b.lng][a]:d.lng?c[d.lng][a]:c.auto[a]}return i.debugMsg=[],i.options=a.options,a.options!==d&&g(a.options,d),e.$watch(function(){return i.options},function(a,b){a&&b!==a&&g(a,b)},!0),i}]}),angular.module("jm.i18next").directive("ngI18next",["$rootScope","$i18next","$compile","$parse","$interpolate",function(a,b,c,d,e){"use strict";function f(f,g,i){var j,k,l="text",m=[l];if(h&&h(),0===i.indexOf("[")){var n=i.split("]");if(n.length>2)for(k=2;k<n.length;k++)n[1]+="]"+n[k],n[k]=null;i=n[1],l=n[0].substr(1,n[0].length-1)}if(i.indexOf(";")===i.length-1&&(i=i.substr(0,i.length-2)),l.indexOf(":")>=0?(m=l.split(":"),l=m[0]):"i18next"===l&&(m[1]="i18next",l="text"),"i18next"!==l&&"i18next"!==m[1])j=b(i);else{var o={},p=i;if(i.indexOf("(")>=0&&i.indexOf(")")>=0){var q=i.split(")");q[0]=q[0].substr(1,q[0].length),q.length>2?(p=q.pop(),o=d(q.join(")"))(f)):(o=d(q[0])(f),p=q[1]),o.sprintf&&(o.postProcess="sprintf")}j=b(p,o)}if("html"===l)g.empty().append(j),c(g.contents())(f);else{var r=g.text.bind(g);"text"!==l&&(r=g.attr.bind(g,l)),h=f.$watch(e(j),r),r(j)}a.$$phase||a.$digest()}function g(a,b,c){if(c.indexOf(";")>=0)for(var d=c.split(";"),e=0;e<d.length;e++)""!==d[e]&&f(a,b,d[e]);else f(a,b,c)}var h;return{restrict:"A",scope:!1,link:function(a,b,c){function d(c){return h=c.replace(/^\s+|\s+$/g,""),""===c?f():void g(a,b,h)}function f(){if(!f.done){var c=e(b.text());a.$watch(c,d),f.done=!0}}var h;c.$observe("ngI18next",d),d(c.ngI18next),a.$on("i18nextLanguageChange",function(){g(a,b,h)})}}}]),angular.module("jm.i18next").filter("i18next",["$i18next",function(a){"use strict";return function(b,c){return a(b,c)}}]);