!function(){function p(a){return{restrict:"CA",scope:{data:"=",labels:"=",options:"=",series:"=",colours:"=",chartType:"=",legend:"@",click:"="},link:function(r,g){function n(i){if(!j(i)){var l=a||r.chartType;l&&(e&&e.destroy(),e=k(l,r,g))}}var e,q=document.createElement("div");q.className="chart-container",g.replaceWith(q),q.appendChild(g[0]),"object"==typeof window.G_vmlCanvasManager&&null!==window.G_vmlCanvasManager&&"function"==typeof window.G_vmlCanvasManager.initElement&&window.G_vmlCanvasManager.initElement(g[0]),r.$watch("data",function(l,o){if(l&&l.length&&(!Array.isArray(l[0])||l[0].length)){var s=a||r.chartType;if(s){if(e){if(b(l,o)){return d(e,l,r)}e.destroy()}e=k(s,r,g)}}},!0),r.$watch("series",n,!0),r.$watch("labels",n,!0),r.$watch("options",n,!0),r.$watch("colours",n,!0),r.$watch("chartType",function(i){i&&(e&&e.destroy(),e=k(i,r,g))}),r.$on("$destroy",function(){e&&e.destroy()})}}}function b(a,e){return a&&e&&a.length&&e.length?Array.isArray(a[0])?a.length===e.length&&a[0].length===e[0].length:e.reduce(c,0)>0?a.length===e.length:!1:!1}function c(a,e){return a+e}function k(a,l,u){if(l.data&&l.data.length){var s=u[0],v=s.getContext("2d"),i=Array.isArray(l.data[0])?h(l.labels,l.data,l.series||[],l.colours):f(l.labels,l.data,l.colours),q=new Chart(v)[a](i,l.options||{});return l.$emit("create",q),l.click&&(s.onclick=function(g){var r=q.getPointsAtEvent||q.getBarsAtEvent||q.getSegmentsAtEvent;if(r){var n=r.call(q,g);l.click(n,g),l.$apply()}}),l.legend&&"false"!==l.legend&&m(u,q),q}}function m(i,l){var q=i.parent(),n=q.find("chart-legend"),g="<chart-legend>"+l.generateLegend()+"</chart-legend>";n.length?n.replaceWith(g):q.append(g)}function d(a,e,g){Array.isArray(g.data[0])?a.datasets.forEach(function(i,l){(i.points||i.bars).forEach(function(n,o){n.value=e[l][o]})}):a.segments.forEach(function(i,l){i.value=e[l]}),a.update(),g.$emit("update",a)}function h(a,g,l,i){return i=i||Chart.defaults.global.colours,{labels:a,datasets:g.map(function(n,o){var e=angular.copy(i[o]);return e.label=l[o],e.data=n,e})}}function f(a,e,g){return g=g||Chart.defaults.global.colours,a.map(function(i,l){return{label:i,value:e[l],color:g[l].strokeColor,highlight:g[l].pointHighlightStroke}})}function j(a){return !a||Array.isArray(a)&&!a.length||"object"==typeof a&&!Object.keys(a).length}Chart.defaults.global.responsive=!0,Chart.defaults.global.multiTooltipTemplate="<%if (datasetLabel){%><%=datasetLabel%>: <%}%><%= value %>",Chart.defaults.global.colours=[{fillColor:"rgba(151,187,205,0.2)",strokeColor:"rgba(151,187,205,1)",pointColor:"rgba(151,187,205,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(151,187,205,0.8)"},{fillColor:"rgba(220,220,220,0.2)",strokeColor:"rgba(220,220,220,1)",pointColor:"rgba(220,220,220,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(220,220,220,0.8)"},{fillColor:"rgba(247,70,74,0.2)",strokeColor:"rgba(247,70,74,1)",pointColor:"rgba(247,70,74,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(247,70,74,0.8)"},{fillColor:"rgba(70,191,189,0.2)",strokeColor:"rgba(70,191,189,1)",pointColor:"rgba(70,191,189,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(70,191,189,0.8)"},{fillColor:"rgba(253,180,92,0.2)",strokeColor:"rgba(253,180,92,1)",pointColor:"rgba(253,180,92,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(253,180,92,0.8)"},{fillColor:"rgba(148,159,177,0.2)",strokeColor:"rgba(148,159,177,1)",pointColor:"rgba(148,159,177,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(148,159,177,0.8)"},{fillColor:"rgba(77,83,96,0.2)",strokeColor:"rgba(77,83,96,1)",pointColor:"rgba(77,83,96,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(77,83,96,1)"}],angular.module("chart.js",[]).directive("chartBase",function(){return p()}).directive("chartLine",function(){return p("Line")}).directive("chartBar",function(){return p("Bar")}).directive("chartRadar",function(){return p("Radar")}).directive("chartDoughnut",function(){return p("Doughnut")}).directive("chartPie",function(){return p("Pie")}).directive("chartPolarArea",function(){return p("PolarArea")})}();