!function(){function A(a){return{restrict:"CA",scope:{data:"=",labels:"=",options:"=",series:"=",colours:"=?",getColour:"=?",chartType:"=",legend:"@",click:"="},link:function(g,h){function e(l){if(!B(l)){var i=a||g.chartType;i&&(f&&f.destroy(),f=w(i,g,h))}}var f,c=document.createElement("div");c.className="chart-container",h.replaceWith(c),c.appendChild(h[0]),"object"==typeof window.G_vmlCanvasManager&&null!==window.G_vmlCanvasManager&&"function"==typeof window.G_vmlCanvasManager.initElement&&window.G_vmlCanvasManager.initElement(h[0]),g.$watch("data",function(n,i){if(n&&n.length&&(!Array.isArray(n[0])||n[0].length)){var o=a||g.chartType;if(o){if(f){if(b(n,i)){return p(f,n,g)}f.destroy()}f=w(o,g,h)}}},!0),g.$watch("series",e,!0),g.$watch("labels",e,!0),g.$watch("options",e,!0),g.$watch("colours",e,!0),g.$watch("chartType",function(i){i&&(f&&f.destroy(),f=w(i,g,h))}),g.$on("$destroy",function(){f&&f.destroy()})}}}function b(a,c){return a&&c&&a.length&&c.length?Array.isArray(a[0])?a.length===c.length&&a[0].length===c[0].length:c.reduce(d,0)>0?a.length===c.length:!1:!1}function d(a,c){return a+c}function w(g,h,u){if(h.data&&h.data.length){h.getColour="function"==typeof h.getColour?h.getColour:y,h.colours=j(h);var s=u[0],c=s.getContext("2d"),a=Array.isArray(h.data[0])?q(h.labels,h.data,h.series||[],h.colours):x(h.labels,h.data,h.colours),n=new Chart(c)[g](a,h.options||{});return h.$emit("create",n),h.click&&(s.onclick=function(f){var l=n.getPointsAtEvent||n.getBarsAtEvent||n.getSegmentsAtEvent;if(l){var i=l.call(n,f);h.click(i,f),h.$apply()}}),h.legend&&"false"!==h.legend&&z(u,n),n}}function j(a){for(var c=a.colours||angular.copy(Chart.defaults.global.colours);c.length<a.data.length;){c.push(a.getColour())}return c}function y(){var a=[k(0,255),k(0,255),k(0,255)];return m(a)}function m(a){return{fillColor:v(a,0.2),strokeColor:v(a,1),pointColor:v(a,1),pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:v(a,0.8)}}function k(a,c){return Math.floor(Math.random()*(c-a+1))+a}function v(a,c){return"rgba("+a.concat(c).join(",")+")"}function q(a,c,g,f){return{labels:a,datasets:c.map(function(e,h){var i=angular.copy(f[h]);return i.label=g[h],i.data=e,i})}}function x(a,c,e){return a.map(function(f,g){return{label:f,value:c[g],color:e[g].strokeColor,highlight:e[g].pointHighlightStroke}})}function z(a,c){var g=a.parent(),f=g.find("chart-legend"),h="<chart-legend>"+c.generateLegend()+"</chart-legend>";f.length?f.replaceWith(h):g.append(h)}function p(a,c,e){Array.isArray(e.data[0])?a.datasets.forEach(function(f,g){(f.points||f.bars).forEach(function(h,i){h.value=c[g][i]})}):a.segments.forEach(function(f,g){f.value=c[g]}),a.update(),e.$emit("update",a)}function B(a){return !a||Array.isArray(a)&&!a.length||"object"==typeof a&&!Object.keys(a).length}Chart.defaults.global.responsive=!0,Chart.defaults.global.multiTooltipTemplate="<%if (datasetLabel){%><%=datasetLabel%>: <%}%><%= value %>",Chart.defaults.global.colours=[{fillColor:"rgba(151,187,205,0.2)",strokeColor:"rgba(151,187,205,1)",pointColor:"rgba(151,187,205,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(151,187,205,0.8)"},{fillColor:"rgba(220,220,220,0.2)",strokeColor:"rgba(220,220,220,1)",pointColor:"rgba(220,220,220,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(220,220,220,0.8)"},{fillColor:"rgba(247,70,74,0.2)",strokeColor:"rgba(247,70,74,1)",pointColor:"rgba(247,70,74,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(247,70,74,0.8)"},{fillColor:"rgba(70,191,189,0.2)",strokeColor:"rgba(70,191,189,1)",pointColor:"rgba(70,191,189,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(70,191,189,0.8)"},{fillColor:"rgba(253,180,92,0.2)",strokeColor:"rgba(253,180,92,1)",pointColor:"rgba(253,180,92,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(253,180,92,0.8)"},{fillColor:"rgba(148,159,177,0.2)",strokeColor:"rgba(148,159,177,1)",pointColor:"rgba(148,159,177,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(148,159,177,0.8)"},{fillColor:"rgba(77,83,96,0.2)",strokeColor:"rgba(77,83,96,1)",pointColor:"rgba(77,83,96,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(77,83,96,1)"}],angular.module("chart.js",[]).directive("chartBase",function(){return A()}).directive("chartLine",function(){return A("Line")}).directive("chartBar",function(){return A("Bar")}).directive("chartRadar",function(){return A("Radar")}).directive("chartDoughnut",function(){return A("Doughnut")}).directive("chartPie",function(){return A("Pie")}).directive("chartPolarArea",function(){return A("PolarArea")})}();