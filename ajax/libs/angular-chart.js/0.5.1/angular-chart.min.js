!function(){function E(a){return{restrict:"CA",scope:{data:"=",labels:"=",options:"=",series:"=",colours:"=?",getColour:"=?",chartType:"=",legend:"@",click:"="},link:function(f,g){function d(i){if(!j(i)){var h=a||f.chartType;h&&(e&&e.destroy(),e=z(h,f,g))}}var e,c=document.createElement("div");c.className="chart-container",g.replaceWith(c),c.appendChild(g[0]),"object"==typeof window.G_vmlCanvasManager&&null!==window.G_vmlCanvasManager&&"function"==typeof window.G_vmlCanvasManager.initElement&&window.G_vmlCanvasManager.initElement(g[0]),f.$watch("data",function(i,h){if(i&&i.length&&(!Array.isArray(i[0])||i[0].length)){var n=a||f.chartType;if(n){if(e){if(b(i,h)){return F(e,i,f)}e.destroy()}e=z(n,f,g)}}},!0),f.$watch("series",d,!0),f.$watch("labels",d,!0),f.$watch("options",d,!0),f.$watch("colours",d,!0),f.$watch("chartType",function(h){h&&(e&&e.destroy(),e=z(h,f,g))}),f.$on("$destroy",function(){e&&e.destroy()})}}}function b(a,c){return a&&c&&a.length&&c.length?Array.isArray(a[0])?a.length===c.length&&a[0].length===c[0].length:c.reduce(k,0)>0?a.length===c.length:!1:!1}function k(a,c){return a+c}function z(g,h,p){if(h.data&&h.data.length){h.getColour="function"==typeof h.getColour?h.getColour:v,h.colours=m(h);var n=p[0],d=n.getContext("2d"),c=Array.isArray(h.data[0])?B(h.labels,h.data,h.series||[],h.colours):D(h.labels,h.data,h.colours),i=new Chart(d)[g](c,h.options||{});return h.$emit("create",i),h.click&&(n.onclick=function(a){var l=i.getPointsAtEvent||i.getBarsAtEvent||i.getSegmentsAtEvent;if(l){var f=l.call(i,a);h.click(f,a),h.$apply()}}),h.legend&&"false"!==h.legend&&w(p,i),i}}function m(a){for(var c=a.colours||angular.copy(Chart.defaults.global.colours);c.length<a.data.length;){c.push(a.getColour())}return c.map(C)}function C(a){return"object"==typeof a&&null!==a?a:"string"==typeof a&&"#"===a[0]?q(A(a.substr(1))):v()}function v(){var a=[y(0,255),y(0,255),y(0,255)];return q(a)}function q(a){return{fillColor:x(a,0.2),strokeColor:x(a,1),pointColor:x(a,1),pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:x(a,0.8)}}function y(a,c){return Math.floor(Math.random()*(c-a+1))+a}function x(a,c){return"rgba("+a.concat(c).join(",")+")"}function B(a,c,f,d){return{labels:a,datasets:c.map(function(e,g){var h=angular.copy(d[g]);return h.label=f[g],h.data=e,h})}}function D(a,c,d){return a.map(function(f,g){return{label:f,value:c[g],color:d[g].strokeColor,highlight:d[g].pointHighlightStroke}})}function w(a,c){var f=a.parent(),d=f.find("chart-legend"),g="<chart-legend>"+c.generateLegend()+"</chart-legend>";d.length?d.replaceWith(g):f.append(g)}function F(a,c,d){Array.isArray(d.data[0])?a.datasets.forEach(function(e,f){(e.points||e.bars).forEach(function(g,h){g.value=c[f][h]})}):a.segments.forEach(function(e,f){e.value=c[f]}),a.update(),d.$emit("update",a)}function j(a){return !a||Array.isArray(a)&&!a.length||"object"==typeof a&&!Object.keys(a).length}function A(a){var c=parseInt(a,16),f=c>>16&255,d=c>>8&255,g=255&c;return[f,d,g]}Chart.defaults.global.responsive=!0,Chart.defaults.global.multiTooltipTemplate="<%if (datasetLabel){%><%=datasetLabel%>: <%}%><%= value %>",Chart.defaults.global.colours=[{fillColor:"rgba(151,187,205,0.2)",strokeColor:"rgba(151,187,205,1)",pointColor:"rgba(151,187,205,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(151,187,205,0.8)"},{fillColor:"rgba(220,220,220,0.2)",strokeColor:"rgba(220,220,220,1)",pointColor:"rgba(220,220,220,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(220,220,220,0.8)"},{fillColor:"rgba(247,70,74,0.2)",strokeColor:"rgba(247,70,74,1)",pointColor:"rgba(247,70,74,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(247,70,74,0.8)"},{fillColor:"rgba(70,191,189,0.2)",strokeColor:"rgba(70,191,189,1)",pointColor:"rgba(70,191,189,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(70,191,189,0.8)"},{fillColor:"rgba(253,180,92,0.2)",strokeColor:"rgba(253,180,92,1)",pointColor:"rgba(253,180,92,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(253,180,92,0.8)"},{fillColor:"rgba(148,159,177,0.2)",strokeColor:"rgba(148,159,177,1)",pointColor:"rgba(148,159,177,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(148,159,177,0.8)"},{fillColor:"rgba(77,83,96,0.2)",strokeColor:"rgba(77,83,96,1)",pointColor:"rgba(77,83,96,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(77,83,96,1)"}],angular.module("chart.js",[]).directive("chartBase",function(){return E()}).directive("chartLine",function(){return E("Line")}).directive("chartBar",function(){return E("Bar")}).directive("chartRadar",function(){return E("Radar")}).directive("chartDoughnut",function(){return E("Doughnut")}).directive("chartPie",function(){return E("Pie")}).directive("chartPolarArea",function(){return E("PolarArea")})}();