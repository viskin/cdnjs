(function(c){var d={options:{sniffHtml:true,preventSubmit:true,submitError:false,submitSuccess:false},methods:{init:function(f){var g=c.extend(true,{},d);g.options=c.extend(true,g.options,f);var h=this;c.unique(h.map(function(){var i=c(this);return i.parents("form")[0]})).bind("submit",function(k){var i=c(this);var l=0;var j=i.find("input,textarea,select").not("[type=submit],[type=image]");j.trigger("submit.validation").each(function(m,n){var o=c(n),p=o.parents(".control-group").first();if(p.hasClass("warning")){p.removeClass("warning").addClass("error");l++}}).trigger("validationLostFocus.validation");if(l){if(g.options.preventSubmit){k.preventDefault()}i.addClass("error");if(c.isFunction(g.options.submitError)){g.options.submitError(i,k,j.jqBootstrapValidation("collectErrors",true))}}else{i.removeClass("error");if(c.isFunction(g.options.submitSuccess)){g.options.submitSuccess(i,k)}}});return this.each(function(){var n=c(this),m=n.parents(".control-group").first(),q=m.find(".help-block").first(),s=n.parents("form").first(),i=[];if(g.options.sniffHtml){var r="";if(n.attr("pattern")!==undefined){r="Not in the expected format<!-- data-validation-pattern-message to override -->";if(n.data("validationPatternMessage")){r=n.data("validationPatternMessage")}n.data("validationPatternMessage",r);n.data("validationPatternRegex",n.attr("pattern"))}if(n.attr("max")!==undefined||n.attr("aria-valuemax")!==undefined){var p=(n.attr("max")!==undefined?n.attr("max"):n.attr("aria-valuemax"));r="Too high: Maximum of '"+p+"'<!-- data-validation-max-message to override -->";if(n.data("validationMaxMessage")){r=n.data("validationMaxMessage")}n.data("validationMaxMessage",r);n.data("validationMaxMax",p)}if(n.attr("min")!==undefined||n.attr("aria-valuemin")!==undefined){var k=(n.attr("min")!==undefined?n.attr("min"):n.attr("aria-valuemin"));r="Too low: Minimum of '"+k+"'<!-- data-validation-min-message to override -->";if(n.data("validationMinMessage")){r=n.data("validationMinMessage")}n.data("validationMinMessage",r);n.data("validationMinMin",k)}if(n.attr("maxlength")!==undefined){r="Too long: Maximum of '"+n.attr("maxlength")+"' characters<!-- data-validation-maxlength-message to override -->";if(n.data("validationMaxlengthMessage")){r=n.data("validationMaxlengthMessage")}n.data("validationMaxlengthMessage",r);n.data("validationMaxlengthMaxlength",n.attr("maxlength"))}if(n.attr("minlength")!==undefined){r="Too short: Minimum of '"+n.attr("minlength")+"' characters<!-- data-validation-minlength-message to override -->";if(n.data("validationMinlengthMessage")){r=n.data("validationMinlengthMessage")}n.data("validationMinlengthMessage",r);n.data("validationMinlengthMinlength",n.attr("minlength"))}if(n.attr("required")!==undefined||n.attr("aria-required")!==undefined){r=g.builtInValidators.required.message;if(n.data("validationRequiredMessage")){r=n.data("validationRequiredMessage")}n.data("validationRequiredMessage",r)}if(n.attr("type")!==undefined&&n.attr("type").toLowerCase()=="number"){r=g.builtInValidators.number.message;if(n.data("validationNumberMessage")){r=n.data("validationNumberMessage")}n.data("validationNumberMessage",r)}if(n.attr("type")!==undefined&&n.attr("type").toLowerCase()=="email"){r="Not a valid email address<!-- data-validator-validemail-message to override -->";if(n.data("validationValidemailMessage")){r=n.data("validationValidemailMessage")}else{if(n.data("validationEmailMessage")){r=n.data("validationEmailMessage")}}n.data("validationValidemailMessage",r)}if(n.attr("minchecked")!==undefined){r="Not enough options checked; Minimum of '"+n.attr("minchecked")+"' required<!-- data-validation-minchecked-message to override -->";if(n.data("validationMincheckedMessage")){r=n.data("validationMincheckedMessage")}n.data("validationMincheckedMessage",r);n.data("validationMincheckedMinchecked",n.attr("minchecked"))}if(n.attr("maxchecked")!==undefined){r="Too many options checked; Maximum of '"+n.attr("maxchecked")+"' required<!-- data-validation-maxchecked-message to override -->";if(n.data("validationMaxcheckedMessage")){r=n.data("validationMaxcheckedMessage")}n.data("validationMaxcheckedMessage",r);n.data("validationMaxcheckedMaxchecked",n.attr("maxchecked"))}}if(n.data("validation")!=undefined){i=n.data("validation").split(",")}c.each(n.data(),function(t,u){var v=t.replace(/([A-Z])/g,",$1").split(",");if(v[0]=="validation"&&v[1]){i.push(v[1])}});var l=i;var o=[];do{c.each(i,function(t,u){i[t]=b(u)});i=c.unique(i);o=[];c.each(l,function(u,v){if(n.data("validation"+v+"Shortcut")!=undefined){c.each(n.data("validation"+v+"Shortcut").split(","),function(x,w){o.push(w)})}else{if(g.builtInValidators[v.toLowerCase()]){var t=g.builtInValidators[v.toLowerCase()];if(t.type.toLowerCase()=="shortcut"){c.each(t.shortcut.split(","),function(w,x){x=b(x);o.push(x);i.push(x)})}}}});l=o}while(l.length>0);var j={};c.each(i,function(u,w){var x=n.data("validation"+w+"Message");var z=(x!=undefined);var v=false;x=(x?x:"'"+w+"' validation failed <!-- Add attribute 'data-validation-"+w.toLowerCase()+"-message' to input to change this message -->");c.each(g.validatorTypes,function(A,B){if(j[A]==undefined){j[A]=[]}if(!v&&n.data("validation"+w+b(B.name))!==undefined){j[A].push(c.extend(true,{name:b(B.name),message:x},B.init(n,w)));v=true}});if(!v&&g.builtInValidators[w.toLowerCase()]){var t=c.extend(true,{},g.builtInValidators[w.toLowerCase()]);if(z){t.message=x}var y=t.type.toLowerCase();if(y=="shortcut"){v=true}else{c.each(g.validatorTypes,function(A,B){if(j[A]==undefined){j[A]=[]}if(!v&&y==A.toLowerCase()){n.data("validation"+w+b(B.name),t[B.name.toLowerCase()]);j[y].push(c.extend(t,B.init(n,w)));v=true}})}}if(!v){c.error("Cannot find validation info for '"+w+"'")}});q.data("original-contents",(q.data("original-contents")?q.data("original-contents"):q.html()));q.data("original-role",(q.data("original-role")?q.data("original-role"):q.attr("role")));m.data("original-classes",(m.data("original-clases")?m.data("original-classes"):m.attr("class")));n.data("original-aria-invalid",(n.data("original-aria-invalid")?n.data("original-aria-invalid"):n.attr("aria-invalid")));n.bind("validation.validation",function(u,w){u=u;var v=a(n);var t=[];c.each(j,function(x,y){if(v||v.length||(w&&w.includeEmpty)||(g.validatorTypes[x].blockSubmit&&(w&&w.submitting))){c.each(y,function(A,z){if(g.validatorTypes[x].validate(n,v,z)){t.push(z.message)}})}});return t});n.bind("getValidators.validation",function(t){t=t;return j});n.bind("submit.validation",function(){return n.triggerHandler("change.validation",{submitting:true})});n.bind(["keyup","focus","blur","click","keydown","keypress","change"].join(".validation ")+".validation",function(v,w){var u=a(n);var t=[];m.find("input,textarea,select").each(function(z,A){var x=t.length;c.each(c(A).triggerHandler("validation.validation",w),function(B,C){t.push(C)});if(t.length>x){c(A).attr("aria-invalid","true")}else{var y=n.data("original-aria-invalid");c(A).attr("aria-invalid",(y!==undefined?y:false))}});s.find("input,select,textarea").not(n).not('[name="'+n.attr("name")+'"]').trigger("validationLostFocus.validation");t=c.unique(t);if(t.length){m.removeClass("success error").addClass("warning");q.html('<ul role="alert"><li>'+t.join("</li><li>")+"</li></ul>")}else{m.removeClass("warning error success");if(u.length>0){m.addClass("success")}q.html(q.data("original-contents"))}if(v.type=="blur"){m.removeClass("success")}});n.bind("validationLostFocus.validation",function(){m.removeClass("success")})})},destroy:function(){return this.each(function(){var f=c(this),h=f.parents(".control-group").first(),g=h.find(".help-block").first();f.unbind(".validation");g.html(g.data("original-contents"));h.attr("class",h.data("original-classes"));f.attr("aria-invalid",f.data("original-aria-invalid"));g.attr("role",f.data("original-role"))})},collectErrors:function(f){var g={};this.each(function(k,l){var j=c(l);var h=j.attr("name");var m=j.triggerHandler("validation.validation",{includeEmpty:true});g[h]=c.extend(true,m,g[h])});c.each(g,function(h,j){if(j.length==0){delete g[h]}});return g},override:function(f){d=c.extend(true,d,f)}},validatorTypes:{regex:{name:"regex",init:function(g,f){return{regex:e(g.data("validation"+f+"Regex"))}},validate:function(h,g,f){return(!f.regex.test(g)&&!f.negative)||(f.regex.test(g)&&f.negative)}},required:{name:"required",init:function(g,f){return{}},validate:function(h,g,f){return(g.length==0&&!f.negative)||(g.length>0&&f.negative)},blockSubmit:true},match:{name:"match",init:function(h,f){var g=h.parents("form").first().find('[name="'+h.data("validation"+f+"Match")+'"]').first();g.bind("validation.validation",function(){h.trigger("change.validation")});return{element:g}},validate:function(h,g,f){return(g!=f.element.val()&&!f.negative)||(g==f.element.val()&&f.negative)}},max:{name:"max",init:function(g,f){return{max:g.data("validation"+f+"Max")}},validate:function(h,g,f){return(parseFloat(g,10)>parseFloat(f.max,10)&&!f.negative)||(parseFloat(g,10)<=parseFloat(f.max,10)&&f.negative)}},min:{name:"min",init:function(g,f){return{min:g.data("validation"+f+"Min")}},validate:function(h,g,f){return(parseFloat(g)<parseFloat(f.min)&&!f.negative)||(parseFloat(g)>=parseFloat(f.min)&&f.negative)}},maxlength:{name:"maxlength",init:function(g,f){return{maxlength:g.data("validation"+f+"Maxlength")}},validate:function(h,g,f){return((g.length>f.maxlength)&&!f.negative)||((g.length<=f.maxlength)&&f.negative)}},minlength:{name:"minlength",init:function(g,f){return{minlength:g.data("validation"+f+"Minlength")}},validate:function(h,g,f){return((g.length<f.minlength)&&!f.negative)||((g.length>=f.minlength)&&f.negative)}},maxchecked:{name:"maxchecked",init:function(h,f){var g=h.parents("form").first().find('[name="'+h.attr("name")+'"]');g.bind("click.validation",function(){h.trigger("change.validation")});return{maxchecked:h.data("validation"+f+"Maxchecked"),elements:g}},validate:function(h,g,f){return(f.elements.filter(":checked").length>f.maxchecked&&!f.negative)||(f.elements.filter(":checked").length<=f.maxchecked&&f.negative)}},minchecked:{name:"minchecked",init:function(h,f){var g=h.parents("form").first().find('[name="'+h.attr("name")+'"]');g.bind("click.validation",function(){h.trigger("change.validation")});return{minchecked:h.data("validation"+f+"Minchecked"),elements:g}},validate:function(h,g,f){return(f.elements.filter(":checked").length<f.minchecked&&!f.negative)||(f.elements.filter(":checked").length>=f.minchecked&&f.negative)}}},builtInValidators:{email:{name:"Email",type:"shortcut",shortcut:"validemail"},validemail:{name:"Validemail",type:"regex",regex:"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,4}",message:"Not a valid email address<!-- data-validator-validemail-message to override -->"},passwordagain:{name:"Passwordagain",type:"match",match:"password",message:"Does not match the given password<!-- data-validator-paswordagain-message to override -->"},positive:{name:"Positive",type:"shortcut",shortcut:"number,positivenumber"},negative:{name:"Negative",type:"shortcut",shortcut:"number,negativenumber"},number:{name:"Number",type:"regex",regex:"([+-]?\\\d+(\\.\\\d*)?([eE][+-]?[0-9]+)?)?",message:"Must be a number<!-- data-validator-number-message to override -->"},integer:{name:"Integer",type:"regex",regex:"[+-]?\\\d+",message:"No decimal places allowed<!-- data-validator-integer-message to override -->"},positivenumber:{name:"Positivenumber",type:"min",min:0,message:"Must be a positive number<!-- data-validator-positivenumber-message to override -->"},negativenumber:{name:"Negativenumber",type:"max",max:0,message:"Must be a negative number<!-- data-validator-negativenumber-message to override -->"},required:{name:"Required",type:"required",message:"This is required<!-- data-validator-required-message to override -->"},checkone:{name:"Checkone",type:"minchecked",minchecked:1,message:"Check at least one option<!-- data-validation-checkone-message to override -->"}}};var b=function(f){return f.toLowerCase().replace(/(^|\s)([a-z])/g,function(g,i,h){return i+h.toUpperCase()})};var a=function(h){var g=h.val();var f=h.attr("type");if(f=="checkbox"){g=(h.is(":checked")?"1":"0")}if(f=="radio"){g=(c('input[name="'+h.attr("name")+'"]:checked').length>0?"1":"0")}return g};function e(f){return new RegExp("^"+f+"$")}c.fn.jqBootstrapValidation=function(f){if(d.methods[f]){return d.methods[f].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof f==="object"||!f){return d.methods.init.apply(this,arguments)}else{c.error("Method "+f+" does not exist on jQuery.jqBootstrapValidation");return null}}}})(jQuery);