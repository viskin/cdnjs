// Generated by CoffeeScript 1.10.0
(function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p=[].slice;u=require("querystring"),c=(a=require("fairmont"),r=a.include,n=a.clone,s=a.isObject,i=a.isFunction,t=a.base64,a),o=require("typely").overload,f=require("./request").request,l=function(){var e,t;return e=require("url"),t=e.resolve,function(){return decodeURIComponent(t.apply(null,arguments))}}(),e={basic:function(e){var n,r;return r=e.username,n=e.password,"Basic "+t(r+":"+n)},bearer:function(e){return"Bearer "+e}},h=o(function(t){return t("string",function(e){return h({url:e})}),t("string","object",function(e,t){return h({url:e,description:t})}),t("object",function(t){var u,a,c,d,v,m,g,y,b;b=t.url,c=t.description,m=function(e,t){return t==null&&(t=c),h({url:l(b,e),description:t})},v=function(){var e;return e=require("url-template").parse(b),function(t,n){return n==null&&(n=c),h({url:e.expand(t),description:n})}}(),g=function(t){var i;return t.url==null&&(t.url=b),t.headers==null&&(t.headers={}),i=function(){return f.apply(null,[t].concat(p.call(arguments)))},r(i,{invoke:function(){return i.apply(null,arguments)},curl:function(){var e,n,r,i;return b=t.url,r=t.method,e=t.headers,"curl -v -X"+r.toUpperCase()+" "+b+function(){var t;t=[];for(n in e)i=e[n],t.push(" -H'"+n+": "+i+"'");return t}()},authorize:function(r){var i,s,o,u;return o=Object.keys(r)[0],u=function(){var n;return((n=t.authorization)!=null?n[o]:void 0)!=null?t.authorization[o]:e[o]!=null?e[o]:function(e){var t,n;return t=e.k,n=e.v,t+": "+n}}(),s=u(r[o]),i=n(t),i.headers.authorization=s,g(i)}}),i},u=o(function(e){return e("string",function(e){return m(e)}),e("string","object",function(e,t){return m(e,t)}),e("object",function(e){return v(e)}),e("object","object",function(e,t){return v(e,t)})}),d=function(e,t){return u[e]=function(){switch(!1){case!s(t):return g(n(t));case!i(t):return t(function(){return arguments.length===1?u.apply(null,p.call(arguments).concat([{}])):u.apply(null,arguments)})}}()};for(y in c)a=c[y],d(y,a);return u})}),module.exports={resource:h}}).call(this);