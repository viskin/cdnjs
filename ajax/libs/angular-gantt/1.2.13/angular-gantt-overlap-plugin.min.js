/*
Project: angular-gantt v1.2.13 - Gantt chart component for AngularJS
Authors: Marco Schweighauser, RÃ©mi Alvergnat
License: MIT
Homepage: https://www.angular-gantt.com
Github: https://github.com/angular-gantt/angular-gantt.git
*/

!function(){"use strict";angular.module("gantt.overlap",["gantt","gantt.overlap.templates"]).directive("ganttOverlap",["moment",function(a){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",global:"=?"},link:function(b,c,d,e){function f(a){var b,c;return a.model.from.isBefore(a.model.to)?(b=a.model.from,c=a.model.to):(b=a.model.to,c=a.model.from),[b,c]}function g(b){var c=f(b);return a().range(c[0],c[1])}function h(a,b){b.model.id in a||(b.$element.addClass("gantt-task-overlaps"),a[b.model.id]=b)}function i(a,b){for(var c=0,d=b.length;d>c;c++){var e=b[c];e.model.id in a||e.$element.removeClass("gantt-task-overlaps")}}function j(a){var b={};if(a.length>1)for(var c=a[0],d=g(c),e=1,f=a.length;f>e;e++){var j=a[e],k=g(j);k.overlaps(d)&&(h(b,j),h(b,c)),c.left+c.width<j.left+j.width&&(c=j,d=k)}i(b,a)}function k(a,b){return a.sort(function(a,c){return b(a)<b(c)?-1:b(a)>b(c)?1:0})}var l=e.gantt.api;void 0===b.enabled&&(b.enabled=!0),void 0===b.global&&(b.global=!1),b.enabled&&(l.core.on.rendered(b,function(a){var c,d=e.gantt.rowsManager.rows;if(b.global){var f=[];for(c=0;c<d.length;c++)f.push.apply(f,d[c].tasks);f=k(f,function(a){return a.model.from}),j(f)}else for(d=a.gantt.rowsManager.rows,c=0;c<d.length;c++)j(d[c].tasks)}),l.tasks.on.change(b,function(a){if(b.global){for(var c=a.row.rowsManager.rows,d=[],e=0;e<c.length;e++)d.push.apply(d,c[e].tasks);d=k(d,function(a){return a.model.from}),j(d)}else j(a.row.tasks)}),l.tasks.on.rowChange(b,function(a,c){if(b.global){for(var d=c.rowsManager.rows,e=[],f=0;f<d.length;f++)e.push.apply(e,d[f].tasks);e=k(e,function(a){return a.model.from}),j(e)}else j(c.tasks)}))}}}])}(),angular.module("gantt.overlap.templates",[]).run(["$templateCache",function(a){}]);
//# sourceMappingURL=angular-gantt-overlap-plugin.min.js.map