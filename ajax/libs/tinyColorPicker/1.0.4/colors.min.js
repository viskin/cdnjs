!function(r,t){"object"==typeof exports?module.exports=t(r):"function"==typeof define&&define.amd?define("colors",[],function(){return t(r)}):r.Colors=t(r)}(this,function(r,t){"use strict";function o(r,o,n,i,s){if("string"==typeof o){var o=y.txt2color(o);n=o.type,v[n]=o[n],s=s!==t?s:o.alpha}else if(o)for(var e in o)r[n][e]=b(o[e]/c[n][e][1],0,1);return s!==t&&(r.alpha=b(+s,0,1)),a(n,i?r:t)}function n(r,t,o){var n=f.options.grey,a={};return a.RGB={r:r.r,g:r.g,b:r.b},a.rgb={r:t.r,g:t.g,b:t.b},a.alpha=o,a.equivalentGrey=h(n.r*r.r+n.g*r.g+n.b*r.b),a.rgbaMixBlack=u(t,{r:0,g:0,b:0},o,1),a.rgbaMixWhite=u(t,{r:1,g:1,b:1},o,1),a.rgbaMixBlack.luminance=e(a.rgbaMixBlack,!0),a.rgbaMixWhite.luminance=e(a.rgbaMixWhite,!0),f.options.customBG&&(a.rgbaMixCustom=u(t,f.options.customBG,o,1),a.rgbaMixCustom.luminance=e(a.rgbaMixCustom,!0),f.options.customBG.luminance=e(f.options.customBG,!0)),a}function a(r,t){var o,a,b,p=t||v,m=y,x=f.options,B=c,G=p.RND,M="",C="",R={hsl:"hsv",rgb:r},d=G.rgb;if("alpha"!==r){for(var k in B)if(!B[k][k]){r!==k&&(C=R[k]||"rgb",p[k]=m[C+"2"+k](p[C])),G[k]||(G[k]={}),o=p[k];for(M in o)G[k][M]=h(o[M]*B[k][M][1])}d=G.rgb,p.HEX=m.RGB2HEX(d),p.equivalentGrey=x.grey.r*p.rgb.r+x.grey.g*p.rgb.g+x.grey.b*p.rgb.b,p.webSave=a=i(d,51),p.webSmart=b=i(d,17),p.saveColor=d.r===a.r&&d.g===a.g&&d.b===a.b?"web save":d.r===b.r&&d.g===b.g&&d.b===b.b?"web smart":"",p.hueRGB=y.hue2RGB(p.hsv.h),t&&(p.background=n(d,p.rgb,p.alpha))}var E,H,X,w=p.rgb,D=p.alpha,S="luminance",W=p.background;return E=u(w,{r:0,g:0,b:0},D,1),E[S]=e(E,!0),p.rgbaMixBlack=E,H=u(w,{r:1,g:1,b:1},D,1),H[S]=e(H,!0),p.rgbaMixWhite=H,x.customBG&&(X=u(w,W.rgbaMixCustom,D,1),X[S]=e(X,!0),X.WCAG2Ratio=g(X[S],W.rgbaMixCustom[S]),p.rgbaMixBGMixCustom=X,X.luminanceDelta=l.abs(X[S]-W.rgbaMixCustom[S]),X.hueDelta=s(W.rgbaMixCustom,X,!0)),p.RGBLuminance=e(d),p.HUELuminance=e(p.hueRGB),x.convertCallback&&x.convertCallback(p,r),p}function i(r,t){var o={},n=0,a=t/2;for(var i in r)n=r[i]%t,o[i]=r[i]+(n>a?t-n:-n);return o}function s(r,t,o){return(l.max(r.r-t.r,t.r-r.r)+l.max(r.g-t.g,t.g-r.g)+l.max(r.b-t.b,t.b-r.b))*(o?255:1)/765}function e(r,t){for(var o=t?1:255,n=[r.r/o,r.g/o,r.b/o],a=f.options.luminance,i=n.length;i--;)n[i]=n[i]<=.03928?n[i]/12.92:l.pow((n[i]+.055)/1.055,2.4);return a.r*n[0]+a.g*n[1]+a.b*n[2]}function u(r,o,n,a){var i={},s=n!==t?n:1,e=a!==t?a:1,u=s+e*(1-s);for(var g in r)i[g]=(r[g]*s+o[g]*e*(1-s))/u;return i.a=u,i}function g(r,t){var o=1;return o=r>=t?(r+.05)/(t+.05):(t+.05)/(r+.05),h(100*o)/100}function b(r,t,o){return r>o?o:t>r?t:r}var c={rgb:{r:[0,255],g:[0,255],b:[0,255]},hsv:{h:[0,360],s:[0,100],v:[0,100]},hsl:{h:[0,360],s:[0,100],l:[0,100]},alpha:{alpha:[0,1]},HEX:{HEX:[0,16777215]}},l=r.Math,h=l.round,f={},v={},p={r:.298954,g:.586434,b:.114612},m={r:.2126,g:.7152,b:.0722},x=function(r){this.colors={RND:{}},this.options={color:"rgba(204, 82, 37, 0.8)",grey:p,luminance:m,valueRanges:c},B(this,r||{})},B=function(r,n){var a,i=r.options;G(r);for(var s in n)n[s]!==t&&(i[s]=n[s]);a=i.customBG,i.customBG="string"==typeof a?y.txt2color(a).rgb:a,v=o(r.colors,i.color,t,!0)},G=function(r){f!==r&&(f=r,v=r.colors)};x.prototype.setColor=function(r,n,i){return G(this),r?o(this.colors,r,n,t,i):(i!==t&&(this.colors.alpha=b(i,0,1)),a(n))},x.prototype.setCustomBackground=function(r){return G(this),this.options.customBG="string"==typeof r?y.txt2color(r).rgb:r,o(this.colors,t,"rgb")},x.prototype.saveAsBackground=function(){return G(this),o(this.colors,t,"rgb",!0)},x.prototype.toString=function(r,t){return y.color2text(r||"rgba",this.colors,t)};var y={txt2color:function(r){var t={},o=r.replace(/(?:#|\)|%)/g,"").split("("),n=(o[1]||"").split(/,\s*/),a=o[1]?o[0].substr(0,3):"rgb",i="";if(t.type=a,t[a]={},o[1])for(var s=3;s--;)i=a[s]||a.charAt(s),t[a][i]=+n[s]/c[a][i][1];else t.rgb=y.HEX2rgb(o[0]);return t.alpha=n[3]?+n[3]:1,t},color2text:function(r,t,o){var n=o!==!1&&h(100*t.alpha)/100,a="number"==typeof n&&o!==!1&&(o||1!==n),i=t.RND.rgb,s=t.RND.hsl,e=r.toLowerCase().substr(0,3),u="hex"===e&&a,g="hex"===e&&!u,b="rgb"===e||u,c=b?i.r+", "+i.g+", "+i.b:s.h+", "+s.s+"%, "+s.l+"%",l=g?"#"+t.HEX:(u?"rgb":e)+(a?"a":"")+"("+c+(a?", "+n:"")+")";return l},RGB2HEX:function(r){return((r.r<16?"0":"")+r.r.toString(16)+(r.g<16?"0":"")+r.g.toString(16)+(r.b<16?"0":"")+r.b.toString(16)).toUpperCase()},HEX2rgb:function(r){return r=r.split(""),{r:+("0x"+r[0]+r[r[3]?1:0])/255,g:+("0x"+r[r[3]?2:1]+(r[3]||r[1]))/255,b:+("0x"+(r[4]||r[2])+(r[5]||r[2]))/255}},hue2RGB:function(r){var t=6*r,o=~~t%6,n=6===t?0:t-o;return{r:h(255*[1,1-n,0,0,n,1][o]),g:h(255*[n,1,1,1-n,0,0][o]),b:h(255*[0,0,n,1,1,1-n][o])}},rgb2hsv:function(r){var t,o,n,a=r.r,i=r.g,s=r.b,e=0;return s>i&&(i=s+(s=i,0),e=-1),o=s,i>a&&(a=i+(i=a,0),e=-2/6-e,o=l.min(i,s)),t=a-o,n=a?t/a:0,{h:1e-15>n?v&&v.hsl&&v.hsl.h||0:t?l.abs(e+(i-s)/(6*t)):0,s:a?t/a:v&&v.hsv&&v.hsv.s||0,v:a}},hsv2rgb:function(r){var t=6*r.h,o=r.s,n=r.v,a=~~t,i=t-a,s=n*(1-o),e=n*(1-i*o),u=n*(1-(1-i)*o),g=a%6;return{r:[n,e,s,s,u,n][g],g:[u,n,n,e,s,s][g],b:[s,s,u,n,n,e][g]}},hsv2hsl:function(r){var t=(2-r.s)*r.v,o=r.s*r.v;return o=r.s?1>t?t?o/t:0:o/(2-t):0,{h:r.h,s:r.v||o?o:v&&v.hsl&&v.hsl.s||0,l:t/2}},rgb2hsl:function(r,t){var o=y.rgb2hsv(r);return y.hsv2hsl(t?o:v.hsv=o)},hsl2rgb:function(r){var t=6*r.h,o=r.s,n=r.l,a=.5>n?n*(1+o):n+o-o*n,i=n+n-a,s=a?(a-i)/a:0,e=~~t,u=t-e,g=a*s*u,b=i+g,c=a-g,l=e%6;return{r:[a,c,i,i,b,a][l],g:[b,a,a,c,i,i][l],b:[i,i,b,a,a,c][l]}}};return x});
//# sourceMappingURL=./colors.min.js.map