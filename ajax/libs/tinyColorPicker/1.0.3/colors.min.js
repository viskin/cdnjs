!function(r,t){"object"==typeof exports?module.exports=t(r):"function"==typeof define&&define.amd?define("colors",[],function(){return t(r)}):r.Colors=t(r)}(this,function(r,t){"use strict";function n(r,n,o,i,s){if("string"==typeof n){var n=x.txt2color(n);o=n.type,l[o]=n[o],s=s!==t?s:n.alpha}else if(n)for(var e in n)r[o][e]=b(n[e]/c[o][e][1],0,1);return s!==t&&(r.alpha=b(+s,0,1)),a(o,i?r:t)}function o(r,t,n){var o=h.options.grey,a={};return a.RGB={r:r.r,g:r.g,b:r.b},a.rgb={r:t.r,g:t.g,b:t.b},a.alpha=n,a.equivalentGrey=Math.round(o.r*r.r+o.g*r.g+o.b*r.b),a.rgbaMixBlack=u(t,{r:0,g:0,b:0},n,1),a.rgbaMixWhite=u(t,{r:1,g:1,b:1},n,1),a.rgbaMixBlack.luminance=e(a.rgbaMixBlack,!0),a.rgbaMixWhite.luminance=e(a.rgbaMixWhite,!0),h.options.customBG&&(a.rgbaMixCustom=u(t,h.options.customBG,n,1),a.rgbaMixCustom.luminance=e(a.rgbaMixCustom,!0),h.options.customBG.luminance=e(h.options.customBG,!0)),a}function a(r,t){var n,a,b,v=t||l,f=x,p=h.options,m=c,M=v.RND,B="",G="",y={hsl:"hsv",rgb:r},C=M.rgb;if("alpha"!==r){for(var d in m)if(!m[d][d]){r!==d&&(G=y[d]||"rgb",v[d]=f[G+"2"+d](v[G])),M[d]||(M[d]={}),n=v[d];for(B in n)M[d][B]=Math.round(n[B]*m[d][B][1])}C=M.rgb,v.HEX=f.RGB2HEX(C),v.equivalentGrey=p.grey.r*v.rgb.r+p.grey.g*v.rgb.g+p.grey.b*v.rgb.b,v.webSave=a=i(C,51),v.webSmart=b=i(C,17),v.saveColor=C.r===a.r&&C.g===a.g&&C.b===a.b?"web save":C.r===b.r&&C.g===b.g&&C.b===b.b?"web smart":"",v.hueRGB=x.hue2RGB(v.hsv.h),t&&(v.background=o(C,v.rgb,v.alpha))}var R,k,E,H=v.rgb,X=v.alpha,w="luminance",S=v.background;return R=u(H,{r:0,g:0,b:0},X,1),R[w]=e(R,!0),v.rgbaMixBlack=R,k=u(H,{r:1,g:1,b:1},X,1),k[w]=e(k,!0),v.rgbaMixWhite=k,p.customBG&&(E=u(H,S.rgbaMixCustom,X,1),E[w]=e(E,!0),E.WCAG2Ratio=g(E[w],S.rgbaMixCustom[w]),v.rgbaMixBGMixCustom=E,E.luminanceDelta=Math.abs(E[w]-S.rgbaMixCustom[w]),E.hueDelta=s(S.rgbaMixCustom,E,!0)),v.RGBLuminance=e(C),v.HUELuminance=e(v.hueRGB),p.convertCallback&&p.convertCallback(v,r),v}function i(r,t){var n={},o=0,a=t/2;for(var i in r)o=r[i]%t,n[i]=r[i]+(o>a?t-o:-o);return n}function s(r,t,n){return(Math.max(r.r-t.r,t.r-r.r)+Math.max(r.g-t.g,t.g-r.g)+Math.max(r.b-t.b,t.b-r.b))*(n?255:1)/765}function e(r,t){for(var n=t?1:255,o=[r.r/n,r.g/n,r.b/n],a=h.options.luminance,i=o.length;i--;)o[i]=o[i]<=.03928?o[i]/12.92:Math.pow((o[i]+.055)/1.055,2.4);return a.r*o[0]+a.g*o[1]+a.b*o[2]}function u(r,n,o,a){var i={},s=o!==t?o:1,e=a!==t?a:1,u=s+e*(1-s);for(var g in r)i[g]=(r[g]*s+n[g]*e*(1-s))/u;return i.a=u,i}function g(r,t){var n=1;return n=r>=t?(r+.05)/(t+.05):(t+.05)/(r+.05),Math.round(100*n)/100}function b(r,t,n){return r>n?n:t>r?t:r}var c={rgb:{r:[0,255],g:[0,255],b:[0,255]},hsv:{h:[0,360],s:[0,100],v:[0,100]},hsl:{h:[0,360],s:[0,100],l:[0,100]},alpha:{alpha:[0,1]},HEX:{HEX:[0,16777215]}},h={},l={},v={r:.298954,g:.586434,b:.114612},f={r:.2126,g:.7152,b:.0722},p=function(r){this.colors={RND:{}},this.options={color:"rgba(204, 82, 37, 0.8)",grey:v,luminance:f,valueRanges:c},m(this,r||{})},m=function(r,o){var a,i=r.options;M(r);for(var s in o)o[s]!==t&&(i[s]=o[s]);a=i.customBG,i.customBG="string"==typeof a?x.txt2color(a).rgb:a,l=n(r.colors,i.color,t,!0)},M=function(r){h!==r&&(h=r,l=r.colors)};p.prototype.setColor=function(r,o,i){return M(this),r?n(this.colors,r,o,t,i):(i!==t&&(this.colors.alpha=b(i,0,1)),a(o))},p.prototype.setCustomBackground=function(r){return M(this),this.options.customBG="string"==typeof r?x.txt2color(r).rgb:r,n(this.colors,t,"rgb")},p.prototype.saveAsBackground=function(){return M(this),n(this.colors,t,"rgb",!0)};var x={txt2color:function(r){var t={},n=r.replace(/(?:#|\)|%)/g,"").split("("),o=(n[1]||"").split(/,\s*/),a=n[1]?n[0].substr(0,3):"rgb",i="";if(t.type=a,t[a]={},n[1])for(var s=3;s--;)i=a[s]||a.charAt(s),t[a][i]=+o[s]/c[a][i][1];else t.rgb=x.HEX2rgb(n[0]);return t.alpha=o[3]?+o[3]:1,t},RGB2HEX:function(r){return((r.r<16?"0":"")+r.r.toString(16)+(r.g<16?"0":"")+r.g.toString(16)+(r.b<16?"0":"")+r.b.toString(16)).toUpperCase()},HEX2rgb:function(r){return r=r.split(""),{r:parseInt(r[0]+r[r[3]?1:0],16)/255,g:parseInt(r[r[3]?2:1]+(r[3]||r[1]),16)/255,b:parseInt((r[4]||r[2])+(r[5]||r[2]),16)/255}},hue2RGB:function(r){var t=6*r,n=~~t%6,o=6===t?0:t-n;return{r:Math.round(255*[1,1-o,0,0,o,1][n]),g:Math.round(255*[o,1,1,1-o,0,0][n]),b:Math.round(255*[0,0,o,1,1,1-o][n])}},rgb2hsv:function(r){var t,n,o,a=r.r,i=r.g,s=r.b,e=0;return s>i&&(i=s+(s=i,0),e=-1),n=s,i>a&&(a=i+(i=a,0),e=-2/6-e,n=Math.min(i,s)),t=a-n,o=a?t/a:0,{h:1e-15>o?l&&l.hsl&&l.hsl.h||0:t?Math.abs(e+(i-s)/(6*t)):0,s:a?t/a:l&&l.hsv&&l.hsv.s||0,v:a}},hsv2rgb:function(r){var t=6*r.h,n=r.s,o=r.v,a=~~t,i=t-a,s=o*(1-n),e=o*(1-i*n),u=o*(1-(1-i)*n),g=a%6;return{r:[o,e,s,s,u,o][g],g:[u,o,o,e,s,s][g],b:[s,s,u,o,o,e][g]}},hsv2hsl:function(r){var t=(2-r.s)*r.v,n=r.s*r.v;return n=r.s?1>t?t?n/t:0:n/(2-t):0,{h:r.h,s:r.v||n?n:l&&l.hsl&&l.hsl.s||0,l:t/2}},rgb2hsl:function(r,t){var n=x.rgb2hsv(r);return x.hsv2hsl(t?n:l.hsv=n)},hsl2rgb:function(r){var t=6*r.h,n=r.s,o=r.l,a=.5>o?o*(1+n):o+n-n*o,i=o+o-a,s=a?(a-i)/a:0,e=~~t,u=t-e,g=a*s*u,b=i+g,c=a-g,h=e%6;return{r:[a,c,i,i,b,a][h],g:[b,a,a,c,i,i][h],b:[i,i,b,a,a,c][h]}}};return p});
//# sourceMappingURL=./colors.min.js.map