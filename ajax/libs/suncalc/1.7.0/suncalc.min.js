!function(){"use strict";function n(n){return n.valueOf()/E-.5+I}function t(n){return new Date((n+.5-I)*E)}function e(t){return n(t)-k}function r(n,t){return H(P(n)*p(z)-D(t)*P(z),p(n))}function a(n,t){return y(P(t)*p(z)+p(t)*P(z)*P(n))}function u(n,t,e){return H(P(n),p(n)*P(t)-D(e)*p(t))}function o(n,t,e){return y(P(t)*P(e)+p(t)*p(e)*p(n))}function i(n,t){return b*(280.16+360.9856235*n)-t}function c(n){return b*(357.5291+.98560028*n)}function d(n){var t=b*(1.9148*P(n)+.02*P(2*n)+3e-4*P(3*n)),e=102.9372*b;return n+t+e+w}function s(n){var t=c(n),e=d(t);return{dec:a(e,0),ra:r(e,0)}}function f(n,t){return Math.round(n-S-t/(2*w))}function l(n,t,e){return S+(n+t)/(2*w)+e}function h(n,t,e){return k+n+.0053*P(t)-.0069*P(2*e)}function M(n,t,e){return T((P(n)-P(t)*P(e))/(p(t)*p(e)))}function v(n,t,e,r,a,u,o){var i=M(n,e,r),c=l(i,t,a);return h(c,u,o)}function g(n){var t=b*(218.316+13.176396*n),e=b*(134.963+13.064993*n),u=b*(93.272+13.22935*n),o=t+6.289*b*P(e),i=5.128*b*P(u),c=385001-20905*p(e);return{ra:r(o,i),dec:a(o,i),dist:c}}function m(n,t){return new Date(n.valueOf()+t*E/24)}var w=Math.PI,P=Math.sin,p=Math.cos,D=Math.tan,y=Math.asin,H=Math.atan2,T=Math.acos,b=w/180,E=864e5,I=2440588,k=2451545,z=23.4397*b,C={};C.getPosition=function(n,t,r){var a=b*-r,c=b*t,d=e(n),f=s(d),l=i(d,a)-f.ra;return{azimuth:u(l,c,f.dec),altitude:o(l,c,f.dec)}};var O=C.times=[[-.833,"sunrise","sunset"],[-.3,"sunriseEnd","sunsetStart"],[-6,"dawn","dusk"],[-12,"nauticalDawn","nauticalDusk"],[-18,"nightEnd","night"],[6,"goldenHourEnd","goldenHour"]];C.addTime=function(n,t,e){O.push([n,t,e])};var S=9e-4;C.getTimes=function(n,r,u){var o,i,s,M,g,m=b*-u,w=b*r,P=e(n),p=f(P,m),D=l(0,m,p),y=c(D),H=d(y),T=a(H,0),E=h(D,y,H),I={solarNoon:t(E),nadir:t(E-.5)};for(o=0,i=O.length;i>o;o+=1)s=O[o],M=v(s[0]*b,m,w,T,p,y,H),g=E-(M-E),I[s[1]]=t(g),I[s[2]]=t(M);return I},C.getMoonPosition=function(n,t,r){var a=b*-r,c=b*t,d=e(n),s=g(d),f=i(d,a)-s.ra,l=o(f,c,s.dec);return l+=.017*b/D(l+10.26*b/(l+5.1*b)),{azimuth:u(f,c,s.dec),altitude:l,distance:s.dist}},C.getMoonIllumination=function(n){var t=e(n),r=s(t),a=g(t),u=149598e3,o=T(P(r.dec)*P(a.dec)+p(r.dec)*p(a.dec)*p(r.ra-a.ra)),i=H(u*P(o),a.dist-u*p(o)),c=H(p(r.dec)*P(r.ra-a.ra),P(r.dec)*p(a.dec)-p(r.dec)*P(a.dec)*p(r.ra-a.ra));return{fraction:(1+p(i))/2,phase:.5+.5*i*(0>c?-1:1)/Math.PI,angle:c}},C.getMoonTimes=function(n,t,e,r){var a=new Date(n);r?a.setUTCHours(0,0,0,0):a.setHours(0,0,0,0);for(var u,o,i,c,d,s,f,l,h,M,v,g,w,P=.133*b,p=C.getMoonPosition(a,t,e).altitude-P,D=1;24>=D&&(u=C.getMoonPosition(m(a,D),t,e).altitude-P,o=C.getMoonPosition(m(a,D+1),t,e).altitude-P,d=(p+o)/2-u,s=(o-p)/2,f=-s/(2*d),l=(d*f+s)*f+u,h=s*s-4*d*u,M=0,h>=0&&(w=Math.sqrt(h)/(2*Math.abs(d)),v=f-w,g=f+w,Math.abs(v)<=1&&M++,Math.abs(g)<=1&&M++,-1>v&&(v=g)),1===M?0>p?i=D+v:c=D+v:2===M&&(i=D+(0>l?g:v),c=D+(0>l?v:g)),!i||!c);D+=2)p=o;var y={};return i&&(y.rise=m(a,i)),c&&(y.set=m(a,c)),i||c||(y[l>0?"alwaysUp":"alwaysDown"]=!0),y},"function"==typeof define&&define.amd?define(C):"undefined"!=typeof module?module.exports=C:window.SunCalc=C}();
//# sourceMappingURL=./suncalc.min.js.map