d3.tip=function(){var s=j,e=b,g=q,o=n(),k=null,p=null;function i(x){k=u(x);p=k.createSVGPoint();document.body.appendChild(o)}i.show=function(){var A=g.apply(this,arguments),z=e.apply(this,arguments),x=s.apply(this,arguments),C=d3.select(o),y=0,B;C.html(A).style({opacity:1,"pointer-events":"all"});while(y--){C.classed(h[y],false)}B=v.get(x).apply(this);C.classed(x,true).style({top:(B.top+z[0])+"px",left:(B.left+z[1])+"px"});return i};i.hide=function(){nodel=d3.select(o);nodel.style({opacity:0,"pointer-events":"none"});return i};i.attr=function(z,x){if(arguments.length<2&&typeof z==="string"){return d3.select(o).attr(z)}else{var y=Array.prototype.slice.call(arguments);d3.selection.prototype.attr.apply(d3.select(o),y)}return i};i.style=function(z,x){if(arguments.length<2&&typeof z==="string"){return d3.select(o).style(z)}else{var y=Array.prototype.slice.call(arguments);d3.selection.prototype.style.apply(d3.select(o),y)}return i};i.direction=function(x){if(!arguments.length){return s}s=x==null?x:d3.functor(x);return i};i.offset=function(x){if(!arguments.length){return e}e=x==null?x:d3.functor(x);return i};i.html=function(x){if(!arguments.length){return g}g=x==null?x:d3.functor(x);return i};function j(){return"n"}function b(){return[0,0]}function q(){return" "}var v=d3.map({n:a,s:t,e:c,w:r,nw:d,ne:m,sw:w,se:f}),h=v.keys();function a(){var x=l();return{top:x.n.y-o.offsetHeight,left:x.n.x-o.offsetWidth/2}}function t(){var x=l();return{top:x.s.y,left:x.s.x-o.offsetWidth/2}}function c(){var x=l();return{top:x.e.y-o.offsetHeight/2,left:x.e.x}}function r(){var x=l();return{top:x.w.y-o.offsetHeight/2,left:x.w.x-o.offsetWidth}}function d(){var x=l();return{top:x.nw.y-o.offsetHeight,left:x.nw.x-o.offsetWidth}}function m(){var x=l();return{top:x.ne.y-o.offsetHeight,left:x.ne.x}}function w(){var x=l();return{top:x.sw.y,left:x.sw.x-o.offsetWidth}}function f(){var x=l();return{top:x.se.y,left:x.e.x}}function n(){var x=d3.select(document.createElement("div"));x.style({position:"absolute",opacity:0,pointerEvents:"none",boxSizing:"border-box"});return x.node()}function u(x){x=x.node();if(x.tagName.toLowerCase()=="svg"){return x}return x.ownerSVGElement}function l(){var C=d3.event.target,H={},E=C.getScreenCTM(),G=C.getBBox(),z=G.width,I=G.height,F=G.x,D=G.y,A=document.documentElement.scrollTop||document.body.scrollTop,B=document.documentElement.scrollLeft||document.body.scrollLeft;p.x=F+B;p.y=D+A;H.nw=p.matrixTransform(E);p.x+=z;H.ne=p.matrixTransform(E);p.y+=I;H.se=p.matrixTransform(E);p.x-=z;H.sw=p.matrixTransform(E);p.y-=I/2;H.w=p.matrixTransform(E);p.x+=z;H.e=p.matrixTransform(E);p.x-=z/2;p.y-=I/2;H.n=p.matrixTransform(E);p.y+=I;H.s=p.matrixTransform(E);return H}return i};