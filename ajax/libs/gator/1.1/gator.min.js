/* gator v1.1 craig.is/riding/gators */
(function(){function r(a,c,b){if("_root"==c)return b;if(a!==b){var j;e||(a.matches&&(e=a.matches),a.webkitMatchesSelector&&(e=a.webkitMatchesSelector),a.mozMatchesSelector&&(e=a.mozMatchesSelector),a.msMatchesSelector&&(e=a.msMatchesSelector),a.oMatchesSelector&&(e=a.oMatchesSelector),e||(e=g.matchesSelector));j=e;if(j.call(a,c))return a;if(a.parentNode)return n++,r(a.parentNode,c,b)}}function s(a,c,i,e){a instanceof Array||(a=[a]);!i&&"function"==typeof c&&(i=c,c="_root");var m=this.id,k=function(a){a:{var c=
k.original;if(b[m][c]){var e=a.target||a.srcElement,d,h,i={},f=h=0;n=0;for(d in b[m][c])if(b[m][c].hasOwnProperty(d)&&(h=r(e,d,j[m].element))&&g.matchesEvent(c,j[m].element,h,"_root"==d,a))n++,b[m][c][d].match=h,i[n]=b[m][c][d];a.stopPropagation=function(){a.cancelBubble=!0};for(h=0;h<=n;h++)if(i[h])for(f=0;f<i[h].length;f++){if(!1===i[h][f].call(i[h].match,a)){g.cancel(a);break a}if(a.cancelBubble)break a}}}},l;for(l=0;l<a.length;l++)if(k.original=a[l],(!b[this.id]||!b[this.id][a[l]])&&g.addEvent(this,
a[l],k),e){var d=a[l],f=c,p=i;if(!p&&!f)delete b[this.id][d];else if(p)for(var q=0;q<b[this.id][d][f].length;q++){if(b[this.id][d][f][q]===p){b[this.id][d][f].pop(q,1);break}}else delete b[this.id][d][f]}else d=a[l],f=c,p=i,b[this.id]||(b[this.id]={}),b[this.id][d]||(b[this.id][d]={}),b[this.id][d][f]||(b[this.id][d][f]=[]),b[this.id][d][f].push(p);return this}function g(a){if(!(this instanceof g)){for(var c in j)if(j[c].element===a)return j[c];k++;j[k]=new g(a,k);return j[k]}this.element=a;this.id=
k}var e,n=0,k=0,b={},j={};g.prototype.on=function(a,c,b){return s.call(this,a,c,b)};g.prototype.off=function(a,c,b){return s.call(this,a,c,b,!0)};g.matchesSelector=function(){};g.cancel=function(a){a.preventDefault();a.stopPropagation()};g.addEvent=function(a,b,e){a.element.addEventListener(b,e,"blur"==b||"focus"==b)};g.matchesEvent=function(){return!0};window.Gator=g})();
