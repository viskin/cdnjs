(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(a){a.defineMode("haxe",function(R,V){var D=R.indentUnit;function Z(A){return{type:A,style:"keyword"}}var w=Z("keyword a"),u=Z("keyword b"),t=Z("keyword c");var aa=Z("operator"),c={type:"atom",style:"atom"},I={type:"attribute",style:"attribute"};var ak=Z("typedef");var g={"if":w,"while":w,"else":u,"do":u,"try":u,"return":t,"break":t,"continue":t,"new":t,"throw":t,"var":Z("var"),inline:I,"static":I,using:Z("import"),"public":I,"private":I,cast:Z("cast"),"import":Z("import"),macro:Z("macro"),"function":Z("function"),"catch":Z("catch"),untyped:Z("untyped"),callback:Z("cb"),"for":Z("for"),"switch":Z("switch"),"case":Z("case"),"default":Z("default"),"in":aa,never:Z("property_access"),trace:Z("trace"),"class":ak,"abstract":ak,"enum":ak,"interface":ak,typedef:ak,"extends":ak,"implements":ak,dynamic:ak,"true":c,"false":c,"null":c};var W=/[+\-*&%=<>!?|]/;function aj(C,B,A){B.tokenize=A;return A(C,B)}function ad(al,A){var C=false,B;while((B=al.next())!=null){if(B==A&&!C){return true}C=!C&&B=="\\"}}var ak,p;function L(C,B,A){ak=C;p=A;return B}function H(am,C){var A=am.next();if(A=='"'||A=="'"){return aj(am,C,j(A))}else{if(/[\[\]{}\(\),;\:\.]/.test(A)){return L(A)}else{if(A=="0"&&am.eat(/x/i)){am.eatWhile(/[\da-f]/i);return L("number","number")}else{if(/\d/.test(A)||A=="-"&&am.eat(/\d/)){am.match(/^\d*(?:\.\d*(?!\.))?(?:[eE][+\-]?\d+)?/);return L("number","number")}else{if(C.reAllowed&&(A=="~"&&am.eat(/\//))){ad(am,"/");am.eatWhile(/[gimsu]/);return L("regexp","string-2")}else{if(A=="/"){if(am.eat("*")){return aj(am,C,U)}else{if(am.eat("/")){am.skipToEnd();return L("comment","comment")}else{am.eatWhile(W);return L("operator",null,am.current())}}}else{if(A=="#"){am.skipToEnd();return L("conditional","meta")}else{if(A=="@"){am.eat(/:/);am.eatWhile(/[\w_]/);return L("metadata","meta")}else{if(W.test(A)){am.eatWhile(W);return L("operator",null,am.current())}else{var al;if(/[A-Z]/.test(A)){am.eatWhile(/[\w_<>]/);al=am.current();return L("type","variable-3",al)}else{am.eatWhile(/[\w_]/);var al=am.current(),B=g.propertyIsEnumerable(al)&&g[al];return(B&&C.kwAllowed)?L(B.type,B.style,al):L("variable","variable",al)}}}}}}}}}}}function j(A){return function(C,B){if(ad(C,A)){B.tokenize=H}return L("string","string")}}function U(al,C){var A=false,B;while(B=al.next()){if(B=="/"&&A){C.tokenize=H;break}A=(B=="*")}return L("comment","comment")}var l={atom:true,number:true,variable:true,string:true,regexp:true};function ai(an,B,A,am,C,al){this.indented=an;this.column=B;this.type=A;this.prev=C;this.info=al;if(am!=null){this.align=am}}function F(C,B){for(var A=C.localVars;A;A=A.next){if(A.name==B){return true}}}function y(am,B,A,al,an){var ao=am.cc;z.state=am;z.stream=an;z.marked=null,z.cc=ao;if(!am.lexical.hasOwnProperty("align")){am.lexical.align=true}while(true){var C=ao.length?ao.pop():G;if(C(A,al)){while(ao.length&&ao[ao.length-1].lex){ao.pop()()}if(z.marked){return z.marked}if(A=="variable"&&F(am,al)){return"variable-2"}if(A=="variable"&&r(am,al)){return"variable-3"}return B}}}function r(al,C){if(/[a-z]/.test(C.charAt(0))){return false}var A=al.importedtypes.length;for(var B=0;B<A;B++){if(al.importedtypes[B]==C){return true}}}function ac(A){var C=z.state;for(var B=C.importedtypes;B;B=B.next){if(B.name==A){return}}C.importedtypes={name:A,next:C.importedtypes}}var z={state:null,column:null,marked:null,cc:null};function b(){for(var A=arguments.length-1;A>=0;A--){z.cc.push(arguments[A])}}function P(){b.apply(null,arguments);return true}function m(B){var C=z.state;if(C.context){z.marked="def";for(var A=C.localVars;A;A=A.next){if(A.name==B){return}}C.localVars={name:B,next:C.localVars}}}var N={name:"this",next:null};function v(){if(!z.state.context){z.state.localVars=N}z.state.context={prev:z.state.context,vars:z.state.localVars}}function s(){z.state.localVars=z.state.context.vars;z.state.context=z.state.context.prev}s.lex=true;function k(B,C){var A=function(){var al=z.state;al.lexical=new ai(al.indented,z.stream.column(),B,null,al.lexical,C)};A.lex=true;return A}function O(){var A=z.state;if(A.lexical.prev){if(A.lexical.type==")"){A.indented=A.lexical.indented}A.lexical=A.lexical.prev}}O.lex=true;function f(A){function B(C){if(C==A){return P()}else{if(A==";"){return b()}else{return P(B)}}}return B}function G(A){if(A=="@"){return P(ab)}if(A=="var"){return P(k("vardef"),S,f(";"),O)}if(A=="keyword a"){return P(k("form"),E,G,O)}if(A=="keyword b"){return P(k("form"),G,O)}if(A=="{"){return P(k("}"),v,n,O,s)}if(A==";"){return P()}if(A=="attribute"){return P(e)}if(A=="function"){return P(i)}if(A=="for"){return P(k("form"),f("("),k(")"),h,f(")"),O,G,O)}if(A=="variable"){return P(k("stat"),K)}if(A=="switch"){return P(k("form"),E,k("}","switch"),f("{"),n,O,O)}if(A=="case"){return P(E,f(":"))}if(A=="default"){return P(f(":"))}if(A=="catch"){return P(k("form"),v,f("("),q,f(")"),G,O,s)}if(A=="import"){return P(M,f(";"))}if(A=="typedef"){return P(ah)}return b(k("stat"),E,f(";"),O)}function E(A){if(l.hasOwnProperty(A)){return P(T)}if(A=="type"){return P(T)}if(A=="function"){return P(i)}if(A=="keyword c"){return P(J)}if(A=="("){return P(k(")"),J,f(")"),O,T)}if(A=="operator"){return P(E)}if(A=="["){return P(k("]"),X(J,"]"),O,T)}if(A=="{"){return P(k("}"),X(o,"}"),O,T)}return P()}function J(A){if(A.match(/[;\}\)\],]/)){return b()}return b(E)}function T(A,B){if(A=="operator"&&/\+\+|--/.test(B)){return P(T)}if(A=="operator"||A==":"){return P(E)}if(A==";"){return}if(A=="("){return P(k(")"),X(E,")"),O,T)}if(A=="."){return P(Y,T)}if(A=="["){return P(k("]"),E,f("]"),O,T)}}function e(A){if(A=="attribute"){return P(e)}if(A=="function"){return P(i)}if(A=="var"){return P(S)}}function ab(A){if(A==":"){return P(ab)}if(A=="variable"){return P(ab)}if(A=="("){return P(k(")"),X(ae,")"),O,G)}}function ae(A){if(A=="variable"){return P()}}function M(A,B){if(A=="variable"&&/[A-Z]/.test(B.charAt(0))){ac(B);return P()}else{if(A=="variable"||A=="property"||A=="."||B=="*"){return P(M)}}}function ah(A,B){if(A=="variable"&&/[A-Z]/.test(B.charAt(0))){ac(B);return P()}else{if(A=="type"&&/[A-Z]/.test(B.charAt(0))){return P()}}}function K(A){if(A==":"){return P(O,G)}return b(T,f(";"),O)}function Y(A){if(A=="variable"){z.marked="property";return P()}}function o(A){if(A=="variable"){z.marked="property"}if(l.hasOwnProperty(A)){return P(f(":"),E)}}function X(C,A){function B(al){if(al==","){return P(C,B)}if(al==A){return P()}return P(f(A))}return function(al){if(al==A){return P()}else{return b(C,B)}}}function n(A){if(A=="}"){return P()}return b(G,n)}function S(A,B){if(A=="variable"){m(B);return P(x,Q)}return P()}function Q(A,B){if(B=="="){return P(E,Q)}if(A==","){return P(S)}}function h(A,B){if(A=="variable"){m(B);return P(d,E)}else{return b()}}function d(A,B){if(B=="in"){return P()}}function i(A,B){if(A=="variable"||A=="type"){m(B);return P(i)}if(B=="new"){return P(i)}if(A=="("){return P(k(")"),v,X(q,")"),O,x,G,s)}}function x(A){if(A==":"){return P(ag)}}function ag(A){if(A=="type"){return P()}if(A=="variable"){return P()}if(A=="{"){return P(k("}"),X(af,"}"),O)}}function af(A){if(A=="variable"){return P(x)}}function q(A,B){if(A=="variable"){m(B);return P(x)}}return{startState:function(B){var A=["Int","Float","String","Void","Std","Bool","Dynamic","Array"];return{tokenize:H,reAllowed:true,kwAllowed:true,cc:[],lexical:new ai((B||0)-D,0,"block",false),localVars:V.localVars,importedtypes:A,context:V.localVars&&{vars:V.localVars},indented:0}},token:function(C,B){if(C.sol()){if(!B.lexical.hasOwnProperty("align")){B.lexical.align=false}B.indented=C.indentation()}if(C.eatSpace()){return null}var A=B.tokenize(C,B);if(ak=="comment"){return A}B.reAllowed=!!(ak=="operator"||ak=="keyword c"||ak.match(/^[\[{}\(,;:]$/));B.kwAllowed=ak!=".";return y(B,A,ak,p,C)},indent:function(an,A){if(an.tokenize!=H){return 0}var am=A&&A.charAt(0),C=an.lexical;if(C.type=="stat"&&am=="}"){C=C.prev}var al=C.type,B=am==al;if(al=="vardef"){return C.indented+4}else{if(al=="form"&&am=="{"){return C.indented}else{if(al=="stat"||al=="form"){return C.indented+D}else{if(C.info=="switch"&&!B){return C.indented+(/^(?:case|default)\b/.test(A)?D:2*D)}else{if(C.align){return C.column+(B?0:1)}else{return C.indented+(B?0:D)}}}}}},electricChars:"{}",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//"}});a.defineMIME("text/x-haxe","haxe");a.defineMode("hxml",function(){return{startState:function(){return{define:false,inString:false}},token:function(f,e){var d=f.peek();var c=f.sol();if(d=="#"){f.skipToEnd();return"comment"}if(c&&d=="-"){var b="variable-2";f.eat(/-/);if(f.peek()=="-"){f.eat(/-/);b="keyword a"}if(f.peek()=="D"){f.eat(/[D]/);b="keyword c";e.define=true}f.eatWhile(/[A-Z]/i);return b}var d=f.peek();if(e.inString==false&&d=="'"){e.inString=true;d=f.next()}if(e.inString==true){if(f.skipTo("'")){}else{f.skipToEnd()}if(f.peek()=="'"){f.next();e.inString=false}return"string"}f.next();return null},lineComment:"#"}});a.defineMIME("text/x-hxml","hxml")});