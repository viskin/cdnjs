(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(a){a.defineOption("selectionPointer",false,function(g,i){var h=g.state.selectionPointer;if(h){a.off(g.getWrapperElement(),"mousemove",h.mousemove);a.off(g.getWrapperElement(),"mouseout",h.mouseout);a.off(window,"scroll",h.windowScroll);g.off("cursorActivity",d);g.off("scroll",d);g.state.selectionPointer=null;g.display.lineDiv.style.cursor=""}if(i){h=g.state.selectionPointer={value:typeof i=="string"?i:"default",mousemove:function(j){c(g,j)},mouseout:function(j){e(g,j)},windowScroll:function(){d(g)},rects:null,mouseX:null,mouseY:null,willUpdate:false};a.on(g.getWrapperElement(),"mousemove",h.mousemove);a.on(g.getWrapperElement(),"mouseout",h.mouseout);a.on(window,"scroll",h.windowScroll);g.on("cursorActivity",d);g.on("scroll",d)}});function c(g,h){var i=g.state.selectionPointer;if(h.buttons==null?h.which:h.buttons){i.mouseX=i.mouseY=null}else{i.mouseX=h.clientX;i.mouseY=h.clientY}b(g)}function e(g,h){if(!g.getWrapperElement().contains(h.relatedTarget)){var i=g.state.selectionPointer;i.mouseX=i.mouseY=null;b(g)}}function d(g){g.state.selectionPointer.rects=null;b(g)}function b(g){if(!g.state.selectionPointer.willUpdate){g.state.selectionPointer.willUpdate=true;setTimeout(function(){f(g);g.state.selectionPointer.willUpdate=false},50)}}function f(h){var m=h.state.selectionPointer;if(!m){return}if(m.rects==null&&m.mouseX!=null){m.rects=[];if(h.somethingSelected()){for(var l=h.display.selectionDiv.firstChild;l;l=l.nextSibling){m.rects.push(l.getBoundingClientRect())}}}var g=false;if(m.mouseX!=null){for(var j=0;j<m.rects.length;j++){var k=m.rects[j];if(k.left<=m.mouseX&&k.right>=m.mouseX&&k.top<=m.mouseY&&k.bottom>=m.mouseY){g=true}}}var n=g?m.value:"";if(h.display.lineDiv.style.cursor!=n){h.display.lineDiv.style.cursor=n}}});