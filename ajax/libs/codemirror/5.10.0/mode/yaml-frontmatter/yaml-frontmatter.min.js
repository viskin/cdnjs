(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"),require("../yaml/yaml"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror","../yaml/yaml"],a)}else{a(CodeMirror)}}})(function(a){var d=0,b=1,c=2;a.defineMode("yaml-frontmatter",function(e,g){var f=a.getMode(e,"yaml");var h=a.getMode(e,g&&g.base||"gfm");function i(j){return j.state==c?h:f}return{startState:function(){return{state:d,inner:a.startState(f)}},copyState:function(j){return{state:j.state,inner:a.copyState(i(j),j.inner)}},token:function(m,l){if(l.state==d){if(m.match(/---/,false)){l.state=b;return f.token(m,l.inner)}else{m.state=c;l.inner=a.startState(h);return h.token(m,l.inner)}}else{if(l.state==b){var j=m.sol()&&m.match(/---/,false);var k=f.token(m,l.inner);if(j){l.state=c;l.inner=a.startState(h)}return k}else{return h.token(m,l.inner)}}},innerMode:function(j){return{mode:i(j),state:j.inner}},blankLine:function(j){var k=i(j);if(k.blankLine){return k.blankLine(j.inner)}}}})});