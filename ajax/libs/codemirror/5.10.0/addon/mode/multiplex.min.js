(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(a){a.multiplexingMode=function(b){var d=Array.prototype.slice.call(arguments,1);function c(f,h,j,i){if(typeof h=="string"){var g=f.indexOf(h,j);return i&&g>-1?g+h.length:g}var e=h.exec(j?f.slice(j):f);return e?e.index+j+(i?e[0].length:0):-1}return{startState:function(){return{outer:a.startState(b),innerActive:null,inner:null}},copyState:function(e){return{outer:a.copyState(b,e.outer),innerActive:e.innerActive,inner:e.innerActive&&a.copyState(e.innerActive.mode,e.inner)}},token:function(n,e){if(!e.innerActive){var g=Infinity,l=n.string;for(var h=0;h<d.length;++h){var k=d[h];var o=c(l,k.open,n.pos);if(o==n.pos){if(!k.parseDelimiters){n.match(k.open)}e.innerActive=k;e.inner=a.startState(k.mode,b.indent?b.indent(e.outer,""):0);return k.delimStyle&&(k.delimStyle+" "+k.delimStyle+"-open")}else{if(o!=-1&&o<g){g=o}}}if(g!=Infinity){n.string=l.slice(0,g)}var f=b.token(n,e.outer);if(g!=Infinity){n.string=l}return f}else{var j=e.innerActive,l=n.string;if(!j.close&&n.sol()){e.innerActive=e.inner=null;return this.token(n,e)}var o=j.close?c(l,j.close,n.pos,j.parseDelimiters):-1;if(o==n.pos&&!j.parseDelimiters){n.match(j.close);e.innerActive=e.inner=null;return j.delimStyle&&(j.delimStyle+" "+j.delimStyle+"-close")}if(o>-1){n.string=l.slice(0,o)}var m=j.mode.token(n,e.inner);if(o>-1){n.string=l}if(o==n.pos&&j.parseDelimiters){e.innerActive=e.inner=null}if(j.innerStyle){if(m){m=m+" "+j.innerStyle}else{m=j.innerStyle}}return m}},indent:function(f,e){var g=f.innerActive?f.innerActive.mode:b;if(!g.indent){return a.Pass}return g.indent(f.innerActive?f.inner:f.outer,e)},blankLine:function(g){var h=g.innerActive?g.innerActive.mode:b;if(h.blankLine){h.blankLine(g.innerActive?g.inner:g.outer)}if(!g.innerActive){for(var f=0;f<d.length;++f){var e=d[f];if(e.open==="\n"){g.innerActive=e;g.inner=a.startState(e.mode,h.indent?h.indent(g.outer,""):0)}}}else{if(g.innerActive.close==="\n"){g.innerActive=g.inner=null}}},electricChars:b.electricChars,innerMode:function(e){return e.inner?{state:e.inner,mode:e.innerActive.mode}:{state:e.outer,mode:b}}}}});