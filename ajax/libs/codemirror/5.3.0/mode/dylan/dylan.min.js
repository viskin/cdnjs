!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("dylan",function(){function e(e,n,t){return n.tokenize=t,t(e,n)}function n(n,r){var o=n.peek();if("'"==o||'"'==o)return n.next(),e(n,r,i(o,"string"));if("/"==o)return n.next(),n.eat("*")?e(n,r,t):n.eat("/")?(n.skipToEnd(),"comment"):(n.skipTo(" "),"operator");if(/\d/.test(o))return n.match(/^\d*(?:\.\d*)?(?:e[+\-]?\d+)?/),"number";if("#"==o)return n.next(),o=n.peek(),'"'==o?(n.next(),e(n,r,i('"',"string-2"))):"b"==o?(n.next(),n.eatWhile(/[01]/),"number"):"x"==o?(n.next(),n.eatWhile(/[\da-f]/i),"number"):"o"==o?(n.next(),n.eatWhile(/[0-7]/),"number"):(n.eatWhile(/[-a-zA-Z]/),"keyword");if(n.match("end"))return"keyword";for(var c in l)if(l.hasOwnProperty(c)){var s=l[c];if(s instanceof Array&&s.some(function(e){return n.match(e)})||n.match(s))return f[c]}return n.match("define")?"def":(n.eatWhile(/[\w\-]/),d[n.current()]?m[n.current()]:n.current().match(a)?"variable":(n.next(),"variable-2"))}function t(e,t){for(var i,r=!1;i=e.next();){if("/"==i&&r){t.tokenize=n;break}r="*"==i}return"comment"}function i(e,t){return function(i,r){for(var o,a=!1;null!=(o=i.next());)if(o==e){a=!0;break}return a&&(r.tokenize=n),t}}var r={unnamedDefinition:["interface"],namedDefinition:["module","library","macro","C-struct","C-union","C-function","C-callable-wrapper"],typeParameterizedDefinition:["class","C-subtype","C-mapped-subtype"],otherParameterizedDefinition:["method","function","C-variable","C-address"],constantSimpleDefinition:["constant"],variableSimpleDefinition:["variable"],otherSimpleDefinition:["generic","domain","C-pointer-type","table"],statement:["if","block","begin","method","case","for","select","when","unless","until","while","iterate","profiling","dynamic-bind"],separator:["finally","exception","cleanup","else","elseif","afterwards"],other:["above","below","by","from","handler","in","instance","let","local","otherwise","slot","subclass","then","to","keyed-by","virtual"],signalingCalls:["signal","error","cerror","break","check-type","abort"]};r.otherDefinition=r.unnamedDefinition.concat(r.namedDefinition).concat(r.otherParameterizedDefinition),r.definition=r.typeParameterizedDefinition.concat(r.otherDefinition),r.parameterizedDefinition=r.typeParameterizedDefinition.concat(r.otherParameterizedDefinition),r.simpleDefinition=r.constantSimpleDefinition.concat(r.variableSimpleDefinition).concat(r.otherSimpleDefinition),r.keyword=r.statement.concat(r.separator).concat(r.other);var o="[-_a-zA-Z?!*@<>$%]+",a=new RegExp("^"+o),l={symbolKeyword:o+":",symbolClass:"<"+o+">",symbolGlobal:"\\*"+o+"\\*",symbolConstant:"\\$"+o},f={symbolKeyword:"atom",symbolClass:"tag",symbolGlobal:"variable-2",symbolConstant:"variable-3"};for(var c in l)l.hasOwnProperty(c)&&(l[c]=new RegExp("^"+l[c]));l.keyword=[/^with(?:out)?-[-_a-zA-Z?!*@<>$%]+/];var s={};s.keyword="keyword",s.definition="def",s.simpleDefinition="def",s.signalingCalls="builtin";var d={},m={};return["keyword","definition","simpleDefinition","signalingCalls"].forEach(function(e){r[e].forEach(function(n){d[n]=e,m[n]=s[e]})}),{startState:function(){return{tokenize:n,currentIndent:0}},token:function(e,n){if(e.eatSpace())return null;var t=n.tokenize(e,n);return t},blockCommentStart:"/*",blockCommentEnd:"*/"}}),e.defineMIME("text/x-dylan","dylan")});