!function(){"use strict";function t(e){this.map={};var n=this;e instanceof t?e.forEach(function(t,e){e.forEach(function(e){n.append(t,e)})}):e&&Object.getOwnPropertyNames(e).forEach(function(t){n.append(t,e[t])})}function e(){return this.body=null,this.bodyUsed=!1,this.arrayBuffer=function(){throw"Not implemented yet"},this.blob=function(){return Promise.resolve(new Blob([this.body]))},this.formData=function(){throw"Not implemented yet"},this.json=function(){var t=this.body;return new Promise(function(e,n){try{e(JSON.parse(t))}catch(o){n(o)}})},this.text=function(){return Promise.resolve(this.body)},this}function n(e,n){n=n||{},this.url=e,this.body=n.body,this.credentials=n.credentials||null,this.headers=new t(n.headers),this.method=n.method||"GET",this.mode=n.mode||null,this.referrer=null}function o(t){return Object.getOwnPropertyNames(t).filter(function(e){return void 0!==t[e]}).map(function(e){var n=null===t[e]?"":t[e];return encodeURIComponent(e)+"="+encodeURIComponent(n)}).join("&").replace(/%20/g,"+")}function r(t){try{return Object.getPrototypeOf(t)===Object.prototype}catch(e){return!1}}function i(e){var n=new t,o=e.getAllResponseHeaders().trim().split("\n");return o.forEach(function(t){var e=t.trim().split(":"),o=e.shift().trim(),r=e.join(":").trim();n.append(o,r)}),n}function s(t,e){this.body=t,this.type="default",this.url=null,this.status=e.status,this.statusText=e.statusText,this.headers=e.headers}window.fetch||(t.prototype.append=function(t,e){var n=this.map[t];n||(n=[],this.map[t]=n),n.push(e)},t.prototype.delete=function(t){delete this.map[t]},t.prototype.get=function(t){var e=this.map[t];return e?e[0]:null},t.prototype.getAll=function(t){return this.map[t]||[]},t.prototype.has=function(t){return this.map.hasOwnProperty(t)},t.prototype.set=function(t,e){this.map[t]=[e]},t.prototype.forEach=function(t){var e=this;Object.getOwnPropertyNames(this.map).forEach(function(n){t(n,e.map[n])})},n.prototype.fetch=function(){var t=this;return new Promise(function(e,n){var u=new XMLHttpRequest;u.onload=function(){var t={status:u.status,statusText:u.statusText,headers:i(u)};e(new s(u.responseText,t))},u.onerror=function(){n()},u.open(t.method,t.url),t.headers.forEach(function(t,e){e.forEach(function(e){u.setRequestHeader(t,e)})});var a=t.body;r(t.body)&&(u.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),a=o(t.body)),u.send(a)})},e.call(n.prototype),e.call(s.prototype),window.fetch=function(t,e){return new n(t,e).fetch()})}();