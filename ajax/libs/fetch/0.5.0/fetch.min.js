(function(){if(self.fetch){return}function i(k){this.map={};var j=this;if(k instanceof i){k.forEach(function(m,l){l.forEach(function(n){j.append(m,n)})})}else{if(k){Object.getOwnPropertyNames(k).forEach(function(l){j.append(l,k[l])})}}}i.prototype.append=function(j,l){j=j.toLowerCase();var k=this.map[j];if(!k){k=[];this.map[j]=k}k.push(l)};i.prototype["delete"]=function(j){delete this.map[j.toLowerCase()]};i.prototype.get=function(k){var j=this.map[k.toLowerCase()];return j?j[0]:null};i.prototype.getAll=function(j){return this.map[j.toLowerCase()]||[]};i.prototype.has=function(j){return this.map.hasOwnProperty(j.toLowerCase())};i.prototype.set=function(j,k){this.map[j.toLowerCase()]=[k]};i.prototype.forEach=function(k){var j=this;Object.getOwnPropertyNames(this.map).forEach(function(l){k(l,j.map[l])})};function g(j){if(j.bodyUsed){return Promise.reject(new TypeError("Already read"))}j.bodyUsed=true}function h(){this._body=null;this.bodyUsed=false;this.arrayBuffer=function(){throw new Error("Not implemented yet")};var j=(function(){try{new Blob();return true}catch(k){return false}})();if(j){this.blob=function(){var k=g(this);return k?k:Promise.resolve(new Blob([this._body]))}}if(self.FormData){this.formData=function(){var k=g(this);return k?k:Promise.resolve(a(this._body))}}this.json=function(){var l=g(this);if(l){return l}var k=this._body;return new Promise(function(o,n){try{o(JSON.parse(k))}catch(m){n(m)}})};this.text=function(){var k=g(this);return k?k:Promise.resolve(this._body)};return this}var e=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function f(k){var j=k.toUpperCase();return(e.indexOf(j)>-1)?j:k}function c(k,j){j=j||{};this.url=k;this._body=j.body;this.credentials=j.credentials||"omit";this.headers=new i(j.headers);this.method=f(j.method||"GET");this.mode=j.mode||null;this.referrer=null}function a(j){var k=new FormData();j.trim().split("&").forEach(function(l){if(l){var n=l.split("=");var m=n.shift().replace(/\+/g," ");var o=n.join("=").replace(/\+/g," ");k.append(decodeURIComponent(m),decodeURIComponent(o))}});return k}function d(l){var j=new i();var k=l.getAllResponseHeaders().trim().split("\n");k.forEach(function(p){var n=p.trim().split(":");var m=n.shift().trim();var o=n.join(":").trim();j.append(m,o)});return j}c.prototype.fetch=function(){var j=this;return new Promise(function(l,k){var m=new XMLHttpRequest();m.onload=function(){var n=(m.status===1223)?204:m.status;if(n<100||n>599){k(new TypeError("Network request failed"));return}var o={status:n,statusText:m.statusText,headers:d(m),url:m.responseURL||m.getResponseHeader("X-Request-URL")};l(new b(m.responseText,o))};m.onerror=function(){k(new TypeError("Network request failed"))};m.open(j.method,j.url);j.headers.forEach(function(o,n){n.forEach(function(p){m.setRequestHeader(o,p)})});m.send((j._body===undefined)?null:j._body)})};h.call(c.prototype);function b(j,k){this._body=j;this.type="default";this.url=null;this.status=k.status;this.statusText=k.statusText;this.headers=k.headers;this.url=k.url||""}h.call(b.prototype);self.Headers=i;self.Request=c;self.Response=b;self.fetch=function(k,j){return new c(k,j).fetch()};self.fetch.polyfill=true})();