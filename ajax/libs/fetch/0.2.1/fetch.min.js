!function(){"use strict";function t(e){this.map={};var n=this;e instanceof t?e.forEach(function(t,e){e.forEach(function(e){n.append(t,e)})}):e&&Object.getOwnPropertyNames(e).forEach(function(t){n.append(t,e[t])})}function e(t){return t.bodyUsed?Promise.reject(new TypeError("Body already consumed")):void(t.bodyUsed=!0)}function n(){return this.body=null,this.bodyUsed=!1,this.arrayBuffer=function(){throw new Error("Not implemented yet")},this.blob=function(){var t=e(this);return t?t:Promise.resolve(new Blob([this.body]))},this.formData=function(){return Promise.resolve(i(this.body))},this.json=function(){var t=e(this);if(t)return t;var n=this.body;return new Promise(function(t,e){try{t(JSON.parse(n))}catch(o){e(o)}})},this.text=function(){var t=e(this);return t?t:Promise.resolve(this.body)},this}function o(e,n){n=n||{},this.url=e,this.body=n.body,this.credentials=n.credentials||null,this.headers=new t(n.headers),this.method=n.method||"GET",this.mode=n.mode||null,this.referrer=null}function r(t){return Object.getOwnPropertyNames(t).filter(function(e){return void 0!==t[e]}).map(function(e){var n=null===t[e]?"":t[e];return encodeURIComponent(e)+"="+encodeURIComponent(n)}).join("&").replace(/%20/g,"+")}function i(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),o=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(o),decodeURIComponent(r))}}),e}function s(t){try{return Object.getPrototypeOf(t)===Object.prototype}catch(e){return!1}}function a(e){var n=new t,o=e.getAllResponseHeaders().trim().split("\n");return o.forEach(function(t){var e=t.trim().split(":"),o=e.shift().trim(),r=e.join(":").trim();n.append(o,r)}),n}function u(t,e){this.body=t,this.type="default",this.url=null,this.status=e.status,this.statusText=e.statusText,this.headers=e.headers}window.fetch||(t.prototype.append=function(t,e){var n=this.map[t];n||(n=[],this.map[t]=n),n.push(e)},t.prototype.delete=function(t){delete this.map[t]},t.prototype.get=function(t){var e=this.map[t];return e?e[0]:null},t.prototype.getAll=function(t){return this.map[t]||[]},t.prototype.has=function(t){return this.map.hasOwnProperty(t)},t.prototype.set=function(t,e){this.map[t]=[e]},t.prototype.forEach=function(t){var e=this;Object.getOwnPropertyNames(this.map).forEach(function(n){t(n,e.map[n])})},o.prototype.fetch=function(){var t=this;return new Promise(function(e,n){var o=new XMLHttpRequest;o.onload=function(){var t={status:o.status,statusText:o.statusText,headers:a(o)};e(new u(o.responseText,t))},o.onerror=function(){n()},o.open(t.method,t.url),t.headers.forEach(function(t,e){e.forEach(function(e){o.setRequestHeader(t,e)})});var i=t.body;s(t.body)&&(o.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),i=r(t.body)),o.send(i)})},n.call(o.prototype),n.call(u.prototype),window.fetch=function(t,e){return new o(t,e).fetch()})}();