(function(a,d){if(typeof d==="undefined"){throw new Error("jQuery is not loaded.")}var c={};c.flattenObject=function(h){var f={};for(var g in h){if(!h.hasOwnProperty(g)){continue}if(typeof h[g]==="object"&&h[g].constructor===Object){var i=c.flattenObject(h[g]);for(var e in i){if(!i.hasOwnProperty(e)){continue}f[g+"."+e]=i[e]}}else{f[g]=h[g]}}return f};c.unflattenObject=function(e){var o={};var g=o;var n=Object.keys(e);for(var h=0;h<n.length;++h){var l=n[h];var j=l.split(".");var k=j.pop();for(var m=0;m<j.length;++m){var f=j[m];g[f]=typeof g[f]==="undefined"?{}:g[f];g=g[f]}g[k]=e[l];g=o}return o};var b={string:function(e){return String(e)},number:function(e){return Number(e)},"boolean":function(e){return(e===true||e==="true"||e==="on"||typeof e=="number"&&e>0||e==="1")},json:function(e){if(!e){return null}return JSON.parse(e)}};d.fn.serializer=function(){var g=this;if(g.length>1){g.each(function(){d(this).serializer()});return g}var e={serialize:function(j){var h=d(this);var i={};h.find("[data-field]").each(function(){var k=d(this);var m=k.attr("data-value")||"val";var q=k.attr("data-params");var p=k.attr("data-field");var o=k.attr("data-convert-to");var l=k.attr("data-delete-if");var r=q?[q]:[];var n=k[m].apply(k,r);if(o&&b[o]){n=b[o](n);l=b[o](l)}if(n===l){return}i[p]=n});i=c.unflattenObject(i);g.trigger("serializer:data",[i])},fill:function(j,i){var k=c.flattenObject(i);var h=Object.keys(k);h.forEach(function(p){var n=d("[data-field='"+p+"']",j.target);var l=n.attr("data-params");var o=n.attr("data-value");var m=l?[l]:[];m.push(k[p]);o=o||"val";n[o].apply(n,m)});return}};g.on("serializer:submit",function(){e.serialize.apply(this,arguments)});g.on("serializer:fill",function(){e.fill.apply(this,arguments)});function f(h){d(this).trigger("serializer:submit",h);h.preventDefault();return false}g.on("submit","form",f);g.on("submit",f);return g};d.fn.serializer.version="1.0.0"})(this,this.$||this.jQuery);