angular.module("ng-currency",[]).directive("ngCurrency",["$filter","$locale",function(b,a){return{require:"ngModel",scope:{min:"=min",max:"=max",ngRequired:"=ngRequired"},link:function(h,f,e,j){function d(k){return RegExp("\\d|\\-|\\"+k,"g")}function i(k){return RegExp("\\-{0,1}((\\"+k+")|([0-9]{1,}\\"+k+"?))&?[0-9]{0,2}","g")}function c(m){m=String(m);var l=a.NUMBER_FORMATS.DECIMAL_SEP;var k=null;if(RegExp("^-[\\s]*$","g").test(m)){m="-0"}if(d(l).test(m)){k=m.match(d(l)).join("").match(i(l));k=k?k[0].replace(l,"."):null}else{cleaned=null}return k}j.$parsers.push(function(k){cVal=c(k);return parseFloat(cVal)});f.on("blur",function(){f.val(b("currency")(j.$modelValue))});j.$formatters.unshift(function(k){return b("currency")(k)});h.$watch(function(){return j.$modelValue},function(l,k){g(l)});function g(m){if(!h.ngRequired&&isNaN(m)){return}if(h.min){var l=parseFloat(h.min);j.$setValidity("min",m>=l)}if(h.max){var k=parseFloat(h.max);j.$setValidity("max",m<=k)}}}}}]);